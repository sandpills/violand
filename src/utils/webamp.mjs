var commonjsGlobal = "undefined" != typeof globalThis ? globalThis : "undefined" != typeof window ? window : "undefined" != typeof global ? global : "undefined" != typeof self ? self : {}; function getDefaultExportFromCjs(e) { return e && e.__esModule && Object.prototype.hasOwnProperty.call(e, "default") ? e.default : e } function getAugmentedNamespace(e) { if (e.__esModule) return e; var t = e.default; if ("function" == typeof t) { var n = function e() { return this instanceof e ? Reflect.construct(t, arguments, this.constructor) : t.apply(this, arguments) }; n.prototype = t.prototype } else n = {}; return Object.defineProperty(n, "__esModule", { value: !0 }), Object.keys(e).forEach(function (t) { var a = Object.getOwnPropertyDescriptor(e, t); Object.defineProperty(n, t, a.get ? a : { enumerable: !0, get: function () { return e[t] } }) }), n } function commonjsRequire(e) { throw new Error('Could not dynamically require "' + e + '". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.') } var jszip_min = { exports: {} }; jszip_min.exports = function e(t, n, a) { function r(i, o) { if (!n[i]) { if (!t[i]) { var l = "function" == typeof commonjsRequire && commonjsRequire; if (!o && l) return l(i, !0); if (s) return s(i, !0); var m = new Error("Cannot find module '" + i + "'"); throw m.code = "MODULE_NOT_FOUND", m } var c = n[i] = { exports: {} }; t[i][0].call(c.exports, function (e) { return r(t[i][1][e] || e) }, c, c.exports, e, t, n, a) } return n[i].exports } for (var s = "function" == typeof commonjsRequire && commonjsRequire, i = 0; i < a.length; i++)r(a[i]); return r }({ 1: [function (e, t, n) { var a = e("./utils"), r = e("./support"), s = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="; n.encode = function (e) { for (var t, n, r, i, o, l, m, c = [], u = 0, A = e.length, p = A, d = "string" !== a.getTypeOf(e); u < e.length;)p = A - u, r = d ? (t = e[u++], n = u < A ? e[u++] : 0, u < A ? e[u++] : 0) : (t = e.charCodeAt(u++), n = u < A ? e.charCodeAt(u++) : 0, u < A ? e.charCodeAt(u++) : 0), i = t >> 2, o = (3 & t) << 4 | n >> 4, l = 1 < p ? (15 & n) << 2 | r >> 6 : 64, m = 2 < p ? 63 & r : 64, c.push(s.charAt(i) + s.charAt(o) + s.charAt(l) + s.charAt(m)); return c.join("") }, n.decode = function (e) { var t, n, a, i, o, l, m = 0, c = 0, u = "data:"; if (e.substr(0, 5) === u) throw new Error("Invalid base64 input, it looks like a data url."); var A, p = 3 * (e = e.replace(/[^A-Za-z0-9+/=]/g, "")).length / 4; if (e.charAt(e.length - 1) === s.charAt(64) && p--, e.charAt(e.length - 2) === s.charAt(64) && p--, p % 1 != 0) throw new Error("Invalid base64 input, bad content length."); for (A = r.uint8array ? new Uint8Array(0 | p) : new Array(0 | p); m < e.length;)t = s.indexOf(e.charAt(m++)) << 2 | (i = s.indexOf(e.charAt(m++))) >> 4, n = (15 & i) << 4 | (o = s.indexOf(e.charAt(m++))) >> 2, a = (3 & o) << 6 | (l = s.indexOf(e.charAt(m++))), A[c++] = t, 64 !== o && (A[c++] = n), 64 !== l && (A[c++] = a); return A } }, { "./support": 30, "./utils": 32 }], 2: [function (e, t, n) { var a = e("./external"), r = e("./stream/DataWorker"), s = e("./stream/Crc32Probe"), i = e("./stream/DataLengthProbe"); function o(e, t, n, a, r) { this.compressedSize = e, this.uncompressedSize = t, this.crc32 = n, this.compression = a, this.compressedContent = r } o.prototype = { getContentWorker: function () { var e = new r(a.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new i("data_length")), t = this; return e.on("end", function () { if (this.streamInfo.data_length !== t.uncompressedSize) throw new Error("Bug : uncompressed data size mismatch") }), e }, getCompressedWorker: function () { return new r(a.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize", this.compressedSize).withStreamInfo("uncompressedSize", this.uncompressedSize).withStreamInfo("crc32", this.crc32).withStreamInfo("compression", this.compression) } }, o.createWorkerFrom = function (e, t, n) { return e.pipe(new s).pipe(new i("uncompressedSize")).pipe(t.compressWorker(n)).pipe(new i("compressedSize")).withStreamInfo("compression", t) }, t.exports = o }, { "./external": 6, "./stream/Crc32Probe": 25, "./stream/DataLengthProbe": 26, "./stream/DataWorker": 27 }], 3: [function (e, t, n) { var a = e("./stream/GenericWorker"); n.STORE = { magic: "\0\0", compressWorker: function () { return new a("STORE compression") }, uncompressWorker: function () { return new a("STORE decompression") } }, n.DEFLATE = e("./flate") }, { "./flate": 7, "./stream/GenericWorker": 28 }], 4: [function (e, t, n) { var a = e("./utils"), r = function () { for (var e, t = [], n = 0; n < 256; n++) { e = n; for (var a = 0; a < 8; a++)e = 1 & e ? 3988292384 ^ e >>> 1 : e >>> 1; t[n] = e } return t }(); t.exports = function (e, t) { return void 0 !== e && e.length ? "string" !== a.getTypeOf(e) ? function (e, t, n) { var a = r, s = 0 + n; e ^= -1; for (var i = 0; i < s; i++)e = e >>> 8 ^ a[255 & (e ^ t[i])]; return -1 ^ e }(0 | t, e, e.length) : function (e, t, n) { var a = r, s = 0 + n; e ^= -1; for (var i = 0; i < s; i++)e = e >>> 8 ^ a[255 & (e ^ t.charCodeAt(i))]; return -1 ^ e }(0 | t, e, e.length) : 0 } }, { "./utils": 32 }], 5: [function (e, t, n) { n.base64 = !1, n.binary = !1, n.dir = !1, n.createFolders = !0, n.date = null, n.compression = null, n.compressionOptions = null, n.comment = null, n.unixPermissions = null, n.dosPermissions = null }, {}], 6: [function (e, t, n) { var a; a = "undefined" != typeof Promise ? Promise : e("lie"), t.exports = { Promise: a } }, { lie: 37 }], 7: [function (e, t, n) { var a = "undefined" != typeof Uint8Array && "undefined" != typeof Uint16Array && "undefined" != typeof Uint32Array, r = e("pako"), s = e("./utils"), i = e("./stream/GenericWorker"), o = a ? "uint8array" : "array"; function l(e, t) { i.call(this, "FlateWorker/" + e), this._pako = null, this._pakoAction = e, this._pakoOptions = t, this.meta = {} } n.magic = "\b\0", s.inherits(l, i), l.prototype.processChunk = function (e) { this.meta = e.meta, null === this._pako && this._createPako(), this._pako.push(s.transformTo(o, e.data), !1) }, l.prototype.flush = function () { i.prototype.flush.call(this), null === this._pako && this._createPako(), this._pako.push([], !0) }, l.prototype.cleanUp = function () { i.prototype.cleanUp.call(this), this._pako = null }, l.prototype._createPako = function () { this._pako = new r[this._pakoAction]({ raw: !0, level: this._pakoOptions.level || -1 }); var e = this; this._pako.onData = function (t) { e.push({ data: t, meta: e.meta }) } }, n.compressWorker = function (e) { return new l("Deflate", e) }, n.uncompressWorker = function () { return new l("Inflate", {}) } }, { "./stream/GenericWorker": 28, "./utils": 32, pako: 38 }], 8: [function (e, t, n) { function a(e, t) { var n, a = ""; for (n = 0; n < t; n++)a += String.fromCharCode(255 & e), e >>>= 8; return a } function r(e, t, n, r, i, c) { var u, A, p = e.file, d = e.compression, _ = c !== o.utf8encode, v = s.transformTo("string", c(p.name)), h = s.transformTo("string", o.utf8encode(p.name)), g = p.comment, f = s.transformTo("string", c(g)), b = s.transformTo("string", o.utf8encode(g)), x = h.length !== p.name.length, y = b.length !== g.length, w = "", E = "", S = "", z = p.dir, q = p.date, k = { crc32: 0, compressedSize: 0, uncompressedSize: 0 }; t && !n || (k.crc32 = e.crc32, k.compressedSize = e.compressedSize, k.uncompressedSize = e.uncompressedSize); var T = 0; t && (T |= 8), _ || !x && !y || (T |= 2048); var I = 0, C = 0; z && (I |= 16), "UNIX" === i ? (C = 798, I |= function (e, t) { var n = e; return e || (n = t ? 16893 : 33204), (65535 & n) << 16 }(p.unixPermissions, z)) : (C = 20, I |= function (e) { return 63 & (e || 0) }(p.dosPermissions)), u = q.getUTCHours(), u <<= 6, u |= q.getUTCMinutes(), u <<= 5, u |= q.getUTCSeconds() / 2, A = q.getUTCFullYear() - 1980, A <<= 4, A |= q.getUTCMonth() + 1, A <<= 5, A |= q.getUTCDate(), x && (E = a(1, 1) + a(l(v), 4) + h, w += "up" + a(E.length, 2) + E), y && (S = a(1, 1) + a(l(f), 4) + b, w += "uc" + a(S.length, 2) + S); var R = ""; return R += "\n\0", R += a(T, 2), R += d.magic, R += a(u, 2), R += a(A, 2), R += a(k.crc32, 4), R += a(k.compressedSize, 4), R += a(k.uncompressedSize, 4), R += a(v.length, 2), R += a(w.length, 2), { fileRecord: m.LOCAL_FILE_HEADER + R + v + w, dirRecord: m.CENTRAL_FILE_HEADER + a(C, 2) + R + a(f.length, 2) + "\0\0\0\0" + a(I, 4) + a(r, 4) + v + w + f } } var s = e("../utils"), i = e("../stream/GenericWorker"), o = e("../utf8"), l = e("../crc32"), m = e("../signature"); function c(e, t, n, a) { i.call(this, "ZipFileWorker"), this.bytesWritten = 0, this.zipComment = t, this.zipPlatform = n, this.encodeFileName = a, this.streamFiles = e, this.accumulate = !1, this.contentBuffer = [], this.dirRecords = [], this.currentSourceOffset = 0, this.entriesCount = 0, this.currentFile = null, this._sources = [] } s.inherits(c, i), c.prototype.push = function (e) { var t = e.meta.percent || 0, n = this.entriesCount, a = this._sources.length; this.accumulate ? this.contentBuffer.push(e) : (this.bytesWritten += e.data.length, i.prototype.push.call(this, { data: e.data, meta: { currentFile: this.currentFile, percent: n ? (t + 100 * (n - a - 1)) / n : 100 } })) }, c.prototype.openedSource = function (e) { this.currentSourceOffset = this.bytesWritten, this.currentFile = e.file.name; var t = this.streamFiles && !e.file.dir; if (t) { var n = r(e, t, !1, this.currentSourceOffset, this.zipPlatform, this.encodeFileName); this.push({ data: n.fileRecord, meta: { percent: 0 } }) } else this.accumulate = !0 }, c.prototype.closedSource = function (e) { this.accumulate = !1; var t = this.streamFiles && !e.file.dir, n = r(e, t, !0, this.currentSourceOffset, this.zipPlatform, this.encodeFileName); if (this.dirRecords.push(n.dirRecord), t) this.push({ data: function (e) { return m.DATA_DESCRIPTOR + a(e.crc32, 4) + a(e.compressedSize, 4) + a(e.uncompressedSize, 4) }(e), meta: { percent: 100 } }); else for (this.push({ data: n.fileRecord, meta: { percent: 0 } }); this.contentBuffer.length;)this.push(this.contentBuffer.shift()); this.currentFile = null }, c.prototype.flush = function () { for (var e = this.bytesWritten, t = 0; t < this.dirRecords.length; t++)this.push({ data: this.dirRecords[t], meta: { percent: 100 } }); var n = this.bytesWritten - e, r = function (e, t, n, r, i) { var o = s.transformTo("string", i(r)); return m.CENTRAL_DIRECTORY_END + "\0\0\0\0" + a(e, 2) + a(e, 2) + a(t, 4) + a(n, 4) + a(o.length, 2) + o }(this.dirRecords.length, n, e, this.zipComment, this.encodeFileName); this.push({ data: r, meta: { percent: 100 } }) }, c.prototype.prepareNextSource = function () { this.previous = this._sources.shift(), this.openedSource(this.previous.streamInfo), this.isPaused ? this.previous.pause() : this.previous.resume() }, c.prototype.registerPrevious = function (e) { this._sources.push(e); var t = this; return e.on("data", function (e) { t.processChunk(e) }), e.on("end", function () { t.closedSource(t.previous.streamInfo), t._sources.length ? t.prepareNextSource() : t.end() }), e.on("error", function (e) { t.error(e) }), this }, c.prototype.resume = function () { return !!i.prototype.resume.call(this) && (!this.previous && this._sources.length ? (this.prepareNextSource(), !0) : this.previous || this._sources.length || this.generatedError ? void 0 : (this.end(), !0)) }, c.prototype.error = function (e) { var t = this._sources; if (!i.prototype.error.call(this, e)) return !1; for (var n = 0; n < t.length; n++)try { t[n].error(e) } catch (e) { } return !0 }, c.prototype.lock = function () { i.prototype.lock.call(this); for (var e = this._sources, t = 0; t < e.length; t++)e[t].lock() }, t.exports = c }, { "../crc32": 4, "../signature": 23, "../stream/GenericWorker": 28, "../utf8": 31, "../utils": 32 }], 9: [function (e, t, n) { var a = e("../compressions"), r = e("./ZipFileWorker"); n.generateWorker = function (e, t, n) { var s = new r(t.streamFiles, n, t.platform, t.encodeFileName), i = 0; try { e.forEach(function (e, n) { i++; var r = function (e, t) { var n = e || t, r = a[n]; if (!r) throw new Error(n + " is not a valid compression method !"); return r }(n.options.compression, t.compression), o = n.options.compressionOptions || t.compressionOptions || {}, l = n.dir, m = n.date; n._compressWorker(r, o).withStreamInfo("file", { name: e, dir: l, date: m, comment: n.comment || "", unixPermissions: n.unixPermissions, dosPermissions: n.dosPermissions }).pipe(s) }), s.entriesCount = i } catch (e) { s.error(e) } return s } }, { "../compressions": 3, "./ZipFileWorker": 8 }], 10: [function (e, t, n) { function a() { if (!(this instanceof a)) return new a; if (arguments.length) throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide."); this.files = Object.create(null), this.comment = null, this.root = "", this.clone = function () { var e = new a; for (var t in this) "function" != typeof this[t] && (e[t] = this[t]); return e } } (a.prototype = e("./object")).loadAsync = e("./load"), a.support = e("./support"), a.defaults = e("./defaults"), a.version = "3.10.1", a.loadAsync = function (e, t) { return (new a).loadAsync(e, t) }, a.external = e("./external"), t.exports = a }, { "./defaults": 5, "./external": 6, "./load": 11, "./object": 15, "./support": 30 }], 11: [function (e, t, n) { var a = e("./utils"), r = e("./external"), s = e("./utf8"), i = e("./zipEntries"), o = e("./stream/Crc32Probe"), l = e("./nodejsUtils"); function m(e) { return new r.Promise(function (t, n) { var a = e.decompressed.getContentWorker().pipe(new o); a.on("error", function (e) { n(e) }).on("end", function () { a.streamInfo.crc32 !== e.decompressed.crc32 ? n(new Error("Corrupted zip : CRC32 mismatch")) : t() }).resume() }) } t.exports = function (e, t) { var n = this; return t = a.extend(t || {}, { base64: !1, checkCRC32: !1, optimizedBinaryString: !1, createFolders: !1, decodeFileName: s.utf8decode }), l.isNode && l.isStream(e) ? r.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")) : a.prepareContent("the loaded zip file", e, !0, t.optimizedBinaryString, t.base64).then(function (e) { var n = new i(t); return n.load(e), n }).then(function (e) { var n = [r.Promise.resolve(e)], a = e.files; if (t.checkCRC32) for (var s = 0; s < a.length; s++)n.push(m(a[s])); return r.Promise.all(n) }).then(function (e) { for (var r = e.shift(), s = r.files, i = 0; i < s.length; i++) { var o = s[i], l = o.fileNameStr, m = a.resolve(o.fileNameStr); n.file(m, o.decompressed, { binary: !0, optimizedBinaryString: !0, date: o.date, dir: o.dir, comment: o.fileCommentStr.length ? o.fileCommentStr : null, unixPermissions: o.unixPermissions, dosPermissions: o.dosPermissions, createFolders: t.createFolders }), o.dir || (n.file(m).unsafeOriginalName = l) } return r.zipComment.length && (n.comment = r.zipComment), n }) } }, { "./external": 6, "./nodejsUtils": 14, "./stream/Crc32Probe": 25, "./utf8": 31, "./utils": 32, "./zipEntries": 33 }], 12: [function (e, t, n) { var a = e("../utils"), r = e("../stream/GenericWorker"); function s(e, t) { r.call(this, "Nodejs stream input adapter for " + e), this._upstreamEnded = !1, this._bindStream(t) } a.inherits(s, r), s.prototype._bindStream = function (e) { var t = this; (this._stream = e).pause(), e.on("data", function (e) { t.push({ data: e, meta: { percent: 0 } }) }).on("error", function (e) { t.isPaused ? this.generatedError = e : t.error(e) }).on("end", function () { t.isPaused ? t._upstreamEnded = !0 : t.end() }) }, s.prototype.pause = function () { return !!r.prototype.pause.call(this) && (this._stream.pause(), !0) }, s.prototype.resume = function () { return !!r.prototype.resume.call(this) && (this._upstreamEnded ? this.end() : this._stream.resume(), !0) }, t.exports = s }, { "../stream/GenericWorker": 28, "../utils": 32 }], 13: [function (e, t, n) { var a = e("readable-stream").Readable; function r(e, t, n) { a.call(this, t), this._helper = e; var r = this; e.on("data", function (e, t) { r.push(e) || r._helper.pause(), n && n(t) }).on("error", function (e) { r.emit("error", e) }).on("end", function () { r.push(null) }) } e("../utils").inherits(r, a), r.prototype._read = function () { this._helper.resume() }, t.exports = r }, { "../utils": 32, "readable-stream": 16 }], 14: [function (e, t, n) { t.exports = { isNode: "undefined" != typeof Buffer, newBufferFrom: function (e, t) { if (Buffer.from && Buffer.from !== Uint8Array.from) return Buffer.from(e, t); if ("number" == typeof e) throw new Error('The "data" argument must not be a number'); return new Buffer(e, t) }, allocBuffer: function (e) { if (Buffer.alloc) return Buffer.alloc(e); var t = new Buffer(e); return t.fill(0), t }, isBuffer: function (e) { return Buffer.isBuffer(e) }, isStream: function (e) { return e && "function" == typeof e.on && "function" == typeof e.pause && "function" == typeof e.resume } } }, {}], 15: [function (e, t, n) { function a(e, t, n) { var a, r = s.getTypeOf(t), o = s.extend(n || {}, l); o.date = o.date || new Date, null !== o.compression && (o.compression = o.compression.toUpperCase()), "string" == typeof o.unixPermissions && (o.unixPermissions = parseInt(o.unixPermissions, 8)), o.unixPermissions && 16384 & o.unixPermissions && (o.dir = !0), o.dosPermissions && 16 & o.dosPermissions && (o.dir = !0), o.dir && (e = _(e)), o.createFolders && (a = d(e)) && v.call(this, a, !0); var u = "string" === r && !1 === o.binary && !1 === o.base64; n && void 0 !== n.binary || (o.binary = !u), (t instanceof m && 0 === t.uncompressedSize || o.dir || !t || 0 === t.length) && (o.base64 = !1, o.binary = !0, t = "", o.compression = "STORE", r = "string"); var h; h = t instanceof m || t instanceof i ? t : A.isNode && A.isStream(t) ? new p(e, t) : s.prepareContent(e, t, o.binary, o.optimizedBinaryString, o.base64); var g = new c(e, h, o); this.files[e] = g } var r = e("./utf8"), s = e("./utils"), i = e("./stream/GenericWorker"), o = e("./stream/StreamHelper"), l = e("./defaults"), m = e("./compressedObject"), c = e("./zipObject"), u = e("./generate"), A = e("./nodejsUtils"), p = e("./nodejs/NodejsStreamInputAdapter"), d = function (e) { "/" === e.slice(-1) && (e = e.substring(0, e.length - 1)); var t = e.lastIndexOf("/"); return 0 < t ? e.substring(0, t) : "" }, _ = function (e) { return "/" !== e.slice(-1) && (e += "/"), e }, v = function (e, t) { return t = void 0 !== t ? t : l.createFolders, e = _(e), this.files[e] || a.call(this, e, null, { dir: !0, createFolders: t }), this.files[e] }; function h(e) { return "[object RegExp]" === Object.prototype.toString.call(e) } var g = { load: function () { throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.") }, forEach: function (e) { var t, n, a; for (t in this.files) a = this.files[t], (n = t.slice(this.root.length, t.length)) && t.slice(0, this.root.length) === this.root && e(n, a) }, filter: function (e) { var t = []; return this.forEach(function (n, a) { e(n, a) && t.push(a) }), t }, file: function (e, t, n) { if (1 !== arguments.length) return e = this.root + e, a.call(this, e, t, n), this; if (h(e)) { var r = e; return this.filter(function (e, t) { return !t.dir && r.test(e) }) } var s = this.files[this.root + e]; return s && !s.dir ? s : null }, folder: function (e) { if (!e) return this; if (h(e)) return this.filter(function (t, n) { return n.dir && e.test(t) }); var t = this.root + e, n = v.call(this, t), a = this.clone(); return a.root = n.name, a }, remove: function (e) { e = this.root + e; var t = this.files[e]; if (t || ("/" !== e.slice(-1) && (e += "/"), t = this.files[e]), t && !t.dir) delete this.files[e]; else for (var n = this.filter(function (t, n) { return n.name.slice(0, e.length) === e }), a = 0; a < n.length; a++)delete this.files[n[a].name]; return this }, generate: function () { throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.") }, generateInternalStream: function (e) { var t, n = {}; try { if ((n = s.extend(e || {}, { streamFiles: !1, compression: "STORE", compressionOptions: null, type: "", platform: "DOS", comment: null, mimeType: "application/zip", encodeFileName: r.utf8encode })).type = n.type.toLowerCase(), n.compression = n.compression.toUpperCase(), "binarystring" === n.type && (n.type = "string"), !n.type) throw new Error("No output type specified."); s.checkSupport(n.type), "darwin" !== n.platform && "freebsd" !== n.platform && "linux" !== n.platform && "sunos" !== n.platform || (n.platform = "UNIX"), "win32" === n.platform && (n.platform = "DOS"); var a = n.comment || this.comment || ""; t = u.generateWorker(this, n, a) } catch (e) { (t = new i("error")).error(e) } return new o(t, n.type || "string", n.mimeType) }, generateAsync: function (e, t) { return this.generateInternalStream(e).accumulate(t) }, generateNodeStream: function (e, t) { return (e = e || {}).type || (e.type = "nodebuffer"), this.generateInternalStream(e).toNodejsStream(t) } }; t.exports = g }, { "./compressedObject": 2, "./defaults": 5, "./generate": 9, "./nodejs/NodejsStreamInputAdapter": 12, "./nodejsUtils": 14, "./stream/GenericWorker": 28, "./stream/StreamHelper": 29, "./utf8": 31, "./utils": 32, "./zipObject": 35 }], 16: [function (e, t, n) { t.exports = e("stream") }, { stream: void 0 }], 17: [function (e, t, n) { var a = e("./DataReader"); function r(e) { a.call(this, e); for (var t = 0; t < this.data.length; t++)e[t] = 255 & e[t] } e("../utils").inherits(r, a), r.prototype.byteAt = function (e) { return this.data[this.zero + e] }, r.prototype.lastIndexOfSignature = function (e) { for (var t = e.charCodeAt(0), n = e.charCodeAt(1), a = e.charCodeAt(2), r = e.charCodeAt(3), s = this.length - 4; 0 <= s; --s)if (this.data[s] === t && this.data[s + 1] === n && this.data[s + 2] === a && this.data[s + 3] === r) return s - this.zero; return -1 }, r.prototype.readAndCheckSignature = function (e) { var t = e.charCodeAt(0), n = e.charCodeAt(1), a = e.charCodeAt(2), r = e.charCodeAt(3), s = this.readData(4); return t === s[0] && n === s[1] && a === s[2] && r === s[3] }, r.prototype.readData = function (e) { if (this.checkOffset(e), 0 === e) return []; var t = this.data.slice(this.zero + this.index, this.zero + this.index + e); return this.index += e, t }, t.exports = r }, { "../utils": 32, "./DataReader": 18 }], 18: [function (e, t, n) { var a = e("../utils"); function r(e) { this.data = e, this.length = e.length, this.index = 0, this.zero = 0 } r.prototype = { checkOffset: function (e) { this.checkIndex(this.index + e) }, checkIndex: function (e) { if (this.length < this.zero + e || e < 0) throw new Error("End of data reached (data length = " + this.length + ", asked index = " + e + "). Corrupted zip ?") }, setIndex: function (e) { this.checkIndex(e), this.index = e }, skip: function (e) { this.setIndex(this.index + e) }, byteAt: function () { }, readInt: function (e) { var t, n = 0; for (this.checkOffset(e), t = this.index + e - 1; t >= this.index; t--)n = (n << 8) + this.byteAt(t); return this.index += e, n }, readString: function (e) { return a.transformTo("string", this.readData(e)) }, readData: function () { }, lastIndexOfSignature: function () { }, readAndCheckSignature: function () { }, readDate: function () { var e = this.readInt(4); return new Date(Date.UTC(1980 + (e >> 25 & 127), (e >> 21 & 15) - 1, e >> 16 & 31, e >> 11 & 31, e >> 5 & 63, (31 & e) << 1)) } }, t.exports = r }, { "../utils": 32 }], 19: [function (e, t, n) { var a = e("./Uint8ArrayReader"); function r(e) { a.call(this, e) } e("../utils").inherits(r, a), r.prototype.readData = function (e) { this.checkOffset(e); var t = this.data.slice(this.zero + this.index, this.zero + this.index + e); return this.index += e, t }, t.exports = r }, { "../utils": 32, "./Uint8ArrayReader": 21 }], 20: [function (e, t, n) { var a = e("./DataReader"); function r(e) { a.call(this, e) } e("../utils").inherits(r, a), r.prototype.byteAt = function (e) { return this.data.charCodeAt(this.zero + e) }, r.prototype.lastIndexOfSignature = function (e) { return this.data.lastIndexOf(e) - this.zero }, r.prototype.readAndCheckSignature = function (e) { return e === this.readData(4) }, r.prototype.readData = function (e) { this.checkOffset(e); var t = this.data.slice(this.zero + this.index, this.zero + this.index + e); return this.index += e, t }, t.exports = r }, { "../utils": 32, "./DataReader": 18 }], 21: [function (e, t, n) { var a = e("./ArrayReader"); function r(e) { a.call(this, e) } e("../utils").inherits(r, a), r.prototype.readData = function (e) { if (this.checkOffset(e), 0 === e) return new Uint8Array(0); var t = this.data.subarray(this.zero + this.index, this.zero + this.index + e); return this.index += e, t }, t.exports = r }, { "../utils": 32, "./ArrayReader": 17 }], 22: [function (e, t, n) { var a = e("../utils"), r = e("../support"), s = e("./ArrayReader"), i = e("./StringReader"), o = e("./NodeBufferReader"), l = e("./Uint8ArrayReader"); t.exports = function (e) { var t = a.getTypeOf(e); return a.checkSupport(t), "string" !== t || r.uint8array ? "nodebuffer" === t ? new o(e) : r.uint8array ? new l(a.transformTo("uint8array", e)) : new s(a.transformTo("array", e)) : new i(e) } }, { "../support": 30, "../utils": 32, "./ArrayReader": 17, "./NodeBufferReader": 19, "./StringReader": 20, "./Uint8ArrayReader": 21 }], 23: [function (e, t, n) { n.LOCAL_FILE_HEADER = "PK", n.CENTRAL_FILE_HEADER = "PK", n.CENTRAL_DIRECTORY_END = "PK", n.ZIP64_CENTRAL_DIRECTORY_LOCATOR = "PK", n.ZIP64_CENTRAL_DIRECTORY_END = "PK", n.DATA_DESCRIPTOR = "PK\b" }, {}], 24: [function (e, t, n) { var a = e("./GenericWorker"), r = e("../utils"); function s(e) { a.call(this, "ConvertWorker to " + e), this.destType = e } r.inherits(s, a), s.prototype.processChunk = function (e) { this.push({ data: r.transformTo(this.destType, e.data), meta: e.meta }) }, t.exports = s }, { "../utils": 32, "./GenericWorker": 28 }], 25: [function (e, t, n) { var a = e("./GenericWorker"), r = e("../crc32"); function s() { a.call(this, "Crc32Probe"), this.withStreamInfo("crc32", 0) } e("../utils").inherits(s, a), s.prototype.processChunk = function (e) { this.streamInfo.crc32 = r(e.data, this.streamInfo.crc32 || 0), this.push(e) }, t.exports = s }, { "../crc32": 4, "../utils": 32, "./GenericWorker": 28 }], 26: [function (e, t, n) { var a = e("../utils"), r = e("./GenericWorker"); function s(e) { r.call(this, "DataLengthProbe for " + e), this.propName = e, this.withStreamInfo(e, 0) } a.inherits(s, r), s.prototype.processChunk = function (e) { if (e) { var t = this.streamInfo[this.propName] || 0; this.streamInfo[this.propName] = t + e.data.length } r.prototype.processChunk.call(this, e) }, t.exports = s }, { "../utils": 32, "./GenericWorker": 28 }], 27: [function (e, t, n) { var a = e("../utils"), r = e("./GenericWorker"); function s(e) { r.call(this, "DataWorker"); var t = this; this.dataIsReady = !1, this.index = 0, this.max = 0, this.data = null, this.type = "", this._tickScheduled = !1, e.then(function (e) { t.dataIsReady = !0, t.data = e, t.max = e && e.length || 0, t.type = a.getTypeOf(e), t.isPaused || t._tickAndRepeat() }, function (e) { t.error(e) }) } a.inherits(s, r), s.prototype.cleanUp = function () { r.prototype.cleanUp.call(this), this.data = null }, s.prototype.resume = function () { return !!r.prototype.resume.call(this) && (!this._tickScheduled && this.dataIsReady && (this._tickScheduled = !0, a.delay(this._tickAndRepeat, [], this)), !0) }, s.prototype._tickAndRepeat = function () { this._tickScheduled = !1, this.isPaused || this.isFinished || (this._tick(), this.isFinished || (a.delay(this._tickAndRepeat, [], this), this._tickScheduled = !0)) }, s.prototype._tick = function () { if (this.isPaused || this.isFinished) return !1; var e = null, t = Math.min(this.max, this.index + 16384); if (this.index >= this.max) return this.end(); switch (this.type) { case "string": e = this.data.substring(this.index, t); break; case "uint8array": e = this.data.subarray(this.index, t); break; case "array": case "nodebuffer": e = this.data.slice(this.index, t) }return this.index = t, this.push({ data: e, meta: { percent: this.max ? this.index / this.max * 100 : 0 } }) }, t.exports = s }, { "../utils": 32, "./GenericWorker": 28 }], 28: [function (e, t, n) { function a(e) { this.name = e || "default", this.streamInfo = {}, this.generatedError = null, this.extraStreamInfo = {}, this.isPaused = !0, this.isFinished = !1, this.isLocked = !1, this._listeners = { data: [], end: [], error: [] }, this.previous = null } a.prototype = { push: function (e) { this.emit("data", e) }, end: function () { if (this.isFinished) return !1; this.flush(); try { this.emit("end"), this.cleanUp(), this.isFinished = !0 } catch (e) { this.emit("error", e) } return !0 }, error: function (e) { return !this.isFinished && (this.isPaused ? this.generatedError = e : (this.isFinished = !0, this.emit("error", e), this.previous && this.previous.error(e), this.cleanUp()), !0) }, on: function (e, t) { return this._listeners[e].push(t), this }, cleanUp: function () { this.streamInfo = this.generatedError = this.extraStreamInfo = null, this._listeners = [] }, emit: function (e, t) { if (this._listeners[e]) for (var n = 0; n < this._listeners[e].length; n++)this._listeners[e][n].call(this, t) }, pipe: function (e) { return e.registerPrevious(this) }, registerPrevious: function (e) { if (this.isLocked) throw new Error("The stream '" + this + "' has already been used."); this.streamInfo = e.streamInfo, this.mergeStreamInfo(), this.previous = e; var t = this; return e.on("data", function (e) { t.processChunk(e) }), e.on("end", function () { t.end() }), e.on("error", function (e) { t.error(e) }), this }, pause: function () { return !this.isPaused && !this.isFinished && (this.isPaused = !0, this.previous && this.previous.pause(), !0) }, resume: function () { if (!this.isPaused || this.isFinished) return !1; var e = this.isPaused = !1; return this.generatedError && (this.error(this.generatedError), e = !0), this.previous && this.previous.resume(), !e }, flush: function () { }, processChunk: function (e) { this.push(e) }, withStreamInfo: function (e, t) { return this.extraStreamInfo[e] = t, this.mergeStreamInfo(), this }, mergeStreamInfo: function () { for (var e in this.extraStreamInfo) Object.prototype.hasOwnProperty.call(this.extraStreamInfo, e) && (this.streamInfo[e] = this.extraStreamInfo[e]) }, lock: function () { if (this.isLocked) throw new Error("The stream '" + this + "' has already been used."); this.isLocked = !0, this.previous && this.previous.lock() }, toString: function () { var e = "Worker " + this.name; return this.previous ? this.previous + " -> " + e : e } }, t.exports = a }, {}], 29: [function (e, t, n) { var a = e("../utils"), r = e("./ConvertWorker"), s = e("./GenericWorker"), i = e("../base64"), o = e("../support"), l = e("../external"), m = null; if (o.nodestream) try { m = e("../nodejs/NodejsStreamOutputAdapter") } catch (e) { } function c(e, t, n) { var i = t; switch (t) { case "blob": case "arraybuffer": i = "uint8array"; break; case "base64": i = "string" }try { this._internalType = i, this._outputType = t, this._mimeType = n, a.checkSupport(i), this._worker = e.pipe(new r(i)), e.lock() } catch (e) { this._worker = new s("error"), this._worker.error(e) } } c.prototype = { accumulate: function (e) { return function (e, t) { return new l.Promise(function (n, r) { var s = [], o = e._internalType, l = e._outputType, m = e._mimeType; e.on("data", function (e, n) { s.push(e), t && t(n) }).on("error", function (e) { s = [], r(e) }).on("end", function () { try { var e = function (e, t, n) { switch (e) { case "blob": return a.newBlob(a.transformTo("arraybuffer", t), n); case "base64": return i.encode(t); default: return a.transformTo(e, t) } }(l, function (e, t) { var n, a = 0, r = null, s = 0; for (n = 0; n < t.length; n++)s += t[n].length; switch (e) { case "string": return t.join(""); case "array": return Array.prototype.concat.apply([], t); case "uint8array": for (r = new Uint8Array(s), n = 0; n < t.length; n++)r.set(t[n], a), a += t[n].length; return r; case "nodebuffer": return Buffer.concat(t); default: throw new Error("concat : unsupported type '" + e + "'") } }(o, s), m); n(e) } catch (e) { r(e) } s = [] }).resume() }) }(this, e) }, on: function (e, t) { var n = this; return "data" === e ? this._worker.on(e, function (e) { t.call(n, e.data, e.meta) }) : this._worker.on(e, function () { a.delay(t, arguments, n) }), this }, resume: function () { return a.delay(this._worker.resume, [], this._worker), this }, pause: function () { return this._worker.pause(), this }, toNodejsStream: function (e) { if (a.checkSupport("nodestream"), "nodebuffer" !== this._outputType) throw new Error(this._outputType + " is not supported by this method"); return new m(this, { objectMode: "nodebuffer" !== this._outputType }, e) } }, t.exports = c }, { "../base64": 1, "../external": 6, "../nodejs/NodejsStreamOutputAdapter": 13, "../support": 30, "../utils": 32, "./ConvertWorker": 24, "./GenericWorker": 28 }], 30: [function (e, t, n) { if (n.base64 = !0, n.array = !0, n.string = !0, n.arraybuffer = "undefined" != typeof ArrayBuffer && "undefined" != typeof Uint8Array, n.nodebuffer = "undefined" != typeof Buffer, n.uint8array = "undefined" != typeof Uint8Array, "undefined" == typeof ArrayBuffer) n.blob = !1; else { var a = new ArrayBuffer(0); try { n.blob = 0 === new Blob([a], { type: "application/zip" }).size } catch (e) { try { var r = new (self.BlobBuilder || self.WebKitBlobBuilder || self.MozBlobBuilder || self.MSBlobBuilder); r.append(a), n.blob = 0 === r.getBlob("application/zip").size } catch (e) { n.blob = !1 } } } try { n.nodestream = !!e("readable-stream").Readable } catch (e) { n.nodestream = !1 } }, { "readable-stream": 16 }], 31: [function (e, t, n) { for (var a = e("./utils"), r = e("./support"), s = e("./nodejsUtils"), i = e("./stream/GenericWorker"), o = new Array(256), l = 0; l < 256; l++)o[l] = 252 <= l ? 6 : 248 <= l ? 5 : 240 <= l ? 4 : 224 <= l ? 3 : 192 <= l ? 2 : 1; function m() { i.call(this, "utf-8 decode"), this.leftOver = null } function c() { i.call(this, "utf-8 encode") } o[254] = o[254] = 1, n.utf8encode = function (e) { return r.nodebuffer ? s.newBufferFrom(e, "utf-8") : function (e) { var t, n, a, s, i, o = e.length, l = 0; for (s = 0; s < o; s++)55296 == (64512 & (n = e.charCodeAt(s))) && s + 1 < o && 56320 == (64512 & (a = e.charCodeAt(s + 1))) && (n = 65536 + (n - 55296 << 10) + (a - 56320), s++), l += n < 128 ? 1 : n < 2048 ? 2 : n < 65536 ? 3 : 4; for (t = r.uint8array ? new Uint8Array(l) : new Array(l), s = i = 0; i < l; s++)55296 == (64512 & (n = e.charCodeAt(s))) && s + 1 < o && 56320 == (64512 & (a = e.charCodeAt(s + 1))) && (n = 65536 + (n - 55296 << 10) + (a - 56320), s++), n < 128 ? t[i++] = n : (n < 2048 ? t[i++] = 192 | n >>> 6 : (n < 65536 ? t[i++] = 224 | n >>> 12 : (t[i++] = 240 | n >>> 18, t[i++] = 128 | n >>> 12 & 63), t[i++] = 128 | n >>> 6 & 63), t[i++] = 128 | 63 & n); return t }(e) }, n.utf8decode = function (e) { return r.nodebuffer ? a.transformTo("nodebuffer", e).toString("utf-8") : function (e) { var t, n, r, s, i = e.length, l = new Array(2 * i); for (t = n = 0; t < i;)if ((r = e[t++]) < 128) l[n++] = r; else if (4 < (s = o[r])) l[n++] = 65533, t += s - 1; else { for (r &= 2 === s ? 31 : 3 === s ? 15 : 7; 1 < s && t < i;)r = r << 6 | 63 & e[t++], s--; 1 < s ? l[n++] = 65533 : r < 65536 ? l[n++] = r : (r -= 65536, l[n++] = 55296 | r >> 10 & 1023, l[n++] = 56320 | 1023 & r) } return l.length !== n && (l.subarray ? l = l.subarray(0, n) : l.length = n), a.applyFromCharCode(l) }(e = a.transformTo(r.uint8array ? "uint8array" : "array", e)) }, a.inherits(m, i), m.prototype.processChunk = function (e) { var t = a.transformTo(r.uint8array ? "uint8array" : "array", e.data); if (this.leftOver && this.leftOver.length) { if (r.uint8array) { var s = t; (t = new Uint8Array(s.length + this.leftOver.length)).set(this.leftOver, 0), t.set(s, this.leftOver.length) } else t = this.leftOver.concat(t); this.leftOver = null } var i = function (e, t) { var n; for ((t = t || e.length) > e.length && (t = e.length), n = t - 1; 0 <= n && 128 == (192 & e[n]);)n--; return n < 0 || 0 === n ? t : n + o[e[n]] > t ? n : t }(t), l = t; i !== t.length && (r.uint8array ? (l = t.subarray(0, i), this.leftOver = t.subarray(i, t.length)) : (l = t.slice(0, i), this.leftOver = t.slice(i, t.length))), this.push({ data: n.utf8decode(l), meta: e.meta }) }, m.prototype.flush = function () { this.leftOver && this.leftOver.length && (this.push({ data: n.utf8decode(this.leftOver), meta: {} }), this.leftOver = null) }, n.Utf8DecodeWorker = m, a.inherits(c, i), c.prototype.processChunk = function (e) { this.push({ data: n.utf8encode(e.data), meta: e.meta }) }, n.Utf8EncodeWorker = c }, { "./nodejsUtils": 14, "./stream/GenericWorker": 28, "./support": 30, "./utils": 32 }], 32: [function (e, t, n) { var a = e("./support"), r = e("./base64"), s = e("./nodejsUtils"), i = e("./external"); function o(e) { return e } function l(e, t) { for (var n = 0; n < e.length; ++n)t[n] = 255 & e.charCodeAt(n); return t } e("setimmediate"), n.newBlob = function (t, a) { n.checkSupport("blob"); try { return new Blob([t], { type: a }) } catch (e) { try { var r = new (self.BlobBuilder || self.WebKitBlobBuilder || self.MozBlobBuilder || self.MSBlobBuilder); return r.append(t), r.getBlob(a) } catch (e) { throw new Error("Bug : can't construct the Blob.") } } }; var m = { stringifyByChunk: function (e, t, n) { var a = [], r = 0, s = e.length; if (s <= n) return String.fromCharCode.apply(null, e); for (; r < s;)"array" === t || "nodebuffer" === t ? a.push(String.fromCharCode.apply(null, e.slice(r, Math.min(r + n, s)))) : a.push(String.fromCharCode.apply(null, e.subarray(r, Math.min(r + n, s)))), r += n; return a.join("") }, stringifyByChar: function (e) { for (var t = "", n = 0; n < e.length; n++)t += String.fromCharCode(e[n]); return t }, applyCanBeUsed: { uint8array: function () { try { return a.uint8array && 1 === String.fromCharCode.apply(null, new Uint8Array(1)).length } catch (e) { return !1 } }(), nodebuffer: function () { try { return a.nodebuffer && 1 === String.fromCharCode.apply(null, s.allocBuffer(1)).length } catch (e) { return !1 } }() } }; function c(e) { var t = 65536, a = n.getTypeOf(e), r = !0; if ("uint8array" === a ? r = m.applyCanBeUsed.uint8array : "nodebuffer" === a && (r = m.applyCanBeUsed.nodebuffer), r) for (; 1 < t;)try { return m.stringifyByChunk(e, a, t) } catch (e) { t = Math.floor(t / 2) } return m.stringifyByChar(e) } function u(e, t) { for (var n = 0; n < e.length; n++)t[n] = e[n]; return t } n.applyFromCharCode = c; var A = {}; A.string = { string: o, array: function (e) { return l(e, new Array(e.length)) }, arraybuffer: function (e) { return A.string.uint8array(e).buffer }, uint8array: function (e) { return l(e, new Uint8Array(e.length)) }, nodebuffer: function (e) { return l(e, s.allocBuffer(e.length)) } }, A.array = { string: c, array: o, arraybuffer: function (e) { return new Uint8Array(e).buffer }, uint8array: function (e) { return new Uint8Array(e) }, nodebuffer: function (e) { return s.newBufferFrom(e) } }, A.arraybuffer = { string: function (e) { return c(new Uint8Array(e)) }, array: function (e) { return u(new Uint8Array(e), new Array(e.byteLength)) }, arraybuffer: o, uint8array: function (e) { return new Uint8Array(e) }, nodebuffer: function (e) { return s.newBufferFrom(new Uint8Array(e)) } }, A.uint8array = { string: c, array: function (e) { return u(e, new Array(e.length)) }, arraybuffer: function (e) { return e.buffer }, uint8array: o, nodebuffer: function (e) { return s.newBufferFrom(e) } }, A.nodebuffer = { string: c, array: function (e) { return u(e, new Array(e.length)) }, arraybuffer: function (e) { return A.nodebuffer.uint8array(e).buffer }, uint8array: function (e) { return u(e, new Uint8Array(e.length)) }, nodebuffer: o }, n.transformTo = function (e, t) { if (t = t || "", !e) return t; n.checkSupport(e); var a = n.getTypeOf(t); return A[a][e](t) }, n.resolve = function (e) { for (var t = e.split("/"), n = [], a = 0; a < t.length; a++) { var r = t[a]; "." === r || "" === r && 0 !== a && a !== t.length - 1 || (".." === r ? n.pop() : n.push(r)) } return n.join("/") }, n.getTypeOf = function (e) { return "string" == typeof e ? "string" : "[object Array]" === Object.prototype.toString.call(e) ? "array" : a.nodebuffer && s.isBuffer(e) ? "nodebuffer" : a.uint8array && e instanceof Uint8Array ? "uint8array" : a.arraybuffer && e instanceof ArrayBuffer ? "arraybuffer" : void 0 }, n.checkSupport = function (e) { if (!a[e.toLowerCase()]) throw new Error(e + " is not supported by this platform") }, n.MAX_VALUE_16BITS = 65535, n.MAX_VALUE_32BITS = -1, n.pretty = function (e) { var t, n, a = ""; for (n = 0; n < (e || "").length; n++)a += "\\x" + ((t = e.charCodeAt(n)) < 16 ? "0" : "") + t.toString(16).toUpperCase(); return a }, n.delay = function (e, t, n) { setImmediate(function () { e.apply(n || null, t || []) }) }, n.inherits = function (e, t) { function n() { } n.prototype = t.prototype, e.prototype = new n }, n.extend = function () { var e, t, n = {}; for (e = 0; e < arguments.length; e++)for (t in arguments[e]) Object.prototype.hasOwnProperty.call(arguments[e], t) && void 0 === n[t] && (n[t] = arguments[e][t]); return n }, n.prepareContent = function (e, t, s, o, m) { return i.Promise.resolve(t).then(function (e) { return a.blob && (e instanceof Blob || -1 !== ["[object File]", "[object Blob]"].indexOf(Object.prototype.toString.call(e))) && "undefined" != typeof FileReader ? new i.Promise(function (t, n) { var a = new FileReader; a.onload = function (e) { t(e.target.result) }, a.onerror = function (e) { n(e.target.error) }, a.readAsArrayBuffer(e) }) : e }).then(function (t) { var c = n.getTypeOf(t); return c ? ("arraybuffer" === c ? t = n.transformTo("uint8array", t) : "string" === c && (m ? t = r.decode(t) : s && !0 !== o && (t = function (e) { return l(e, a.uint8array ? new Uint8Array(e.length) : new Array(e.length)) }(t))), t) : i.Promise.reject(new Error("Can't read the data of '" + e + "'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?")) }) } }, { "./base64": 1, "./external": 6, "./nodejsUtils": 14, "./support": 30, setimmediate: 54 }], 33: [function (e, t, n) { var a = e("./reader/readerFor"), r = e("./utils"), s = e("./signature"), i = e("./zipEntry"), o = e("./support"); function l(e) { this.files = [], this.loadOptions = e } l.prototype = { checkSignature: function (e) { if (!this.reader.readAndCheckSignature(e)) { this.reader.index -= 4; var t = this.reader.readString(4); throw new Error("Corrupted zip or bug: unexpected signature (" + r.pretty(t) + ", expected " + r.pretty(e) + ")") } }, isSignature: function (e, t) { var n = this.reader.index; this.reader.setIndex(e); var a = this.reader.readString(4) === t; return this.reader.setIndex(n), a }, readBlockEndOfCentral: function () { this.diskNumber = this.reader.readInt(2), this.diskWithCentralDirStart = this.reader.readInt(2), this.centralDirRecordsOnThisDisk = this.reader.readInt(2), this.centralDirRecords = this.reader.readInt(2), this.centralDirSize = this.reader.readInt(4), this.centralDirOffset = this.reader.readInt(4), this.zipCommentLength = this.reader.readInt(2); var e = this.reader.readData(this.zipCommentLength), t = o.uint8array ? "uint8array" : "array", n = r.transformTo(t, e); this.zipComment = this.loadOptions.decodeFileName(n) }, readBlockZip64EndOfCentral: function () { this.zip64EndOfCentralSize = this.reader.readInt(8), this.reader.skip(4), this.diskNumber = this.reader.readInt(4), this.diskWithCentralDirStart = this.reader.readInt(4), this.centralDirRecordsOnThisDisk = this.reader.readInt(8), this.centralDirRecords = this.reader.readInt(8), this.centralDirSize = this.reader.readInt(8), this.centralDirOffset = this.reader.readInt(8), this.zip64ExtensibleData = {}; for (var e, t, n, a = this.zip64EndOfCentralSize - 44; 0 < a;)e = this.reader.readInt(2), t = this.reader.readInt(4), n = this.reader.readData(t), this.zip64ExtensibleData[e] = { id: e, length: t, value: n } }, readBlockZip64EndOfCentralLocator: function () { if (this.diskWithZip64CentralDirStart = this.reader.readInt(4), this.relativeOffsetEndOfZip64CentralDir = this.reader.readInt(8), this.disksCount = this.reader.readInt(4), 1 < this.disksCount) throw new Error("Multi-volumes zip are not supported") }, readLocalFiles: function () { var e, t; for (e = 0; e < this.files.length; e++)t = this.files[e], this.reader.setIndex(t.localHeaderOffset), this.checkSignature(s.LOCAL_FILE_HEADER), t.readLocalPart(this.reader), t.handleUTF8(), t.processAttributes() }, readCentralDir: function () { var e; for (this.reader.setIndex(this.centralDirOffset); this.reader.readAndCheckSignature(s.CENTRAL_FILE_HEADER);)(e = new i({ zip64: this.zip64 }, this.loadOptions)).readCentralPart(this.reader), this.files.push(e); if (this.centralDirRecords !== this.files.length && 0 !== this.centralDirRecords && 0 === this.files.length) throw new Error("Corrupted zip or bug: expected " + this.centralDirRecords + " records in central dir, got " + this.files.length) }, readEndOfCentral: function () { var e = this.reader.lastIndexOfSignature(s.CENTRAL_DIRECTORY_END); if (e < 0) throw this.isSignature(0, s.LOCAL_FILE_HEADER) ? new Error("Corrupted zip: can't find end of central directory") : new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html"); this.reader.setIndex(e); var t = e; if (this.checkSignature(s.CENTRAL_DIRECTORY_END), this.readBlockEndOfCentral(), this.diskNumber === r.MAX_VALUE_16BITS || this.diskWithCentralDirStart === r.MAX_VALUE_16BITS || this.centralDirRecordsOnThisDisk === r.MAX_VALUE_16BITS || this.centralDirRecords === r.MAX_VALUE_16BITS || this.centralDirSize === r.MAX_VALUE_32BITS || this.centralDirOffset === r.MAX_VALUE_32BITS) { if (this.zip64 = !0, (e = this.reader.lastIndexOfSignature(s.ZIP64_CENTRAL_DIRECTORY_LOCATOR)) < 0) throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator"); if (this.reader.setIndex(e), this.checkSignature(s.ZIP64_CENTRAL_DIRECTORY_LOCATOR), this.readBlockZip64EndOfCentralLocator(), !this.isSignature(this.relativeOffsetEndOfZip64CentralDir, s.ZIP64_CENTRAL_DIRECTORY_END) && (this.relativeOffsetEndOfZip64CentralDir = this.reader.lastIndexOfSignature(s.ZIP64_CENTRAL_DIRECTORY_END), this.relativeOffsetEndOfZip64CentralDir < 0)) throw new Error("Corrupted zip: can't find the ZIP64 end of central directory"); this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir), this.checkSignature(s.ZIP64_CENTRAL_DIRECTORY_END), this.readBlockZip64EndOfCentral() } var n = this.centralDirOffset + this.centralDirSize; this.zip64 && (n += 20, n += 12 + this.zip64EndOfCentralSize); var a = t - n; if (0 < a) this.isSignature(t, s.CENTRAL_FILE_HEADER) || (this.reader.zero = a); else if (a < 0) throw new Error("Corrupted zip: missing " + Math.abs(a) + " bytes.") }, prepareReader: function (e) { this.reader = a(e) }, load: function (e) { this.prepareReader(e), this.readEndOfCentral(), this.readCentralDir(), this.readLocalFiles() } }, t.exports = l }, { "./reader/readerFor": 22, "./signature": 23, "./support": 30, "./utils": 32, "./zipEntry": 34 }], 34: [function (e, t, n) { var a = e("./reader/readerFor"), r = e("./utils"), s = e("./compressedObject"), i = e("./crc32"), o = e("./utf8"), l = e("./compressions"), m = e("./support"); function c(e, t) { this.options = e, this.loadOptions = t } c.prototype = { isEncrypted: function () { return !(1 & ~this.bitFlag) }, useUTF8: function () { return !(2048 & ~this.bitFlag) }, readLocalPart: function (e) { var t, n; if (e.skip(22), this.fileNameLength = e.readInt(2), n = e.readInt(2), this.fileName = e.readData(this.fileNameLength), e.skip(n), -1 === this.compressedSize || -1 === this.uncompressedSize) throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)"); if (null === (t = function (e) { for (var t in l) if (Object.prototype.hasOwnProperty.call(l, t) && l[t].magic === e) return l[t]; return null }(this.compressionMethod))) throw new Error("Corrupted zip : compression " + r.pretty(this.compressionMethod) + " unknown (inner file : " + r.transformTo("string", this.fileName) + ")"); this.decompressed = new s(this.compressedSize, this.uncompressedSize, this.crc32, t, e.readData(this.compressedSize)) }, readCentralPart: function (e) { this.versionMadeBy = e.readInt(2), e.skip(2), this.bitFlag = e.readInt(2), this.compressionMethod = e.readString(2), this.date = e.readDate(), this.crc32 = e.readInt(4), this.compressedSize = e.readInt(4), this.uncompressedSize = e.readInt(4); var t = e.readInt(2); if (this.extraFieldsLength = e.readInt(2), this.fileCommentLength = e.readInt(2), this.diskNumberStart = e.readInt(2), this.internalFileAttributes = e.readInt(2), this.externalFileAttributes = e.readInt(4), this.localHeaderOffset = e.readInt(4), this.isEncrypted()) throw new Error("Encrypted zip are not supported"); e.skip(t), this.readExtraFields(e), this.parseZIP64ExtraField(e), this.fileComment = e.readData(this.fileCommentLength) }, processAttributes: function () { this.unixPermissions = null, this.dosPermissions = null; var e = this.versionMadeBy >> 8; this.dir = !!(16 & this.externalFileAttributes), 0 == e && (this.dosPermissions = 63 & this.externalFileAttributes), 3 == e && (this.unixPermissions = this.externalFileAttributes >> 16 & 65535), this.dir || "/" !== this.fileNameStr.slice(-1) || (this.dir = !0) }, parseZIP64ExtraField: function () { if (this.extraFields[1]) { var e = a(this.extraFields[1].value); this.uncompressedSize === r.MAX_VALUE_32BITS && (this.uncompressedSize = e.readInt(8)), this.compressedSize === r.MAX_VALUE_32BITS && (this.compressedSize = e.readInt(8)), this.localHeaderOffset === r.MAX_VALUE_32BITS && (this.localHeaderOffset = e.readInt(8)), this.diskNumberStart === r.MAX_VALUE_32BITS && (this.diskNumberStart = e.readInt(4)) } }, readExtraFields: function (e) { var t, n, a, r = e.index + this.extraFieldsLength; for (this.extraFields || (this.extraFields = {}); e.index + 4 < r;)t = e.readInt(2), n = e.readInt(2), a = e.readData(n), this.extraFields[t] = { id: t, length: n, value: a }; e.setIndex(r) }, handleUTF8: function () { var e = m.uint8array ? "uint8array" : "array"; if (this.useUTF8()) this.fileNameStr = o.utf8decode(this.fileName), this.fileCommentStr = o.utf8decode(this.fileComment); else { var t = this.findExtraFieldUnicodePath(); if (null !== t) this.fileNameStr = t; else { var n = r.transformTo(e, this.fileName); this.fileNameStr = this.loadOptions.decodeFileName(n) } var a = this.findExtraFieldUnicodeComment(); if (null !== a) this.fileCommentStr = a; else { var s = r.transformTo(e, this.fileComment); this.fileCommentStr = this.loadOptions.decodeFileName(s) } } }, findExtraFieldUnicodePath: function () { var e = this.extraFields[28789]; if (e) { var t = a(e.value); return 1 !== t.readInt(1) || i(this.fileName) !== t.readInt(4) ? null : o.utf8decode(t.readData(e.length - 5)) } return null }, findExtraFieldUnicodeComment: function () { var e = this.extraFields[25461]; if (e) { var t = a(e.value); return 1 !== t.readInt(1) || i(this.fileComment) !== t.readInt(4) ? null : o.utf8decode(t.readData(e.length - 5)) } return null } }, t.exports = c }, { "./compressedObject": 2, "./compressions": 3, "./crc32": 4, "./reader/readerFor": 22, "./support": 30, "./utf8": 31, "./utils": 32 }], 35: [function (e, t, n) { function a(e, t, n) { this.name = e, this.dir = n.dir, this.date = n.date, this.comment = n.comment, this.unixPermissions = n.unixPermissions, this.dosPermissions = n.dosPermissions, this._data = t, this._dataBinary = n.binary, this.options = { compression: n.compression, compressionOptions: n.compressionOptions } } var r = e("./stream/StreamHelper"), s = e("./stream/DataWorker"), i = e("./utf8"), o = e("./compressedObject"), l = e("./stream/GenericWorker"); a.prototype = { internalStream: function (e) { var t = null, n = "string"; try { if (!e) throw new Error("No output type specified."); var a = "string" === (n = e.toLowerCase()) || "text" === n; "binarystring" !== n && "text" !== n || (n = "string"), t = this._decompressWorker(); var s = !this._dataBinary; s && !a && (t = t.pipe(new i.Utf8EncodeWorker)), !s && a && (t = t.pipe(new i.Utf8DecodeWorker)) } catch (e) { (t = new l("error")).error(e) } return new r(t, n, "") }, async: function (e, t) { return this.internalStream(e).accumulate(t) }, nodeStream: function (e, t) { return this.internalStream(e || "nodebuffer").toNodejsStream(t) }, _compressWorker: function (e, t) { if (this._data instanceof o && this._data.compression.magic === e.magic) return this._data.getCompressedWorker(); var n = this._decompressWorker(); return this._dataBinary || (n = n.pipe(new i.Utf8EncodeWorker)), o.createWorkerFrom(n, e, t) }, _decompressWorker: function () { return this._data instanceof o ? this._data.getContentWorker() : this._data instanceof l ? this._data : new s(this._data) } }; for (var m = ["asText", "asBinary", "asNodeBuffer", "asUint8Array", "asArrayBuffer"], c = function () { throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.") }, u = 0; u < m.length; u++)a.prototype[m[u]] = c; t.exports = a }, { "./compressedObject": 2, "./stream/DataWorker": 27, "./stream/GenericWorker": 28, "./stream/StreamHelper": 29, "./utf8": 31 }], 36: [function (e, t, n) { (function (e) { var n, a, r = e.MutationObserver || e.WebKitMutationObserver; if (r) { var s = 0, i = new r(c), o = e.document.createTextNode(""); i.observe(o, { characterData: !0 }), n = function () { o.data = s = ++s % 2 } } else if (e.setImmediate || void 0 === e.MessageChannel) n = "document" in e && "onreadystatechange" in e.document.createElement("script") ? function () { var t = e.document.createElement("script"); t.onreadystatechange = function () { c(), t.onreadystatechange = null, t.parentNode.removeChild(t), t = null }, e.document.documentElement.appendChild(t) } : function () { setTimeout(c, 0) }; else { var l = new e.MessageChannel; l.port1.onmessage = c, n = function () { l.port2.postMessage(0) } } var m = []; function c() { var e, t; a = !0; for (var n = m.length; n;) { for (t = m, m = [], e = -1; ++e < n;)t[e](); n = m.length } a = !1 } t.exports = function (e) { 1 !== m.push(e) || a || n() } }).call(this, void 0 !== commonjsGlobal ? commonjsGlobal : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {}) }, {}], 37: [function (e, t, n) { var a = e("immediate"); function r() { } var s = {}, i = ["REJECTED"], o = ["FULFILLED"], l = ["PENDING"]; function m(e) { if ("function" != typeof e) throw new TypeError("resolver must be a function"); this.state = l, this.queue = [], this.outcome = void 0, e !== r && p(this, e) } function c(e, t, n) { this.promise = e, "function" == typeof t && (this.onFulfilled = t, this.callFulfilled = this.otherCallFulfilled), "function" == typeof n && (this.onRejected = n, this.callRejected = this.otherCallRejected) } function u(e, t, n) { a(function () { var a; try { a = t(n) } catch (a) { return s.reject(e, a) } a === e ? s.reject(e, new TypeError("Cannot resolve promise with itself")) : s.resolve(e, a) }) } function A(e) { var t = e && e.then; if (e && ("object" == typeof e || "function" == typeof e) && "function" == typeof t) return function () { t.apply(e, arguments) } } function p(e, t) { var n = !1; function a(t) { n || (n = !0, s.reject(e, t)) } function r(t) { n || (n = !0, s.resolve(e, t)) } var i = d(function () { t(r, a) }); "error" === i.status && a(i.value) } function d(e, t) { var n = {}; try { n.value = e(t), n.status = "success" } catch (e) { n.status = "error", n.value = e } return n } (t.exports = m).prototype.finally = function (e) { if ("function" != typeof e) return this; var t = this.constructor; return this.then(function (n) { return t.resolve(e()).then(function () { return n }) }, function (n) { return t.resolve(e()).then(function () { throw n }) }) }, m.prototype.catch = function (e) { return this.then(null, e) }, m.prototype.then = function (e, t) { if ("function" != typeof e && this.state === o || "function" != typeof t && this.state === i) return this; var n = new this.constructor(r); return this.state !== l ? u(n, this.state === o ? e : t, this.outcome) : this.queue.push(new c(n, e, t)), n }, c.prototype.callFulfilled = function (e) { s.resolve(this.promise, e) }, c.prototype.otherCallFulfilled = function (e) { u(this.promise, this.onFulfilled, e) }, c.prototype.callRejected = function (e) { s.reject(this.promise, e) }, c.prototype.otherCallRejected = function (e) { u(this.promise, this.onRejected, e) }, s.resolve = function (e, t) { var n = d(A, t); if ("error" === n.status) return s.reject(e, n.value); var a = n.value; if (a) p(e, a); else { e.state = o, e.outcome = t; for (var r = -1, i = e.queue.length; ++r < i;)e.queue[r].callFulfilled(t) } return e }, s.reject = function (e, t) { e.state = i, e.outcome = t; for (var n = -1, a = e.queue.length; ++n < a;)e.queue[n].callRejected(t); return e }, m.resolve = function (e) { return e instanceof this ? e : s.resolve(new this(r), e) }, m.reject = function (e) { var t = new this(r); return s.reject(t, e) }, m.all = function (e) { var t = this; if ("[object Array]" !== Object.prototype.toString.call(e)) return this.reject(new TypeError("must be an array")); var n = e.length, a = !1; if (!n) return this.resolve([]); for (var i = new Array(n), o = 0, l = -1, m = new this(r); ++l < n;)c(e[l], l); return m; function c(e, r) { t.resolve(e).then(function (e) { i[r] = e, ++o !== n || a || (a = !0, s.resolve(m, i)) }, function (e) { a || (a = !0, s.reject(m, e)) }) } }, m.race = function (e) { if ("[object Array]" !== Object.prototype.toString.call(e)) return this.reject(new TypeError("must be an array")); var t = e.length, n = !1; if (!t) return this.resolve([]); for (var a, i = -1, o = new this(r); ++i < t;)a = e[i], this.resolve(a).then(function (e) { n || (n = !0, s.resolve(o, e)) }, function (e) { n || (n = !0, s.reject(o, e)) }); return o } }, { immediate: 36 }], 38: [function (e, t, n) { var a = {}; (0, e("./lib/utils/common").assign)(a, e("./lib/deflate"), e("./lib/inflate"), e("./lib/zlib/constants")), t.exports = a }, { "./lib/deflate": 39, "./lib/inflate": 40, "./lib/utils/common": 41, "./lib/zlib/constants": 44 }], 39: [function (e, t, n) { var a = e("./zlib/deflate"), r = e("./utils/common"), s = e("./utils/strings"), i = e("./zlib/messages"), o = e("./zlib/zstream"), l = Object.prototype.toString; function m(e) { if (!(this instanceof m)) return new m(e); this.options = r.assign({ level: -1, method: 8, chunkSize: 16384, windowBits: 15, memLevel: 8, strategy: 0, to: "" }, e || {}); var t = this.options; t.raw && 0 < t.windowBits ? t.windowBits = -t.windowBits : t.gzip && 0 < t.windowBits && t.windowBits < 16 && (t.windowBits += 16), this.err = 0, this.msg = "", this.ended = !1, this.chunks = [], this.strm = new o, this.strm.avail_out = 0; var n = a.deflateInit2(this.strm, t.level, t.method, t.windowBits, t.memLevel, t.strategy); if (0 !== n) throw new Error(i[n]); if (t.header && a.deflateSetHeader(this.strm, t.header), t.dictionary) { var c; if (c = "string" == typeof t.dictionary ? s.string2buf(t.dictionary) : "[object ArrayBuffer]" === l.call(t.dictionary) ? new Uint8Array(t.dictionary) : t.dictionary, 0 !== (n = a.deflateSetDictionary(this.strm, c))) throw new Error(i[n]); this._dict_set = !0 } } function c(e, t) { var n = new m(t); if (n.push(e, !0), n.err) throw n.msg || i[n.err]; return n.result } m.prototype.push = function (e, t) { var n, i, o = this.strm, m = this.options.chunkSize; if (this.ended) return !1; i = t === ~~t ? t : !0 === t ? 4 : 0, "string" == typeof e ? o.input = s.string2buf(e) : "[object ArrayBuffer]" === l.call(e) ? o.input = new Uint8Array(e) : o.input = e, o.next_in = 0, o.avail_in = o.input.length; do { if (0 === o.avail_out && (o.output = new r.Buf8(m), o.next_out = 0, o.avail_out = m), 1 !== (n = a.deflate(o, i)) && 0 !== n) return this.onEnd(n), !(this.ended = !0); 0 !== o.avail_out && (0 !== o.avail_in || 4 !== i && 2 !== i) || ("string" === this.options.to ? this.onData(s.buf2binstring(r.shrinkBuf(o.output, o.next_out))) : this.onData(r.shrinkBuf(o.output, o.next_out))) } while ((0 < o.avail_in || 0 === o.avail_out) && 1 !== n); return 4 === i ? (n = a.deflateEnd(this.strm), this.onEnd(n), this.ended = !0, 0 === n) : 2 !== i || (this.onEnd(0), !(o.avail_out = 0)) }, m.prototype.onData = function (e) { this.chunks.push(e) }, m.prototype.onEnd = function (e) { 0 === e && ("string" === this.options.to ? this.result = this.chunks.join("") : this.result = r.flattenChunks(this.chunks)), this.chunks = [], this.err = e, this.msg = this.strm.msg }, n.Deflate = m, n.deflate = c, n.deflateRaw = function (e, t) { return (t = t || {}).raw = !0, c(e, t) }, n.gzip = function (e, t) { return (t = t || {}).gzip = !0, c(e, t) } }, { "./utils/common": 41, "./utils/strings": 42, "./zlib/deflate": 46, "./zlib/messages": 51, "./zlib/zstream": 53 }], 40: [function (e, t, n) { var a = e("./zlib/inflate"), r = e("./utils/common"), s = e("./utils/strings"), i = e("./zlib/constants"), o = e("./zlib/messages"), l = e("./zlib/zstream"), m = e("./zlib/gzheader"), c = Object.prototype.toString; function u(e) { if (!(this instanceof u)) return new u(e); this.options = r.assign({ chunkSize: 16384, windowBits: 0, to: "" }, e || {}); var t = this.options; t.raw && 0 <= t.windowBits && t.windowBits < 16 && (t.windowBits = -t.windowBits, 0 === t.windowBits && (t.windowBits = -15)), !(0 <= t.windowBits && t.windowBits < 16) || e && e.windowBits || (t.windowBits += 32), 15 < t.windowBits && t.windowBits < 48 && !(15 & t.windowBits) && (t.windowBits |= 15), this.err = 0, this.msg = "", this.ended = !1, this.chunks = [], this.strm = new l, this.strm.avail_out = 0; var n = a.inflateInit2(this.strm, t.windowBits); if (n !== i.Z_OK) throw new Error(o[n]); this.header = new m, a.inflateGetHeader(this.strm, this.header) } function A(e, t) { var n = new u(t); if (n.push(e, !0), n.err) throw n.msg || o[n.err]; return n.result } u.prototype.push = function (e, t) { var n, o, l, m, u, A, p = this.strm, d = this.options.chunkSize, _ = this.options.dictionary, v = !1; if (this.ended) return !1; o = t === ~~t ? t : !0 === t ? i.Z_FINISH : i.Z_NO_FLUSH, "string" == typeof e ? p.input = s.binstring2buf(e) : "[object ArrayBuffer]" === c.call(e) ? p.input = new Uint8Array(e) : p.input = e, p.next_in = 0, p.avail_in = p.input.length; do { if (0 === p.avail_out && (p.output = new r.Buf8(d), p.next_out = 0, p.avail_out = d), (n = a.inflate(p, i.Z_NO_FLUSH)) === i.Z_NEED_DICT && _ && (A = "string" == typeof _ ? s.string2buf(_) : "[object ArrayBuffer]" === c.call(_) ? new Uint8Array(_) : _, n = a.inflateSetDictionary(this.strm, A)), n === i.Z_BUF_ERROR && !0 === v && (n = i.Z_OK, v = !1), n !== i.Z_STREAM_END && n !== i.Z_OK) return this.onEnd(n), !(this.ended = !0); p.next_out && (0 !== p.avail_out && n !== i.Z_STREAM_END && (0 !== p.avail_in || o !== i.Z_FINISH && o !== i.Z_SYNC_FLUSH) || ("string" === this.options.to ? (l = s.utf8border(p.output, p.next_out), m = p.next_out - l, u = s.buf2string(p.output, l), p.next_out = m, p.avail_out = d - m, m && r.arraySet(p.output, p.output, l, m, 0), this.onData(u)) : this.onData(r.shrinkBuf(p.output, p.next_out)))), 0 === p.avail_in && 0 === p.avail_out && (v = !0) } while ((0 < p.avail_in || 0 === p.avail_out) && n !== i.Z_STREAM_END); return n === i.Z_STREAM_END && (o = i.Z_FINISH), o === i.Z_FINISH ? (n = a.inflateEnd(this.strm), this.onEnd(n), this.ended = !0, n === i.Z_OK) : o !== i.Z_SYNC_FLUSH || (this.onEnd(i.Z_OK), !(p.avail_out = 0)) }, u.prototype.onData = function (e) { this.chunks.push(e) }, u.prototype.onEnd = function (e) { e === i.Z_OK && ("string" === this.options.to ? this.result = this.chunks.join("") : this.result = r.flattenChunks(this.chunks)), this.chunks = [], this.err = e, this.msg = this.strm.msg }, n.Inflate = u, n.inflate = A, n.inflateRaw = function (e, t) { return (t = t || {}).raw = !0, A(e, t) }, n.ungzip = A }, { "./utils/common": 41, "./utils/strings": 42, "./zlib/constants": 44, "./zlib/gzheader": 47, "./zlib/inflate": 49, "./zlib/messages": 51, "./zlib/zstream": 53 }], 41: [function (e, t, n) { var a = "undefined" != typeof Uint8Array && "undefined" != typeof Uint16Array && "undefined" != typeof Int32Array; n.assign = function (e) { for (var t = Array.prototype.slice.call(arguments, 1); t.length;) { var n = t.shift(); if (n) { if ("object" != typeof n) throw new TypeError(n + "must be non-object"); for (var a in n) n.hasOwnProperty(a) && (e[a] = n[a]) } } return e }, n.shrinkBuf = function (e, t) { return e.length === t ? e : e.subarray ? e.subarray(0, t) : (e.length = t, e) }; var r = { arraySet: function (e, t, n, a, r) { if (t.subarray && e.subarray) e.set(t.subarray(n, n + a), r); else for (var s = 0; s < a; s++)e[r + s] = t[n + s] }, flattenChunks: function (e) { var t, n, a, r, s, i; for (t = a = 0, n = e.length; t < n; t++)a += e[t].length; for (i = new Uint8Array(a), t = r = 0, n = e.length; t < n; t++)s = e[t], i.set(s, r), r += s.length; return i } }, s = { arraySet: function (e, t, n, a, r) { for (var s = 0; s < a; s++)e[r + s] = t[n + s] }, flattenChunks: function (e) { return [].concat.apply([], e) } }; n.setTyped = function (e) { e ? (n.Buf8 = Uint8Array, n.Buf16 = Uint16Array, n.Buf32 = Int32Array, n.assign(n, r)) : (n.Buf8 = Array, n.Buf16 = Array, n.Buf32 = Array, n.assign(n, s)) }, n.setTyped(a) }, {}], 42: [function (e, t, n) { var a = e("./common"), r = !0, s = !0; try { String.fromCharCode.apply(null, [0]) } catch (e) { r = !1 } try { String.fromCharCode.apply(null, new Uint8Array(1)) } catch (e) { s = !1 } for (var i = new a.Buf8(256), o = 0; o < 256; o++)i[o] = 252 <= o ? 6 : 248 <= o ? 5 : 240 <= o ? 4 : 224 <= o ? 3 : 192 <= o ? 2 : 1; function l(e, t) { if (t < 65537 && (e.subarray && s || !e.subarray && r)) return String.fromCharCode.apply(null, a.shrinkBuf(e, t)); for (var n = "", i = 0; i < t; i++)n += String.fromCharCode(e[i]); return n } i[254] = i[254] = 1, n.string2buf = function (e) { var t, n, r, s, i, o = e.length, l = 0; for (s = 0; s < o; s++)55296 == (64512 & (n = e.charCodeAt(s))) && s + 1 < o && 56320 == (64512 & (r = e.charCodeAt(s + 1))) && (n = 65536 + (n - 55296 << 10) + (r - 56320), s++), l += n < 128 ? 1 : n < 2048 ? 2 : n < 65536 ? 3 : 4; for (t = new a.Buf8(l), s = i = 0; i < l; s++)55296 == (64512 & (n = e.charCodeAt(s))) && s + 1 < o && 56320 == (64512 & (r = e.charCodeAt(s + 1))) && (n = 65536 + (n - 55296 << 10) + (r - 56320), s++), n < 128 ? t[i++] = n : (n < 2048 ? t[i++] = 192 | n >>> 6 : (n < 65536 ? t[i++] = 224 | n >>> 12 : (t[i++] = 240 | n >>> 18, t[i++] = 128 | n >>> 12 & 63), t[i++] = 128 | n >>> 6 & 63), t[i++] = 128 | 63 & n); return t }, n.buf2binstring = function (e) { return l(e, e.length) }, n.binstring2buf = function (e) { for (var t = new a.Buf8(e.length), n = 0, r = t.length; n < r; n++)t[n] = e.charCodeAt(n); return t }, n.buf2string = function (e, t) { var n, a, r, s, o = t || e.length, m = new Array(2 * o); for (n = a = 0; n < o;)if ((r = e[n++]) < 128) m[a++] = r; else if (4 < (s = i[r])) m[a++] = 65533, n += s - 1; else { for (r &= 2 === s ? 31 : 3 === s ? 15 : 7; 1 < s && n < o;)r = r << 6 | 63 & e[n++], s--; 1 < s ? m[a++] = 65533 : r < 65536 ? m[a++] = r : (r -= 65536, m[a++] = 55296 | r >> 10 & 1023, m[a++] = 56320 | 1023 & r) } return l(m, a) }, n.utf8border = function (e, t) { var n; for ((t = t || e.length) > e.length && (t = e.length), n = t - 1; 0 <= n && 128 == (192 & e[n]);)n--; return n < 0 || 0 === n ? t : n + i[e[n]] > t ? n : t } }, { "./common": 41 }], 43: [function (e, t, n) { t.exports = function (e, t, n, a) { for (var r = 65535 & e, s = e >>> 16 & 65535, i = 0; 0 !== n;) { for (n -= i = 2e3 < n ? 2e3 : n; s = s + (r = r + t[a++] | 0) | 0, --i;); r %= 65521, s %= 65521 } return r | s << 16 } }, {}], 44: [function (e, t, n) { t.exports = { Z_NO_FLUSH: 0, Z_PARTIAL_FLUSH: 1, Z_SYNC_FLUSH: 2, Z_FULL_FLUSH: 3, Z_FINISH: 4, Z_BLOCK: 5, Z_TREES: 6, Z_OK: 0, Z_STREAM_END: 1, Z_NEED_DICT: 2, Z_ERRNO: -1, Z_STREAM_ERROR: -2, Z_DATA_ERROR: -3, Z_BUF_ERROR: -5, Z_NO_COMPRESSION: 0, Z_BEST_SPEED: 1, Z_BEST_COMPRESSION: 9, Z_DEFAULT_COMPRESSION: -1, Z_FILTERED: 1, Z_HUFFMAN_ONLY: 2, Z_RLE: 3, Z_FIXED: 4, Z_DEFAULT_STRATEGY: 0, Z_BINARY: 0, Z_TEXT: 1, Z_UNKNOWN: 2, Z_DEFLATED: 8 } }, {}], 45: [function (e, t, n) { var a = function () { for (var e, t = [], n = 0; n < 256; n++) { e = n; for (var a = 0; a < 8; a++)e = 1 & e ? 3988292384 ^ e >>> 1 : e >>> 1; t[n] = e } return t }(); t.exports = function (e, t, n, r) { var s = a, i = r + n; e ^= -1; for (var o = r; o < i; o++)e = e >>> 8 ^ s[255 & (e ^ t[o])]; return -1 ^ e } }, {}], 46: [function (e, t, n) { var a, r = e("../utils/common"), s = e("./trees"), i = e("./adler32"), o = e("./crc32"), l = e("./messages"), m = -2, c = 258, u = 262, A = 113; function p(e, t) { return e.msg = l[t], t } function d(e) { return (e << 1) - (4 < e ? 9 : 0) } function _(e) { for (var t = e.length; 0 <= --t;)e[t] = 0 } function v(e) { var t = e.state, n = t.pending; n > e.avail_out && (n = e.avail_out), 0 !== n && (r.arraySet(e.output, t.pending_buf, t.pending_out, n, e.next_out), e.next_out += n, t.pending_out += n, e.total_out += n, e.avail_out -= n, t.pending -= n, 0 === t.pending && (t.pending_out = 0)) } function h(e, t) { s._tr_flush_block(e, 0 <= e.block_start ? e.block_start : -1, e.strstart - e.block_start, t), e.block_start = e.strstart, v(e.strm) } function g(e, t) { e.pending_buf[e.pending++] = t } function f(e, t) { e.pending_buf[e.pending++] = t >>> 8 & 255, e.pending_buf[e.pending++] = 255 & t } function b(e, t) { var n, a, r = e.max_chain_length, s = e.strstart, i = e.prev_length, o = e.nice_match, l = e.strstart > e.w_size - u ? e.strstart - (e.w_size - u) : 0, m = e.window, A = e.w_mask, p = e.prev, d = e.strstart + c, _ = m[s + i - 1], v = m[s + i]; e.prev_length >= e.good_match && (r >>= 2), o > e.lookahead && (o = e.lookahead); do { if (m[(n = t) + i] === v && m[n + i - 1] === _ && m[n] === m[s] && m[++n] === m[s + 1]) { s += 2, n++; do { } while (m[++s] === m[++n] && m[++s] === m[++n] && m[++s] === m[++n] && m[++s] === m[++n] && m[++s] === m[++n] && m[++s] === m[++n] && m[++s] === m[++n] && m[++s] === m[++n] && s < d); if (a = c - (d - s), s = d - c, i < a) { if (e.match_start = t, o <= (i = a)) break; _ = m[s + i - 1], v = m[s + i] } } } while ((t = p[t & A]) > l && 0 != --r); return i <= e.lookahead ? i : e.lookahead } function x(e) { var t, n, a, s, l, m, c, A, p, d, _ = e.w_size; do { if (s = e.window_size - e.lookahead - e.strstart, e.strstart >= _ + (_ - u)) { for (r.arraySet(e.window, e.window, _, _, 0), e.match_start -= _, e.strstart -= _, e.block_start -= _, t = n = e.hash_size; a = e.head[--t], e.head[t] = _ <= a ? a - _ : 0, --n;); for (t = n = _; a = e.prev[--t], e.prev[t] = _ <= a ? a - _ : 0, --n;); s += _ } if (0 === e.strm.avail_in) break; if (m = e.strm, c = e.window, A = e.strstart + e.lookahead, d = void 0, (p = s) < (d = m.avail_in) && (d = p), n = 0 === d ? 0 : (m.avail_in -= d, r.arraySet(c, m.input, m.next_in, d, A), 1 === m.state.wrap ? m.adler = i(m.adler, c, d, A) : 2 === m.state.wrap && (m.adler = o(m.adler, c, d, A)), m.next_in += d, m.total_in += d, d), e.lookahead += n, e.lookahead + e.insert >= 3) for (l = e.strstart - e.insert, e.ins_h = e.window[l], e.ins_h = (e.ins_h << e.hash_shift ^ e.window[l + 1]) & e.hash_mask; e.insert && (e.ins_h = (e.ins_h << e.hash_shift ^ e.window[l + 3 - 1]) & e.hash_mask, e.prev[l & e.w_mask] = e.head[e.ins_h], e.head[e.ins_h] = l, l++, e.insert--, !(e.lookahead + e.insert < 3));); } while (e.lookahead < u && 0 !== e.strm.avail_in) } function y(e, t) { for (var n, a; ;) { if (e.lookahead < u) { if (x(e), e.lookahead < u && 0 === t) return 1; if (0 === e.lookahead) break } if (n = 0, e.lookahead >= 3 && (e.ins_h = (e.ins_h << e.hash_shift ^ e.window[e.strstart + 3 - 1]) & e.hash_mask, n = e.prev[e.strstart & e.w_mask] = e.head[e.ins_h], e.head[e.ins_h] = e.strstart), 0 !== n && e.strstart - n <= e.w_size - u && (e.match_length = b(e, n)), e.match_length >= 3) if (a = s._tr_tally(e, e.strstart - e.match_start, e.match_length - 3), e.lookahead -= e.match_length, e.match_length <= e.max_lazy_match && e.lookahead >= 3) { for (e.match_length--; e.strstart++, e.ins_h = (e.ins_h << e.hash_shift ^ e.window[e.strstart + 3 - 1]) & e.hash_mask, n = e.prev[e.strstart & e.w_mask] = e.head[e.ins_h], e.head[e.ins_h] = e.strstart, 0 != --e.match_length;); e.strstart++ } else e.strstart += e.match_length, e.match_length = 0, e.ins_h = e.window[e.strstart], e.ins_h = (e.ins_h << e.hash_shift ^ e.window[e.strstart + 1]) & e.hash_mask; else a = s._tr_tally(e, 0, e.window[e.strstart]), e.lookahead--, e.strstart++; if (a && (h(e, !1), 0 === e.strm.avail_out)) return 1 } return e.insert = e.strstart < 2 ? e.strstart : 2, 4 === t ? (h(e, !0), 0 === e.strm.avail_out ? 3 : 4) : e.last_lit && (h(e, !1), 0 === e.strm.avail_out) ? 1 : 2 } function w(e, t) { for (var n, a, r; ;) { if (e.lookahead < u) { if (x(e), e.lookahead < u && 0 === t) return 1; if (0 === e.lookahead) break } if (n = 0, e.lookahead >= 3 && (e.ins_h = (e.ins_h << e.hash_shift ^ e.window[e.strstart + 3 - 1]) & e.hash_mask, n = e.prev[e.strstart & e.w_mask] = e.head[e.ins_h], e.head[e.ins_h] = e.strstart), e.prev_length = e.match_length, e.prev_match = e.match_start, e.match_length = 2, 0 !== n && e.prev_length < e.max_lazy_match && e.strstart - n <= e.w_size - u && (e.match_length = b(e, n), e.match_length <= 5 && (1 === e.strategy || 3 === e.match_length && 4096 < e.strstart - e.match_start) && (e.match_length = 2)), e.prev_length >= 3 && e.match_length <= e.prev_length) { for (r = e.strstart + e.lookahead - 3, a = s._tr_tally(e, e.strstart - 1 - e.prev_match, e.prev_length - 3), e.lookahead -= e.prev_length - 1, e.prev_length -= 2; ++e.strstart <= r && (e.ins_h = (e.ins_h << e.hash_shift ^ e.window[e.strstart + 3 - 1]) & e.hash_mask, n = e.prev[e.strstart & e.w_mask] = e.head[e.ins_h], e.head[e.ins_h] = e.strstart), 0 != --e.prev_length;); if (e.match_available = 0, e.match_length = 2, e.strstart++, a && (h(e, !1), 0 === e.strm.avail_out)) return 1 } else if (e.match_available) { if ((a = s._tr_tally(e, 0, e.window[e.strstart - 1])) && h(e, !1), e.strstart++, e.lookahead--, 0 === e.strm.avail_out) return 1 } else e.match_available = 1, e.strstart++, e.lookahead-- } return e.match_available && (a = s._tr_tally(e, 0, e.window[e.strstart - 1]), e.match_available = 0), e.insert = e.strstart < 2 ? e.strstart : 2, 4 === t ? (h(e, !0), 0 === e.strm.avail_out ? 3 : 4) : e.last_lit && (h(e, !1), 0 === e.strm.avail_out) ? 1 : 2 } function E(e, t, n, a, r) { this.good_length = e, this.max_lazy = t, this.nice_length = n, this.max_chain = a, this.func = r } function S() { this.strm = null, this.status = 0, this.pending_buf = null, this.pending_buf_size = 0, this.pending_out = 0, this.pending = 0, this.wrap = 0, this.gzhead = null, this.gzindex = 0, this.method = 8, this.last_flush = -1, this.w_size = 0, this.w_bits = 0, this.w_mask = 0, this.window = null, this.window_size = 0, this.prev = null, this.head = null, this.ins_h = 0, this.hash_size = 0, this.hash_bits = 0, this.hash_mask = 0, this.hash_shift = 0, this.block_start = 0, this.match_length = 0, this.prev_match = 0, this.match_available = 0, this.strstart = 0, this.match_start = 0, this.lookahead = 0, this.prev_length = 0, this.max_chain_length = 0, this.max_lazy_match = 0, this.level = 0, this.strategy = 0, this.good_match = 0, this.nice_match = 0, this.dyn_ltree = new r.Buf16(1146), this.dyn_dtree = new r.Buf16(122), this.bl_tree = new r.Buf16(78), _(this.dyn_ltree), _(this.dyn_dtree), _(this.bl_tree), this.l_desc = null, this.d_desc = null, this.bl_desc = null, this.bl_count = new r.Buf16(16), this.heap = new r.Buf16(573), _(this.heap), this.heap_len = 0, this.heap_max = 0, this.depth = new r.Buf16(573), _(this.depth), this.l_buf = 0, this.lit_bufsize = 0, this.last_lit = 0, this.d_buf = 0, this.opt_len = 0, this.static_len = 0, this.matches = 0, this.insert = 0, this.bi_buf = 0, this.bi_valid = 0 } function z(e) { var t; return e && e.state ? (e.total_in = e.total_out = 0, e.data_type = 2, (t = e.state).pending = 0, t.pending_out = 0, t.wrap < 0 && (t.wrap = -t.wrap), t.status = t.wrap ? 42 : A, e.adler = 2 === t.wrap ? 0 : 1, t.last_flush = 0, s._tr_init(t), 0) : p(e, m) } function q(e) { var t = z(e); return 0 === t && function (e) { e.window_size = 2 * e.w_size, _(e.head), e.max_lazy_match = a[e.level].max_lazy, e.good_match = a[e.level].good_length, e.nice_match = a[e.level].nice_length, e.max_chain_length = a[e.level].max_chain, e.strstart = 0, e.block_start = 0, e.lookahead = 0, e.insert = 0, e.match_length = e.prev_length = 2, e.match_available = 0, e.ins_h = 0 }(e.state), t } function k(e, t, n, a, s, i) { if (!e) return m; var o = 1; if (-1 === t && (t = 6), a < 0 ? (o = 0, a = -a) : 15 < a && (o = 2, a -= 16), s < 1 || 9 < s || 8 !== n || a < 8 || 15 < a || t < 0 || 9 < t || i < 0 || 4 < i) return p(e, m); 8 === a && (a = 9); var l = new S; return (e.state = l).strm = e, l.wrap = o, l.gzhead = null, l.w_bits = a, l.w_size = 1 << l.w_bits, l.w_mask = l.w_size - 1, l.hash_bits = s + 7, l.hash_size = 1 << l.hash_bits, l.hash_mask = l.hash_size - 1, l.hash_shift = ~~((l.hash_bits + 3 - 1) / 3), l.window = new r.Buf8(2 * l.w_size), l.head = new r.Buf16(l.hash_size), l.prev = new r.Buf16(l.w_size), l.lit_bufsize = 1 << s + 6, l.pending_buf_size = 4 * l.lit_bufsize, l.pending_buf = new r.Buf8(l.pending_buf_size), l.d_buf = 1 * l.lit_bufsize, l.l_buf = 3 * l.lit_bufsize, l.level = t, l.strategy = i, l.method = n, q(e) } a = [new E(0, 0, 0, 0, function (e, t) { var n = 65535; for (n > e.pending_buf_size - 5 && (n = e.pending_buf_size - 5); ;) { if (e.lookahead <= 1) { if (x(e), 0 === e.lookahead && 0 === t) return 1; if (0 === e.lookahead) break } e.strstart += e.lookahead, e.lookahead = 0; var a = e.block_start + n; if ((0 === e.strstart || e.strstart >= a) && (e.lookahead = e.strstart - a, e.strstart = a, h(e, !1), 0 === e.strm.avail_out)) return 1; if (e.strstart - e.block_start >= e.w_size - u && (h(e, !1), 0 === e.strm.avail_out)) return 1 } return e.insert = 0, 4 === t ? (h(e, !0), 0 === e.strm.avail_out ? 3 : 4) : (e.strstart > e.block_start && (h(e, !1), e.strm.avail_out), 1) }), new E(4, 4, 8, 4, y), new E(4, 5, 16, 8, y), new E(4, 6, 32, 32, y), new E(4, 4, 16, 16, w), new E(8, 16, 32, 32, w), new E(8, 16, 128, 128, w), new E(8, 32, 128, 256, w), new E(32, 128, 258, 1024, w), new E(32, 258, 258, 4096, w)], n.deflateInit = function (e, t) { return k(e, t, 8, 15, 8, 0) }, n.deflateInit2 = k, n.deflateReset = q, n.deflateResetKeep = z, n.deflateSetHeader = function (e, t) { return e && e.state ? 2 !== e.state.wrap ? m : (e.state.gzhead = t, 0) : m }, n.deflate = function (e, t) { var n, r, i, l; if (!e || !e.state || 5 < t || t < 0) return e ? p(e, m) : m; if (r = e.state, !e.output || !e.input && 0 !== e.avail_in || 666 === r.status && 4 !== t) return p(e, 0 === e.avail_out ? -5 : m); if (r.strm = e, n = r.last_flush, r.last_flush = t, 42 === r.status) if (2 === r.wrap) e.adler = 0, g(r, 31), g(r, 139), g(r, 8), r.gzhead ? (g(r, (r.gzhead.text ? 1 : 0) + (r.gzhead.hcrc ? 2 : 0) + (r.gzhead.extra ? 4 : 0) + (r.gzhead.name ? 8 : 0) + (r.gzhead.comment ? 16 : 0)), g(r, 255 & r.gzhead.time), g(r, r.gzhead.time >> 8 & 255), g(r, r.gzhead.time >> 16 & 255), g(r, r.gzhead.time >> 24 & 255), g(r, 9 === r.level ? 2 : 2 <= r.strategy || r.level < 2 ? 4 : 0), g(r, 255 & r.gzhead.os), r.gzhead.extra && r.gzhead.extra.length && (g(r, 255 & r.gzhead.extra.length), g(r, r.gzhead.extra.length >> 8 & 255)), r.gzhead.hcrc && (e.adler = o(e.adler, r.pending_buf, r.pending, 0)), r.gzindex = 0, r.status = 69) : (g(r, 0), g(r, 0), g(r, 0), g(r, 0), g(r, 0), g(r, 9 === r.level ? 2 : 2 <= r.strategy || r.level < 2 ? 4 : 0), g(r, 3), r.status = A); else { var u = 8 + (r.w_bits - 8 << 4) << 8; u |= (2 <= r.strategy || r.level < 2 ? 0 : r.level < 6 ? 1 : 6 === r.level ? 2 : 3) << 6, 0 !== r.strstart && (u |= 32), u += 31 - u % 31, r.status = A, f(r, u), 0 !== r.strstart && (f(r, e.adler >>> 16), f(r, 65535 & e.adler)), e.adler = 1 } if (69 === r.status) if (r.gzhead.extra) { for (i = r.pending; r.gzindex < (65535 & r.gzhead.extra.length) && (r.pending !== r.pending_buf_size || (r.gzhead.hcrc && r.pending > i && (e.adler = o(e.adler, r.pending_buf, r.pending - i, i)), v(e), i = r.pending, r.pending !== r.pending_buf_size));)g(r, 255 & r.gzhead.extra[r.gzindex]), r.gzindex++; r.gzhead.hcrc && r.pending > i && (e.adler = o(e.adler, r.pending_buf, r.pending - i, i)), r.gzindex === r.gzhead.extra.length && (r.gzindex = 0, r.status = 73) } else r.status = 73; if (73 === r.status) if (r.gzhead.name) { i = r.pending; do { if (r.pending === r.pending_buf_size && (r.gzhead.hcrc && r.pending > i && (e.adler = o(e.adler, r.pending_buf, r.pending - i, i)), v(e), i = r.pending, r.pending === r.pending_buf_size)) { l = 1; break } l = r.gzindex < r.gzhead.name.length ? 255 & r.gzhead.name.charCodeAt(r.gzindex++) : 0, g(r, l) } while (0 !== l); r.gzhead.hcrc && r.pending > i && (e.adler = o(e.adler, r.pending_buf, r.pending - i, i)), 0 === l && (r.gzindex = 0, r.status = 91) } else r.status = 91; if (91 === r.status) if (r.gzhead.comment) { i = r.pending; do { if (r.pending === r.pending_buf_size && (r.gzhead.hcrc && r.pending > i && (e.adler = o(e.adler, r.pending_buf, r.pending - i, i)), v(e), i = r.pending, r.pending === r.pending_buf_size)) { l = 1; break } l = r.gzindex < r.gzhead.comment.length ? 255 & r.gzhead.comment.charCodeAt(r.gzindex++) : 0, g(r, l) } while (0 !== l); r.gzhead.hcrc && r.pending > i && (e.adler = o(e.adler, r.pending_buf, r.pending - i, i)), 0 === l && (r.status = 103) } else r.status = 103; if (103 === r.status && (r.gzhead.hcrc ? (r.pending + 2 > r.pending_buf_size && v(e), r.pending + 2 <= r.pending_buf_size && (g(r, 255 & e.adler), g(r, e.adler >> 8 & 255), e.adler = 0, r.status = A)) : r.status = A), 0 !== r.pending) { if (v(e), 0 === e.avail_out) return r.last_flush = -1, 0 } else if (0 === e.avail_in && d(t) <= d(n) && 4 !== t) return p(e, -5); if (666 === r.status && 0 !== e.avail_in) return p(e, -5); if (0 !== e.avail_in || 0 !== r.lookahead || 0 !== t && 666 !== r.status) { var b = 2 === r.strategy ? function (e, t) { for (var n; ;) { if (0 === e.lookahead && (x(e), 0 === e.lookahead)) { if (0 === t) return 1; break } if (e.match_length = 0, n = s._tr_tally(e, 0, e.window[e.strstart]), e.lookahead--, e.strstart++, n && (h(e, !1), 0 === e.strm.avail_out)) return 1 } return e.insert = 0, 4 === t ? (h(e, !0), 0 === e.strm.avail_out ? 3 : 4) : e.last_lit && (h(e, !1), 0 === e.strm.avail_out) ? 1 : 2 }(r, t) : 3 === r.strategy ? function (e, t) { for (var n, a, r, i, o = e.window; ;) { if (e.lookahead <= c) { if (x(e), e.lookahead <= c && 0 === t) return 1; if (0 === e.lookahead) break } if (e.match_length = 0, e.lookahead >= 3 && 0 < e.strstart && (a = o[r = e.strstart - 1]) === o[++r] && a === o[++r] && a === o[++r]) { i = e.strstart + c; do { } while (a === o[++r] && a === o[++r] && a === o[++r] && a === o[++r] && a === o[++r] && a === o[++r] && a === o[++r] && a === o[++r] && r < i); e.match_length = c - (i - r), e.match_length > e.lookahead && (e.match_length = e.lookahead) } if (e.match_length >= 3 ? (n = s._tr_tally(e, 1, e.match_length - 3), e.lookahead -= e.match_length, e.strstart += e.match_length, e.match_length = 0) : (n = s._tr_tally(e, 0, e.window[e.strstart]), e.lookahead--, e.strstart++), n && (h(e, !1), 0 === e.strm.avail_out)) return 1 } return e.insert = 0, 4 === t ? (h(e, !0), 0 === e.strm.avail_out ? 3 : 4) : e.last_lit && (h(e, !1), 0 === e.strm.avail_out) ? 1 : 2 }(r, t) : a[r.level].func(r, t); if (3 !== b && 4 !== b || (r.status = 666), 1 === b || 3 === b) return 0 === e.avail_out && (r.last_flush = -1), 0; if (2 === b && (1 === t ? s._tr_align(r) : 5 !== t && (s._tr_stored_block(r, 0, 0, !1), 3 === t && (_(r.head), 0 === r.lookahead && (r.strstart = 0, r.block_start = 0, r.insert = 0))), v(e), 0 === e.avail_out)) return r.last_flush = -1, 0 } return 4 !== t ? 0 : r.wrap <= 0 ? 1 : (2 === r.wrap ? (g(r, 255 & e.adler), g(r, e.adler >> 8 & 255), g(r, e.adler >> 16 & 255), g(r, e.adler >> 24 & 255), g(r, 255 & e.total_in), g(r, e.total_in >> 8 & 255), g(r, e.total_in >> 16 & 255), g(r, e.total_in >> 24 & 255)) : (f(r, e.adler >>> 16), f(r, 65535 & e.adler)), v(e), 0 < r.wrap && (r.wrap = -r.wrap), 0 !== r.pending ? 0 : 1) }, n.deflateEnd = function (e) { var t; return e && e.state ? 42 !== (t = e.state.status) && 69 !== t && 73 !== t && 91 !== t && 103 !== t && t !== A && 666 !== t ? p(e, m) : (e.state = null, t === A ? p(e, -3) : 0) : m }, n.deflateSetDictionary = function (e, t) { var n, a, s, o, l, c, u, A, p = t.length; if (!e || !e.state) return m; if (2 === (o = (n = e.state).wrap) || 1 === o && 42 !== n.status || n.lookahead) return m; for (1 === o && (e.adler = i(e.adler, t, p, 0)), n.wrap = 0, p >= n.w_size && (0 === o && (_(n.head), n.strstart = 0, n.block_start = 0, n.insert = 0), A = new r.Buf8(n.w_size), r.arraySet(A, t, p - n.w_size, n.w_size, 0), t = A, p = n.w_size), l = e.avail_in, c = e.next_in, u = e.input, e.avail_in = p, e.next_in = 0, e.input = t, x(n); n.lookahead >= 3;) { for (a = n.strstart, s = n.lookahead - 2; n.ins_h = (n.ins_h << n.hash_shift ^ n.window[a + 3 - 1]) & n.hash_mask, n.prev[a & n.w_mask] = n.head[n.ins_h], n.head[n.ins_h] = a, a++, --s;); n.strstart = a, n.lookahead = 2, x(n) } return n.strstart += n.lookahead, n.block_start = n.strstart, n.insert = n.lookahead, n.lookahead = 0, n.match_length = n.prev_length = 2, n.match_available = 0, e.next_in = c, e.input = u, e.avail_in = l, n.wrap = o, 0 }, n.deflateInfo = "pako deflate (from Nodeca project)" }, { "../utils/common": 41, "./adler32": 43, "./crc32": 45, "./messages": 51, "./trees": 52 }], 47: [function (e, t, n) { t.exports = function () { this.text = 0, this.time = 0, this.xflags = 0, this.os = 0, this.extra = null, this.extra_len = 0, this.name = "", this.comment = "", this.hcrc = 0, this.done = !1 } }, {}], 48: [function (e, t, n) { t.exports = function (e, t) { var n, a, r, s, i, o, l, m, c, u, A, p, d, _, v, h, g, f, b, x, y, w, E, S, z; n = e.state, a = e.next_in, S = e.input, r = a + (e.avail_in - 5), s = e.next_out, z = e.output, i = s - (t - e.avail_out), o = s + (e.avail_out - 257), l = n.dmax, m = n.wsize, c = n.whave, u = n.wnext, A = n.window, p = n.hold, d = n.bits, _ = n.lencode, v = n.distcode, h = (1 << n.lenbits) - 1, g = (1 << n.distbits) - 1; e: do { d < 15 && (p += S[a++] << d, d += 8, p += S[a++] << d, d += 8), f = _[p & h]; t: for (; ;) { if (p >>>= b = f >>> 24, d -= b, 0 == (b = f >>> 16 & 255)) z[s++] = 65535 & f; else { if (!(16 & b)) { if (!(64 & b)) { f = _[(65535 & f) + (p & (1 << b) - 1)]; continue t } if (32 & b) { n.mode = 12; break e } e.msg = "invalid literal/length code", n.mode = 30; break e } x = 65535 & f, (b &= 15) && (d < b && (p += S[a++] << d, d += 8), x += p & (1 << b) - 1, p >>>= b, d -= b), d < 15 && (p += S[a++] << d, d += 8, p += S[a++] << d, d += 8), f = v[p & g]; n: for (; ;) { if (p >>>= b = f >>> 24, d -= b, !(16 & (b = f >>> 16 & 255))) { if (!(64 & b)) { f = v[(65535 & f) + (p & (1 << b) - 1)]; continue n } e.msg = "invalid distance code", n.mode = 30; break e } if (y = 65535 & f, d < (b &= 15) && (p += S[a++] << d, (d += 8) < b && (p += S[a++] << d, d += 8)), l < (y += p & (1 << b) - 1)) { e.msg = "invalid distance too far back", n.mode = 30; break e } if (p >>>= b, d -= b, (b = s - i) < y) { if (c < (b = y - b) && n.sane) { e.msg = "invalid distance too far back", n.mode = 30; break e } if (E = A, (w = 0) === u) { if (w += m - b, b < x) { for (x -= b; z[s++] = A[w++], --b;); w = s - y, E = z } } else if (u < b) { if (w += m + u - b, (b -= u) < x) { for (x -= b; z[s++] = A[w++], --b;); if (w = 0, u < x) { for (x -= b = u; z[s++] = A[w++], --b;); w = s - y, E = z } } } else if (w += u - b, b < x) { for (x -= b; z[s++] = A[w++], --b;); w = s - y, E = z } for (; 2 < x;)z[s++] = E[w++], z[s++] = E[w++], z[s++] = E[w++], x -= 3; x && (z[s++] = E[w++], 1 < x && (z[s++] = E[w++])) } else { for (w = s - y; z[s++] = z[w++], z[s++] = z[w++], z[s++] = z[w++], 2 < (x -= 3);); x && (z[s++] = z[w++], 1 < x && (z[s++] = z[w++])) } break } } break } } while (a < r && s < o); a -= x = d >> 3, p &= (1 << (d -= x << 3)) - 1, e.next_in = a, e.next_out = s, e.avail_in = a < r ? r - a + 5 : 5 - (a - r), e.avail_out = s < o ? o - s + 257 : 257 - (s - o), n.hold = p, n.bits = d } }, {}], 49: [function (e, t, n) { var a = e("../utils/common"), r = e("./adler32"), s = e("./crc32"), i = e("./inffast"), o = e("./inftrees"), l = -2; function m(e) { return (e >>> 24 & 255) + (e >>> 8 & 65280) + ((65280 & e) << 8) + ((255 & e) << 24) } function c() { this.mode = 0, this.last = !1, this.wrap = 0, this.havedict = !1, this.flags = 0, this.dmax = 0, this.check = 0, this.total = 0, this.head = null, this.wbits = 0, this.wsize = 0, this.whave = 0, this.wnext = 0, this.window = null, this.hold = 0, this.bits = 0, this.length = 0, this.offset = 0, this.extra = 0, this.lencode = null, this.distcode = null, this.lenbits = 0, this.distbits = 0, this.ncode = 0, this.nlen = 0, this.ndist = 0, this.have = 0, this.next = null, this.lens = new a.Buf16(320), this.work = new a.Buf16(288), this.lendyn = null, this.distdyn = null, this.sane = 0, this.back = 0, this.was = 0 } function u(e) { var t; return e && e.state ? (t = e.state, e.total_in = e.total_out = t.total = 0, e.msg = "", t.wrap && (e.adler = 1 & t.wrap), t.mode = 1, t.last = 0, t.havedict = 0, t.dmax = 32768, t.head = null, t.hold = 0, t.bits = 0, t.lencode = t.lendyn = new a.Buf32(852), t.distcode = t.distdyn = new a.Buf32(592), t.sane = 1, t.back = -1, 0) : l } function A(e) { var t; return e && e.state ? ((t = e.state).wsize = 0, t.whave = 0, t.wnext = 0, u(e)) : l } function p(e, t) { var n, a; return e && e.state ? (a = e.state, t < 0 ? (n = 0, t = -t) : (n = 1 + (t >> 4), t < 48 && (t &= 15)), t && (t < 8 || 15 < t) ? l : (null !== a.window && a.wbits !== t && (a.window = null), a.wrap = n, a.wbits = t, A(e))) : l } function d(e, t) { var n, a; return e ? (a = new c, (e.state = a).window = null, 0 !== (n = p(e, t)) && (e.state = null), n) : l } var _, v, h = !0; function g(e) { if (h) { var t; for (_ = new a.Buf32(512), v = new a.Buf32(32), t = 0; t < 144;)e.lens[t++] = 8; for (; t < 256;)e.lens[t++] = 9; for (; t < 280;)e.lens[t++] = 7; for (; t < 288;)e.lens[t++] = 8; for (o(1, e.lens, 0, 288, _, 0, e.work, { bits: 9 }), t = 0; t < 32;)e.lens[t++] = 5; o(2, e.lens, 0, 32, v, 0, e.work, { bits: 5 }), h = !1 } e.lencode = _, e.lenbits = 9, e.distcode = v, e.distbits = 5 } function f(e, t, n, r) { var s, i = e.state; return null === i.window && (i.wsize = 1 << i.wbits, i.wnext = 0, i.whave = 0, i.window = new a.Buf8(i.wsize)), r >= i.wsize ? (a.arraySet(i.window, t, n - i.wsize, i.wsize, 0), i.wnext = 0, i.whave = i.wsize) : (r < (s = i.wsize - i.wnext) && (s = r), a.arraySet(i.window, t, n - r, s, i.wnext), (r -= s) ? (a.arraySet(i.window, t, n - r, r, 0), i.wnext = r, i.whave = i.wsize) : (i.wnext += s, i.wnext === i.wsize && (i.wnext = 0), i.whave < i.wsize && (i.whave += s))), 0 } n.inflateReset = A, n.inflateReset2 = p, n.inflateResetKeep = u, n.inflateInit = function (e) { return d(e, 15) }, n.inflateInit2 = d, n.inflate = function (e, t) { var n, c, u, A, p, d, _, v, h, b, x, y, w, E, S, z, q, k, T, I, C, R, P, B, M = 0, U = new a.Buf8(4), D = [16, 17, 18, 0, 8, 7, 9, 6, 10, 5, 11, 4, 12, 3, 13, 2, 14, 1, 15]; if (!e || !e.state || !e.output || !e.input && 0 !== e.avail_in) return l; 12 === (n = e.state).mode && (n.mode = 13), p = e.next_out, u = e.output, _ = e.avail_out, A = e.next_in, c = e.input, d = e.avail_in, v = n.hold, h = n.bits, b = d, x = _, R = 0; e: for (; ;)switch (n.mode) { case 1: if (0 === n.wrap) { n.mode = 13; break } for (; h < 16;) { if (0 === d) break e; d--, v += c[A++] << h, h += 8 } if (2 & n.wrap && 35615 === v) { U[n.check = 0] = 255 & v, U[1] = v >>> 8 & 255, n.check = s(n.check, U, 2, 0), h = v = 0, n.mode = 2; break } if (n.flags = 0, n.head && (n.head.done = !1), !(1 & n.wrap) || (((255 & v) << 8) + (v >> 8)) % 31) { e.msg = "incorrect header check", n.mode = 30; break } if (8 != (15 & v)) { e.msg = "unknown compression method", n.mode = 30; break } if (h -= 4, C = 8 + (15 & (v >>>= 4)), 0 === n.wbits) n.wbits = C; else if (C > n.wbits) { e.msg = "invalid window size", n.mode = 30; break } n.dmax = 1 << C, e.adler = n.check = 1, n.mode = 512 & v ? 10 : 12, h = v = 0; break; case 2: for (; h < 16;) { if (0 === d) break e; d--, v += c[A++] << h, h += 8 } if (n.flags = v, 8 != (255 & n.flags)) { e.msg = "unknown compression method", n.mode = 30; break } if (57344 & n.flags) { e.msg = "unknown header flags set", n.mode = 30; break } n.head && (n.head.text = v >> 8 & 1), 512 & n.flags && (U[0] = 255 & v, U[1] = v >>> 8 & 255, n.check = s(n.check, U, 2, 0)), h = v = 0, n.mode = 3; case 3: for (; h < 32;) { if (0 === d) break e; d--, v += c[A++] << h, h += 8 } n.head && (n.head.time = v), 512 & n.flags && (U[0] = 255 & v, U[1] = v >>> 8 & 255, U[2] = v >>> 16 & 255, U[3] = v >>> 24 & 255, n.check = s(n.check, U, 4, 0)), h = v = 0, n.mode = 4; case 4: for (; h < 16;) { if (0 === d) break e; d--, v += c[A++] << h, h += 8 } n.head && (n.head.xflags = 255 & v, n.head.os = v >> 8), 512 & n.flags && (U[0] = 255 & v, U[1] = v >>> 8 & 255, n.check = s(n.check, U, 2, 0)), h = v = 0, n.mode = 5; case 5: if (1024 & n.flags) { for (; h < 16;) { if (0 === d) break e; d--, v += c[A++] << h, h += 8 } n.length = v, n.head && (n.head.extra_len = v), 512 & n.flags && (U[0] = 255 & v, U[1] = v >>> 8 & 255, n.check = s(n.check, U, 2, 0)), h = v = 0 } else n.head && (n.head.extra = null); n.mode = 6; case 6: if (1024 & n.flags && (d < (y = n.length) && (y = d), y && (n.head && (C = n.head.extra_len - n.length, n.head.extra || (n.head.extra = new Array(n.head.extra_len)), a.arraySet(n.head.extra, c, A, y, C)), 512 & n.flags && (n.check = s(n.check, c, y, A)), d -= y, A += y, n.length -= y), n.length)) break e; n.length = 0, n.mode = 7; case 7: if (2048 & n.flags) { if (0 === d) break e; for (y = 0; C = c[A + y++], n.head && C && n.length < 65536 && (n.head.name += String.fromCharCode(C)), C && y < d;); if (512 & n.flags && (n.check = s(n.check, c, y, A)), d -= y, A += y, C) break e } else n.head && (n.head.name = null); n.length = 0, n.mode = 8; case 8: if (4096 & n.flags) { if (0 === d) break e; for (y = 0; C = c[A + y++], n.head && C && n.length < 65536 && (n.head.comment += String.fromCharCode(C)), C && y < d;); if (512 & n.flags && (n.check = s(n.check, c, y, A)), d -= y, A += y, C) break e } else n.head && (n.head.comment = null); n.mode = 9; case 9: if (512 & n.flags) { for (; h < 16;) { if (0 === d) break e; d--, v += c[A++] << h, h += 8 } if (v !== (65535 & n.check)) { e.msg = "header crc mismatch", n.mode = 30; break } h = v = 0 } n.head && (n.head.hcrc = n.flags >> 9 & 1, n.head.done = !0), e.adler = n.check = 0, n.mode = 12; break; case 10: for (; h < 32;) { if (0 === d) break e; d--, v += c[A++] << h, h += 8 } e.adler = n.check = m(v), h = v = 0, n.mode = 11; case 11: if (0 === n.havedict) return e.next_out = p, e.avail_out = _, e.next_in = A, e.avail_in = d, n.hold = v, n.bits = h, 2; e.adler = n.check = 1, n.mode = 12; case 12: if (5 === t || 6 === t) break e; case 13: if (n.last) { v >>>= 7 & h, h -= 7 & h, n.mode = 27; break } for (; h < 3;) { if (0 === d) break e; d--, v += c[A++] << h, h += 8 } switch (n.last = 1 & v, h -= 1, 3 & (v >>>= 1)) { case 0: n.mode = 14; break; case 1: if (g(n), n.mode = 20, 6 !== t) break; v >>>= 2, h -= 2; break e; case 2: n.mode = 17; break; case 3: e.msg = "invalid block type", n.mode = 30 }v >>>= 2, h -= 2; break; case 14: for (v >>>= 7 & h, h -= 7 & h; h < 32;) { if (0 === d) break e; d--, v += c[A++] << h, h += 8 } if ((65535 & v) != (v >>> 16 ^ 65535)) { e.msg = "invalid stored block lengths", n.mode = 30; break } if (n.length = 65535 & v, h = v = 0, n.mode = 15, 6 === t) break e; case 15: n.mode = 16; case 16: if (y = n.length) { if (d < y && (y = d), _ < y && (y = _), 0 === y) break e; a.arraySet(u, c, A, y, p), d -= y, A += y, _ -= y, p += y, n.length -= y; break } n.mode = 12; break; case 17: for (; h < 14;) { if (0 === d) break e; d--, v += c[A++] << h, h += 8 } if (n.nlen = 257 + (31 & v), v >>>= 5, h -= 5, n.ndist = 1 + (31 & v), v >>>= 5, h -= 5, n.ncode = 4 + (15 & v), v >>>= 4, h -= 4, 286 < n.nlen || 30 < n.ndist) { e.msg = "too many length or distance symbols", n.mode = 30; break } n.have = 0, n.mode = 18; case 18: for (; n.have < n.ncode;) { for (; h < 3;) { if (0 === d) break e; d--, v += c[A++] << h, h += 8 } n.lens[D[n.have++]] = 7 & v, v >>>= 3, h -= 3 } for (; n.have < 19;)n.lens[D[n.have++]] = 0; if (n.lencode = n.lendyn, n.lenbits = 7, P = { bits: n.lenbits }, R = o(0, n.lens, 0, 19, n.lencode, 0, n.work, P), n.lenbits = P.bits, R) { e.msg = "invalid code lengths set", n.mode = 30; break } n.have = 0, n.mode = 19; case 19: for (; n.have < n.nlen + n.ndist;) { for (; z = (M = n.lencode[v & (1 << n.lenbits) - 1]) >>> 16 & 255, q = 65535 & M, !((S = M >>> 24) <= h);) { if (0 === d) break e; d--, v += c[A++] << h, h += 8 } if (q < 16) v >>>= S, h -= S, n.lens[n.have++] = q; else { if (16 === q) { for (B = S + 2; h < B;) { if (0 === d) break e; d--, v += c[A++] << h, h += 8 } if (v >>>= S, h -= S, 0 === n.have) { e.msg = "invalid bit length repeat", n.mode = 30; break } C = n.lens[n.have - 1], y = 3 + (3 & v), v >>>= 2, h -= 2 } else if (17 === q) { for (B = S + 3; h < B;) { if (0 === d) break e; d--, v += c[A++] << h, h += 8 } h -= S, C = 0, y = 3 + (7 & (v >>>= S)), v >>>= 3, h -= 3 } else { for (B = S + 7; h < B;) { if (0 === d) break e; d--, v += c[A++] << h, h += 8 } h -= S, C = 0, y = 11 + (127 & (v >>>= S)), v >>>= 7, h -= 7 } if (n.have + y > n.nlen + n.ndist) { e.msg = "invalid bit length repeat", n.mode = 30; break } for (; y--;)n.lens[n.have++] = C } } if (30 === n.mode) break; if (0 === n.lens[256]) { e.msg = "invalid code -- missing end-of-block", n.mode = 30; break } if (n.lenbits = 9, P = { bits: n.lenbits }, R = o(1, n.lens, 0, n.nlen, n.lencode, 0, n.work, P), n.lenbits = P.bits, R) { e.msg = "invalid literal/lengths set", n.mode = 30; break } if (n.distbits = 6, n.distcode = n.distdyn, P = { bits: n.distbits }, R = o(2, n.lens, n.nlen, n.ndist, n.distcode, 0, n.work, P), n.distbits = P.bits, R) { e.msg = "invalid distances set", n.mode = 30; break } if (n.mode = 20, 6 === t) break e; case 20: n.mode = 21; case 21: if (6 <= d && 258 <= _) { e.next_out = p, e.avail_out = _, e.next_in = A, e.avail_in = d, n.hold = v, n.bits = h, i(e, x), p = e.next_out, u = e.output, _ = e.avail_out, A = e.next_in, c = e.input, d = e.avail_in, v = n.hold, h = n.bits, 12 === n.mode && (n.back = -1); break } for (n.back = 0; z = (M = n.lencode[v & (1 << n.lenbits) - 1]) >>> 16 & 255, q = 65535 & M, !((S = M >>> 24) <= h);) { if (0 === d) break e; d--, v += c[A++] << h, h += 8 } if (z && !(240 & z)) { for (k = S, T = z, I = q; z = (M = n.lencode[I + ((v & (1 << k + T) - 1) >> k)]) >>> 16 & 255, q = 65535 & M, !(k + (S = M >>> 24) <= h);) { if (0 === d) break e; d--, v += c[A++] << h, h += 8 } v >>>= k, h -= k, n.back += k } if (v >>>= S, h -= S, n.back += S, n.length = q, 0 === z) { n.mode = 26; break } if (32 & z) { n.back = -1, n.mode = 12; break } if (64 & z) { e.msg = "invalid literal/length code", n.mode = 30; break } n.extra = 15 & z, n.mode = 22; case 22: if (n.extra) { for (B = n.extra; h < B;) { if (0 === d) break e; d--, v += c[A++] << h, h += 8 } n.length += v & (1 << n.extra) - 1, v >>>= n.extra, h -= n.extra, n.back += n.extra } n.was = n.length, n.mode = 23; case 23: for (; z = (M = n.distcode[v & (1 << n.distbits) - 1]) >>> 16 & 255, q = 65535 & M, !((S = M >>> 24) <= h);) { if (0 === d) break e; d--, v += c[A++] << h, h += 8 } if (!(240 & z)) { for (k = S, T = z, I = q; z = (M = n.distcode[I + ((v & (1 << k + T) - 1) >> k)]) >>> 16 & 255, q = 65535 & M, !(k + (S = M >>> 24) <= h);) { if (0 === d) break e; d--, v += c[A++] << h, h += 8 } v >>>= k, h -= k, n.back += k } if (v >>>= S, h -= S, n.back += S, 64 & z) { e.msg = "invalid distance code", n.mode = 30; break } n.offset = q, n.extra = 15 & z, n.mode = 24; case 24: if (n.extra) { for (B = n.extra; h < B;) { if (0 === d) break e; d--, v += c[A++] << h, h += 8 } n.offset += v & (1 << n.extra) - 1, v >>>= n.extra, h -= n.extra, n.back += n.extra } if (n.offset > n.dmax) { e.msg = "invalid distance too far back", n.mode = 30; break } n.mode = 25; case 25: if (0 === _) break e; if (y = x - _, n.offset > y) { if ((y = n.offset - y) > n.whave && n.sane) { e.msg = "invalid distance too far back", n.mode = 30; break } w = y > n.wnext ? (y -= n.wnext, n.wsize - y) : n.wnext - y, y > n.length && (y = n.length), E = n.window } else E = u, w = p - n.offset, y = n.length; for (_ < y && (y = _), _ -= y, n.length -= y; u[p++] = E[w++], --y;); 0 === n.length && (n.mode = 21); break; case 26: if (0 === _) break e; u[p++] = n.length, _--, n.mode = 21; break; case 27: if (n.wrap) { for (; h < 32;) { if (0 === d) break e; d--, v |= c[A++] << h, h += 8 } if (x -= _, e.total_out += x, n.total += x, x && (e.adler = n.check = n.flags ? s(n.check, u, x, p - x) : r(n.check, u, x, p - x)), x = _, (n.flags ? v : m(v)) !== n.check) { e.msg = "incorrect data check", n.mode = 30; break } h = v = 0 } n.mode = 28; case 28: if (n.wrap && n.flags) { for (; h < 32;) { if (0 === d) break e; d--, v += c[A++] << h, h += 8 } if (v !== (4294967295 & n.total)) { e.msg = "incorrect length check", n.mode = 30; break } h = v = 0 } n.mode = 29; case 29: R = 1; break e; case 30: R = -3; break e; case 31: return -4; default: return l }return e.next_out = p, e.avail_out = _, e.next_in = A, e.avail_in = d, n.hold = v, n.bits = h, (n.wsize || x !== e.avail_out && n.mode < 30 && (n.mode < 27 || 4 !== t)) && f(e, e.output, e.next_out, x - e.avail_out) ? (n.mode = 31, -4) : (b -= e.avail_in, x -= e.avail_out, e.total_in += b, e.total_out += x, n.total += x, n.wrap && x && (e.adler = n.check = n.flags ? s(n.check, u, x, e.next_out - x) : r(n.check, u, x, e.next_out - x)), e.data_type = n.bits + (n.last ? 64 : 0) + (12 === n.mode ? 128 : 0) + (20 === n.mode || 15 === n.mode ? 256 : 0), (0 == b && 0 === x || 4 === t) && 0 === R && (R = -5), R) }, n.inflateEnd = function (e) { if (!e || !e.state) return l; var t = e.state; return t.window && (t.window = null), e.state = null, 0 }, n.inflateGetHeader = function (e, t) { var n; return e && e.state && 2 & (n = e.state).wrap ? ((n.head = t).done = !1, 0) : l }, n.inflateSetDictionary = function (e, t) { var n, a = t.length; return e && e.state ? 0 !== (n = e.state).wrap && 11 !== n.mode ? l : 11 === n.mode && r(1, t, a, 0) !== n.check ? -3 : f(e, t, a, a) ? (n.mode = 31, -4) : (n.havedict = 1, 0) : l }, n.inflateInfo = "pako inflate (from Nodeca project)" }, { "../utils/common": 41, "./adler32": 43, "./crc32": 45, "./inffast": 48, "./inftrees": 50 }], 50: [function (e, t, n) { var a = e("../utils/common"), r = [3, 4, 5, 6, 7, 8, 9, 10, 11, 13, 15, 17, 19, 23, 27, 31, 35, 43, 51, 59, 67, 83, 99, 115, 131, 163, 195, 227, 258, 0, 0], s = [16, 16, 16, 16, 16, 16, 16, 16, 17, 17, 17, 17, 18, 18, 18, 18, 19, 19, 19, 19, 20, 20, 20, 20, 21, 21, 21, 21, 16, 72, 78], i = [1, 2, 3, 4, 5, 7, 9, 13, 17, 25, 33, 49, 65, 97, 129, 193, 257, 385, 513, 769, 1025, 1537, 2049, 3073, 4097, 6145, 8193, 12289, 16385, 24577, 0, 0], o = [16, 16, 16, 16, 17, 17, 18, 18, 19, 19, 20, 20, 21, 21, 22, 22, 23, 23, 24, 24, 25, 25, 26, 26, 27, 27, 28, 28, 29, 29, 64, 64]; t.exports = function (e, t, n, l, m, c, u, A) { var p, d, _, v, h, g, f, b, x, y = A.bits, w = 0, E = 0, S = 0, z = 0, q = 0, k = 0, T = 0, I = 0, C = 0, R = 0, P = null, B = 0, M = new a.Buf16(16), U = new a.Buf16(16), D = null, L = 0; for (w = 0; w <= 15; w++)M[w] = 0; for (E = 0; E < l; E++)M[t[n + E]]++; for (q = y, z = 15; 1 <= z && 0 === M[z]; z--); if (z < q && (q = z), 0 === z) return m[c++] = 20971520, m[c++] = 20971520, A.bits = 1, 0; for (S = 1; S < z && 0 === M[S]; S++); for (q < S && (q = S), w = I = 1; w <= 15; w++)if (I <<= 1, (I -= M[w]) < 0) return -1; if (0 < I && (0 === e || 1 !== z)) return -1; for (U[1] = 0, w = 1; w < 15; w++)U[w + 1] = U[w] + M[w]; for (E = 0; E < l; E++)0 !== t[n + E] && (u[U[t[n + E]]++] = E); if (g = 0 === e ? (P = D = u, 19) : 1 === e ? (P = r, B -= 257, D = s, L -= 257, 256) : (P = i, D = o, -1), w = S, h = c, T = E = R = 0, _ = -1, v = (C = 1 << (k = q)) - 1, 1 === e && 852 < C || 2 === e && 592 < C) return 1; for (; ;) { for (f = w - T, x = u[E] < g ? (b = 0, u[E]) : u[E] > g ? (b = D[L + u[E]], P[B + u[E]]) : (b = 96, 0), p = 1 << w - T, S = d = 1 << k; m[h + (R >> T) + (d -= p)] = f << 24 | b << 16 | x, 0 !== d;); for (p = 1 << w - 1; R & p;)p >>= 1; if (0 !== p ? (R &= p - 1, R += p) : R = 0, E++, 0 == --M[w]) { if (w === z) break; w = t[n + u[E]] } if (q < w && (R & v) !== _) { for (0 === T && (T = q), h += S, I = 1 << (k = w - T); k + T < z && !((I -= M[k + T]) <= 0);)k++, I <<= 1; if (C += 1 << k, 1 === e && 852 < C || 2 === e && 592 < C) return 1; m[_ = R & v] = q << 24 | k << 16 | h - c } } return 0 !== R && (m[h + R] = w - T << 24 | 64 << 16), A.bits = q, 0 } }, { "../utils/common": 41 }], 51: [function (e, t, n) { t.exports = { 2: "need dictionary", 1: "stream end", 0: "", "-1": "file error", "-2": "stream error", "-3": "data error", "-4": "insufficient memory", "-5": "buffer error", "-6": "incompatible version" } }, {}], 52: [function (e, t, n) { var a = e("../utils/common"); function r(e) { for (var t = e.length; 0 <= --t;)e[t] = 0 } var s = 256, i = 286, o = 30, l = 15, m = [0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 2, 2, 2, 2, 3, 3, 3, 3, 4, 4, 4, 4, 5, 5, 5, 5, 0], c = [0, 0, 0, 0, 1, 1, 2, 2, 3, 3, 4, 4, 5, 5, 6, 6, 7, 7, 8, 8, 9, 9, 10, 10, 11, 11, 12, 12, 13, 13], u = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, 3, 7], A = [16, 17, 18, 0, 8, 7, 9, 6, 10, 5, 11, 4, 12, 3, 13, 2, 14, 1, 15], p = new Array(576); r(p); var d = new Array(60); r(d); var _ = new Array(512); r(_); var v = new Array(256); r(v); var h = new Array(29); r(h); var g, f, b, x = new Array(o); function y(e, t, n, a, r) { this.static_tree = e, this.extra_bits = t, this.extra_base = n, this.elems = a, this.max_length = r, this.has_stree = e && e.length } function w(e, t) { this.dyn_tree = e, this.max_code = 0, this.stat_desc = t } function E(e) { return e < 256 ? _[e] : _[256 + (e >>> 7)] } function S(e, t) { e.pending_buf[e.pending++] = 255 & t, e.pending_buf[e.pending++] = t >>> 8 & 255 } function z(e, t, n) { e.bi_valid > 16 - n ? (e.bi_buf |= t << e.bi_valid & 65535, S(e, e.bi_buf), e.bi_buf = t >> 16 - e.bi_valid, e.bi_valid += n - 16) : (e.bi_buf |= t << e.bi_valid & 65535, e.bi_valid += n) } function q(e, t, n) { z(e, n[2 * t], n[2 * t + 1]) } function k(e, t) { for (var n = 0; n |= 1 & e, e >>>= 1, n <<= 1, 0 < --t;); return n >>> 1 } function T(e, t, n) { var a, r, s = new Array(16), i = 0; for (a = 1; a <= l; a++)s[a] = i = i + n[a - 1] << 1; for (r = 0; r <= t; r++) { var o = e[2 * r + 1]; 0 !== o && (e[2 * r] = k(s[o]++, o)) } } function I(e) { var t; for (t = 0; t < i; t++)e.dyn_ltree[2 * t] = 0; for (t = 0; t < o; t++)e.dyn_dtree[2 * t] = 0; for (t = 0; t < 19; t++)e.bl_tree[2 * t] = 0; e.dyn_ltree[512] = 1, e.opt_len = e.static_len = 0, e.last_lit = e.matches = 0 } function C(e) { 8 < e.bi_valid ? S(e, e.bi_buf) : 0 < e.bi_valid && (e.pending_buf[e.pending++] = e.bi_buf), e.bi_buf = 0, e.bi_valid = 0 } function R(e, t, n, a) { var r = 2 * t, s = 2 * n; return e[r] < e[s] || e[r] === e[s] && a[t] <= a[n] } function P(e, t, n) { for (var a = e.heap[n], r = n << 1; r <= e.heap_len && (r < e.heap_len && R(t, e.heap[r + 1], e.heap[r], e.depth) && r++, !R(t, a, e.heap[r], e.depth));)e.heap[n] = e.heap[r], n = r, r <<= 1; e.heap[n] = a } function B(e, t, n) { var a, r, i, o, l = 0; if (0 !== e.last_lit) for (; a = e.pending_buf[e.d_buf + 2 * l] << 8 | e.pending_buf[e.d_buf + 2 * l + 1], r = e.pending_buf[e.l_buf + l], l++, 0 === a ? q(e, r, t) : (q(e, (i = v[r]) + s + 1, t), 0 !== (o = m[i]) && z(e, r -= h[i], o), q(e, i = E(--a), n), 0 !== (o = c[i]) && z(e, a -= x[i], o)), l < e.last_lit;); q(e, 256, t) } function M(e, t) { var n, a, r, s = t.dyn_tree, i = t.stat_desc.static_tree, o = t.stat_desc.has_stree, m = t.stat_desc.elems, c = -1; for (e.heap_len = 0, e.heap_max = 573, n = 0; n < m; n++)0 !== s[2 * n] ? (e.heap[++e.heap_len] = c = n, e.depth[n] = 0) : s[2 * n + 1] = 0; for (; e.heap_len < 2;)s[2 * (r = e.heap[++e.heap_len] = c < 2 ? ++c : 0)] = 1, e.depth[r] = 0, e.opt_len--, o && (e.static_len -= i[2 * r + 1]); for (t.max_code = c, n = e.heap_len >> 1; 1 <= n; n--)P(e, s, n); for (r = m; n = e.heap[1], e.heap[1] = e.heap[e.heap_len--], P(e, s, 1), a = e.heap[1], e.heap[--e.heap_max] = n, e.heap[--e.heap_max] = a, s[2 * r] = s[2 * n] + s[2 * a], e.depth[r] = (e.depth[n] >= e.depth[a] ? e.depth[n] : e.depth[a]) + 1, s[2 * n + 1] = s[2 * a + 1] = r, e.heap[1] = r++, P(e, s, 1), 2 <= e.heap_len;); e.heap[--e.heap_max] = e.heap[1], function (e, t) { var n, a, r, s, i, o, m = t.dyn_tree, c = t.max_code, u = t.stat_desc.static_tree, A = t.stat_desc.has_stree, p = t.stat_desc.extra_bits, d = t.stat_desc.extra_base, _ = t.stat_desc.max_length, v = 0; for (s = 0; s <= l; s++)e.bl_count[s] = 0; for (m[2 * e.heap[e.heap_max] + 1] = 0, n = e.heap_max + 1; n < 573; n++)_ < (s = m[2 * m[2 * (a = e.heap[n]) + 1] + 1] + 1) && (s = _, v++), m[2 * a + 1] = s, c < a || (e.bl_count[s]++, i = 0, d <= a && (i = p[a - d]), o = m[2 * a], e.opt_len += o * (s + i), A && (e.static_len += o * (u[2 * a + 1] + i))); if (0 !== v) { do { for (s = _ - 1; 0 === e.bl_count[s];)s--; e.bl_count[s]--, e.bl_count[s + 1] += 2, e.bl_count[_]--, v -= 2 } while (0 < v); for (s = _; 0 !== s; s--)for (a = e.bl_count[s]; 0 !== a;)c < (r = e.heap[--n]) || (m[2 * r + 1] !== s && (e.opt_len += (s - m[2 * r + 1]) * m[2 * r], m[2 * r + 1] = s), a--) } }(e, t), T(s, c, e.bl_count) } function U(e, t, n) { var a, r, s = -1, i = t[1], o = 0, l = 7, m = 4; for (0 === i && (l = 138, m = 3), t[2 * (n + 1) + 1] = 65535, a = 0; a <= n; a++)r = i, i = t[2 * (a + 1) + 1], ++o < l && r === i || (o < m ? e.bl_tree[2 * r] += o : 0 !== r ? (r !== s && e.bl_tree[2 * r]++, e.bl_tree[32]++) : o <= 10 ? e.bl_tree[34]++ : e.bl_tree[36]++, s = r, m = (o = 0) === i ? (l = 138, 3) : r === i ? (l = 6, 3) : (l = 7, 4)) } function D(e, t, n) { var a, r, s = -1, i = t[1], o = 0, l = 7, m = 4; for (0 === i && (l = 138, m = 3), a = 0; a <= n; a++)if (r = i, i = t[2 * (a + 1) + 1], !(++o < l && r === i)) { if (o < m) for (; q(e, r, e.bl_tree), 0 != --o;); else 0 !== r ? (r !== s && (q(e, r, e.bl_tree), o--), q(e, 16, e.bl_tree), z(e, o - 3, 2)) : o <= 10 ? (q(e, 17, e.bl_tree), z(e, o - 3, 3)) : (q(e, 18, e.bl_tree), z(e, o - 11, 7)); s = r, m = (o = 0) === i ? (l = 138, 3) : r === i ? (l = 6, 3) : (l = 7, 4) } } r(x); var L = !1; function N(e, t, n, r) { z(e, 0 + (r ? 1 : 0), 3), function (e, t, n) { C(e), S(e, n), S(e, ~n), a.arraySet(e.pending_buf, e.window, t, n, e.pending), e.pending += n }(e, t, n) } n._tr_init = function (e) { L || (function () { var e, t, n, a, r, s = new Array(16); for (a = n = 0; a < 28; a++)for (h[a] = n, e = 0; e < 1 << m[a]; e++)v[n++] = a; for (v[n - 1] = a, a = r = 0; a < 16; a++)for (x[a] = r, e = 0; e < 1 << c[a]; e++)_[r++] = a; for (r >>= 7; a < o; a++)for (x[a] = r << 7, e = 0; e < 1 << c[a] - 7; e++)_[256 + r++] = a; for (t = 0; t <= l; t++)s[t] = 0; for (e = 0; e <= 143;)p[2 * e + 1] = 8, e++, s[8]++; for (; e <= 255;)p[2 * e + 1] = 9, e++, s[9]++; for (; e <= 279;)p[2 * e + 1] = 7, e++, s[7]++; for (; e <= 287;)p[2 * e + 1] = 8, e++, s[8]++; for (T(p, 287, s), e = 0; e < o; e++)d[2 * e + 1] = 5, d[2 * e] = k(e, 5); g = new y(p, m, 257, i, l), f = new y(d, c, 0, o, l), b = new y(new Array(0), u, 0, 19, 7) }(), L = !0), e.l_desc = new w(e.dyn_ltree, g), e.d_desc = new w(e.dyn_dtree, f), e.bl_desc = new w(e.bl_tree, b), e.bi_buf = 0, e.bi_valid = 0, I(e) }, n._tr_stored_block = N, n._tr_flush_block = function (e, t, n, a) { var r, i, o = 0; 0 < e.level ? (2 === e.strm.data_type && (e.strm.data_type = function (e) { var t, n = 4093624447; for (t = 0; t <= 31; t++, n >>>= 1)if (1 & n && 0 !== e.dyn_ltree[2 * t]) return 0; if (0 !== e.dyn_ltree[18] || 0 !== e.dyn_ltree[20] || 0 !== e.dyn_ltree[26]) return 1; for (t = 32; t < s; t++)if (0 !== e.dyn_ltree[2 * t]) return 1; return 0 }(e)), M(e, e.l_desc), M(e, e.d_desc), o = function (e) { var t; for (U(e, e.dyn_ltree, e.l_desc.max_code), U(e, e.dyn_dtree, e.d_desc.max_code), M(e, e.bl_desc), t = 18; 3 <= t && 0 === e.bl_tree[2 * A[t] + 1]; t--); return e.opt_len += 3 * (t + 1) + 5 + 5 + 4, t }(e), r = e.opt_len + 3 + 7 >>> 3, (i = e.static_len + 3 + 7 >>> 3) <= r && (r = i)) : r = i = n + 5, n + 4 <= r && -1 !== t ? N(e, t, n, a) : 4 === e.strategy || i === r ? (z(e, 2 + (a ? 1 : 0), 3), B(e, p, d)) : (z(e, 4 + (a ? 1 : 0), 3), function (e, t, n, a) { var r; for (z(e, t - 257, 5), z(e, n - 1, 5), z(e, a - 4, 4), r = 0; r < a; r++)z(e, e.bl_tree[2 * A[r] + 1], 3); D(e, e.dyn_ltree, t - 1), D(e, e.dyn_dtree, n - 1) }(e, e.l_desc.max_code + 1, e.d_desc.max_code + 1, o + 1), B(e, e.dyn_ltree, e.dyn_dtree)), I(e), a && C(e) }, n._tr_tally = function (e, t, n) { return e.pending_buf[e.d_buf + 2 * e.last_lit] = t >>> 8 & 255, e.pending_buf[e.d_buf + 2 * e.last_lit + 1] = 255 & t, e.pending_buf[e.l_buf + e.last_lit] = 255 & n, e.last_lit++, 0 === t ? e.dyn_ltree[2 * n]++ : (e.matches++, t--, e.dyn_ltree[2 * (v[n] + s + 1)]++, e.dyn_dtree[2 * E(t)]++), e.last_lit === e.lit_bufsize - 1 }, n._tr_align = function (e) { z(e, 2, 3), q(e, 256, p), function (e) { 16 === e.bi_valid ? (S(e, e.bi_buf), e.bi_buf = 0, e.bi_valid = 0) : 8 <= e.bi_valid && (e.pending_buf[e.pending++] = 255 & e.bi_buf, e.bi_buf >>= 8, e.bi_valid -= 8) }(e) } }, { "../utils/common": 41 }], 53: [function (e, t, n) { t.exports = function () { this.input = null, this.next_in = 0, this.avail_in = 0, this.total_in = 0, this.output = null, this.next_out = 0, this.avail_out = 0, this.total_out = 0, this.msg = "", this.state = null, this.data_type = 2, this.adler = 0 } }, {}], 54: [function (e, t, n) { (function (e) { !function (e) { if (!e.setImmediate) { var t, n, a, r, s = 1, i = {}, o = !1, l = e.document, m = Object.getPrototypeOf && Object.getPrototypeOf(e); m = m && m.setTimeout ? m : e, t = "[object process]" === {}.toString.call(e.process) ? function (e) { process.nextTick(function () { u(e) }) } : function () { if (e.postMessage && !e.importScripts) { var t = !0, n = e.onmessage; return e.onmessage = function () { t = !1 }, e.postMessage("", "*"), e.onmessage = n, t } }() ? (r = "setImmediate$" + Math.random() + "$", e.addEventListener ? e.addEventListener("message", A, !1) : e.attachEvent("onmessage", A), function (t) { e.postMessage(r + t, "*") }) : e.MessageChannel ? ((a = new MessageChannel).port1.onmessage = function (e) { u(e.data) }, function (e) { a.port2.postMessage(e) }) : l && "onreadystatechange" in l.createElement("script") ? (n = l.documentElement, function (e) { var t = l.createElement("script"); t.onreadystatechange = function () { u(e), t.onreadystatechange = null, n.removeChild(t), t = null }, n.appendChild(t) }) : function (e) { setTimeout(u, 0, e) }, m.setImmediate = function (e) { "function" != typeof e && (e = new Function("" + e)); for (var n = new Array(arguments.length - 1), a = 0; a < n.length; a++)n[a] = arguments[a + 1]; var r = { callback: e, args: n }; return i[s] = r, t(s), s++ }, m.clearImmediate = c } function c(e) { delete i[e] } function u(e) { if (o) setTimeout(u, 0, e); else { var t = i[e]; if (t) { o = !0; try { !function (e) { var t = e.callback, n = e.args; switch (n.length) { case 0: t(); break; case 1: t(n[0]); break; case 2: t(n[0], n[1]); break; case 3: t(n[0], n[1], n[2]); break; default: t.apply(undefined, n) } }(t) } finally { c(e), o = !1 } } } } function A(t) { t.source === e && "string" == typeof t.data && 0 === t.data.indexOf(r) && u(+t.data.slice(r.length)) } }("undefined" == typeof self ? void 0 === e ? this : e : self) }).call(this, void 0 !== commonjsGlobal ? commonjsGlobal : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {}) }, {}] }, {}, [10])(10); var jszip_minExports = jszip_min.exports, JSZip = getDefaultExportFromCjs(jszip_minExports); const defaultMessages = "End-Of-Stream"; class EndOfStreamError extends Error { constructor() { super(defaultMessages), this.name = "EndOfStreamError" } } class AbortError extends Error { constructor(e = "The operation was aborted") { super(e), this.name = "AbortError" } } class AbstractStreamReader { constructor() { this.endOfStream = !1, this.interrupted = !1, this.peekQueue = [] } async peek(e, t = !1) { const n = await this.read(e, t); return this.peekQueue.push(e.subarray(0, n)), n } async read(e, t = !1) { if (0 === e.length) return 0; let n = this.readFromPeekBuffer(e); if (this.endOfStream || (n += await this.readRemainderFromStream(e.subarray(n), t)), 0 === n && !t) throw new EndOfStreamError; return n } readFromPeekBuffer(e) { let t = e.length, n = 0; for (; this.peekQueue.length > 0 && t > 0;) { const a = this.peekQueue.pop(); if (!a) throw new Error("peekData should be defined"); const r = Math.min(a.length, t); e.set(a.subarray(0, r), n), n += r, t -= r, r < a.length && this.peekQueue.push(a.subarray(r)) } return n } async readRemainderFromStream(e, t) { let n = 0; for (; n < e.length && !this.endOfStream;) { if (this.interrupted) throw new AbortError; const a = await this.readFromStream(e.subarray(n), t); if (0 === a) break; n += a } if (!t && n < e.length) throw new EndOfStreamError; return n } } class WebStreamReader extends AbstractStreamReader { constructor(e) { super(), this.reader = e } async abort() { return this.close() } async close() { this.reader.releaseLock() } } class WebStreamByobReader extends WebStreamReader { async readFromStream(e, t) { if (0 === e.length) return 0; const n = await this.reader.read(new Uint8Array(e.length), { min: t ? void 0 : e.length }); return n.done && (this.endOfStream = n.done), n.value ? (e.set(n.value), n.value.length) : 0 } } class WebStreamDefaultReader extends AbstractStreamReader { constructor(e) { super(), this.reader = e, this.buffer = null } writeChunk(e, t) { const n = Math.min(t.length, e.length); return e.set(t.subarray(0, n)), n < t.length ? this.buffer = t.subarray(n) : this.buffer = null, n } async readFromStream(e, t) { if (0 === e.length) return 0; let n = 0; for (this.buffer && (n += this.writeChunk(e, this.buffer)); n < e.length && !this.endOfStream;) { const t = await this.reader.read(); if (t.done) { this.endOfStream = !0; break } t.value && (n += this.writeChunk(e.subarray(n), t.value)) } if (!t && 0 === n && this.endOfStream) throw new EndOfStreamError; return n } abort() { return this.interrupted = !0, this.reader.cancel() } async close() { await this.abort(), this.reader.releaseLock() } } function makeWebStreamReader(e) { try { const t = e.getReader({ mode: "byob" }); return t instanceof ReadableStreamDefaultReader ? new WebStreamDefaultReader(t) : new WebStreamByobReader(t) } catch (t) { if (t instanceof TypeError) return new WebStreamDefaultReader(e.getReader()); throw t } } class AbstractTokenizer { constructor(e) { this.numBuffer = new Uint8Array(8), this.position = 0, this.onClose = e?.onClose, e?.abortSignal && e.abortSignal.addEventListener("abort", () => { this.abort() }) } async readToken(e, t = this.position) { const n = new Uint8Array(e.len); if (await this.readBuffer(n, { position: t }) < e.len) throw new EndOfStreamError; return e.get(n, 0) } async peekToken(e, t = this.position) { const n = new Uint8Array(e.len); if (await this.peekBuffer(n, { position: t }) < e.len) throw new EndOfStreamError; return e.get(n, 0) } async readNumber(e) { if (await this.readBuffer(this.numBuffer, { length: e.len }) < e.len) throw new EndOfStreamError; return e.get(this.numBuffer, 0) } async peekNumber(e) { if (await this.peekBuffer(this.numBuffer, { length: e.len }) < e.len) throw new EndOfStreamError; return e.get(this.numBuffer, 0) } async ignore(e) { if (void 0 !== this.fileInfo.size) { const t = this.fileInfo.size - this.position; if (e > t) return this.position += t, t } return this.position += e, e } async close() { await this.abort(), await (this.onClose?.()) } normalizeOptions(e, t) { if (!this.supportsRandomAccess() && t && void 0 !== t.position && t.position < this.position) throw new Error("`options.position` must be equal or greater than `tokenizer.position`"); return { mayBeLess: !1, offset: 0, length: e.length, position: this.position, ...t } } abort() { return Promise.resolve() } } const maxBufferSize = 256e3; class ReadStreamTokenizer extends AbstractTokenizer { constructor(e, t) { super(t), this.streamReader = e, this.fileInfo = t?.fileInfo ?? {} } async readBuffer(e, t) { const n = this.normalizeOptions(e, t), a = n.position - this.position; if (a > 0) return await this.ignore(a), this.readBuffer(e, t); if (a < 0) throw new Error("`options.position` must be equal or greater than `tokenizer.position`"); if (0 === n.length) return 0; const r = await this.streamReader.read(e.subarray(0, n.length), n.mayBeLess); if (this.position += r, (!t || !t.mayBeLess) && r < n.length) throw new EndOfStreamError; return r } async peekBuffer(e, t) { const n = this.normalizeOptions(e, t); let a = 0; if (n.position) { const t = n.position - this.position; if (t > 0) { const r = new Uint8Array(n.length + t); return a = await this.peekBuffer(r, { mayBeLess: n.mayBeLess }), e.set(r.subarray(t)), a - t } if (t < 0) throw new Error("Cannot peek from a negative offset in a stream") } if (n.length > 0) { try { a = await this.streamReader.peek(e.subarray(0, n.length), n.mayBeLess) } catch (err) { if (t?.mayBeLess && err instanceof EndOfStreamError) return 0; throw err } if (!n.mayBeLess && a < n.length) throw new EndOfStreamError } return a } async ignore(e) { const t = Math.min(maxBufferSize, e), n = new Uint8Array(t); let a = 0; for (; a < e;) { const r = e - a, s = await this.readBuffer(n, { length: Math.min(t, r) }); if (s < 0) return s; a += s } return a } abort() { return this.streamReader.abort() } async close() { return this.streamReader.close() } supportsRandomAccess() { return !1 } } class BufferTokenizer extends AbstractTokenizer { constructor(e, t) { super(t), this.uint8Array = e, this.fileInfo = { ...t?.fileInfo ?? {}, size: e.length } } async readBuffer(e, t) { t?.position && (this.position = t.position); const n = await this.peekBuffer(e, t); return this.position += n, n } async peekBuffer(e, t) { const n = this.normalizeOptions(e, t), a = Math.min(this.uint8Array.length - n.position, n.length); if (!n.mayBeLess && a < n.length) throw new EndOfStreamError; return e.set(this.uint8Array.subarray(n.position, n.position + a)), a } close() { return super.close() } supportsRandomAccess() { return !0 } setPosition(e) { this.position = e } } function fromWebStream(e, t) { const n = makeWebStreamReader(e), a = t ?? {}, r = a.onClose; return a.onClose = async () => { if (await n.close(), r) return r() }, new ReadStreamTokenizer(n, a) } function fromBuffer(e, t) { return new BufferTokenizer(e, t) } var read$1 = function (e, t, n, a, r) { var s, i, o = 8 * r - a - 1, l = (1 << o) - 1, m = l >> 1, c = -7, u = n ? r - 1 : 0, A = n ? -1 : 1, p = e[t + u]; for (u += A, s = p & (1 << -c) - 1, p >>= -c, c += o; c > 0; s = 256 * s + e[t + u], u += A, c -= 8); for (i = s & (1 << -c) - 1, s >>= -c, c += a; c > 0; i = 256 * i + e[t + u], u += A, c -= 8); if (0 === s) s = 1 - m; else { if (s === l) return i ? NaN : 1 / 0 * (p ? -1 : 1); i += Math.pow(2, a), s -= m } return (p ? -1 : 1) * i * Math.pow(2, s - a) }, write$1 = function (e, t, n, a, r, s) { var i, o, l, m = 8 * s - r - 1, c = (1 << m) - 1, u = c >> 1, A = 23 === r ? Math.pow(2, -24) - Math.pow(2, -77) : 0, p = a ? 0 : s - 1, d = a ? 1 : -1, _ = t < 0 || 0 === t && 1 / t < 0 ? 1 : 0; for (t = Math.abs(t), isNaN(t) || t === 1 / 0 ? (o = isNaN(t) ? 1 : 0, i = c) : (i = Math.floor(Math.log(t) / Math.LN2), t * (l = Math.pow(2, -i)) < 1 && (i--, l *= 2), (t += i + u >= 1 ? A / l : A * Math.pow(2, 1 - u)) * l >= 2 && (i++, l /= 2), i + u >= c ? (o = 0, i = c) : i + u >= 1 ? (o = (t * l - 1) * Math.pow(2, r), i += u) : (o = t * Math.pow(2, u - 1) * Math.pow(2, r), i = 0)); r >= 8; e[n + p] = 255 & o, p += d, o /= 256, r -= 8); for (i = i << r | o, m += r; m > 0; e[n + p] = 255 & i, p += d, i /= 256, m -= 8); e[n + p - d] |= 128 * _ }; function dv(e) { return new DataView(e.buffer, e.byteOffset) } const UINT8 = { len: 1, get: (e, t) => dv(e).getUint8(t), put: (e, t, n) => (dv(e).setUint8(t, n), t + 1) }, UINT16_LE = { len: 2, get: (e, t) => dv(e).getUint16(t, !0), put: (e, t, n) => (dv(e).setUint16(t, n, !0), t + 2) }, UINT16_BE = { len: 2, get: (e, t) => dv(e).getUint16(t), put: (e, t, n) => (dv(e).setUint16(t, n), t + 2) }, UINT24_LE = { len: 3, get(e, t) { const n = dv(e); return n.getUint8(t) + (n.getUint16(t + 1, !0) << 8) }, put(e, t, n) { const a = dv(e); return a.setUint8(t, 255 & n), a.setUint16(t + 1, n >> 8, !0), t + 3 } }, UINT24_BE = { len: 3, get(e, t) { const n = dv(e); return (n.getUint16(t) << 8) + n.getUint8(t + 2) }, put(e, t, n) { const a = dv(e); return a.setUint16(t, n >> 8), a.setUint8(t + 2, 255 & n), t + 3 } }, UINT32_LE = { len: 4, get: (e, t) => dv(e).getUint32(t, !0), put: (e, t, n) => (dv(e).setUint32(t, n, !0), t + 4) }, UINT32_BE = { len: 4, get: (e, t) => dv(e).getUint32(t), put: (e, t, n) => (dv(e).setUint32(t, n), t + 4) }, INT8 = { len: 1, get: (e, t) => dv(e).getInt8(t), put: (e, t, n) => (dv(e).setInt8(t, n), t + 1) }, INT16_BE = { len: 2, get: (e, t) => dv(e).getInt16(t), put: (e, t, n) => (dv(e).setInt16(t, n), t + 2) }, INT16_LE = { len: 2, get: (e, t) => dv(e).getInt16(t, !0), put: (e, t, n) => (dv(e).setInt16(t, n, !0), t + 2) }, INT24_LE = { len: 3, get(e, t) { const n = UINT24_LE.get(e, t); return n > 8388607 ? n - 16777216 : n }, put(e, t, n) { const a = dv(e); return a.setUint8(t, 255 & n), a.setUint16(t + 1, n >> 8, !0), t + 3 } }, INT24_BE = { len: 3, get(e, t) { const n = UINT24_BE.get(e, t); return n > 8388607 ? n - 16777216 : n }, put(e, t, n) { const a = dv(e); return a.setUint16(t, n >> 8), a.setUint8(t + 2, 255 & n), t + 3 } }, INT32_BE = { len: 4, get: (e, t) => dv(e).getInt32(t), put: (e, t, n) => (dv(e).setInt32(t, n), t + 4) }, INT32_LE = { len: 4, get: (e, t) => dv(e).getInt32(t, !0), put: (e, t, n) => (dv(e).setInt32(t, n, !0), t + 4) }, UINT64_LE = { len: 8, get: (e, t) => dv(e).getBigUint64(t, !0), put: (e, t, n) => (dv(e).setBigUint64(t, n, !0), t + 8) }, INT64_LE = { len: 8, get: (e, t) => dv(e).getBigInt64(t, !0), put: (e, t, n) => (dv(e).setBigInt64(t, n, !0), t + 8) }, UINT64_BE = { len: 8, get: (e, t) => dv(e).getBigUint64(t), put: (e, t, n) => (dv(e).setBigUint64(t, n), t + 8) }, INT64_BE = { len: 8, get: (e, t) => dv(e).getBigInt64(t), put: (e, t, n) => (dv(e).setBigInt64(t, n), t + 8) }, Float16_BE = { len: 2, get(e, t) { return read$1(e, t, !1, 10, this.len) }, put(e, t, n) { return write$1(e, n, t, !1, 10, this.len), t + this.len } }, Float16_LE = { len: 2, get(e, t) { return read$1(e, t, !0, 10, this.len) }, put(e, t, n) { return write$1(e, n, t, !0, 10, this.len), t + this.len } }, Float32_BE = { len: 4, get: (e, t) => dv(e).getFloat32(t), put: (e, t, n) => (dv(e).setFloat32(t, n), t + 4) }, Float32_LE = { len: 4, get: (e, t) => dv(e).getFloat32(t, !0), put: (e, t, n) => (dv(e).setFloat32(t, n, !0), t + 4) }, Float64_BE = { len: 8, get: (e, t) => dv(e).getFloat64(t), put: (e, t, n) => (dv(e).setFloat64(t, n), t + 8) }, Float64_LE = { len: 8, get: (e, t) => dv(e).getFloat64(t, !0), put: (e, t, n) => (dv(e).setFloat64(t, n, !0), t + 8) }, Float80_BE = { len: 10, get(e, t) { return read$1(e, t, !1, 63, this.len) }, put(e, t, n) { return write$1(e, n, t, !1, 63, this.len), t + this.len } }, Float80_LE = { len: 10, get(e, t) { return read$1(e, t, !0, 63, this.len) }, put(e, t, n) { return write$1(e, n, t, !0, 63, this.len), t + this.len } }; class IgnoreType { constructor(e) { this.len = e } get(e, t) { } } class Uint8ArrayType { constructor(e) { this.len = e } get(e, t) { return e.subarray(t, t + this.len) } } class StringType { constructor(e, t) { if (this.len = e, t && "windows-1252" === t.toLowerCase()) this.decoder = StringType.decodeWindows1252; else { const e = new TextDecoder(t); this.decoder = t => e.decode(t) } } get(e, t = 0) { const n = e.subarray(t, t + this.len); return this.decoder(n) } static decodeWindows1252(e) { let t = ""; for (let n = 0; n < e.length; n++) { const a = e[n]; t += a < 128 || a >= 160 ? String.fromCharCode(a) : StringType.win1252Map[a - 128] } return t } } StringType.win1252Map = ""; class AnsiStringType extends StringType { constructor(e) { super(e, "windows-1252") } } var Token = Object.freeze({ __proto__: null, AnsiStringType: AnsiStringType, Float16_BE: Float16_BE, Float16_LE: Float16_LE, Float32_BE: Float32_BE, Float32_LE: Float32_LE, Float64_BE: Float64_BE, Float64_LE: Float64_LE, Float80_BE: Float80_BE, Float80_LE: Float80_LE, INT16_BE: INT16_BE, INT16_LE: INT16_LE, INT24_BE: INT24_BE, INT24_LE: INT24_LE, INT32_BE: INT32_BE, INT32_LE: INT32_LE, INT64_BE: INT64_BE, INT64_LE: INT64_LE, INT8: INT8, IgnoreType: IgnoreType, StringType: StringType, UINT16_BE: UINT16_BE, UINT16_LE: UINT16_LE, UINT24_BE: UINT24_BE, UINT24_LE: UINT24_LE, UINT32_BE: UINT32_BE, UINT32_LE: UINT32_LE, UINT64_BE: UINT64_BE, UINT64_LE: UINT64_LE, UINT8: UINT8, Uint8ArrayType: Uint8ArrayType }), u8 = Uint8Array, u16 = Uint16Array, i32 = Int32Array, fleb = new u8([0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 2, 2, 2, 2, 3, 3, 3, 3, 4, 4, 4, 4, 5, 5, 5, 5, 0, 0, 0, 0]), fdeb = new u8([0, 0, 0, 0, 1, 1, 2, 2, 3, 3, 4, 4, 5, 5, 6, 6, 7, 7, 8, 8, 9, 9, 10, 10, 11, 11, 12, 12, 13, 13, 0, 0]), clim = new u8([16, 17, 18, 0, 8, 7, 9, 6, 10, 5, 11, 4, 12, 3, 13, 2, 14, 1, 15]), freb = function (e, t) { for (var n = new u16(31), a = 0; a < 31; ++a)n[a] = t += 1 << e[a - 1]; var r = new i32(n[30]); for (a = 1; a < 30; ++a)for (var s = n[a]; s < n[a + 1]; ++s)r[s] = s - n[a] << 5 | a; return { b: n, r: r } }, _a = freb(fleb, 2), fl = _a.b, revfl = _a.r; fl[28] = 258, revfl[258] = 28; for (var _b = freb(fdeb, 0), fd = _b.b, rev = new u16(32768), i$3 = 0; i$3 < 32768; ++i$3) { var x$3 = (43690 & i$3) >> 1 | (21845 & i$3) << 1; x$3 = (52428 & x$3) >> 2 | (13107 & x$3) << 2, x$3 = (61680 & x$3) >> 4 | (3855 & x$3) << 4, rev[i$3] = ((65280 & x$3) >> 8 | (255 & x$3) << 8) >> 1 } for (var hMap = function (e, t, n) { for (var a = e.length, r = 0, s = new u16(t); r < a; ++r)e[r] && ++s[e[r] - 1]; var i, o = new u16(t); for (r = 1; r < t; ++r)o[r] = o[r - 1] + s[r - 1] << 1; if (n) { i = new u16(1 << t); var l = 15 - t; for (r = 0; r < a; ++r)if (e[r]) for (var m = r << 4 | e[r], c = t - e[r], u = o[e[r] - 1]++ << c, A = u | (1 << c) - 1; u <= A; ++u)i[rev[u] >> l] = m } else for (i = new u16(a), r = 0; r < a; ++r)e[r] && (i[r] = rev[o[e[r] - 1]++] >> 15 - e[r]); return i }, flt = new u8(288), i$3 = 0; i$3 < 144; ++i$3)flt[i$3] = 8; for (var i$3 = 144; i$3 < 256; ++i$3)flt[i$3] = 9; for (var i$3 = 256; i$3 < 280; ++i$3)flt[i$3] = 7; for (var i$3 = 280; i$3 < 288; ++i$3)flt[i$3] = 8; for (var fdt = new u8(32), i$3 = 0; i$3 < 32; ++i$3)fdt[i$3] = 5; var flrm = hMap(flt, 9, 1), fdrm = hMap(fdt, 5, 1), max = function (e) { for (var t = e[0], n = 1; n < e.length; ++n)e[n] > t && (t = e[n]); return t }, bits = function (e, t, n) { var a = t / 8 | 0; return (e[a] | e[a + 1] << 8) >> (7 & t) & n }, bits16 = function (e, t) { var n = t / 8 | 0; return (e[n] | e[n + 1] << 8 | e[n + 2] << 16) >> (7 & t) }, shft = function (e) { return (e + 7) / 8 | 0 }, slc = function (e, t, n) { return (null == n || n > e.length) && (n = e.length), new u8(e.subarray(t, n)) }, ec = ["unexpected EOF", "invalid block type", "invalid length/literal", "invalid distance", "stream finished", "no stream handler", , "no callback", "invalid UTF-8 data", "extra field too long", "date not in range 1980-2099", "filename too long", "stream finishing", "invalid zip data"], err = function (e, t, n) { var a = new Error(t || ec[e]); if (a.code = e, Error.captureStackTrace && Error.captureStackTrace(a, err), !n) throw a; return a }, inflt = function (e, t, n, a) { var r = e.length; if (!r || t.f && !t.l) return n || new u8(0); var s = !n, i = s || 2 != t.i, o = t.i; s && (n = new u8(3 * r)); var l = function (e) { var t = n.length; if (e > t) { var a = new u8(Math.max(2 * t, e)); a.set(n), n = a } }, m = t.f || 0, c = t.p || 0, u = t.b || 0, A = t.l, p = t.d, d = t.m, _ = t.n, v = 8 * r; do { if (!A) { m = bits(e, c, 1); var h = bits(e, c + 1, 3); if (c += 3, !h) { var g = e[(T = shft(c) + 4) - 4] | e[T - 3] << 8, f = T + g; if (f > r) { o && err(0); break } i && l(u + g), n.set(e.subarray(T, f), u), t.b = u += g, t.p = c = 8 * f, t.f = m; continue } if (1 == h) A = flrm, p = fdrm, d = 9, _ = 5; else if (2 == h) { var b = bits(e, c, 31) + 257, x = bits(e, c + 10, 15) + 4, y = b + bits(e, c + 5, 31) + 1; c += 14; for (var w = new u8(y), E = new u8(19), S = 0; S < x; ++S)E[clim[S]] = bits(e, c + 3 * S, 7); c += 3 * x; var z = max(E), q = (1 << z) - 1, k = hMap(E, z, 1); for (S = 0; S < y;) { var T, I = k[bits(e, c, q)]; if (c += 15 & I, (T = I >> 4) < 16) w[S++] = T; else { var C = 0, R = 0; for (16 == T ? (R = 3 + bits(e, c, 3), c += 2, C = w[S - 1]) : 17 == T ? (R = 3 + bits(e, c, 7), c += 3) : 18 == T && (R = 11 + bits(e, c, 127), c += 7); R--;)w[S++] = C } } var P = w.subarray(0, b), B = w.subarray(b); d = max(P), _ = max(B), A = hMap(P, d, 1), p = hMap(B, _, 1) } else err(1); if (c > v) { o && err(0); break } } i && l(u + 131072); for (var M = (1 << d) - 1, U = (1 << _) - 1, D = c; ; D = c) { var L = (C = A[bits16(e, c) & M]) >> 4; if ((c += 15 & C) > v) { o && err(0); break } if (C || err(2), L < 256) n[u++] = L; else { if (256 == L) { D = c, A = null; break } var N = L - 254; if (L > 264) { var F = fleb[S = L - 257]; N = bits(e, c, (1 << F) - 1) + fl[S], c += F } var O = p[bits16(e, c) & U], V = O >> 4; if (O || err(3), c += 15 & O, B = fd[V], V > 3 && (F = fdeb[V], B += bits16(e, c) & (1 << F) - 1, c += F), c > v) { o && err(0); break } i && l(u + 131072); var Q = u + N; if (u < B) { var j = 0 - B, G = Math.min(B, Q); for (j + u < 0 && err(3); u < G; ++u)n[u] = a[j + u] } for (; u < Q; ++u)n[u] = n[u - B] } } t.l = A, t.p = D, t.b = u, t.f = m, A && (m = 1, t.m = d, t.d = p, t.n = _) } while (!m); return u != n.length && s ? slc(n, 0, u) : n.subarray(0, u) }, et$1 = new u8(0), gzs = function (e) { 31 == e[0] && 139 == e[1] && 8 == e[2] || err(6, "invalid gzip data"); var t = e[3], n = 10; 4 & t && (n += 2 + (e[10] | e[11] << 8)); for (var a = (t >> 3 & 1) + (t >> 4 & 1); a > 0; a -= !e[n++]); return n + (2 & t) }, gzl = function (e) { var t = e.length; return (e[t - 4] | e[t - 3] << 8 | e[t - 2] << 16 | e[t - 1] << 24) >>> 0 }, zls = function (e, t) { return (8 != (15 & e[0]) || e[0] >> 4 > 7 || (e[0] << 8 | e[1]) % 31) && err(6, "invalid zlib data"), (e[1] >> 5 & 1) == +!t && err(6, "invalid zlib data: " + (32 & e[1] ? "need" : "unexpected") + " dictionary"), 2 + (e[1] >> 3 & 4) }; function inflateSync(e, t) { return inflt(e, { i: 2 }, t, t) } function gunzipSync(e, t) { var n = gzs(e); return n + 8 > e.length && err(6, "invalid gzip data"), inflt(e.subarray(n, -8), { i: 2 }, new u8(gzl(e)), t) } function unzlibSync(e, t) { return inflt(e.subarray(zls(e, t), -4), { i: 2 }, t, t) } function decompressSync(e, t) { return 31 == e[0] && 139 == e[1] && 8 == e[2] ? gunzipSync(e, t) : 8 != (15 & e[0]) || e[0] >> 4 > 7 || (e[0] << 8 | e[1]) % 31 ? inflateSync(e, t) : unzlibSync(e, t) } var td = "undefined" != typeof TextDecoder && new TextDecoder; try { td.decode(et$1, { stream: !0 }) } catch (e) { } var browser$5 = { exports: {} }, ms$1, hasRequiredMs; function requireMs() { if (hasRequiredMs) return ms$1; hasRequiredMs = 1; var e = 1e3, t = 60 * e, n = 60 * t, a = 24 * n, r = 7 * a; function s(e, t, n, a) { var r = t >= 1.5 * n; return Math.round(e / n) + " " + a + (r ? "s" : "") } return ms$1 = function (i, o) { o = o || {}; var l = typeof i; if ("string" === l && i.length > 0) return function (s) { if (!((s = String(s)).length > 100)) { var i = /^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(s); if (i) { var o = parseFloat(i[1]); switch ((i[2] || "ms").toLowerCase()) { case "years": case "year": case "yrs": case "yr": case "y": return 315576e5 * o; case "weeks": case "week": case "w": return o * r; case "days": case "day": case "d": return o * a; case "hours": case "hour": case "hrs": case "hr": case "h": return o * n; case "minutes": case "minute": case "mins": case "min": case "m": return o * t; case "seconds": case "second": case "secs": case "sec": case "s": return o * e; case "milliseconds": case "millisecond": case "msecs": case "msec": case "ms": return o; default: return } } } }(i); if ("number" === l && isFinite(i)) return o.long ? function (r) { var i = Math.abs(r); return i >= a ? s(r, i, a, "day") : i >= n ? s(r, i, n, "hour") : i >= t ? s(r, i, t, "minute") : i >= e ? s(r, i, e, "second") : r + " ms" }(i) : function (r) { var s = Math.abs(r); return s >= a ? Math.round(r / a) + "d" : s >= n ? Math.round(r / n) + "h" : s >= t ? Math.round(r / t) + "m" : s >= e ? Math.round(r / e) + "s" : r + "ms" }(i); throw new Error("val is not a non-empty string or a valid number. val=" + JSON.stringify(i)) }, ms$1 } function setup(e) { function t(e) { let a, r, s, i = null; function o(...e) { if (!o.enabled) return; const n = o, r = Number(new Date), s = r - (a || r); n.diff = s, n.prev = a, n.curr = r, a = r, e[0] = t.coerce(e[0]), "string" != typeof e[0] && e.unshift("%O"); let i = 0; e[0] = e[0].replace(/%([a-zA-Z%])/g, (a, r) => { if ("%%" === a) return "%"; i++; const s = t.formatters[r]; if ("function" == typeof s) { const t = e[i]; a = s.call(n, t), e.splice(i, 1), i-- } return a }), t.formatArgs.call(n, e), (n.log || t.log).apply(n, e) } return o.namespace = e, o.useColors = t.useColors(), o.color = t.selectColor(e), o.extend = n, o.destroy = t.destroy, Object.defineProperty(o, "enabled", { enumerable: !0, configurable: !1, get: () => null !== i ? i : (r !== t.namespaces && (r = t.namespaces, s = t.enabled(e)), s), set: e => { i = e } }), "function" == typeof t.init && t.init(o), o } function n(e, n) { const a = t(this.namespace + (void 0 === n ? ":" : n) + e); return a.log = this.log, a } function a(e, t) { let n = 0, a = 0, r = -1, s = 0; for (; n < e.length;)if (a < t.length && (t[a] === e[n] || "*" === t[a])) "*" === t[a] ? (r = a, s = n, a++) : (n++, a++); else { if (-1 === r) return !1; a = r + 1, s++, n = s } for (; a < t.length && "*" === t[a];)a++; return a === t.length } return t.debug = t, t.default = t, t.coerce = function (e) { return e instanceof Error ? e.stack || e.message : e }, t.disable = function () { const e = [...t.names, ...t.skips.map(e => "-" + e)].join(","); return t.enable(""), e }, t.enable = function (e) { t.save(e), t.namespaces = e, t.names = [], t.skips = []; const n = ("string" == typeof e ? e : "").trim().replace(/\s+/g, ",").split(",").filter(Boolean); for (const a of n) "-" === a[0] ? t.skips.push(a.slice(1)) : t.names.push(a) }, t.enabled = function (e) { for (const n of t.skips) if (a(e, n)) return !1; for (const n of t.names) if (a(e, n)) return !0; return !1 }, t.humanize = requireMs(), t.destroy = function () { }, Object.keys(e).forEach(n => { t[n] = e[n] }), t.names = [], t.skips = [], t.formatters = {}, t.selectColor = function (e) { let n = 0; for (let t = 0; t < e.length; t++)n = (n << 5) - n + e.charCodeAt(t), n |= 0; return t.colors[Math.abs(n) % t.colors.length] }, t.enable(t.load()), t } var common = setup; !function (e, t) { t.formatArgs = function (t) { if (t[0] = (this.useColors ? "%c" : "") + this.namespace + (this.useColors ? " %c" : " ") + t[0] + (this.useColors ? "%c " : " ") + "+" + e.exports.humanize(this.diff), !this.useColors) return; const n = "color: " + this.color; t.splice(1, 0, n, "color: inherit"); let a = 0, r = 0; t[0].replace(/%[a-zA-Z%]/g, e => { "%%" !== e && (a++, "%c" === e && (r = a)) }), t.splice(r, 0, n) }, t.save = function (e) { try { e ? t.storage.setItem("debug", e) : t.storage.removeItem("debug") } catch (n) { } }, t.load = function () { let e; try { e = t.storage.getItem("debug") || t.storage.getItem("DEBUG") } catch (n) { } return !e && "undefined" != typeof process && "env" in process && (e = process.env.DEBUG), e }, t.useColors = function () { if ("undefined" != typeof window && window.process && ("renderer" === window.process.type || window.process.__nwjs)) return !0; if ("undefined" != typeof navigator && navigator.userAgent && navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)) return !1; let e; return "undefined" != typeof document && document.documentElement && document.documentElement.style && document.documentElement.style.WebkitAppearance || "undefined" != typeof window && window.console && (window.console.firebug || window.console.exception && window.console.table) || "undefined" != typeof navigator && navigator.userAgent && (e = navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)) && parseInt(e[1], 10) >= 31 || "undefined" != typeof navigator && navigator.userAgent && navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/) }, t.storage = function () { try { return localStorage } catch (e) { } }(), t.destroy = (() => { let e = !1; return () => { e || (e = !0) } })(), t.colors = ["#0000CC", "#0000FF", "#0033CC", "#0033FF", "#0066CC", "#0066FF", "#0099CC", "#0099FF", "#00CC00", "#00CC33", "#00CC66", "#00CC99", "#00CCCC", "#00CCFF", "#3300CC", "#3300FF", "#3333CC", "#3333FF", "#3366CC", "#3366FF", "#3399CC", "#3399FF", "#33CC00", "#33CC33", "#33CC66", "#33CC99", "#33CCCC", "#33CCFF", "#6600CC", "#6600FF", "#6633CC", "#6633FF", "#66CC00", "#66CC33", "#9900CC", "#9900FF", "#9933CC", "#9933FF", "#99CC00", "#99CC33", "#CC0000", "#CC0033", "#CC0066", "#CC0099", "#CC00CC", "#CC00FF", "#CC3300", "#CC3333", "#CC3366", "#CC3399", "#CC33CC", "#CC33FF", "#CC6600", "#CC6633", "#CC9900", "#CC9933", "#CCCC00", "#CCCC33", "#FF0000", "#FF0033", "#FF0066", "#FF0099", "#FF00CC", "#FF00FF", "#FF3300", "#FF3333", "#FF3366", "#FF3399", "#FF33CC", "#FF33FF", "#FF6600", "#FF6633", "#FF9900", "#FF9933", "#FFCC00", "#FFCC33"], t.log = console.debug || console.log || (() => { }), e.exports = common(t); const { formatters: n } = e.exports; n.j = function (e) { try { return JSON.stringify(e) } catch (t) { return "[UnexpectedJSONParseError]: " + t.message } } }(browser$5, browser$5.exports); var browserExports = browser$5.exports, initDebug = getDefaultExportFromCjs(browserExports); const Signature = { LocalFileHeader: 67324752, DataDescriptor: 134695760, CentralFileHeader: 33639248, EndOfCentralDirectory: 101010256 }, DataDescriptor = { get: e => (UINT16_LE.get(e, 6), { signature: UINT32_LE.get(e, 0), compressedSize: UINT32_LE.get(e, 8), uncompressedSize: UINT32_LE.get(e, 12) }), len: 16 }, LocalFileHeaderToken = { get(e) { const t = UINT16_LE.get(e, 6); return { signature: UINT32_LE.get(e, 0), minVersion: UINT16_LE.get(e, 4), dataDescriptor: !!(8 & t), compressedMethod: UINT16_LE.get(e, 8), compressedSize: UINT32_LE.get(e, 18), uncompressedSize: UINT32_LE.get(e, 22), filenameLength: UINT16_LE.get(e, 26), extraFieldLength: UINT16_LE.get(e, 28), filename: null } }, len: 30 }, EndOfCentralDirectoryRecordToken = { get: e => ({ signature: UINT32_LE.get(e, 0), nrOfThisDisk: UINT16_LE.get(e, 4), nrOfThisDiskWithTheStart: UINT16_LE.get(e, 6), nrOfEntriesOnThisDisk: UINT16_LE.get(e, 8), nrOfEntriesOfSize: UINT16_LE.get(e, 10), sizeOfCd: UINT32_LE.get(e, 12), offsetOfStartOfCd: UINT32_LE.get(e, 16), zipFileCommentLength: UINT16_LE.get(e, 20) }), len: 22 }, FileHeader = { get(e) { const t = UINT16_LE.get(e, 8); return { signature: UINT32_LE.get(e, 0), minVersion: UINT16_LE.get(e, 6), dataDescriptor: !!(8 & t), compressedMethod: UINT16_LE.get(e, 10), compressedSize: UINT32_LE.get(e, 20), uncompressedSize: UINT32_LE.get(e, 24), filenameLength: UINT16_LE.get(e, 28), extraFieldLength: UINT16_LE.get(e, 30), fileCommentLength: UINT16_LE.get(e, 32), relativeOffsetOfLocalHeader: UINT32_LE.get(e, 42), filename: null } }, len: 46 }; function signatureToArray(e) { const t = new Uint8Array(UINT32_LE.len); return UINT32_LE.put(t, 0, e), t } const debug$s = initDebug("tokenizer:inflate"), syncBufferSize = 262144, ddSignatureArray = signatureToArray(Signature.DataDescriptor), eocdSignatureBytes = signatureToArray(Signature.EndOfCentralDirectory); class ZipHandler { constructor(e) { this.tokenizer = e, this.syncBuffer = new Uint8Array(syncBufferSize) } async isZip() { return await this.peekSignature() === Signature.LocalFileHeader } peekSignature() { return this.tokenizer.peekToken(UINT32_LE) } async findEndOfCentralDirectoryLocator() { const e = this.tokenizer, t = Math.min(16384, e.fileInfo.size), n = this.syncBuffer.subarray(0, t); await this.tokenizer.readBuffer(n, { position: e.fileInfo.size - t }); for (let a = n.length - 4; a >= 0; a--)if (n[a] === eocdSignatureBytes[0] && n[a + 1] === eocdSignatureBytes[1] && n[a + 2] === eocdSignatureBytes[2] && n[a + 3] === eocdSignatureBytes[3]) return e.fileInfo.size - t + a; return -1 } async readCentralDirectory() { if (!this.tokenizer.supportsRandomAccess()) return void debug$s("Cannot reading central-directory without random-read support"); debug$s("Reading central-directory..."); const e = this.tokenizer.position, t = await this.findEndOfCentralDirectoryLocator(); if (t > 0) { debug$s("Central-directory 32-bit signature found"); const n = await this.tokenizer.readToken(EndOfCentralDirectoryRecordToken, t), a = []; this.tokenizer.setPosition(n.offsetOfStartOfCd); for (let e = 0; e < n.nrOfEntriesOfSize; ++e) { const t = await this.tokenizer.readToken(FileHeader); if (t.signature !== Signature.CentralFileHeader) throw new Error("Expected Central-File-Header signature"); t.filename = await this.tokenizer.readToken(new StringType(t.filenameLength, "utf-8")), await this.tokenizer.ignore(t.extraFieldLength), await this.tokenizer.ignore(t.fileCommentLength), a.push(t), debug$s(`Add central-directory file-entry: n=${e + 1}/${a.length}: filename=${a[e].filename}`) } return this.tokenizer.setPosition(e), a } this.tokenizer.setPosition(e) } async unzip(e) { const t = await this.readCentralDirectory(); if (t) return this.iterateOverCentralDirectory(t, e); let n = !1; do { const t = await this.readLocalFileHeader(); if (!t) break; const a = e(t); let r; if (n = !!a.stop, await this.tokenizer.ignore(t.extraFieldLength), t.dataDescriptor && 0 === t.compressedSize) { const e = []; let n = syncBufferSize; debug$s("Compressed-file-size unknown, scanning for next data-descriptor-signature...."); let r = -1; for (; r < 0 && n === syncBufferSize;) { n = await this.tokenizer.peekBuffer(this.syncBuffer, { mayBeLess: !0 }), r = indexOf$1(this.syncBuffer.subarray(0, n), ddSignatureArray); const t = r >= 0 ? r : n; if (a.handler) { const n = new Uint8Array(t); await this.tokenizer.readBuffer(n), e.push(n) } else await this.tokenizer.ignore(t) } debug$s(`Found data-descriptor-signature at pos=${this.tokenizer.position}`), a.handler && await this.inflate(t, mergeArrays(e), a.handler) } else a.handler ? (debug$s(`Reading compressed-file-data: ${t.compressedSize} bytes`), r = new Uint8Array(t.compressedSize), await this.tokenizer.readBuffer(r), await this.inflate(t, r, a.handler)) : (debug$s(`Ignoring compressed-file-data: ${t.compressedSize} bytes`), await this.tokenizer.ignore(t.compressedSize)); if (debug$s(`Reading data-descriptor at pos=${this.tokenizer.position}`), t.dataDescriptor && 134695760 !== (await this.tokenizer.readToken(DataDescriptor)).signature) throw new Error("Expected data-descriptor-signature at position " + (this.tokenizer.position - DataDescriptor.len)) } while (!n) } async iterateOverCentralDirectory(e, t) { for (const n of e) { const e = t(n); if (e.handler) { this.tokenizer.setPosition(n.relativeOffsetOfLocalHeader); const t = await this.readLocalFileHeader(); if (t) { await this.tokenizer.ignore(t.extraFieldLength); const a = new Uint8Array(n.compressedSize); await this.tokenizer.readBuffer(a), await this.inflate(t, a, e.handler) } } if (e.stop) break } } inflate(e, t, n) { return 0 === e.compressedMethod ? n(t) : (debug$s(`Decompress filename=${e.filename}, compressed-size=${t.length}`), n(decompressSync(t))) } async readLocalFileHeader() { const e = await this.tokenizer.peekToken(UINT32_LE); if (e === Signature.LocalFileHeader) { const e = await this.tokenizer.readToken(LocalFileHeaderToken); return e.filename = await this.tokenizer.readToken(new StringType(e.filenameLength, "utf-8")), e } if (e === Signature.CentralFileHeader) return !1; if (3759263696 === e) throw new Error("Encrypted ZIP"); throw new Error("Unexpected signature") } } function indexOf$1(e, t) { const n = e.length, a = t.length; if (a > n) return -1; for (let r = 0; r <= n - a; r++) { let n = !0; for (let s = 0; s < a; s++)if (e[r + s] !== t[s]) { n = !1; break } if (n) return r } return -1 } function mergeArrays(e) { const t = e.reduce((e, t) => e + t.length, 0), n = new Uint8Array(t); let a = 0; for (const r of e) n.set(r, a), a += r.length; return n } const objectToString$3 = Object.prototype.toString, uint8ArrayStringified = "[object Uint8Array]", arrayBufferStringified = "[object ArrayBuffer]"; function isType(e, t, n) { return !!e && (e.constructor === t || objectToString$3.call(e) === n) } function isUint8Array(e) { return isType(e, Uint8Array, uint8ArrayStringified) } function isArrayBuffer(e) { return isType(e, ArrayBuffer, arrayBufferStringified) } function isUint8ArrayOrArrayBuffer(e) { return isUint8Array(e) || isArrayBuffer(e) } function assertUint8Array(e) { if (!isUint8Array(e)) throw new TypeError(`Expected \`Uint8Array\`, got \`${typeof e}\``) } function assertUint8ArrayOrArrayBuffer(e) { if (!isUint8ArrayOrArrayBuffer(e)) throw new TypeError(`Expected \`Uint8Array\` or \`ArrayBuffer\`, got \`${typeof e}\``) } const cachedDecoders = { utf8: new globalThis.TextDecoder("utf8") }; function uint8ArrayToString(e, t = "utf8") { return assertUint8ArrayOrArrayBuffer(e), cachedDecoders[t] ??= new globalThis.TextDecoder(t), cachedDecoders[t].decode(e) } function assertString(e) { if ("string" != typeof e) throw new TypeError(`Expected \`string\`, got \`${typeof e}\``) } const cachedEncoder = new globalThis.TextEncoder; function stringToUint8Array(e) { return assertString(e), cachedEncoder.encode(e) } const byteToHexLookupTable = Array.from({ length: 256 }, (e, t) => t.toString(16).padStart(2, "0")); function uint8ArrayToHex(e) { assertUint8Array(e); let t = ""; for (let n = 0; n < e.length; n++)t += byteToHexLookupTable[e[n]]; return t } const hexToDecimalLookupTable = { 0: 0, 1: 1, 2: 2, 3: 3, 4: 4, 5: 5, 6: 6, 7: 7, 8: 8, 9: 9, a: 10, b: 11, c: 12, d: 13, e: 14, f: 15, A: 10, B: 11, C: 12, D: 13, E: 14, F: 15 }; function hexToUint8Array(e) { if (assertString(e), e.length % 2 != 0) throw new Error("Invalid Hex string length."); const t = e.length / 2, n = new Uint8Array(t); for (let a = 0; a < t; a++) { const t = hexToDecimalLookupTable[e[2 * a]], r = hexToDecimalLookupTable[e[2 * a + 1]]; if (void 0 === t || void 0 === r) throw new Error("Invalid Hex character encountered at position " + 2 * a); n[a] = t << 4 | r } return n } function getUintBE(e) { const { byteLength: t } = e; return 6 === t ? e.getUint16(0) * 2 ** 32 + e.getUint32(2) : 5 === t ? e.getUint8(0) * 2 ** 32 + e.getUint32(1) : 4 === t ? e.getUint32(0) : 3 === t ? 65536 * e.getUint8(0) + e.getUint16(1) : 2 === t ? e.getUint16(0) : 1 === t ? e.getUint8(0) : void 0 } function stringToBytes(e) { return [...e].map(e => e.charCodeAt(0)) } function tarHeaderChecksumMatches(e, t = 0) { const n = Number.parseInt(new StringType(6).get(e, 148).replace(/\0.*$/, "").trim(), 8); if (Number.isNaN(n)) return !1; let a = 256; for (let r = t; r < t + 148; r++)a += e[r]; for (let r = t + 156; r < t + 512; r++)a += e[r]; return n === a } const uint32SyncSafeToken = { get: (e, t) => 127 & e[t + 3] | e[t + 2] << 7 | e[t + 1] << 14 | e[t] << 21, len: 4 }, extensions = ["jpg", "png", "apng", "gif", "webp", "flif", "xcf", "cr2", "cr3", "orf", "arw", "dng", "nef", "rw2", "raf", "tif", "bmp", "icns", "jxr", "psd", "indd", "zip", "tar", "rar", "gz", "bz2", "7z", "dmg", "mp4", "mid", "mkv", "webm", "mov", "avi", "mpg", "mp2", "mp3", "m4a", "oga", "ogg", "ogv", "opus", "flac", "wav", "spx", "amr", "pdf", "epub", "elf", "macho", "exe", "swf", "rtf", "wasm", "woff", "woff2", "eot", "ttf", "otf", "ttc", "ico", "flv", "ps", "xz", "sqlite", "nes", "crx", "xpi", "cab", "deb", "ar", "rpm", "Z", "lz", "cfb", "mxf", "mts", "blend", "bpg", "docx", "pptx", "xlsx", "3gp", "3g2", "j2c", "jp2", "jpm", "jpx", "mj2", "aif", "qcp", "odt", "ods", "odp", "xml", "mobi", "heic", "cur", "ktx", "ape", "wv", "dcm", "ics", "glb", "pcap", "dsf", "lnk", "alias", "voc", "ac3", "m4v", "m4p", "m4b", "f4v", "f4p", "f4b", "f4a", "mie", "asf", "ogm", "ogx", "mpc", "arrow", "shp", "aac", "mp1", "it", "s3m", "xm", "skp", "avif", "eps", "lzh", "pgp", "asar", "stl", "chm", "3mf", "zst", "jxl", "vcf", "jls", "pst", "dwg", "parquet", "class", "arj", "cpio", "ace", "avro", "icc", "fbx", "vsdx", "vtt", "apk", "drc", "lz4", "potx", "xltx", "dotx", "xltm", "ott", "ots", "otp", "odg", "otg", "xlsm", "docm", "dotm", "potm", "pptm", "jar", "rm", "ppsm", "ppsx"], mimeTypes = ["image/jpeg", "image/png", "image/gif", "image/webp", "image/flif", "image/x-xcf", "image/x-canon-cr2", "image/x-canon-cr3", "image/tiff", "image/bmp", "image/vnd.ms-photo", "image/vnd.adobe.photoshop", "application/x-indesign", "application/epub+zip", "application/x-xpinstall", "application/vnd.ms-powerpoint.slideshow.macroenabled.12", "application/vnd.oasis.opendocument.text", "application/vnd.oasis.opendocument.spreadsheet", "application/vnd.oasis.opendocument.presentation", "application/vnd.openxmlformats-officedocument.wordprocessingml.document", "application/vnd.openxmlformats-officedocument.presentationml.presentation", "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet", "application/vnd.openxmlformats-officedocument.presentationml.slideshow", "application/zip", "application/x-tar", "application/x-rar-compressed", "application/gzip", "application/x-bzip2", "application/x-7z-compressed", "application/x-apple-diskimage", "application/vnd.apache.arrow.file", "video/mp4", "audio/midi", "video/matroska", "video/webm", "video/quicktime", "video/vnd.avi", "audio/wav", "audio/qcelp", "audio/x-ms-asf", "video/x-ms-asf", "application/vnd.ms-asf", "video/mpeg", "video/3gpp", "audio/mpeg", "audio/mp4", "video/ogg", "audio/ogg", "audio/ogg; codecs=opus", "application/ogg", "audio/flac", "audio/ape", "audio/wavpack", "audio/amr", "application/pdf", "application/x-elf", "application/x-mach-binary", "application/x-msdownload", "application/x-shockwave-flash", "application/rtf", "application/wasm", "font/woff", "font/woff2", "application/vnd.ms-fontobject", "font/ttf", "font/otf", "font/collection", "image/x-icon", "video/x-flv", "application/postscript", "application/eps", "application/x-xz", "application/x-sqlite3", "application/x-nintendo-nes-rom", "application/x-google-chrome-extension", "application/vnd.ms-cab-compressed", "application/x-deb", "application/x-unix-archive", "application/x-rpm", "application/x-compress", "application/x-lzip", "application/x-cfb", "application/x-mie", "application/mxf", "video/mp2t", "application/x-blender", "image/bpg", "image/j2c", "image/jp2", "image/jpx", "image/jpm", "image/mj2", "audio/aiff", "application/xml", "application/x-mobipocket-ebook", "image/heif", "image/heif-sequence", "image/heic", "image/heic-sequence", "image/icns", "image/ktx", "application/dicom", "audio/x-musepack", "text/calendar", "text/vcard", "text/vtt", "model/gltf-binary", "application/vnd.tcpdump.pcap", "audio/x-dsf", "application/x.ms.shortcut", "application/x.apple.alias", "audio/x-voc", "audio/vnd.dolby.dd-raw", "audio/x-m4a", "image/apng", "image/x-olympus-orf", "image/x-sony-arw", "image/x-adobe-dng", "image/x-nikon-nef", "image/x-panasonic-rw2", "image/x-fujifilm-raf", "video/x-m4v", "video/3gpp2", "application/x-esri-shape", "audio/aac", "audio/x-it", "audio/x-s3m", "audio/x-xm", "video/MP1S", "video/MP2P", "application/vnd.sketchup.skp", "image/avif", "application/x-lzh-compressed", "application/pgp-encrypted", "application/x-asar", "model/stl", "application/vnd.ms-htmlhelp", "model/3mf", "image/jxl", "application/zstd", "image/jls", "application/vnd.ms-outlook", "image/vnd.dwg", "application/vnd.apache.parquet", "application/java-vm", "application/x-arj", "application/x-cpio", "application/x-ace-compressed", "application/avro", "application/vnd.iccprofile", "application/x.autodesk.fbx", "application/vnd.visio", "application/vnd.android.package-archive", "application/vnd.google.draco", "application/x-lz4", "application/vnd.openxmlformats-officedocument.presentationml.template", "application/vnd.openxmlformats-officedocument.spreadsheetml.template", "application/vnd.openxmlformats-officedocument.wordprocessingml.template", "application/vnd.ms-excel.template.macroenabled.12", "application/vnd.oasis.opendocument.text-template", "application/vnd.oasis.opendocument.spreadsheet-template", "application/vnd.oasis.opendocument.presentation-template", "application/vnd.oasis.opendocument.graphics", "application/vnd.oasis.opendocument.graphics-template", "application/vnd.ms-excel.sheet.macroenabled.12", "application/vnd.ms-word.document.macroenabled.12", "application/vnd.ms-word.template.macroenabled.12", "application/vnd.ms-powerpoint.template.macroenabled.12", "application/vnd.ms-powerpoint.presentation.macroenabled.12", "application/java-archive", "application/vnd.rn-realmedia"], reasonableDetectionSizeInBytes = 4100; async function fileTypeFromBuffer(e, t) { return new FileTypeParser(t).fromBuffer(e) } function getFileTypeFromMimeType(e) { switch (e = e.toLowerCase()) { case "application/epub+zip": return { ext: "epub", mime: e }; case "application/vnd.oasis.opendocument.text": return { ext: "odt", mime: e }; case "application/vnd.oasis.opendocument.text-template": return { ext: "ott", mime: e }; case "application/vnd.oasis.opendocument.spreadsheet": return { ext: "ods", mime: e }; case "application/vnd.oasis.opendocument.spreadsheet-template": return { ext: "ots", mime: e }; case "application/vnd.oasis.opendocument.presentation": return { ext: "odp", mime: e }; case "application/vnd.oasis.opendocument.presentation-template": return { ext: "otp", mime: e }; case "application/vnd.oasis.opendocument.graphics": return { ext: "odg", mime: e }; case "application/vnd.oasis.opendocument.graphics-template": return { ext: "otg", mime: e }; case "application/vnd.openxmlformats-officedocument.presentationml.slideshow": return { ext: "ppsx", mime: e }; case "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet": return { ext: "xlsx", mime: e }; case "application/vnd.ms-excel.sheet.macroenabled": return { ext: "xlsm", mime: "application/vnd.ms-excel.sheet.macroenabled.12" }; case "application/vnd.openxmlformats-officedocument.spreadsheetml.template": return { ext: "xltx", mime: e }; case "application/vnd.ms-excel.template.macroenabled": return { ext: "xltm", mime: "application/vnd.ms-excel.template.macroenabled.12" }; case "application/vnd.ms-powerpoint.slideshow.macroenabled": return { ext: "ppsm", mime: "application/vnd.ms-powerpoint.slideshow.macroenabled.12" }; case "application/vnd.openxmlformats-officedocument.wordprocessingml.document": return { ext: "docx", mime: e }; case "application/vnd.ms-word.document.macroenabled": return { ext: "docm", mime: "application/vnd.ms-word.document.macroenabled.12" }; case "application/vnd.openxmlformats-officedocument.wordprocessingml.template": return { ext: "dotx", mime: e }; case "application/vnd.ms-word.template.macroenabledtemplate": return { ext: "dotm", mime: "application/vnd.ms-word.template.macroenabled.12" }; case "application/vnd.openxmlformats-officedocument.presentationml.template": return { ext: "potx", mime: e }; case "application/vnd.ms-powerpoint.template.macroenabled": return { ext: "potm", mime: "application/vnd.ms-powerpoint.template.macroenabled.12" }; case "application/vnd.openxmlformats-officedocument.presentationml.presentation": return { ext: "pptx", mime: e }; case "application/vnd.ms-powerpoint.presentation.macroenabled": return { ext: "pptm", mime: "application/vnd.ms-powerpoint.presentation.macroenabled.12" }; case "application/vnd.ms-visio.drawing": return { ext: "vsdx", mime: "application/vnd.visio" }; case "application/vnd.ms-package.3dmanufacturing-3dmodel+xml": return { ext: "3mf", mime: "model/3mf" } } } function _check(e, t, n) { n = { offset: 0, ...n }; for (const [a, r] of t.entries()) if (n.mask) { if (r !== (n.mask[a] & e[a + n.offset])) return !1 } else if (r !== e[a + n.offset]) return !1; return !0 } class FileTypeParser { constructor(e) { this.options = { mpegOffsetTolerance: 0, ...e }, this.detectors = [...e?.customDetectors ?? [], { id: "core", detect: this.detectConfident }, { id: "core.imprecise", detect: this.detectImprecise }], this.tokenizerOptions = { abortSignal: e?.signal } } async fromTokenizer(e) { const t = e.position; for (const n of this.detectors) { const a = await n.detect(e); if (a) return a; if (t !== e.position) return } } async fromBuffer(e) { if (!(e instanceof Uint8Array || e instanceof ArrayBuffer)) throw new TypeError(`Expected the \`input\` argument to be of type \`Uint8Array\` or \`ArrayBuffer\`, got \`${typeof e}\``); const t = e instanceof Uint8Array ? e : new Uint8Array(e); if (t?.length > 1) return this.fromTokenizer(fromBuffer(t, this.tokenizerOptions)) } async fromBlob(e) { return this.fromStream(e.stream()) } async fromStream(e) { const t = await fromWebStream(e, this.tokenizerOptions); try { return await this.fromTokenizer(t) } finally { await t.close() } } async toDetectionStream(e, t) { const { sampleSize: n = reasonableDetectionSizeInBytes } = t; let a, r; const s = e.getReader({ mode: "byob" }); try { const { value: e, done: t } = await s.read(new Uint8Array(n)); if (r = e, !t && e) try { a = await this.fromBuffer(e.subarray(0, n)) } catch (l) { if (!(l instanceof EndOfStreamError)) throw l; a = void 0 } r = e } finally { s.releaseLock() } const i = new TransformStream({ async start(e) { e.enqueue(r) }, transform(e, t) { t.enqueue(e) } }), o = e.pipeThrough(i); return o.fileType = a, o } check(e, t) { return _check(this.buffer, e, t) } checkString(e, t) { return this.check(stringToBytes(e), t) } detectConfident = async e => { if (this.buffer = new Uint8Array(reasonableDetectionSizeInBytes), void 0 === e.fileInfo.size && (e.fileInfo.size = Number.MAX_SAFE_INTEGER), this.tokenizer = e, await e.peekBuffer(this.buffer, { length: 12, mayBeLess: !0 }), this.check([66, 77])) return { ext: "bmp", mime: "image/bmp" }; if (this.check([11, 119])) return { ext: "ac3", mime: "audio/vnd.dolby.dd-raw" }; if (this.check([120, 1])) return { ext: "dmg", mime: "application/x-apple-diskimage" }; if (this.check([77, 90])) return { ext: "exe", mime: "application/x-msdownload" }; if (this.check([37, 33])) return await e.peekBuffer(this.buffer, { length: 24, mayBeLess: !0 }), this.checkString("PS-Adobe-", { offset: 2 }) && this.checkString(" EPSF-", { offset: 14 }) ? { ext: "eps", mime: "application/eps" } : { ext: "ps", mime: "application/postscript" }; if (this.check([31, 160]) || this.check([31, 157])) return { ext: "Z", mime: "application/x-compress" }; if (this.check([199, 113])) return { ext: "cpio", mime: "application/x-cpio" }; if (this.check([96, 234])) return { ext: "arj", mime: "application/x-arj" }; if (this.check([239, 187, 191])) return this.tokenizer.ignore(3), this.detectConfident(e); if (this.check([71, 73, 70])) return { ext: "gif", mime: "image/gif" }; if (this.check([73, 73, 188])) return { ext: "jxr", mime: "image/vnd.ms-photo" }; if (this.check([31, 139, 8])) return { ext: "gz", mime: "application/gzip" }; if (this.check([66, 90, 104])) return { ext: "bz2", mime: "application/x-bzip2" }; if (this.checkString("ID3")) { await e.ignore(6); const t = await e.readToken(uint32SyncSafeToken); return e.position + t > e.fileInfo.size ? { ext: "mp3", mime: "audio/mpeg" } : (await e.ignore(t), this.fromTokenizer(e)) } if (this.checkString("MP+")) return { ext: "mpc", mime: "audio/x-musepack" }; if ((67 === this.buffer[0] || 70 === this.buffer[0]) && this.check([87, 83], { offset: 1 })) return { ext: "swf", mime: "application/x-shockwave-flash" }; if (this.check([255, 216, 255])) return this.check([247], { offset: 3 }) ? { ext: "jls", mime: "image/jls" } : { ext: "jpg", mime: "image/jpeg" }; if (this.check([79, 98, 106, 1])) return { ext: "avro", mime: "application/avro" }; if (this.checkString("FLIF")) return { ext: "flif", mime: "image/flif" }; if (this.checkString("8BPS")) return { ext: "psd", mime: "image/vnd.adobe.photoshop" }; if (this.checkString("MPCK")) return { ext: "mpc", mime: "audio/x-musepack" }; if (this.checkString("FORM")) return { ext: "aif", mime: "audio/aiff" }; if (this.checkString("icns", { offset: 0 })) return { ext: "icns", mime: "image/icns" }; if (this.check([80, 75, 3, 4])) { let n; return await new ZipHandler(e).unzip(e => { switch (e.filename) { case "META-INF/mozilla.rsa": return n = { ext: "xpi", mime: "application/x-xpinstall" }, { stop: !0 }; case "META-INF/MANIFEST.MF": return n = { ext: "jar", mime: "application/java-archive" }, { stop: !0 }; case "mimetype": return { async handler(e) { const t = new TextDecoder("utf-8").decode(e).trim(); n = getFileTypeFromMimeType(t) }, stop: !0 }; case "[Content_Types].xml": return { async handler(e) { let t = new TextDecoder("utf-8").decode(e); const a = t.indexOf('.main+xml"'); if (-1 === a) { const e = "application/vnd.ms-package.3dmanufacturing-3dmodel+xml"; t.includes(`ContentType="${e}"`) && (n = getFileTypeFromMimeType(e)) } else { t = t.slice(0, Math.max(0, a)); const e = t.lastIndexOf('"'), r = t.slice(Math.max(0, e + 1)); n = getFileTypeFromMimeType(r) } }, stop: !0 }; default: return /classes\d*\.dex/.test(e.filename) ? (n = { ext: "apk", mime: "application/vnd.android.package-archive" }, { stop: !0 }) : {} } }), n ?? { ext: "zip", mime: "application/zip" } } if (this.checkString("OggS")) { await e.ignore(28); const a = new Uint8Array(8); return await e.readBuffer(a), _check(a, [79, 112, 117, 115, 72, 101, 97, 100]) ? { ext: "opus", mime: "audio/ogg; codecs=opus" } : _check(a, [128, 116, 104, 101, 111, 114, 97]) ? { ext: "ogv", mime: "video/ogg" } : _check(a, [1, 118, 105, 100, 101, 111, 0]) ? { ext: "ogm", mime: "video/ogg" } : _check(a, [127, 70, 76, 65, 67]) ? { ext: "oga", mime: "audio/ogg" } : _check(a, [83, 112, 101, 101, 120, 32, 32]) ? { ext: "spx", mime: "audio/ogg" } : _check(a, [1, 118, 111, 114, 98, 105, 115]) ? { ext: "ogg", mime: "audio/ogg" } : { ext: "ogx", mime: "application/ogg" } } if (this.check([80, 75]) && (3 === this.buffer[2] || 5 === this.buffer[2] || 7 === this.buffer[2]) && (4 === this.buffer[3] || 6 === this.buffer[3] || 8 === this.buffer[3])) return { ext: "zip", mime: "application/zip" }; if (this.checkString("MThd")) return { ext: "mid", mime: "audio/midi" }; if (this.checkString("wOFF") && (this.check([0, 1, 0, 0], { offset: 4 }) || this.checkString("OTTO", { offset: 4 }))) return { ext: "woff", mime: "font/woff" }; if (this.checkString("wOF2") && (this.check([0, 1, 0, 0], { offset: 4 }) || this.checkString("OTTO", { offset: 4 }))) return { ext: "woff2", mime: "font/woff2" }; if (this.check([212, 195, 178, 161]) || this.check([161, 178, 195, 212])) return { ext: "pcap", mime: "application/vnd.tcpdump.pcap" }; if (this.checkString("DSD ")) return { ext: "dsf", mime: "audio/x-dsf" }; if (this.checkString("LZIP")) return { ext: "lz", mime: "application/x-lzip" }; if (this.checkString("fLaC")) return { ext: "flac", mime: "audio/flac" }; if (this.check([66, 80, 71, 251])) return { ext: "bpg", mime: "image/bpg" }; if (this.checkString("wvpk")) return { ext: "wv", mime: "audio/wavpack" }; if (this.checkString("%PDF")) return { ext: "pdf", mime: "application/pdf" }; if (this.check([0, 97, 115, 109])) return { ext: "wasm", mime: "application/wasm" }; if (this.check([73, 73])) { const r = await this.readTiffHeader(!1); if (r) return r } if (this.check([77, 77])) { const s = await this.readTiffHeader(!0); if (s) return s } if (this.checkString("MAC ")) return { ext: "ape", mime: "audio/ape" }; if (this.check([26, 69, 223, 163])) { async function i() { const t = await e.peekNumber(UINT8); let n = 128, a = 0; for (; 0 === (t & n) && 0 !== n;)++a, n >>= 1; const r = new Uint8Array(a + 1); return await e.readBuffer(r), r } async function o() { const e = await i(), t = await i(); t[0] ^= 128 >> t.length - 1; const n = Math.min(6, t.length), a = new DataView(e.buffer), r = new DataView(t.buffer, t.length - n, n); return { id: getUintBE(a), len: getUintBE(r) } } async function l(t) { for (; t > 0;) { const n = await o(); if (17026 === n.id) return (await e.readToken(new StringType(n.len))).replaceAll(/\00.*$/g, ""); await e.ignore(n.len), --t } } const m = await o(); switch (await l(m.len)) { case "webm": return { ext: "webm", mime: "video/webm" }; case "matroska": return { ext: "mkv", mime: "video/matroska" }; default: return } } if (this.checkString("SQLi")) return { ext: "sqlite", mime: "application/x-sqlite3" }; if (this.check([78, 69, 83, 26])) return { ext: "nes", mime: "application/x-nintendo-nes-rom" }; if (this.checkString("Cr24")) return { ext: "crx", mime: "application/x-google-chrome-extension" }; if (this.checkString("MSCF") || this.checkString("ISc(")) return { ext: "cab", mime: "application/vnd.ms-cab-compressed" }; if (this.check([237, 171, 238, 219])) return { ext: "rpm", mime: "application/x-rpm" }; if (this.check([197, 208, 211, 198])) return { ext: "eps", mime: "application/eps" }; if (this.check([40, 181, 47, 253])) return { ext: "zst", mime: "application/zstd" }; if (this.check([127, 69, 76, 70])) return { ext: "elf", mime: "application/x-elf" }; if (this.check([33, 66, 68, 78])) return { ext: "pst", mime: "application/vnd.ms-outlook" }; if (this.checkString("PAR1") || this.checkString("PARE")) return { ext: "parquet", mime: "application/vnd.apache.parquet" }; if (this.checkString("ttcf")) return { ext: "ttc", mime: "font/collection" }; if (this.check([207, 250, 237, 254])) return { ext: "macho", mime: "application/x-mach-binary" }; if (this.check([4, 34, 77, 24])) return { ext: "lz4", mime: "application/x-lz4" }; if (this.check([79, 84, 84, 79, 0])) return { ext: "otf", mime: "font/otf" }; if (this.checkString("#!AMR")) return { ext: "amr", mime: "audio/amr" }; if (this.checkString("{\\rtf")) return { ext: "rtf", mime: "application/rtf" }; if (this.check([70, 76, 86, 1])) return { ext: "flv", mime: "video/x-flv" }; if (this.checkString("IMPM")) return { ext: "it", mime: "audio/x-it" }; if (this.checkString("-lh0-", { offset: 2 }) || this.checkString("-lh1-", { offset: 2 }) || this.checkString("-lh2-", { offset: 2 }) || this.checkString("-lh3-", { offset: 2 }) || this.checkString("-lh4-", { offset: 2 }) || this.checkString("-lh5-", { offset: 2 }) || this.checkString("-lh6-", { offset: 2 }) || this.checkString("-lh7-", { offset: 2 }) || this.checkString("-lzs-", { offset: 2 }) || this.checkString("-lz4-", { offset: 2 }) || this.checkString("-lz5-", { offset: 2 }) || this.checkString("-lhd-", { offset: 2 })) return { ext: "lzh", mime: "application/x-lzh-compressed" }; if (this.check([0, 0, 1, 186])) { if (this.check([33], { offset: 4, mask: [241] })) return { ext: "mpg", mime: "video/MP1S" }; if (this.check([68], { offset: 4, mask: [196] })) return { ext: "mpg", mime: "video/MP2P" } } if (this.checkString("ITSF")) return { ext: "chm", mime: "application/vnd.ms-htmlhelp" }; if (this.check([202, 254, 186, 190])) return { ext: "class", mime: "application/java-vm" }; if (this.checkString(".RMF")) return { ext: "rm", mime: "application/vnd.rn-realmedia" }; if (this.checkString("DRACO")) return { ext: "drc", mime: "application/vnd.google.draco" }; if (this.check([253, 55, 122, 88, 90, 0])) return { ext: "xz", mime: "application/x-xz" }; if (this.checkString("<?xml ")) return { ext: "xml", mime: "application/xml" }; if (this.check([55, 122, 188, 175, 39, 28])) return { ext: "7z", mime: "application/x-7z-compressed" }; if (this.check([82, 97, 114, 33, 26, 7]) && (0 === this.buffer[6] || 1 === this.buffer[6])) return { ext: "rar", mime: "application/x-rar-compressed" }; if (this.checkString("solid ")) return { ext: "stl", mime: "model/stl" }; if (this.checkString("AC")) { const c = new StringType(4, "latin1").get(this.buffer, 2); if (c.match("^d*") && c >= 1e3 && c <= 1050) return { ext: "dwg", mime: "image/vnd.dwg" } } if (this.checkString("070707")) return { ext: "cpio", mime: "application/x-cpio" }; if (this.checkString("BLENDER")) return { ext: "blend", mime: "application/x-blender" }; if (this.checkString("!<arch>")) return await e.ignore(8), "debian-binary" === await e.readToken(new StringType(13, "ascii")) ? { ext: "deb", mime: "application/x-deb" } : { ext: "ar", mime: "application/x-unix-archive" }; if (this.checkString("WEBVTT") && ["\n", "\r", "\t", " ", "\0"].some(e => this.checkString(e, { offset: 6 }))) return { ext: "vtt", mime: "text/vtt" }; if (this.check([137, 80, 78, 71, 13, 10, 26, 10])) { async function u() { return { length: await e.readToken(INT32_BE), type: await e.readToken(new StringType(4, "latin1")) } } await e.ignore(8); do { const A = await u(); if (A.length < 0) return; switch (A.type) { case "IDAT": return { ext: "png", mime: "image/png" }; case "acTL": return { ext: "apng", mime: "image/apng" }; default: await e.ignore(A.length + 4) } } while (e.position + 8 < e.fileInfo.size); return { ext: "png", mime: "image/png" } } if (this.check([65, 82, 82, 79, 87, 49, 0, 0])) return { ext: "arrow", mime: "application/vnd.apache.arrow.file" }; if (this.check([103, 108, 84, 70, 2, 0, 0, 0])) return { ext: "glb", mime: "model/gltf-binary" }; if (this.check([102, 114, 101, 101], { offset: 4 }) || this.check([109, 100, 97, 116], { offset: 4 }) || this.check([109, 111, 111, 118], { offset: 4 }) || this.check([119, 105, 100, 101], { offset: 4 })) return { ext: "mov", mime: "video/quicktime" }; if (this.check([73, 73, 82, 79, 8, 0, 0, 0, 24])) return { ext: "orf", mime: "image/x-olympus-orf" }; if (this.checkString("gimp xcf ")) return { ext: "xcf", mime: "image/x-xcf" }; if (this.checkString("ftyp", { offset: 4 }) && 96 & this.buffer[8]) { const p = new StringType(4, "latin1").get(this.buffer, 8).replace("\0", " ").trim(); switch (p) { case "avif": case "avis": return { ext: "avif", mime: "image/avif" }; case "mif1": return { ext: "heic", mime: "image/heif" }; case "msf1": return { ext: "heic", mime: "image/heif-sequence" }; case "heic": case "heix": return { ext: "heic", mime: "image/heic" }; case "hevc": case "hevx": return { ext: "heic", mime: "image/heic-sequence" }; case "qt": return { ext: "mov", mime: "video/quicktime" }; case "M4V": case "M4VH": case "M4VP": return { ext: "m4v", mime: "video/x-m4v" }; case "M4P": return { ext: "m4p", mime: "video/mp4" }; case "M4B": return { ext: "m4b", mime: "audio/mp4" }; case "M4A": return { ext: "m4a", mime: "audio/x-m4a" }; case "F4V": return { ext: "f4v", mime: "video/mp4" }; case "F4P": return { ext: "f4p", mime: "video/mp4" }; case "F4A": return { ext: "f4a", mime: "audio/mp4" }; case "F4B": return { ext: "f4b", mime: "audio/mp4" }; case "crx": return { ext: "cr3", mime: "image/x-canon-cr3" }; default: return p.startsWith("3g") ? p.startsWith("3g2") ? { ext: "3g2", mime: "video/3gpp2" } : { ext: "3gp", mime: "video/3gpp" } : { ext: "mp4", mime: "video/mp4" } } } if (this.check([82, 73, 70, 70])) { if (this.checkString("WEBP", { offset: 8 })) return { ext: "webp", mime: "image/webp" }; if (this.check([65, 86, 73], { offset: 8 })) return { ext: "avi", mime: "video/vnd.avi" }; if (this.check([87, 65, 86, 69], { offset: 8 })) return { ext: "wav", mime: "audio/wav" }; if (this.check([81, 76, 67, 77], { offset: 8 })) return { ext: "qcp", mime: "audio/qcelp" } } if (this.check([73, 73, 85, 0, 24, 0, 0, 0, 136, 231, 116, 216])) return { ext: "rw2", mime: "image/x-panasonic-rw2" }; if (this.check([48, 38, 178, 117, 142, 102, 207, 17, 166, 217])) { async function d() { const t = new Uint8Array(16); return await e.readBuffer(t), { id: t, size: Number(await e.readToken(UINT64_LE)) } } for (await e.ignore(30); e.position + 24 < e.fileInfo.size;) { const _ = await d(); let v = _.size - 24; if (_check(_.id, [145, 7, 220, 183, 183, 169, 207, 17, 142, 230, 0, 192, 12, 32, 83, 101])) { const h = new Uint8Array(16); if (v -= await e.readBuffer(h), _check(h, [64, 158, 105, 248, 77, 91, 207, 17, 168, 253, 0, 128, 95, 92, 68, 43])) return { ext: "asf", mime: "audio/x-ms-asf" }; if (_check(h, [192, 239, 25, 188, 77, 91, 207, 17, 168, 253, 0, 128, 95, 92, 68, 43])) return { ext: "asf", mime: "video/x-ms-asf" }; break } await e.ignore(v) } return { ext: "asf", mime: "application/vnd.ms-asf" } } if (this.check([171, 75, 84, 88, 32, 49, 49, 187, 13, 10, 26, 10])) return { ext: "ktx", mime: "image/ktx" }; if ((this.check([126, 16, 4]) || this.check([126, 24, 4])) && this.check([48, 77, 73, 69], { offset: 4 })) return { ext: "mie", mime: "application/x-mie" }; if (this.check([39, 10, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], { offset: 2 })) return { ext: "shp", mime: "application/x-esri-shape" }; if (this.check([255, 79, 255, 81])) return { ext: "j2c", mime: "image/j2c" }; if (this.check([0, 0, 0, 12, 106, 80, 32, 32, 13, 10, 135, 10])) switch (await e.ignore(20), await e.readToken(new StringType(4, "ascii"))) { case "jp2 ": return { ext: "jp2", mime: "image/jp2" }; case "jpx ": return { ext: "jpx", mime: "image/jpx" }; case "jpm ": return { ext: "jpm", mime: "image/jpm" }; case "mjp2": return { ext: "mj2", mime: "image/mj2" }; default: return }if (this.check([255, 10]) || this.check([0, 0, 0, 12, 74, 88, 76, 32, 13, 10, 135, 10])) return { ext: "jxl", mime: "image/jxl" }; if (this.check([254, 255])) return this.check([0, 60, 0, 63, 0, 120, 0, 109, 0, 108], { offset: 2 }) ? { ext: "xml", mime: "application/xml" } : void 0; if (this.check([208, 207, 17, 224, 161, 177, 26, 225])) return { ext: "cfb", mime: "application/x-cfb" }; if (await e.peekBuffer(this.buffer, { length: Math.min(256, e.fileInfo.size), mayBeLess: !0 }), this.check([97, 99, 115, 112], { offset: 36 })) return { ext: "icc", mime: "application/vnd.iccprofile" }; if (this.checkString("**ACE", { offset: 7 }) && this.checkString("**", { offset: 12 })) return { ext: "ace", mime: "application/x-ace-compressed" }; if (this.checkString("BEGIN:")) { if (this.checkString("VCARD", { offset: 6 })) return { ext: "vcf", mime: "text/vcard" }; if (this.checkString("VCALENDAR", { offset: 6 })) return { ext: "ics", mime: "text/calendar" } } if (this.checkString("FUJIFILMCCD-RAW")) return { ext: "raf", mime: "image/x-fujifilm-raf" }; if (this.checkString("Extended Module:")) return { ext: "xm", mime: "audio/x-xm" }; if (this.checkString("Creative Voice File")) return { ext: "voc", mime: "audio/x-voc" }; if (this.check([4, 0, 0, 0]) && this.buffer.length >= 16) { const g = new DataView(this.buffer.buffer).getUint32(12, !0); if (g > 12 && this.buffer.length >= g + 16) try { const f = (new TextDecoder).decode(this.buffer.subarray(16, g + 16)); if (JSON.parse(f).files) return { ext: "asar", mime: "application/x-asar" } } catch { } } return this.check([6, 14, 43, 52, 2, 5, 1, 1, 13, 1, 2, 1, 1, 2]) ? { ext: "mxf", mime: "application/mxf" } : this.checkString("SCRM", { offset: 44 }) ? { ext: "s3m", mime: "audio/x-s3m" } : this.check([71]) && this.check([71], { offset: 188 }) || this.check([71], { offset: 4 }) && this.check([71], { offset: 196 }) ? { ext: "mts", mime: "video/mp2t" } : this.check([66, 79, 79, 75, 77, 79, 66, 73], { offset: 60 }) ? { ext: "mobi", mime: "application/x-mobipocket-ebook" } : this.check([68, 73, 67, 77], { offset: 128 }) ? { ext: "dcm", mime: "application/dicom" } : this.check([76, 0, 0, 0, 1, 20, 2, 0, 0, 0, 0, 0, 192, 0, 0, 0, 0, 0, 0, 70]) ? { ext: "lnk", mime: "application/x.ms.shortcut" } : this.check([98, 111, 111, 107, 0, 0, 0, 0, 109, 97, 114, 107, 0, 0, 0, 0]) ? { ext: "alias", mime: "application/x.apple.alias" } : this.checkString("Kaydara FBX Binary  \0") ? { ext: "fbx", mime: "application/x.autodesk.fbx" } : this.check([76, 80], { offset: 34 }) && (this.check([0, 0, 1], { offset: 8 }) || this.check([1, 0, 2], { offset: 8 }) || this.check([2, 0, 2], { offset: 8 })) ? { ext: "eot", mime: "application/vnd.ms-fontobject" } : this.check([6, 6, 237, 245, 216, 29, 70, 229, 189, 49, 239, 231, 254, 116, 183, 29]) ? { ext: "indd", mime: "application/x-indesign" } : (await e.peekBuffer(this.buffer, { length: Math.min(512, e.fileInfo.size), mayBeLess: !0 }), this.checkString("ustar", { offset: 257 }) && (this.checkString("\0", { offset: 262 }) || this.checkString(" ", { offset: 262 })) || this.check([0, 0, 0, 0, 0, 0], { offset: 257 }) && tarHeaderChecksumMatches(this.buffer) ? { ext: "tar", mime: "application/x-tar" } : this.check([255, 254]) ? this.check([60, 0, 63, 0, 120, 0, 109, 0, 108, 0], { offset: 2 }) ? { ext: "xml", mime: "application/xml" } : this.check([255, 14, 83, 0, 107, 0, 101, 0, 116, 0, 99, 0, 104, 0, 85, 0, 112, 0, 32, 0, 77, 0, 111, 0, 100, 0, 101, 0, 108, 0], { offset: 2 }) ? { ext: "skp", mime: "application/vnd.sketchup.skp" } : void 0 : this.checkString("-----BEGIN PGP MESSAGE-----") ? { ext: "pgp", mime: "application/pgp-encrypted" } : void 0) }; detectImprecise = async e => { if (this.buffer = new Uint8Array(reasonableDetectionSizeInBytes), await e.peekBuffer(this.buffer, { length: Math.min(8, e.fileInfo.size), mayBeLess: !0 }), this.check([0, 0, 1, 186]) || this.check([0, 0, 1, 179])) return { ext: "mpg", mime: "video/mpeg" }; if (this.check([0, 1, 0, 0, 0])) return { ext: "ttf", mime: "font/ttf" }; if (this.check([0, 0, 1, 0])) return { ext: "ico", mime: "image/x-icon" }; if (this.check([0, 0, 2, 0])) return { ext: "cur", mime: "image/x-icon" }; if (await e.peekBuffer(this.buffer, { length: Math.min(2 + this.options.mpegOffsetTolerance, e.fileInfo.size), mayBeLess: !0 }), this.buffer.length >= 2 + this.options.mpegOffsetTolerance) for (let t = 0; t <= this.options.mpegOffsetTolerance; ++t) { const e = this.scanMpeg(t); if (e) return e } }; async readTiffTag(e) { const t = await this.tokenizer.readToken(e ? UINT16_BE : UINT16_LE); switch (this.tokenizer.ignore(10), t) { case 50341: return { ext: "arw", mime: "image/x-sony-arw" }; case 50706: return { ext: "dng", mime: "image/x-adobe-dng" } } } async readTiffIFD(e) { const t = await this.tokenizer.readToken(e ? UINT16_BE : UINT16_LE); for (let n = 0; n < t; ++n) { const t = await this.readTiffTag(e); if (t) return t } } async readTiffHeader(e) { const t = (e ? UINT16_BE : UINT16_LE).get(this.buffer, 2), n = (e ? UINT32_BE : UINT32_LE).get(this.buffer, 4); if (42 === t) { if (n >= 6) { if (this.checkString("CR", { offset: 8 })) return { ext: "cr2", mime: "image/x-canon-cr2" }; if (n >= 8) { const t = (e ? UINT16_BE : UINT16_LE).get(this.buffer, 8), n = (e ? UINT16_BE : UINT16_LE).get(this.buffer, 10); if (28 === t && 254 === n || 31 === t && 11 === n) return { ext: "nef", mime: "image/x-nikon-nef" } } } return await this.tokenizer.ignore(n), await this.readTiffIFD(e) ?? { ext: "tif", mime: "image/tiff" } } if (43 === t) return { ext: "tif", mime: "image/tiff" } } scanMpeg(e) { if (this.check([255, 224], { offset: e, mask: [255, 224] })) { if (this.check([16], { offset: e + 1, mask: [22] })) return this.check([8], { offset: e + 1, mask: [8] }), { ext: "aac", mime: "audio/aac" }; if (this.check([2], { offset: e + 1, mask: [6] })) return { ext: "mp3", mime: "audio/mpeg" }; if (this.check([4], { offset: e + 1, mask: [6] })) return { ext: "mp2", mime: "audio/mpeg" }; if (this.check([6], { offset: e + 1, mask: [6] })) return { ext: "mp1", mime: "audio/mpeg" } } } } new Set(extensions), new Set(mimeTypes); var contentType = {}, PARAM_REGEXP = /; *([!#$%&'*+.^_`|~0-9A-Za-z-]+) *= *("(?:[\u000b\u0020\u0021\u0023-\u005b\u005d-\u007e\u0080-\u00ff]|\\[\u000b\u0020-\u00ff])*"|[!#$%&'*+.^_`|~0-9A-Za-z-]+) */g, TEXT_REGEXP = /^[\u000b\u0020-\u007e\u0080-\u00ff]+$/, TOKEN_REGEXP = /^[!#$%&'*+.^_`|~0-9A-Za-z-]+$/, QESC_REGEXP = /\\([\u000b\u0020-\u00ff])/g, QUOTE_REGEXP = /([\\"])/g, TYPE_REGEXP$1 = /^[!#$%&'*+.^_`|~0-9A-Za-z-]+\/[!#$%&'*+.^_`|~0-9A-Za-z-]+$/; function format$1(e) { if (!e || "object" != typeof e) throw new TypeError("argument obj is required"); var t = e.parameters, n = e.type; if (!n || !TYPE_REGEXP$1.test(n)) throw new TypeError("invalid type"); var a = n; if (t && "object" == typeof t) for (var r, s = Object.keys(t).sort(), i = 0; i < s.length; i++) { if (r = s[i], !TOKEN_REGEXP.test(r)) throw new TypeError("invalid parameter name"); a += "; " + r + "=" + qstring(t[r]) } return a } function parse$1(e) { if (!e) throw new TypeError("argument string is required"); var t = "object" == typeof e ? getcontenttype(e) : e; if ("string" != typeof t) throw new TypeError("argument string is required to be a string"); var n = t.indexOf(";"), a = -1 !== n ? t.slice(0, n).trim() : t.trim(); if (!TYPE_REGEXP$1.test(a)) throw new TypeError("invalid media type"); var r = new ContentType(a.toLowerCase()); if (-1 !== n) { var s, i, o; for (PARAM_REGEXP.lastIndex = n; i = PARAM_REGEXP.exec(t);) { if (i.index !== n) throw new TypeError("invalid parameter format"); n += i[0].length, s = i[1].toLowerCase(), 34 === (o = i[2]).charCodeAt(0) && -1 !== (o = o.slice(1, -1)).indexOf("\\") && (o = o.replace(QESC_REGEXP, "$1")), r.parameters[s] = o } if (n !== t.length) throw new TypeError("invalid parameter format") } return r } function getcontenttype(e) { var t; if ("function" == typeof e.getHeader ? t = e.getHeader("content-type") : "object" == typeof e.headers && (t = e.headers && e.headers["content-type"]), "string" != typeof t) throw new TypeError("content-type header is missing from object"); return t } function qstring(e) { var t = String(e); if (TOKEN_REGEXP.test(t)) return t; if (t.length > 0 && !TEXT_REGEXP.test(t)) throw new TypeError("invalid parameter value"); return '"' + t.replace(QUOTE_REGEXP, "\\$1") + '"' } function ContentType(e) { this.parameters = Object.create(null), this.type = e } contentType.format = format$1, contentType.parse = parse$1; var TYPE_REGEXP = /^ *([A-Za-z0-9][A-Za-z0-9!#$&^_-]{0,126})\/([A-Za-z0-9][A-Za-z0-9!#$&^_.+-]{0,126}) *$/, parse_1 = parse; function parse(e) { if (!e) throw new TypeError("argument string is required"); if ("string" != typeof e) throw new TypeError("argument string is required to be a string"); var t = TYPE_REGEXP.exec(e.toLowerCase()); if (!t) throw new TypeError("invalid media type"); var n, a = t[1], r = t[2], s = r.lastIndexOf("+"); return -1 !== s && (n = r.substr(s + 1), r = r.substr(0, s)), new MediaType(a, r, n) } function MediaType(e, t, n) { this.type = e, this.subtype = t, this.suffix = n } const TargetType = { 10: "shot", 20: "scene", 30: "track", 40: "part", 50: "album", 60: "edition", 70: "collection" }, TrackType = { video: 1, audio: 2, complex: 3, logo: 4, subtitle: 17, button: 18, control: 32 }, TrackTypeValueToKeyMap = { [TrackType.video]: "video", [TrackType.audio]: "audio", [TrackType.complex]: "complex", [TrackType.logo]: "logo", [TrackType.subtitle]: "subtitle", [TrackType.button]: "button", [TrackType.control]: "control" }, makeParseError = e => class extends Error { constructor(t) { super(t), this.name = e } }; class CouldNotDetermineFileTypeError extends (makeParseError("CouldNotDetermineFileTypeError")) { } class UnsupportedFileTypeError extends (makeParseError("UnsupportedFileTypeError")) { } class UnexpectedFileContentError extends (makeParseError("UnexpectedFileContentError")) { constructor(e, t) { super(t), this.fileType = e } toString() { return `${this.name} (FileType: ${this.fileType}): ${this.message}` } } class FieldDecodingError extends (makeParseError("FieldDecodingError")) { } class InternalParserError extends (makeParseError("InternalParserError")) { } const makeUnexpectedFileContentError = e => class extends UnexpectedFileContentError { constructor(t) { super(e, t) } }; function getBit(e, t, n) { return !!(e[t] & 1 << n) } function findZero(e, t, n, a) { let r = t; if ("utf-16le" === a) { for (; 0 !== e[r] || 0 !== e[r + 1];) { if (r >= n) return n; r += 2 } return r } for (; 0 !== e[r];) { if (r >= n) return n; r++ } return r } function trimRightNull(e) { const t = e.indexOf("\0"); return -1 === t ? e : e.substr(0, t) } function swapBytes(e) { const t = e.length; if (1 & t) throw new FieldDecodingError("Buffer length must be even"); for (let n = 0; n < t; n += 2) { const t = e[n]; e[n] = e[n + 1], e[n + 1] = t } return e } function decodeString(e, t) { if (255 === e[0] && 254 === e[1]) return decodeString(e.subarray(2), t); if ("utf-16le" === t && 254 === e[0] && 255 === e[1]) { if (1 & e.length) throw new FieldDecodingError("Expected even number of octets for 16-bit unicode string"); return decodeString(swapBytes(e), t) } return new StringType(e.length, t).get(e, 0) } function stripNulls(e) { return (e = e.replace(/^\x00+/g, "")).replace(/\x00+$/g, "") } function getBitAllignedNumber$1(e, t, n, a) { const r = n % 8; let s = e[t + ~~(n / 8)]; s &= 255 >> r; const i = 8 - r, o = a - i; return o < 0 ? s >>= 8 - r - a : o > 0 && (s <<= o, s |= getBitAllignedNumber$1(e, t, n + i, o)), s } function isBitSet$2(e, t, n) { return 1 === getBitAllignedNumber$1(e, t, n, 1) } function a2hex(e) { const t = []; for (let n = 0, a = e.length; n < a; n++) { const a = Number(e.charCodeAt(n)).toString(16); t.push(1 === a.length ? `0${a}` : a) } return t.join(" ") } function ratioToDb(e) { return 10 * Math.log10(e) } function dbToRatio(e) { return 10 ** (e / 10) } function toRatio(e) { const t = e.split(" ").map(e => e.trim().toLowerCase()); if (t.length >= 1) { const e = Number.parseFloat(t[0]); return 2 === t.length && "db" === t[1] ? { dB: e, ratio: dbToRatio(e) } : { dB: ratioToDb(e), ratio: e } } } const AttachedPictureType = { 0: "Other", 1: "32x32 pixels 'file icon' (PNG only)", 2: "Other file icon", 3: "Cover (front)", 4: "Cover (back)", 5: "Leaflet page", 6: "Media (e.g. label side of CD)", 7: "Lead artist/lead performer/soloist", 8: "Artist/performer", 9: "Conductor", 10: "Band/Orchestra", 11: "Composer", 12: "Lyricist/text writer", 13: "Recording Location", 14: "During recording", 15: "During performance", 16: "Movie/video screen capture", 17: "A bright coloured fish", 18: "Illustration", 19: "Band/artist logotype", 20: "Publisher/Studio logotype" }, LyricsContentType = { other: 0, lyrics: 1, text: 2, movement_part: 3, events: 4, chord: 5, trivia_pop: 6 }, TimestampFormat = { notSynchronized0: 0, mpegFrameNumber: 1, milliseconds: 2 }, UINT32SYNCSAFE = { get: (e, t) => 127 & e[t + 3] | e[t + 2] << 7 | e[t + 1] << 14 | e[t] << 21, len: 4 }, ID3v2Header = { len: 10, get: (e, t) => ({ fileIdentifier: new StringType(3, "ascii").get(e, t), version: { major: INT8.get(e, t + 3), revision: INT8.get(e, t + 4) }, flags: { unsynchronisation: getBit(e, t + 5, 7), isExtendedHeader: getBit(e, t + 5, 6), expIndicator: getBit(e, t + 5, 5), footer: getBit(e, t + 5, 4) }, size: UINT32SYNCSAFE.get(e, t + 6) }) }, ExtendedHeader = { len: 10, get: (e, t) => ({ size: UINT32_BE.get(e, t), extendedFlags: UINT16_BE.get(e, t + 4), sizeOfPadding: UINT32_BE.get(e, t + 6), crcDataPresent: getBit(e, t + 4, 31) }) }, TextEncodingToken = { len: 1, get: (e, t) => { switch (e[t]) { case 0: return { encoding: "latin1" }; case 1: return { encoding: "utf-16le", bom: !0 }; case 2: return { encoding: "utf-16le", bom: !1 }; default: return { encoding: "utf8", bom: !1 } } } }, TextHeader = { len: 4, get: (e, t) => ({ encoding: TextEncodingToken.get(e, t), language: new StringType(3, "latin1").get(e, t + 1) }) }, SyncTextHeader = { len: 6, get: (e, t) => { const n = TextHeader.get(e, t); return { encoding: n.encoding, language: n.language, timeStampFormat: UINT8.get(e, t + 4), contentType: UINT8.get(e, t + 5) } } }, defaultTagInfo = { multiple: !1 }, commonTags = { year: defaultTagInfo, track: defaultTagInfo, disk: defaultTagInfo, title: defaultTagInfo, artist: defaultTagInfo, artists: { multiple: !0, unique: !0 }, albumartist: defaultTagInfo, album: defaultTagInfo, date: defaultTagInfo, originaldate: defaultTagInfo, originalyear: defaultTagInfo, releasedate: defaultTagInfo, comment: { multiple: !0, unique: !1 }, genre: { multiple: !0, unique: !0 }, picture: { multiple: !0, unique: !0 }, composer: { multiple: !0, unique: !0 }, lyrics: { multiple: !0, unique: !1 }, albumsort: { multiple: !1, unique: !0 }, titlesort: { multiple: !1, unique: !0 }, work: { multiple: !1, unique: !0 }, artistsort: { multiple: !1, unique: !0 }, albumartistsort: { multiple: !1, unique: !0 }, composersort: { multiple: !1, unique: !0 }, lyricist: { multiple: !0, unique: !0 }, writer: { multiple: !0, unique: !0 }, conductor: { multiple: !0, unique: !0 }, remixer: { multiple: !0, unique: !0 }, arranger: { multiple: !0, unique: !0 }, engineer: { multiple: !0, unique: !0 }, producer: { multiple: !0, unique: !0 }, technician: { multiple: !0, unique: !0 }, djmixer: { multiple: !0, unique: !0 }, mixer: { multiple: !0, unique: !0 }, label: { multiple: !0, unique: !0 }, grouping: defaultTagInfo, subtitle: { multiple: !0 }, discsubtitle: defaultTagInfo, totaltracks: defaultTagInfo, totaldiscs: defaultTagInfo, compilation: defaultTagInfo, rating: { multiple: !0 }, bpm: defaultTagInfo, mood: defaultTagInfo, media: defaultTagInfo, catalognumber: { multiple: !0, unique: !0 }, tvShow: defaultTagInfo, tvShowSort: defaultTagInfo, tvSeason: defaultTagInfo, tvEpisode: defaultTagInfo, tvEpisodeId: defaultTagInfo, tvNetwork: defaultTagInfo, podcast: defaultTagInfo, podcasturl: defaultTagInfo, releasestatus: defaultTagInfo, releasetype: { multiple: !0 }, releasecountry: defaultTagInfo, script: defaultTagInfo, language: defaultTagInfo, copyright: defaultTagInfo, license: defaultTagInfo, encodedby: defaultTagInfo, encodersettings: defaultTagInfo, gapless: defaultTagInfo, barcode: defaultTagInfo, isrc: { multiple: !0 }, asin: defaultTagInfo, musicbrainz_recordingid: defaultTagInfo, musicbrainz_trackid: defaultTagInfo, musicbrainz_albumid: defaultTagInfo, musicbrainz_artistid: { multiple: !0 }, musicbrainz_albumartistid: { multiple: !0 }, musicbrainz_releasegroupid: defaultTagInfo, musicbrainz_workid: defaultTagInfo, musicbrainz_trmid: defaultTagInfo, musicbrainz_discid: defaultTagInfo, acoustid_id: defaultTagInfo, acoustid_fingerprint: defaultTagInfo, musicip_puid: defaultTagInfo, musicip_fingerprint: defaultTagInfo, website: defaultTagInfo, "performer:instrument": { multiple: !0, unique: !0 }, averageLevel: defaultTagInfo, peakLevel: defaultTagInfo, notes: { multiple: !0, unique: !1 }, key: defaultTagInfo, originalalbum: defaultTagInfo, originalartist: defaultTagInfo, discogs_artist_id: { multiple: !0, unique: !0 }, discogs_release_id: defaultTagInfo, discogs_label_id: defaultTagInfo, discogs_master_release_id: defaultTagInfo, discogs_votes: defaultTagInfo, discogs_rating: defaultTagInfo, replaygain_track_peak: defaultTagInfo, replaygain_track_gain: defaultTagInfo, replaygain_album_peak: defaultTagInfo, replaygain_album_gain: defaultTagInfo, replaygain_track_minmax: defaultTagInfo, replaygain_album_minmax: defaultTagInfo, replaygain_undo: defaultTagInfo, description: { multiple: !0 }, longDescription: defaultTagInfo, category: { multiple: !0 }, hdVideo: defaultTagInfo, keywords: { multiple: !0 }, movement: defaultTagInfo, movementIndex: defaultTagInfo, movementTotal: defaultTagInfo, podcastId: defaultTagInfo, showMovement: defaultTagInfo, stik: defaultTagInfo }; function isSingleton(e) { return commonTags[e] && !commonTags[e].multiple } function isUnique(e) { return !commonTags[e].multiple || commonTags[e].unique || !1 } class CommonTagMapper { static toIntOrNull(e) { const t = Number.parseInt(e, 10); return Number.isNaN(t) ? null : t } static normalizeTrack(e) { const t = e.toString().split("/"); return { no: Number.parseInt(t[0], 10) || null, of: Number.parseInt(t[1], 10) || null } } constructor(e, t) { this.tagTypes = e, this.tagMap = t } mapGenericTag(e, t) { e = { id: e.id, value: e.value }, this.postMap(e, t); const n = this.getCommonName(e.id); return n ? { id: n, value: e.value } : null } getCommonName(e) { return this.tagMap[e] } postMap(e, t) { } } CommonTagMapper.maxRatingScore = 1; const id3v1TagMap = { title: "title", artist: "artist", album: "album", year: "year", comment: "comment", track: "track", genre: "genre" }; class ID3v1TagMapper extends CommonTagMapper { constructor() { super(["ID3v1"], id3v1TagMap) } } class CaseInsensitiveTagMap extends CommonTagMapper { constructor(e, t) { const n = {}; for (const a of Object.keys(t)) n[a.toUpperCase()] = t[a]; super(e, n) } getCommonName(e) { return this.tagMap[e.toUpperCase()] } } const id3v24TagMap = { TIT2: "title", TPE1: "artist", "TXXX:Artists": "artists", TPE2: "albumartist", TALB: "album", TDRV: "date", TORY: "originalyear", TPOS: "disk", TCON: "genre", APIC: "picture", TCOM: "composer", USLT: "lyrics", TSOA: "albumsort", TSOT: "titlesort", TOAL: "originalalbum", TSOP: "artistsort", TSO2: "albumartistsort", TSOC: "composersort", TEXT: "lyricist", "TXXX:Writer": "writer", TPE3: "conductor", TPE4: "remixer", "IPLS:arranger": "arranger", "IPLS:engineer": "engineer", "IPLS:producer": "producer", "IPLS:DJ-mix": "djmixer", "IPLS:mix": "mixer", TPUB: "label", TIT1: "grouping", TIT3: "subtitle", TRCK: "track", TCMP: "compilation", POPM: "rating", TBPM: "bpm", TMED: "media", "TXXX:CATALOGNUMBER": "catalognumber", "TXXX:MusicBrainz Album Status": "releasestatus", "TXXX:MusicBrainz Album Type": "releasetype", "TXXX:MusicBrainz Album Release Country": "releasecountry", "TXXX:RELEASECOUNTRY": "releasecountry", "TXXX:SCRIPT": "script", TLAN: "language", TCOP: "copyright", WCOP: "license", TENC: "encodedby", TSSE: "encodersettings", "TXXX:BARCODE": "barcode", "TXXX:ISRC": "isrc", TSRC: "isrc", "TXXX:ASIN": "asin", "TXXX:originalyear": "originalyear", "UFID:http://musicbrainz.org": "musicbrainz_recordingid", "TXXX:MusicBrainz Release Track Id": "musicbrainz_trackid", "TXXX:MusicBrainz Album Id": "musicbrainz_albumid", "TXXX:MusicBrainz Artist Id": "musicbrainz_artistid", "TXXX:MusicBrainz Album Artist Id": "musicbrainz_albumartistid", "TXXX:MusicBrainz Release Group Id": "musicbrainz_releasegroupid", "TXXX:MusicBrainz Work Id": "musicbrainz_workid", "TXXX:MusicBrainz TRM Id": "musicbrainz_trmid", "TXXX:MusicBrainz Disc Id": "musicbrainz_discid", "TXXX:ACOUSTID_ID": "acoustid_id", "TXXX:Acoustid Id": "acoustid_id", "TXXX:Acoustid Fingerprint": "acoustid_fingerprint", "TXXX:MusicIP PUID": "musicip_puid", "TXXX:MusicMagic Fingerprint": "musicip_fingerprint", WOAR: "website", TDRC: "date", TYER: "year", TDOR: "originaldate", "TIPL:arranger": "arranger", "TIPL:engineer": "engineer", "TIPL:producer": "producer", "TIPL:DJ-mix": "djmixer", "TIPL:mix": "mixer", TMOO: "mood", SYLT: "lyrics", TSST: "discsubtitle", TKEY: "key", COMM: "comment", TOPE: "originalartist", "PRIV:AverageLevel": "averageLevel", "PRIV:PeakLevel": "peakLevel", "TXXX:DISCOGS_ARTIST_ID": "discogs_artist_id", "TXXX:DISCOGS_ARTISTS": "artists", "TXXX:DISCOGS_ARTIST_NAME": "artists", "TXXX:DISCOGS_ALBUM_ARTISTS": "albumartist", "TXXX:DISCOGS_CATALOG": "catalognumber", "TXXX:DISCOGS_COUNTRY": "releasecountry", "TXXX:DISCOGS_DATE": "originaldate", "TXXX:DISCOGS_LABEL": "label", "TXXX:DISCOGS_LABEL_ID": "discogs_label_id", "TXXX:DISCOGS_MASTER_RELEASE_ID": "discogs_master_release_id", "TXXX:DISCOGS_RATING": "discogs_rating", "TXXX:DISCOGS_RELEASED": "date", "TXXX:DISCOGS_RELEASE_ID": "discogs_release_id", "TXXX:DISCOGS_VOTES": "discogs_votes", "TXXX:CATALOGID": "catalognumber", "TXXX:STYLE": "genre", "TXXX:REPLAYGAIN_TRACK_PEAK": "replaygain_track_peak", "TXXX:REPLAYGAIN_TRACK_GAIN": "replaygain_track_gain", "TXXX:REPLAYGAIN_ALBUM_PEAK": "replaygain_album_peak", "TXXX:REPLAYGAIN_ALBUM_GAIN": "replaygain_album_gain", "TXXX:MP3GAIN_MINMAX": "replaygain_track_minmax", "TXXX:MP3GAIN_ALBUM_MINMAX": "replaygain_album_minmax", "TXXX:MP3GAIN_UNDO": "replaygain_undo", MVNM: "movement", MVIN: "movementIndex", PCST: "podcast", TCAT: "category", TDES: "description", TDRL: "releasedate", TGID: "podcastId", TKWD: "keywords", WFED: "podcasturl", GRP1: "grouping" }; class ID3v24TagMapper extends CaseInsensitiveTagMap { static toRating(e) { return { source: e.email, rating: e.rating > 0 ? (e.rating - 1) / 254 * CommonTagMapper.maxRatingScore : void 0 } } constructor() { super(["ID3v2.3", "ID3v2.4"], id3v24TagMap) } postMap(e, t) { switch (e.id) { case "UFID": { const t = e.value; "http://musicbrainz.org" === t.owner_identifier && (e.id += `:${t.owner_identifier}`, e.value = decodeString(t.identifier, "latin1")) } break; case "PRIV": { const n = e.value; switch (n.owner_identifier) { case "AverageLevel": case "PeakValue": e.id += `:${n.owner_identifier}`, e.value = 4 === n.data.length ? UINT32_LE.get(n.data, 0) : null, null === e.value && t.addWarning("Failed to parse PRIV:PeakValue"); break; default: t.addWarning(`Unknown PRIV owner-identifier: ${n.data}`) } } break; case "POPM": e.value = ID3v24TagMapper.toRating(e.value) } } } const asfTagMap = { Title: "title", Author: "artist", "WM/AlbumArtist": "albumartist", "WM/AlbumTitle": "album", "WM/Year": "date", "WM/OriginalReleaseTime": "originaldate", "WM/OriginalReleaseYear": "originalyear", Description: "comment", "WM/TrackNumber": "track", "WM/PartOfSet": "disk", "WM/Genre": "genre", "WM/Composer": "composer", "WM/Lyrics": "lyrics", "WM/AlbumSortOrder": "albumsort", "WM/TitleSortOrder": "titlesort", "WM/ArtistSortOrder": "artistsort", "WM/AlbumArtistSortOrder": "albumartistsort", "WM/ComposerSortOrder": "composersort", "WM/Writer": "lyricist", "WM/Conductor": "conductor", "WM/ModifiedBy": "remixer", "WM/Engineer": "engineer", "WM/Producer": "producer", "WM/DJMixer": "djmixer", "WM/Mixer": "mixer", "WM/Publisher": "label", "WM/ContentGroupDescription": "grouping", "WM/SubTitle": "subtitle", "WM/SetSubTitle": "discsubtitle", "WM/IsCompilation": "compilation", "WM/SharedUserRating": "rating", "WM/BeatsPerMinute": "bpm", "WM/Mood": "mood", "WM/Media": "media", "WM/CatalogNo": "catalognumber", "MusicBrainz/Album Status": "releasestatus", "MusicBrainz/Album Type": "releasetype", "MusicBrainz/Album Release Country": "releasecountry", "WM/Script": "script", "WM/Language": "language", Copyright: "copyright", LICENSE: "license", "WM/EncodedBy": "encodedby", "WM/EncodingSettings": "encodersettings", "WM/Barcode": "barcode", "WM/ISRC": "isrc", "MusicBrainz/Track Id": "musicbrainz_recordingid", "MusicBrainz/Release Track Id": "musicbrainz_trackid", "MusicBrainz/Album Id": "musicbrainz_albumid", "MusicBrainz/Artist Id": "musicbrainz_artistid", "MusicBrainz/Album Artist Id": "musicbrainz_albumartistid", "MusicBrainz/Release Group Id": "musicbrainz_releasegroupid", "MusicBrainz/Work Id": "musicbrainz_workid", "MusicBrainz/TRM Id": "musicbrainz_trmid", "MusicBrainz/Disc Id": "musicbrainz_discid", "Acoustid/Id": "acoustid_id", "Acoustid/Fingerprint": "acoustid_fingerprint", "MusicIP/PUID": "musicip_puid", "WM/ARTISTS": "artists", "WM/InitialKey": "key", ASIN: "asin", "WM/Work": "work", "WM/AuthorURL": "website", "WM/Picture": "picture" }; class AsfTagMapper extends CommonTagMapper { static toRating(e) { return { rating: Number.parseFloat(e + 1) / 5 } } constructor() { super(["asf"], asfTagMap) } postMap(e) { switch (e.id) { case "WM/SharedUserRating": { const t = e.id.split(":"); e.value = AsfTagMapper.toRating(e.value), e.id = t[0]; break } } } } const id3v22TagMap = { TT2: "title", TP1: "artist", TP2: "albumartist", TAL: "album", TYE: "year", COM: "comment", TRK: "track", TPA: "disk", TCO: "genre", PIC: "picture", TCM: "composer", TOR: "originaldate", TOT: "originalalbum", TXT: "lyricist", TP3: "conductor", TPB: "label", TT1: "grouping", TT3: "subtitle", TLA: "language", TCR: "copyright", WCP: "license", TEN: "encodedby", TSS: "encodersettings", WAR: "website", PCS: "podcast", TCP: "compilation", TDR: "date", TS2: "albumartistsort", TSA: "albumsort", TSC: "composersort", TSP: "artistsort", TST: "titlesort", WFD: "podcasturl", TBP: "bpm" }; class ID3v22TagMapper extends CaseInsensitiveTagMap { constructor() { super(["ID3v2.2"], id3v22TagMap) } } const apev2TagMap = { Title: "title", Artist: "artist", Artists: "artists", "Album Artist": "albumartist", Album: "album", Year: "date", Originalyear: "originalyear", Originaldate: "originaldate", Releasedate: "releasedate", Comment: "comment", Track: "track", Disc: "disk", DISCNUMBER: "disk", Genre: "genre", "Cover Art (Front)": "picture", "Cover Art (Back)": "picture", Composer: "composer", Lyrics: "lyrics", ALBUMSORT: "albumsort", TITLESORT: "titlesort", WORK: "work", ARTISTSORT: "artistsort", ALBUMARTISTSORT: "albumartistsort", COMPOSERSORT: "composersort", Lyricist: "lyricist", Writer: "writer", Conductor: "conductor", MixArtist: "remixer", Arranger: "arranger", Engineer: "engineer", Producer: "producer", DJMixer: "djmixer", Mixer: "mixer", Label: "label", Grouping: "grouping", Subtitle: "subtitle", DiscSubtitle: "discsubtitle", Compilation: "compilation", BPM: "bpm", Mood: "mood", Media: "media", CatalogNumber: "catalognumber", MUSICBRAINZ_ALBUMSTATUS: "releasestatus", MUSICBRAINZ_ALBUMTYPE: "releasetype", RELEASECOUNTRY: "releasecountry", Script: "script", Language: "language", Copyright: "copyright", LICENSE: "license", EncodedBy: "encodedby", EncoderSettings: "encodersettings", Barcode: "barcode", ISRC: "isrc", ASIN: "asin", musicbrainz_trackid: "musicbrainz_recordingid", musicbrainz_releasetrackid: "musicbrainz_trackid", MUSICBRAINZ_ALBUMID: "musicbrainz_albumid", MUSICBRAINZ_ARTISTID: "musicbrainz_artistid", MUSICBRAINZ_ALBUMARTISTID: "musicbrainz_albumartistid", MUSICBRAINZ_RELEASEGROUPID: "musicbrainz_releasegroupid", MUSICBRAINZ_WORKID: "musicbrainz_workid", MUSICBRAINZ_TRMID: "musicbrainz_trmid", MUSICBRAINZ_DISCID: "musicbrainz_discid", Acoustid_Id: "acoustid_id", ACOUSTID_FINGERPRINT: "acoustid_fingerprint", MUSICIP_PUID: "musicip_puid", Weblink: "website", REPLAYGAIN_TRACK_GAIN: "replaygain_track_gain", REPLAYGAIN_TRACK_PEAK: "replaygain_track_peak", MP3GAIN_MINMAX: "replaygain_track_minmax", MP3GAIN_UNDO: "replaygain_undo" }; class APEv2TagMapper extends CaseInsensitiveTagMap { constructor() { super(["APEv2"], apev2TagMap) } } const mp4TagMap = { "nam": "title", "ART": "artist", aART: "albumartist", "----:com.apple.iTunes:Band": "albumartist", "alb": "album", "day": "date", "cmt": "comment", "com": "comment", trkn: "track", disk: "disk", "gen": "genre", covr: "picture", "wrt": "composer", "lyr": "lyrics", soal: "albumsort", sonm: "titlesort", soar: "artistsort", soaa: "albumartistsort", soco: "composersort", "----:com.apple.iTunes:LYRICIST": "lyricist", "----:com.apple.iTunes:CONDUCTOR": "conductor", "----:com.apple.iTunes:REMIXER": "remixer", "----:com.apple.iTunes:ENGINEER": "engineer", "----:com.apple.iTunes:PRODUCER": "producer", "----:com.apple.iTunes:DJMIXER": "djmixer", "----:com.apple.iTunes:MIXER": "mixer", "----:com.apple.iTunes:LABEL": "label", "grp": "grouping", "----:com.apple.iTunes:SUBTITLE": "subtitle", "----:com.apple.iTunes:DISCSUBTITLE": "discsubtitle", cpil: "compilation", tmpo: "bpm", "----:com.apple.iTunes:MOOD": "mood", "----:com.apple.iTunes:MEDIA": "media", "----:com.apple.iTunes:CATALOGNUMBER": "catalognumber", tvsh: "tvShow", tvsn: "tvSeason", tves: "tvEpisode", sosn: "tvShowSort", tven: "tvEpisodeId", tvnn: "tvNetwork", pcst: "podcast", purl: "podcasturl", "----:com.apple.iTunes:MusicBrainz Album Status": "releasestatus", "----:com.apple.iTunes:MusicBrainz Album Type": "releasetype", "----:com.apple.iTunes:MusicBrainz Album Release Country": "releasecountry", "----:com.apple.iTunes:SCRIPT": "script", "----:com.apple.iTunes:LANGUAGE": "language", cprt: "copyright", "cpy": "copyright", "----:com.apple.iTunes:LICENSE": "license", "too": "encodedby", pgap: "gapless", "----:com.apple.iTunes:BARCODE": "barcode", "----:com.apple.iTunes:ISRC": "isrc", "----:com.apple.iTunes:ASIN": "asin", "----:com.apple.iTunes:NOTES": "comment", "----:com.apple.iTunes:MusicBrainz Track Id": "musicbrainz_recordingid", "----:com.apple.iTunes:MusicBrainz Release Track Id": "musicbrainz_trackid", "----:com.apple.iTunes:MusicBrainz Album Id": "musicbrainz_albumid", "----:com.apple.iTunes:MusicBrainz Artist Id": "musicbrainz_artistid", "----:com.apple.iTunes:MusicBrainz Album Artist Id": "musicbrainz_albumartistid", "----:com.apple.iTunes:MusicBrainz Release Group Id": "musicbrainz_releasegroupid", "----:com.apple.iTunes:MusicBrainz Work Id": "musicbrainz_workid", "----:com.apple.iTunes:MusicBrainz TRM Id": "musicbrainz_trmid", "----:com.apple.iTunes:MusicBrainz Disc Id": "musicbrainz_discid", "----:com.apple.iTunes:Acoustid Id": "acoustid_id", "----:com.apple.iTunes:Acoustid Fingerprint": "acoustid_fingerprint", "----:com.apple.iTunes:MusicIP PUID": "musicip_puid", "----:com.apple.iTunes:fingerprint": "musicip_fingerprint", "----:com.apple.iTunes:replaygain_track_gain": "replaygain_track_gain", "----:com.apple.iTunes:replaygain_track_peak": "replaygain_track_peak", "----:com.apple.iTunes:replaygain_album_gain": "replaygain_album_gain", "----:com.apple.iTunes:replaygain_album_peak": "replaygain_album_peak", "----:com.apple.iTunes:replaygain_track_minmax": "replaygain_track_minmax", "----:com.apple.iTunes:replaygain_album_minmax": "replaygain_album_minmax", "----:com.apple.iTunes:replaygain_undo": "replaygain_undo", gnre: "genre", "----:com.apple.iTunes:ALBUMARTISTSORT": "albumartistsort", "----:com.apple.iTunes:ARTISTS": "artists", "----:com.apple.iTunes:ORIGINALDATE": "originaldate", "----:com.apple.iTunes:ORIGINALYEAR": "originalyear", "----:com.apple.iTunes:RELEASEDATE": "releasedate", desc: "description", ldes: "longDescription", "mvn": "movement", "mvi": "movementIndex", "mvc": "movementTotal", "wrk": "work", catg: "category", egid: "podcastId", hdvd: "hdVideo", keyw: "keywords", shwm: "showMovement", stik: "stik", rate: "rating" }, tagType = "iTunes"; class MP4TagMapper extends CaseInsensitiveTagMap { constructor() { super([tagType], mp4TagMap) } postMap(e, t) { "rate" === e.id && (e.value = { source: void 0, rating: Number.parseFloat(e.value) / 100 }) } } const vorbisTagMap = { TITLE: "title", ARTIST: "artist", ARTISTS: "artists", ALBUMARTIST: "albumartist", "ALBUM ARTIST": "albumartist", ALBUM: "album", DATE: "date", ORIGINALDATE: "originaldate", ORIGINALYEAR: "originalyear", RELEASEDATE: "releasedate", COMMENT: "comment", TRACKNUMBER: "track", DISCNUMBER: "disk", GENRE: "genre", METADATA_BLOCK_PICTURE: "picture", COMPOSER: "composer", LYRICS: "lyrics", ALBUMSORT: "albumsort", TITLESORT: "titlesort", WORK: "work", ARTISTSORT: "artistsort", ALBUMARTISTSORT: "albumartistsort", COMPOSERSORT: "composersort", LYRICIST: "lyricist", WRITER: "writer", CONDUCTOR: "conductor", REMIXER: "remixer", ARRANGER: "arranger", ENGINEER: "engineer", PRODUCER: "producer", DJMIXER: "djmixer", MIXER: "mixer", LABEL: "label", GROUPING: "grouping", SUBTITLE: "subtitle", DISCSUBTITLE: "discsubtitle", TRACKTOTAL: "totaltracks", DISCTOTAL: "totaldiscs", COMPILATION: "compilation", RATING: "rating", BPM: "bpm", KEY: "key", MOOD: "mood", MEDIA: "media", CATALOGNUMBER: "catalognumber", RELEASESTATUS: "releasestatus", RELEASETYPE: "releasetype", RELEASECOUNTRY: "releasecountry", SCRIPT: "script", LANGUAGE: "language", COPYRIGHT: "copyright", LICENSE: "license", ENCODEDBY: "encodedby", ENCODERSETTINGS: "encodersettings", BARCODE: "barcode", ISRC: "isrc", ASIN: "asin", MUSICBRAINZ_TRACKID: "musicbrainz_recordingid", MUSICBRAINZ_RELEASETRACKID: "musicbrainz_trackid", MUSICBRAINZ_ALBUMID: "musicbrainz_albumid", MUSICBRAINZ_ARTISTID: "musicbrainz_artistid", MUSICBRAINZ_ALBUMARTISTID: "musicbrainz_albumartistid", MUSICBRAINZ_RELEASEGROUPID: "musicbrainz_releasegroupid", MUSICBRAINZ_WORKID: "musicbrainz_workid", MUSICBRAINZ_TRMID: "musicbrainz_trmid", MUSICBRAINZ_DISCID: "musicbrainz_discid", ACOUSTID_ID: "acoustid_id", ACOUSTID_ID_FINGERPRINT: "acoustid_fingerprint", MUSICIP_PUID: "musicip_puid", WEBSITE: "website", NOTES: "notes", TOTALTRACKS: "totaltracks", TOTALDISCS: "totaldiscs", DISCOGS_ARTIST_ID: "discogs_artist_id", DISCOGS_ARTISTS: "artists", DISCOGS_ARTIST_NAME: "artists", DISCOGS_ALBUM_ARTISTS: "albumartist", DISCOGS_CATALOG: "catalognumber", DISCOGS_COUNTRY: "releasecountry", DISCOGS_DATE: "originaldate", DISCOGS_LABEL: "label", DISCOGS_LABEL_ID: "discogs_label_id", DISCOGS_MASTER_RELEASE_ID: "discogs_master_release_id", DISCOGS_RATING: "discogs_rating", DISCOGS_RELEASED: "date", DISCOGS_RELEASE_ID: "discogs_release_id", DISCOGS_VOTES: "discogs_votes", CATALOGID: "catalognumber", STYLE: "genre", REPLAYGAIN_TRACK_GAIN: "replaygain_track_gain", REPLAYGAIN_TRACK_PEAK: "replaygain_track_peak", REPLAYGAIN_ALBUM_GAIN: "replaygain_album_gain", REPLAYGAIN_ALBUM_PEAK: "replaygain_album_peak", REPLAYGAIN_MINMAX: "replaygain_track_minmax", REPLAYGAIN_ALBUM_MINMAX: "replaygain_album_minmax", REPLAYGAIN_UNDO: "replaygain_undo" }; class VorbisTagMapper extends CommonTagMapper { static toRating(e, t, n) { return { source: e ? e.toLowerCase() : void 0, rating: Number.parseFloat(t) / n * CommonTagMapper.maxRatingScore } } constructor() { super(["vorbis"], vorbisTagMap) } postMap(e) { if ("RATING" === e.id) e.value = VorbisTagMapper.toRating(void 0, e.value, 100); else if (0 === e.id.indexOf("RATING:")) { const t = e.id.split(":"); e.value = VorbisTagMapper.toRating(t[1], e.value, 1), e.id = t[0] } } } const riffInfoTagMap = { IART: "artist", ICRD: "date", INAM: "title", TITL: "title", IPRD: "album", ITRK: "track", IPRT: "track", COMM: "comment", ICMT: "comment", ICNT: "releasecountry", GNRE: "genre", IWRI: "writer", RATE: "rating", YEAR: "year", ISFT: "encodedby", CODE: "encodedby", TURL: "website", IGNR: "genre", IENG: "engineer", ITCH: "technician", IMED: "media", IRPD: "album" }; class RiffInfoTagMapper extends CommonTagMapper { constructor() { super(["exif"], riffInfoTagMap) } } const ebmlTagMap = { "segment:title": "title", "album:ARTIST": "albumartist", "album:ARTISTSORT": "albumartistsort", "album:TITLE": "album", "album:DATE_RECORDED": "originaldate", "album:DATE_RELEASED": "releasedate", "album:PART_NUMBER": "disk", "album:TOTAL_PARTS": "totaltracks", "track:ARTIST": "artist", "track:ARTISTSORT": "artistsort", "track:TITLE": "title", "track:PART_NUMBER": "track", "track:MUSICBRAINZ_TRACKID": "musicbrainz_recordingid", "track:MUSICBRAINZ_ALBUMID": "musicbrainz_albumid", "track:MUSICBRAINZ_ARTISTID": "musicbrainz_artistid", "track:PUBLISHER": "label", "track:GENRE": "genre", "track:ENCODER": "encodedby", "track:ENCODER_OPTIONS": "encodersettings", "edition:TOTAL_PARTS": "totaldiscs", picture: "picture" }; class MatroskaTagMapper extends CaseInsensitiveTagMap { constructor() { super(["matroska"], ebmlTagMap) } } const tagMap = { NAME: "title", AUTH: "artist", "(c) ": "copyright", ANNO: "comment" }; class AiffTagMapper extends CommonTagMapper { constructor() { super(["AIFF"], tagMap) } } class CombinedTagMapper { constructor() { this.tagMappers = {}, [new ID3v1TagMapper, new ID3v22TagMapper, new ID3v24TagMapper, new MP4TagMapper, new MP4TagMapper, new VorbisTagMapper, new APEv2TagMapper, new AsfTagMapper, new RiffInfoTagMapper, new MatroskaTagMapper, new AiffTagMapper].forEach(e => { this.registerTagMapper(e) }) } mapTag(e, t, n) { if (this.tagMappers[e]) return this.tagMappers[e].mapGenericTag(t, n); throw new InternalParserError(`No generic tag mapper defined for tag-format: ${e}`) } registerTagMapper(e) { for (const t of e.tagTypes) this.tagMappers[t] = e } } function parseLrc(e) { const t = e.split("\n"), n = [], a = /\[(\d{2}):(\d{2})\.(\d{2,3})\]/; for (const r of t) { const e = r.match(a); if (e) { const t = Number.parseInt(e[1], 10), s = Number.parseInt(e[2], 10), i = e[3]; let o; o = 3 === i.length ? Number.parseInt(i, 10) : 10 * Number.parseInt(i, 10); const l = 1e3 * (60 * t + s) + o, m = r.replace(a, "").trim(); n.push({ timestamp: l, text: m }) } } return { contentType: LyricsContentType.lyrics, timeStampFormat: TimestampFormat.milliseconds, syncText: n } } const debug$r = initDebug("music-metadata:collector"), TagPriority = ["matroska", "APEv2", "vorbis", "ID3v2.4", "ID3v2.3", "ID3v2.2", "exif", "asf", "iTunes", "AIFF", "ID3v1"]; class MetadataCollector { constructor(e) { this.format = { tagTypes: [], trackInfo: [] }, this.native = {}, this.common = { track: { no: null, of: null }, disk: { no: null, of: null }, movementIndex: { no: null, of: null } }, this.quality = { warnings: [] }, this.commonOrigin = {}, this.originPriority = {}, this.tagMapper = new CombinedTagMapper, this.opts = e; let t = 1; for (const n of TagPriority) this.originPriority[n] = t++; this.originPriority.artificial = 500, this.originPriority.id3v1 = 600 } hasAny() { return Object.keys(this.native).length > 0 } addStreamInfo(e) { debug$r(`streamInfo: type=${e.type ? TrackTypeValueToKeyMap[e.type] : "?"}, codec=${e.codecName}`), this.format.trackInfo.push(e) } setFormat(e, t) { debug$r(`format: ${e} = ${t}`), this.format[e] = t, this.opts?.observer && this.opts.observer({ metadata: this, tag: { type: "format", id: e, value: t } }) } setAudioOnly() { this.setFormat("hasAudio", !0), this.setFormat("hasVideo", !1) } async addTag(e, t, n) { debug$r(`tag ${e}.${t} = ${n}`), this.native[e] || (this.format.tagTypes.push(e), this.native[e] = []), this.native[e].push({ id: t, value: n }), await this.toCommon(e, t, n) } addWarning(e) { this.quality.warnings.push({ message: e }) } async postMap(e, t) { switch (t.id) { case "artist": if (this.commonOrigin.artist === this.originPriority[e]) return this.postMap("artificial", { id: "artists", value: t.value }); this.common.artists || this.setGenericTag("artificial", { id: "artists", value: t.value }); break; case "artists": if (!(this.common.artist && this.commonOrigin.artist !== this.originPriority.artificial || this.common.artists && -1 !== this.common.artists.indexOf(t.value))) { const e = { id: "artist", value: joinArtists((this.common.artists || []).concat([t.value])) }; this.setGenericTag("artificial", e) } break; case "picture": return this.postFixPicture(t.value).then(n => { null !== n && (t.value = n, this.setGenericTag(e, t)) }); case "totaltracks": return void (this.common.track.of = CommonTagMapper.toIntOrNull(t.value)); case "totaldiscs": return void (this.common.disk.of = CommonTagMapper.toIntOrNull(t.value)); case "movementTotal": return void (this.common.movementIndex.of = CommonTagMapper.toIntOrNull(t.value)); case "track": case "disk": case "movementIndex": { const e = this.common[t.id].of; return this.common[t.id] = CommonTagMapper.normalizeTrack(t.value), void (this.common[t.id].of = null != e ? e : this.common[t.id].of) } case "bpm": case "year": case "originalyear": t.value = Number.parseInt(t.value, 10); break; case "date": { const e = Number.parseInt(t.value.substr(0, 4), 10); Number.isNaN(e) || (this.common.year = e); break } case "discogs_label_id": case "discogs_release_id": case "discogs_master_release_id": case "discogs_artist_id": case "discogs_votes": t.value = "string" == typeof t.value ? Number.parseInt(t.value, 10) : t.value; break; case "replaygain_track_gain": case "replaygain_track_peak": case "replaygain_album_gain": case "replaygain_album_peak": t.value = toRatio(t.value); break; case "replaygain_track_minmax": t.value = t.value.split(",").map(e => Number.parseInt(e, 10)); break; case "replaygain_undo": { const e = t.value.split(",").map(e => Number.parseInt(e, 10)); t.value = { leftChannel: e[0], rightChannel: e[1] }; break } case "gapless": case "compilation": case "podcast": case "showMovement": t.value = "1" === t.value || 1 === t.value; break; case "isrc": { const e = this.common[t.id]; if (e && -1 !== e.indexOf(t.value)) return; break } case "comment": "string" == typeof t.value && (t.value = { text: t.value }), "iTunPGAP" === t.value.descriptor && this.setGenericTag(e, { id: "gapless", value: "1" === t.value.text }); break; case "lyrics": "string" == typeof t.value && (t.value = parseLrc(t.value)) }null !== t.value && this.setGenericTag(e, t) } toCommonMetadata() { return { format: this.format, native: this.native, quality: this.quality, common: this.common } } async postFixPicture(e) { if (e.data && e.data.length > 0) { if (!e.format) { const t = await fileTypeFromBuffer(Uint8Array.from(e.data)); if (!t) return null; e.format = t.mime } return e.format = e.format.toLocaleLowerCase(), "image/jpg" === e.format && (e.format = "image/jpeg"), e } return this.addWarning("Empty picture tag found"), null } async toCommon(e, t, n) { const a = { id: t, value: n }, r = this.tagMapper.mapTag(e, a, this); r && await this.postMap(e, r) } setGenericTag(e, t) { debug$r(`common.${t.id} = ${t.value}`); const n = this.commonOrigin[t.id] || 1e3, a = this.originPriority[e]; if (isSingleton(t.id)) { if (!(a <= n)) return debug$r(`Ignore native tag (singleton): ${e}.${t.id} = ${t.value}`); this.common[t.id] = t.value, this.commonOrigin[t.id] = a } else if (a === n) isUnique(t.id) && -1 !== this.common[t.id].indexOf(t.value) ? debug$r(`Ignore duplicate value: ${e}.${t.id} = ${t.value}`) : this.common[t.id].push(t.value); else { if (!(a < n)) return debug$r(`Ignore native tag (list): ${e}.${t.id} = ${t.value}`); this.common[t.id] = [t.value], this.commonOrigin[t.id] = a } this.opts?.observer && this.opts.observer({ metadata: this, tag: { type: "common", id: t.id, value: t.value } }) } } function joinArtists(e) { return e.length > 2 ? `${e.slice(0, e.length - 1).join(", ")} & ${e[e.length - 1]}` : e.join(" & ") } const mpegParserLoader = { parserType: "mpeg", extensions: [".mp2", ".mp3", ".m2a", ".aac", "aacp"], mimeTypes: ["audio/mpeg", "audio/mp3", "audio/aacs", "audio/aacp"], load: async () => (await Promise.resolve().then(function () { return MpegParser$1 })).MpegParser }, apeParserLoader = { parserType: "apev2", extensions: [".ape"], mimeTypes: ["audio/ape", "audio/monkeys-audio"], load: async () => (await Promise.resolve().then(function () { return APEv2Parser$1 })).APEv2Parser }, asfParserLoader = { parserType: "asf", extensions: [".asf"], mimeTypes: ["audio/ms-wma", "video/ms-wmv", "audio/ms-asf", "video/ms-asf", "application/vnd.ms-asf"], load: async () => (await Promise.resolve().then(function () { return AsfParser$1 })).AsfParser }, dsdiffParserLoader = { parserType: "dsdiff", extensions: [".dff"], mimeTypes: ["audio/dsf", "audio/dsd"], load: async () => (await Promise.resolve().then(function () { return DsdiffParser$1 })).DsdiffParser }, aiffParserLoader = { parserType: "aiff", extensions: [".aif", "aiff", "aifc"], mimeTypes: ["audio/aiff", "audio/aif", "audio/aifc", "application/aiff"], load: async () => (await Promise.resolve().then(function () { return AiffParser })).AIFFParser }, dsfParserLoader = { parserType: "dsf", extensions: [".dsf"], mimeTypes: ["audio/dsf"], load: async () => (await Promise.resolve().then(function () { return DsfParser$1 })).DsfParser }, flacParserLoader = { parserType: "flac", extensions: [".flac"], mimeTypes: ["audio/flac"], load: async () => (await Promise.resolve().then(function () { return FlacParser$1 })).FlacParser }, matroskaParserLoader = { parserType: "matroska", extensions: [".mka", ".mkv", ".mk3d", ".mks", "webm"], mimeTypes: ["audio/matroska", "video/matroska", "audio/webm", "video/webm"], load: async () => (await Promise.resolve().then(function () { return MatroskaParser$1 })).MatroskaParser }, mp4ParserLoader = { parserType: "mp4", extensions: [".mp4", ".m4a", ".m4b", ".m4pa", "m4v", "m4r", "3gp"], mimeTypes: ["audio/mp4", "audio/m4a", "video/m4v", "video/mp4"], load: async () => (await Promise.resolve().then(function () { return MP4Parser$1 })).MP4Parser }, musepackParserLoader = { parserType: "musepack", extensions: [".mpc"], mimeTypes: ["audio/musepack"], load: async () => (await Promise.resolve().then(function () { return MusepackParser$1 })).MusepackParser }, oggParserLoader = { parserType: "ogg", extensions: [".ogg", ".ogv", ".oga", ".ogm", ".ogx", ".opus", ".spx"], mimeTypes: ["audio/ogg", "audio/opus", "audio/speex", "video/ogg"], load: async () => (await Promise.resolve().then(function () { return OggParser$1 })).OggParser }, wavpackParserLoader = { parserType: "wavpack", extensions: [".wv", ".wvp"], mimeTypes: ["audio/wavpack"], load: async () => (await Promise.resolve().then(function () { return WavPackParser$1 })).WavPackParser }, riffParserLoader = { parserType: "riff", extensions: [".wav", "wave", ".bwf"], mimeTypes: ["audio/vnd.wave", "audio/wav", "audio/wave"], load: async () => (await Promise.resolve().then(function () { return WaveParser$1 })).WaveParser }, debug$q = initDebug("music-metadata:parser:factory"); function parseHttpContentType(e) { const t = contentType.parse(e), n = parse_1(t.type); return { type: n.type, subtype: n.subtype, suffix: n.suffix, parameters: t.parameters } } class ParserFactory { constructor() { this.parsers = [], [flacParserLoader, mpegParserLoader, apeParserLoader, mp4ParserLoader, matroskaParserLoader, riffParserLoader, oggParserLoader, asfParserLoader, aiffParserLoader, wavpackParserLoader, musepackParserLoader, dsfParserLoader, dsdiffParserLoader].forEach(e => this.registerParser(e)) } registerParser(e) { this.parsers.push(e) } async parse(e, t, n) { if (e.supportsRandomAccess() ? (debug$q("tokenizer supports random-access, scanning for appending headers"), await scanAppendingHeaders(e, n)) : debug$q("tokenizer does not support random-access, cannot scan for appending headers"), !t) { const n = new Uint8Array(4100); if (e.fileInfo.mimeType && (t = this.findLoaderForContentType(e.fileInfo.mimeType)), !t && e.fileInfo.path && (t = this.findLoaderForExtension(e.fileInfo.path)), !t) { debug$q("Guess parser on content..."), await e.peekBuffer(n, { mayBeLess: !0 }); const a = await fileTypeFromBuffer(n, { mpegOffsetTolerance: 10 }); if (!a || !a.mime) throw new CouldNotDetermineFileTypeError("Failed to determine audio format"); if (debug$q(`Guessed file type is mime=${a.mime}, extension=${a.ext}`), !(t = this.findLoaderForContentType(a.mime))) throw new UnsupportedFileTypeError(`Guessed MIME-type not supported: ${a.mime}`) } } debug$q(`Loading ${t.parserType} parser...`); const a = new MetadataCollector(n), r = new (await t.load())(a, e, n ?? {}); return debug$q(`Parser ${t.parserType} loaded`), await r.parse(), a.format.trackInfo && (void 0 === a.format.hasAudio && a.setFormat("hasAudio", !!a.format.trackInfo.find(e => e.type === TrackType.audio)), void 0 === a.format.hasVideo && a.setFormat("hasVideo", !!a.format.trackInfo.find(e => e.type === TrackType.video))), a.toCommonMetadata() } findLoaderForExtension(e) { if (!e) return; const t = getExtension(e).toLocaleLowerCase() || e; return this.parsers.find(e => -1 !== e.extensions.indexOf(t)) } findLoaderForContentType(e) { let t; if (!e) return; try { t = parseHttpContentType(e) } catch (a) { return void debug$q(`Invalid HTTP Content-Type header value: ${e}`) } const n = 0 === t.subtype.indexOf("x-") ? t.subtype.substring(2) : t.subtype; return this.parsers.find(e => e.mimeTypes.find(e => -1 !== e.indexOf(`${t.type}/${n}`))) } getSupportedMimeTypes() { const e = new Set; return this.parsers.forEach(t => { t.mimeTypes.forEach(t => { e.add(t), e.add(t.replace("/", "/x-")) }) }), Array.from(e) } } function getExtension(e) { const t = e.lastIndexOf("."); return -1 === t ? "" : e.slice(t) } class BasicParser { constructor(e, t, n) { this.metadata = e, this.tokenizer = t, this.options = n } } const validFourCC = /^[\x21-\x7e][\x20-\x7e\x00()]{3}/, FourCcToken = { len: 4, get: (e, t) => { const n = uint8ArrayToString(e.slice(t, t + FourCcToken.len), "latin1"); if (!n.match(validFourCC)) throw new FieldDecodingError(`FourCC contains invalid characters: ${a2hex(n)} "${n}"`); return n }, put: (e, t, n) => { const a = stringToUint8Array(n); if (4 !== a.length) throw new InternalParserError("Invalid length"); return e.set(a, t), t + 4 } }, DataType$1 = { text_utf8: 0, binary: 1, external_info: 2, reserved: 3 }, DescriptorParser = { len: 52, get: (e, t) => ({ ID: FourCcToken.get(e, t), version: UINT32_LE.get(e, t + 4) / 1e3, descriptorBytes: UINT32_LE.get(e, t + 8), headerBytes: UINT32_LE.get(e, t + 12), seekTableBytes: UINT32_LE.get(e, t + 16), headerDataBytes: UINT32_LE.get(e, t + 20), apeFrameDataBytes: UINT32_LE.get(e, t + 24), apeFrameDataBytesHigh: UINT32_LE.get(e, t + 28), terminatingDataBytes: UINT32_LE.get(e, t + 32), fileMD5: new Uint8ArrayType(16).get(e, t + 36) }) }, Header$5 = { len: 24, get: (e, t) => ({ compressionLevel: UINT16_LE.get(e, t), formatFlags: UINT16_LE.get(e, t + 2), blocksPerFrame: UINT32_LE.get(e, t + 4), finalFrameBlocks: UINT32_LE.get(e, t + 8), totalFrames: UINT32_LE.get(e, t + 12), bitsPerSample: UINT16_LE.get(e, t + 16), channel: UINT16_LE.get(e, t + 18), sampleRate: UINT32_LE.get(e, t + 20) }) }, TagFooter = { len: 32, get: (e, t) => ({ ID: new StringType(8, "ascii").get(e, t), version: UINT32_LE.get(e, t + 8), size: UINT32_LE.get(e, t + 12), fields: UINT32_LE.get(e, t + 16), flags: parseTagFlags(UINT32_LE.get(e, t + 20)) }) }, TagItemHeader = { len: 8, get: (e, t) => ({ size: UINT32_LE.get(e, t), flags: parseTagFlags(UINT32_LE.get(e, t + 4)) }) }; function parseTagFlags(e) { return { containsHeader: isBitSet$1(e, 31), containsFooter: isBitSet$1(e, 30), isHeader: isBitSet$1(e, 29), readOnly: isBitSet$1(e, 0), dataType: (6 & e) >> 1 } } function isBitSet$1(e, t) { return !!(e & 1 << t) } const debug$p = initDebug("music-metadata:parser:APEv2"), tagFormat$1 = "APEv2", preamble = "APETAGEX"; class ApeContentError extends (makeUnexpectedFileContentError("APEv2")) { } function tryParseApeHeader(e, t, n) { return new APEv2Parser(e, t, n).tryParseApeHeader() } class APEv2Parser extends BasicParser { constructor() { super(...arguments), this.ape = {} } static calculateDuration(e) { let t = e.totalFrames > 1 ? e.blocksPerFrame * (e.totalFrames - 1) : 0; return t += e.finalFrameBlocks, t / e.sampleRate } static async findApeFooterOffset(e, t) { const n = new Uint8Array(TagFooter.len), a = e.position; if (t <= TagFooter.len) debug$p(`Offset is too small to read APE footer: offset=${t}`); else if (t > TagFooter.len) { await e.readBuffer(n, { position: t - TagFooter.len }), e.setPosition(a); const r = TagFooter.get(n, 0); if ("APETAGEX" === r.ID) return r.flags.isHeader ? debug$p("APE Header found at offset=" + (t - TagFooter.len)) : (debug$p("APE Footer found at offset=" + (t - TagFooter.len)), t -= r.size), { footer: r, offset: t } } } static parseTagFooter(e, t, n) { const a = TagFooter.get(t, t.length - TagFooter.len); if (a.ID !== preamble) throw new ApeContentError("Unexpected APEv2 Footer ID preamble value"); return fromBuffer(t), new APEv2Parser(e, fromBuffer(t), n).parseTags(a) } async tryParseApeHeader() { if (this.tokenizer.fileInfo.size && this.tokenizer.fileInfo.size - this.tokenizer.position < TagFooter.len) return void debug$p("No APEv2 header found, end-of-file reached"); const e = await this.tokenizer.peekToken(TagFooter); if (e.ID === preamble) return await this.tokenizer.ignore(TagFooter.len), this.parseTags(e); if (debug$p(`APEv2 header not found at offset=${this.tokenizer.position}`), this.tokenizer.fileInfo.size) { const e = this.tokenizer.fileInfo.size - this.tokenizer.position, t = new Uint8Array(e); return await this.tokenizer.readBuffer(t), APEv2Parser.parseTagFooter(this.metadata, t, this.options) } } async parse() { const e = await this.tokenizer.readToken(DescriptorParser); if ("MAC " !== e.ID) throw new ApeContentError("Unexpected descriptor ID"); this.ape.descriptor = e; const t = e.descriptorBytes - DescriptorParser.len, n = await (t > 0 ? this.parseDescriptorExpansion(t) : this.parseHeader()); return this.metadata.setAudioOnly(), await this.tokenizer.ignore(n.forwardBytes), this.tryParseApeHeader() } async parseTags(e) { const t = new Uint8Array(256); let n = e.size - TagFooter.len; debug$p(`Parse APE tags at offset=${this.tokenizer.position}, size=${n}`); for (let a = 0; a < e.fields; a++) { if (n < TagItemHeader.len) { this.metadata.addWarning(`APEv2 Tag-header: ${e.fields - a} items remaining, but no more tag data to read.`); break } const r = await this.tokenizer.readToken(TagItemHeader); n -= TagItemHeader.len + r.size, await this.tokenizer.peekBuffer(t, { length: Math.min(t.length, n) }); let s = findZero(t, 0, t.length); const i = await this.tokenizer.readToken(new StringType(s, "ascii")); switch (await this.tokenizer.ignore(1), n -= i.length + 1, r.flags.dataType) { case DataType$1.text_utf8: { const e = (await this.tokenizer.readToken(new StringType(r.size, "utf8"))).split(/\x00/g); await Promise.all(e.map(e => this.metadata.addTag(tagFormat$1, i, e))); break } case DataType$1.binary: if (this.options.skipCovers) await this.tokenizer.ignore(r.size); else { const e = new Uint8Array(r.size); await this.tokenizer.readBuffer(e), s = findZero(e, 0, e.length); const t = uint8ArrayToString(e.slice(0, s)), n = e.slice(s + 1); await this.metadata.addTag(tagFormat$1, i, { description: t, data: n }) } break; case DataType$1.external_info: debug$p(`Ignore external info ${i}`), await this.tokenizer.ignore(r.size); break; case DataType$1.reserved: debug$p(`Ignore external info ${i}`), this.metadata.addWarning(`APEv2 header declares a reserved datatype for "${i}"`), await this.tokenizer.ignore(r.size) } } } async parseDescriptorExpansion(e) { return await this.tokenizer.ignore(e), this.parseHeader() } async parseHeader() { const e = await this.tokenizer.readToken(Header$5); if (this.metadata.setFormat("lossless", !0), this.metadata.setFormat("container", "Monkey's Audio"), this.metadata.setFormat("bitsPerSample", e.bitsPerSample), this.metadata.setFormat("sampleRate", e.sampleRate), this.metadata.setFormat("numberOfChannels", e.channel), this.metadata.setFormat("duration", APEv2Parser.calculateDuration(e)), !this.ape.descriptor) throw new ApeContentError("Missing APE descriptor"); return { forwardBytes: this.ape.descriptor.seekTableBytes + this.ape.descriptor.headerDataBytes + this.ape.descriptor.apeFrameDataBytes + this.ape.descriptor.terminatingDataBytes } } } var APEv2Parser$1 = Object.freeze({ __proto__: null, APEv2Parser: APEv2Parser, ApeContentError: ApeContentError, tryParseApeHeader: tryParseApeHeader }); const debug$o = initDebug("music-metadata:parser:ID3v1"), Genres = ["Blues", "Classic Rock", "Country", "Dance", "Disco", "Funk", "Grunge", "Hip-Hop", "Jazz", "Metal", "New Age", "Oldies", "Other", "Pop", "R&B", "Rap", "Reggae", "Rock", "Techno", "Industrial", "Alternative", "Ska", "Death Metal", "Pranks", "Soundtrack", "Euro-Techno", "Ambient", "Trip-Hop", "Vocal", "Jazz+Funk", "Fusion", "Trance", "Classical", "Instrumental", "Acid", "House", "Game", "Sound Clip", "Gospel", "Noise", "Alt. Rock", "Bass", "Soul", "Punk", "Space", "Meditative", "Instrumental Pop", "Instrumental Rock", "Ethnic", "Gothic", "Darkwave", "Techno-Industrial", "Electronic", "Pop-Folk", "Eurodance", "Dream", "Southern Rock", "Comedy", "Cult", "Gangsta Rap", "Top 40", "Christian Rap", "Pop/Funk", "Jungle", "Native American", "Cabaret", "New Wave", "Psychedelic", "Rave", "Showtunes", "Trailer", "Lo-Fi", "Tribal", "Acid Punk", "Acid Jazz", "Polka", "Retro", "Musical", "Rock & Roll", "Hard Rock", "Folk", "Folk/Rock", "National Folk", "Swing", "Fast-Fusion", "Bebob", "Latin", "Revival", "Celtic", "Bluegrass", "Avantgarde", "Gothic Rock", "Progressive Rock", "Psychedelic Rock", "Symphonic Rock", "Slow Rock", "Big Band", "Chorus", "Easy Listening", "Acoustic", "Humour", "Speech", "Chanson", "Opera", "Chamber Music", "Sonata", "Symphony", "Booty Bass", "Primus", "Porn Groove", "Satire", "Slow Jam", "Club", "Tango", "Samba", "Folklore", "Ballad", "Power Ballad", "Rhythmic Soul", "Freestyle", "Duet", "Punk Rock", "Drum Solo", "A Cappella", "Euro-House", "Dance Hall", "Goa", "Drum & Bass", "Club-House", "Hardcore", "Terror", "Indie", "BritPop", "Negerpunk", "Polsk Punk", "Beat", "Christian Gangsta Rap", "Heavy Metal", "Black Metal", "Crossover", "Contemporary Christian", "Christian Rock", "Merengue", "Salsa", "Thrash Metal", "Anime", "JPop", "Synthpop", "Abstract", "Art Rock", "Baroque", "Bhangra", "Big Beat", "Breakbeat", "Chillout", "Downtempo", "Dub", "EBM", "Eclectic", "Electro", "Electroclash", "Emo", "Experimental", "Garage", "Global", "IDM", "Illbient", "Industro-Goth", "Jam Band", "Krautrock", "Leftfield", "Lounge", "Math Rock", "New Romantic", "Nu-Breakz", "Post-Punk", "Post-Rock", "Psytrance", "Shoegaze", "Space Rock", "Trop Rock", "World Music", "Neoclassical", "Audiobook", "Audio Theatre", "Neue Deutsche Welle", "Podcast", "Indie Rock", "G-Funk", "Dubstep", "Garage Rock", "Psybient"], Iid3v1Token = { len: 128, get: (e, t) => { const n = new Id3v1StringType(3).get(e, t); return "TAG" === n ? { header: n, title: new Id3v1StringType(30).get(e, t + 3), artist: new Id3v1StringType(30).get(e, t + 33), album: new Id3v1StringType(30).get(e, t + 63), year: new Id3v1StringType(4).get(e, t + 93), comment: new Id3v1StringType(28).get(e, t + 97), zeroByte: UINT8.get(e, t + 127), track: UINT8.get(e, t + 126), genre: UINT8.get(e, t + 127) } : null } }; class Id3v1StringType { constructor(e) { this.len = e, this.stringType = new StringType(e, "latin1") } get(e, t) { let n = this.stringType.get(e, t); return n = trimRightNull(n), n = n.trim(), n.length > 0 ? n : void 0 } } class ID3v1Parser extends BasicParser { constructor(e, t, n) { super(e, t, n), this.apeHeader = n.apeHeader } static getGenre(e) { if (e < Genres.length) return Genres[e] } async parse() { if (!this.tokenizer.fileInfo.size) return void debug$o("Skip checking for ID3v1 because the file-size is unknown"); if (this.apeHeader) { this.tokenizer.ignore(this.apeHeader.offset - this.tokenizer.position); const e = new APEv2Parser(this.metadata, this.tokenizer, this.options); await e.parseTags(this.apeHeader.footer) } const e = this.tokenizer.fileInfo.size - Iid3v1Token.len; if (this.tokenizer.position > e) return void debug$o("Already consumed the last 128 bytes"); const t = await this.tokenizer.readToken(Iid3v1Token, e); if (t) { debug$o("ID3v1 header found at: pos=%s", this.tokenizer.fileInfo.size - Iid3v1Token.len); const e = ["title", "artist", "album", "comment", "track", "year"]; for (const a of e) t[a] && "" !== t[a] && await this.addTag(a, t[a]); const n = ID3v1Parser.getGenre(t.genre); n && await this.addTag("genre", n) } else debug$o("ID3v1 header not found at: pos=%s", this.tokenizer.fileInfo.size - Iid3v1Token.len) } async addTag(e, t) { await this.metadata.addTag("ID3v1", e, t) } } async function hasID3v1Header(e) { if (e.fileInfo.size >= 128) { const t = new Uint8Array(3), n = e.position; return await e.readBuffer(t, { position: e.fileInfo.size - 128 }), e.setPosition(n), "TAG" === new TextDecoder("latin1").decode(t) } return !1 } const endTag2 = "LYRICS200"; async function getLyricsHeaderLength(e) { const t = e.fileInfo.size; if (t >= 143) { const n = new Uint8Array(15), a = e.position; await e.readBuffer(n, { position: t - 143 }), e.setPosition(a); const r = new TextDecoder("latin1").decode(n); if (r.slice(6) === endTag2) return Number.parseInt(r.slice(0, 6), 10) + 15 } return 0 } async function parseBlob(e, t = {}) { const n = { mimeType: e.type, size: e.size }; return e instanceof File && (n.path = e.name), parseWebStream(e.stream(), n, t) } async function parseWebStream(e, t, n = {}) { const a = fromWebStream(e, { fileInfo: "string" == typeof t ? { mimeType: t } : t }); try { return await parseFromTokenizer(a, n) } finally { await a.close() } } async function parseBuffer(e, t, n = {}) { return parseFromTokenizer(fromBuffer(e, { fileInfo: "string" == typeof t ? { mimeType: t } : t }), n) } function parseFromTokenizer(e, t) { return (new ParserFactory).parse(e, void 0, t) } function orderTags(e) { const t = {}; for (const { id: n, value: a } of e) (t[n] || (t[n] = [])).push(a); return t } function ratingToStars(e) { return void 0 === e ? 0 : 1 + Math.round(4 * e) } function selectCover(e) { return e ? e.reduce((e, t) => t.name && t.name.toLowerCase() in ["front", "cover", "cover (front)"] ? t : e) : null } async function scanAppendingHeaders(e, t = {}) { let n = e.fileInfo.size; await hasID3v1Header(e) && (n -= 128, n -= await getLyricsHeaderLength(e)), t.apeHeader = await APEv2Parser.findApeFooterOffset(e, n) } async function parseFile(e, t = {}) { throw new Error("This function require a Node engine. To load Web API File objects use parseBlob instead.") } async function parseStream(e, t, n = {}) { throw new Error("This function require a Node engine.") } function getSupportedMimeTypes() { return (new ParserFactory).getSupportedMimeTypes() } var musicMetadata = Object.freeze({ __proto__: null, CouldNotDetermineFileTypeError: CouldNotDetermineFileTypeError, FieldDecodingError: FieldDecodingError, InternalParserError: InternalParserError, LyricsContentType: LyricsContentType, TimestampFormat: TimestampFormat, UnsupportedFileTypeError: UnsupportedFileTypeError, getSupportedMimeTypes: getSupportedMimeTypes, makeParseError: makeParseError, makeUnexpectedFileContentError: makeUnexpectedFileContentError, orderTags: orderTags, parseBlob: parseBlob, parseBuffer: parseBuffer, parseFile: parseFile, parseFromTokenizer: parseFromTokenizer, parseStream: parseStream, parseWebStream: parseWebStream, ratingToStars: ratingToStars, scanAppendingHeaders: scanAppendingHeaders, selectCover: selectCover }), jsxRuntime = { exports: {} }, reactJsxRuntime_production = {}, REACT_ELEMENT_TYPE$2 = Symbol.for("react.transitional.element"), REACT_FRAGMENT_TYPE$2 = Symbol.for("react.fragment"); function jsxProd(e, t, n) { var a = null; if (void 0 !== n && (a = "" + n), void 0 !== t.key && (a = "" + t.key), "key" in t) for (var r in n = {}, t) "key" !== r && (n[r] = t[r]); else n = t; return t = n.ref, { $$typeof: REACT_ELEMENT_TYPE$2, type: e, key: a, ref: void 0 !== t ? t : null, props: n } } reactJsxRuntime_production.Fragment = REACT_FRAGMENT_TYPE$2, reactJsxRuntime_production.jsx = jsxProd, reactJsxRuntime_production.jsxs = jsxProd, jsxRuntime.exports = reactJsxRuntime_production; var jsxRuntimeExports = jsxRuntime.exports, client = { exports: {} }, reactDomClient_production = {}, scheduler = { exports: {} }, scheduler_production = {}; !function (e) { function t(e, t) { var n = e.length; e.push(t); e: for (; 0 < n;) { var a = n - 1 >>> 1, s = e[a]; if (!(0 < r(s, t))) break e; e[a] = t, e[n] = s, n = a } } function n(e) { return 0 === e.length ? null : e[0] } function a(e) { if (0 === e.length) return null; var t = e[0], n = e.pop(); if (n !== t) { e[0] = n; e: for (var a = 0, s = e.length, i = s >>> 1; a < i;) { var o = 2 * (a + 1) - 1, l = e[o], m = o + 1, c = e[m]; if (0 > r(l, n)) m < s && 0 > r(c, l) ? (e[a] = c, e[m] = n, a = m) : (e[a] = l, e[o] = n, a = o); else { if (!(m < s && 0 > r(c, n))) break e; e[a] = c, e[m] = n, a = m } } } return t } function r(e, t) { var n = e.sortIndex - t.sortIndex; return 0 !== n ? n : e.id - t.id } if (e.unstable_now = void 0, "object" == typeof performance && "function" == typeof performance.now) { var s = performance; e.unstable_now = function () { return s.now() } } else { var i = Date, o = i.now(); e.unstable_now = function () { return i.now() - o } } var l = [], m = [], c = 1, u = null, A = 3, p = !1, d = !1, _ = !1, v = !1, h = "function" == typeof setTimeout ? setTimeout : null, g = "function" == typeof clearTimeout ? clearTimeout : null, f = "undefined" != typeof setImmediate ? setImmediate : null; function b(e) { for (var r = n(m); null !== r;) { if (null === r.callback) a(m); else { if (!(r.startTime <= e)) break; a(m), r.sortIndex = r.expirationTime, t(l, r) } r = n(m) } } function x(e) { if (_ = !1, b(e), !d) if (null !== n(l)) d = !0, w || (w = !0, y()); else { var t = n(m); null !== t && C(x, t.startTime - e) } } var y, w = !1, E = -1, S = 5, z = -1; function q() { return !(!v && e.unstable_now() - z < S) } function k() { if (v = !1, w) { var t = e.unstable_now(); z = t; var r = !0; try { e: { d = !1, _ && (_ = !1, g(E), E = -1), p = !0; var s = A; try { t: { for (b(t), u = n(l); null !== u && !(u.expirationTime > t && q());) { var i = u.callback; if ("function" == typeof i) { u.callback = null, A = u.priorityLevel; var o = i(u.expirationTime <= t); if (t = e.unstable_now(), "function" == typeof o) { u.callback = o, b(t), r = !0; break t } u === n(l) && a(l), b(t) } else a(l); u = n(l) } if (null !== u) r = !0; else { var c = n(m); null !== c && C(x, c.startTime - t), r = !1 } } break e } finally { u = null, A = s, p = !1 } r = void 0 } } finally { r ? y() : w = !1 } } } if ("function" == typeof f) y = function () { f(k) }; else if ("undefined" != typeof MessageChannel) { var T = new MessageChannel, I = T.port2; T.port1.onmessage = k, y = function () { I.postMessage(null) } } else y = function () { h(k, 0) }; function C(t, n) { E = h(function () { t(e.unstable_now()) }, n) } e.unstable_IdlePriority = 5, e.unstable_ImmediatePriority = 1, e.unstable_LowPriority = 4, e.unstable_NormalPriority = 3, e.unstable_Profiling = null, e.unstable_UserBlockingPriority = 2, e.unstable_cancelCallback = function (e) { e.callback = null }, e.unstable_forceFrameRate = function (e) { 0 > e || 125 < e || (S = 0 < e ? Math.floor(1e3 / e) : 5) }, e.unstable_getCurrentPriorityLevel = function () { return A }, e.unstable_next = function (e) { switch (A) { case 1: case 2: case 3: var t = 3; break; default: t = A }var n = A; A = t; try { return e() } finally { A = n } }, e.unstable_requestPaint = function () { v = !0 }, e.unstable_runWithPriority = function (e, t) { switch (e) { case 1: case 2: case 3: case 4: case 5: break; default: e = 3 }var n = A; A = e; try { return t() } finally { A = n } }, e.unstable_scheduleCallback = function (a, r, s) { var i = e.unstable_now(); switch (s = "object" == typeof s && null !== s && "number" == typeof (s = s.delay) && 0 < s ? i + s : i, a) { case 1: var o = -1; break; case 2: o = 250; break; case 5: o = 1073741823; break; case 4: o = 1e4; break; default: o = 5e3 }return a = { id: c++, callback: r, priorityLevel: a, startTime: s, expirationTime: o = s + o, sortIndex: -1 }, s > i ? (a.sortIndex = s, t(m, a), null === n(l) && a === n(m) && (_ ? (g(E), E = -1) : _ = !0, C(x, s - i))) : (a.sortIndex = o, t(l, a), d || p || (d = !0, w || (w = !0, y()))), a }, e.unstable_shouldYield = q, e.unstable_wrapCallback = function (e) { var t = A; return function () { var n = A; A = t; try { return e.apply(this, arguments) } finally { A = n } } } }(scheduler_production), scheduler.exports = scheduler_production; var schedulerExports = scheduler.exports, react = { exports: {} }, react_production = {}, REACT_ELEMENT_TYPE$1 = Symbol.for("react.transitional.element"), REACT_PORTAL_TYPE$2 = Symbol.for("react.portal"), REACT_FRAGMENT_TYPE$1 = Symbol.for("react.fragment"), REACT_STRICT_MODE_TYPE$1 = Symbol.for("react.strict_mode"), REACT_PROFILER_TYPE$1 = Symbol.for("react.profiler"), REACT_CONSUMER_TYPE$1 = Symbol.for("react.consumer"), REACT_CONTEXT_TYPE$1 = Symbol.for("react.context"), REACT_FORWARD_REF_TYPE$1 = Symbol.for("react.forward_ref"), REACT_SUSPENSE_TYPE$1 = Symbol.for("react.suspense"), REACT_MEMO_TYPE$1 = Symbol.for("react.memo"), REACT_LAZY_TYPE$1 = Symbol.for("react.lazy"), MAYBE_ITERATOR_SYMBOL$1 = Symbol.iterator; function getIteratorFn$1(e) { return null === e || "object" != typeof e ? null : "function" == typeof (e = MAYBE_ITERATOR_SYMBOL$1 && e[MAYBE_ITERATOR_SYMBOL$1] || e["@@iterator"]) ? e : null } var ReactNoopUpdateQueue = { isMounted: function () { return !1 }, enqueueForceUpdate: function () { }, enqueueReplaceState: function () { }, enqueueSetState: function () { } }, assign$1 = Object.assign, emptyObject = {}; function Component(e, t, n) { this.props = e, this.context = t, this.refs = emptyObject, this.updater = n || ReactNoopUpdateQueue } function ComponentDummy() { } function PureComponent(e, t, n) { this.props = e, this.context = t, this.refs = emptyObject, this.updater = n || ReactNoopUpdateQueue } Component.prototype.isReactComponent = {}, Component.prototype.setState = function (e, t) { if ("object" != typeof e && "function" != typeof e && null != e) throw Error("takes an object of state variables to update or a function which returns an object of state variables."); this.updater.enqueueSetState(this, e, t, "setState") }, Component.prototype.forceUpdate = function (e) { this.updater.enqueueForceUpdate(this, e, "forceUpdate") }, ComponentDummy.prototype = Component.prototype; var pureComponentPrototype = PureComponent.prototype = new ComponentDummy; pureComponentPrototype.constructor = PureComponent, assign$1(pureComponentPrototype, Component.prototype), pureComponentPrototype.isPureReactComponent = !0; var isArrayImpl$1 = Array.isArray, ReactSharedInternals$2 = { H: null, A: null, T: null, S: null, V: null }, hasOwnProperty$3 = Object.prototype.hasOwnProperty; function ReactElement(e, t, n, a, r, s) { return n = s.ref, { $$typeof: REACT_ELEMENT_TYPE$1, type: e, key: t, ref: void 0 !== n ? n : null, props: s } } function cloneAndReplaceKey(e, t) { return ReactElement(e.type, t, void 0, void 0, void 0, e.props) } function isValidElement(e) { return "object" == typeof e && null !== e && e.$$typeof === REACT_ELEMENT_TYPE$1 } function escape(e) { var t = { "=": "=0", ":": "=2" }; return "$" + e.replace(/[=:]/g, function (e) { return t[e] }) } var userProvidedKeyEscapeRegex = /\/+/g; function getElementKey(e, t) { return "object" == typeof e && null !== e && null != e.key ? escape("" + e.key) : t.toString(36) } function noop$1$1() { } function resolveThenable(e) { switch (e.status) { case "fulfilled": return e.value; case "rejected": throw e.reason; default: switch ("string" == typeof e.status ? e.then(noop$1$1, noop$1$1) : (e.status = "pending", e.then(function (t) { "pending" === e.status && (e.status = "fulfilled", e.value = t) }, function (t) { "pending" === e.status && (e.status = "rejected", e.reason = t) })), e.status) { case "fulfilled": return e.value; case "rejected": throw e.reason } }throw e } function mapIntoArray(e, t, n, a, r) { var s = typeof e; "undefined" !== s && "boolean" !== s || (e = null); var i = !1; if (null === e) i = !0; else switch (s) { case "bigint": case "string": case "number": i = !0; break; case "object": switch (e.$$typeof) { case REACT_ELEMENT_TYPE$1: case REACT_PORTAL_TYPE$2: i = !0; break; case REACT_LAZY_TYPE$1: return mapIntoArray((i = e._init)(e._payload), t, n, a, r) } }if (i) return r = r(e), i = "" === a ? "." + getElementKey(e, 0) : a, isArrayImpl$1(r) ? (n = "", null != i && (n = i.replace(userProvidedKeyEscapeRegex, "$&/") + "/"), mapIntoArray(r, t, n, "", function (e) { return e })) : null != r && (isValidElement(r) && (r = cloneAndReplaceKey(r, n + (null == r.key || e && e.key === r.key ? "" : ("" + r.key).replace(userProvidedKeyEscapeRegex, "$&/") + "/") + i)), t.push(r)), 1; i = 0; var o = "" === a ? "." : a + ":"; if (isArrayImpl$1(e)) for (var l = 0; l < e.length; l++)i += mapIntoArray(a = e[l], t, n, s = o + getElementKey(a, l), r); else if ("function" == typeof (l = getIteratorFn$1(e))) for (e = l.call(e), l = 0; !(a = e.next()).done;)i += mapIntoArray(a = a.value, t, n, s = o + getElementKey(a, l++), r); else if ("object" === s) { if ("function" == typeof e.then) return mapIntoArray(resolveThenable(e), t, n, a, r); throw t = String(e), Error("Objects are not valid as a React child (found: " + ("[object Object]" === t ? "object with keys {" + Object.keys(e).join(", ") + "}" : t) + "). If you meant to render a collection of children, use an array instead.") } return i } function mapChildren(e, t, n) { if (null == e) return e; var a = [], r = 0; return mapIntoArray(e, a, "", "", function (e) { return t.call(n, e, r++) }), a } function lazyInitializer(e) { if (-1 === e._status) { var t = e._result; (t = t()).then(function (t) { 0 !== e._status && -1 !== e._status || (e._status = 1, e._result = t) }, function (t) { 0 !== e._status && -1 !== e._status || (e._status = 2, e._result = t) }), -1 === e._status && (e._status = 0, e._result = t) } if (1 === e._status) return e._result.default; throw e._result } var reportGlobalError$1 = "function" == typeof reportError ? reportError : function (e) { if ("object" == typeof window && "function" == typeof window.ErrorEvent) { var t = new window.ErrorEvent("error", { bubbles: !0, cancelable: !0, message: "object" == typeof e && null !== e && "string" == typeof e.message ? String(e.message) : String(e), error: e }); if (!window.dispatchEvent(t)) return } else if ("object" == typeof process && "function" == typeof process.emit) return void process.emit("uncaughtException", e) }; function noop$6() { } react_production.Children = { map: mapChildren, forEach: function (e, t, n) { mapChildren(e, function () { t.apply(this, arguments) }, n) }, count: function (e) { var t = 0; return mapChildren(e, function () { t++ }), t }, toArray: function (e) { return mapChildren(e, function (e) { return e }) || [] }, only: function (e) { if (!isValidElement(e)) throw Error("React.Children.only expected to receive a single React element child."); return e } }, react_production.Component = Component, react_production.Fragment = REACT_FRAGMENT_TYPE$1, react_production.Profiler = REACT_PROFILER_TYPE$1, react_production.PureComponent = PureComponent, react_production.StrictMode = REACT_STRICT_MODE_TYPE$1, react_production.Suspense = REACT_SUSPENSE_TYPE$1, react_production.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE = ReactSharedInternals$2, react_production.__COMPILER_RUNTIME = { __proto__: null, c: function (e) { return ReactSharedInternals$2.H.useMemoCache(e) } }, react_production.cache = function (e) { return function () { return e.apply(null, arguments) } }, react_production.cloneElement = function (e, t, n) { if (null == e) throw Error("The argument must be a React element, but you passed " + e + "."); var a = assign$1({}, e.props), r = e.key, s = void 0; if (null != t) for (i in void 0 !== t.ref && (s = void 0), void 0 !== t.key && (r = "" + t.key), t) !hasOwnProperty$3.call(t, i) || "key" === i || "__self" === i || "__source" === i || "ref" === i && void 0 === t.ref || (a[i] = t[i]); var i = arguments.length - 2; if (1 === i) a.children = n; else if (1 < i) { for (var o = Array(i), l = 0; l < i; l++)o[l] = arguments[l + 2]; a.children = o } return ReactElement(e.type, r, void 0, void 0, s, a) }, react_production.createContext = function (e) { return (e = { $$typeof: REACT_CONTEXT_TYPE$1, _currentValue: e, _currentValue2: e, _threadCount: 0, Provider: null, Consumer: null }).Provider = e, e.Consumer = { $$typeof: REACT_CONSUMER_TYPE$1, _context: e }, e }, react_production.createElement = function (e, t, n) { var a, r = {}, s = null; if (null != t) for (a in void 0 !== t.key && (s = "" + t.key), t) hasOwnProperty$3.call(t, a) && "key" !== a && "__self" !== a && "__source" !== a && (r[a] = t[a]); var i = arguments.length - 2; if (1 === i) r.children = n; else if (1 < i) { for (var o = Array(i), l = 0; l < i; l++)o[l] = arguments[l + 2]; r.children = o } if (e && e.defaultProps) for (a in i = e.defaultProps) void 0 === r[a] && (r[a] = i[a]); return ReactElement(e, s, void 0, void 0, null, r) }, react_production.createRef = function () { return { current: null } }, react_production.forwardRef = function (e) { return { $$typeof: REACT_FORWARD_REF_TYPE$1, render: e } }, react_production.isValidElement = isValidElement, react_production.lazy = function (e) { return { $$typeof: REACT_LAZY_TYPE$1, _payload: { _status: -1, _result: e }, _init: lazyInitializer } }, react_production.memo = function (e, t) { return { $$typeof: REACT_MEMO_TYPE$1, type: e, compare: void 0 === t ? null : t } }, react_production.startTransition = function (e) { var t = ReactSharedInternals$2.T, n = {}; ReactSharedInternals$2.T = n; try { var a = e(), r = ReactSharedInternals$2.S; null !== r && r(n, a), "object" == typeof a && null !== a && "function" == typeof a.then && a.then(noop$6, reportGlobalError$1) } catch (s) { reportGlobalError$1(s) } finally { ReactSharedInternals$2.T = t } }, react_production.unstable_useCacheRefresh = function () { return ReactSharedInternals$2.H.useCacheRefresh() }, react_production.use = function (e) { return ReactSharedInternals$2.H.use(e) }, react_production.useActionState = function (e, t, n) { return ReactSharedInternals$2.H.useActionState(e, t, n) }, react_production.useCallback = function (e, t) { return ReactSharedInternals$2.H.useCallback(e, t) }, react_production.useContext = function (e) { return ReactSharedInternals$2.H.useContext(e) }, react_production.useDebugValue = function () { }, react_production.useDeferredValue = function (e, t) { return ReactSharedInternals$2.H.useDeferredValue(e, t) }, react_production.useEffect = function (e, t, n) { var a = ReactSharedInternals$2.H; if ("function" == typeof n) throw Error("useEffect CRUD overload is not enabled in this build of React."); return a.useEffect(e, t) }, react_production.useId = function () { return ReactSharedInternals$2.H.useId() }, react_production.useImperativeHandle = function (e, t, n) { return ReactSharedInternals$2.H.useImperativeHandle(e, t, n) }, react_production.useInsertionEffect = function (e, t) { return ReactSharedInternals$2.H.useInsertionEffect(e, t) }, react_production.useLayoutEffect = function (e, t) { return ReactSharedInternals$2.H.useLayoutEffect(e, t) }, react_production.useMemo = function (e, t) { return ReactSharedInternals$2.H.useMemo(e, t) }, react_production.useOptimistic = function (e, t) { return ReactSharedInternals$2.H.useOptimistic(e, t) }, react_production.useReducer = function (e, t, n) { return ReactSharedInternals$2.H.useReducer(e, t, n) }, react_production.useRef = function (e) { return ReactSharedInternals$2.H.useRef(e) }, react_production.useState = function (e) { return ReactSharedInternals$2.H.useState(e) }, react_production.useSyncExternalStore = function (e, t, n) { return ReactSharedInternals$2.H.useSyncExternalStore(e, t, n) }, react_production.useTransition = function () { return ReactSharedInternals$2.H.useTransition() }, react_production.version = "19.1.0", react.exports = react_production; var reactExports = react.exports, reactDom = { exports: {} }, reactDom_production = {}, React$1 = reactExports; function formatProdErrorMessage$2(e) { var t = "https://react.dev/errors/" + e; if (1 < arguments.length) { t += "?args[]=" + encodeURIComponent(arguments[1]); for (var n = 2; n < arguments.length; n++)t += "&args[]=" + encodeURIComponent(arguments[n]) } return "Minified React error #" + e + "; visit " + t + " for the full message or use the non-minified dev environment for full errors and additional helpful warnings." } function noop$5() { } var Internals = { d: { f: noop$5, r: function () { throw Error(formatProdErrorMessage$2(522)) }, D: noop$5, C: noop$5, L: noop$5, m: noop$5, X: noop$5, S: noop$5, M: noop$5 }, p: 0, findDOMNode: null }, REACT_PORTAL_TYPE$1 = Symbol.for("react.portal"); function createPortal$1(e, t, n) { var a = 3 < arguments.length && void 0 !== arguments[3] ? arguments[3] : null; return { $$typeof: REACT_PORTAL_TYPE$1, key: null == a ? null : "" + a, children: e, containerInfo: t, implementation: n } } var ReactSharedInternals$1 = React$1.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE; function getCrossOriginStringAs(e, t) { return "font" === e ? "" : "string" == typeof t ? "use-credentials" === t ? t : "" : void 0 } function checkDCE$1() { if ("undefined" != typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ && "function" == typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE) try { __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE$1) } catch (err) { } } reactDom_production.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE = Internals, reactDom_production.createPortal = function (e, t) { var n = 2 < arguments.length && void 0 !== arguments[2] ? arguments[2] : null; if (!t || 1 !== t.nodeType && 9 !== t.nodeType && 11 !== t.nodeType) throw Error(formatProdErrorMessage$2(299)); return createPortal$1(e, t, null, n) }, reactDom_production.flushSync = function (e) { var t = ReactSharedInternals$1.T, n = Internals.p; try { if (ReactSharedInternals$1.T = null, Internals.p = 2, e) return e() } finally { ReactSharedInternals$1.T = t, Internals.p = n, Internals.d.f() } }, reactDom_production.preconnect = function (e, t) { "string" == typeof e && (t = t ? "string" == typeof (t = t.crossOrigin) ? "use-credentials" === t ? t : "" : void 0 : null, Internals.d.C(e, t)) }, reactDom_production.prefetchDNS = function (e) { "string" == typeof e && Internals.d.D(e) }, reactDom_production.preinit = function (e, t) { if ("string" == typeof e && t && "string" == typeof t.as) { var n = t.as, a = getCrossOriginStringAs(n, t.crossOrigin), r = "string" == typeof t.integrity ? t.integrity : void 0, s = "string" == typeof t.fetchPriority ? t.fetchPriority : void 0; "style" === n ? Internals.d.S(e, "string" == typeof t.precedence ? t.precedence : void 0, { crossOrigin: a, integrity: r, fetchPriority: s }) : "script" === n && Internals.d.X(e, { crossOrigin: a, integrity: r, fetchPriority: s, nonce: "string" == typeof t.nonce ? t.nonce : void 0 }) } }, reactDom_production.preinitModule = function (e, t) { if ("string" == typeof e) if ("object" == typeof t && null !== t) { if (null == t.as || "script" === t.as) { var n = getCrossOriginStringAs(t.as, t.crossOrigin); Internals.d.M(e, { crossOrigin: n, integrity: "string" == typeof t.integrity ? t.integrity : void 0, nonce: "string" == typeof t.nonce ? t.nonce : void 0 }) } } else null == t && Internals.d.M(e) }, reactDom_production.preload = function (e, t) { if ("string" == typeof e && "object" == typeof t && null !== t && "string" == typeof t.as) { var n = t.as, a = getCrossOriginStringAs(n, t.crossOrigin); Internals.d.L(e, n, { crossOrigin: a, integrity: "string" == typeof t.integrity ? t.integrity : void 0, nonce: "string" == typeof t.nonce ? t.nonce : void 0, type: "string" == typeof t.type ? t.type : void 0, fetchPriority: "string" == typeof t.fetchPriority ? t.fetchPriority : void 0, referrerPolicy: "string" == typeof t.referrerPolicy ? t.referrerPolicy : void 0, imageSrcSet: "string" == typeof t.imageSrcSet ? t.imageSrcSet : void 0, imageSizes: "string" == typeof t.imageSizes ? t.imageSizes : void 0, media: "string" == typeof t.media ? t.media : void 0 }) } }, reactDom_production.preloadModule = function (e, t) { if ("string" == typeof e) if (t) { var n = getCrossOriginStringAs(t.as, t.crossOrigin); Internals.d.m(e, { as: "string" == typeof t.as && "script" !== t.as ? t.as : void 0, crossOrigin: n, integrity: "string" == typeof t.integrity ? t.integrity : void 0 }) } else Internals.d.m(e) }, reactDom_production.requestFormReset = function (e) { Internals.d.r(e) }, reactDom_production.unstable_batchedUpdates = function (e, t) { return e(t) }, reactDom_production.useFormState = function (e, t, n) { return ReactSharedInternals$1.H.useFormState(e, t, n) }, reactDom_production.useFormStatus = function () { return ReactSharedInternals$1.H.useHostTransitionStatus() }, reactDom_production.version = "19.1.0", checkDCE$1(), reactDom.exports = reactDom_production; var reactDomExports = reactDom.exports, ReactDOM$2 = getDefaultExportFromCjs(reactDomExports), Scheduler = schedulerExports, React = reactExports, ReactDOM$1 = reactDomExports; function formatProdErrorMessage$1(e) { var t = "https://react.dev/errors/" + e; if (1 < arguments.length) { t += "?args[]=" + encodeURIComponent(arguments[1]); for (var n = 2; n < arguments.length; n++)t += "&args[]=" + encodeURIComponent(arguments[n]) } return "Minified React error #" + e + "; visit " + t + " for the full message or use the non-minified dev environment for full errors and additional helpful warnings." } function isValidContainer(e) { return !(!e || 1 !== e.nodeType && 9 !== e.nodeType && 11 !== e.nodeType) } function getNearestMountedFiber(e) { var t = e, n = e; if (e.alternate) for (; t.return;)t = t.return; else { e = t; do { !!(4098 & (t = e).flags) && (n = t.return), e = t.return } while (e) } return 3 === t.tag ? n : null } function getSuspenseInstanceFromFiber(e) { if (13 === e.tag) { var t = e.memoizedState; if (null === t && null !== (e = e.alternate) && (t = e.memoizedState), null !== t) return t.dehydrated } return null } function assertIsMounted(e) { if (getNearestMountedFiber(e) !== e) throw Error(formatProdErrorMessage$1(188)) } function findCurrentFiberUsingSlowPath(e) { var t = e.alternate; if (!t) { if (null === (t = getNearestMountedFiber(e))) throw Error(formatProdErrorMessage$1(188)); return t !== e ? null : e } for (var n = e, a = t; ;) { var r = n.return; if (null === r) break; var s = r.alternate; if (null === s) { if (null !== (a = r.return)) { n = a; continue } break } if (r.child === s.child) { for (s = r.child; s;) { if (s === n) return assertIsMounted(r), e; if (s === a) return assertIsMounted(r), t; s = s.sibling } throw Error(formatProdErrorMessage$1(188)) } if (n.return !== a.return) n = r, a = s; else { for (var i = !1, o = r.child; o;) { if (o === n) { i = !0, n = r, a = s; break } if (o === a) { i = !0, a = r, n = s; break } o = o.sibling } if (!i) { for (o = s.child; o;) { if (o === n) { i = !0, n = s, a = r; break } if (o === a) { i = !0, a = s, n = r; break } o = o.sibling } if (!i) throw Error(formatProdErrorMessage$1(189)) } } if (n.alternate !== a) throw Error(formatProdErrorMessage$1(190)) } if (3 !== n.tag) throw Error(formatProdErrorMessage$1(188)); return n.stateNode.current === n ? e : t } function findCurrentHostFiberImpl(e) { var t = e.tag; if (5 === t || 26 === t || 27 === t || 6 === t) return e; for (e = e.child; null !== e;) { if (null !== (t = findCurrentHostFiberImpl(e))) return t; e = e.sibling } return null } var assign = Object.assign, REACT_LEGACY_ELEMENT_TYPE = Symbol.for("react.element"), REACT_ELEMENT_TYPE = Symbol.for("react.transitional.element"), REACT_PORTAL_TYPE = Symbol.for("react.portal"), REACT_FRAGMENT_TYPE = Symbol.for("react.fragment"), REACT_STRICT_MODE_TYPE = Symbol.for("react.strict_mode"), REACT_PROFILER_TYPE = Symbol.for("react.profiler"), REACT_PROVIDER_TYPE = Symbol.for("react.provider"), REACT_CONSUMER_TYPE = Symbol.for("react.consumer"), REACT_CONTEXT_TYPE = Symbol.for("react.context"), REACT_FORWARD_REF_TYPE = Symbol.for("react.forward_ref"), REACT_SUSPENSE_TYPE = Symbol.for("react.suspense"), REACT_SUSPENSE_LIST_TYPE = Symbol.for("react.suspense_list"), REACT_MEMO_TYPE = Symbol.for("react.memo"), REACT_LAZY_TYPE = Symbol.for("react.lazy"), REACT_ACTIVITY_TYPE = Symbol.for("react.activity"), REACT_MEMO_CACHE_SENTINEL = Symbol.for("react.memo_cache_sentinel"), MAYBE_ITERATOR_SYMBOL = Symbol.iterator; function getIteratorFn(e) { return null === e || "object" != typeof e ? null : "function" == typeof (e = MAYBE_ITERATOR_SYMBOL && e[MAYBE_ITERATOR_SYMBOL] || e["@@iterator"]) ? e : null } var REACT_CLIENT_REFERENCE = Symbol.for("react.client.reference"); function getComponentNameFromType(e) { if (null == e) return null; if ("function" == typeof e) return e.$$typeof === REACT_CLIENT_REFERENCE ? null : e.displayName || e.name || null; if ("string" == typeof e) return e; switch (e) { case REACT_FRAGMENT_TYPE: return "Fragment"; case REACT_PROFILER_TYPE: return "Profiler"; case REACT_STRICT_MODE_TYPE: return "StrictMode"; case REACT_SUSPENSE_TYPE: return "Suspense"; case REACT_SUSPENSE_LIST_TYPE: return "SuspenseList"; case REACT_ACTIVITY_TYPE: return "Activity" }if ("object" == typeof e) switch (e.$$typeof) { case REACT_PORTAL_TYPE: return "Portal"; case REACT_CONTEXT_TYPE: return (e.displayName || "Context") + ".Provider"; case REACT_CONSUMER_TYPE: return (e._context.displayName || "Context") + ".Consumer"; case REACT_FORWARD_REF_TYPE: var t = e.render; return (e = e.displayName) || (e = "" !== (e = t.displayName || t.name || "") ? "ForwardRef(" + e + ")" : "ForwardRef"), e; case REACT_MEMO_TYPE: return null !== (t = e.displayName || null) ? t : getComponentNameFromType(e.type) || "Memo"; case REACT_LAZY_TYPE: t = e._payload, e = e._init; try { return getComponentNameFromType(e(t)) } catch (x) { } }return null } var isArrayImpl = Array.isArray, ReactSharedInternals = React.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE, ReactDOMSharedInternals = ReactDOM$1.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE, sharedNotPendingObject = { pending: !1, data: null, method: null, action: null }, valueStack = [], index = -1; function createCursor(e) { return { current: e } } function pop(e) { 0 > index || (e.current = valueStack[index], valueStack[index] = null, index--) } function push(e, t) { index++, valueStack[index] = e.current, e.current = t } var contextStackCursor = createCursor(null), contextFiberStackCursor = createCursor(null), rootInstanceStackCursor = createCursor(null), hostTransitionProviderCursor = createCursor(null); function pushHostContainer(e, t) { switch (push(rootInstanceStackCursor, t), push(contextFiberStackCursor, e), push(contextStackCursor, null), t.nodeType) { case 9: case 11: e = (e = t.documentElement) && (e = e.namespaceURI) ? getOwnHostContext(e) : 0; break; default: if (e = t.tagName, t = t.namespaceURI) e = getChildHostContextProd(t = getOwnHostContext(t), e); else switch (e) { case "svg": e = 1; break; case "math": e = 2; break; default: e = 0 } }pop(contextStackCursor), push(contextStackCursor, e) } function popHostContainer() { pop(contextStackCursor), pop(contextFiberStackCursor), pop(rootInstanceStackCursor) } function pushHostContext(e) { null !== e.memoizedState && push(hostTransitionProviderCursor, e); var t = contextStackCursor.current, n = getChildHostContextProd(t, e.type); t !== n && (push(contextFiberStackCursor, e), push(contextStackCursor, n)) } function popHostContext(e) { contextFiberStackCursor.current === e && (pop(contextStackCursor), pop(contextFiberStackCursor)), hostTransitionProviderCursor.current === e && (pop(hostTransitionProviderCursor), HostTransitionContext._currentValue = sharedNotPendingObject) } var hasOwnProperty$2 = Object.prototype.hasOwnProperty, scheduleCallback$3 = Scheduler.unstable_scheduleCallback, cancelCallback$1 = Scheduler.unstable_cancelCallback, shouldYield = Scheduler.unstable_shouldYield, requestPaint = Scheduler.unstable_requestPaint, now$2 = Scheduler.unstable_now, getCurrentPriorityLevel = Scheduler.unstable_getCurrentPriorityLevel, ImmediatePriority = Scheduler.unstable_ImmediatePriority, UserBlockingPriority = Scheduler.unstable_UserBlockingPriority, NormalPriority$1 = Scheduler.unstable_NormalPriority, LowPriority = Scheduler.unstable_LowPriority, IdlePriority = Scheduler.unstable_IdlePriority, log$1 = Scheduler.log, unstable_setDisableYieldValue = Scheduler.unstable_setDisableYieldValue, rendererID = null, injectedHook = null; function setIsStrictModeForDevtools(e) { if ("function" == typeof log$1 && unstable_setDisableYieldValue(e), injectedHook && "function" == typeof injectedHook.setStrictMode) try { injectedHook.setStrictMode(rendererID, e) } catch (err) { } } var clz32 = Math.clz32 ? Math.clz32 : clz32Fallback, log = Math.log, LN2 = Math.LN2; function clz32Fallback(e) { return 0 == (e >>>= 0) ? 32 : 31 - (log(e) / LN2 | 0) | 0 } var nextTransitionLane = 256, nextRetryLane = 4194304; function getHighestPriorityLanes(e) { var t = 42 & e; if (0 !== t) return t; switch (e & -e) { case 1: return 1; case 2: return 2; case 4: return 4; case 8: return 8; case 16: return 16; case 32: return 32; case 64: return 64; case 128: return 128; case 256: case 512: case 1024: case 2048: case 4096: case 8192: case 16384: case 32768: case 65536: case 131072: case 262144: case 524288: case 1048576: case 2097152: return 4194048 & e; case 4194304: case 8388608: case 16777216: case 33554432: return 62914560 & e; case 67108864: return 67108864; case 134217728: return 134217728; case 268435456: return 268435456; case 536870912: return 536870912; case 1073741824: return 0; default: return e } } function getNextLanes(e, t, n) { var a = e.pendingLanes; if (0 === a) return 0; var r = 0, s = e.suspendedLanes, i = e.pingedLanes; e = e.warmLanes; var o = 134217727 & a; return 0 !== o ? 0 !== (a = o & ~s) ? r = getHighestPriorityLanes(a) : 0 !== (i &= o) ? r = getHighestPriorityLanes(i) : n || 0 !== (n = o & ~e) && (r = getHighestPriorityLanes(n)) : 0 !== (o = a & ~s) ? r = getHighestPriorityLanes(o) : 0 !== i ? r = getHighestPriorityLanes(i) : n || 0 !== (n = a & ~e) && (r = getHighestPriorityLanes(n)), 0 === r ? 0 : 0 !== t && t !== r && 0 === (t & s) && ((s = r & -r) >= (n = t & -t) || 32 === s && 4194048 & n) ? t : r } function checkIfRootIsPrerendering(e, t) { return 0 === (e.pendingLanes & ~(e.suspendedLanes & ~e.pingedLanes) & t) } function computeExpirationTime(e, t) { switch (e) { case 1: case 2: case 4: case 8: case 64: return t + 250; case 16: case 32: case 128: case 256: case 512: case 1024: case 2048: case 4096: case 8192: case 16384: case 32768: case 65536: case 131072: case 262144: case 524288: case 1048576: case 2097152: return t + 5e3; default: return -1 } } function claimNextTransitionLane() { var e = nextTransitionLane; return !(4194048 & (nextTransitionLane <<= 1)) && (nextTransitionLane = 256), e } function claimNextRetryLane() { var e = nextRetryLane; return !(62914560 & (nextRetryLane <<= 1)) && (nextRetryLane = 4194304), e } function createLaneMap(e) { for (var t = [], n = 0; 31 > n; n++)t.push(e); return t } function markRootUpdated$1(e, t) { e.pendingLanes |= t, 268435456 !== t && (e.suspendedLanes = 0, e.pingedLanes = 0, e.warmLanes = 0) } function markRootFinished(e, t, n, a, r, s) { var i = e.pendingLanes; e.pendingLanes = n, e.suspendedLanes = 0, e.pingedLanes = 0, e.warmLanes = 0, e.expiredLanes &= n, e.entangledLanes &= n, e.errorRecoveryDisabledLanes &= n, e.shellSuspendCounter = 0; var o = e.entanglements, l = e.expirationTimes, m = e.hiddenUpdates; for (n = i & ~n; 0 < n;) { var c = 31 - clz32(n), u = 1 << c; o[c] = 0, l[c] = -1; var A = m[c]; if (null !== A) for (m[c] = null, c = 0; c < A.length; c++) { var p = A[c]; null !== p && (p.lane &= -536870913) } n &= ~u } 0 !== a && markSpawnedDeferredLane(e, a, 0), 0 !== s && 0 === r && 0 !== e.tag && (e.suspendedLanes |= s & ~(i & ~t)) } function markSpawnedDeferredLane(e, t, n) { e.pendingLanes |= t, e.suspendedLanes &= ~t; var a = 31 - clz32(t); e.entangledLanes |= t, e.entanglements[a] = 1073741824 | e.entanglements[a] | 4194090 & n } function markRootEntangled(e, t) { var n = e.entangledLanes |= t; for (e = e.entanglements; n;) { var a = 31 - clz32(n), r = 1 << a; r & t | e[a] & t && (e[a] |= t), n &= ~r } } function getBumpedLaneForHydrationByLane(e) { switch (e) { case 2: e = 1; break; case 8: e = 4; break; case 32: e = 16; break; case 256: case 512: case 1024: case 2048: case 4096: case 8192: case 16384: case 32768: case 65536: case 131072: case 262144: case 524288: case 1048576: case 2097152: case 4194304: case 8388608: case 16777216: case 33554432: e = 128; break; case 268435456: e = 134217728; break; default: e = 0 }return e } function lanesToEventPriority(e) { return 2 < (e &= -e) ? 8 < e ? 134217727 & e ? 32 : 268435456 : 8 : 2 } function resolveUpdatePriority() { var e = ReactDOMSharedInternals.p; return 0 !== e ? e : void 0 === (e = window.event) ? 32 : getEventPriority(e.type) } function runWithPriority(e, t) { var n = ReactDOMSharedInternals.p; try { return ReactDOMSharedInternals.p = e, t() } finally { ReactDOMSharedInternals.p = n } } var randomKey = Math.random().toString(36).slice(2), internalInstanceKey = "__reactFiber$" + randomKey, internalPropsKey = "__reactProps$" + randomKey, internalContainerInstanceKey = "__reactContainer$" + randomKey, internalEventHandlersKey = "__reactEvents$" + randomKey, internalEventHandlerListenersKey = "__reactListeners$" + randomKey, internalEventHandlesSetKey = "__reactHandles$" + randomKey, internalRootNodeResourcesKey = "__reactResources$" + randomKey, internalHoistableMarker = "__reactMarker$" + randomKey; function detachDeletedInstance(e) { delete e[internalInstanceKey], delete e[internalPropsKey], delete e[internalEventHandlersKey], delete e[internalEventHandlerListenersKey], delete e[internalEventHandlesSetKey] } function getClosestInstanceFromNode(e) { var t = e[internalInstanceKey]; if (t) return t; for (var n = e.parentNode; n;) { if (t = n[internalContainerInstanceKey] || n[internalInstanceKey]) { if (n = t.alternate, null !== t.child || null !== n && null !== n.child) for (e = getParentSuspenseInstance(e); null !== e;) { if (n = e[internalInstanceKey]) return n; e = getParentSuspenseInstance(e) } return t } n = (e = n).parentNode } return null } function getInstanceFromNode(e) { if (e = e[internalInstanceKey] || e[internalContainerInstanceKey]) { var t = e.tag; if (5 === t || 6 === t || 13 === t || 26 === t || 27 === t || 3 === t) return e } return null } function getNodeFromInstance(e) { var t = e.tag; if (5 === t || 26 === t || 27 === t || 6 === t) return e.stateNode; throw Error(formatProdErrorMessage$1(33)) } function getResourcesFromRoot(e) { var t = e[internalRootNodeResourcesKey]; return t || (t = e[internalRootNodeResourcesKey] = { hoistableStyles: new Map, hoistableScripts: new Map }), t } function markNodeAsHoistable(e) { e[internalHoistableMarker] = !0 } var allNativeEvents = new Set, registrationNameDependencies = {}; function registerTwoPhaseEvent(e, t) { registerDirectEvent(e, t), registerDirectEvent(e + "Capture", t) } function registerDirectEvent(e, t) { for (registrationNameDependencies[e] = t, e = 0; e < t.length; e++)allNativeEvents.add(t[e]) } var VALID_ATTRIBUTE_NAME_REGEX = RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"), illegalAttributeNameCache = {}, validatedAttributeNameCache = {}, prefix, suffix$1; function isAttributeNameSafe(e) { return !!hasOwnProperty$2.call(validatedAttributeNameCache, e) || !hasOwnProperty$2.call(illegalAttributeNameCache, e) && (VALID_ATTRIBUTE_NAME_REGEX.test(e) ? validatedAttributeNameCache[e] = !0 : (illegalAttributeNameCache[e] = !0, !1)) } function setValueForAttribute(e, t, n) { if (isAttributeNameSafe(t)) if (null === n) e.removeAttribute(t); else { switch (typeof n) { case "undefined": case "function": case "symbol": return void e.removeAttribute(t); case "boolean": var a = t.toLowerCase().slice(0, 5); if ("data-" !== a && "aria-" !== a) return void e.removeAttribute(t) }e.setAttribute(t, "" + n) } } function setValueForKnownAttribute(e, t, n) { if (null === n) e.removeAttribute(t); else { switch (typeof n) { case "undefined": case "function": case "symbol": case "boolean": return void e.removeAttribute(t) }e.setAttribute(t, "" + n) } } function setValueForNamespacedAttribute(e, t, n, a) { if (null === a) e.removeAttribute(n); else { switch (typeof a) { case "undefined": case "function": case "symbol": case "boolean": return void e.removeAttribute(n) }e.setAttributeNS(t, n, "" + a) } } function describeBuiltInComponentFrame(e) { if (void 0 === prefix) try { throw Error() } catch (x) { var t = x.stack.trim().match(/\n( *(at )?)/); prefix = t && t[1] || "", suffix$1 = -1 < x.stack.indexOf("\n    at") ? " (<anonymous>)" : -1 < x.stack.indexOf("@") ? "@unknown:0:0" : "" } return "\n" + prefix + e + suffix$1 } var reentry = !1; function describeNativeComponentFrame(e, t) { if (!e || reentry) return ""; reentry = !0; var n = Error.prepareStackTrace; Error.prepareStackTrace = void 0; try { var a = { DetermineComponentFrameRoot: function () { try { if (t) { var n = function () { throw Error() }; if (Object.defineProperty(n.prototype, "props", { set: function () { throw Error() } }), "object" == typeof Reflect && Reflect.construct) { try { Reflect.construct(n, []) } catch (x) { var a = x } Reflect.construct(e, [], n) } else { try { n.call() } catch (r) { a = r } e.call(n.prototype) } } else { try { throw Error() } catch (s) { a = s } (n = e()) && "function" == typeof n.catch && n.catch(function () { }) } } catch (i) { if (i && a && "string" == typeof i.stack) return [i.stack, a.stack] } return [null, null] } }; a.DetermineComponentFrameRoot.displayName = "DetermineComponentFrameRoot"; var r = Object.getOwnPropertyDescriptor(a.DetermineComponentFrameRoot, "name"); r && r.configurable && Object.defineProperty(a.DetermineComponentFrameRoot, "name", { value: "DetermineComponentFrameRoot" }); var s = a.DetermineComponentFrameRoot(), i = s[0], o = s[1]; if (i && o) { var l = i.split("\n"), m = o.split("\n"); for (r = a = 0; a < l.length && !l[a].includes("DetermineComponentFrameRoot");)a++; for (; r < m.length && !m[r].includes("DetermineComponentFrameRoot");)r++; if (a === l.length || r === m.length) for (a = l.length - 1, r = m.length - 1; 1 <= a && 0 <= r && l[a] !== m[r];)r--; for (; 1 <= a && 0 <= r; a--, r--)if (l[a] !== m[r]) { if (1 !== a || 1 !== r) do { if (a--, 0 > --r || l[a] !== m[r]) { var c = "\n" + l[a].replace(" at new ", " at "); return e.displayName && c.includes("<anonymous>") && (c = c.replace("<anonymous>", e.displayName)), c } } while (1 <= a && 0 <= r); break } } } finally { reentry = !1, Error.prepareStackTrace = n } return (n = e ? e.displayName || e.name : "") ? describeBuiltInComponentFrame(n) : "" } function describeFiber(e) { switch (e.tag) { case 26: case 27: case 5: return describeBuiltInComponentFrame(e.type); case 16: return describeBuiltInComponentFrame("Lazy"); case 13: return describeBuiltInComponentFrame("Suspense"); case 19: return describeBuiltInComponentFrame("SuspenseList"); case 0: case 15: return describeNativeComponentFrame(e.type, !1); case 11: return describeNativeComponentFrame(e.type.render, !1); case 1: return describeNativeComponentFrame(e.type, !0); case 31: return describeBuiltInComponentFrame("Activity"); default: return "" } } function getStackByFiberInDevAndProd(e) { try { var t = ""; do { t += describeFiber(e), e = e.return } while (e); return t } catch (x) { return "\nError generating stack: " + x.message + "\n" + x.stack } } function getToStringValue(e) { switch (typeof e) { case "bigint": case "boolean": case "number": case "string": case "undefined": case "object": return e; default: return "" } } function isCheckable(e) { var t = e.type; return (e = e.nodeName) && "input" === e.toLowerCase() && ("checkbox" === t || "radio" === t) } function trackValueOnNode(e) { var t = isCheckable(e) ? "checked" : "value", n = Object.getOwnPropertyDescriptor(e.constructor.prototype, t), a = "" + e[t]; if (!e.hasOwnProperty(t) && void 0 !== n && "function" == typeof n.get && "function" == typeof n.set) { var r = n.get, s = n.set; return Object.defineProperty(e, t, { configurable: !0, get: function () { return r.call(this) }, set: function (e) { a = "" + e, s.call(this, e) } }), Object.defineProperty(e, t, { enumerable: n.enumerable }), { getValue: function () { return a }, setValue: function (e) { a = "" + e }, stopTracking: function () { e._valueTracker = null, delete e[t] } } } } function track(e) { e._valueTracker || (e._valueTracker = trackValueOnNode(e)) } function updateValueIfChanged(e) { if (!e) return !1; var t = e._valueTracker; if (!t) return !0; var n = t.getValue(), a = ""; return e && (a = isCheckable(e) ? e.checked ? "true" : "false" : e.value), (e = a) !== n && (t.setValue(e), !0) } function getActiveElement(t) { if (void 0 === (t = t || ("undefined" != typeof document ? document : void 0))) return null; try { return t.activeElement || t.body } catch (e) { return t.body } } var escapeSelectorAttributeValueInsideDoubleQuotesRegex = /[\n"\\]/g; function escapeSelectorAttributeValueInsideDoubleQuotes(e) { return e.replace(escapeSelectorAttributeValueInsideDoubleQuotesRegex, function (e) { return "\\" + e.charCodeAt(0).toString(16) + " " }) } function updateInput(e, t, n, a, r, s, i, o) { e.name = "", null != i && "function" != typeof i && "symbol" != typeof i && "boolean" != typeof i ? e.type = i : e.removeAttribute("type"), null != t ? "number" === i ? (0 === t && "" === e.value || e.value != t) && (e.value = "" + getToStringValue(t)) : e.value !== "" + getToStringValue(t) && (e.value = "" + getToStringValue(t)) : "submit" !== i && "reset" !== i || e.removeAttribute("value"), null != t ? setDefaultValue(e, i, getToStringValue(t)) : null != n ? setDefaultValue(e, i, getToStringValue(n)) : null != a && e.removeAttribute("value"), null == r && null != s && (e.defaultChecked = !!s), null != r && (e.checked = r && "function" != typeof r && "symbol" != typeof r), null != o && "function" != typeof o && "symbol" != typeof o && "boolean" != typeof o ? e.name = "" + getToStringValue(o) : e.removeAttribute("name") } function initInput(e, t, n, a, r, s, i, o) { if (null != s && "function" != typeof s && "symbol" != typeof s && "boolean" != typeof s && (e.type = s), null != t || null != n) { if (("submit" === s || "reset" === s) && null == t) return; n = null != n ? "" + getToStringValue(n) : "", t = null != t ? "" + getToStringValue(t) : n, o || t === e.value || (e.value = t), e.defaultValue = t } a = "function" != typeof (a = null != a ? a : r) && "symbol" != typeof a && !!a, e.checked = o ? e.checked : !!a, e.defaultChecked = !!a, null != i && "function" != typeof i && "symbol" != typeof i && "boolean" != typeof i && (e.name = i) } function setDefaultValue(e, t, n) { "number" === t && getActiveElement(e.ownerDocument) === e || e.defaultValue === "" + n || (e.defaultValue = "" + n) } function updateOptions(e, t, n, a) { if (e = e.options, t) { t = {}; for (var r = 0; r < n.length; r++)t["$" + n[r]] = !0; for (n = 0; n < e.length; n++)r = t.hasOwnProperty("$" + e[n].value), e[n].selected !== r && (e[n].selected = r), r && a && (e[n].defaultSelected = !0) } else { for (n = "" + getToStringValue(n), t = null, r = 0; r < e.length; r++) { if (e[r].value === n) return e[r].selected = !0, void (a && (e[r].defaultSelected = !0)); null !== t || e[r].disabled || (t = e[r]) } null !== t && (t.selected = !0) } } function updateTextarea(e, t, n) { null == t || ((t = "" + getToStringValue(t)) !== e.value && (e.value = t), null != n) ? e.defaultValue = null != n ? "" + getToStringValue(n) : "" : e.defaultValue !== t && (e.defaultValue = t) } function initTextarea(e, t, n, a) { if (null == t) { if (null != a) { if (null != n) throw Error(formatProdErrorMessage$1(92)); if (isArrayImpl(a)) { if (1 < a.length) throw Error(formatProdErrorMessage$1(93)); a = a[0] } n = a } null == n && (n = ""), t = n } n = getToStringValue(t), e.defaultValue = n, (a = e.textContent) === n && "" !== a && null !== a && (e.value = a) } function setTextContent(e, t) { if (t) { var n = e.firstChild; if (n && n === e.lastChild && 3 === n.nodeType) return void (n.nodeValue = t) } e.textContent = t } var unitlessNumbers = new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" ")); function setValueForStyle(e, t, n) { var a = 0 === t.indexOf("--"); null == n || "boolean" == typeof n || "" === n ? a ? e.setProperty(t, "") : "float" === t ? e.cssFloat = "" : e[t] = "" : a ? e.setProperty(t, n) : "number" != typeof n || 0 === n || unitlessNumbers.has(t) ? "float" === t ? e.cssFloat = n : e[t] = ("" + n).trim() : e[t] = n + "px" } function setValueForStyles(e, t, n) { if (null != t && "object" != typeof t) throw Error(formatProdErrorMessage$1(62)); if (e = e.style, null != n) { for (var a in n) !n.hasOwnProperty(a) || null != t && t.hasOwnProperty(a) || (0 === a.indexOf("--") ? e.setProperty(a, "") : "float" === a ? e.cssFloat = "" : e[a] = ""); for (var r in t) a = t[r], t.hasOwnProperty(r) && n[r] !== a && setValueForStyle(e, r, a) } else for (var s in t) t.hasOwnProperty(s) && setValueForStyle(e, s, t[s]) } function isCustomElement(e) { if (-1 === e.indexOf("-")) return !1; switch (e) { case "annotation-xml": case "color-profile": case "font-face": case "font-face-src": case "font-face-uri": case "font-face-format": case "font-face-name": case "missing-glyph": return !1; default: return !0 } } var aliases = new Map([["acceptCharset", "accept-charset"], ["htmlFor", "for"], ["httpEquiv", "http-equiv"], ["crossOrigin", "crossorigin"], ["accentHeight", "accent-height"], ["alignmentBaseline", "alignment-baseline"], ["arabicForm", "arabic-form"], ["baselineShift", "baseline-shift"], ["capHeight", "cap-height"], ["clipPath", "clip-path"], ["clipRule", "clip-rule"], ["colorInterpolation", "color-interpolation"], ["colorInterpolationFilters", "color-interpolation-filters"], ["colorProfile", "color-profile"], ["colorRendering", "color-rendering"], ["dominantBaseline", "dominant-baseline"], ["enableBackground", "enable-background"], ["fillOpacity", "fill-opacity"], ["fillRule", "fill-rule"], ["floodColor", "flood-color"], ["floodOpacity", "flood-opacity"], ["fontFamily", "font-family"], ["fontSize", "font-size"], ["fontSizeAdjust", "font-size-adjust"], ["fontStretch", "font-stretch"], ["fontStyle", "font-style"], ["fontVariant", "font-variant"], ["fontWeight", "font-weight"], ["glyphName", "glyph-name"], ["glyphOrientationHorizontal", "glyph-orientation-horizontal"], ["glyphOrientationVertical", "glyph-orientation-vertical"], ["horizAdvX", "horiz-adv-x"], ["horizOriginX", "horiz-origin-x"], ["imageRendering", "image-rendering"], ["letterSpacing", "letter-spacing"], ["lightingColor", "lighting-color"], ["markerEnd", "marker-end"], ["markerMid", "marker-mid"], ["markerStart", "marker-start"], ["overlinePosition", "overline-position"], ["overlineThickness", "overline-thickness"], ["paintOrder", "paint-order"], ["panose-1", "panose-1"], ["pointerEvents", "pointer-events"], ["renderingIntent", "rendering-intent"], ["shapeRendering", "shape-rendering"], ["stopColor", "stop-color"], ["stopOpacity", "stop-opacity"], ["strikethroughPosition", "strikethrough-position"], ["strikethroughThickness", "strikethrough-thickness"], ["strokeDasharray", "stroke-dasharray"], ["strokeDashoffset", "stroke-dashoffset"], ["strokeLinecap", "stroke-linecap"], ["strokeLinejoin", "stroke-linejoin"], ["strokeMiterlimit", "stroke-miterlimit"], ["strokeOpacity", "stroke-opacity"], ["strokeWidth", "stroke-width"], ["textAnchor", "text-anchor"], ["textDecoration", "text-decoration"], ["textRendering", "text-rendering"], ["transformOrigin", "transform-origin"], ["underlinePosition", "underline-position"], ["underlineThickness", "underline-thickness"], ["unicodeBidi", "unicode-bidi"], ["unicodeRange", "unicode-range"], ["unitsPerEm", "units-per-em"], ["vAlphabetic", "v-alphabetic"], ["vHanging", "v-hanging"], ["vIdeographic", "v-ideographic"], ["vMathematical", "v-mathematical"], ["vectorEffect", "vector-effect"], ["vertAdvY", "vert-adv-y"], ["vertOriginX", "vert-origin-x"], ["vertOriginY", "vert-origin-y"], ["wordSpacing", "word-spacing"], ["writingMode", "writing-mode"], ["xmlnsXlink", "xmlns:xlink"], ["xHeight", "x-height"]]), isJavaScriptProtocol = /^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i; function sanitizeURL(e) { return isJavaScriptProtocol.test("" + e) ? "javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')" : e } var currentReplayingEvent = null; function getEventTarget(e) { return (e = e.target || e.srcElement || window).correspondingUseElement && (e = e.correspondingUseElement), 3 === e.nodeType ? e.parentNode : e } var restoreTarget = null, restoreQueue = null; function restoreStateOfTarget(e) { var t = getInstanceFromNode(e); if (t && (e = t.stateNode)) { var n = e[internalPropsKey] || null; e: switch (e = t.stateNode, t.type) { case "input": if (updateInput(e, n.value, n.defaultValue, n.defaultValue, n.checked, n.defaultChecked, n.type, n.name), t = n.name, "radio" === n.type && null != t) { for (n = e; n.parentNode;)n = n.parentNode; for (n = n.querySelectorAll('input[name="' + escapeSelectorAttributeValueInsideDoubleQuotes("" + t) + '"][type="radio"]'), t = 0; t < n.length; t++) { var a = n[t]; if (a !== e && a.form === e.form) { var r = a[internalPropsKey] || null; if (!r) throw Error(formatProdErrorMessage$1(90)); updateInput(a, r.value, r.defaultValue, r.defaultValue, r.checked, r.defaultChecked, r.type, r.name) } } for (t = 0; t < n.length; t++)(a = n[t]).form === e.form && updateValueIfChanged(a) } break e; case "textarea": updateTextarea(e, n.value, n.defaultValue); break e; case "select": null != (t = n.value) && updateOptions(e, !!n.multiple, t, !1) } } } var isInsideEventHandler = !1; function batchedUpdates$1(e, t, n) { if (isInsideEventHandler) return e(t, n); isInsideEventHandler = !0; try { return e(t) } finally { if (isInsideEventHandler = !1, (null !== restoreTarget || null !== restoreQueue) && (flushSyncWork$1(), restoreTarget && (t = restoreTarget, e = restoreQueue, restoreQueue = restoreTarget = null, restoreStateOfTarget(t), e))) for (t = 0; t < e.length; t++)restoreStateOfTarget(e[t]) } } function getListener(e, t) { var n = e.stateNode; if (null === n) return null; var a = n[internalPropsKey] || null; if (null === a) return null; n = a[t]; e: switch (t) { case "onClick": case "onClickCapture": case "onDoubleClick": case "onDoubleClickCapture": case "onMouseDown": case "onMouseDownCapture": case "onMouseMove": case "onMouseMoveCapture": case "onMouseUp": case "onMouseUpCapture": case "onMouseEnter": (a = !a.disabled) || (a = !("button" === (e = e.type) || "input" === e || "select" === e || "textarea" === e)), e = !a; break e; default: e = !1 }if (e) return null; if (n && "function" != typeof n) throw Error(formatProdErrorMessage$1(231, t, typeof n)); return n } var canUseDOM$1 = !("undefined" == typeof window || void 0 === window.document || void 0 === window.document.createElement), passiveBrowserEventsSupported = !1; if (canUseDOM$1) try { var options = {}; Object.defineProperty(options, "passive", { get: function () { passiveBrowserEventsSupported = !0 } }), window.addEventListener("test", options, options), window.removeEventListener("test", options, options) } catch (e) { passiveBrowserEventsSupported = !1 } var root$3 = null, startText = null, fallbackText = null; function getData() { if (fallbackText) return fallbackText; var e, t, n = startText, a = n.length, r = "value" in root$3 ? root$3.value : root$3.textContent, s = r.length; for (e = 0; e < a && n[e] === r[e]; e++); var i = a - e; for (t = 1; t <= i && n[a - t] === r[s - t]; t++); return fallbackText = r.slice(e, 1 < t ? 1 - t : void 0) } function getEventCharCode(e) { var t = e.keyCode; return "charCode" in e ? 0 === (e = e.charCode) && 13 === t && (e = 13) : e = t, 10 === e && (e = 13), 32 <= e || 13 === e ? e : 0 } function functionThatReturnsTrue() { return !0 } function functionThatReturnsFalse() { return !1 } function createSyntheticEvent(e) { function t(t, n, a, r, s) { for (var i in this._reactName = t, this._targetInst = a, this.type = n, this.nativeEvent = r, this.target = s, this.currentTarget = null, e) e.hasOwnProperty(i) && (t = e[i], this[i] = t ? t(r) : r[i]); return this.isDefaultPrevented = (null != r.defaultPrevented ? r.defaultPrevented : !1 === r.returnValue) ? functionThatReturnsTrue : functionThatReturnsFalse, this.isPropagationStopped = functionThatReturnsFalse, this } return assign(t.prototype, { preventDefault: function () { this.defaultPrevented = !0; var e = this.nativeEvent; e && (e.preventDefault ? e.preventDefault() : "unknown" != typeof e.returnValue && (e.returnValue = !1), this.isDefaultPrevented = functionThatReturnsTrue) }, stopPropagation: function () { var e = this.nativeEvent; e && (e.stopPropagation ? e.stopPropagation() : "unknown" != typeof e.cancelBubble && (e.cancelBubble = !0), this.isPropagationStopped = functionThatReturnsTrue) }, persist: function () { }, isPersistent: functionThatReturnsTrue }), t } var EventInterface = { eventPhase: 0, bubbles: 0, cancelable: 0, timeStamp: function (e) { return e.timeStamp || Date.now() }, defaultPrevented: 0, isTrusted: 0 }, SyntheticEvent = createSyntheticEvent(EventInterface), UIEventInterface = assign({}, EventInterface, { view: 0, detail: 0 }), SyntheticUIEvent = createSyntheticEvent(UIEventInterface), lastMovementX, lastMovementY, lastMouseEvent, MouseEventInterface = assign({}, UIEventInterface, { screenX: 0, screenY: 0, clientX: 0, clientY: 0, pageX: 0, pageY: 0, ctrlKey: 0, shiftKey: 0, altKey: 0, metaKey: 0, getModifierState: getEventModifierState, button: 0, buttons: 0, relatedTarget: function (e) { return void 0 === e.relatedTarget ? e.fromElement === e.srcElement ? e.toElement : e.fromElement : e.relatedTarget }, movementX: function (e) { return "movementX" in e ? e.movementX : (e !== lastMouseEvent && (lastMouseEvent && "mousemove" === e.type ? (lastMovementX = e.screenX - lastMouseEvent.screenX, lastMovementY = e.screenY - lastMouseEvent.screenY) : lastMovementY = lastMovementX = 0, lastMouseEvent = e), lastMovementX) }, movementY: function (e) { return "movementY" in e ? e.movementY : lastMovementY } }), SyntheticMouseEvent = createSyntheticEvent(MouseEventInterface), DragEventInterface = assign({}, MouseEventInterface, { dataTransfer: 0 }), SyntheticDragEvent = createSyntheticEvent(DragEventInterface), FocusEventInterface = assign({}, UIEventInterface, { relatedTarget: 0 }), SyntheticFocusEvent = createSyntheticEvent(FocusEventInterface), AnimationEventInterface = assign({}, EventInterface, { animationName: 0, elapsedTime: 0, pseudoElement: 0 }), SyntheticAnimationEvent = createSyntheticEvent(AnimationEventInterface), ClipboardEventInterface = assign({}, EventInterface, { clipboardData: function (e) { return "clipboardData" in e ? e.clipboardData : window.clipboardData } }), SyntheticClipboardEvent = createSyntheticEvent(ClipboardEventInterface), CompositionEventInterface = assign({}, EventInterface, { data: 0 }), SyntheticCompositionEvent = createSyntheticEvent(CompositionEventInterface), normalizeKey = { Esc: "Escape", Spacebar: " ", Left: "ArrowLeft", Up: "ArrowUp", Right: "ArrowRight", Down: "ArrowDown", Del: "Delete", Win: "OS", Menu: "ContextMenu", Apps: "ContextMenu", Scroll: "ScrollLock", MozPrintableKey: "Unidentified" }, translateToKey = { 8: "Backspace", 9: "Tab", 12: "Clear", 13: "Enter", 16: "Shift", 17: "Control", 18: "Alt", 19: "Pause", 20: "CapsLock", 27: "Escape", 32: " ", 33: "PageUp", 34: "PageDown", 35: "End", 36: "Home", 37: "ArrowLeft", 38: "ArrowUp", 39: "ArrowRight", 40: "ArrowDown", 45: "Insert", 46: "Delete", 112: "F1", 113: "F2", 114: "F3", 115: "F4", 116: "F5", 117: "F6", 118: "F7", 119: "F8", 120: "F9", 121: "F10", 122: "F11", 123: "F12", 144: "NumLock", 145: "ScrollLock", 224: "Meta" }, modifierKeyToProp = { Alt: "altKey", Control: "ctrlKey", Meta: "metaKey", Shift: "shiftKey" }; function modifierStateGetter(e) { var t = this.nativeEvent; return t.getModifierState ? t.getModifierState(e) : !!(e = modifierKeyToProp[e]) && !!t[e] } function getEventModifierState() { return modifierStateGetter } var KeyboardEventInterface = assign({}, UIEventInterface, { key: function (e) { if (e.key) { var t = normalizeKey[e.key] || e.key; if ("Unidentified" !== t) return t } return "keypress" === e.type ? 13 === (e = getEventCharCode(e)) ? "Enter" : String.fromCharCode(e) : "keydown" === e.type || "keyup" === e.type ? translateToKey[e.keyCode] || "Unidentified" : "" }, code: 0, location: 0, ctrlKey: 0, shiftKey: 0, altKey: 0, metaKey: 0, repeat: 0, locale: 0, getModifierState: getEventModifierState, charCode: function (e) { return "keypress" === e.type ? getEventCharCode(e) : 0 }, keyCode: function (e) { return "keydown" === e.type || "keyup" === e.type ? e.keyCode : 0 }, which: function (e) { return "keypress" === e.type ? getEventCharCode(e) : "keydown" === e.type || "keyup" === e.type ? e.keyCode : 0 } }), SyntheticKeyboardEvent = createSyntheticEvent(KeyboardEventInterface), PointerEventInterface = assign({}, MouseEventInterface, { pointerId: 0, width: 0, height: 0, pressure: 0, tangentialPressure: 0, tiltX: 0, tiltY: 0, twist: 0, pointerType: 0, isPrimary: 0 }), SyntheticPointerEvent = createSyntheticEvent(PointerEventInterface), TouchEventInterface = assign({}, UIEventInterface, { touches: 0, targetTouches: 0, changedTouches: 0, altKey: 0, metaKey: 0, ctrlKey: 0, shiftKey: 0, getModifierState: getEventModifierState }), SyntheticTouchEvent = createSyntheticEvent(TouchEventInterface), TransitionEventInterface = assign({}, EventInterface, { propertyName: 0, elapsedTime: 0, pseudoElement: 0 }), SyntheticTransitionEvent = createSyntheticEvent(TransitionEventInterface), WheelEventInterface = assign({}, MouseEventInterface, { deltaX: function (e) { return "deltaX" in e ? e.deltaX : "wheelDeltaX" in e ? -e.wheelDeltaX : 0 }, deltaY: function (e) { return "deltaY" in e ? e.deltaY : "wheelDeltaY" in e ? -e.wheelDeltaY : "wheelDelta" in e ? -e.wheelDelta : 0 }, deltaZ: 0, deltaMode: 0 }), SyntheticWheelEvent = createSyntheticEvent(WheelEventInterface), ToggleEventInterface = assign({}, EventInterface, { newState: 0, oldState: 0 }), SyntheticToggleEvent = createSyntheticEvent(ToggleEventInterface), END_KEYCODES = [9, 13, 27, 32], canUseCompositionEvent = canUseDOM$1 && "CompositionEvent" in window, documentMode = null; canUseDOM$1 && "documentMode" in document && (documentMode = document.documentMode); var canUseTextInputEvent = canUseDOM$1 && "TextEvent" in window && !documentMode, useFallbackCompositionData = canUseDOM$1 && (!canUseCompositionEvent || documentMode && 8 < documentMode && 11 >= documentMode), SPACEBAR_CHAR = String.fromCharCode(32), hasSpaceKeypress = !1; function isFallbackCompositionEnd(e, t) { switch (e) { case "keyup": return -1 !== END_KEYCODES.indexOf(t.keyCode); case "keydown": return 229 !== t.keyCode; case "keypress": case "mousedown": case "focusout": return !0; default: return !1 } } function getDataFromCustomEvent(e) { return "object" == typeof (e = e.detail) && "data" in e ? e.data : null } var isComposing = !1; function getNativeBeforeInputChars(e, t) { switch (e) { case "compositionend": return getDataFromCustomEvent(t); case "keypress": return 32 !== t.which ? null : (hasSpaceKeypress = !0, SPACEBAR_CHAR); case "textInput": return (e = t.data) === SPACEBAR_CHAR && hasSpaceKeypress ? null : e; default: return null } } function getFallbackBeforeInputChars(e, t) { if (isComposing) return "compositionend" === e || !canUseCompositionEvent && isFallbackCompositionEnd(e, t) ? (e = getData(), fallbackText = startText = root$3 = null, isComposing = !1, e) : null; switch (e) { case "paste": default: return null; case "keypress": if (!(t.ctrlKey || t.altKey || t.metaKey) || t.ctrlKey && t.altKey) { if (t.char && 1 < t.char.length) return t.char; if (t.which) return String.fromCharCode(t.which) } return null; case "compositionend": return useFallbackCompositionData && "ko" !== t.locale ? null : t.data } } var supportedInputTypes = { color: !0, date: !0, datetime: !0, "datetime-local": !0, email: !0, month: !0, number: !0, password: !0, range: !0, search: !0, tel: !0, text: !0, time: !0, url: !0, week: !0 }; function isTextInputElement(e) { var t = e && e.nodeName && e.nodeName.toLowerCase(); return "input" === t ? !!supportedInputTypes[e.type] : "textarea" === t } function createAndAccumulateChangeEvent(e, t, n, a) { restoreTarget ? restoreQueue ? restoreQueue.push(a) : restoreQueue = [a] : restoreTarget = a, 0 < (t = accumulateTwoPhaseListeners(t, "onChange")).length && (n = new SyntheticEvent("onChange", "change", null, n, a), e.push({ event: n, listeners: t })) } var activeElement$1 = null, activeElementInst$1 = null; function runEventInBatch(e) { processDispatchQueue(e, 0) } function getInstIfValueChanged(e) { if (updateValueIfChanged(getNodeFromInstance(e))) return e } function getTargetInstForChangeEvent(e, t) { if ("change" === e) return t } var isInputEventSupported = !1; if (canUseDOM$1) { var JSCompiler_inline_result$jscomp$282; if (canUseDOM$1) { var isSupported$jscomp$inline_417 = "oninput" in document; if (!isSupported$jscomp$inline_417) { var element$jscomp$inline_418 = document.createElement("div"); element$jscomp$inline_418.setAttribute("oninput", "return;"), isSupported$jscomp$inline_417 = "function" == typeof element$jscomp$inline_418.oninput } JSCompiler_inline_result$jscomp$282 = isSupported$jscomp$inline_417 } else JSCompiler_inline_result$jscomp$282 = !1; isInputEventSupported = JSCompiler_inline_result$jscomp$282 && (!document.documentMode || 9 < document.documentMode) } function stopWatchingForValueChange() { activeElement$1 && (activeElement$1.detachEvent("onpropertychange", handlePropertyChange), activeElementInst$1 = activeElement$1 = null) } function handlePropertyChange(e) { if ("value" === e.propertyName && getInstIfValueChanged(activeElementInst$1)) { var t = []; createAndAccumulateChangeEvent(t, activeElementInst$1, e, getEventTarget(e)), batchedUpdates$1(runEventInBatch, t) } } function handleEventsForInputEventPolyfill(e, t, n) { "focusin" === e ? (stopWatchingForValueChange(), activeElementInst$1 = n, (activeElement$1 = t).attachEvent("onpropertychange", handlePropertyChange)) : "focusout" === e && stopWatchingForValueChange() } function getTargetInstForInputEventPolyfill(e) { if ("selectionchange" === e || "keyup" === e || "keydown" === e) return getInstIfValueChanged(activeElementInst$1) } function getTargetInstForClickEvent(e, t) { if ("click" === e) return getInstIfValueChanged(t) } function getTargetInstForInputOrChangeEvent(e, t) { if ("input" === e || "change" === e) return getInstIfValueChanged(t) } function is(e, t) { return e === t && (0 !== e || 1 / e == 1 / t) || e != e && t != t } var objectIs = "function" == typeof Object.is ? Object.is : is; function shallowEqual(e, t) { if (objectIs(e, t)) return !0; if ("object" != typeof e || null === e || "object" != typeof t || null === t) return !1; var n = Object.keys(e), a = Object.keys(t); if (n.length !== a.length) return !1; for (a = 0; a < n.length; a++) { var r = n[a]; if (!hasOwnProperty$2.call(t, r) || !objectIs(e[r], t[r])) return !1 } return !0 } function getLeafNode(e) { for (; e && e.firstChild;)e = e.firstChild; return e } function getNodeForCharacterOffset(e, t) { var n, a = getLeafNode(e); for (e = 0; a;) { if (3 === a.nodeType) { if (n = e + a.textContent.length, e <= t && n >= t) return { node: a, offset: t - e }; e = n } e: { for (; a;) { if (a.nextSibling) { a = a.nextSibling; break e } a = a.parentNode } a = void 0 } a = getLeafNode(a) } } function containsNode(e, t) { return !(!e || !t) && (e === t || (!e || 3 !== e.nodeType) && (t && 3 === t.nodeType ? containsNode(e, t.parentNode) : "contains" in e ? e.contains(t) : !!e.compareDocumentPosition && !!(16 & e.compareDocumentPosition(t)))) } function getActiveElementDeep(e) { for (var t = getActiveElement((e = null != e && null != e.ownerDocument && null != e.ownerDocument.defaultView ? e.ownerDocument.defaultView : window).document); t instanceof e.HTMLIFrameElement;) { try { var n = "string" == typeof t.contentWindow.location.href } catch (err) { n = !1 } if (!n) break; t = getActiveElement((e = t.contentWindow).document) } return t } function hasSelectionCapabilities(e) { var t = e && e.nodeName && e.nodeName.toLowerCase(); return t && ("input" === t && ("text" === e.type || "search" === e.type || "tel" === e.type || "url" === e.type || "password" === e.type) || "textarea" === t || "true" === e.contentEditable) } var skipSelectionChangeEvent = canUseDOM$1 && "documentMode" in document && 11 >= document.documentMode, activeElement = null, activeElementInst = null, lastSelection = null, mouseDown = !1; function constructSelectEvent(e, t, n) { var a = n.window === n ? n.document : 9 === n.nodeType ? n : n.ownerDocument; mouseDown || null == activeElement || activeElement !== getActiveElement(a) || (a = "selectionStart" in (a = activeElement) && hasSelectionCapabilities(a) ? { start: a.selectionStart, end: a.selectionEnd } : { anchorNode: (a = (a.ownerDocument && a.ownerDocument.defaultView || window).getSelection()).anchorNode, anchorOffset: a.anchorOffset, focusNode: a.focusNode, focusOffset: a.focusOffset }, lastSelection && shallowEqual(lastSelection, a) || (lastSelection = a, 0 < (a = accumulateTwoPhaseListeners(activeElementInst, "onSelect")).length && (t = new SyntheticEvent("onSelect", "select", null, t, n), e.push({ event: t, listeners: a }), t.target = activeElement))) } function makePrefixMap(e, t) { var n = {}; return n[e.toLowerCase()] = t.toLowerCase(), n["Webkit" + e] = "webkit" + t, n["Moz" + e] = "moz" + t, n } var vendorPrefixes = { animationend: makePrefixMap("Animation", "AnimationEnd"), animationiteration: makePrefixMap("Animation", "AnimationIteration"), animationstart: makePrefixMap("Animation", "AnimationStart"), transitionrun: makePrefixMap("Transition", "TransitionRun"), transitionstart: makePrefixMap("Transition", "TransitionStart"), transitioncancel: makePrefixMap("Transition", "TransitionCancel"), transitionend: makePrefixMap("Transition", "TransitionEnd") }, prefixedEventNames = {}, style = {}; function getVendorPrefixedEventName(e) { if (prefixedEventNames[e]) return prefixedEventNames[e]; if (!vendorPrefixes[e]) return e; var t, n = vendorPrefixes[e]; for (t in n) if (n.hasOwnProperty(t) && t in style) return prefixedEventNames[e] = n[t]; return e } canUseDOM$1 && (style = document.createElement("div").style, "AnimationEvent" in window || (delete vendorPrefixes.animationend.animation, delete vendorPrefixes.animationiteration.animation, delete vendorPrefixes.animationstart.animation), "TransitionEvent" in window || delete vendorPrefixes.transitionend.transition); var ANIMATION_END = getVendorPrefixedEventName("animationend"), ANIMATION_ITERATION = getVendorPrefixedEventName("animationiteration"), ANIMATION_START = getVendorPrefixedEventName("animationstart"), TRANSITION_RUN = getVendorPrefixedEventName("transitionrun"), TRANSITION_START = getVendorPrefixedEventName("transitionstart"), TRANSITION_CANCEL = getVendorPrefixedEventName("transitioncancel"), TRANSITION_END = getVendorPrefixedEventName("transitionend"), topLevelEventsToReactNames = new Map, simpleEventPluginEvents = "abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" "); function registerSimpleEvent(e, t) { topLevelEventsToReactNames.set(e, t), registerTwoPhaseEvent(t, [e]) } simpleEventPluginEvents.push("scrollEnd"); var CapturedStacks = new WeakMap; function createCapturedValueAtFiber(e, t) { if ("object" == typeof e && null !== e) { var n = CapturedStacks.get(e); return void 0 !== n ? n : (t = { value: e, source: t, stack: getStackByFiberInDevAndProd(t) }, CapturedStacks.set(e, t), t) } return { value: e, source: t, stack: getStackByFiberInDevAndProd(t) } } var concurrentQueues = [], concurrentQueuesIndex = 0, concurrentlyUpdatedLanes = 0; function finishQueueingConcurrentUpdates() { for (var e = concurrentQueuesIndex, t = concurrentlyUpdatedLanes = concurrentQueuesIndex = 0; t < e;) { var n = concurrentQueues[t]; concurrentQueues[t++] = null; var a = concurrentQueues[t]; concurrentQueues[t++] = null; var r = concurrentQueues[t]; concurrentQueues[t++] = null; var s = concurrentQueues[t]; if (concurrentQueues[t++] = null, null !== a && null !== r) { var i = a.pending; null === i ? r.next = r : (r.next = i.next, i.next = r), a.pending = r } 0 !== s && markUpdateLaneFromFiberToRoot(n, r, s) } } function enqueueUpdate$1(e, t, n, a) { concurrentQueues[concurrentQueuesIndex++] = e, concurrentQueues[concurrentQueuesIndex++] = t, concurrentQueues[concurrentQueuesIndex++] = n, concurrentQueues[concurrentQueuesIndex++] = a, concurrentlyUpdatedLanes |= a, e.lanes |= a, null !== (e = e.alternate) && (e.lanes |= a) } function enqueueConcurrentHookUpdate(e, t, n, a) { return enqueueUpdate$1(e, t, n, a), getRootForUpdatedFiber(e) } function enqueueConcurrentRenderForLane(e, t) { return enqueueUpdate$1(e, null, null, t), getRootForUpdatedFiber(e) } function markUpdateLaneFromFiberToRoot(e, t, n) { e.lanes |= n; var a = e.alternate; null !== a && (a.lanes |= n); for (var r = !1, s = e.return; null !== s;)s.childLanes |= n, null !== (a = s.alternate) && (a.childLanes |= n), 22 === s.tag && (null === (e = s.stateNode) || 1 & e._visibility || (r = !0)), e = s, s = s.return; return 3 === e.tag ? (s = e.stateNode, r && null !== t && (r = 31 - clz32(n), null === (a = (e = s.hiddenUpdates)[r]) ? e[r] = [t] : a.push(t), t.lane = 536870912 | n), s) : null } function getRootForUpdatedFiber(e) { if (50 < nestedUpdateCount) throw nestedUpdateCount = 0, rootWithNestedUpdates = null, Error(formatProdErrorMessage$1(185)); for (var t = e.return; null !== t;)t = (e = t).return; return 3 === e.tag ? e.stateNode : null } var emptyContextObject = {}; function FiberNode(e, t, n, a) { this.tag = e, this.key = n, this.sibling = this.child = this.return = this.stateNode = this.type = this.elementType = null, this.index = 0, this.refCleanup = this.ref = null, this.pendingProps = t, this.dependencies = this.memoizedState = this.updateQueue = this.memoizedProps = null, this.mode = a, this.subtreeFlags = this.flags = 0, this.deletions = null, this.childLanes = this.lanes = 0, this.alternate = null } function createFiberImplClass(e, t, n, a) { return new FiberNode(e, t, n, a) } function shouldConstruct(e) { return !(!(e = e.prototype) || !e.isReactComponent) } function createWorkInProgress(e, t) { var n = e.alternate; return null === n ? ((n = createFiberImplClass(e.tag, t, e.key, e.mode)).elementType = e.elementType, n.type = e.type, n.stateNode = e.stateNode, n.alternate = e, e.alternate = n) : (n.pendingProps = t, n.type = e.type, n.flags = 0, n.subtreeFlags = 0, n.deletions = null), n.flags = 65011712 & e.flags, n.childLanes = e.childLanes, n.lanes = e.lanes, n.child = e.child, n.memoizedProps = e.memoizedProps, n.memoizedState = e.memoizedState, n.updateQueue = e.updateQueue, t = e.dependencies, n.dependencies = null === t ? null : { lanes: t.lanes, firstContext: t.firstContext }, n.sibling = e.sibling, n.index = e.index, n.ref = e.ref, n.refCleanup = e.refCleanup, n } function resetWorkInProgress(e, t) { e.flags &= 65011714; var n = e.alternate; return null === n ? (e.childLanes = 0, e.lanes = t, e.child = null, e.subtreeFlags = 0, e.memoizedProps = null, e.memoizedState = null, e.updateQueue = null, e.dependencies = null, e.stateNode = null) : (e.childLanes = n.childLanes, e.lanes = n.lanes, e.child = n.child, e.subtreeFlags = 0, e.deletions = null, e.memoizedProps = n.memoizedProps, e.memoizedState = n.memoizedState, e.updateQueue = n.updateQueue, e.type = n.type, t = n.dependencies, e.dependencies = null === t ? null : { lanes: t.lanes, firstContext: t.firstContext }), e } function createFiberFromTypeAndProps(e, t, n, a, r, s) { var i = 0; if (a = e, "function" == typeof e) shouldConstruct(e) && (i = 1); else if ("string" == typeof e) i = isHostHoistableType(e, n, contextStackCursor.current) ? 26 : "html" === e || "head" === e || "body" === e ? 27 : 5; else e: switch (e) { case REACT_ACTIVITY_TYPE: return (e = createFiberImplClass(31, n, t, r)).elementType = REACT_ACTIVITY_TYPE, e.lanes = s, e; case REACT_FRAGMENT_TYPE: return createFiberFromFragment(n.children, r, s, t); case REACT_STRICT_MODE_TYPE: i = 8, r |= 24; break; case REACT_PROFILER_TYPE: return (e = createFiberImplClass(12, n, t, 2 | r)).elementType = REACT_PROFILER_TYPE, e.lanes = s, e; case REACT_SUSPENSE_TYPE: return (e = createFiberImplClass(13, n, t, r)).elementType = REACT_SUSPENSE_TYPE, e.lanes = s, e; case REACT_SUSPENSE_LIST_TYPE: return (e = createFiberImplClass(19, n, t, r)).elementType = REACT_SUSPENSE_LIST_TYPE, e.lanes = s, e; default: if ("object" == typeof e && null !== e) switch (e.$$typeof) { case REACT_PROVIDER_TYPE: case REACT_CONTEXT_TYPE: i = 10; break e; case REACT_CONSUMER_TYPE: i = 9; break e; case REACT_FORWARD_REF_TYPE: i = 11; break e; case REACT_MEMO_TYPE: i = 14; break e; case REACT_LAZY_TYPE: i = 16, a = null; break e }i = 29, n = Error(formatProdErrorMessage$1(130, null === e ? "null" : typeof e, "")), a = null }return (t = createFiberImplClass(i, n, t, r)).elementType = e, t.type = a, t.lanes = s, t } function createFiberFromFragment(e, t, n, a) { return (e = createFiberImplClass(7, e, a, t)).lanes = n, e } function createFiberFromText(e, t, n) { return (e = createFiberImplClass(6, e, null, t)).lanes = n, e } function createFiberFromPortal(e, t, n) { return (t = createFiberImplClass(4, null !== e.children ? e.children : [], e.key, t)).lanes = n, t.stateNode = { containerInfo: e.containerInfo, pendingChildren: null, implementation: e.implementation }, t } var forkStack = [], forkStackIndex = 0, treeForkProvider = null, treeForkCount = 0, idStack = [], idStackIndex = 0, treeContextProvider = null, treeContextId = 1, treeContextOverflow = ""; function pushTreeFork(e, t) { forkStack[forkStackIndex++] = treeForkCount, forkStack[forkStackIndex++] = treeForkProvider, treeForkProvider = e, treeForkCount = t } function pushTreeId(e, t, n) { idStack[idStackIndex++] = treeContextId, idStack[idStackIndex++] = treeContextOverflow, idStack[idStackIndex++] = treeContextProvider, treeContextProvider = e; var a = treeContextId; e = treeContextOverflow; var r = 32 - clz32(a) - 1; a &= ~(1 << r), n += 1; var s = 32 - clz32(t) + r; if (30 < s) { var i = r - r % 5; s = (a & (1 << i) - 1).toString(32), a >>= i, r -= i, treeContextId = 1 << 32 - clz32(t) + r | n << r | a, treeContextOverflow = s + e } else treeContextId = 1 << s | n << r | a, treeContextOverflow = e } function pushMaterializedTreeId(e) { null !== e.return && (pushTreeFork(e, 1), pushTreeId(e, 1, 0)) } function popTreeContext(e) { for (; e === treeForkProvider;)treeForkProvider = forkStack[--forkStackIndex], forkStack[forkStackIndex] = null, treeForkCount = forkStack[--forkStackIndex], forkStack[forkStackIndex] = null; for (; e === treeContextProvider;)treeContextProvider = idStack[--idStackIndex], idStack[idStackIndex] = null, treeContextOverflow = idStack[--idStackIndex], idStack[idStackIndex] = null, treeContextId = idStack[--idStackIndex], idStack[idStackIndex] = null } var hydrationParentFiber = null, nextHydratableInstance = null, isHydrating = !1, hydrationErrors = null, rootOrSingletonContext = !1, HydrationMismatchException = Error(formatProdErrorMessage$1(519)); function throwOnHydrationMismatch(e) { throw queueHydrationError(createCapturedValueAtFiber(Error(formatProdErrorMessage$1(418, "")), e)), HydrationMismatchException } function prepareToHydrateHostInstance(e) { var t = e.stateNode, n = e.type, a = e.memoizedProps; switch (t[internalInstanceKey] = e, t[internalPropsKey] = a, n) { case "dialog": listenToNonDelegatedEvent("cancel", t), listenToNonDelegatedEvent("close", t); break; case "iframe": case "object": case "embed": listenToNonDelegatedEvent("load", t); break; case "video": case "audio": for (n = 0; n < mediaEventTypes.length; n++)listenToNonDelegatedEvent(mediaEventTypes[n], t); break; case "source": listenToNonDelegatedEvent("error", t); break; case "img": case "image": case "link": listenToNonDelegatedEvent("error", t), listenToNonDelegatedEvent("load", t); break; case "details": listenToNonDelegatedEvent("toggle", t); break; case "input": listenToNonDelegatedEvent("invalid", t), initInput(t, a.value, a.defaultValue, a.checked, a.defaultChecked, a.type, a.name, !0), track(t); break; case "select": listenToNonDelegatedEvent("invalid", t); break; case "textarea": listenToNonDelegatedEvent("invalid", t), initTextarea(t, a.value, a.defaultValue, a.children), track(t) }"string" != typeof (n = a.children) && "number" != typeof n && "bigint" != typeof n || t.textContent === "" + n || !0 === a.suppressHydrationWarning || checkForUnmatchedText(t.textContent, n) ? (null != a.popover && (listenToNonDelegatedEvent("beforetoggle", t), listenToNonDelegatedEvent("toggle", t)), null != a.onScroll && listenToNonDelegatedEvent("scroll", t), null != a.onScrollEnd && listenToNonDelegatedEvent("scrollend", t), null != a.onClick && (t.onclick = noop$1), t = !0) : t = !1, t || throwOnHydrationMismatch(e) } function popToNextHostParent(e) { for (hydrationParentFiber = e.return; hydrationParentFiber;)switch (hydrationParentFiber.tag) { case 5: case 13: return void (rootOrSingletonContext = !1); case 27: case 3: return void (rootOrSingletonContext = !0); default: hydrationParentFiber = hydrationParentFiber.return } } function popHydrationState(e) { if (e !== hydrationParentFiber) return !1; if (!isHydrating) return popToNextHostParent(e), isHydrating = !0, !1; var t, n = e.tag; if ((t = 3 !== n && 27 !== n) && ((t = 5 === n) && (t = !("form" !== (t = e.type) && "button" !== t) || shouldSetTextContent(e.type, e.memoizedProps)), t = !t), t && nextHydratableInstance && throwOnHydrationMismatch(e), popToNextHostParent(e), 13 === n) { if (!(e = null !== (e = e.memoizedState) ? e.dehydrated : null)) throw Error(formatProdErrorMessage$1(317)); e: { for (e = e.nextSibling, n = 0; e;) { if (8 === e.nodeType) if ("/$" === (t = e.data)) { if (0 === n) { nextHydratableInstance = getNextHydratable(e.nextSibling); break e } n-- } else "$" !== t && "$!" !== t && "$?" !== t || n++; e = e.nextSibling } nextHydratableInstance = null } } else 27 === n ? (n = nextHydratableInstance, isSingletonScope(e.type) ? (e = previousHydratableOnEnteringScopedSingleton, previousHydratableOnEnteringScopedSingleton = null, nextHydratableInstance = e) : nextHydratableInstance = n) : nextHydratableInstance = hydrationParentFiber ? getNextHydratable(e.stateNode.nextSibling) : null; return !0 } function resetHydrationState() { nextHydratableInstance = hydrationParentFiber = null, isHydrating = !1 } function upgradeHydrationErrorsToRecoverable() { var e = hydrationErrors; return null !== e && (null === workInProgressRootRecoverableErrors ? workInProgressRootRecoverableErrors = e : workInProgressRootRecoverableErrors.push.apply(workInProgressRootRecoverableErrors, e), hydrationErrors = null), e } function queueHydrationError(e) { null === hydrationErrors ? hydrationErrors = [e] : hydrationErrors.push(e) } var valueCursor = createCursor(null), currentlyRenderingFiber$1 = null, lastContextDependency = null; function pushProvider(e, t, n) { push(valueCursor, t._currentValue), t._currentValue = n } function popProvider(e) { e._currentValue = valueCursor.current, pop(valueCursor) } function scheduleContextWorkOnParentPath(e, t, n) { for (; null !== e;) { var a = e.alternate; if ((e.childLanes & t) !== t ? (e.childLanes |= t, null !== a && (a.childLanes |= t)) : null !== a && (a.childLanes & t) !== t && (a.childLanes |= t), e === n) break; e = e.return } } function propagateContextChanges(e, t, n, a) { var r = e.child; for (null !== r && (r.return = e); null !== r;) { var s = r.dependencies; if (null !== s) { var i = r.child; s = s.firstContext; e: for (; null !== s;) { var o = s; s = r; for (var l = 0; l < t.length; l++)if (o.context === t[l]) { s.lanes |= n, null !== (o = s.alternate) && (o.lanes |= n), scheduleContextWorkOnParentPath(s.return, n, e), a || (i = null); break e } s = o.next } } else if (18 === r.tag) { if (null === (i = r.return)) throw Error(formatProdErrorMessage$1(341)); i.lanes |= n, null !== (s = i.alternate) && (s.lanes |= n), scheduleContextWorkOnParentPath(i, n, e), i = null } else i = r.child; if (null !== i) i.return = r; else for (i = r; null !== i;) { if (i === e) { i = null; break } if (null !== (r = i.sibling)) { r.return = i.return, i = r; break } i = i.return } r = i } } function propagateParentContextChanges(e, t, n, a) { e = null; for (var r = t, s = !1; null !== r;) { if (!s) if (524288 & r.flags) s = !0; else if (262144 & r.flags) break; if (10 === r.tag) { var i = r.alternate; if (null === i) throw Error(formatProdErrorMessage$1(387)); if (null !== (i = i.memoizedProps)) { var o = r.type; objectIs(r.pendingProps.value, i.value) || (null !== e ? e.push(o) : e = [o]) } } else if (r === hostTransitionProviderCursor.current) { if (null === (i = r.alternate)) throw Error(formatProdErrorMessage$1(387)); i.memoizedState.memoizedState !== r.memoizedState.memoizedState && (null !== e ? e.push(HostTransitionContext) : e = [HostTransitionContext]) } r = r.return } null !== e && propagateContextChanges(t, e, n, a), t.flags |= 262144 } function checkIfContextChanged(e) { for (e = e.firstContext; null !== e;) { if (!objectIs(e.context._currentValue, e.memoizedValue)) return !0; e = e.next } return !1 } function prepareToReadContext(e) { currentlyRenderingFiber$1 = e, lastContextDependency = null, null !== (e = e.dependencies) && (e.firstContext = null) } function readContext(e) { return readContextForConsumer(currentlyRenderingFiber$1, e) } function readContextDuringReconciliation(e, t) { return null === currentlyRenderingFiber$1 && prepareToReadContext(e), readContextForConsumer(e, t) } function readContextForConsumer(e, t) { var n = t._currentValue; if (t = { context: t, memoizedValue: n, next: null }, null === lastContextDependency) { if (null === e) throw Error(formatProdErrorMessage$1(308)); lastContextDependency = t, e.dependencies = { lanes: 0, firstContext: t }, e.flags |= 524288 } else lastContextDependency = lastContextDependency.next = t; return n } var AbortControllerLocal = "undefined" != typeof AbortController ? AbortController : function () { var e = [], t = this.signal = { aborted: !1, addEventListener: function (t, n) { e.push(n) } }; this.abort = function () { t.aborted = !0, e.forEach(function (e) { return e() }) } }, scheduleCallback$2 = Scheduler.unstable_scheduleCallback, NormalPriority = Scheduler.unstable_NormalPriority, CacheContext = { $$typeof: REACT_CONTEXT_TYPE, Consumer: null, Provider: null, _currentValue: null, _currentValue2: null, _threadCount: 0 }; function createCache() { return { controller: new AbortControllerLocal, data: new Map, refCount: 0 } } function releaseCache(e) { e.refCount--, 0 === e.refCount && scheduleCallback$2(NormalPriority, function () { e.controller.abort() }) } var currentEntangledListeners = null, currentEntangledPendingCount = 0, currentEntangledLane = 0, currentEntangledActionThenable = null; function entangleAsyncAction(e, t) { if (null === currentEntangledListeners) { var n = currentEntangledListeners = []; currentEntangledPendingCount = 0, currentEntangledLane = requestTransitionLane(), currentEntangledActionThenable = { status: "pending", value: void 0, then: function (e) { n.push(e) } } } return currentEntangledPendingCount++, t.then(pingEngtangledActionScope, pingEngtangledActionScope), t } function pingEngtangledActionScope() { if (0 === --currentEntangledPendingCount && null !== currentEntangledListeners) { null !== currentEntangledActionThenable && (currentEntangledActionThenable.status = "fulfilled"); var e = currentEntangledListeners; currentEntangledListeners = null, currentEntangledLane = 0, currentEntangledActionThenable = null; for (var t = 0; t < e.length; t++)(0, e[t])() } } function chainThenableValue(e, t) { var n = [], a = { status: "pending", value: null, reason: null, then: function (e) { n.push(e) } }; return e.then(function () { a.status = "fulfilled", a.value = t; for (var e = 0; e < n.length; e++)(0, n[e])(t) }, function (e) { for (a.status = "rejected", a.reason = e, e = 0; e < n.length; e++)(0, n[e])(void 0) }), a } var prevOnStartTransitionFinish = ReactSharedInternals.S; ReactSharedInternals.S = function (e, t) { "object" == typeof t && null !== t && "function" == typeof t.then && entangleAsyncAction(e, t), null !== prevOnStartTransitionFinish && prevOnStartTransitionFinish(e, t) }; var resumedCache = createCursor(null); function peekCacheFromPool() { var e = resumedCache.current; return null !== e ? e : workInProgressRoot.pooledCache } function pushTransition(e, t) { push(resumedCache, null === t ? resumedCache.current : t.pool) } function getSuspendedCache() { var e = peekCacheFromPool(); return null === e ? null : { parent: CacheContext._currentValue, pool: e } } var SuspenseException = Error(formatProdErrorMessage$1(460)), SuspenseyCommitException = Error(formatProdErrorMessage$1(474)), SuspenseActionException = Error(formatProdErrorMessage$1(542)), noopSuspenseyCommitThenable = { then: function () { } }; function isThenableResolved(e) { return "fulfilled" === (e = e.status) || "rejected" === e } function noop$3() { } function trackUsedThenable(e, t, n) { switch (void 0 === (n = e[n]) ? e.push(t) : n !== t && (t.then(noop$3, noop$3), t = n), t.status) { case "fulfilled": return t.value; case "rejected": throw checkIfUseWrappedInAsyncCatch(e = t.reason), e; default: if ("string" == typeof t.status) t.then(noop$3, noop$3); else { if (null !== (e = workInProgressRoot) && 100 < e.shellSuspendCounter) throw Error(formatProdErrorMessage$1(482)); (e = t).status = "pending", e.then(function (e) { if ("pending" === t.status) { var n = t; n.status = "fulfilled", n.value = e } }, function (e) { if ("pending" === t.status) { var n = t; n.status = "rejected", n.reason = e } }) } switch (t.status) { case "fulfilled": return t.value; case "rejected": throw checkIfUseWrappedInAsyncCatch(e = t.reason), e }throw suspendedThenable = t, SuspenseException } } var suspendedThenable = null; function getSuspendedThenable() { if (null === suspendedThenable) throw Error(formatProdErrorMessage$1(459)); var e = suspendedThenable; return suspendedThenable = null, e } function checkIfUseWrappedInAsyncCatch(e) { if (e === SuspenseException || e === SuspenseActionException) throw Error(formatProdErrorMessage$1(483)) } var hasForceUpdate = !1; function initializeUpdateQueue(e) { e.updateQueue = { baseState: e.memoizedState, firstBaseUpdate: null, lastBaseUpdate: null, shared: { pending: null, lanes: 0, hiddenCallbacks: null }, callbacks: null } } function cloneUpdateQueue(e, t) { e = e.updateQueue, t.updateQueue === e && (t.updateQueue = { baseState: e.baseState, firstBaseUpdate: e.firstBaseUpdate, lastBaseUpdate: e.lastBaseUpdate, shared: e.shared, callbacks: null }) } function createUpdate(e) { return { lane: e, tag: 0, payload: null, callback: null, next: null } } function enqueueUpdate(e, t, n) { var a = e.updateQueue; if (null === a) return null; if (a = a.shared, 2 & executionContext) { var r = a.pending; return null === r ? t.next = t : (t.next = r.next, r.next = t), a.pending = t, t = getRootForUpdatedFiber(e), markUpdateLaneFromFiberToRoot(e, null, n), t } return enqueueUpdate$1(e, a, t, n), getRootForUpdatedFiber(e) } function entangleTransitions(e, t, n) { if (null !== (t = t.updateQueue) && (t = t.shared, 4194048 & n)) { var a = t.lanes; n |= a &= e.pendingLanes, t.lanes = n, markRootEntangled(e, n) } } function enqueueCapturedUpdate(e, t) { var n = e.updateQueue, a = e.alternate; if (null !== a && n === (a = a.updateQueue)) { var r = null, s = null; if (null !== (n = n.firstBaseUpdate)) { do { var i = { lane: n.lane, tag: n.tag, payload: n.payload, callback: null, next: null }; null === s ? r = s = i : s = s.next = i, n = n.next } while (null !== n); null === s ? r = s = t : s = s.next = t } else r = s = t; return n = { baseState: a.baseState, firstBaseUpdate: r, lastBaseUpdate: s, shared: a.shared, callbacks: a.callbacks }, void (e.updateQueue = n) } null === (e = n.lastBaseUpdate) ? n.firstBaseUpdate = t : e.next = t, n.lastBaseUpdate = t } var didReadFromEntangledAsyncAction = !1; function suspendIfUpdateReadFromEntangledAsyncAction() { if (didReadFromEntangledAsyncAction && null !== currentEntangledActionThenable) throw currentEntangledActionThenable } function processUpdateQueue(e, t, n, a) { didReadFromEntangledAsyncAction = !1; var r = e.updateQueue; hasForceUpdate = !1; var s = r.firstBaseUpdate, i = r.lastBaseUpdate, o = r.shared.pending; if (null !== o) { r.shared.pending = null; var l = o, m = l.next; l.next = null, null === i ? s = m : i.next = m, i = l; var c = e.alternate; null !== c && (o = (c = c.updateQueue).lastBaseUpdate) !== i && (null === o ? c.firstBaseUpdate = m : o.next = m, c.lastBaseUpdate = l) } if (null !== s) { var u = r.baseState; for (i = 0, c = m = l = null, o = s; ;) { var A = -536870913 & o.lane, p = A !== o.lane; if (p ? (workInProgressRootRenderLanes & A) === A : (a & A) === A) { 0 !== A && A === currentEntangledLane && (didReadFromEntangledAsyncAction = !0), null !== c && (c = c.next = { lane: 0, tag: o.tag, payload: o.payload, callback: null, next: null }); e: { var d = e, _ = o; A = t; var v = n; switch (_.tag) { case 1: if ("function" == typeof (d = _.payload)) { u = d.call(v, u, A); break e } u = d; break e; case 3: d.flags = -65537 & d.flags | 128; case 0: if (null == (A = "function" == typeof (d = _.payload) ? d.call(v, u, A) : d)) break e; u = assign({}, u, A); break e; case 2: hasForceUpdate = !0 } } null !== (A = o.callback) && (e.flags |= 64, p && (e.flags |= 8192), null === (p = r.callbacks) ? r.callbacks = [A] : p.push(A)) } else p = { lane: A, tag: o.tag, payload: o.payload, callback: o.callback, next: null }, null === c ? (m = c = p, l = u) : c = c.next = p, i |= A; if (null === (o = o.next)) { if (null === (o = r.shared.pending)) break; o = (p = o).next, p.next = null, r.lastBaseUpdate = p, r.shared.pending = null } } null === c && (l = u), r.baseState = l, r.firstBaseUpdate = m, r.lastBaseUpdate = c, null === s && (r.shared.lanes = 0), workInProgressRootSkippedLanes |= i, e.lanes = i, e.memoizedState = u } } function callCallback(e, t) { if ("function" != typeof e) throw Error(formatProdErrorMessage$1(191, e)); e.call(t) } function commitCallbacks(e, t) { var n = e.callbacks; if (null !== n) for (e.callbacks = null, e = 0; e < n.length; e++)callCallback(n[e], t) } var currentTreeHiddenStackCursor = createCursor(null), prevEntangledRenderLanesCursor = createCursor(0); function pushHiddenContext(e, t) { push(prevEntangledRenderLanesCursor, e = entangledRenderLanes), push(currentTreeHiddenStackCursor, t), entangledRenderLanes = e | t.baseLanes } function reuseHiddenContextOnStack() { push(prevEntangledRenderLanesCursor, entangledRenderLanes), push(currentTreeHiddenStackCursor, currentTreeHiddenStackCursor.current) } function popHiddenContext() { entangledRenderLanes = prevEntangledRenderLanesCursor.current, pop(currentTreeHiddenStackCursor), pop(prevEntangledRenderLanesCursor) } var renderLanes = 0, currentlyRenderingFiber = null, currentHook = null, workInProgressHook = null, didScheduleRenderPhaseUpdate = !1, didScheduleRenderPhaseUpdateDuringThisPass = !1, shouldDoubleInvokeUserFnsInHooksDEV = !1, localIdCounter = 0, thenableIndexCounter$1 = 0, thenableState$1 = null, globalClientIdCounter = 0; function throwInvalidHookError() { throw Error(formatProdErrorMessage$1(321)) } function areHookInputsEqual(e, t) { if (null === t) return !1; for (var n = 0; n < t.length && n < e.length; n++)if (!objectIs(e[n], t[n])) return !1; return !0 } function renderWithHooks(e, t, n, a, r, s) { return renderLanes = s, currentlyRenderingFiber = t, t.memoizedState = null, t.updateQueue = null, t.lanes = 0, ReactSharedInternals.H = null === e || null === e.memoizedState ? HooksDispatcherOnMount : HooksDispatcherOnUpdate, shouldDoubleInvokeUserFnsInHooksDEV = !1, s = n(a, r), shouldDoubleInvokeUserFnsInHooksDEV = !1, didScheduleRenderPhaseUpdateDuringThisPass && (s = renderWithHooksAgain(t, n, a, r)), finishRenderingHooks(e), s } function finishRenderingHooks(e) { ReactSharedInternals.H = ContextOnlyDispatcher; var t = null !== currentHook && null !== currentHook.next; if (renderLanes = 0, workInProgressHook = currentHook = currentlyRenderingFiber = null, didScheduleRenderPhaseUpdate = !1, thenableIndexCounter$1 = 0, thenableState$1 = null, t) throw Error(formatProdErrorMessage$1(300)); null === e || didReceiveUpdate || null !== (e = e.dependencies) && checkIfContextChanged(e) && (didReceiveUpdate = !0) } function renderWithHooksAgain(e, t, n, a) { currentlyRenderingFiber = e; var r = 0; do { if (didScheduleRenderPhaseUpdateDuringThisPass && (thenableState$1 = null), thenableIndexCounter$1 = 0, didScheduleRenderPhaseUpdateDuringThisPass = !1, 25 <= r) throw Error(formatProdErrorMessage$1(301)); if (r += 1, workInProgressHook = currentHook = null, null != e.updateQueue) { var s = e.updateQueue; s.lastEffect = null, s.events = null, s.stores = null, null != s.memoCache && (s.memoCache.index = 0) } ReactSharedInternals.H = HooksDispatcherOnRerender, s = t(n, a) } while (didScheduleRenderPhaseUpdateDuringThisPass); return s } function TransitionAwareHostComponent() { var e = ReactSharedInternals.H, t = e.useState()[0]; return t = "function" == typeof t.then ? useThenable(t) : t, e = e.useState()[0], (null !== currentHook ? currentHook.memoizedState : null) !== e && (currentlyRenderingFiber.flags |= 1024), t } function checkDidRenderIdHook() { var e = 0 !== localIdCounter; return localIdCounter = 0, e } function bailoutHooks(e, t, n) { t.updateQueue = e.updateQueue, t.flags &= -2053, e.lanes &= ~n } function resetHooksOnUnwind(e) { if (didScheduleRenderPhaseUpdate) { for (e = e.memoizedState; null !== e;) { var t = e.queue; null !== t && (t.pending = null), e = e.next } didScheduleRenderPhaseUpdate = !1 } renderLanes = 0, workInProgressHook = currentHook = currentlyRenderingFiber = null, didScheduleRenderPhaseUpdateDuringThisPass = !1, thenableIndexCounter$1 = localIdCounter = 0, thenableState$1 = null } function mountWorkInProgressHook() { var e = { memoizedState: null, baseState: null, baseQueue: null, queue: null, next: null }; return null === workInProgressHook ? currentlyRenderingFiber.memoizedState = workInProgressHook = e : workInProgressHook = workInProgressHook.next = e, workInProgressHook } function updateWorkInProgressHook() { if (null === currentHook) { var e = currentlyRenderingFiber.alternate; e = null !== e ? e.memoizedState : null } else e = currentHook.next; var t = null === workInProgressHook ? currentlyRenderingFiber.memoizedState : workInProgressHook.next; if (null !== t) workInProgressHook = t, currentHook = e; else { if (null === e) { if (null === currentlyRenderingFiber.alternate) throw Error(formatProdErrorMessage$1(467)); throw Error(formatProdErrorMessage$1(310)) } e = { memoizedState: (currentHook = e).memoizedState, baseState: currentHook.baseState, baseQueue: currentHook.baseQueue, queue: currentHook.queue, next: null }, null === workInProgressHook ? currentlyRenderingFiber.memoizedState = workInProgressHook = e : workInProgressHook = workInProgressHook.next = e } return workInProgressHook } function createFunctionComponentUpdateQueue() { return { lastEffect: null, events: null, stores: null, memoCache: null } } function useThenable(e) { var t = thenableIndexCounter$1; return thenableIndexCounter$1 += 1, null === thenableState$1 && (thenableState$1 = []), e = trackUsedThenable(thenableState$1, e, t), t = currentlyRenderingFiber, null === (null === workInProgressHook ? t.memoizedState : workInProgressHook.next) && (t = t.alternate, ReactSharedInternals.H = null === t || null === t.memoizedState ? HooksDispatcherOnMount : HooksDispatcherOnUpdate), e } function use(e) { if (null !== e && "object" == typeof e) { if ("function" == typeof e.then) return useThenable(e); if (e.$$typeof === REACT_CONTEXT_TYPE) return readContext(e) } throw Error(formatProdErrorMessage$1(438, String(e))) } function useMemoCache(e) { var t = null, n = currentlyRenderingFiber.updateQueue; if (null !== n && (t = n.memoCache), null == t) { var a = currentlyRenderingFiber.alternate; null !== a && null !== (a = a.updateQueue) && null != (a = a.memoCache) && (t = { data: a.data.map(function (e) { return e.slice() }), index: 0 }) } if (null == t && (t = { data: [], index: 0 }), null === n && (n = createFunctionComponentUpdateQueue(), currentlyRenderingFiber.updateQueue = n), n.memoCache = t, void 0 === (n = t.data[t.index])) for (n = t.data[t.index] = Array(e), a = 0; a < e; a++)n[a] = REACT_MEMO_CACHE_SENTINEL; return t.index++, n } function basicStateReducer(e, t) { return "function" == typeof t ? t(e) : t } function updateReducer(e) { return updateReducerImpl(updateWorkInProgressHook(), currentHook, e) } function updateReducerImpl(e, t, n) { var a = e.queue; if (null === a) throw Error(formatProdErrorMessage$1(311)); a.lastRenderedReducer = n; var r = e.baseQueue, s = a.pending; if (null !== s) { if (null !== r) { var i = r.next; r.next = s.next, s.next = i } t.baseQueue = r = s, a.pending = null } if (s = e.baseState, null === r) e.memoizedState = s; else { var o = i = null, l = null, m = t = r.next, c = !1; do { var u = -536870913 & m.lane; if (u !== m.lane ? (workInProgressRootRenderLanes & u) === u : (renderLanes & u) === u) { var A = m.revertLane; if (0 === A) null !== l && (l = l.next = { lane: 0, revertLane: 0, action: m.action, hasEagerState: m.hasEagerState, eagerState: m.eagerState, next: null }), u === currentEntangledLane && (c = !0); else { if ((renderLanes & A) === A) { m = m.next, A === currentEntangledLane && (c = !0); continue } u = { lane: 0, revertLane: m.revertLane, action: m.action, hasEagerState: m.hasEagerState, eagerState: m.eagerState, next: null }, null === l ? (o = l = u, i = s) : l = l.next = u, currentlyRenderingFiber.lanes |= A, workInProgressRootSkippedLanes |= A } u = m.action, shouldDoubleInvokeUserFnsInHooksDEV && n(s, u), s = m.hasEagerState ? m.eagerState : n(s, u) } else A = { lane: u, revertLane: m.revertLane, action: m.action, hasEagerState: m.hasEagerState, eagerState: m.eagerState, next: null }, null === l ? (o = l = A, i = s) : l = l.next = A, currentlyRenderingFiber.lanes |= u, workInProgressRootSkippedLanes |= u; m = m.next } while (null !== m && m !== t); if (null === l ? i = s : l.next = o, !objectIs(s, e.memoizedState) && (didReceiveUpdate = !0, c && null !== (n = currentEntangledActionThenable))) throw n; e.memoizedState = s, e.baseState = i, e.baseQueue = l, a.lastRenderedState = s } return null === r && (a.lanes = 0), [e.memoizedState, a.dispatch] } function rerenderReducer(e) { var t = updateWorkInProgressHook(), n = t.queue; if (null === n) throw Error(formatProdErrorMessage$1(311)); n.lastRenderedReducer = e; var a = n.dispatch, r = n.pending, s = t.memoizedState; if (null !== r) { n.pending = null; var i = r = r.next; do { s = e(s, i.action), i = i.next } while (i !== r); objectIs(s, t.memoizedState) || (didReceiveUpdate = !0), t.memoizedState = s, null === t.baseQueue && (t.baseState = s), n.lastRenderedState = s } return [s, a] } function updateSyncExternalStore(e, t, n) { var a = currentlyRenderingFiber, r = updateWorkInProgressHook(), s = isHydrating; if (s) { if (void 0 === n) throw Error(formatProdErrorMessage$1(407)); n = n() } else n = t(); var i = !objectIs((currentHook || r).memoizedState, n); if (i && (r.memoizedState = n, didReceiveUpdate = !0), r = r.queue, updateEffectImpl(2048, 8, subscribeToStore.bind(null, a, r, e), [e]), r.getSnapshot !== t || i || null !== workInProgressHook && 1 & workInProgressHook.memoizedState.tag) { if (a.flags |= 2048, pushSimpleEffect(9, createEffectInstance(), updateStoreInstance.bind(null, a, r, n, t), null), null === workInProgressRoot) throw Error(formatProdErrorMessage$1(349)); s || 124 & renderLanes || pushStoreConsistencyCheck(a, t, n) } return n } function pushStoreConsistencyCheck(e, t, n) { e.flags |= 16384, e = { getSnapshot: t, value: n }, null === (t = currentlyRenderingFiber.updateQueue) ? (t = createFunctionComponentUpdateQueue(), currentlyRenderingFiber.updateQueue = t, t.stores = [e]) : null === (n = t.stores) ? t.stores = [e] : n.push(e) } function updateStoreInstance(e, t, n, a) { t.value = n, t.getSnapshot = a, checkIfSnapshotChanged(t) && forceStoreRerender(e) } function subscribeToStore(e, t, n) { return n(function () { checkIfSnapshotChanged(t) && forceStoreRerender(e) }) } function checkIfSnapshotChanged(e) { var t = e.getSnapshot; e = e.value; try { var n = t(); return !objectIs(e, n) } catch (a) { return !0 } } function forceStoreRerender(e) { var t = enqueueConcurrentRenderForLane(e, 2); null !== t && scheduleUpdateOnFiber(t, e, 2) } function mountStateImpl(e) { var t = mountWorkInProgressHook(); if ("function" == typeof e) { var n = e; if (e = n(), shouldDoubleInvokeUserFnsInHooksDEV) { setIsStrictModeForDevtools(!0); try { n() } finally { setIsStrictModeForDevtools(!1) } } } return t.memoizedState = t.baseState = e, t.queue = { pending: null, lanes: 0, dispatch: null, lastRenderedReducer: basicStateReducer, lastRenderedState: e }, t } function updateOptimisticImpl(e, t, n, a) { return e.baseState = n, updateReducerImpl(e, currentHook, "function" == typeof a ? a : basicStateReducer) } function dispatchActionState(e, t, n, a, r) { if (isRenderPhaseUpdate(e)) throw Error(formatProdErrorMessage$1(485)); if (null !== (e = t.action)) { var s = { payload: r, action: e, next: null, isTransition: !0, status: "pending", value: null, reason: null, listeners: [], then: function (e) { s.listeners.push(e) } }; null !== ReactSharedInternals.T ? n(!0) : s.isTransition = !1, a(s), null === (n = t.pending) ? (s.next = t.pending = s, runActionStateAction(t, s)) : (s.next = n.next, t.pending = n.next = s) } } function runActionStateAction(e, t) { var n = t.action, a = t.payload, r = e.state; if (t.isTransition) { var s = ReactSharedInternals.T, i = {}; ReactSharedInternals.T = i; try { var o = n(r, a), l = ReactSharedInternals.S; null !== l && l(i, o), handleActionReturnValue(e, t, o) } catch (m) { onActionError(e, t, m) } finally { ReactSharedInternals.T = s } } else try { handleActionReturnValue(e, t, s = n(r, a)) } catch (c) { onActionError(e, t, c) } } function handleActionReturnValue(e, t, n) { null !== n && "object" == typeof n && "function" == typeof n.then ? n.then(function (n) { onActionSuccess(e, t, n) }, function (n) { return onActionError(e, t, n) }) : onActionSuccess(e, t, n) } function onActionSuccess(e, t, n) { t.status = "fulfilled", t.value = n, notifyActionListeners(t), e.state = n, null !== (t = e.pending) && ((n = t.next) === t ? e.pending = null : (n = n.next, t.next = n, runActionStateAction(e, n))) } function onActionError(e, t, n) { var a = e.pending; if (e.pending = null, null !== a) { a = a.next; do { t.status = "rejected", t.reason = n, notifyActionListeners(t), t = t.next } while (t !== a) } e.action = null } function notifyActionListeners(e) { e = e.listeners; for (var t = 0; t < e.length; t++)(0, e[t])() } function actionStateReducer(e, t) { return t } function mountActionState(e, t) { if (isHydrating) { var n = workInProgressRoot.formState; if (null !== n) { e: { var a = currentlyRenderingFiber; if (isHydrating) { if (nextHydratableInstance) { t: { for (var r = nextHydratableInstance, s = rootOrSingletonContext; 8 !== r.nodeType;) { if (!s) { r = null; break t } if (null === (r = getNextHydratable(r.nextSibling))) { r = null; break t } } r = "F!" === (s = r.data) || "F" === s ? r : null } if (r) { nextHydratableInstance = getNextHydratable(r.nextSibling), a = "F!" === r.data; break e } } throwOnHydrationMismatch(a) } a = !1 } a && (t = n[0]) } } return (n = mountWorkInProgressHook()).memoizedState = n.baseState = t, a = { pending: null, lanes: 0, dispatch: null, lastRenderedReducer: actionStateReducer, lastRenderedState: t }, n.queue = a, n = dispatchSetState.bind(null, currentlyRenderingFiber, a), a.dispatch = n, a = mountStateImpl(!1), s = dispatchOptimisticSetState.bind(null, currentlyRenderingFiber, !1, a.queue), r = { state: t, dispatch: null, action: e, pending: null }, (a = mountWorkInProgressHook()).queue = r, n = dispatchActionState.bind(null, currentlyRenderingFiber, r, s, n), r.dispatch = n, a.memoizedState = e, [t, n, !1] } function updateActionState(e) { return updateActionStateImpl(updateWorkInProgressHook(), currentHook, e) } function updateActionStateImpl(e, t, n) { if (t = updateReducerImpl(e, t, actionStateReducer)[0], e = updateReducer(basicStateReducer)[0], "object" == typeof t && null !== t && "function" == typeof t.then) try { var a = useThenable(t) } catch (x) { if (x === SuspenseException) throw SuspenseActionException; throw x } else a = t; var r = (t = updateWorkInProgressHook()).queue, s = r.dispatch; return n !== t.memoizedState && (currentlyRenderingFiber.flags |= 2048, pushSimpleEffect(9, createEffectInstance(), actionStateActionEffect.bind(null, r, n), null)), [a, s, e] } function actionStateActionEffect(e, t) { e.action = t } function rerenderActionState(e) { var t = updateWorkInProgressHook(), n = currentHook; if (null !== n) return updateActionStateImpl(t, n, e); updateWorkInProgressHook(), t = t.memoizedState; var a = (n = updateWorkInProgressHook()).queue.dispatch; return n.memoizedState = e, [t, a, !1] } function pushSimpleEffect(e, t, n, a) { return e = { tag: e, create: n, deps: a, inst: t, next: null }, null === (t = currentlyRenderingFiber.updateQueue) && (t = createFunctionComponentUpdateQueue(), currentlyRenderingFiber.updateQueue = t), null === (n = t.lastEffect) ? t.lastEffect = e.next = e : (a = n.next, n.next = e, e.next = a, t.lastEffect = e), e } function createEffectInstance() { return { destroy: void 0, resource: void 0 } } function updateRef() { return updateWorkInProgressHook().memoizedState } function mountEffectImpl(e, t, n, a) { var r = mountWorkInProgressHook(); a = void 0 === a ? null : a, currentlyRenderingFiber.flags |= e, r.memoizedState = pushSimpleEffect(1 | t, createEffectInstance(), n, a) } function updateEffectImpl(e, t, n, a) { var r = updateWorkInProgressHook(); a = void 0 === a ? null : a; var s = r.memoizedState.inst; null !== currentHook && null !== a && areHookInputsEqual(a, currentHook.memoizedState.deps) ? r.memoizedState = pushSimpleEffect(t, s, n, a) : (currentlyRenderingFiber.flags |= e, r.memoizedState = pushSimpleEffect(1 | t, s, n, a)) } function mountEffect(e, t) { mountEffectImpl(8390656, 8, e, t) } function updateEffect(e, t) { updateEffectImpl(2048, 8, e, t) } function updateInsertionEffect(e, t) { return updateEffectImpl(4, 2, e, t) } function updateLayoutEffect(e, t) { return updateEffectImpl(4, 4, e, t) } function imperativeHandleEffect(e, t) { if ("function" == typeof t) { e = e(); var n = t(e); return function () { "function" == typeof n ? n() : t(null) } } if (null != t) return e = e(), t.current = e, function () { t.current = null } } function updateImperativeHandle(e, t, n) { n = null != n ? n.concat([e]) : null, updateEffectImpl(4, 4, imperativeHandleEffect.bind(null, t, e), n) } function mountDebugValue() { } function updateCallback(e, t) { var n = updateWorkInProgressHook(); t = void 0 === t ? null : t; var a = n.memoizedState; return null !== t && areHookInputsEqual(t, a[1]) ? a[0] : (n.memoizedState = [e, t], e) } function updateMemo(e, t) { var n = updateWorkInProgressHook(); t = void 0 === t ? null : t; var a = n.memoizedState; if (null !== t && areHookInputsEqual(t, a[1])) return a[0]; if (a = e(), shouldDoubleInvokeUserFnsInHooksDEV) { setIsStrictModeForDevtools(!0); try { e() } finally { setIsStrictModeForDevtools(!1) } } return n.memoizedState = [a, t], a } function mountDeferredValueImpl(e, t, n) { return void 0 === n || 1073741824 & renderLanes ? e.memoizedState = t : (e.memoizedState = n, e = requestDeferredLane(), currentlyRenderingFiber.lanes |= e, workInProgressRootSkippedLanes |= e, n) } function updateDeferredValueImpl(e, t, n, a) { return objectIs(n, t) ? n : null !== currentTreeHiddenStackCursor.current ? (e = mountDeferredValueImpl(e, n, a), objectIs(e, t) || (didReceiveUpdate = !0), e) : 42 & renderLanes ? (e = requestDeferredLane(), currentlyRenderingFiber.lanes |= e, workInProgressRootSkippedLanes |= e, t) : (didReceiveUpdate = !0, e.memoizedState = n) } function startTransition(e, t, n, a, r) { var s = ReactDOMSharedInternals.p; ReactDOMSharedInternals.p = 0 !== s && 8 > s ? s : 8; var i = ReactSharedInternals.T, o = {}; ReactSharedInternals.T = o, dispatchOptimisticSetState(e, !1, t, n); try { var l = r(), m = ReactSharedInternals.S; null !== m && m(o, l), null !== l && "object" == typeof l && "function" == typeof l.then ? dispatchSetStateInternal(e, t, chainThenableValue(l, a), requestUpdateLane()) : dispatchSetStateInternal(e, t, a, requestUpdateLane()) } catch (c) { dispatchSetStateInternal(e, t, { then: function () { }, status: "rejected", reason: c }, requestUpdateLane()) } finally { ReactDOMSharedInternals.p = s, ReactSharedInternals.T = i } } function noop$2() { } function startHostTransition(e, t, n, a) { if (5 !== e.tag) throw Error(formatProdErrorMessage$1(476)); var r = ensureFormComponentIsStateful(e).queue; startTransition(e, r, t, sharedNotPendingObject, null === n ? noop$2 : function () { return requestFormReset$1(e), n(a) }) } function ensureFormComponentIsStateful(e) { var t = e.memoizedState; if (null !== t) return t; var n = {}; return (t = { memoizedState: sharedNotPendingObject, baseState: sharedNotPendingObject, baseQueue: null, queue: { pending: null, lanes: 0, dispatch: null, lastRenderedReducer: basicStateReducer, lastRenderedState: sharedNotPendingObject }, next: null }).next = { memoizedState: n, baseState: n, baseQueue: null, queue: { pending: null, lanes: 0, dispatch: null, lastRenderedReducer: basicStateReducer, lastRenderedState: n }, next: null }, e.memoizedState = t, null !== (e = e.alternate) && (e.memoizedState = t), t } function requestFormReset$1(e) { dispatchSetStateInternal(e, ensureFormComponentIsStateful(e).next.queue, {}, requestUpdateLane()) } function useHostTransitionStatus() { return readContext(HostTransitionContext) } function updateId() { return updateWorkInProgressHook().memoizedState } function updateRefresh() { return updateWorkInProgressHook().memoizedState } function refreshCache(e) { for (var t = e.return; null !== t;) { switch (t.tag) { case 24: case 3: var n = requestUpdateLane(), a = enqueueUpdate(t, e = createUpdate(n), n); return null !== a && (scheduleUpdateOnFiber(a, t, n), entangleTransitions(a, t, n)), t = { cache: createCache() }, void (e.payload = t) }t = t.return } } function dispatchReducerAction(e, t, n) { var a = requestUpdateLane(); n = { lane: a, revertLane: 0, action: n, hasEagerState: !1, eagerState: null, next: null }, isRenderPhaseUpdate(e) ? enqueueRenderPhaseUpdate(t, n) : null !== (n = enqueueConcurrentHookUpdate(e, t, n, a)) && (scheduleUpdateOnFiber(n, e, a), entangleTransitionUpdate(n, t, a)) } function dispatchSetState(e, t, n) { dispatchSetStateInternal(e, t, n, requestUpdateLane()) } function dispatchSetStateInternal(e, t, n, a) { var r = { lane: a, revertLane: 0, action: n, hasEagerState: !1, eagerState: null, next: null }; if (isRenderPhaseUpdate(e)) enqueueRenderPhaseUpdate(t, r); else { var s = e.alternate; if (0 === e.lanes && (null === s || 0 === s.lanes) && null !== (s = t.lastRenderedReducer)) try { var i = t.lastRenderedState, o = s(i, n); if (r.hasEagerState = !0, r.eagerState = o, objectIs(o, i)) return enqueueUpdate$1(e, t, r, 0), null === workInProgressRoot && finishQueueingConcurrentUpdates(), !1 } catch (l) { } if (null !== (n = enqueueConcurrentHookUpdate(e, t, r, a))) return scheduleUpdateOnFiber(n, e, a), entangleTransitionUpdate(n, t, a), !0 } return !1 } function dispatchOptimisticSetState(e, t, n, a) { if (a = { lane: 2, revertLane: requestTransitionLane(), action: a, hasEagerState: !1, eagerState: null, next: null }, isRenderPhaseUpdate(e)) { if (t) throw Error(formatProdErrorMessage$1(479)) } else null !== (t = enqueueConcurrentHookUpdate(e, n, a, 2)) && scheduleUpdateOnFiber(t, e, 2) } function isRenderPhaseUpdate(e) { var t = e.alternate; return e === currentlyRenderingFiber || null !== t && t === currentlyRenderingFiber } function enqueueRenderPhaseUpdate(e, t) { didScheduleRenderPhaseUpdateDuringThisPass = didScheduleRenderPhaseUpdate = !0; var n = e.pending; null === n ? t.next = t : (t.next = n.next, n.next = t), e.pending = t } function entangleTransitionUpdate(e, t, n) { if (4194048 & n) { var a = t.lanes; n |= a &= e.pendingLanes, t.lanes = n, markRootEntangled(e, n) } } var ContextOnlyDispatcher = { readContext: readContext, use: use, useCallback: throwInvalidHookError, useContext: throwInvalidHookError, useEffect: throwInvalidHookError, useImperativeHandle: throwInvalidHookError, useLayoutEffect: throwInvalidHookError, useInsertionEffect: throwInvalidHookError, useMemo: throwInvalidHookError, useReducer: throwInvalidHookError, useRef: throwInvalidHookError, useState: throwInvalidHookError, useDebugValue: throwInvalidHookError, useDeferredValue: throwInvalidHookError, useTransition: throwInvalidHookError, useSyncExternalStore: throwInvalidHookError, useId: throwInvalidHookError, useHostTransitionStatus: throwInvalidHookError, useFormState: throwInvalidHookError, useActionState: throwInvalidHookError, useOptimistic: throwInvalidHookError, useMemoCache: throwInvalidHookError, useCacheRefresh: throwInvalidHookError }, HooksDispatcherOnMount = { readContext: readContext, use: use, useCallback: function (e, t) { return mountWorkInProgressHook().memoizedState = [e, void 0 === t ? null : t], e }, useContext: readContext, useEffect: mountEffect, useImperativeHandle: function (e, t, n) { n = null != n ? n.concat([e]) : null, mountEffectImpl(4194308, 4, imperativeHandleEffect.bind(null, t, e), n) }, useLayoutEffect: function (e, t) { return mountEffectImpl(4194308, 4, e, t) }, useInsertionEffect: function (e, t) { mountEffectImpl(4, 2, e, t) }, useMemo: function (e, t) { var n = mountWorkInProgressHook(); t = void 0 === t ? null : t; var a = e(); if (shouldDoubleInvokeUserFnsInHooksDEV) { setIsStrictModeForDevtools(!0); try { e() } finally { setIsStrictModeForDevtools(!1) } } return n.memoizedState = [a, t], a }, useReducer: function (e, t, n) { var a = mountWorkInProgressHook(); if (void 0 !== n) { var r = n(t); if (shouldDoubleInvokeUserFnsInHooksDEV) { setIsStrictModeForDevtools(!0); try { n(t) } finally { setIsStrictModeForDevtools(!1) } } } else r = t; return a.memoizedState = a.baseState = r, e = { pending: null, lanes: 0, dispatch: null, lastRenderedReducer: e, lastRenderedState: r }, a.queue = e, e = e.dispatch = dispatchReducerAction.bind(null, currentlyRenderingFiber, e), [a.memoizedState, e] }, useRef: function (e) { return e = { current: e }, mountWorkInProgressHook().memoizedState = e }, useState: function (e) { var t = (e = mountStateImpl(e)).queue, n = dispatchSetState.bind(null, currentlyRenderingFiber, t); return t.dispatch = n, [e.memoizedState, n] }, useDebugValue: mountDebugValue, useDeferredValue: function (e, t) { return mountDeferredValueImpl(mountWorkInProgressHook(), e, t) }, useTransition: function () { var e = mountStateImpl(!1); return e = startTransition.bind(null, currentlyRenderingFiber, e.queue, !0, !1), mountWorkInProgressHook().memoizedState = e, [!1, e] }, useSyncExternalStore: function (e, t, n) { var a = currentlyRenderingFiber, r = mountWorkInProgressHook(); if (isHydrating) { if (void 0 === n) throw Error(formatProdErrorMessage$1(407)); n = n() } else { if (n = t(), null === workInProgressRoot) throw Error(formatProdErrorMessage$1(349)); 124 & workInProgressRootRenderLanes || pushStoreConsistencyCheck(a, t, n) } r.memoizedState = n; var s = { value: n, getSnapshot: t }; return r.queue = s, mountEffect(subscribeToStore.bind(null, a, s, e), [e]), a.flags |= 2048, pushSimpleEffect(9, createEffectInstance(), updateStoreInstance.bind(null, a, s, n, t), null), n }, useId: function () { var e = mountWorkInProgressHook(), t = workInProgressRoot.identifierPrefix; if (isHydrating) { var n = treeContextOverflow; t = "" + t + "R" + (n = (treeContextId & ~(1 << 32 - clz32(treeContextId) - 1)).toString(32) + n), 0 < (n = localIdCounter++) && (t += "H" + n.toString(32)), t += "" } else t = "" + t + "r" + (n = globalClientIdCounter++).toString(32) + ""; return e.memoizedState = t }, useHostTransitionStatus: useHostTransitionStatus, useFormState: mountActionState, useActionState: mountActionState, useOptimistic: function (e) { var t = mountWorkInProgressHook(); t.memoizedState = t.baseState = e; var n = { pending: null, lanes: 0, dispatch: null, lastRenderedReducer: null, lastRenderedState: null }; return t.queue = n, t = dispatchOptimisticSetState.bind(null, currentlyRenderingFiber, !0, n), n.dispatch = t, [e, t] }, useMemoCache: useMemoCache, useCacheRefresh: function () { return mountWorkInProgressHook().memoizedState = refreshCache.bind(null, currentlyRenderingFiber) } }, HooksDispatcherOnUpdate = { readContext: readContext, use: use, useCallback: updateCallback, useContext: readContext, useEffect: updateEffect, useImperativeHandle: updateImperativeHandle, useInsertionEffect: updateInsertionEffect, useLayoutEffect: updateLayoutEffect, useMemo: updateMemo, useReducer: updateReducer, useRef: updateRef, useState: function () { return updateReducer(basicStateReducer) }, useDebugValue: mountDebugValue, useDeferredValue: function (e, t) { return updateDeferredValueImpl(updateWorkInProgressHook(), currentHook.memoizedState, e, t) }, useTransition: function () { var e = updateReducer(basicStateReducer)[0], t = updateWorkInProgressHook().memoizedState; return ["boolean" == typeof e ? e : useThenable(e), t] }, useSyncExternalStore: updateSyncExternalStore, useId: updateId, useHostTransitionStatus: useHostTransitionStatus, useFormState: updateActionState, useActionState: updateActionState, useOptimistic: function (e, t) { return updateOptimisticImpl(updateWorkInProgressHook(), currentHook, e, t) }, useMemoCache: useMemoCache, useCacheRefresh: updateRefresh }, HooksDispatcherOnRerender = { readContext: readContext, use: use, useCallback: updateCallback, useContext: readContext, useEffect: updateEffect, useImperativeHandle: updateImperativeHandle, useInsertionEffect: updateInsertionEffect, useLayoutEffect: updateLayoutEffect, useMemo: updateMemo, useReducer: rerenderReducer, useRef: updateRef, useState: function () { return rerenderReducer(basicStateReducer) }, useDebugValue: mountDebugValue, useDeferredValue: function (e, t) { var n = updateWorkInProgressHook(); return null === currentHook ? mountDeferredValueImpl(n, e, t) : updateDeferredValueImpl(n, currentHook.memoizedState, e, t) }, useTransition: function () { var e = rerenderReducer(basicStateReducer)[0], t = updateWorkInProgressHook().memoizedState; return ["boolean" == typeof e ? e : useThenable(e), t] }, useSyncExternalStore: updateSyncExternalStore, useId: updateId, useHostTransitionStatus: useHostTransitionStatus, useFormState: rerenderActionState, useActionState: rerenderActionState, useOptimistic: function (e, t) { var n = updateWorkInProgressHook(); return null !== currentHook ? updateOptimisticImpl(n, currentHook, e, t) : (n.baseState = e, [e, n.queue.dispatch]) }, useMemoCache: useMemoCache, useCacheRefresh: updateRefresh }, thenableState = null, thenableIndexCounter = 0; function unwrapThenable(e) { var t = thenableIndexCounter; return thenableIndexCounter += 1, null === thenableState && (thenableState = []), trackUsedThenable(thenableState, e, t) } function coerceRef(e, t) { t = t.props.ref, e.ref = void 0 !== t ? t : null } function throwOnInvalidObjectType(e, t) { if (t.$$typeof === REACT_LEGACY_ELEMENT_TYPE) throw Error(formatProdErrorMessage$1(525)); throw e = Object.prototype.toString.call(t), Error(formatProdErrorMessage$1(31, "[object Object]" === e ? "object with keys {" + Object.keys(t).join(", ") + "}" : e)) } function resolveLazy(e) { return (0, e._init)(e._payload) } function createChildReconciler(e) { function t(t, n) { if (e) { var a = t.deletions; null === a ? (t.deletions = [n], t.flags |= 16) : a.push(n) } } function n(n, a) { if (!e) return null; for (; null !== a;)t(n, a), a = a.sibling; return null } function a(e) { for (var t = new Map; null !== e;)null !== e.key ? t.set(e.key, e) : t.set(e.index, e), e = e.sibling; return t } function r(e, t) { return (e = createWorkInProgress(e, t)).index = 0, e.sibling = null, e } function s(t, n, a) { return t.index = a, e ? null !== (a = t.alternate) ? (a = a.index) < n ? (t.flags |= 67108866, n) : a : (t.flags |= 67108866, n) : (t.flags |= 1048576, n) } function i(t) { return e && null === t.alternate && (t.flags |= 67108866), t } function o(e, t, n, a) { return null === t || 6 !== t.tag ? ((t = createFiberFromText(n, e.mode, a)).return = e, t) : ((t = r(t, n)).return = e, t) } function l(e, t, n, a) { var s = n.type; return s === REACT_FRAGMENT_TYPE ? c(e, t, n.props.children, a, n.key) : null !== t && (t.elementType === s || "object" == typeof s && null !== s && s.$$typeof === REACT_LAZY_TYPE && resolveLazy(s) === t.type) ? (coerceRef(t = r(t, n.props), n), t.return = e, t) : (coerceRef(t = createFiberFromTypeAndProps(n.type, n.key, n.props, null, e.mode, a), n), t.return = e, t) } function m(e, t, n, a) { return null === t || 4 !== t.tag || t.stateNode.containerInfo !== n.containerInfo || t.stateNode.implementation !== n.implementation ? ((t = createFiberFromPortal(n, e.mode, a)).return = e, t) : ((t = r(t, n.children || [])).return = e, t) } function c(e, t, n, a, s) { return null === t || 7 !== t.tag ? ((t = createFiberFromFragment(n, e.mode, a, s)).return = e, t) : ((t = r(t, n)).return = e, t) } function u(e, t, n) { if ("string" == typeof t && "" !== t || "number" == typeof t || "bigint" == typeof t) return (t = createFiberFromText("" + t, e.mode, n)).return = e, t; if ("object" == typeof t && null !== t) { switch (t.$$typeof) { case REACT_ELEMENT_TYPE: return coerceRef(n = createFiberFromTypeAndProps(t.type, t.key, t.props, null, e.mode, n), t), n.return = e, n; case REACT_PORTAL_TYPE: return (t = createFiberFromPortal(t, e.mode, n)).return = e, t; case REACT_LAZY_TYPE: return u(e, t = (0, t._init)(t._payload), n) }if (isArrayImpl(t) || getIteratorFn(t)) return (t = createFiberFromFragment(t, e.mode, n, null)).return = e, t; if ("function" == typeof t.then) return u(e, unwrapThenable(t), n); if (t.$$typeof === REACT_CONTEXT_TYPE) return u(e, readContextDuringReconciliation(e, t), n); throwOnInvalidObjectType(e, t) } return null } function A(e, t, n, a) { var r = null !== t ? t.key : null; if ("string" == typeof n && "" !== n || "number" == typeof n || "bigint" == typeof n) return null !== r ? null : o(e, t, "" + n, a); if ("object" == typeof n && null !== n) { switch (n.$$typeof) { case REACT_ELEMENT_TYPE: return n.key === r ? l(e, t, n, a) : null; case REACT_PORTAL_TYPE: return n.key === r ? m(e, t, n, a) : null; case REACT_LAZY_TYPE: return A(e, t, n = (r = n._init)(n._payload), a) }if (isArrayImpl(n) || getIteratorFn(n)) return null !== r ? null : c(e, t, n, a, null); if ("function" == typeof n.then) return A(e, t, unwrapThenable(n), a); if (n.$$typeof === REACT_CONTEXT_TYPE) return A(e, t, readContextDuringReconciliation(e, n), a); throwOnInvalidObjectType(e, n) } return null } function p(e, t, n, a, r) { if ("string" == typeof a && "" !== a || "number" == typeof a || "bigint" == typeof a) return o(t, e = e.get(n) || null, "" + a, r); if ("object" == typeof a && null !== a) { switch (a.$$typeof) { case REACT_ELEMENT_TYPE: return l(t, e = e.get(null === a.key ? n : a.key) || null, a, r); case REACT_PORTAL_TYPE: return m(t, e = e.get(null === a.key ? n : a.key) || null, a, r); case REACT_LAZY_TYPE: return p(e, t, n, a = (0, a._init)(a._payload), r) }if (isArrayImpl(a) || getIteratorFn(a)) return c(t, e = e.get(n) || null, a, r, null); if ("function" == typeof a.then) return p(e, t, n, unwrapThenable(a), r); if (a.$$typeof === REACT_CONTEXT_TYPE) return p(e, t, n, readContextDuringReconciliation(t, a), r); throwOnInvalidObjectType(t, a) } return null } function d(o, l, m, c) { if ("object" == typeof m && null !== m && m.type === REACT_FRAGMENT_TYPE && null === m.key && (m = m.props.children), "object" == typeof m && null !== m) { switch (m.$$typeof) { case REACT_ELEMENT_TYPE: e: { for (var _ = m.key; null !== l;) { if (l.key === _) { if ((_ = m.type) === REACT_FRAGMENT_TYPE) { if (7 === l.tag) { n(o, l.sibling), (c = r(l, m.props.children)).return = o, o = c; break e } } else if (l.elementType === _ || "object" == typeof _ && null !== _ && _.$$typeof === REACT_LAZY_TYPE && resolveLazy(_) === l.type) { n(o, l.sibling), coerceRef(c = r(l, m.props), m), c.return = o, o = c; break e } n(o, l); break } t(o, l), l = l.sibling } m.type === REACT_FRAGMENT_TYPE ? ((c = createFiberFromFragment(m.props.children, o.mode, c, m.key)).return = o, o = c) : (coerceRef(c = createFiberFromTypeAndProps(m.type, m.key, m.props, null, o.mode, c), m), c.return = o, o = c) } return i(o); case REACT_PORTAL_TYPE: e: { for (_ = m.key; null !== l;) { if (l.key === _) { if (4 === l.tag && l.stateNode.containerInfo === m.containerInfo && l.stateNode.implementation === m.implementation) { n(o, l.sibling), (c = r(l, m.children || [])).return = o, o = c; break e } n(o, l); break } t(o, l), l = l.sibling } (c = createFiberFromPortal(m, o.mode, c)).return = o, o = c } return i(o); case REACT_LAZY_TYPE: return d(o, l, m = (_ = m._init)(m._payload), c) }if (isArrayImpl(m)) return function (r, i, o, l) { for (var m = null, c = null, d = i, _ = i = 0, v = null; null !== d && _ < o.length; _++) { d.index > _ ? (v = d, d = null) : v = d.sibling; var h = A(r, d, o[_], l); if (null === h) { null === d && (d = v); break } e && d && null === h.alternate && t(r, d), i = s(h, i, _), null === c ? m = h : c.sibling = h, c = h, d = v } if (_ === o.length) return n(r, d), isHydrating && pushTreeFork(r, _), m; if (null === d) { for (; _ < o.length; _++)null !== (d = u(r, o[_], l)) && (i = s(d, i, _), null === c ? m = d : c.sibling = d, c = d); return isHydrating && pushTreeFork(r, _), m } for (d = a(d); _ < o.length; _++)null !== (v = p(d, r, _, o[_], l)) && (e && null !== v.alternate && d.delete(null === v.key ? _ : v.key), i = s(v, i, _), null === c ? m = v : c.sibling = v, c = v); return e && d.forEach(function (e) { return t(r, e) }), isHydrating && pushTreeFork(r, _), m }(o, l, m, c); if (getIteratorFn(m)) { if ("function" != typeof (_ = getIteratorFn(m))) throw Error(formatProdErrorMessage$1(150)); return function (r, i, o, l) { if (null == o) throw Error(formatProdErrorMessage$1(151)); for (var m = null, c = null, d = i, _ = i = 0, v = null, h = o.next(); null !== d && !h.done; _++, h = o.next()) { d.index > _ ? (v = d, d = null) : v = d.sibling; var g = A(r, d, h.value, l); if (null === g) { null === d && (d = v); break } e && d && null === g.alternate && t(r, d), i = s(g, i, _), null === c ? m = g : c.sibling = g, c = g, d = v } if (h.done) return n(r, d), isHydrating && pushTreeFork(r, _), m; if (null === d) { for (; !h.done; _++, h = o.next())null !== (h = u(r, h.value, l)) && (i = s(h, i, _), null === c ? m = h : c.sibling = h, c = h); return isHydrating && pushTreeFork(r, _), m } for (d = a(d); !h.done; _++, h = o.next())null !== (h = p(d, r, _, h.value, l)) && (e && null !== h.alternate && d.delete(null === h.key ? _ : h.key), i = s(h, i, _), null === c ? m = h : c.sibling = h, c = h); return e && d.forEach(function (e) { return t(r, e) }), isHydrating && pushTreeFork(r, _), m }(o, l, m = _.call(m), c) } if ("function" == typeof m.then) return d(o, l, unwrapThenable(m), c); if (m.$$typeof === REACT_CONTEXT_TYPE) return d(o, l, readContextDuringReconciliation(o, m), c); throwOnInvalidObjectType(o, m) } return "string" == typeof m && "" !== m || "number" == typeof m || "bigint" == typeof m ? (m = "" + m, null !== l && 6 === l.tag ? (n(o, l.sibling), (c = r(l, m)).return = o, o = c) : (n(o, l), (c = createFiberFromText(m, o.mode, c)).return = o, o = c), i(o)) : n(o, l) } return function (e, t, n, a) { try { thenableIndexCounter = 0; var r = d(e, t, n, a); return thenableState = null, r } catch (x) { if (x === SuspenseException || x === SuspenseActionException) throw x; var s = createFiberImplClass(29, x, null, e.mode); return s.lanes = a, s.return = e, s } } } var reconcileChildFibers = createChildReconciler(!0), mountChildFibers = createChildReconciler(!1), suspenseHandlerStackCursor = createCursor(null), shellBoundary = null; function pushPrimaryTreeSuspenseHandler(e) { var t = e.alternate; push(suspenseStackCursor, 1 & suspenseStackCursor.current), push(suspenseHandlerStackCursor, e), null === shellBoundary && (null === t || null !== currentTreeHiddenStackCursor.current || null !== t.memoizedState) && (shellBoundary = e) } function pushOffscreenSuspenseHandler(e) { if (22 === e.tag) { if (push(suspenseStackCursor, suspenseStackCursor.current), push(suspenseHandlerStackCursor, e), null === shellBoundary) { var t = e.alternate; null !== t && null !== t.memoizedState && (shellBoundary = e) } } else reuseSuspenseHandlerOnStack() } function reuseSuspenseHandlerOnStack() { push(suspenseStackCursor, suspenseStackCursor.current), push(suspenseHandlerStackCursor, suspenseHandlerStackCursor.current) } function popSuspenseHandler(e) { pop(suspenseHandlerStackCursor), shellBoundary === e && (shellBoundary = null), pop(suspenseStackCursor) } var suspenseStackCursor = createCursor(0); function findFirstSuspended(e) { for (var t = e; null !== t;) { if (13 === t.tag) { var n = t.memoizedState; if (null !== n && (null === (n = n.dehydrated) || "$?" === n.data || isSuspenseInstanceFallback(n))) return t } else if (19 === t.tag && void 0 !== t.memoizedProps.revealOrder) { if (128 & t.flags) return t } else if (null !== t.child) { t.child.return = t, t = t.child; continue } if (t === e) break; for (; null === t.sibling;) { if (null === t.return || t.return === e) return null; t = t.return } t.sibling.return = t.return, t = t.sibling } return null } function applyDerivedStateFromProps(e, t, n, a) { n = null == (n = n(a, t = e.memoizedState)) ? t : assign({}, t, n), e.memoizedState = n, 0 === e.lanes && (e.updateQueue.baseState = n) } var classComponentUpdater = { enqueueSetState: function (e, t, n) { e = e._reactInternals; var a = requestUpdateLane(), r = createUpdate(a); r.payload = t, null != n && (r.callback = n), null !== (t = enqueueUpdate(e, r, a)) && (scheduleUpdateOnFiber(t, e, a), entangleTransitions(t, e, a)) }, enqueueReplaceState: function (e, t, n) { e = e._reactInternals; var a = requestUpdateLane(), r = createUpdate(a); r.tag = 1, r.payload = t, null != n && (r.callback = n), null !== (t = enqueueUpdate(e, r, a)) && (scheduleUpdateOnFiber(t, e, a), entangleTransitions(t, e, a)) }, enqueueForceUpdate: function (e, t) { e = e._reactInternals; var n = requestUpdateLane(), a = createUpdate(n); a.tag = 2, null != t && (a.callback = t), null !== (t = enqueueUpdate(e, a, n)) && (scheduleUpdateOnFiber(t, e, n), entangleTransitions(t, e, n)) } }; function checkShouldComponentUpdate(e, t, n, a, r, s, i) { return "function" == typeof (e = e.stateNode).shouldComponentUpdate ? e.shouldComponentUpdate(a, s, i) : !(t.prototype && t.prototype.isPureReactComponent && shallowEqual(n, a) && shallowEqual(r, s)) } function callComponentWillReceiveProps(e, t, n, a) { e = t.state, "function" == typeof t.componentWillReceiveProps && t.componentWillReceiveProps(n, a), "function" == typeof t.UNSAFE_componentWillReceiveProps && t.UNSAFE_componentWillReceiveProps(n, a), t.state !== e && classComponentUpdater.enqueueReplaceState(t, t.state, null) } function resolveClassComponentProps(e, t) { var n = t; if ("ref" in t) for (var a in n = {}, t) "ref" !== a && (n[a] = t[a]); if (e = e.defaultProps) for (var r in n === t && (n = assign({}, n)), e) void 0 === n[r] && (n[r] = e[r]); return n } var reportGlobalError = "function" == typeof reportError ? reportError : function (e) { if ("object" == typeof window && "function" == typeof window.ErrorEvent) { var t = new window.ErrorEvent("error", { bubbles: !0, cancelable: !0, message: "object" == typeof e && null !== e && "string" == typeof e.message ? String(e.message) : String(e), error: e }); if (!window.dispatchEvent(t)) return } else if ("object" == typeof process && "function" == typeof process.emit) return void process.emit("uncaughtException", e) }; function defaultOnUncaughtError(e) { reportGlobalError(e) } function defaultOnCaughtError(e) { } function defaultOnRecoverableError(e) { reportGlobalError(e) } function logUncaughtError(e, t) { try { (0, e.onUncaughtError)(t.value, { componentStack: t.stack }) } catch (n) { setTimeout(function () { throw n }) } } function logCaughtError(e, t, n) { try { (0, e.onCaughtError)(n.value, { componentStack: n.stack, errorBoundary: 1 === t.tag ? t.stateNode : null }) } catch (a) { setTimeout(function () { throw a }) } } function createRootErrorUpdate(e, t, n) { return (n = createUpdate(n)).tag = 3, n.payload = { element: null }, n.callback = function () { logUncaughtError(e, t) }, n } function createClassErrorUpdate(e) { return (e = createUpdate(e)).tag = 3, e } function initializeClassErrorUpdate(e, t, n, a) { var r = n.type.getDerivedStateFromError; if ("function" == typeof r) { var s = a.value; e.payload = function () { return r(s) }, e.callback = function () { logCaughtError(t, n, a) } } var i = n.stateNode; null !== i && "function" == typeof i.componentDidCatch && (e.callback = function () { logCaughtError(t, n, a), "function" != typeof r && (null === legacyErrorBoundariesThatAlreadyFailed ? legacyErrorBoundariesThatAlreadyFailed = new Set([this]) : legacyErrorBoundariesThatAlreadyFailed.add(this)); var e = a.stack; this.componentDidCatch(a.value, { componentStack: null !== e ? e : "" }) }) } function throwException(e, t, n, a, r) { if (n.flags |= 32768, null !== a && "object" == typeof a && "function" == typeof a.then) { if (null !== (t = n.alternate) && propagateParentContextChanges(t, n, r, !0), null !== (n = suspenseHandlerStackCursor.current)) { switch (n.tag) { case 13: return null === shellBoundary ? renderDidSuspendDelayIfPossible() : null === n.alternate && 0 === workInProgressRootExitStatus && (workInProgressRootExitStatus = 3), n.flags &= -257, n.flags |= 65536, n.lanes = r, a === noopSuspenseyCommitThenable ? n.flags |= 16384 : (null === (t = n.updateQueue) ? n.updateQueue = new Set([a]) : t.add(a), attachPingListener(e, a, r)), !1; case 22: return n.flags |= 65536, a === noopSuspenseyCommitThenable ? n.flags |= 16384 : (null === (t = n.updateQueue) ? (t = { transitions: null, markerInstances: null, retryQueue: new Set([a]) }, n.updateQueue = t) : null === (n = t.retryQueue) ? t.retryQueue = new Set([a]) : n.add(a), attachPingListener(e, a, r)), !1 }throw Error(formatProdErrorMessage$1(435, n.tag)) } return attachPingListener(e, a, r), renderDidSuspendDelayIfPossible(), !1 } if (isHydrating) return null !== (t = suspenseHandlerStackCursor.current) ? (!(65536 & t.flags) && (t.flags |= 256), t.flags |= 65536, t.lanes = r, a !== HydrationMismatchException && queueHydrationError(createCapturedValueAtFiber(e = Error(formatProdErrorMessage$1(422), { cause: a }), n))) : (a !== HydrationMismatchException && queueHydrationError(createCapturedValueAtFiber(t = Error(formatProdErrorMessage$1(423), { cause: a }), n)), (e = e.current.alternate).flags |= 65536, r &= -r, e.lanes |= r, a = createCapturedValueAtFiber(a, n), enqueueCapturedUpdate(e, r = createRootErrorUpdate(e.stateNode, a, r)), 4 !== workInProgressRootExitStatus && (workInProgressRootExitStatus = 2)), !1; var s = Error(formatProdErrorMessage$1(520), { cause: a }); if (s = createCapturedValueAtFiber(s, n), null === workInProgressRootConcurrentErrors ? workInProgressRootConcurrentErrors = [s] : workInProgressRootConcurrentErrors.push(s), 4 !== workInProgressRootExitStatus && (workInProgressRootExitStatus = 2), null === t) return !0; a = createCapturedValueAtFiber(a, n), n = t; do { switch (n.tag) { case 3: return n.flags |= 65536, e = r & -r, n.lanes |= e, enqueueCapturedUpdate(n, e = createRootErrorUpdate(n.stateNode, a, e)), !1; case 1: if (t = n.type, s = n.stateNode, !(128 & n.flags || "function" != typeof t.getDerivedStateFromError && (null === s || "function" != typeof s.componentDidCatch || null !== legacyErrorBoundariesThatAlreadyFailed && legacyErrorBoundariesThatAlreadyFailed.has(s)))) return n.flags |= 65536, r &= -r, n.lanes |= r, initializeClassErrorUpdate(r = createClassErrorUpdate(r), e, n, a), enqueueCapturedUpdate(n, r), !1 }n = n.return } while (null !== n); return !1 } var SelectiveHydrationException = Error(formatProdErrorMessage$1(461)), didReceiveUpdate = !1; function reconcileChildren(e, t, n, a) { t.child = null === e ? mountChildFibers(t, null, n, a) : reconcileChildFibers(t, e.child, n, a) } function updateForwardRef(e, t, n, a, r) { n = n.render; var s = t.ref; if ("ref" in a) { var i = {}; for (var o in a) "ref" !== o && (i[o] = a[o]) } else i = a; return prepareToReadContext(t), a = renderWithHooks(e, t, n, i, s, r), o = checkDidRenderIdHook(), null === e || didReceiveUpdate ? (isHydrating && o && pushMaterializedTreeId(t), t.flags |= 1, reconcileChildren(e, t, a, r), t.child) : (bailoutHooks(e, t, r), bailoutOnAlreadyFinishedWork(e, t, r)) } function updateMemoComponent(e, t, n, a, r) { if (null === e) { var s = n.type; return "function" != typeof s || shouldConstruct(s) || void 0 !== s.defaultProps || null !== n.compare ? ((e = createFiberFromTypeAndProps(n.type, null, a, t, t.mode, r)).ref = t.ref, e.return = t, t.child = e) : (t.tag = 15, t.type = s, updateSimpleMemoComponent(e, t, s, a, r)) } if (s = e.child, !checkScheduledUpdateOrContext(e, r)) { var i = s.memoizedProps; if ((n = null !== (n = n.compare) ? n : shallowEqual)(i, a) && e.ref === t.ref) return bailoutOnAlreadyFinishedWork(e, t, r) } return t.flags |= 1, (e = createWorkInProgress(s, a)).ref = t.ref, e.return = t, t.child = e } function updateSimpleMemoComponent(e, t, n, a, r) { if (null !== e) { var s = e.memoizedProps; if (shallowEqual(s, a) && e.ref === t.ref) { if (didReceiveUpdate = !1, t.pendingProps = a = s, !checkScheduledUpdateOrContext(e, r)) return t.lanes = e.lanes, bailoutOnAlreadyFinishedWork(e, t, r); 131072 & e.flags && (didReceiveUpdate = !0) } } return updateFunctionComponent(e, t, n, a, r) } function updateOffscreenComponent(e, t, n) { var a = t.pendingProps, r = a.children, s = null !== e ? e.memoizedState : null; if ("hidden" === a.mode) { if (128 & t.flags) { if (a = null !== s ? s.baseLanes | n : n, null !== e) { for (r = t.child = e.child, s = 0; null !== r;)s = s | r.lanes | r.childLanes, r = r.sibling; t.childLanes = s & ~a } else t.childLanes = 0, t.child = null; return deferHiddenOffscreenComponent(e, t, a, n) } if (!(536870912 & n)) return t.lanes = t.childLanes = 536870912, deferHiddenOffscreenComponent(e, t, null !== s ? s.baseLanes | n : n, n); t.memoizedState = { baseLanes: 0, cachePool: null }, null !== e && pushTransition(t, null !== s ? s.cachePool : null), null !== s ? pushHiddenContext(t, s) : reuseHiddenContextOnStack(), pushOffscreenSuspenseHandler(t) } else null !== s ? (pushTransition(t, s.cachePool), pushHiddenContext(t, s), reuseSuspenseHandlerOnStack(), t.memoizedState = null) : (null !== e && pushTransition(t, null), reuseHiddenContextOnStack(), reuseSuspenseHandlerOnStack()); return reconcileChildren(e, t, r, n), t.child } function deferHiddenOffscreenComponent(e, t, n, a) { var r = peekCacheFromPool(); return r = null === r ? null : { parent: CacheContext._currentValue, pool: r }, t.memoizedState = { baseLanes: n, cachePool: r }, null !== e && pushTransition(t, null), reuseHiddenContextOnStack(), pushOffscreenSuspenseHandler(t), null !== e && propagateParentContextChanges(e, t, a, !0), null } function markRef(e, t) { var n = t.ref; if (null === n) null !== e && null !== e.ref && (t.flags |= 4194816); else { if ("function" != typeof n && "object" != typeof n) throw Error(formatProdErrorMessage$1(284)); null !== e && e.ref === n || (t.flags |= 4194816) } } function updateFunctionComponent(e, t, n, a, r) { return prepareToReadContext(t), n = renderWithHooks(e, t, n, a, void 0, r), a = checkDidRenderIdHook(), null === e || didReceiveUpdate ? (isHydrating && a && pushMaterializedTreeId(t), t.flags |= 1, reconcileChildren(e, t, n, r), t.child) : (bailoutHooks(e, t, r), bailoutOnAlreadyFinishedWork(e, t, r)) } function replayFunctionComponent(e, t, n, a, r, s) { return prepareToReadContext(t), t.updateQueue = null, n = renderWithHooksAgain(t, a, n, r), finishRenderingHooks(e), a = checkDidRenderIdHook(), null === e || didReceiveUpdate ? (isHydrating && a && pushMaterializedTreeId(t), t.flags |= 1, reconcileChildren(e, t, n, s), t.child) : (bailoutHooks(e, t, s), bailoutOnAlreadyFinishedWork(e, t, s)) } function updateClassComponent(e, t, n, a, r) { if (prepareToReadContext(t), null === t.stateNode) { var s = emptyContextObject, i = n.contextType; "object" == typeof i && null !== i && (s = readContext(i)), s = new n(a, s), t.memoizedState = null !== s.state && void 0 !== s.state ? s.state : null, s.updater = classComponentUpdater, t.stateNode = s, s._reactInternals = t, (s = t.stateNode).props = a, s.state = t.memoizedState, s.refs = {}, initializeUpdateQueue(t), i = n.contextType, s.context = "object" == typeof i && null !== i ? readContext(i) : emptyContextObject, s.state = t.memoizedState, "function" == typeof (i = n.getDerivedStateFromProps) && (applyDerivedStateFromProps(t, n, i, a), s.state = t.memoizedState), "function" == typeof n.getDerivedStateFromProps || "function" == typeof s.getSnapshotBeforeUpdate || "function" != typeof s.UNSAFE_componentWillMount && "function" != typeof s.componentWillMount || (i = s.state, "function" == typeof s.componentWillMount && s.componentWillMount(), "function" == typeof s.UNSAFE_componentWillMount && s.UNSAFE_componentWillMount(), i !== s.state && classComponentUpdater.enqueueReplaceState(s, s.state, null), processUpdateQueue(t, a, s, r), suspendIfUpdateReadFromEntangledAsyncAction(), s.state = t.memoizedState), "function" == typeof s.componentDidMount && (t.flags |= 4194308), a = !0 } else if (null === e) { s = t.stateNode; var o = t.memoizedProps, l = resolveClassComponentProps(n, o); s.props = l; var m = s.context, c = n.contextType; i = emptyContextObject, "object" == typeof c && null !== c && (i = readContext(c)); var u = n.getDerivedStateFromProps; c = "function" == typeof u || "function" == typeof s.getSnapshotBeforeUpdate, o = t.pendingProps !== o, c || "function" != typeof s.UNSAFE_componentWillReceiveProps && "function" != typeof s.componentWillReceiveProps || (o || m !== i) && callComponentWillReceiveProps(t, s, a, i), hasForceUpdate = !1; var A = t.memoizedState; s.state = A, processUpdateQueue(t, a, s, r), suspendIfUpdateReadFromEntangledAsyncAction(), m = t.memoizedState, o || A !== m || hasForceUpdate ? ("function" == typeof u && (applyDerivedStateFromProps(t, n, u, a), m = t.memoizedState), (l = hasForceUpdate || checkShouldComponentUpdate(t, n, l, a, A, m, i)) ? (c || "function" != typeof s.UNSAFE_componentWillMount && "function" != typeof s.componentWillMount || ("function" == typeof s.componentWillMount && s.componentWillMount(), "function" == typeof s.UNSAFE_componentWillMount && s.UNSAFE_componentWillMount()), "function" == typeof s.componentDidMount && (t.flags |= 4194308)) : ("function" == typeof s.componentDidMount && (t.flags |= 4194308), t.memoizedProps = a, t.memoizedState = m), s.props = a, s.state = m, s.context = i, a = l) : ("function" == typeof s.componentDidMount && (t.flags |= 4194308), a = !1) } else { s = t.stateNode, cloneUpdateQueue(e, t), c = resolveClassComponentProps(n, i = t.memoizedProps), s.props = c, u = t.pendingProps, A = s.context, m = n.contextType, l = emptyContextObject, "object" == typeof m && null !== m && (l = readContext(m)), (m = "function" == typeof (o = n.getDerivedStateFromProps) || "function" == typeof s.getSnapshotBeforeUpdate) || "function" != typeof s.UNSAFE_componentWillReceiveProps && "function" != typeof s.componentWillReceiveProps || (i !== u || A !== l) && callComponentWillReceiveProps(t, s, a, l), hasForceUpdate = !1, A = t.memoizedState, s.state = A, processUpdateQueue(t, a, s, r), suspendIfUpdateReadFromEntangledAsyncAction(); var p = t.memoizedState; i !== u || A !== p || hasForceUpdate || null !== e && null !== e.dependencies && checkIfContextChanged(e.dependencies) ? ("function" == typeof o && (applyDerivedStateFromProps(t, n, o, a), p = t.memoizedState), (c = hasForceUpdate || checkShouldComponentUpdate(t, n, c, a, A, p, l) || null !== e && null !== e.dependencies && checkIfContextChanged(e.dependencies)) ? (m || "function" != typeof s.UNSAFE_componentWillUpdate && "function" != typeof s.componentWillUpdate || ("function" == typeof s.componentWillUpdate && s.componentWillUpdate(a, p, l), "function" == typeof s.UNSAFE_componentWillUpdate && s.UNSAFE_componentWillUpdate(a, p, l)), "function" == typeof s.componentDidUpdate && (t.flags |= 4), "function" == typeof s.getSnapshotBeforeUpdate && (t.flags |= 1024)) : ("function" != typeof s.componentDidUpdate || i === e.memoizedProps && A === e.memoizedState || (t.flags |= 4), "function" != typeof s.getSnapshotBeforeUpdate || i === e.memoizedProps && A === e.memoizedState || (t.flags |= 1024), t.memoizedProps = a, t.memoizedState = p), s.props = a, s.state = p, s.context = l, a = c) : ("function" != typeof s.componentDidUpdate || i === e.memoizedProps && A === e.memoizedState || (t.flags |= 4), "function" != typeof s.getSnapshotBeforeUpdate || i === e.memoizedProps && A === e.memoizedState || (t.flags |= 1024), a = !1) } return s = a, markRef(e, t), a = !!(128 & t.flags), s || a ? (s = t.stateNode, n = a && "function" != typeof n.getDerivedStateFromError ? null : s.render(), t.flags |= 1, null !== e && a ? (t.child = reconcileChildFibers(t, e.child, null, r), t.child = reconcileChildFibers(t, null, n, r)) : reconcileChildren(e, t, n, r), t.memoizedState = s.state, e = t.child) : e = bailoutOnAlreadyFinishedWork(e, t, r), e } function mountHostRootWithoutHydrating(e, t, n, a) { return resetHydrationState(), t.flags |= 256, reconcileChildren(e, t, n, a), t.child } var SUSPENDED_MARKER = { dehydrated: null, treeContext: null, retryLane: 0, hydrationErrors: null }; function mountSuspenseOffscreenState(e) { return { baseLanes: e, cachePool: getSuspendedCache() } } function getRemainingWorkInPrimaryTree(e, t, n) { return e = null !== e ? e.childLanes & ~n : 0, t && (e |= workInProgressDeferredLane), e } function updateSuspenseComponent(e, t, n) { var a, r = t.pendingProps, s = !1, i = !!(128 & t.flags); if ((a = i) || (a = (null === e || null !== e.memoizedState) && !!(2 & suspenseStackCursor.current)), a && (s = !0, t.flags &= -129), a = !!(32 & t.flags), t.flags &= -33, null === e) { if (isHydrating) { if (s ? pushPrimaryTreeSuspenseHandler(t) : reuseSuspenseHandlerOnStack(), isHydrating) { var o, l = nextHydratableInstance; if (o = l) { e: { for (o = l, l = rootOrSingletonContext; 8 !== o.nodeType;) { if (!l) { l = null; break e } if (null === (o = getNextHydratable(o.nextSibling))) { l = null; break e } } l = o } null !== l ? (t.memoizedState = { dehydrated: l, treeContext: null !== treeContextProvider ? { id: treeContextId, overflow: treeContextOverflow } : null, retryLane: 536870912, hydrationErrors: null }, (o = createFiberImplClass(18, null, null, 0)).stateNode = l, o.return = t, t.child = o, hydrationParentFiber = t, nextHydratableInstance = null, o = !0) : o = !1 } o || throwOnHydrationMismatch(t) } if (null !== (l = t.memoizedState) && null !== (l = l.dehydrated)) return isSuspenseInstanceFallback(l) ? t.lanes = 32 : t.lanes = 536870912, null; popSuspenseHandler(t) } return l = r.children, r = r.fallback, s ? (reuseSuspenseHandlerOnStack(), l = mountWorkInProgressOffscreenFiber({ mode: "hidden", children: l }, s = t.mode), r = createFiberFromFragment(r, s, n, null), l.return = t, r.return = t, l.sibling = r, t.child = l, (s = t.child).memoizedState = mountSuspenseOffscreenState(n), s.childLanes = getRemainingWorkInPrimaryTree(e, a, n), t.memoizedState = SUSPENDED_MARKER, r) : (pushPrimaryTreeSuspenseHandler(t), mountSuspensePrimaryChildren(t, l)) } if (null !== (o = e.memoizedState) && null !== (l = o.dehydrated)) { if (i) 256 & t.flags ? (pushPrimaryTreeSuspenseHandler(t), t.flags &= -257, t = retrySuspenseComponentWithoutHydrating(e, t, n)) : null !== t.memoizedState ? (reuseSuspenseHandlerOnStack(), t.child = e.child, t.flags |= 128, t = null) : (reuseSuspenseHandlerOnStack(), s = r.fallback, l = t.mode, r = mountWorkInProgressOffscreenFiber({ mode: "visible", children: r.children }, l), (s = createFiberFromFragment(s, l, n, null)).flags |= 2, r.return = t, s.return = t, r.sibling = s, t.child = r, reconcileChildFibers(t, e.child, null, n), (r = t.child).memoizedState = mountSuspenseOffscreenState(n), r.childLanes = getRemainingWorkInPrimaryTree(e, a, n), t.memoizedState = SUSPENDED_MARKER, t = s); else if (pushPrimaryTreeSuspenseHandler(t), isSuspenseInstanceFallback(l)) { if (a = l.nextSibling && l.nextSibling.dataset) var m = a.dgst; a = m, (r = Error(formatProdErrorMessage$1(419))).stack = "", r.digest = a, queueHydrationError({ value: r, source: null, stack: null }), t = retrySuspenseComponentWithoutHydrating(e, t, n) } else if (didReceiveUpdate || propagateParentContextChanges(e, t, n, !1), a = 0 !== (n & e.childLanes), didReceiveUpdate || a) { if (null !== (a = workInProgressRoot) && 0 !== (r = 0 !== ((r = 42 & (r = n & -n) ? 1 : getBumpedLaneForHydrationByLane(r)) & (a.suspendedLanes | n)) ? 0 : r) && r !== o.retryLane) throw o.retryLane = r, enqueueConcurrentRenderForLane(e, r), scheduleUpdateOnFiber(a, e, r), SelectiveHydrationException; "$?" === l.data || renderDidSuspendDelayIfPossible(), t = retrySuspenseComponentWithoutHydrating(e, t, n) } else "$?" === l.data ? (t.flags |= 192, t.child = e.child, t = null) : (e = o.treeContext, nextHydratableInstance = getNextHydratable(l.nextSibling), hydrationParentFiber = t, isHydrating = !0, hydrationErrors = null, rootOrSingletonContext = !1, null !== e && (idStack[idStackIndex++] = treeContextId, idStack[idStackIndex++] = treeContextOverflow, idStack[idStackIndex++] = treeContextProvider, treeContextId = e.id, treeContextOverflow = e.overflow, treeContextProvider = t), (t = mountSuspensePrimaryChildren(t, r.children)).flags |= 4096); return t } return s ? (reuseSuspenseHandlerOnStack(), s = r.fallback, l = t.mode, m = (o = e.child).sibling, (r = createWorkInProgress(o, { mode: "hidden", children: r.children })).subtreeFlags = 65011712 & o.subtreeFlags, null !== m ? s = createWorkInProgress(m, s) : (s = createFiberFromFragment(s, l, n, null)).flags |= 2, s.return = t, r.return = t, r.sibling = s, t.child = r, r = s, s = t.child, null === (l = e.child.memoizedState) ? l = mountSuspenseOffscreenState(n) : (null !== (o = l.cachePool) ? (m = CacheContext._currentValue, o = o.parent !== m ? { parent: m, pool: m } : o) : o = getSuspendedCache(), l = { baseLanes: l.baseLanes | n, cachePool: o }), s.memoizedState = l, s.childLanes = getRemainingWorkInPrimaryTree(e, a, n), t.memoizedState = SUSPENDED_MARKER, r) : (pushPrimaryTreeSuspenseHandler(t), e = (n = e.child).sibling, (n = createWorkInProgress(n, { mode: "visible", children: r.children })).return = t, n.sibling = null, null !== e && (null === (a = t.deletions) ? (t.deletions = [e], t.flags |= 16) : a.push(e)), t.child = n, t.memoizedState = null, n) } function mountSuspensePrimaryChildren(e, t) { return (t = mountWorkInProgressOffscreenFiber({ mode: "visible", children: t }, e.mode)).return = e, e.child = t } function mountWorkInProgressOffscreenFiber(e, t) { return (e = createFiberImplClass(22, e, null, t)).lanes = 0, e.stateNode = { _visibility: 1, _pendingMarkers: null, _retryCache: null, _transitions: null }, e } function retrySuspenseComponentWithoutHydrating(e, t, n) { return reconcileChildFibers(t, e.child, null, n), (e = mountSuspensePrimaryChildren(t, t.pendingProps.children)).flags |= 2, t.memoizedState = null, e } function scheduleSuspenseWorkOnFiber(e, t, n) { e.lanes |= t; var a = e.alternate; null !== a && (a.lanes |= t), scheduleContextWorkOnParentPath(e.return, t, n) } function initSuspenseListRenderState(e, t, n, a, r) { var s = e.memoizedState; null === s ? e.memoizedState = { isBackwards: t, rendering: null, renderingStartTime: 0, last: a, tail: n, tailMode: r } : (s.isBackwards = t, s.rendering = null, s.renderingStartTime = 0, s.last = a, s.tail = n, s.tailMode = r) } function updateSuspenseListComponent(e, t, n) { var a = t.pendingProps, r = a.revealOrder, s = a.tail; if (reconcileChildren(e, t, a.children, n), 2 & (a = suspenseStackCursor.current)) a = 1 & a | 2, t.flags |= 128; else { if (null !== e && 128 & e.flags) e: for (e = t.child; null !== e;) { if (13 === e.tag) null !== e.memoizedState && scheduleSuspenseWorkOnFiber(e, n, t); else if (19 === e.tag) scheduleSuspenseWorkOnFiber(e, n, t); else if (null !== e.child) { e.child.return = e, e = e.child; continue } if (e === t) break e; for (; null === e.sibling;) { if (null === e.return || e.return === t) break e; e = e.return } e.sibling.return = e.return, e = e.sibling } a &= 1 } switch (push(suspenseStackCursor, a), r) { case "forwards": for (n = t.child, r = null; null !== n;)null !== (e = n.alternate) && null === findFirstSuspended(e) && (r = n), n = n.sibling; null === (n = r) ? (r = t.child, t.child = null) : (r = n.sibling, n.sibling = null), initSuspenseListRenderState(t, !1, r, n, s); break; case "backwards": for (n = null, r = t.child, t.child = null; null !== r;) { if (null !== (e = r.alternate) && null === findFirstSuspended(e)) { t.child = r; break } e = r.sibling, r.sibling = n, n = r, r = e } initSuspenseListRenderState(t, !0, n, null, s); break; case "together": initSuspenseListRenderState(t, !1, null, null, void 0); break; default: t.memoizedState = null }return t.child } function bailoutOnAlreadyFinishedWork(e, t, n) { if (null !== e && (t.dependencies = e.dependencies), workInProgressRootSkippedLanes |= t.lanes, 0 === (n & t.childLanes)) { if (null === e) return null; if (propagateParentContextChanges(e, t, n, !1), 0 === (n & t.childLanes)) return null } if (null !== e && t.child !== e.child) throw Error(formatProdErrorMessage$1(153)); if (null !== t.child) { for (n = createWorkInProgress(e = t.child, e.pendingProps), t.child = n, n.return = t; null !== e.sibling;)e = e.sibling, (n = n.sibling = createWorkInProgress(e, e.pendingProps)).return = t; n.sibling = null } return t.child } function checkScheduledUpdateOrContext(e, t) { return 0 !== (e.lanes & t) || !(null === (e = e.dependencies) || !checkIfContextChanged(e)) } function attemptEarlyBailoutIfNoScheduledUpdate(e, t, n) { switch (t.tag) { case 3: pushHostContainer(t, t.stateNode.containerInfo), pushProvider(t, CacheContext, e.memoizedState.cache), resetHydrationState(); break; case 27: case 5: pushHostContext(t); break; case 4: pushHostContainer(t, t.stateNode.containerInfo); break; case 10: pushProvider(t, t.type, t.memoizedProps.value); break; case 13: var a = t.memoizedState; if (null !== a) return null !== a.dehydrated ? (pushPrimaryTreeSuspenseHandler(t), t.flags |= 128, null) : 0 !== (n & t.child.childLanes) ? updateSuspenseComponent(e, t, n) : (pushPrimaryTreeSuspenseHandler(t), null !== (e = bailoutOnAlreadyFinishedWork(e, t, n)) ? e.sibling : null); pushPrimaryTreeSuspenseHandler(t); break; case 19: var r = !!(128 & e.flags); if ((a = 0 !== (n & t.childLanes)) || (propagateParentContextChanges(e, t, n, !1), a = 0 !== (n & t.childLanes)), r) { if (a) return updateSuspenseListComponent(e, t, n); t.flags |= 128 } if (null !== (r = t.memoizedState) && (r.rendering = null, r.tail = null, r.lastEffect = null), push(suspenseStackCursor, suspenseStackCursor.current), a) break; return null; case 22: case 23: return t.lanes = 0, updateOffscreenComponent(e, t, n); case 24: pushProvider(t, CacheContext, e.memoizedState.cache) }return bailoutOnAlreadyFinishedWork(e, t, n) } function beginWork(e, t, n) { if (null !== e) if (e.memoizedProps !== t.pendingProps) didReceiveUpdate = !0; else { if (!(checkScheduledUpdateOrContext(e, n) || 128 & t.flags)) return didReceiveUpdate = !1, attemptEarlyBailoutIfNoScheduledUpdate(e, t, n); didReceiveUpdate = !!(131072 & e.flags) } else didReceiveUpdate = !1, isHydrating && 1048576 & t.flags && pushTreeId(t, treeForkCount, t.index); switch (t.lanes = 0, t.tag) { case 16: e: { e = t.pendingProps; var a = t.elementType, r = a._init; if (a = r(a._payload), t.type = a, "function" != typeof a) { if (null != a) { if ((r = a.$$typeof) === REACT_FORWARD_REF_TYPE) { t.tag = 11, t = updateForwardRef(null, t, a, e, n); break e } if (r === REACT_MEMO_TYPE) { t.tag = 14, t = updateMemoComponent(null, t, a, e, n); break e } } throw t = getComponentNameFromType(a) || a, Error(formatProdErrorMessage$1(306, t, "")) } shouldConstruct(a) ? (e = resolveClassComponentProps(a, e), t.tag = 1, t = updateClassComponent(null, t, a, e, n)) : (t.tag = 0, t = updateFunctionComponent(null, t, a, e, n)) } return t; case 0: return updateFunctionComponent(e, t, t.type, t.pendingProps, n); case 1: return updateClassComponent(e, t, a = t.type, r = resolveClassComponentProps(a, t.pendingProps), n); case 3: e: { if (pushHostContainer(t, t.stateNode.containerInfo), null === e) throw Error(formatProdErrorMessage$1(387)); a = t.pendingProps; var s = t.memoizedState; r = s.element, cloneUpdateQueue(e, t), processUpdateQueue(t, a, null, n); var i = t.memoizedState; if (a = i.cache, pushProvider(t, CacheContext, a), a !== s.cache && propagateContextChanges(t, [CacheContext], n, !0), suspendIfUpdateReadFromEntangledAsyncAction(), a = i.element, s.isDehydrated) { if (s = { element: a, isDehydrated: !1, cache: i.cache }, t.updateQueue.baseState = s, t.memoizedState = s, 256 & t.flags) { t = mountHostRootWithoutHydrating(e, t, a, n); break e } if (a !== r) { queueHydrationError(r = createCapturedValueAtFiber(Error(formatProdErrorMessage$1(424)), t)), t = mountHostRootWithoutHydrating(e, t, a, n); break e } for (e = 9 === (e = t.stateNode.containerInfo).nodeType ? e.body : "HTML" === e.nodeName ? e.ownerDocument.body : e, nextHydratableInstance = getNextHydratable(e.firstChild), hydrationParentFiber = t, isHydrating = !0, hydrationErrors = null, rootOrSingletonContext = !0, n = mountChildFibers(t, null, a, n), t.child = n; n;)n.flags = -3 & n.flags | 4096, n = n.sibling } else { if (resetHydrationState(), a === r) { t = bailoutOnAlreadyFinishedWork(e, t, n); break e } reconcileChildren(e, t, a, n) } t = t.child } return t; case 26: return markRef(e, t), null === e ? (n = getResource(t.type, null, t.pendingProps, null)) ? t.memoizedState = n : isHydrating || (n = t.type, e = t.pendingProps, (a = getOwnerDocumentFromRootContainer(rootInstanceStackCursor.current).createElement(n))[internalInstanceKey] = t, a[internalPropsKey] = e, setInitialProperties(a, n, e), markNodeAsHoistable(a), t.stateNode = a) : t.memoizedState = getResource(t.type, e.memoizedProps, t.pendingProps, e.memoizedState), null; case 27: return pushHostContext(t), null === e && isHydrating && (a = t.stateNode = resolveSingletonInstance(t.type, t.pendingProps, rootInstanceStackCursor.current), hydrationParentFiber = t, rootOrSingletonContext = !0, r = nextHydratableInstance, isSingletonScope(t.type) ? (previousHydratableOnEnteringScopedSingleton = r, nextHydratableInstance = getNextHydratable(a.firstChild)) : nextHydratableInstance = r), reconcileChildren(e, t, t.pendingProps.children, n), markRef(e, t), null === e && (t.flags |= 4194304), t.child; case 5: return null === e && isHydrating && ((r = a = nextHydratableInstance) && (null !== (a = canHydrateInstance(a, t.type, t.pendingProps, rootOrSingletonContext)) ? (t.stateNode = a, hydrationParentFiber = t, nextHydratableInstance = getNextHydratable(a.firstChild), rootOrSingletonContext = !1, r = !0) : r = !1), r || throwOnHydrationMismatch(t)), pushHostContext(t), r = t.type, s = t.pendingProps, i = null !== e ? e.memoizedProps : null, a = s.children, shouldSetTextContent(r, s) ? a = null : null !== i && shouldSetTextContent(r, i) && (t.flags |= 32), null !== t.memoizedState && (r = renderWithHooks(e, t, TransitionAwareHostComponent, null, null, n), HostTransitionContext._currentValue = r), markRef(e, t), reconcileChildren(e, t, a, n), t.child; case 6: return null === e && isHydrating && ((e = n = nextHydratableInstance) && (null !== (n = canHydrateTextInstance(n, t.pendingProps, rootOrSingletonContext)) ? (t.stateNode = n, hydrationParentFiber = t, nextHydratableInstance = null, e = !0) : e = !1), e || throwOnHydrationMismatch(t)), null; case 13: return updateSuspenseComponent(e, t, n); case 4: return pushHostContainer(t, t.stateNode.containerInfo), a = t.pendingProps, null === e ? t.child = reconcileChildFibers(t, null, a, n) : reconcileChildren(e, t, a, n), t.child; case 11: return updateForwardRef(e, t, t.type, t.pendingProps, n); case 7: return reconcileChildren(e, t, t.pendingProps, n), t.child; case 8: case 12: return reconcileChildren(e, t, t.pendingProps.children, n), t.child; case 10: return a = t.pendingProps, pushProvider(t, t.type, a.value), reconcileChildren(e, t, a.children, n), t.child; case 9: return r = t.type._context, a = t.pendingProps.children, prepareToReadContext(t), a = a(r = readContext(r)), t.flags |= 1, reconcileChildren(e, t, a, n), t.child; case 14: return updateMemoComponent(e, t, t.type, t.pendingProps, n); case 15: return updateSimpleMemoComponent(e, t, t.type, t.pendingProps, n); case 19: return updateSuspenseListComponent(e, t, n); case 31: return a = t.pendingProps, n = t.mode, a = { mode: a.mode, children: a.children }, null === e ? ((n = mountWorkInProgressOffscreenFiber(a, n)).ref = t.ref, t.child = n, n.return = t, t = n) : ((n = createWorkInProgress(e.child, a)).ref = t.ref, t.child = n, n.return = t, t = n), t; case 22: return updateOffscreenComponent(e, t, n); case 24: return prepareToReadContext(t), a = readContext(CacheContext), null === e ? (null === (r = peekCacheFromPool()) && (r = workInProgressRoot, s = createCache(), r.pooledCache = s, s.refCount++, null !== s && (r.pooledCacheLanes |= n), r = s), t.memoizedState = { parent: a, cache: r }, initializeUpdateQueue(t), pushProvider(t, CacheContext, r)) : (0 !== (e.lanes & n) && (cloneUpdateQueue(e, t), processUpdateQueue(t, null, null, n), suspendIfUpdateReadFromEntangledAsyncAction()), r = e.memoizedState, s = t.memoizedState, r.parent !== a ? (r = { parent: a, cache: a }, t.memoizedState = r, 0 === t.lanes && (t.memoizedState = t.updateQueue.baseState = r), pushProvider(t, CacheContext, a)) : (a = s.cache, pushProvider(t, CacheContext, a), a !== r.cache && propagateContextChanges(t, [CacheContext], n, !0))), reconcileChildren(e, t, t.pendingProps.children, n), t.child; case 29: throw t.pendingProps }throw Error(formatProdErrorMessage$1(156, t.tag)) } function markUpdate(e) { e.flags |= 4 } function preloadResourceAndSuspendIfNeeded(e, t) { if ("stylesheet" !== t.type || 4 & t.state.loading) e.flags &= -16777217; else if (e.flags |= 16777216, !preloadResource(t)) { if (null !== (t = suspenseHandlerStackCursor.current) && ((4194048 & workInProgressRootRenderLanes) === workInProgressRootRenderLanes ? null !== shellBoundary : (62914560 & workInProgressRootRenderLanes) !== workInProgressRootRenderLanes && !(536870912 & workInProgressRootRenderLanes) || t !== shellBoundary)) throw suspendedThenable = noopSuspenseyCommitThenable, SuspenseyCommitException; e.flags |= 8192 } } function scheduleRetryEffect(e, t) { null !== t && (e.flags |= 4), 16384 & e.flags && (t = 22 !== e.tag ? claimNextRetryLane() : 536870912, e.lanes |= t, workInProgressSuspendedRetryLanes |= t) } function cutOffTailIfNeeded(e, t) { if (!isHydrating) switch (e.tailMode) { case "hidden": t = e.tail; for (var n = null; null !== t;)null !== t.alternate && (n = t), t = t.sibling; null === n ? e.tail = null : n.sibling = null; break; case "collapsed": n = e.tail; for (var a = null; null !== n;)null !== n.alternate && (a = n), n = n.sibling; null === a ? t || null === e.tail ? e.tail = null : e.tail.sibling = null : a.sibling = null } } function bubbleProperties(e) { var t = null !== e.alternate && e.alternate.child === e.child, n = 0, a = 0; if (t) for (var r = e.child; null !== r;)n |= r.lanes | r.childLanes, a |= 65011712 & r.subtreeFlags, a |= 65011712 & r.flags, r.return = e, r = r.sibling; else for (r = e.child; null !== r;)n |= r.lanes | r.childLanes, a |= r.subtreeFlags, a |= r.flags, r.return = e, r = r.sibling; return e.subtreeFlags |= a, e.childLanes = n, t } function completeWork(e, t, n) { var a = t.pendingProps; switch (popTreeContext(t), t.tag) { case 31: case 16: case 15: case 0: case 11: case 7: case 8: case 12: case 9: case 14: case 1: return bubbleProperties(t), null; case 3: return n = t.stateNode, a = null, null !== e && (a = e.memoizedState.cache), t.memoizedState.cache !== a && (t.flags |= 2048), popProvider(CacheContext), popHostContainer(), n.pendingContext && (n.context = n.pendingContext, n.pendingContext = null), null !== e && null !== e.child || (popHydrationState(t) ? markUpdate(t) : null === e || e.memoizedState.isDehydrated && !(256 & t.flags) || (t.flags |= 1024, upgradeHydrationErrorsToRecoverable())), bubbleProperties(t), null; case 26: return n = t.memoizedState, null === e ? (markUpdate(t), null !== n ? (bubbleProperties(t), preloadResourceAndSuspendIfNeeded(t, n)) : (bubbleProperties(t), t.flags &= -16777217)) : n ? n !== e.memoizedState ? (markUpdate(t), bubbleProperties(t), preloadResourceAndSuspendIfNeeded(t, n)) : (bubbleProperties(t), t.flags &= -16777217) : (e.memoizedProps !== a && markUpdate(t), bubbleProperties(t), t.flags &= -16777217), null; case 27: popHostContext(t), n = rootInstanceStackCursor.current; var r = t.type; if (null !== e && null != t.stateNode) e.memoizedProps !== a && markUpdate(t); else { if (!a) { if (null === t.stateNode) throw Error(formatProdErrorMessage$1(166)); return bubbleProperties(t), null } e = contextStackCursor.current, popHydrationState(t) ? prepareToHydrateHostInstance(t) : (e = resolveSingletonInstance(r, a, n), t.stateNode = e, markUpdate(t)) } return bubbleProperties(t), null; case 5: if (popHostContext(t), n = t.type, null !== e && null != t.stateNode) e.memoizedProps !== a && markUpdate(t); else { if (!a) { if (null === t.stateNode) throw Error(formatProdErrorMessage$1(166)); return bubbleProperties(t), null } if (e = contextStackCursor.current, popHydrationState(t)) prepareToHydrateHostInstance(t); else { switch (r = getOwnerDocumentFromRootContainer(rootInstanceStackCursor.current), e) { case 1: e = r.createElementNS("http://www.w3.org/2000/svg", n); break; case 2: e = r.createElementNS("http://www.w3.org/1998/Math/MathML", n); break; default: switch (n) { case "svg": e = r.createElementNS("http://www.w3.org/2000/svg", n); break; case "math": e = r.createElementNS("http://www.w3.org/1998/Math/MathML", n); break; case "script": (e = r.createElement("div")).innerHTML = "<script><\/script>", e = e.removeChild(e.firstChild); break; case "select": e = "string" == typeof a.is ? r.createElement("select", { is: a.is }) : r.createElement("select"), a.multiple ? e.multiple = !0 : a.size && (e.size = a.size); break; default: e = "string" == typeof a.is ? r.createElement(n, { is: a.is }) : r.createElement(n) } }e[internalInstanceKey] = t, e[internalPropsKey] = a; e: for (r = t.child; null !== r;) { if (5 === r.tag || 6 === r.tag) e.appendChild(r.stateNode); else if (4 !== r.tag && 27 !== r.tag && null !== r.child) { r.child.return = r, r = r.child; continue } if (r === t) break e; for (; null === r.sibling;) { if (null === r.return || r.return === t) break e; r = r.return } r.sibling.return = r.return, r = r.sibling } t.stateNode = e; e: switch (setInitialProperties(e, n, a), n) { case "button": case "input": case "select": case "textarea": e = !!a.autoFocus; break e; case "img": e = !0; break e; default: e = !1 }e && markUpdate(t) } } return bubbleProperties(t), t.flags &= -16777217, null; case 6: if (e && null != t.stateNode) e.memoizedProps !== a && markUpdate(t); else { if ("string" != typeof a && null === t.stateNode) throw Error(formatProdErrorMessage$1(166)); if (e = rootInstanceStackCursor.current, popHydrationState(t)) { if (e = t.stateNode, n = t.memoizedProps, a = null, null !== (r = hydrationParentFiber)) switch (r.tag) { case 27: case 5: a = r.memoizedProps }e[internalInstanceKey] = t, (e = !!(e.nodeValue === n || null !== a && !0 === a.suppressHydrationWarning || checkForUnmatchedText(e.nodeValue, n))) || throwOnHydrationMismatch(t) } else (e = getOwnerDocumentFromRootContainer(e).createTextNode(a))[internalInstanceKey] = t, t.stateNode = e } return bubbleProperties(t), null; case 13: if (a = t.memoizedState, null === e || null !== e.memoizedState && null !== e.memoizedState.dehydrated) { if (r = popHydrationState(t), null !== a && null !== a.dehydrated) { if (null === e) { if (!r) throw Error(formatProdErrorMessage$1(318)); if (!(r = null !== (r = t.memoizedState) ? r.dehydrated : null)) throw Error(formatProdErrorMessage$1(317)); r[internalInstanceKey] = t } else resetHydrationState(), !(128 & t.flags) && (t.memoizedState = null), t.flags |= 4; bubbleProperties(t), r = !1 } else r = upgradeHydrationErrorsToRecoverable(), null !== e && null !== e.memoizedState && (e.memoizedState.hydrationErrors = r), r = !0; if (!r) return 256 & t.flags ? (popSuspenseHandler(t), t) : (popSuspenseHandler(t), null) } if (popSuspenseHandler(t), 128 & t.flags) return t.lanes = n, t; if (n = null !== a, e = null !== e && null !== e.memoizedState, n) { r = null, null !== (a = t.child).alternate && null !== a.alternate.memoizedState && null !== a.alternate.memoizedState.cachePool && (r = a.alternate.memoizedState.cachePool.pool); var s = null; null !== a.memoizedState && null !== a.memoizedState.cachePool && (s = a.memoizedState.cachePool.pool), s !== r && (a.flags |= 2048) } return n !== e && n && (t.child.flags |= 8192), scheduleRetryEffect(t, t.updateQueue), bubbleProperties(t), null; case 4: return popHostContainer(), null === e && listenToAllSupportedEvents(t.stateNode.containerInfo), bubbleProperties(t), null; case 10: return popProvider(t.type), bubbleProperties(t), null; case 19: if (pop(suspenseStackCursor), null === (r = t.memoizedState)) return bubbleProperties(t), null; if (a = !!(128 & t.flags), null === (s = r.rendering)) if (a) cutOffTailIfNeeded(r, !1); else { if (0 !== workInProgressRootExitStatus || null !== e && 128 & e.flags) for (e = t.child; null !== e;) { if (null !== (s = findFirstSuspended(e))) { for (t.flags |= 128, cutOffTailIfNeeded(r, !1), e = s.updateQueue, t.updateQueue = e, scheduleRetryEffect(t, e), t.subtreeFlags = 0, e = n, n = t.child; null !== n;)resetWorkInProgress(n, e), n = n.sibling; return push(suspenseStackCursor, 1 & suspenseStackCursor.current | 2), t.child } e = e.sibling } null !== r.tail && now$2() > workInProgressRootRenderTargetTime && (t.flags |= 128, a = !0, cutOffTailIfNeeded(r, !1), t.lanes = 4194304) } else { if (!a) if (null !== (e = findFirstSuspended(s))) { if (t.flags |= 128, a = !0, e = e.updateQueue, t.updateQueue = e, scheduleRetryEffect(t, e), cutOffTailIfNeeded(r, !0), null === r.tail && "hidden" === r.tailMode && !s.alternate && !isHydrating) return bubbleProperties(t), null } else 2 * now$2() - r.renderingStartTime > workInProgressRootRenderTargetTime && 536870912 !== n && (t.flags |= 128, a = !0, cutOffTailIfNeeded(r, !1), t.lanes = 4194304); r.isBackwards ? (s.sibling = t.child, t.child = s) : (null !== (e = r.last) ? e.sibling = s : t.child = s, r.last = s) } return null !== r.tail ? (t = r.tail, r.rendering = t, r.tail = t.sibling, r.renderingStartTime = now$2(), t.sibling = null, e = suspenseStackCursor.current, push(suspenseStackCursor, a ? 1 & e | 2 : 1 & e), t) : (bubbleProperties(t), null); case 22: case 23: return popSuspenseHandler(t), popHiddenContext(), a = null !== t.memoizedState, null !== e ? null !== e.memoizedState !== a && (t.flags |= 8192) : a && (t.flags |= 8192), a ? !!(536870912 & n) && !(128 & t.flags) && (bubbleProperties(t), 6 & t.subtreeFlags && (t.flags |= 8192)) : bubbleProperties(t), null !== (n = t.updateQueue) && scheduleRetryEffect(t, n.retryQueue), n = null, null !== e && null !== e.memoizedState && null !== e.memoizedState.cachePool && (n = e.memoizedState.cachePool.pool), a = null, null !== t.memoizedState && null !== t.memoizedState.cachePool && (a = t.memoizedState.cachePool.pool), a !== n && (t.flags |= 2048), null !== e && pop(resumedCache), null; case 24: return n = null, null !== e && (n = e.memoizedState.cache), t.memoizedState.cache !== n && (t.flags |= 2048), popProvider(CacheContext), bubbleProperties(t), null; case 25: case 30: return null }throw Error(formatProdErrorMessage$1(156, t.tag)) } function unwindWork(e, t) { switch (popTreeContext(t), t.tag) { case 1: return 65536 & (e = t.flags) ? (t.flags = -65537 & e | 128, t) : null; case 3: return popProvider(CacheContext), popHostContainer(), 65536 & (e = t.flags) && !(128 & e) ? (t.flags = -65537 & e | 128, t) : null; case 26: case 27: case 5: return popHostContext(t), null; case 13: if (popSuspenseHandler(t), null !== (e = t.memoizedState) && null !== e.dehydrated) { if (null === t.alternate) throw Error(formatProdErrorMessage$1(340)); resetHydrationState() } return 65536 & (e = t.flags) ? (t.flags = -65537 & e | 128, t) : null; case 19: return pop(suspenseStackCursor), null; case 4: return popHostContainer(), null; case 10: return popProvider(t.type), null; case 22: case 23: return popSuspenseHandler(t), popHiddenContext(), null !== e && pop(resumedCache), 65536 & (e = t.flags) ? (t.flags = -65537 & e | 128, t) : null; case 24: return popProvider(CacheContext), null; default: return null } } function unwindInterruptedWork(e, t) { switch (popTreeContext(t), t.tag) { case 3: popProvider(CacheContext), popHostContainer(); break; case 26: case 27: case 5: popHostContext(t); break; case 4: popHostContainer(); break; case 13: popSuspenseHandler(t); break; case 19: pop(suspenseStackCursor); break; case 10: popProvider(t.type); break; case 22: case 23: popSuspenseHandler(t), popHiddenContext(), null !== e && pop(resumedCache); break; case 24: popProvider(CacheContext) } } function commitHookEffectListMount(e, t) { try { var n = t.updateQueue, a = null !== n ? n.lastEffect : null; if (null !== a) { var r = a.next; n = r; do { if ((n.tag & e) === e) { a = void 0; var s = n.create, i = n.inst; a = s(), i.destroy = a } n = n.next } while (n !== r) } } catch (o) { captureCommitPhaseError(t, t.return, o) } } function commitHookEffectListUnmount(e, t, n) { try { var a = t.updateQueue, r = null !== a ? a.lastEffect : null; if (null !== r) { var s = r.next; a = s; do { if ((a.tag & e) === e) { var i = a.inst, o = i.destroy; if (void 0 !== o) { i.destroy = void 0, r = t; var l = n, m = o; try { m() } catch (c) { captureCommitPhaseError(r, l, c) } } } a = a.next } while (a !== s) } } catch (c) { captureCommitPhaseError(t, t.return, c) } } function commitClassCallbacks(e) { var t = e.updateQueue; if (null !== t) { var n = e.stateNode; try { commitCallbacks(t, n) } catch (a) { captureCommitPhaseError(e, e.return, a) } } } function safelyCallComponentWillUnmount(e, t, n) { n.props = resolveClassComponentProps(e.type, e.memoizedProps), n.state = e.memoizedState; try { n.componentWillUnmount() } catch (a) { captureCommitPhaseError(e, t, a) } } function safelyAttachRef(e, t) { try { var n = e.ref; if (null !== n) { switch (e.tag) { case 26: case 27: case 5: var a = e.stateNode; break; default: a = e.stateNode }"function" == typeof n ? e.refCleanup = n(a) : n.current = a } } catch (r) { captureCommitPhaseError(e, t, r) } } function safelyDetachRef(e, t) { var n = e.ref, a = e.refCleanup; if (null !== n) if ("function" == typeof a) try { a() } catch (r) { captureCommitPhaseError(e, t, r) } finally { e.refCleanup = null, null != (e = e.alternate) && (e.refCleanup = null) } else if ("function" == typeof n) try { n(null) } catch (s) { captureCommitPhaseError(e, t, s) } else n.current = null } function commitHostMount(e) { var t = e.type, n = e.memoizedProps, a = e.stateNode; try { e: switch (t) { case "button": case "input": case "select": case "textarea": n.autoFocus && a.focus(); break e; case "img": n.src ? a.src = n.src : n.srcSet && (a.srcset = n.srcSet) } } catch (r) { captureCommitPhaseError(e, e.return, r) } } function commitHostUpdate(e, t, n) { try { var a = e.stateNode; updateProperties(a, e.type, n, t), a[internalPropsKey] = t } catch (r) { captureCommitPhaseError(e, e.return, r) } } function isHostParent(e) { return 5 === e.tag || 3 === e.tag || 26 === e.tag || 27 === e.tag && isSingletonScope(e.type) || 4 === e.tag } function getHostSibling(e) { e: for (; ;) { for (; null === e.sibling;) { if (null === e.return || isHostParent(e.return)) return null; e = e.return } for (e.sibling.return = e.return, e = e.sibling; 5 !== e.tag && 6 !== e.tag && 18 !== e.tag;) { if (27 === e.tag && isSingletonScope(e.type)) continue e; if (2 & e.flags) continue e; if (null === e.child || 4 === e.tag) continue e; e.child.return = e, e = e.child } if (!(2 & e.flags)) return e.stateNode } } function insertOrAppendPlacementNodeIntoContainer(e, t, n) { var a = e.tag; if (5 === a || 6 === a) e = e.stateNode, t ? (9 === n.nodeType ? n.body : "HTML" === n.nodeName ? n.ownerDocument.body : n).insertBefore(e, t) : ((t = 9 === n.nodeType ? n.body : "HTML" === n.nodeName ? n.ownerDocument.body : n).appendChild(e), null != (n = n._reactRootContainer) || null !== t.onclick || (t.onclick = noop$1)); else if (4 !== a && (27 === a && isSingletonScope(e.type) && (n = e.stateNode, t = null), null !== (e = e.child))) for (insertOrAppendPlacementNodeIntoContainer(e, t, n), e = e.sibling; null !== e;)insertOrAppendPlacementNodeIntoContainer(e, t, n), e = e.sibling } function insertOrAppendPlacementNode(e, t, n) { var a = e.tag; if (5 === a || 6 === a) e = e.stateNode, t ? n.insertBefore(e, t) : n.appendChild(e); else if (4 !== a && (27 === a && isSingletonScope(e.type) && (n = e.stateNode), null !== (e = e.child))) for (insertOrAppendPlacementNode(e, t, n), e = e.sibling; null !== e;)insertOrAppendPlacementNode(e, t, n), e = e.sibling } function commitHostSingletonAcquisition(e) { var t = e.stateNode, n = e.memoizedProps; try { for (var a = e.type, r = t.attributes; r.length;)t.removeAttributeNode(r[0]); setInitialProperties(t, a, n), t[internalInstanceKey] = e, t[internalPropsKey] = n } catch (s) { captureCommitPhaseError(e, e.return, s) } } var offscreenSubtreeIsHidden = !1, offscreenSubtreeWasHidden = !1, needsFormReset = !1, PossiblyWeakSet = "function" == typeof WeakSet ? WeakSet : Set, nextEffect = null; function commitBeforeMutationEffects(e, t) { if (e = e.containerInfo, eventsEnabled = _enabled, hasSelectionCapabilities(e = getActiveElementDeep(e))) { if ("selectionStart" in e) var n = { start: e.selectionStart, end: e.selectionEnd }; else { var a = (n = (n = e.ownerDocument) && n.defaultView || window).getSelection && n.getSelection(); if (a && 0 !== a.rangeCount) { n = a.anchorNode; var r = a.anchorOffset, s = a.focusNode; a = a.focusOffset; var i = 0, o = -1, l = -1, m = 0, c = 0, u = e, A = null; e: for (; ;) { for (var p; u !== n || 0 !== r && 3 !== u.nodeType || (o = i + r), u !== s || 0 !== a && 3 !== u.nodeType || (l = i + a), 3 === u.nodeType && (i += u.nodeValue.length), null !== (p = u.firstChild);)A = u, u = p; for (; ;) { if (u === e) break e; if (A === n && ++m === r && (o = i), A === s && ++c === a && (l = i), null !== (p = u.nextSibling)) break; A = (u = A).parentNode } u = p } n = -1 === o || -1 === l ? null : { start: o, end: l } } else n = null } n = n || { start: 0, end: 0 } } else n = null; for (selectionInformation = { focusedElem: e, selectionRange: n }, _enabled = !1, nextEffect = t; null !== nextEffect;)if (e = (t = nextEffect).child, 1024 & t.subtreeFlags && null !== e) e.return = t, nextEffect = e; else for (; null !== nextEffect;) { switch (s = (t = nextEffect).alternate, e = t.flags, t.tag) { case 0: case 11: case 15: case 5: case 26: case 27: case 6: case 4: case 17: break; case 1: if (1024 & e && null !== s) { e = void 0, n = t, r = s.memoizedProps, s = s.memoizedState, a = n.stateNode; try { var d = resolveClassComponentProps(n.type, r); e = a.getSnapshotBeforeUpdate(d, s), a.__reactInternalSnapshotBeforeUpdate = e } catch (_) { captureCommitPhaseError(n, n.return, _) } } break; case 3: if (1024 & e) if (9 === (n = (e = t.stateNode.containerInfo).nodeType)) clearContainerSparingly(e); else if (1 === n) switch (e.nodeName) { case "HEAD": case "HTML": case "BODY": clearContainerSparingly(e); break; default: e.textContent = "" }break; default: if (1024 & e) throw Error(formatProdErrorMessage$1(163)) }if (null !== (e = t.sibling)) { e.return = t.return, nextEffect = e; break } nextEffect = t.return } } function commitLayoutEffectOnFiber(e, t, n) { var a = n.flags; switch (n.tag) { case 0: case 11: case 15: recursivelyTraverseLayoutEffects(e, n), 4 & a && commitHookEffectListMount(5, n); break; case 1: if (recursivelyTraverseLayoutEffects(e, n), 4 & a) if (e = n.stateNode, null === t) try { e.componentDidMount() } catch (i) { captureCommitPhaseError(n, n.return, i) } else { var r = resolveClassComponentProps(n.type, t.memoizedProps); t = t.memoizedState; try { e.componentDidUpdate(r, t, e.__reactInternalSnapshotBeforeUpdate) } catch (o) { captureCommitPhaseError(n, n.return, o) } } 64 & a && commitClassCallbacks(n), 512 & a && safelyAttachRef(n, n.return); break; case 3: if (recursivelyTraverseLayoutEffects(e, n), 64 & a && null !== (e = n.updateQueue)) { if (t = null, null !== n.child) switch (n.child.tag) { case 27: case 5: case 1: t = n.child.stateNode }try { commitCallbacks(e, t) } catch (i) { captureCommitPhaseError(n, n.return, i) } } break; case 27: null === t && 4 & a && commitHostSingletonAcquisition(n); case 26: case 5: recursivelyTraverseLayoutEffects(e, n), null === t && 4 & a && commitHostMount(n), 512 & a && safelyAttachRef(n, n.return); break; case 12: recursivelyTraverseLayoutEffects(e, n); break; case 13: recursivelyTraverseLayoutEffects(e, n), 4 & a && commitSuspenseHydrationCallbacks(e, n), 64 & a && null !== (e = n.memoizedState) && null !== (e = e.dehydrated) && registerSuspenseInstanceRetry(e, n = retryDehydratedSuspenseBoundary.bind(null, n)); break; case 22: if (!(a = null !== n.memoizedState || offscreenSubtreeIsHidden)) { t = null !== t && null !== t.memoizedState || offscreenSubtreeWasHidden, r = offscreenSubtreeIsHidden; var s = offscreenSubtreeWasHidden; offscreenSubtreeIsHidden = a, (offscreenSubtreeWasHidden = t) && !s ? recursivelyTraverseReappearLayoutEffects(e, n, !!(8772 & n.subtreeFlags)) : recursivelyTraverseLayoutEffects(e, n), offscreenSubtreeIsHidden = r, offscreenSubtreeWasHidden = s } break; case 30: break; default: recursivelyTraverseLayoutEffects(e, n) } } function detachFiberAfterEffects(e) { var t = e.alternate; null !== t && (e.alternate = null, detachFiberAfterEffects(t)), e.child = null, e.deletions = null, e.sibling = null, 5 === e.tag && null !== (t = e.stateNode) && detachDeletedInstance(t), e.stateNode = null, e.return = null, e.dependencies = null, e.memoizedProps = null, e.memoizedState = null, e.pendingProps = null, e.stateNode = null, e.updateQueue = null } var hostParent = null, hostParentIsContainer = !1; function recursivelyTraverseDeletionEffects(e, t, n) { for (n = n.child; null !== n;)commitDeletionEffectsOnFiber(e, t, n), n = n.sibling } function commitDeletionEffectsOnFiber(e, t, n) { if (injectedHook && "function" == typeof injectedHook.onCommitFiberUnmount) try { injectedHook.onCommitFiberUnmount(rendererID, n) } catch (err) { } switch (n.tag) { case 26: offscreenSubtreeWasHidden || safelyDetachRef(n, t), recursivelyTraverseDeletionEffects(e, t, n), n.memoizedState ? n.memoizedState.count-- : n.stateNode && (n = n.stateNode).parentNode.removeChild(n); break; case 27: offscreenSubtreeWasHidden || safelyDetachRef(n, t); var a = hostParent, r = hostParentIsContainer; isSingletonScope(n.type) && (hostParent = n.stateNode, hostParentIsContainer = !1), recursivelyTraverseDeletionEffects(e, t, n), releaseSingletonInstance(n.stateNode), hostParent = a, hostParentIsContainer = r; break; case 5: offscreenSubtreeWasHidden || safelyDetachRef(n, t); case 6: if (a = hostParent, r = hostParentIsContainer, hostParent = null, recursivelyTraverseDeletionEffects(e, t, n), hostParentIsContainer = r, null !== (hostParent = a)) if (hostParentIsContainer) try { (9 === hostParent.nodeType ? hostParent.body : "HTML" === hostParent.nodeName ? hostParent.ownerDocument.body : hostParent).removeChild(n.stateNode) } catch (s) { captureCommitPhaseError(n, t, s) } else try { hostParent.removeChild(n.stateNode) } catch (s) { captureCommitPhaseError(n, t, s) } break; case 18: null !== hostParent && (hostParentIsContainer ? (clearSuspenseBoundary(9 === (e = hostParent).nodeType ? e.body : "HTML" === e.nodeName ? e.ownerDocument.body : e, n.stateNode), retryIfBlockedOn(e)) : clearSuspenseBoundary(hostParent, n.stateNode)); break; case 4: a = hostParent, r = hostParentIsContainer, hostParent = n.stateNode.containerInfo, hostParentIsContainer = !0, recursivelyTraverseDeletionEffects(e, t, n), hostParent = a, hostParentIsContainer = r; break; case 0: case 11: case 14: case 15: offscreenSubtreeWasHidden || commitHookEffectListUnmount(2, n, t), offscreenSubtreeWasHidden || commitHookEffectListUnmount(4, n, t), recursivelyTraverseDeletionEffects(e, t, n); break; case 1: offscreenSubtreeWasHidden || (safelyDetachRef(n, t), "function" == typeof (a = n.stateNode).componentWillUnmount && safelyCallComponentWillUnmount(n, t, a)), recursivelyTraverseDeletionEffects(e, t, n); break; case 21: recursivelyTraverseDeletionEffects(e, t, n); break; case 22: offscreenSubtreeWasHidden = (a = offscreenSubtreeWasHidden) || null !== n.memoizedState, recursivelyTraverseDeletionEffects(e, t, n), offscreenSubtreeWasHidden = a; break; default: recursivelyTraverseDeletionEffects(e, t, n) } } function commitSuspenseHydrationCallbacks(e, t) { if (null === t.memoizedState && null !== (e = t.alternate) && null !== (e = e.memoizedState) && null !== (e = e.dehydrated)) try { retryIfBlockedOn(e) } catch (n) { captureCommitPhaseError(t, t.return, n) } } function getRetryCache(e) { switch (e.tag) { case 13: case 19: var t = e.stateNode; return null === t && (t = e.stateNode = new PossiblyWeakSet), t; case 22: return null === (t = (e = e.stateNode)._retryCache) && (t = e._retryCache = new PossiblyWeakSet), t; default: throw Error(formatProdErrorMessage$1(435, e.tag)) } } function attachSuspenseRetryListeners(e, t) { var n = getRetryCache(e); t.forEach(function (t) { var a = resolveRetryWakeable.bind(null, e, t); n.has(t) || (n.add(t), t.then(a, a)) }) } function recursivelyTraverseMutationEffects(e, t) { var n = t.deletions; if (null !== n) for (var a = 0; a < n.length; a++) { var r = n[a], s = e, i = t, o = i; e: for (; null !== o;) { switch (o.tag) { case 27: if (isSingletonScope(o.type)) { hostParent = o.stateNode, hostParentIsContainer = !1; break e } break; case 5: hostParent = o.stateNode, hostParentIsContainer = !1; break e; case 3: case 4: hostParent = o.stateNode.containerInfo, hostParentIsContainer = !0; break e }o = o.return } if (null === hostParent) throw Error(formatProdErrorMessage$1(160)); commitDeletionEffectsOnFiber(s, i, r), hostParent = null, hostParentIsContainer = !1, null !== (s = r.alternate) && (s.return = null), r.return = null } if (13878 & t.subtreeFlags) for (t = t.child; null !== t;)commitMutationEffectsOnFiber(t, e), t = t.sibling } var currentHoistableRoot = null; function commitMutationEffectsOnFiber(e, t) { var n = e.alternate, a = e.flags; switch (e.tag) { case 0: case 11: case 14: case 15: recursivelyTraverseMutationEffects(t, e), commitReconciliationEffects(e), 4 & a && (commitHookEffectListUnmount(3, e, e.return), commitHookEffectListMount(3, e), commitHookEffectListUnmount(5, e, e.return)); break; case 1: recursivelyTraverseMutationEffects(t, e), commitReconciliationEffects(e), 512 & a && (offscreenSubtreeWasHidden || null === n || safelyDetachRef(n, n.return)), 64 & a && offscreenSubtreeIsHidden && null !== (e = e.updateQueue) && null !== (a = e.callbacks) && (n = e.shared.hiddenCallbacks, e.shared.hiddenCallbacks = null === n ? a : n.concat(a)); break; case 26: var r = currentHoistableRoot; if (recursivelyTraverseMutationEffects(t, e), commitReconciliationEffects(e), 512 & a && (offscreenSubtreeWasHidden || null === n || safelyDetachRef(n, n.return)), 4 & a) { var s = null !== n ? n.memoizedState : null; if (a = e.memoizedState, null === n) if (null === a) if (null === e.stateNode) { e: { a = e.type, n = e.memoizedProps, r = r.ownerDocument || r; t: switch (a) { case "title": (!(s = r.getElementsByTagName("title")[0]) || s[internalHoistableMarker] || s[internalInstanceKey] || "http://www.w3.org/2000/svg" === s.namespaceURI || s.hasAttribute("itemprop")) && (s = r.createElement(a), r.head.insertBefore(s, r.querySelector("head > title"))), setInitialProperties(s, a, n), s[internalInstanceKey] = e, markNodeAsHoistable(s), a = s; break e; case "link": var i = getHydratableHoistableCache("link", "href", r).get(a + (n.href || "")); if (i) for (var o = 0; o < i.length; o++)if ((s = i[o]).getAttribute("href") === (null == n.href || "" === n.href ? null : n.href) && s.getAttribute("rel") === (null == n.rel ? null : n.rel) && s.getAttribute("title") === (null == n.title ? null : n.title) && s.getAttribute("crossorigin") === (null == n.crossOrigin ? null : n.crossOrigin)) { i.splice(o, 1); break t } setInitialProperties(s = r.createElement(a), a, n), r.head.appendChild(s); break; case "meta": if (i = getHydratableHoistableCache("meta", "content", r).get(a + (n.content || ""))) for (o = 0; o < i.length; o++)if ((s = i[o]).getAttribute("content") === (null == n.content ? null : "" + n.content) && s.getAttribute("name") === (null == n.name ? null : n.name) && s.getAttribute("property") === (null == n.property ? null : n.property) && s.getAttribute("http-equiv") === (null == n.httpEquiv ? null : n.httpEquiv) && s.getAttribute("charset") === (null == n.charSet ? null : n.charSet)) { i.splice(o, 1); break t } setInitialProperties(s = r.createElement(a), a, n), r.head.appendChild(s); break; default: throw Error(formatProdErrorMessage$1(468, a)) }s[internalInstanceKey] = e, markNodeAsHoistable(s), a = s } e.stateNode = a } else mountHoistable(r, e.type, e.stateNode); else e.stateNode = acquireResource(r, a, e.memoizedProps); else s !== a ? (null === s ? null !== n.stateNode && (n = n.stateNode).parentNode.removeChild(n) : s.count--, null === a ? mountHoistable(r, e.type, e.stateNode) : acquireResource(r, a, e.memoizedProps)) : null === a && null !== e.stateNode && commitHostUpdate(e, e.memoizedProps, n.memoizedProps) } break; case 27: recursivelyTraverseMutationEffects(t, e), commitReconciliationEffects(e), 512 & a && (offscreenSubtreeWasHidden || null === n || safelyDetachRef(n, n.return)), null !== n && 4 & a && commitHostUpdate(e, e.memoizedProps, n.memoizedProps); break; case 5: if (recursivelyTraverseMutationEffects(t, e), commitReconciliationEffects(e), 512 & a && (offscreenSubtreeWasHidden || null === n || safelyDetachRef(n, n.return)), 32 & e.flags) { r = e.stateNode; try { setTextContent(r, "") } catch (p) { captureCommitPhaseError(e, e.return, p) } } 4 & a && null != e.stateNode && commitHostUpdate(e, r = e.memoizedProps, null !== n ? n.memoizedProps : r), 1024 & a && (needsFormReset = !0); break; case 6: if (recursivelyTraverseMutationEffects(t, e), commitReconciliationEffects(e), 4 & a) { if (null === e.stateNode) throw Error(formatProdErrorMessage$1(162)); a = e.memoizedProps, n = e.stateNode; try { n.nodeValue = a } catch (p) { captureCommitPhaseError(e, e.return, p) } } break; case 3: if (tagCaches = null, r = currentHoistableRoot, currentHoistableRoot = getHoistableRoot(t.containerInfo), recursivelyTraverseMutationEffects(t, e), currentHoistableRoot = r, commitReconciliationEffects(e), 4 & a && null !== n && n.memoizedState.isDehydrated) try { retryIfBlockedOn(t.containerInfo) } catch (p) { captureCommitPhaseError(e, e.return, p) } needsFormReset && (needsFormReset = !1, recursivelyResetForms(e)); break; case 4: a = currentHoistableRoot, currentHoistableRoot = getHoistableRoot(e.stateNode.containerInfo), recursivelyTraverseMutationEffects(t, e), commitReconciliationEffects(e), currentHoistableRoot = a; break; case 12: default: recursivelyTraverseMutationEffects(t, e), commitReconciliationEffects(e); break; case 13: recursivelyTraverseMutationEffects(t, e), commitReconciliationEffects(e), 8192 & e.child.flags && null !== e.memoizedState != (null !== n && null !== n.memoizedState) && (globalMostRecentFallbackTime = now$2()), 4 & a && null !== (a = e.updateQueue) && (e.updateQueue = null, attachSuspenseRetryListeners(e, a)); break; case 22: r = null !== e.memoizedState; var l = null !== n && null !== n.memoizedState, m = offscreenSubtreeIsHidden, c = offscreenSubtreeWasHidden; if (offscreenSubtreeIsHidden = m || r, offscreenSubtreeWasHidden = c || l, recursivelyTraverseMutationEffects(t, e), offscreenSubtreeWasHidden = c, offscreenSubtreeIsHidden = m, commitReconciliationEffects(e), 8192 & a) e: for (t = e.stateNode, t._visibility = r ? -2 & t._visibility : 1 | t._visibility, r && (null === n || l || offscreenSubtreeIsHidden || offscreenSubtreeWasHidden || recursivelyTraverseDisappearLayoutEffects(e)), n = null, t = e; ;) { if (5 === t.tag || 26 === t.tag) { if (null === n) { l = n = t; try { if (s = l.stateNode, r) "function" == typeof (i = s.style).setProperty ? i.setProperty("display", "none", "important") : i.display = "none"; else { o = l.stateNode; var u = l.memoizedProps.style, A = null != u && u.hasOwnProperty("display") ? u.display : null; o.style.display = null == A || "boolean" == typeof A ? "" : ("" + A).trim() } } catch (p) { captureCommitPhaseError(l, l.return, p) } } } else if (6 === t.tag) { if (null === n) { l = t; try { l.stateNode.nodeValue = r ? "" : l.memoizedProps } catch (p) { captureCommitPhaseError(l, l.return, p) } } } else if ((22 !== t.tag && 23 !== t.tag || null === t.memoizedState || t === e) && null !== t.child) { t.child.return = t, t = t.child; continue } if (t === e) break e; for (; null === t.sibling;) { if (null === t.return || t.return === e) break e; n === t && (n = null), t = t.return } n === t && (n = null), t.sibling.return = t.return, t = t.sibling } 4 & a && null !== (a = e.updateQueue) && null !== (n = a.retryQueue) && (a.retryQueue = null, attachSuspenseRetryListeners(e, n)); break; case 19: recursivelyTraverseMutationEffects(t, e), commitReconciliationEffects(e), 4 & a && null !== (a = e.updateQueue) && (e.updateQueue = null, attachSuspenseRetryListeners(e, a)); case 30: case 21: } } function commitReconciliationEffects(e) { var t = e.flags; if (2 & t) { try { for (var n, a = e.return; null !== a;) { if (isHostParent(a)) { n = a; break } a = a.return } if (null == n) throw Error(formatProdErrorMessage$1(160)); switch (n.tag) { case 27: var r = n.stateNode; insertOrAppendPlacementNode(e, getHostSibling(e), r); break; case 5: var s = n.stateNode; 32 & n.flags && (setTextContent(s, ""), n.flags &= -33), insertOrAppendPlacementNode(e, getHostSibling(e), s); break; case 3: case 4: var i = n.stateNode.containerInfo; insertOrAppendPlacementNodeIntoContainer(e, getHostSibling(e), i); break; default: throw Error(formatProdErrorMessage$1(161)) } } catch (o) { captureCommitPhaseError(e, e.return, o) } e.flags &= -3 } 4096 & t && (e.flags &= -4097) } function recursivelyResetForms(e) { if (1024 & e.subtreeFlags) for (e = e.child; null !== e;) { var t = e; recursivelyResetForms(t), 5 === t.tag && 1024 & t.flags && t.stateNode.reset(), e = e.sibling } } function recursivelyTraverseLayoutEffects(e, t) { if (8772 & t.subtreeFlags) for (t = t.child; null !== t;)commitLayoutEffectOnFiber(e, t.alternate, t), t = t.sibling } function recursivelyTraverseDisappearLayoutEffects(e) { for (e = e.child; null !== e;) { var t = e; switch (t.tag) { case 0: case 11: case 14: case 15: commitHookEffectListUnmount(4, t, t.return), recursivelyTraverseDisappearLayoutEffects(t); break; case 1: safelyDetachRef(t, t.return); var n = t.stateNode; "function" == typeof n.componentWillUnmount && safelyCallComponentWillUnmount(t, t.return, n), recursivelyTraverseDisappearLayoutEffects(t); break; case 27: releaseSingletonInstance(t.stateNode); case 26: case 5: safelyDetachRef(t, t.return), recursivelyTraverseDisappearLayoutEffects(t); break; case 22: null === t.memoizedState && recursivelyTraverseDisappearLayoutEffects(t); break; default: recursivelyTraverseDisappearLayoutEffects(t) }e = e.sibling } } function recursivelyTraverseReappearLayoutEffects(e, t, n) { for (n = n && !!(8772 & t.subtreeFlags), t = t.child; null !== t;) { var a = t.alternate, r = e, s = t, i = s.flags; switch (s.tag) { case 0: case 11: case 15: recursivelyTraverseReappearLayoutEffects(r, s, n), commitHookEffectListMount(4, s); break; case 1: if (recursivelyTraverseReappearLayoutEffects(r, s, n), "function" == typeof (r = (a = s).stateNode).componentDidMount) try { r.componentDidMount() } catch (m) { captureCommitPhaseError(a, a.return, m) } if (null !== (r = (a = s).updateQueue)) { var o = a.stateNode; try { var l = r.shared.hiddenCallbacks; if (null !== l) for (r.shared.hiddenCallbacks = null, r = 0; r < l.length; r++)callCallback(l[r], o) } catch (m) { captureCommitPhaseError(a, a.return, m) } } n && 64 & i && commitClassCallbacks(s), safelyAttachRef(s, s.return); break; case 27: commitHostSingletonAcquisition(s); case 26: case 5: recursivelyTraverseReappearLayoutEffects(r, s, n), n && null === a && 4 & i && commitHostMount(s), safelyAttachRef(s, s.return); break; case 12: recursivelyTraverseReappearLayoutEffects(r, s, n); break; case 13: recursivelyTraverseReappearLayoutEffects(r, s, n), n && 4 & i && commitSuspenseHydrationCallbacks(r, s); break; case 22: null === s.memoizedState && recursivelyTraverseReappearLayoutEffects(r, s, n), safelyAttachRef(s, s.return); break; case 30: break; default: recursivelyTraverseReappearLayoutEffects(r, s, n) }t = t.sibling } } function commitOffscreenPassiveMountEffects(e, t) { var n = null; null !== e && null !== e.memoizedState && null !== e.memoizedState.cachePool && (n = e.memoizedState.cachePool.pool), e = null, null !== t.memoizedState && null !== t.memoizedState.cachePool && (e = t.memoizedState.cachePool.pool), e !== n && (null != e && e.refCount++, null != n && releaseCache(n)) } function commitCachePassiveMountEffect(e, t) { e = null, null !== t.alternate && (e = t.alternate.memoizedState.cache), (t = t.memoizedState.cache) !== e && (t.refCount++, null != e && releaseCache(e)) } function recursivelyTraversePassiveMountEffects(e, t, n, a) { if (10256 & t.subtreeFlags) for (t = t.child; null !== t;)commitPassiveMountOnFiber(e, t, n, a), t = t.sibling } function commitPassiveMountOnFiber(e, t, n, a) { var r = t.flags; switch (t.tag) { case 0: case 11: case 15: recursivelyTraversePassiveMountEffects(e, t, n, a), 2048 & r && commitHookEffectListMount(9, t); break; case 1: case 13: default: recursivelyTraversePassiveMountEffects(e, t, n, a); break; case 3: recursivelyTraversePassiveMountEffects(e, t, n, a), 2048 & r && (e = null, null !== t.alternate && (e = t.alternate.memoizedState.cache), (t = t.memoizedState.cache) !== e && (t.refCount++, null != e && releaseCache(e))); break; case 12: if (2048 & r) { recursivelyTraversePassiveMountEffects(e, t, n, a), e = t.stateNode; try { var s = t.memoizedProps, i = s.id, o = s.onPostCommit; "function" == typeof o && o(i, null === t.alternate ? "mount" : "update", e.passiveEffectDuration, -0) } catch (l) { captureCommitPhaseError(t, t.return, l) } } else recursivelyTraversePassiveMountEffects(e, t, n, a); break; case 23: break; case 22: s = t.stateNode, i = t.alternate, null !== t.memoizedState ? 2 & s._visibility ? recursivelyTraversePassiveMountEffects(e, t, n, a) : recursivelyTraverseAtomicPassiveEffects(e, t) : 2 & s._visibility ? recursivelyTraversePassiveMountEffects(e, t, n, a) : (s._visibility |= 2, recursivelyTraverseReconnectPassiveEffects(e, t, n, a, !!(10256 & t.subtreeFlags))), 2048 & r && commitOffscreenPassiveMountEffects(i, t); break; case 24: recursivelyTraversePassiveMountEffects(e, t, n, a), 2048 & r && commitCachePassiveMountEffect(t.alternate, t) } } function recursivelyTraverseReconnectPassiveEffects(e, t, n, a, r) { for (r = r && !!(10256 & t.subtreeFlags), t = t.child; null !== t;) { var s = e, i = t, o = n, l = a, m = i.flags; switch (i.tag) { case 0: case 11: case 15: recursivelyTraverseReconnectPassiveEffects(s, i, o, l, r), commitHookEffectListMount(8, i); break; case 23: break; case 22: var c = i.stateNode; null !== i.memoizedState ? 2 & c._visibility ? recursivelyTraverseReconnectPassiveEffects(s, i, o, l, r) : recursivelyTraverseAtomicPassiveEffects(s, i) : (c._visibility |= 2, recursivelyTraverseReconnectPassiveEffects(s, i, o, l, r)), r && 2048 & m && commitOffscreenPassiveMountEffects(i.alternate, i); break; case 24: recursivelyTraverseReconnectPassiveEffects(s, i, o, l, r), r && 2048 & m && commitCachePassiveMountEffect(i.alternate, i); break; default: recursivelyTraverseReconnectPassiveEffects(s, i, o, l, r) }t = t.sibling } } function recursivelyTraverseAtomicPassiveEffects(e, t) { if (10256 & t.subtreeFlags) for (t = t.child; null !== t;) { var n = e, a = t, r = a.flags; switch (a.tag) { case 22: recursivelyTraverseAtomicPassiveEffects(n, a), 2048 & r && commitOffscreenPassiveMountEffects(a.alternate, a); break; case 24: recursivelyTraverseAtomicPassiveEffects(n, a), 2048 & r && commitCachePassiveMountEffect(a.alternate, a); break; default: recursivelyTraverseAtomicPassiveEffects(n, a) }t = t.sibling } } var suspenseyCommitFlag = 8192; function recursivelyAccumulateSuspenseyCommit(e) { if (e.subtreeFlags & suspenseyCommitFlag) for (e = e.child; null !== e;)accumulateSuspenseyCommitOnFiber(e), e = e.sibling } function accumulateSuspenseyCommitOnFiber(e) { switch (e.tag) { case 26: recursivelyAccumulateSuspenseyCommit(e), e.flags & suspenseyCommitFlag && null !== e.memoizedState && suspendResource(currentHoistableRoot, e.memoizedState, e.memoizedProps); break; case 5: default: recursivelyAccumulateSuspenseyCommit(e); break; case 3: case 4: var t = currentHoistableRoot; currentHoistableRoot = getHoistableRoot(e.stateNode.containerInfo), recursivelyAccumulateSuspenseyCommit(e), currentHoistableRoot = t; break; case 22: null === e.memoizedState && (null !== (t = e.alternate) && null !== t.memoizedState ? (t = suspenseyCommitFlag, suspenseyCommitFlag = 16777216, recursivelyAccumulateSuspenseyCommit(e), suspenseyCommitFlag = t) : recursivelyAccumulateSuspenseyCommit(e)) } } function detachAlternateSiblings(e) { var t = e.alternate; if (null !== t && null !== (e = t.child)) { t.child = null; do { t = e.sibling, e.sibling = null, e = t } while (null !== e) } } function recursivelyTraversePassiveUnmountEffects(e) { var t = e.deletions; if (16 & e.flags) { if (null !== t) for (var n = 0; n < t.length; n++) { var a = t[n]; nextEffect = a, commitPassiveUnmountEffectsInsideOfDeletedTree_begin(a, e) } detachAlternateSiblings(e) } if (10256 & e.subtreeFlags) for (e = e.child; null !== e;)commitPassiveUnmountOnFiber(e), e = e.sibling } function commitPassiveUnmountOnFiber(e) { switch (e.tag) { case 0: case 11: case 15: recursivelyTraversePassiveUnmountEffects(e), 2048 & e.flags && commitHookEffectListUnmount(9, e, e.return); break; case 3: case 12: default: recursivelyTraversePassiveUnmountEffects(e); break; case 22: var t = e.stateNode; null !== e.memoizedState && 2 & t._visibility && (null === e.return || 13 !== e.return.tag) ? (t._visibility &= -3, recursivelyTraverseDisconnectPassiveEffects(e)) : recursivelyTraversePassiveUnmountEffects(e) } } function recursivelyTraverseDisconnectPassiveEffects(e) { var t = e.deletions; if (16 & e.flags) { if (null !== t) for (var n = 0; n < t.length; n++) { var a = t[n]; nextEffect = a, commitPassiveUnmountEffectsInsideOfDeletedTree_begin(a, e) } detachAlternateSiblings(e) } for (e = e.child; null !== e;) { switch ((t = e).tag) { case 0: case 11: case 15: commitHookEffectListUnmount(8, t, t.return), recursivelyTraverseDisconnectPassiveEffects(t); break; case 22: 2 & (n = t.stateNode)._visibility && (n._visibility &= -3, recursivelyTraverseDisconnectPassiveEffects(t)); break; default: recursivelyTraverseDisconnectPassiveEffects(t) }e = e.sibling } } function commitPassiveUnmountEffectsInsideOfDeletedTree_begin(e, t) { for (; null !== nextEffect;) { var n = nextEffect; switch (n.tag) { case 0: case 11: case 15: commitHookEffectListUnmount(8, n, t); break; case 23: case 22: if (null !== n.memoizedState && null !== n.memoizedState.cachePool) { var a = n.memoizedState.cachePool.pool; null != a && a.refCount++ } break; case 24: releaseCache(n.memoizedState.cache) }if (null !== (a = n.child)) a.return = n, nextEffect = a; else e: for (n = e; null !== nextEffect;) { var r = (a = nextEffect).sibling, s = a.return; if (detachFiberAfterEffects(a), a === n) { nextEffect = null; break e } if (null !== r) { r.return = s, nextEffect = r; break e } nextEffect = s } } } var DefaultAsyncDispatcher = { getCacheForType: function (e) { var t = readContext(CacheContext), n = t.data.get(e); return void 0 === n && (n = e(), t.data.set(e, n)), n } }, PossiblyWeakMap = "function" == typeof WeakMap ? WeakMap : Map, executionContext = 0, workInProgressRoot = null, workInProgress = null, workInProgressRootRenderLanes = 0, workInProgressSuspendedReason = 0, workInProgressThrownValue = null, workInProgressRootDidSkipSuspendedSiblings = !1, workInProgressRootIsPrerendering = !1, workInProgressRootDidAttachPingListener = !1, entangledRenderLanes = 0, workInProgressRootExitStatus = 0, workInProgressRootSkippedLanes = 0, workInProgressRootInterleavedUpdatedLanes = 0, workInProgressRootPingedLanes = 0, workInProgressDeferredLane = 0, workInProgressSuspendedRetryLanes = 0, workInProgressRootConcurrentErrors = null, workInProgressRootRecoverableErrors = null, workInProgressRootDidIncludeRecursiveRenderUpdate = !1, globalMostRecentFallbackTime = 0, workInProgressRootRenderTargetTime = 1 / 0, workInProgressTransitions = null, legacyErrorBoundariesThatAlreadyFailed = null, pendingEffectsStatus = 0, pendingEffectsRoot = null, pendingFinishedWork = null, pendingEffectsLanes = 0, pendingEffectsRemainingLanes = 0, pendingPassiveTransitions = null, pendingRecoverableErrors = null, nestedUpdateCount = 0, rootWithNestedUpdates = null; function requestUpdateLane() { return 2 & executionContext && 0 !== workInProgressRootRenderLanes ? workInProgressRootRenderLanes & -workInProgressRootRenderLanes : null !== ReactSharedInternals.T ? 0 !== currentEntangledLane ? currentEntangledLane : requestTransitionLane() : resolveUpdatePriority() } function requestDeferredLane() { 0 === workInProgressDeferredLane && (workInProgressDeferredLane = 536870912 & workInProgressRootRenderLanes && !isHydrating ? 536870912 : claimNextTransitionLane()); var e = suspenseHandlerStackCursor.current; return null !== e && (e.flags |= 32), workInProgressDeferredLane } function scheduleUpdateOnFiber(e, t, n) { (e !== workInProgressRoot || 2 !== workInProgressSuspendedReason && 9 !== workInProgressSuspendedReason) && null === e.cancelPendingCommit || (prepareFreshStack(e, 0), markRootSuspended(e, workInProgressRootRenderLanes, workInProgressDeferredLane, !1)), markRootUpdated$1(e, n), 2 & executionContext && e === workInProgressRoot || (e === workInProgressRoot && (!(2 & executionContext) && (workInProgressRootInterleavedUpdatedLanes |= n), 4 === workInProgressRootExitStatus && markRootSuspended(e, workInProgressRootRenderLanes, workInProgressDeferredLane, !1)), ensureRootIsScheduled(e)) } function performWorkOnRoot(e, t, n) { if (6 & executionContext) throw Error(formatProdErrorMessage$1(327)); for (var a = !n && !(124 & t) && 0 === (t & e.expiredLanes) || checkIfRootIsPrerendering(e, t), r = a ? renderRootConcurrent(e, t) : renderRootSync(e, t, !0), s = a; ;) { if (0 === r) { workInProgressRootIsPrerendering && !a && markRootSuspended(e, t, 0, !1); break } if (n = e.current.alternate, !s || isRenderConsistentWithExternalStores(n)) { if (2 === r) { if (s = t, e.errorRecoveryDisabledLanes & s) var i = 0; else i = 0 != (i = -536870913 & e.pendingLanes) ? i : 536870912 & i ? 536870912 : 0; if (0 !== i) { t = i; e: { var o = e; r = workInProgressRootConcurrentErrors; var l = o.current.memoizedState.isDehydrated; if (l && (prepareFreshStack(o, i).flags |= 256), 2 !== (i = renderRootSync(o, i, !1))) { if (workInProgressRootDidAttachPingListener && !l) { o.errorRecoveryDisabledLanes |= s, workInProgressRootInterleavedUpdatedLanes |= s, r = 4; break e } s = workInProgressRootRecoverableErrors, workInProgressRootRecoverableErrors = r, null !== s && (null === workInProgressRootRecoverableErrors ? workInProgressRootRecoverableErrors = s : workInProgressRootRecoverableErrors.push.apply(workInProgressRootRecoverableErrors, s)) } r = i } if (s = !1, 2 !== r) continue } } if (1 === r) { prepareFreshStack(e, 0), markRootSuspended(e, t, 0, !0); break } e: { switch (a = e, s = r) { case 0: case 1: throw Error(formatProdErrorMessage$1(345)); case 4: if ((4194048 & t) !== t) break; case 6: markRootSuspended(a, t, workInProgressDeferredLane, !workInProgressRootDidSkipSuspendedSiblings); break e; case 2: workInProgressRootRecoverableErrors = null; break; case 3: case 5: break; default: throw Error(formatProdErrorMessage$1(329)) }if ((62914560 & t) === t && 10 < (r = globalMostRecentFallbackTime + 300 - now$2())) { if (markRootSuspended(a, t, workInProgressDeferredLane, !workInProgressRootDidSkipSuspendedSiblings), 0 !== getNextLanes(a, 0, !0)) break e; a.timeoutHandle = scheduleTimeout(commitRootWhenReady.bind(null, a, n, workInProgressRootRecoverableErrors, workInProgressTransitions, workInProgressRootDidIncludeRecursiveRenderUpdate, t, workInProgressDeferredLane, workInProgressRootInterleavedUpdatedLanes, workInProgressSuspendedRetryLanes, workInProgressRootDidSkipSuspendedSiblings, s, 2, -0, 0), r) } else commitRootWhenReady(a, n, workInProgressRootRecoverableErrors, workInProgressTransitions, workInProgressRootDidIncludeRecursiveRenderUpdate, t, workInProgressDeferredLane, workInProgressRootInterleavedUpdatedLanes, workInProgressSuspendedRetryLanes, workInProgressRootDidSkipSuspendedSiblings, s, 0, -0, 0) } break } r = renderRootSync(e, t, !1), s = !1 } ensureRootIsScheduled(e) } function commitRootWhenReady(e, t, n, a, r, s, i, o, l, m, c, u, A, p) { if (e.timeoutHandle = -1, (8192 & (u = t.subtreeFlags) || !(16785408 & ~u)) && (suspendedState = { stylesheets: null, count: 0, unsuspend: noop$4 }, accumulateSuspenseyCommitOnFiber(t), null !== (u = waitForCommitToBeReady()))) return e.cancelPendingCommit = u(commitRoot.bind(null, e, t, s, n, a, r, i, o, l, c, 1, A, p)), void markRootSuspended(e, s, i, !m); commitRoot(e, t, s, n, a, r, i, o, l) } function isRenderConsistentWithExternalStores(e) { for (var t = e; ;) { var n = t.tag; if ((0 === n || 11 === n || 15 === n) && 16384 & t.flags && null !== (n = t.updateQueue) && null !== (n = n.stores)) for (var a = 0; a < n.length; a++) { var r = n[a], s = r.getSnapshot; r = r.value; try { if (!objectIs(s(), r)) return !1 } catch (i) { return !1 } } if (n = t.child, 16384 & t.subtreeFlags && null !== n) n.return = t, t = n; else { if (t === e) break; for (; null === t.sibling;) { if (null === t.return || t.return === e) return !0; t = t.return } t.sibling.return = t.return, t = t.sibling } } return !0 } function markRootSuspended(e, t, n, a) { t &= ~workInProgressRootPingedLanes, t &= ~workInProgressRootInterleavedUpdatedLanes, e.suspendedLanes |= t, e.pingedLanes &= ~t, a && (e.warmLanes |= t), a = e.expirationTimes; for (var r = t; 0 < r;) { var s = 31 - clz32(r), i = 1 << s; a[s] = -1, r &= ~i } 0 !== n && markSpawnedDeferredLane(e, n, t) } function flushSyncWork$1() { return !!(6 & executionContext) || (flushSyncWorkAcrossRoots_impl(0), !1) } function resetWorkInProgressStack() { if (null !== workInProgress) { if (0 === workInProgressSuspendedReason) var e = workInProgress.return; else lastContextDependency = currentlyRenderingFiber$1 = null, resetHooksOnUnwind(e = workInProgress), thenableState = null, thenableIndexCounter = 0, e = workInProgress; for (; null !== e;)unwindInterruptedWork(e.alternate, e), e = e.return; workInProgress = null } } function prepareFreshStack(e, t) { var n = e.timeoutHandle; -1 !== n && (e.timeoutHandle = -1, cancelTimeout(n)), null !== (n = e.cancelPendingCommit) && (e.cancelPendingCommit = null, n()), resetWorkInProgressStack(), workInProgressRoot = e, workInProgress = n = createWorkInProgress(e.current, null), workInProgressRootRenderLanes = t, workInProgressSuspendedReason = 0, workInProgressThrownValue = null, workInProgressRootDidSkipSuspendedSiblings = !1, workInProgressRootIsPrerendering = checkIfRootIsPrerendering(e, t), workInProgressRootDidAttachPingListener = !1, workInProgressSuspendedRetryLanes = workInProgressDeferredLane = workInProgressRootPingedLanes = workInProgressRootInterleavedUpdatedLanes = workInProgressRootSkippedLanes = workInProgressRootExitStatus = 0, workInProgressRootRecoverableErrors = workInProgressRootConcurrentErrors = null, workInProgressRootDidIncludeRecursiveRenderUpdate = !1, 8 & t && (t |= 32 & t); var a = e.entangledLanes; if (0 !== a) for (e = e.entanglements, a &= t; 0 < a;) { var r = 31 - clz32(a), s = 1 << r; t |= e[r], a &= ~s } return entangledRenderLanes = t, finishQueueingConcurrentUpdates(), n } function handleThrow(e, t) { currentlyRenderingFiber = null, ReactSharedInternals.H = ContextOnlyDispatcher, t === SuspenseException || t === SuspenseActionException ? (t = getSuspendedThenable(), workInProgressSuspendedReason = 3) : t === SuspenseyCommitException ? (t = getSuspendedThenable(), workInProgressSuspendedReason = 4) : workInProgressSuspendedReason = t === SelectiveHydrationException ? 8 : null !== t && "object" == typeof t && "function" == typeof t.then ? 6 : 1, workInProgressThrownValue = t, null === workInProgress && (workInProgressRootExitStatus = 1, logUncaughtError(e, createCapturedValueAtFiber(t, e.current))) } function pushDispatcher() { var e = ReactSharedInternals.H; return ReactSharedInternals.H = ContextOnlyDispatcher, null === e ? ContextOnlyDispatcher : e } function pushAsyncDispatcher() { var e = ReactSharedInternals.A; return ReactSharedInternals.A = DefaultAsyncDispatcher, e } function renderDidSuspendDelayIfPossible() { workInProgressRootExitStatus = 4, workInProgressRootDidSkipSuspendedSiblings || (4194048 & workInProgressRootRenderLanes) !== workInProgressRootRenderLanes && null !== suspenseHandlerStackCursor.current || (workInProgressRootIsPrerendering = !0), !(134217727 & workInProgressRootSkippedLanes) && !(134217727 & workInProgressRootInterleavedUpdatedLanes) || null === workInProgressRoot || markRootSuspended(workInProgressRoot, workInProgressRootRenderLanes, workInProgressDeferredLane, !1) } function renderRootSync(e, t, n) { var a = executionContext; executionContext |= 2; var r = pushDispatcher(), s = pushAsyncDispatcher(); workInProgressRoot === e && workInProgressRootRenderLanes === t || (workInProgressTransitions = null, prepareFreshStack(e, t)), t = !1; var i = workInProgressRootExitStatus; e: for (; ;)try { if (0 !== workInProgressSuspendedReason && null !== workInProgress) { var o = workInProgress, l = workInProgressThrownValue; switch (workInProgressSuspendedReason) { case 8: resetWorkInProgressStack(), i = 6; break e; case 3: case 2: case 9: case 6: null === suspenseHandlerStackCursor.current && (t = !0); var m = workInProgressSuspendedReason; if (workInProgressSuspendedReason = 0, workInProgressThrownValue = null, throwAndUnwindWorkLoop(e, o, l, m), n && workInProgressRootIsPrerendering) { i = 0; break e } break; default: m = workInProgressSuspendedReason, workInProgressSuspendedReason = 0, workInProgressThrownValue = null, throwAndUnwindWorkLoop(e, o, l, m) } } workLoopSync(), i = workInProgressRootExitStatus; break } catch (c) { handleThrow(e, c) } return t && e.shellSuspendCounter++, lastContextDependency = currentlyRenderingFiber$1 = null, executionContext = a, ReactSharedInternals.H = r, ReactSharedInternals.A = s, null === workInProgress && (workInProgressRoot = null, workInProgressRootRenderLanes = 0, finishQueueingConcurrentUpdates()), i } function workLoopSync() { for (; null !== workInProgress;)performUnitOfWork(workInProgress) } function renderRootConcurrent(e, t) { var n = executionContext; executionContext |= 2; var a = pushDispatcher(), r = pushAsyncDispatcher(); workInProgressRoot !== e || workInProgressRootRenderLanes !== t ? (workInProgressTransitions = null, workInProgressRootRenderTargetTime = now$2() + 500, prepareFreshStack(e, t)) : workInProgressRootIsPrerendering = checkIfRootIsPrerendering(e, t); e: for (; ;)try { if (0 !== workInProgressSuspendedReason && null !== workInProgress) { t = workInProgress; var s = workInProgressThrownValue; t: switch (workInProgressSuspendedReason) { case 1: workInProgressSuspendedReason = 0, workInProgressThrownValue = null, throwAndUnwindWorkLoop(e, t, s, 1); break; case 2: case 9: if (isThenableResolved(s)) { workInProgressSuspendedReason = 0, workInProgressThrownValue = null, replaySuspendedUnitOfWork(t); break } t = function () { 2 !== workInProgressSuspendedReason && 9 !== workInProgressSuspendedReason || workInProgressRoot !== e || (workInProgressSuspendedReason = 7), ensureRootIsScheduled(e) }, s.then(t, t); break e; case 3: workInProgressSuspendedReason = 7; break e; case 4: workInProgressSuspendedReason = 5; break e; case 7: isThenableResolved(s) ? (workInProgressSuspendedReason = 0, workInProgressThrownValue = null, replaySuspendedUnitOfWork(t)) : (workInProgressSuspendedReason = 0, workInProgressThrownValue = null, throwAndUnwindWorkLoop(e, t, s, 7)); break; case 5: var i = null; switch (workInProgress.tag) { case 26: i = workInProgress.memoizedState; case 5: case 27: var o = workInProgress; if (!i || preloadResource(i)) { workInProgressSuspendedReason = 0, workInProgressThrownValue = null; var l = o.sibling; if (null !== l) workInProgress = l; else { var m = o.return; null !== m ? (workInProgress = m, completeUnitOfWork(m)) : workInProgress = null } break t } }workInProgressSuspendedReason = 0, workInProgressThrownValue = null, throwAndUnwindWorkLoop(e, t, s, 5); break; case 6: workInProgressSuspendedReason = 0, workInProgressThrownValue = null, throwAndUnwindWorkLoop(e, t, s, 6); break; case 8: resetWorkInProgressStack(), workInProgressRootExitStatus = 6; break e; default: throw Error(formatProdErrorMessage$1(462)) } } workLoopConcurrentByScheduler(); break } catch (c) { handleThrow(e, c) } return lastContextDependency = currentlyRenderingFiber$1 = null, ReactSharedInternals.H = a, ReactSharedInternals.A = r, executionContext = n, null !== workInProgress ? 0 : (workInProgressRoot = null, workInProgressRootRenderLanes = 0, finishQueueingConcurrentUpdates(), workInProgressRootExitStatus) } function workLoopConcurrentByScheduler() { for (; null !== workInProgress && !shouldYield();)performUnitOfWork(workInProgress) } function performUnitOfWork(e) { var t = beginWork(e.alternate, e, entangledRenderLanes); e.memoizedProps = e.pendingProps, null === t ? completeUnitOfWork(e) : workInProgress = t } function replaySuspendedUnitOfWork(e) { var t = e, n = t.alternate; switch (t.tag) { case 15: case 0: t = replayFunctionComponent(n, t, t.pendingProps, t.type, void 0, workInProgressRootRenderLanes); break; case 11: t = replayFunctionComponent(n, t, t.pendingProps, t.type.render, t.ref, workInProgressRootRenderLanes); break; case 5: resetHooksOnUnwind(t); default: unwindInterruptedWork(n, t), t = beginWork(n, t = workInProgress = resetWorkInProgress(t, entangledRenderLanes), entangledRenderLanes) }e.memoizedProps = e.pendingProps, null === t ? completeUnitOfWork(e) : workInProgress = t } function throwAndUnwindWorkLoop(e, t, n, a) { lastContextDependency = currentlyRenderingFiber$1 = null, resetHooksOnUnwind(t), thenableState = null, thenableIndexCounter = 0; var r = t.return; try { if (throwException(e, r, t, n, workInProgressRootRenderLanes)) return workInProgressRootExitStatus = 1, logUncaughtError(e, createCapturedValueAtFiber(n, e.current)), void (workInProgress = null) } catch (s) { if (null !== r) throw workInProgress = r, s; return workInProgressRootExitStatus = 1, logUncaughtError(e, createCapturedValueAtFiber(n, e.current)), void (workInProgress = null) } 32768 & t.flags ? (isHydrating || 1 === a ? e = !0 : workInProgressRootIsPrerendering || 536870912 & workInProgressRootRenderLanes ? e = !1 : (workInProgressRootDidSkipSuspendedSiblings = e = !0, (2 === a || 9 === a || 3 === a || 6 === a) && null !== (a = suspenseHandlerStackCursor.current) && 13 === a.tag && (a.flags |= 16384)), unwindUnitOfWork(t, e)) : completeUnitOfWork(t) } function completeUnitOfWork(e) { var t = e; do { if (32768 & t.flags) return void unwindUnitOfWork(t, workInProgressRootDidSkipSuspendedSiblings); e = t.return; var n = completeWork(t.alternate, t, entangledRenderLanes); if (null !== n) return void (workInProgress = n); if (null !== (t = t.sibling)) return void (workInProgress = t); workInProgress = t = e } while (null !== t); 0 === workInProgressRootExitStatus && (workInProgressRootExitStatus = 5) } function unwindUnitOfWork(e, t) { do { var n = unwindWork(e.alternate, e); if (null !== n) return n.flags &= 32767, void (workInProgress = n); if (null !== (n = e.return) && (n.flags |= 32768, n.subtreeFlags = 0, n.deletions = null), !t && null !== (e = e.sibling)) return void (workInProgress = e); workInProgress = e = n } while (null !== e); workInProgressRootExitStatus = 6, workInProgress = null } function commitRoot(e, t, n, a, r, s, i, o, l) { e.cancelPendingCommit = null; do { flushPendingEffects() } while (0 !== pendingEffectsStatus); if (6 & executionContext) throw Error(formatProdErrorMessage$1(327)); if (null !== t) { if (t === e.current) throw Error(formatProdErrorMessage$1(177)); if (s = t.lanes | t.childLanes, markRootFinished(e, n, s |= concurrentlyUpdatedLanes, i, o, l), e === workInProgressRoot && (workInProgress = workInProgressRoot = null, workInProgressRootRenderLanes = 0), pendingFinishedWork = t, pendingEffectsRoot = e, pendingEffectsLanes = n, pendingEffectsRemainingLanes = s, pendingPassiveTransitions = r, pendingRecoverableErrors = a, 10256 & t.subtreeFlags || 10256 & t.flags ? (e.callbackNode = null, e.callbackPriority = 0, scheduleCallback$1(NormalPriority$1, function () { return flushPassiveEffects(), null })) : (e.callbackNode = null, e.callbackPriority = 0), a = !!(13878 & t.flags), 13878 & t.subtreeFlags || a) { a = ReactSharedInternals.T, ReactSharedInternals.T = null, r = ReactDOMSharedInternals.p, ReactDOMSharedInternals.p = 2, i = executionContext, executionContext |= 4; try { commitBeforeMutationEffects(e, t) } finally { executionContext = i, ReactDOMSharedInternals.p = r, ReactSharedInternals.T = a } } pendingEffectsStatus = 1, flushMutationEffects(), flushLayoutEffects(), flushSpawnedWork() } } function flushMutationEffects() { if (1 === pendingEffectsStatus) { pendingEffectsStatus = 0; var e = pendingEffectsRoot, t = pendingFinishedWork, n = !!(13878 & t.flags); if (13878 & t.subtreeFlags || n) { n = ReactSharedInternals.T, ReactSharedInternals.T = null; var a = ReactDOMSharedInternals.p; ReactDOMSharedInternals.p = 2; var r = executionContext; executionContext |= 4; try { commitMutationEffectsOnFiber(t, e); var s = selectionInformation, i = getActiveElementDeep(e.containerInfo), o = s.focusedElem, l = s.selectionRange; if (i !== o && o && o.ownerDocument && containsNode(o.ownerDocument.documentElement, o)) { if (null !== l && hasSelectionCapabilities(o)) { var m = l.start, c = l.end; if (void 0 === c && (c = m), "selectionStart" in o) o.selectionStart = m, o.selectionEnd = Math.min(c, o.value.length); else { var u = o.ownerDocument || document, A = u && u.defaultView || window; if (A.getSelection) { var p = A.getSelection(), d = o.textContent.length, _ = Math.min(l.start, d), v = void 0 === l.end ? _ : Math.min(l.end, d); !p.extend && _ > v && (i = v, v = _, _ = i); var h = getNodeForCharacterOffset(o, _), g = getNodeForCharacterOffset(o, v); if (h && g && (1 !== p.rangeCount || p.anchorNode !== h.node || p.anchorOffset !== h.offset || p.focusNode !== g.node || p.focusOffset !== g.offset)) { var f = u.createRange(); f.setStart(h.node, h.offset), p.removeAllRanges(), _ > v ? (p.addRange(f), p.extend(g.node, g.offset)) : (f.setEnd(g.node, g.offset), p.addRange(f)) } } } } for (u = [], p = o; p = p.parentNode;)1 === p.nodeType && u.push({ element: p, left: p.scrollLeft, top: p.scrollTop }); for ("function" == typeof o.focus && o.focus(), o = 0; o < u.length; o++) { var b = u[o]; b.element.scrollLeft = b.left, b.element.scrollTop = b.top } } _enabled = !!eventsEnabled, selectionInformation = eventsEnabled = null } finally { executionContext = r, ReactDOMSharedInternals.p = a, ReactSharedInternals.T = n } } e.current = t, pendingEffectsStatus = 2 } } function flushLayoutEffects() { if (2 === pendingEffectsStatus) { pendingEffectsStatus = 0; var e = pendingEffectsRoot, t = pendingFinishedWork, n = !!(8772 & t.flags); if (8772 & t.subtreeFlags || n) { n = ReactSharedInternals.T, ReactSharedInternals.T = null; var a = ReactDOMSharedInternals.p; ReactDOMSharedInternals.p = 2; var r = executionContext; executionContext |= 4; try { commitLayoutEffectOnFiber(e, t.alternate, t) } finally { executionContext = r, ReactDOMSharedInternals.p = a, ReactSharedInternals.T = n } } pendingEffectsStatus = 3 } } function flushSpawnedWork() { if (4 === pendingEffectsStatus || 3 === pendingEffectsStatus) { pendingEffectsStatus = 0, requestPaint(); var e = pendingEffectsRoot, t = pendingFinishedWork, n = pendingEffectsLanes, a = pendingRecoverableErrors; 10256 & t.subtreeFlags || 10256 & t.flags ? pendingEffectsStatus = 5 : (pendingEffectsStatus = 0, pendingFinishedWork = pendingEffectsRoot = null, releaseRootPooledCache(e, e.pendingLanes)); var r = e.pendingLanes; if (0 === r && (legacyErrorBoundariesThatAlreadyFailed = null), lanesToEventPriority(n), t = t.stateNode, injectedHook && "function" == typeof injectedHook.onCommitFiberRoot) try { injectedHook.onCommitFiberRoot(rendererID, t, void 0, !(128 & ~t.current.flags)) } catch (err) { } if (null !== a) { t = ReactSharedInternals.T, r = ReactDOMSharedInternals.p, ReactDOMSharedInternals.p = 2, ReactSharedInternals.T = null; try { for (var s = e.onRecoverableError, i = 0; i < a.length; i++) { var o = a[i]; s(o.value, { componentStack: o.stack }) } } finally { ReactSharedInternals.T = t, ReactDOMSharedInternals.p = r } } 3 & pendingEffectsLanes && flushPendingEffects(), ensureRootIsScheduled(e), r = e.pendingLanes, 4194090 & n && 42 & r ? e === rootWithNestedUpdates ? nestedUpdateCount++ : (nestedUpdateCount = 0, rootWithNestedUpdates = e) : nestedUpdateCount = 0, flushSyncWorkAcrossRoots_impl(0) } } function releaseRootPooledCache(e, t) { 0 === (e.pooledCacheLanes &= t) && null != (t = e.pooledCache) && (e.pooledCache = null, releaseCache(t)) } function flushPendingEffects(e) { return flushMutationEffects(), flushLayoutEffects(), flushSpawnedWork(), flushPassiveEffects() } function flushPassiveEffects() { if (5 !== pendingEffectsStatus) return !1; var e = pendingEffectsRoot, t = pendingEffectsRemainingLanes; pendingEffectsRemainingLanes = 0; var n = lanesToEventPriority(pendingEffectsLanes), a = ReactSharedInternals.T, r = ReactDOMSharedInternals.p; try { ReactDOMSharedInternals.p = 32 > n ? 32 : n, ReactSharedInternals.T = null, n = pendingPassiveTransitions, pendingPassiveTransitions = null; var s = pendingEffectsRoot, i = pendingEffectsLanes; if (pendingEffectsStatus = 0, pendingFinishedWork = pendingEffectsRoot = null, pendingEffectsLanes = 0, 6 & executionContext) throw Error(formatProdErrorMessage$1(331)); var o = executionContext; if (executionContext |= 4, commitPassiveUnmountOnFiber(s.current), commitPassiveMountOnFiber(s, s.current, i, n), executionContext = o, flushSyncWorkAcrossRoots_impl(0), injectedHook && "function" == typeof injectedHook.onPostCommitFiberRoot) try { injectedHook.onPostCommitFiberRoot(rendererID, s) } catch (err) { } return !0 } finally { ReactDOMSharedInternals.p = r, ReactSharedInternals.T = a, releaseRootPooledCache(e, t) } } function captureCommitPhaseErrorOnRoot(e, t, n) { t = createCapturedValueAtFiber(n, t), null !== (e = enqueueUpdate(e, t = createRootErrorUpdate(e.stateNode, t, 2), 2)) && (markRootUpdated$1(e, 2), ensureRootIsScheduled(e)) } function captureCommitPhaseError(e, t, n) { if (3 === e.tag) captureCommitPhaseErrorOnRoot(e, e, n); else for (; null !== t;) { if (3 === t.tag) { captureCommitPhaseErrorOnRoot(t, e, n); break } if (1 === t.tag) { var a = t.stateNode; if ("function" == typeof t.type.getDerivedStateFromError || "function" == typeof a.componentDidCatch && (null === legacyErrorBoundariesThatAlreadyFailed || !legacyErrorBoundariesThatAlreadyFailed.has(a))) { e = createCapturedValueAtFiber(n, e), null !== (a = enqueueUpdate(t, n = createClassErrorUpdate(2), 2)) && (initializeClassErrorUpdate(n, a, t, e), markRootUpdated$1(a, 2), ensureRootIsScheduled(a)); break } } t = t.return } } function attachPingListener(e, t, n) { var a = e.pingCache; if (null === a) { a = e.pingCache = new PossiblyWeakMap; var r = new Set; a.set(t, r) } else void 0 === (r = a.get(t)) && (r = new Set, a.set(t, r)); r.has(n) || (workInProgressRootDidAttachPingListener = !0, r.add(n), e = pingSuspendedRoot.bind(null, e, t, n), t.then(e, e)) } function pingSuspendedRoot(e, t, n) { var a = e.pingCache; null !== a && a.delete(t), e.pingedLanes |= e.suspendedLanes & n, e.warmLanes &= ~n, workInProgressRoot === e && (workInProgressRootRenderLanes & n) === n && (4 === workInProgressRootExitStatus || 3 === workInProgressRootExitStatus && (62914560 & workInProgressRootRenderLanes) === workInProgressRootRenderLanes && 300 > now$2() - globalMostRecentFallbackTime ? !(2 & executionContext) && prepareFreshStack(e, 0) : workInProgressRootPingedLanes |= n, workInProgressSuspendedRetryLanes === workInProgressRootRenderLanes && (workInProgressSuspendedRetryLanes = 0)), ensureRootIsScheduled(e) } function retryTimedOutBoundary(e, t) { 0 === t && (t = claimNextRetryLane()), null !== (e = enqueueConcurrentRenderForLane(e, t)) && (markRootUpdated$1(e, t), ensureRootIsScheduled(e)) } function retryDehydratedSuspenseBoundary(e) { var t = e.memoizedState, n = 0; null !== t && (n = t.retryLane), retryTimedOutBoundary(e, n) } function resolveRetryWakeable(e, t) { var n = 0; switch (e.tag) { case 13: var a = e.stateNode, r = e.memoizedState; null !== r && (n = r.retryLane); break; case 19: a = e.stateNode; break; case 22: a = e.stateNode._retryCache; break; default: throw Error(formatProdErrorMessage$1(314)) }null !== a && a.delete(t), retryTimedOutBoundary(e, n) } function scheduleCallback$1(e, t) { return scheduleCallback$3(e, t) } var firstScheduledRoot = null, lastScheduledRoot = null, didScheduleMicrotask = !1, mightHavePendingSyncWork = !1, isFlushingWork = !1, currentEventTransitionLane = 0; function ensureRootIsScheduled(e) { e !== lastScheduledRoot && null === e.next && (null === lastScheduledRoot ? firstScheduledRoot = lastScheduledRoot = e : lastScheduledRoot = lastScheduledRoot.next = e), mightHavePendingSyncWork = !0, didScheduleMicrotask || (didScheduleMicrotask = !0, scheduleImmediateRootScheduleTask()) } function flushSyncWorkAcrossRoots_impl(e, t) { if (!isFlushingWork && mightHavePendingSyncWork) { isFlushingWork = !0; do { for (var n = !1, a = firstScheduledRoot; null !== a;) { if (0 !== e) { var r = a.pendingLanes; if (0 === r) var s = 0; else { var i = a.suspendedLanes, o = a.pingedLanes; s = (1 << 31 - clz32(42 | e) + 1) - 1, s = 201326741 & (s &= r & ~(i & ~o)) ? 201326741 & s | 1 : s ? 2 | s : 0 } 0 !== s && (n = !0, performSyncWorkOnRoot(a, s)) } else s = workInProgressRootRenderLanes, !(3 & (s = getNextLanes(a, a === workInProgressRoot ? s : 0, null !== a.cancelPendingCommit || -1 !== a.timeoutHandle))) || checkIfRootIsPrerendering(a, s) || (n = !0, performSyncWorkOnRoot(a, s)); a = a.next } } while (n); isFlushingWork = !1 } } function processRootScheduleInImmediateTask() { processRootScheduleInMicrotask() } function processRootScheduleInMicrotask() { mightHavePendingSyncWork = didScheduleMicrotask = !1; var e = 0; 0 !== currentEventTransitionLane && (shouldAttemptEagerTransition() && (e = currentEventTransitionLane), currentEventTransitionLane = 0); for (var t = now$2(), n = null, a = firstScheduledRoot; null !== a;) { var r = a.next, s = scheduleTaskForRootDuringMicrotask(a, t); 0 === s ? (a.next = null, null === n ? firstScheduledRoot = r : n.next = r, null === r && (lastScheduledRoot = n)) : (n = a, (0 !== e || 3 & s) && (mightHavePendingSyncWork = !0)), a = r } flushSyncWorkAcrossRoots_impl(e) } function scheduleTaskForRootDuringMicrotask(e, t) { for (var n = e.suspendedLanes, a = e.pingedLanes, r = e.expirationTimes, s = -62914561 & e.pendingLanes; 0 < s;) { var i = 31 - clz32(s), o = 1 << i, l = r[i]; -1 === l ? 0 !== (o & n) && 0 === (o & a) || (r[i] = computeExpirationTime(o, t)) : l <= t && (e.expiredLanes |= o), s &= ~o } if (n = workInProgressRootRenderLanes, n = getNextLanes(e, e === (t = workInProgressRoot) ? n : 0, null !== e.cancelPendingCommit || -1 !== e.timeoutHandle), a = e.callbackNode, 0 === n || e === t && (2 === workInProgressSuspendedReason || 9 === workInProgressSuspendedReason) || null !== e.cancelPendingCommit) return null !== a && null !== a && cancelCallback$1(a), e.callbackNode = null, e.callbackPriority = 0; if (!(3 & n) || checkIfRootIsPrerendering(e, n)) { if ((t = n & -n) === e.callbackPriority) return t; switch (null !== a && cancelCallback$1(a), lanesToEventPriority(n)) { case 2: case 8: n = UserBlockingPriority; break; case 32: default: n = NormalPriority$1; break; case 268435456: n = IdlePriority }return a = performWorkOnRootViaSchedulerTask.bind(null, e), n = scheduleCallback$3(n, a), e.callbackPriority = t, e.callbackNode = n, t } return null !== a && null !== a && cancelCallback$1(a), e.callbackPriority = 2, e.callbackNode = null, 2 } function performWorkOnRootViaSchedulerTask(e, t) { if (0 !== pendingEffectsStatus && 5 !== pendingEffectsStatus) return e.callbackNode = null, e.callbackPriority = 0, null; var n = e.callbackNode; if (flushPendingEffects() && e.callbackNode !== n) return null; var a = workInProgressRootRenderLanes; return 0 === (a = getNextLanes(e, e === workInProgressRoot ? a : 0, null !== e.cancelPendingCommit || -1 !== e.timeoutHandle)) ? null : (performWorkOnRoot(e, a, t), scheduleTaskForRootDuringMicrotask(e, now$2()), null != e.callbackNode && e.callbackNode === n ? performWorkOnRootViaSchedulerTask.bind(null, e) : null) } function performSyncWorkOnRoot(e, t) { if (flushPendingEffects()) return null; performWorkOnRoot(e, t, !0) } function scheduleImmediateRootScheduleTask() { scheduleMicrotask(function () { 6 & executionContext ? scheduleCallback$3(ImmediatePriority, processRootScheduleInImmediateTask) : processRootScheduleInMicrotask() }) } function requestTransitionLane() { return 0 === currentEventTransitionLane && (currentEventTransitionLane = claimNextTransitionLane()), currentEventTransitionLane } function coerceFormActionProp(e) { return null == e || "symbol" == typeof e || "boolean" == typeof e ? null : "function" == typeof e ? e : sanitizeURL("" + e) } function createFormDataWithSubmitter(e, t) { var n = t.ownerDocument.createElement("input"); return n.name = t.name, n.value = t.value, e.id && n.setAttribute("form", e.id), t.parentNode.insertBefore(n, t), e = new FormData(e), n.parentNode.removeChild(n), e } function extractEvents$1(e, t, n, a, r) { if ("submit" === t && n && n.stateNode === r) { var s = coerceFormActionProp((r[internalPropsKey] || null).action), i = a.submitter; i && null !== (t = (t = i[internalPropsKey] || null) ? coerceFormActionProp(t.formAction) : i.getAttribute("formAction")) && (s = t, i = null); var o = new SyntheticEvent("action", "action", null, a, r); e.push({ event: o, listeners: [{ instance: null, listener: function () { if (a.defaultPrevented) { if (0 !== currentEventTransitionLane) { var e = i ? createFormDataWithSubmitter(r, i) : new FormData(r); startHostTransition(n, { pending: !0, data: e, method: r.method, action: s }, null, e) } } else "function" == typeof s && (o.preventDefault(), e = i ? createFormDataWithSubmitter(r, i) : new FormData(r), startHostTransition(n, { pending: !0, data: e, method: r.method, action: s }, s, e)) }, currentTarget: r }] }) } } for (var i$jscomp$inline_1528 = 0; i$jscomp$inline_1528 < simpleEventPluginEvents.length; i$jscomp$inline_1528++) { var eventName$jscomp$inline_1529 = simpleEventPluginEvents[i$jscomp$inline_1528], domEventName$jscomp$inline_1530 = eventName$jscomp$inline_1529.toLowerCase(), capitalizedEvent$jscomp$inline_1531 = eventName$jscomp$inline_1529[0].toUpperCase() + eventName$jscomp$inline_1529.slice(1); registerSimpleEvent(domEventName$jscomp$inline_1530, "on" + capitalizedEvent$jscomp$inline_1531) } registerSimpleEvent(ANIMATION_END, "onAnimationEnd"), registerSimpleEvent(ANIMATION_ITERATION, "onAnimationIteration"), registerSimpleEvent(ANIMATION_START, "onAnimationStart"), registerSimpleEvent("dblclick", "onDoubleClick"), registerSimpleEvent("focusin", "onFocus"), registerSimpleEvent("focusout", "onBlur"), registerSimpleEvent(TRANSITION_RUN, "onTransitionRun"), registerSimpleEvent(TRANSITION_START, "onTransitionStart"), registerSimpleEvent(TRANSITION_CANCEL, "onTransitionCancel"), registerSimpleEvent(TRANSITION_END, "onTransitionEnd"), registerDirectEvent("onMouseEnter", ["mouseout", "mouseover"]), registerDirectEvent("onMouseLeave", ["mouseout", "mouseover"]), registerDirectEvent("onPointerEnter", ["pointerout", "pointerover"]), registerDirectEvent("onPointerLeave", ["pointerout", "pointerover"]), registerTwoPhaseEvent("onChange", "change click focusin focusout input keydown keyup selectionchange".split(" ")), registerTwoPhaseEvent("onSelect", "focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")), registerTwoPhaseEvent("onBeforeInput", ["compositionend", "keypress", "textInput", "paste"]), registerTwoPhaseEvent("onCompositionEnd", "compositionend focusout keydown keypress keyup mousedown".split(" ")), registerTwoPhaseEvent("onCompositionStart", "compositionstart focusout keydown keypress keyup mousedown".split(" ")), registerTwoPhaseEvent("onCompositionUpdate", "compositionupdate focusout keydown keypress keyup mousedown".split(" ")); var mediaEventTypes = "abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "), nonDelegatedEvents = new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(mediaEventTypes)); function processDispatchQueue(e, t) { t = !!(4 & t); for (var n = 0; n < e.length; n++) { var a = e[n], r = a.event; a = a.listeners; e: { var s = void 0; if (t) for (var i = a.length - 1; 0 <= i; i--) { var o = a[i], l = o.instance, m = o.currentTarget; if (o = o.listener, l !== s && r.isPropagationStopped()) break e; s = o, r.currentTarget = m; try { s(r) } catch (c) { reportGlobalError(c) } r.currentTarget = null, s = l } else for (i = 0; i < a.length; i++) { if (l = (o = a[i]).instance, m = o.currentTarget, o = o.listener, l !== s && r.isPropagationStopped()) break e; s = o, r.currentTarget = m; try { s(r) } catch (c) { reportGlobalError(c) } r.currentTarget = null, s = l } } } } function listenToNonDelegatedEvent(e, t) { var n = t[internalEventHandlersKey]; void 0 === n && (n = t[internalEventHandlersKey] = new Set); var a = e + "__bubble"; n.has(a) || (addTrappedEventListener(t, e, 2, !1), n.add(a)) } function listenToNativeEvent(e, t, n) { var a = 0; t && (a |= 4), addTrappedEventListener(n, e, a, t) } var listeningMarker = "_reactListening" + Math.random().toString(36).slice(2); function listenToAllSupportedEvents(e) { if (!e[listeningMarker]) { e[listeningMarker] = !0, allNativeEvents.forEach(function (t) { "selectionchange" !== t && (nonDelegatedEvents.has(t) || listenToNativeEvent(t, !1, e), listenToNativeEvent(t, !0, e)) }); var t = 9 === e.nodeType ? e : e.ownerDocument; null === t || t[listeningMarker] || (t[listeningMarker] = !0, listenToNativeEvent("selectionchange", !1, t)) } } function addTrappedEventListener(e, t, n, a) { switch (getEventPriority(t)) { case 2: var r = dispatchDiscreteEvent; break; case 8: r = dispatchContinuousEvent; break; default: r = dispatchEvent }n = r.bind(null, t, n, e), r = void 0, !passiveBrowserEventsSupported || "touchstart" !== t && "touchmove" !== t && "wheel" !== t || (r = !0), a ? void 0 !== r ? e.addEventListener(t, n, { capture: !0, passive: r }) : e.addEventListener(t, n, !0) : void 0 !== r ? e.addEventListener(t, n, { passive: r }) : e.addEventListener(t, n, !1) } function dispatchEventForPluginEventSystem(e, t, n, a, r) { var s = a; if (!(1 & t || 2 & t || null === a)) e: for (; ;) { if (null === a) return; var i = a.tag; if (3 === i || 4 === i) { var o = a.stateNode.containerInfo; if (o === r) break; if (4 === i) for (i = a.return; null !== i;) { var l = i.tag; if ((3 === l || 4 === l) && i.stateNode.containerInfo === r) return; i = i.return } for (; null !== o;) { if (null === (i = getClosestInstanceFromNode(o))) return; if (5 === (l = i.tag) || 6 === l || 26 === l || 27 === l) { a = s = i; continue e } o = o.parentNode } } a = a.return } batchedUpdates$1(function () { var a = s, r = getEventTarget(n), i = []; e: { var o = topLevelEventsToReactNames.get(e); if (void 0 !== o) { var l = SyntheticEvent, m = e; switch (e) { case "keypress": if (0 === getEventCharCode(n)) break e; case "keydown": case "keyup": l = SyntheticKeyboardEvent; break; case "focusin": m = "focus", l = SyntheticFocusEvent; break; case "focusout": m = "blur", l = SyntheticFocusEvent; break; case "beforeblur": case "afterblur": l = SyntheticFocusEvent; break; case "click": if (2 === n.button) break e; case "auxclick": case "dblclick": case "mousedown": case "mousemove": case "mouseup": case "mouseout": case "mouseover": case "contextmenu": l = SyntheticMouseEvent; break; case "drag": case "dragend": case "dragenter": case "dragexit": case "dragleave": case "dragover": case "dragstart": case "drop": l = SyntheticDragEvent; break; case "touchcancel": case "touchend": case "touchmove": case "touchstart": l = SyntheticTouchEvent; break; case ANIMATION_END: case ANIMATION_ITERATION: case ANIMATION_START: l = SyntheticAnimationEvent; break; case TRANSITION_END: l = SyntheticTransitionEvent; break; case "scroll": case "scrollend": l = SyntheticUIEvent; break; case "wheel": l = SyntheticWheelEvent; break; case "copy": case "cut": case "paste": l = SyntheticClipboardEvent; break; case "gotpointercapture": case "lostpointercapture": case "pointercancel": case "pointerdown": case "pointermove": case "pointerout": case "pointerover": case "pointerup": l = SyntheticPointerEvent; break; case "toggle": case "beforetoggle": l = SyntheticToggleEvent }var c = !!(4 & t), u = !c && ("scroll" === e || "scrollend" === e), A = c ? null !== o ? o + "Capture" : null : o; c = []; for (var p, d = a; null !== d;) { var _ = d; if (p = _.stateNode, 5 !== (_ = _.tag) && 26 !== _ && 27 !== _ || null === p || null === A || null != (_ = getListener(d, A)) && c.push(createDispatchListener(d, _, p)), u) break; d = d.return } 0 < c.length && (o = new l(o, m, null, n, r), i.push({ event: o, listeners: c })) } } if (!(7 & t)) { if (l = "mouseout" === e || "pointerout" === e, (!(o = "mouseover" === e || "pointerover" === e) || n === currentReplayingEvent || !(m = n.relatedTarget || n.fromElement) || !getClosestInstanceFromNode(m) && !m[internalContainerInstanceKey]) && (l || o) && (o = r.window === r ? r : (o = r.ownerDocument) ? o.defaultView || o.parentWindow : window, l ? (l = a, null !== (m = (m = n.relatedTarget || n.toElement) ? getClosestInstanceFromNode(m) : null) && (u = getNearestMountedFiber(m), c = m.tag, m !== u || 5 !== c && 27 !== c && 6 !== c) && (m = null)) : (l = null, m = a), l !== m)) { if (c = SyntheticMouseEvent, _ = "onMouseLeave", A = "onMouseEnter", d = "mouse", "pointerout" !== e && "pointerover" !== e || (c = SyntheticPointerEvent, _ = "onPointerLeave", A = "onPointerEnter", d = "pointer"), u = null == l ? o : getNodeFromInstance(l), p = null == m ? o : getNodeFromInstance(m), (o = new c(_, d + "leave", l, n, r)).target = u, o.relatedTarget = p, _ = null, getClosestInstanceFromNode(r) === a && ((c = new c(A, d + "enter", m, n, r)).target = p, c.relatedTarget = u, _ = c), u = _, l && m) e: { for (A = m, d = 0, p = c = l; p; p = getParent(p))d++; for (p = 0, _ = A; _; _ = getParent(_))p++; for (; 0 < d - p;)c = getParent(c), d--; for (; 0 < p - d;)A = getParent(A), p--; for (; d--;) { if (c === A || null !== A && c === A.alternate) break e; c = getParent(c), A = getParent(A) } c = null } else c = null; null !== l && accumulateEnterLeaveListenersForEvent(i, o, l, c, !1), null !== m && null !== u && accumulateEnterLeaveListenersForEvent(i, u, m, c, !0) } if ("select" === (l = (o = a ? getNodeFromInstance(a) : window).nodeName && o.nodeName.toLowerCase()) || "input" === l && "file" === o.type) var v = getTargetInstForChangeEvent; else if (isTextInputElement(o)) if (isInputEventSupported) v = getTargetInstForInputOrChangeEvent; else { v = getTargetInstForInputEventPolyfill; var h = handleEventsForInputEventPolyfill } else !(l = o.nodeName) || "input" !== l.toLowerCase() || "checkbox" !== o.type && "radio" !== o.type ? a && isCustomElement(a.elementType) && (v = getTargetInstForChangeEvent) : v = getTargetInstForClickEvent; switch (v && (v = v(e, a)) ? createAndAccumulateChangeEvent(i, v, n, r) : (h && h(e, o, a), "focusout" === e && a && "number" === o.type && null != a.memoizedProps.value && setDefaultValue(o, "number", o.value)), h = a ? getNodeFromInstance(a) : window, e) { case "focusin": (isTextInputElement(h) || "true" === h.contentEditable) && (activeElement = h, activeElementInst = a, lastSelection = null); break; case "focusout": lastSelection = activeElementInst = activeElement = null; break; case "mousedown": mouseDown = !0; break; case "contextmenu": case "mouseup": case "dragend": mouseDown = !1, constructSelectEvent(i, n, r); break; case "selectionchange": if (skipSelectionChangeEvent) break; case "keydown": case "keyup": constructSelectEvent(i, n, r) }var g; if (canUseCompositionEvent) e: { switch (e) { case "compositionstart": var f = "onCompositionStart"; break e; case "compositionend": f = "onCompositionEnd"; break e; case "compositionupdate": f = "onCompositionUpdate"; break e }f = void 0 } else isComposing ? isFallbackCompositionEnd(e, n) && (f = "onCompositionEnd") : "keydown" === e && 229 === n.keyCode && (f = "onCompositionStart"); f && (useFallbackCompositionData && "ko" !== n.locale && (isComposing || "onCompositionStart" !== f ? "onCompositionEnd" === f && isComposing && (g = getData()) : (startText = "value" in (root$3 = r) ? root$3.value : root$3.textContent, isComposing = !0)), 0 < (h = accumulateTwoPhaseListeners(a, f)).length && (f = new SyntheticCompositionEvent(f, e, null, n, r), i.push({ event: f, listeners: h }), (g || null !== (g = getDataFromCustomEvent(n))) && (f.data = g))), (g = canUseTextInputEvent ? getNativeBeforeInputChars(e, n) : getFallbackBeforeInputChars(e, n)) && 0 < (f = accumulateTwoPhaseListeners(a, "onBeforeInput")).length && (h = new SyntheticCompositionEvent("onBeforeInput", "beforeinput", null, n, r), i.push({ event: h, listeners: f }), h.data = g), extractEvents$1(i, e, a, n, r) } processDispatchQueue(i, t) }) } function createDispatchListener(e, t, n) { return { instance: e, listener: t, currentTarget: n } } function accumulateTwoPhaseListeners(e, t) { for (var n = t + "Capture", a = []; null !== e;) { var r = e, s = r.stateNode; if (5 !== (r = r.tag) && 26 !== r && 27 !== r || null === s || (null != (r = getListener(e, n)) && a.unshift(createDispatchListener(e, r, s)), null != (r = getListener(e, t)) && a.push(createDispatchListener(e, r, s))), 3 === e.tag) return a; e = e.return } return [] } function getParent(e) { if (null === e) return null; do { e = e.return } while (e && 5 !== e.tag && 27 !== e.tag); return e || null } function accumulateEnterLeaveListenersForEvent(e, t, n, a, r) { for (var s = t._reactName, i = []; null !== n && n !== a;) { var o = n, l = o.alternate, m = o.stateNode; if (o = o.tag, null !== l && l === a) break; 5 !== o && 26 !== o && 27 !== o || null === m || (l = m, r ? null != (m = getListener(n, s)) && i.unshift(createDispatchListener(n, m, l)) : r || null != (m = getListener(n, s)) && i.push(createDispatchListener(n, m, l))), n = n.return } 0 !== i.length && e.push({ event: t, listeners: i }) } var NORMALIZE_NEWLINES_REGEX = /\r\n?/g, NORMALIZE_NULL_AND_REPLACEMENT_REGEX = /\u0000|\uFFFD/g; function normalizeMarkupForTextOrAttribute(e) { return ("string" == typeof e ? e : "" + e).replace(NORMALIZE_NEWLINES_REGEX, "\n").replace(NORMALIZE_NULL_AND_REPLACEMENT_REGEX, "") } function checkForUnmatchedText(e, t) { return t = normalizeMarkupForTextOrAttribute(t), normalizeMarkupForTextOrAttribute(e) === t } function noop$1() { } function setProp(e, t, n, a, r, s) { switch (n) { case "children": "string" == typeof a ? "body" === t || "textarea" === t && "" === a || setTextContent(e, a) : ("number" == typeof a || "bigint" == typeof a) && "body" !== t && setTextContent(e, "" + a); break; case "className": setValueForKnownAttribute(e, "class", a); break; case "tabIndex": setValueForKnownAttribute(e, "tabindex", a); break; case "dir": case "role": case "viewBox": case "width": case "height": setValueForKnownAttribute(e, n, a); break; case "style": setValueForStyles(e, a, s); break; case "data": if ("object" !== t) { setValueForKnownAttribute(e, "data", a); break } case "src": case "href": if ("" === a && ("a" !== t || "href" !== n)) { e.removeAttribute(n); break } if (null == a || "function" == typeof a || "symbol" == typeof a || "boolean" == typeof a) { e.removeAttribute(n); break } a = sanitizeURL("" + a), e.setAttribute(n, a); break; case "action": case "formAction": if ("function" == typeof a) { e.setAttribute(n, "javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')"); break } if ("function" == typeof s && ("formAction" === n ? ("input" !== t && setProp(e, t, "name", r.name, r, null), setProp(e, t, "formEncType", r.formEncType, r, null), setProp(e, t, "formMethod", r.formMethod, r, null), setProp(e, t, "formTarget", r.formTarget, r, null)) : (setProp(e, t, "encType", r.encType, r, null), setProp(e, t, "method", r.method, r, null), setProp(e, t, "target", r.target, r, null))), null == a || "symbol" == typeof a || "boolean" == typeof a) { e.removeAttribute(n); break } a = sanitizeURL("" + a), e.setAttribute(n, a); break; case "onClick": null != a && (e.onclick = noop$1); break; case "onScroll": null != a && listenToNonDelegatedEvent("scroll", e); break; case "onScrollEnd": null != a && listenToNonDelegatedEvent("scrollend", e); break; case "dangerouslySetInnerHTML": if (null != a) { if ("object" != typeof a || !("__html" in a)) throw Error(formatProdErrorMessage$1(61)); if (null != (n = a.__html)) { if (null != r.children) throw Error(formatProdErrorMessage$1(60)); e.innerHTML = n } } break; case "multiple": e.multiple = a && "function" != typeof a && "symbol" != typeof a; break; case "muted": e.muted = a && "function" != typeof a && "symbol" != typeof a; break; case "suppressContentEditableWarning": case "suppressHydrationWarning": case "defaultValue": case "defaultChecked": case "innerHTML": case "ref": case "autoFocus": break; case "xlinkHref": if (null == a || "function" == typeof a || "boolean" == typeof a || "symbol" == typeof a) { e.removeAttribute("xlink:href"); break } n = sanitizeURL("" + a), e.setAttributeNS("http://www.w3.org/1999/xlink", "xlink:href", n); break; case "contentEditable": case "spellCheck": case "draggable": case "value": case "autoReverse": case "externalResourcesRequired": case "focusable": case "preserveAlpha": null != a && "function" != typeof a && "symbol" != typeof a ? e.setAttribute(n, "" + a) : e.removeAttribute(n); break; case "inert": case "allowFullScreen": case "async": case "autoPlay": case "controls": case "default": case "defer": case "disabled": case "disablePictureInPicture": case "disableRemotePlayback": case "formNoValidate": case "hidden": case "loop": case "noModule": case "noValidate": case "open": case "playsInline": case "readOnly": case "required": case "reversed": case "scoped": case "seamless": case "itemScope": a && "function" != typeof a && "symbol" != typeof a ? e.setAttribute(n, "") : e.removeAttribute(n); break; case "capture": case "download": !0 === a ? e.setAttribute(n, "") : !1 !== a && null != a && "function" != typeof a && "symbol" != typeof a ? e.setAttribute(n, a) : e.removeAttribute(n); break; case "cols": case "rows": case "size": case "span": null != a && "function" != typeof a && "symbol" != typeof a && !isNaN(a) && 1 <= a ? e.setAttribute(n, a) : e.removeAttribute(n); break; case "rowSpan": case "start": null == a || "function" == typeof a || "symbol" == typeof a || isNaN(a) ? e.removeAttribute(n) : e.setAttribute(n, a); break; case "popover": listenToNonDelegatedEvent("beforetoggle", e), listenToNonDelegatedEvent("toggle", e), setValueForAttribute(e, "popover", a); break; case "xlinkActuate": setValueForNamespacedAttribute(e, "http://www.w3.org/1999/xlink", "xlink:actuate", a); break; case "xlinkArcrole": setValueForNamespacedAttribute(e, "http://www.w3.org/1999/xlink", "xlink:arcrole", a); break; case "xlinkRole": setValueForNamespacedAttribute(e, "http://www.w3.org/1999/xlink", "xlink:role", a); break; case "xlinkShow": setValueForNamespacedAttribute(e, "http://www.w3.org/1999/xlink", "xlink:show", a); break; case "xlinkTitle": setValueForNamespacedAttribute(e, "http://www.w3.org/1999/xlink", "xlink:title", a); break; case "xlinkType": setValueForNamespacedAttribute(e, "http://www.w3.org/1999/xlink", "xlink:type", a); break; case "xmlBase": setValueForNamespacedAttribute(e, "http://www.w3.org/XML/1998/namespace", "xml:base", a); break; case "xmlLang": setValueForNamespacedAttribute(e, "http://www.w3.org/XML/1998/namespace", "xml:lang", a); break; case "xmlSpace": setValueForNamespacedAttribute(e, "http://www.w3.org/XML/1998/namespace", "xml:space", a); break; case "is": setValueForAttribute(e, "is", a); break; case "innerText": case "textContent": break; default: (!(2 < n.length) || "o" !== n[0] && "O" !== n[0] || "n" !== n[1] && "N" !== n[1]) && setValueForAttribute(e, n = aliases.get(n) || n, a) } } function setPropOnCustomElement(e, t, n, a, r, s) { switch (n) { case "style": setValueForStyles(e, a, s); break; case "dangerouslySetInnerHTML": if (null != a) { if ("object" != typeof a || !("__html" in a)) throw Error(formatProdErrorMessage$1(61)); if (null != (n = a.__html)) { if (null != r.children) throw Error(formatProdErrorMessage$1(60)); e.innerHTML = n } } break; case "children": "string" == typeof a ? setTextContent(e, a) : ("number" == typeof a || "bigint" == typeof a) && setTextContent(e, "" + a); break; case "onScroll": null != a && listenToNonDelegatedEvent("scroll", e); break; case "onScrollEnd": null != a && listenToNonDelegatedEvent("scrollend", e); break; case "onClick": null != a && (e.onclick = noop$1); break; case "suppressContentEditableWarning": case "suppressHydrationWarning": case "innerHTML": case "ref": case "innerText": case "textContent": break; default: registrationNameDependencies.hasOwnProperty(n) || ("o" !== n[0] || "n" !== n[1] || (r = n.endsWith("Capture"), t = n.slice(2, r ? n.length - 7 : void 0), "function" == typeof (s = null != (s = e[internalPropsKey] || null) ? s[n] : null) && e.removeEventListener(t, s, r), "function" != typeof a) ? n in e ? e[n] = a : !0 === a ? e.setAttribute(n, "") : setValueForAttribute(e, n, a) : ("function" != typeof s && null !== s && (n in e ? e[n] = null : e.hasAttribute(n) && e.removeAttribute(n)), e.addEventListener(t, a, r))) } } function setInitialProperties(e, t, n) { switch (t) { case "div": case "span": case "svg": case "path": case "a": case "g": case "p": case "li": break; case "img": listenToNonDelegatedEvent("error", e), listenToNonDelegatedEvent("load", e); var a, r = !1, s = !1; for (a in n) if (n.hasOwnProperty(a)) { var i = n[a]; if (null != i) switch (a) { case "src": r = !0; break; case "srcSet": s = !0; break; case "children": case "dangerouslySetInnerHTML": throw Error(formatProdErrorMessage$1(137, t)); default: setProp(e, t, a, i, n, null) } } return s && setProp(e, t, "srcSet", n.srcSet, n, null), void (r && setProp(e, t, "src", n.src, n, null)); case "input": listenToNonDelegatedEvent("invalid", e); var o = a = i = s = null, l = null, m = null; for (r in n) if (n.hasOwnProperty(r)) { var c = n[r]; if (null != c) switch (r) { case "name": s = c; break; case "type": i = c; break; case "checked": l = c; break; case "defaultChecked": m = c; break; case "value": a = c; break; case "defaultValue": o = c; break; case "children": case "dangerouslySetInnerHTML": if (null != c) throw Error(formatProdErrorMessage$1(137, t)); break; default: setProp(e, t, r, c, n, null) } } return initInput(e, a, o, l, m, i, s, !1), void track(e); case "select": for (s in listenToNonDelegatedEvent("invalid", e), r = i = a = null, n) if (n.hasOwnProperty(s) && null != (o = n[s])) switch (s) { case "value": a = o; break; case "defaultValue": i = o; break; case "multiple": r = o; default: setProp(e, t, s, o, n, null) }return t = a, n = i, e.multiple = !!r, void (null != t ? updateOptions(e, !!r, t, !1) : null != n && updateOptions(e, !!r, n, !0)); case "textarea": for (i in listenToNonDelegatedEvent("invalid", e), a = s = r = null, n) if (n.hasOwnProperty(i) && null != (o = n[i])) switch (i) { case "value": r = o; break; case "defaultValue": s = o; break; case "children": a = o; break; case "dangerouslySetInnerHTML": if (null != o) throw Error(formatProdErrorMessage$1(91)); break; default: setProp(e, t, i, o, n, null) }return initTextarea(e, r, s, a), void track(e); case "option": for (l in n) n.hasOwnProperty(l) && null != (r = n[l]) && ("selected" === l ? e.selected = r && "function" != typeof r && "symbol" != typeof r : setProp(e, t, l, r, n, null)); return; case "dialog": listenToNonDelegatedEvent("beforetoggle", e), listenToNonDelegatedEvent("toggle", e), listenToNonDelegatedEvent("cancel", e), listenToNonDelegatedEvent("close", e); break; case "iframe": case "object": listenToNonDelegatedEvent("load", e); break; case "video": case "audio": for (r = 0; r < mediaEventTypes.length; r++)listenToNonDelegatedEvent(mediaEventTypes[r], e); break; case "image": listenToNonDelegatedEvent("error", e), listenToNonDelegatedEvent("load", e); break; case "details": listenToNonDelegatedEvent("toggle", e); break; case "embed": case "source": case "link": listenToNonDelegatedEvent("error", e), listenToNonDelegatedEvent("load", e); case "area": case "base": case "br": case "col": case "hr": case "keygen": case "meta": case "param": case "track": case "wbr": case "menuitem": for (m in n) if (n.hasOwnProperty(m) && null != (r = n[m])) switch (m) { case "children": case "dangerouslySetInnerHTML": throw Error(formatProdErrorMessage$1(137, t)); default: setProp(e, t, m, r, n, null) }return; default: if (isCustomElement(t)) { for (c in n) n.hasOwnProperty(c) && void 0 !== (r = n[c]) && setPropOnCustomElement(e, t, c, r, n, void 0); return } }for (o in n) n.hasOwnProperty(o) && null != (r = n[o]) && setProp(e, t, o, r, n, null) } function updateProperties(e, t, n, a) { switch (t) { case "div": case "span": case "svg": case "path": case "a": case "g": case "p": case "li": break; case "input": var r = null, s = null, i = null, o = null, l = null, m = null, c = null; for (p in n) { var u = n[p]; if (n.hasOwnProperty(p) && null != u) switch (p) { case "checked": case "value": break; case "defaultValue": l = u; default: a.hasOwnProperty(p) || setProp(e, t, p, null, a, u) } } for (var A in a) { var p = a[A]; if (u = n[A], a.hasOwnProperty(A) && (null != p || null != u)) switch (A) { case "type": s = p; break; case "name": r = p; break; case "checked": m = p; break; case "defaultChecked": c = p; break; case "value": i = p; break; case "defaultValue": o = p; break; case "children": case "dangerouslySetInnerHTML": if (null != p) throw Error(formatProdErrorMessage$1(137, t)); break; default: p !== u && setProp(e, t, A, p, a, u) } } return void updateInput(e, i, o, l, m, c, s, r); case "select": for (s in p = i = o = A = null, n) if (l = n[s], n.hasOwnProperty(s) && null != l) switch (s) { case "value": break; case "multiple": p = l; default: a.hasOwnProperty(s) || setProp(e, t, s, null, a, l) }for (r in a) if (s = a[r], l = n[r], a.hasOwnProperty(r) && (null != s || null != l)) switch (r) { case "value": A = s; break; case "defaultValue": o = s; break; case "multiple": i = s; default: s !== l && setProp(e, t, r, s, a, l) }return t = o, n = i, a = p, void (null != A ? updateOptions(e, !!n, A, !1) : !!a != !!n && (null != t ? updateOptions(e, !!n, t, !0) : updateOptions(e, !!n, n ? [] : "", !1))); case "textarea": for (o in p = A = null, n) if (r = n[o], n.hasOwnProperty(o) && null != r && !a.hasOwnProperty(o)) switch (o) { case "value": case "children": break; default: setProp(e, t, o, null, a, r) }for (i in a) if (r = a[i], s = n[i], a.hasOwnProperty(i) && (null != r || null != s)) switch (i) { case "value": A = r; break; case "defaultValue": p = r; break; case "children": break; case "dangerouslySetInnerHTML": if (null != r) throw Error(formatProdErrorMessage$1(91)); break; default: r !== s && setProp(e, t, i, r, a, s) }return void updateTextarea(e, A, p); case "option": for (var d in n) A = n[d], n.hasOwnProperty(d) && null != A && !a.hasOwnProperty(d) && ("selected" === d ? e.selected = !1 : setProp(e, t, d, null, a, A)); for (l in a) A = a[l], p = n[l], !a.hasOwnProperty(l) || A === p || null == A && null == p || ("selected" === l ? e.selected = A && "function" != typeof A && "symbol" != typeof A : setProp(e, t, l, A, a, p)); return; case "img": case "link": case "area": case "base": case "br": case "col": case "embed": case "hr": case "keygen": case "meta": case "param": case "source": case "track": case "wbr": case "menuitem": for (var _ in n) A = n[_], n.hasOwnProperty(_) && null != A && !a.hasOwnProperty(_) && setProp(e, t, _, null, a, A); for (m in a) if (A = a[m], p = n[m], a.hasOwnProperty(m) && A !== p && (null != A || null != p)) switch (m) { case "children": case "dangerouslySetInnerHTML": if (null != A) throw Error(formatProdErrorMessage$1(137, t)); break; default: setProp(e, t, m, A, a, p) }return; default: if (isCustomElement(t)) { for (var v in n) A = n[v], n.hasOwnProperty(v) && void 0 !== A && !a.hasOwnProperty(v) && setPropOnCustomElement(e, t, v, void 0, a, A); for (c in a) A = a[c], p = n[c], !a.hasOwnProperty(c) || A === p || void 0 === A && void 0 === p || setPropOnCustomElement(e, t, c, A, a, p); return } }for (var h in n) A = n[h], n.hasOwnProperty(h) && null != A && !a.hasOwnProperty(h) && setProp(e, t, h, null, a, A); for (u in a) A = a[u], p = n[u], !a.hasOwnProperty(u) || A === p || null == A && null == p || setProp(e, t, u, A, a, p) } var eventsEnabled = null, selectionInformation = null; function getOwnerDocumentFromRootContainer(e) { return 9 === e.nodeType ? e : e.ownerDocument } function getOwnHostContext(e) { switch (e) { case "http://www.w3.org/2000/svg": return 1; case "http://www.w3.org/1998/Math/MathML": return 2; default: return 0 } } function getChildHostContextProd(e, t) { if (0 === e) switch (t) { case "svg": return 1; case "math": return 2; default: return 0 }return 1 === e && "foreignObject" === t ? 0 : e } function shouldSetTextContent(e, t) { return "textarea" === e || "noscript" === e || "string" == typeof t.children || "number" == typeof t.children || "bigint" == typeof t.children || "object" == typeof t.dangerouslySetInnerHTML && null !== t.dangerouslySetInnerHTML && null != t.dangerouslySetInnerHTML.__html } var currentPopstateTransitionEvent = null; function shouldAttemptEagerTransition() { var e = window.event; return e && "popstate" === e.type ? e !== currentPopstateTransitionEvent && (currentPopstateTransitionEvent = e, !0) : (currentPopstateTransitionEvent = null, !1) } var scheduleTimeout = "function" == typeof setTimeout ? setTimeout : void 0, cancelTimeout = "function" == typeof clearTimeout ? clearTimeout : void 0, localPromise = "function" == typeof Promise ? Promise : void 0, scheduleMicrotask = "function" == typeof queueMicrotask ? queueMicrotask : void 0 !== localPromise ? function (e) { return localPromise.resolve(null).then(e).catch(handleErrorInNextTick) } : scheduleTimeout; function handleErrorInNextTick(e) { setTimeout(function () { throw e }) } function isSingletonScope(e) { return "head" === e } function clearSuspenseBoundary(e, t) { var n = t, a = 0, r = 0; do { var s = n.nextSibling; if (e.removeChild(n), s && 8 === s.nodeType) if ("/$" === (n = s.data)) { if (0 < a && 8 > a) { n = a; var i = e.ownerDocument; if (1 & n && releaseSingletonInstance(i.documentElement), 2 & n && releaseSingletonInstance(i.body), 4 & n) for (releaseSingletonInstance(n = i.head), i = n.firstChild; i;) { var o = i.nextSibling, l = i.nodeName; i[internalHoistableMarker] || "SCRIPT" === l || "STYLE" === l || "LINK" === l && "stylesheet" === i.rel.toLowerCase() || n.removeChild(i), i = o } } if (0 === r) return e.removeChild(s), void retryIfBlockedOn(t); r-- } else "$" === n || "$?" === n || "$!" === n ? r++ : a = n.charCodeAt(0) - 48; else a = 0; n = s } while (n); retryIfBlockedOn(t) } function clearContainerSparingly(e) { var t = e.firstChild; for (t && 10 === t.nodeType && (t = t.nextSibling); t;) { var n = t; switch (t = t.nextSibling, n.nodeName) { case "HTML": case "HEAD": case "BODY": clearContainerSparingly(n), detachDeletedInstance(n); continue; case "SCRIPT": case "STYLE": continue; case "LINK": if ("stylesheet" === n.rel.toLowerCase()) continue }e.removeChild(n) } } function canHydrateInstance(e, t, n, a) { for (; 1 === e.nodeType;) { var r = n; if (e.nodeName.toLowerCase() !== t.toLowerCase()) { if (!a && ("INPUT" !== e.nodeName || "hidden" !== e.type)) break } else if (a) { if (!e[internalHoistableMarker]) switch (t) { case "meta": if (!e.hasAttribute("itemprop")) break; return e; case "link": if ("stylesheet" === (s = e.getAttribute("rel")) && e.hasAttribute("data-precedence")) break; if (s !== r.rel || e.getAttribute("href") !== (null == r.href || "" === r.href ? null : r.href) || e.getAttribute("crossorigin") !== (null == r.crossOrigin ? null : r.crossOrigin) || e.getAttribute("title") !== (null == r.title ? null : r.title)) break; return e; case "style": if (e.hasAttribute("data-precedence")) break; return e; case "script": if (((s = e.getAttribute("src")) !== (null == r.src ? null : r.src) || e.getAttribute("type") !== (null == r.type ? null : r.type) || e.getAttribute("crossorigin") !== (null == r.crossOrigin ? null : r.crossOrigin)) && s && e.hasAttribute("async") && !e.hasAttribute("itemprop")) break; return e; default: return e } } else { if ("input" !== t || "hidden" !== e.type) return e; var s = null == r.name ? null : "" + r.name; if ("hidden" === r.type && e.getAttribute("name") === s) return e } if (null === (e = getNextHydratable(e.nextSibling))) break } return null } function canHydrateTextInstance(e, t, n) { if ("" === t) return null; for (; 3 !== e.nodeType;) { if ((1 !== e.nodeType || "INPUT" !== e.nodeName || "hidden" !== e.type) && !n) return null; if (null === (e = getNextHydratable(e.nextSibling))) return null } return e } function isSuspenseInstanceFallback(e) { return "$!" === e.data || "$?" === e.data && "complete" === e.ownerDocument.readyState } function registerSuspenseInstanceRetry(e, t) { var n = e.ownerDocument; if ("$?" !== e.data || "complete" === n.readyState) t(); else { var a = function () { t(), n.removeEventListener("DOMContentLoaded", a) }; n.addEventListener("DOMContentLoaded", a), e._reactRetry = a } } function getNextHydratable(e) { for (; null != e; e = e.nextSibling) { var t = e.nodeType; if (1 === t || 3 === t) break; if (8 === t) { if ("$" === (t = e.data) || "$!" === t || "$?" === t || "F!" === t || "F" === t) break; if ("/$" === t) return null } } return e } var previousHydratableOnEnteringScopedSingleton = null; function getParentSuspenseInstance(e) { e = e.previousSibling; for (var t = 0; e;) { if (8 === e.nodeType) { var n = e.data; if ("$" === n || "$!" === n || "$?" === n) { if (0 === t) return e; t-- } else "/$" === n && t++ } e = e.previousSibling } return null } function resolveSingletonInstance(e, t, n) { switch (t = getOwnerDocumentFromRootContainer(n), e) { case "html": if (!(e = t.documentElement)) throw Error(formatProdErrorMessage$1(452)); return e; case "head": if (!(e = t.head)) throw Error(formatProdErrorMessage$1(453)); return e; case "body": if (!(e = t.body)) throw Error(formatProdErrorMessage$1(454)); return e; default: throw Error(formatProdErrorMessage$1(451)) } } function releaseSingletonInstance(e) { for (var t = e.attributes; t.length;)e.removeAttributeNode(t[0]); detachDeletedInstance(e) } var preloadPropsMap = new Map, preconnectsSet = new Set; function getHoistableRoot(e) { return "function" == typeof e.getRootNode ? e.getRootNode() : 9 === e.nodeType ? e : e.ownerDocument } var previousDispatcher = ReactDOMSharedInternals.d; function flushSyncWork() { var e = previousDispatcher.f(), t = flushSyncWork$1(); return e || t } function requestFormReset(e) { var t = getInstanceFromNode(e); null !== t && 5 === t.tag && "form" === t.type ? requestFormReset$1(t) : previousDispatcher.r(e) } ReactDOMSharedInternals.d = { f: flushSyncWork, r: requestFormReset, D: prefetchDNS, C: preconnect, L: preload, m: preloadModule, X: preinitScript, S: preinitStyle, M: preinitModuleScript }; var globalDocument = "undefined" == typeof document ? null : document; function preconnectAs(e, t, n) { var a = globalDocument; if (a && "string" == typeof t && t) { var r = escapeSelectorAttributeValueInsideDoubleQuotes(t); r = 'link[rel="' + e + '"][href="' + r + '"]', "string" == typeof n && (r += '[crossorigin="' + n + '"]'), preconnectsSet.has(r) || (preconnectsSet.add(r), e = { rel: e, crossOrigin: n, href: t }, null === a.querySelector(r) && (setInitialProperties(t = a.createElement("link"), "link", e), markNodeAsHoistable(t), a.head.appendChild(t))) } } function prefetchDNS(e) { previousDispatcher.D(e), preconnectAs("dns-prefetch", e, null) } function preconnect(e, t) { previousDispatcher.C(e, t), preconnectAs("preconnect", e, t) } function preload(e, t, n) { previousDispatcher.L(e, t, n); var a = globalDocument; if (a && e && t) { var r = 'link[rel="preload"][as="' + escapeSelectorAttributeValueInsideDoubleQuotes(t) + '"]'; "image" === t && n && n.imageSrcSet ? (r += '[imagesrcset="' + escapeSelectorAttributeValueInsideDoubleQuotes(n.imageSrcSet) + '"]', "string" == typeof n.imageSizes && (r += '[imagesizes="' + escapeSelectorAttributeValueInsideDoubleQuotes(n.imageSizes) + '"]')) : r += '[href="' + escapeSelectorAttributeValueInsideDoubleQuotes(e) + '"]'; var s = r; switch (t) { case "style": s = getStyleKey(e); break; case "script": s = getScriptKey(e) }preloadPropsMap.has(s) || (e = assign({ rel: "preload", href: "image" === t && n && n.imageSrcSet ? void 0 : e, as: t }, n), preloadPropsMap.set(s, e), null !== a.querySelector(r) || "style" === t && a.querySelector(getStylesheetSelectorFromKey(s)) || "script" === t && a.querySelector(getScriptSelectorFromKey(s)) || (setInitialProperties(t = a.createElement("link"), "link", e), markNodeAsHoistable(t), a.head.appendChild(t))) } } function preloadModule(e, t) { previousDispatcher.m(e, t); var n = globalDocument; if (n && e) { var a = t && "string" == typeof t.as ? t.as : "script", r = 'link[rel="modulepreload"][as="' + escapeSelectorAttributeValueInsideDoubleQuotes(a) + '"][href="' + escapeSelectorAttributeValueInsideDoubleQuotes(e) + '"]', s = r; switch (a) { case "audioworklet": case "paintworklet": case "serviceworker": case "sharedworker": case "worker": case "script": s = getScriptKey(e) }if (!preloadPropsMap.has(s) && (e = assign({ rel: "modulepreload", href: e }, t), preloadPropsMap.set(s, e), null === n.querySelector(r))) { switch (a) { case "audioworklet": case "paintworklet": case "serviceworker": case "sharedworker": case "worker": case "script": if (n.querySelector(getScriptSelectorFromKey(s))) return }setInitialProperties(a = n.createElement("link"), "link", e), markNodeAsHoistable(a), n.head.appendChild(a) } } } function preinitStyle(e, t, n) { previousDispatcher.S(e, t, n); var a = globalDocument; if (a && e) { var r = getResourcesFromRoot(a).hoistableStyles, s = getStyleKey(e); t = t || "default"; var i = r.get(s); if (!i) { var o = { loading: 0, preload: null }; if (i = a.querySelector(getStylesheetSelectorFromKey(s))) o.loading = 5; else { e = assign({ rel: "stylesheet", href: e, "data-precedence": t }, n), (n = preloadPropsMap.get(s)) && adoptPreloadPropsForStylesheet(e, n); var l = i = a.createElement("link"); markNodeAsHoistable(l), setInitialProperties(l, "link", e), l._p = new Promise(function (e, t) { l.onload = e, l.onerror = t }), l.addEventListener("load", function () { o.loading |= 1 }), l.addEventListener("error", function () { o.loading |= 2 }), o.loading |= 4, insertStylesheet(i, t, a) } i = { type: "stylesheet", instance: i, count: 1, state: o }, r.set(s, i) } } } function preinitScript(e, t) { previousDispatcher.X(e, t); var n = globalDocument; if (n && e) { var a = getResourcesFromRoot(n).hoistableScripts, r = getScriptKey(e), s = a.get(r); s || ((s = n.querySelector(getScriptSelectorFromKey(r))) || (e = assign({ src: e, async: !0 }, t), (t = preloadPropsMap.get(r)) && adoptPreloadPropsForScript(e, t), markNodeAsHoistable(s = n.createElement("script")), setInitialProperties(s, "link", e), n.head.appendChild(s)), s = { type: "script", instance: s, count: 1, state: null }, a.set(r, s)) } } function preinitModuleScript(e, t) { previousDispatcher.M(e, t); var n = globalDocument; if (n && e) { var a = getResourcesFromRoot(n).hoistableScripts, r = getScriptKey(e), s = a.get(r); s || ((s = n.querySelector(getScriptSelectorFromKey(r))) || (e = assign({ src: e, async: !0, type: "module" }, t), (t = preloadPropsMap.get(r)) && adoptPreloadPropsForScript(e, t), markNodeAsHoistable(s = n.createElement("script")), setInitialProperties(s, "link", e), n.head.appendChild(s)), s = { type: "script", instance: s, count: 1, state: null }, a.set(r, s)) } } function getResource(e, t, n, a) { var r = (r = rootInstanceStackCursor.current) ? getHoistableRoot(r) : null; if (!r) throw Error(formatProdErrorMessage$1(446)); switch (e) { case "meta": case "title": return null; case "style": return "string" == typeof n.precedence && "string" == typeof n.href ? (t = getStyleKey(n.href), (a = (n = getResourcesFromRoot(r).hoistableStyles).get(t)) || (a = { type: "style", instance: null, count: 0, state: null }, n.set(t, a)), a) : { type: "void", instance: null, count: 0, state: null }; case "link": if ("stylesheet" === n.rel && "string" == typeof n.href && "string" == typeof n.precedence) { e = getStyleKey(n.href); var s = getResourcesFromRoot(r).hoistableStyles, i = s.get(e); if (i || (r = r.ownerDocument || r, i = { type: "stylesheet", instance: null, count: 0, state: { loading: 0, preload: null } }, s.set(e, i), (s = r.querySelector(getStylesheetSelectorFromKey(e))) && !s._p && (i.instance = s, i.state.loading = 5), preloadPropsMap.has(e) || (n = { rel: "preload", as: "style", href: n.href, crossOrigin: n.crossOrigin, integrity: n.integrity, media: n.media, hrefLang: n.hrefLang, referrerPolicy: n.referrerPolicy }, preloadPropsMap.set(e, n), s || preloadStylesheet(r, e, n, i.state))), t && null === a) throw Error(formatProdErrorMessage$1(528, "")); return i } if (t && null !== a) throw Error(formatProdErrorMessage$1(529, "")); return null; case "script": return t = n.async, "string" == typeof (n = n.src) && t && "function" != typeof t && "symbol" != typeof t ? (t = getScriptKey(n), (a = (n = getResourcesFromRoot(r).hoistableScripts).get(t)) || (a = { type: "script", instance: null, count: 0, state: null }, n.set(t, a)), a) : { type: "void", instance: null, count: 0, state: null }; default: throw Error(formatProdErrorMessage$1(444, e)) } } function getStyleKey(e) { return 'href="' + escapeSelectorAttributeValueInsideDoubleQuotes(e) + '"' } function getStylesheetSelectorFromKey(e) { return 'link[rel="stylesheet"][' + e + "]" } function stylesheetPropsFromRawProps(e) { return assign({}, e, { "data-precedence": e.precedence, precedence: null }) } function preloadStylesheet(e, t, n, a) { e.querySelector('link[rel="preload"][as="style"][' + t + "]") ? a.loading = 1 : (t = e.createElement("link"), a.preload = t, t.addEventListener("load", function () { return a.loading |= 1 }), t.addEventListener("error", function () { return a.loading |= 2 }), setInitialProperties(t, "link", n), markNodeAsHoistable(t), e.head.appendChild(t)) } function getScriptKey(e) { return '[src="' + escapeSelectorAttributeValueInsideDoubleQuotes(e) + '"]' } function getScriptSelectorFromKey(e) { return "script[async]" + e } function acquireResource(e, t, n) { if (t.count++, null === t.instance) switch (t.type) { case "style": var a = e.querySelector('style[data-href~="' + escapeSelectorAttributeValueInsideDoubleQuotes(n.href) + '"]'); if (a) return t.instance = a, markNodeAsHoistable(a), a; var r = assign({}, n, { "data-href": n.href, "data-precedence": n.precedence, href: null, precedence: null }); return markNodeAsHoistable(a = (e.ownerDocument || e).createElement("style")), setInitialProperties(a, "style", r), insertStylesheet(a, n.precedence, e), t.instance = a; case "stylesheet": r = getStyleKey(n.href); var s = e.querySelector(getStylesheetSelectorFromKey(r)); if (s) return t.state.loading |= 4, t.instance = s, markNodeAsHoistable(s), s; a = stylesheetPropsFromRawProps(n), (r = preloadPropsMap.get(r)) && adoptPreloadPropsForStylesheet(a, r), markNodeAsHoistable(s = (e.ownerDocument || e).createElement("link")); var i = s; return i._p = new Promise(function (e, t) { i.onload = e, i.onerror = t }), setInitialProperties(s, "link", a), t.state.loading |= 4, insertStylesheet(s, n.precedence, e), t.instance = s; case "script": return s = getScriptKey(n.src), (r = e.querySelector(getScriptSelectorFromKey(s))) ? (t.instance = r, markNodeAsHoistable(r), r) : (a = n, (r = preloadPropsMap.get(s)) && adoptPreloadPropsForScript(a = assign({}, n), r), markNodeAsHoistable(r = (e = e.ownerDocument || e).createElement("script")), setInitialProperties(r, "link", a), e.head.appendChild(r), t.instance = r); case "void": return null; default: throw Error(formatProdErrorMessage$1(443, t.type)) } else "stylesheet" === t.type && !(4 & t.state.loading) && (a = t.instance, t.state.loading |= 4, insertStylesheet(a, n.precedence, e)); return t.instance } function insertStylesheet(e, t, n) { for (var a = n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'), r = a.length ? a[a.length - 1] : null, s = r, i = 0; i < a.length; i++) { var o = a[i]; if (o.dataset.precedence === t) s = o; else if (s !== r) break } s ? s.parentNode.insertBefore(e, s.nextSibling) : (t = 9 === n.nodeType ? n.head : n).insertBefore(e, t.firstChild) } function adoptPreloadPropsForStylesheet(e, t) { null == e.crossOrigin && (e.crossOrigin = t.crossOrigin), null == e.referrerPolicy && (e.referrerPolicy = t.referrerPolicy), null == e.title && (e.title = t.title) } function adoptPreloadPropsForScript(e, t) { null == e.crossOrigin && (e.crossOrigin = t.crossOrigin), null == e.referrerPolicy && (e.referrerPolicy = t.referrerPolicy), null == e.integrity && (e.integrity = t.integrity) } var tagCaches = null; function getHydratableHoistableCache(e, t, n) { if (null === tagCaches) { var a = new Map, r = tagCaches = new Map; r.set(n, a) } else (a = (r = tagCaches).get(n)) || (a = new Map, r.set(n, a)); if (a.has(e)) return a; for (a.set(e, null), n = n.getElementsByTagName(e), r = 0; r < n.length; r++) { var s = n[r]; if (!(s[internalHoistableMarker] || s[internalInstanceKey] || "link" === e && "stylesheet" === s.getAttribute("rel")) && "http://www.w3.org/2000/svg" !== s.namespaceURI) { var i = s.getAttribute(t) || ""; i = e + i; var o = a.get(i); o ? o.push(s) : a.set(i, [s]) } } return a } function mountHoistable(e, t, n) { (e = e.ownerDocument || e).head.insertBefore(n, "title" === t ? e.querySelector("head > title") : null) } function isHostHoistableType(e, t, n) { if (1 === n || null != t.itemProp) return !1; switch (e) { case "meta": case "title": return !0; case "style": if ("string" != typeof t.precedence || "string" != typeof t.href || "" === t.href) break; return !0; case "link": if ("string" != typeof t.rel || "string" != typeof t.href || "" === t.href || t.onLoad || t.onError) break; return "stylesheet" !== t.rel || (e = t.disabled, "string" == typeof t.precedence && null == e); case "script": if (t.async && "function" != typeof t.async && "symbol" != typeof t.async && !t.onLoad && !t.onError && t.src && "string" == typeof t.src) return !0 }return !1 } function preloadResource(e) { return !!("stylesheet" !== e.type || 3 & e.state.loading) } var suspendedState = null; function noop$4() { } function suspendResource(e, t, n) { if (null === suspendedState) throw Error(formatProdErrorMessage$1(475)); var a = suspendedState; if (!("stylesheet" !== t.type || "string" == typeof n.media && !1 === matchMedia(n.media).matches || 4 & t.state.loading)) { if (null === t.instance) { var r = getStyleKey(n.href), s = e.querySelector(getStylesheetSelectorFromKey(r)); if (s) return null !== (e = s._p) && "object" == typeof e && "function" == typeof e.then && (a.count++, a = onUnsuspend.bind(a), e.then(a, a)), t.state.loading |= 4, t.instance = s, void markNodeAsHoistable(s); s = e.ownerDocument || e, n = stylesheetPropsFromRawProps(n), (r = preloadPropsMap.get(r)) && adoptPreloadPropsForStylesheet(n, r), markNodeAsHoistable(s = s.createElement("link")); var i = s; i._p = new Promise(function (e, t) { i.onload = e, i.onerror = t }), setInitialProperties(s, "link", n), t.instance = s } null === a.stylesheets && (a.stylesheets = new Map), a.stylesheets.set(t, e), (e = t.state.preload) && !(3 & t.state.loading) && (a.count++, t = onUnsuspend.bind(a), e.addEventListener("load", t), e.addEventListener("error", t)) } } function waitForCommitToBeReady() { if (null === suspendedState) throw Error(formatProdErrorMessage$1(475)); var e = suspendedState; return e.stylesheets && 0 === e.count && insertSuspendedStylesheets(e, e.stylesheets), 0 < e.count ? function (t) { var n = setTimeout(function () { if (e.stylesheets && insertSuspendedStylesheets(e, e.stylesheets), e.unsuspend) { var t = e.unsuspend; e.unsuspend = null, t() } }, 6e4); return e.unsuspend = t, function () { e.unsuspend = null, clearTimeout(n) } } : null } function onUnsuspend() { if (this.count--, 0 === this.count) if (this.stylesheets) insertSuspendedStylesheets(this, this.stylesheets); else if (this.unsuspend) { var e = this.unsuspend; this.unsuspend = null, e() } } var precedencesByRoot = null; function insertSuspendedStylesheets(e, t) { e.stylesheets = null, null !== e.unsuspend && (e.count++, precedencesByRoot = new Map, t.forEach(insertStylesheetIntoRoot, e), precedencesByRoot = null, onUnsuspend.call(e)) } function insertStylesheetIntoRoot(e, t) { if (!(4 & t.state.loading)) { var n = precedencesByRoot.get(e); if (n) var a = n.get(null); else { n = new Map, precedencesByRoot.set(e, n); for (var r = e.querySelectorAll("link[data-precedence],style[data-precedence]"), s = 0; s < r.length; s++) { var i = r[s]; "LINK" !== i.nodeName && "not all" === i.getAttribute("media") || (n.set(i.dataset.precedence, i), a = i) } a && n.set(null, a) } i = (r = t.instance).getAttribute("data-precedence"), (s = n.get(i) || a) === a && n.set(null, r), n.set(i, r), this.count++, a = onUnsuspend.bind(this), r.addEventListener("load", a), r.addEventListener("error", a), s ? s.parentNode.insertBefore(r, s.nextSibling) : (e = 9 === e.nodeType ? e.head : e).insertBefore(r, e.firstChild), t.state.loading |= 4 } } var HostTransitionContext = { $$typeof: REACT_CONTEXT_TYPE, Provider: null, Consumer: null, _currentValue: sharedNotPendingObject, _currentValue2: sharedNotPendingObject, _threadCount: 0 }; function FiberRootNode(e, t, n, a, r, s, i, o) { this.tag = 1, this.containerInfo = e, this.pingCache = this.current = this.pendingChildren = null, this.timeoutHandle = -1, this.callbackNode = this.next = this.pendingContext = this.context = this.cancelPendingCommit = null, this.callbackPriority = 0, this.expirationTimes = createLaneMap(-1), this.entangledLanes = this.shellSuspendCounter = this.errorRecoveryDisabledLanes = this.expiredLanes = this.warmLanes = this.pingedLanes = this.suspendedLanes = this.pendingLanes = 0, this.entanglements = createLaneMap(0), this.hiddenUpdates = createLaneMap(null), this.identifierPrefix = a, this.onUncaughtError = r, this.onCaughtError = s, this.onRecoverableError = i, this.pooledCache = null, this.pooledCacheLanes = 0, this.formState = o, this.incompleteTransitions = new Map } function createFiberRoot(e, t, n, a, r, s, i, o, l, m, c, u) { return e = new FiberRootNode(e, t, n, i, o, l, m, u), t = 1, !0 === s && (t |= 24), s = createFiberImplClass(3, null, null, t), e.current = s, s.stateNode = e, (t = createCache()).refCount++, e.pooledCache = t, t.refCount++, s.memoizedState = { element: a, isDehydrated: n, cache: t }, initializeUpdateQueue(s), e } function getContextForSubtree(e) { return e ? e = emptyContextObject : emptyContextObject } function updateContainerImpl(e, t, n, a, r, s) { r = getContextForSubtree(r), null === a.context ? a.context = r : a.pendingContext = r, (a = createUpdate(t)).payload = { element: n }, null !== (s = void 0 === s ? null : s) && (a.callback = s), null !== (n = enqueueUpdate(e, a, t)) && (scheduleUpdateOnFiber(n, e, t), entangleTransitions(n, e, t)) } function markRetryLaneImpl(e, t) { if (null !== (e = e.memoizedState) && null !== e.dehydrated) { var n = e.retryLane; e.retryLane = 0 !== n && n < t ? n : t } } function markRetryLaneIfNotHydrated(e, t) { markRetryLaneImpl(e, t), (e = e.alternate) && markRetryLaneImpl(e, t) } function attemptContinuousHydration(e) { if (13 === e.tag) { var t = enqueueConcurrentRenderForLane(e, 67108864); null !== t && scheduleUpdateOnFiber(t, e, 67108864), markRetryLaneIfNotHydrated(e, 67108864) } } var _enabled = !0; function dispatchDiscreteEvent(e, t, n, a) { var r = ReactSharedInternals.T; ReactSharedInternals.T = null; var s = ReactDOMSharedInternals.p; try { ReactDOMSharedInternals.p = 2, dispatchEvent(e, t, n, a) } finally { ReactDOMSharedInternals.p = s, ReactSharedInternals.T = r } } function dispatchContinuousEvent(e, t, n, a) { var r = ReactSharedInternals.T; ReactSharedInternals.T = null; var s = ReactDOMSharedInternals.p; try { ReactDOMSharedInternals.p = 8, dispatchEvent(e, t, n, a) } finally { ReactDOMSharedInternals.p = s, ReactSharedInternals.T = r } } function dispatchEvent(e, t, n, a) { if (_enabled) { var r = findInstanceBlockingEvent(a); if (null === r) dispatchEventForPluginEventSystem(e, t, a, return_targetInst, n), clearIfContinuousEvent(e, a); else if (queueIfContinuousEvent(r, e, t, n, a)) a.stopPropagation(); else if (clearIfContinuousEvent(e, a), 4 & t && -1 < discreteReplayableEvents.indexOf(e)) { for (; null !== r;) { var s = getInstanceFromNode(r); if (null !== s) switch (s.tag) { case 3: if ((s = s.stateNode).current.memoizedState.isDehydrated) { var i = getHighestPriorityLanes(s.pendingLanes); if (0 !== i) { var o = s; for (o.pendingLanes |= 2, o.entangledLanes |= 2; i;) { var l = 1 << 31 - clz32(i); o.entanglements[1] |= l, i &= ~l } ensureRootIsScheduled(s), !(6 & executionContext) && (workInProgressRootRenderTargetTime = now$2() + 500, flushSyncWorkAcrossRoots_impl(0)) } } break; case 13: null !== (o = enqueueConcurrentRenderForLane(s, 2)) && scheduleUpdateOnFiber(o, s, 2), flushSyncWork$1(), markRetryLaneIfNotHydrated(s, 2) }if (null === (s = findInstanceBlockingEvent(a)) && dispatchEventForPluginEventSystem(e, t, a, return_targetInst, n), s === r) break; r = s } null !== r && a.stopPropagation() } else dispatchEventForPluginEventSystem(e, t, a, null, n) } } function findInstanceBlockingEvent(e) { return findInstanceBlockingTarget(e = getEventTarget(e)) } var return_targetInst = null; function findInstanceBlockingTarget(e) { if (return_targetInst = null, null !== (e = getClosestInstanceFromNode(e))) { var t = getNearestMountedFiber(e); if (null === t) e = null; else { var n = t.tag; if (13 === n) { if (null !== (e = getSuspenseInstanceFromFiber(t))) return e; e = null } else if (3 === n) { if (t.stateNode.current.memoizedState.isDehydrated) return 3 === t.tag ? t.stateNode.containerInfo : null; e = null } else t !== e && (e = null) } } return return_targetInst = e, null } function getEventPriority(e) { switch (e) { case "beforetoggle": case "cancel": case "click": case "close": case "contextmenu": case "copy": case "cut": case "auxclick": case "dblclick": case "dragend": case "dragstart": case "drop": case "focusin": case "focusout": case "input": case "invalid": case "keydown": case "keypress": case "keyup": case "mousedown": case "mouseup": case "paste": case "pause": case "play": case "pointercancel": case "pointerdown": case "pointerup": case "ratechange": case "reset": case "resize": case "seeked": case "submit": case "toggle": case "touchcancel": case "touchend": case "touchstart": case "volumechange": case "change": case "selectionchange": case "textInput": case "compositionstart": case "compositionend": case "compositionupdate": case "beforeblur": case "afterblur": case "beforeinput": case "blur": case "fullscreenchange": case "focus": case "hashchange": case "popstate": case "select": case "selectstart": return 2; case "drag": case "dragenter": case "dragexit": case "dragleave": case "dragover": case "mousemove": case "mouseout": case "mouseover": case "pointermove": case "pointerout": case "pointerover": case "scroll": case "touchmove": case "wheel": case "mouseenter": case "mouseleave": case "pointerenter": case "pointerleave": return 8; case "message": switch (getCurrentPriorityLevel()) { case ImmediatePriority: return 2; case UserBlockingPriority: return 8; case NormalPriority$1: case LowPriority: return 32; case IdlePriority: return 268435456; default: return 32 }default: return 32 } } var hasScheduledReplayAttempt = !1, queuedFocus = null, queuedDrag = null, queuedMouse = null, queuedPointers = new Map, queuedPointerCaptures = new Map, queuedExplicitHydrationTargets = [], discreteReplayableEvents = "mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" "); function clearIfContinuousEvent(e, t) { switch (e) { case "focusin": case "focusout": queuedFocus = null; break; case "dragenter": case "dragleave": queuedDrag = null; break; case "mouseover": case "mouseout": queuedMouse = null; break; case "pointerover": case "pointerout": queuedPointers.delete(t.pointerId); break; case "gotpointercapture": case "lostpointercapture": queuedPointerCaptures.delete(t.pointerId) } } function accumulateOrCreateContinuousQueuedReplayableEvent(e, t, n, a, r, s) { return null === e || e.nativeEvent !== s ? (e = { blockedOn: t, domEventName: n, eventSystemFlags: a, nativeEvent: s, targetContainers: [r] }, null !== t && null !== (t = getInstanceFromNode(t)) && attemptContinuousHydration(t), e) : (e.eventSystemFlags |= a, t = e.targetContainers, null !== r && -1 === t.indexOf(r) && t.push(r), e) } function queueIfContinuousEvent(e, t, n, a, r) { switch (t) { case "focusin": return queuedFocus = accumulateOrCreateContinuousQueuedReplayableEvent(queuedFocus, e, t, n, a, r), !0; case "dragenter": return queuedDrag = accumulateOrCreateContinuousQueuedReplayableEvent(queuedDrag, e, t, n, a, r), !0; case "mouseover": return queuedMouse = accumulateOrCreateContinuousQueuedReplayableEvent(queuedMouse, e, t, n, a, r), !0; case "pointerover": var s = r.pointerId; return queuedPointers.set(s, accumulateOrCreateContinuousQueuedReplayableEvent(queuedPointers.get(s) || null, e, t, n, a, r)), !0; case "gotpointercapture": return s = r.pointerId, queuedPointerCaptures.set(s, accumulateOrCreateContinuousQueuedReplayableEvent(queuedPointerCaptures.get(s) || null, e, t, n, a, r)), !0 }return !1 } function attemptExplicitHydrationTarget(e) { var t = getClosestInstanceFromNode(e.target); if (null !== t) { var n = getNearestMountedFiber(t); if (null !== n) if (13 === (t = n.tag)) { if (null !== (t = getSuspenseInstanceFromFiber(n))) return e.blockedOn = t, void runWithPriority(e.priority, function () { if (13 === n.tag) { var e = requestUpdateLane(); e = getBumpedLaneForHydrationByLane(e); var t = enqueueConcurrentRenderForLane(n, e); null !== t && scheduleUpdateOnFiber(t, n, e), markRetryLaneIfNotHydrated(n, e) } }) } else if (3 === t && n.stateNode.current.memoizedState.isDehydrated) return void (e.blockedOn = 3 === n.tag ? n.stateNode.containerInfo : null) } e.blockedOn = null } function attemptReplayContinuousQueuedEvent(e) { if (null !== e.blockedOn) return !1; for (var t = e.targetContainers; 0 < t.length;) { var n = findInstanceBlockingEvent(e.nativeEvent); if (null !== n) return null !== (t = getInstanceFromNode(n)) && attemptContinuousHydration(t), e.blockedOn = n, !1; var a = new (n = e.nativeEvent).constructor(n.type, n); currentReplayingEvent = a, n.target.dispatchEvent(a), currentReplayingEvent = null, t.shift() } return !0 } function attemptReplayContinuousQueuedEventInMap(e, t, n) { attemptReplayContinuousQueuedEvent(e) && n.delete(t) } function replayUnblockedEvents() { hasScheduledReplayAttempt = !1, null !== queuedFocus && attemptReplayContinuousQueuedEvent(queuedFocus) && (queuedFocus = null), null !== queuedDrag && attemptReplayContinuousQueuedEvent(queuedDrag) && (queuedDrag = null), null !== queuedMouse && attemptReplayContinuousQueuedEvent(queuedMouse) && (queuedMouse = null), queuedPointers.forEach(attemptReplayContinuousQueuedEventInMap), queuedPointerCaptures.forEach(attemptReplayContinuousQueuedEventInMap) } function scheduleCallbackIfUnblocked(e, t) { e.blockedOn === t && (e.blockedOn = null, hasScheduledReplayAttempt || (hasScheduledReplayAttempt = !0, Scheduler.unstable_scheduleCallback(Scheduler.unstable_NormalPriority, replayUnblockedEvents))) } var lastScheduledReplayQueue = null; function scheduleReplayQueueIfNeeded(e) { lastScheduledReplayQueue !== e && (lastScheduledReplayQueue = e, Scheduler.unstable_scheduleCallback(Scheduler.unstable_NormalPriority, function () { lastScheduledReplayQueue === e && (lastScheduledReplayQueue = null); for (var t = 0; t < e.length; t += 3) { var n = e[t], a = e[t + 1], r = e[t + 2]; if ("function" != typeof a) { if (null === findInstanceBlockingTarget(a || n)) continue; break } var s = getInstanceFromNode(n); null !== s && (e.splice(t, 3), t -= 3, startHostTransition(s, { pending: !0, data: r, method: n.method, action: a }, a, r)) } })) } function retryIfBlockedOn(e) { function t(t) { return scheduleCallbackIfUnblocked(t, e) } null !== queuedFocus && scheduleCallbackIfUnblocked(queuedFocus, e), null !== queuedDrag && scheduleCallbackIfUnblocked(queuedDrag, e), null !== queuedMouse && scheduleCallbackIfUnblocked(queuedMouse, e), queuedPointers.forEach(t), queuedPointerCaptures.forEach(t); for (var n = 0; n < queuedExplicitHydrationTargets.length; n++) { var a = queuedExplicitHydrationTargets[n]; a.blockedOn === e && (a.blockedOn = null) } for (; 0 < queuedExplicitHydrationTargets.length && null === (n = queuedExplicitHydrationTargets[0]).blockedOn;)attemptExplicitHydrationTarget(n), null === n.blockedOn && queuedExplicitHydrationTargets.shift(); if (null != (n = (e.ownerDocument || e).$$reactFormReplay)) for (a = 0; a < n.length; a += 3) { var r = n[a], s = n[a + 1], i = r[internalPropsKey] || null; if ("function" == typeof s) i || scheduleReplayQueueIfNeeded(n); else if (i) { var o = null; if (s && s.hasAttribute("formAction")) { if (r = s, i = s[internalPropsKey] || null) o = i.formAction; else if (null !== findInstanceBlockingTarget(r)) continue } else o = i.action; "function" == typeof o ? n[a + 1] = o : (n.splice(a, 3), a -= 3), scheduleReplayQueueIfNeeded(n) } } } function ReactDOMRoot(e) { this._internalRoot = e } function ReactDOMHydrationRoot(e) { this._internalRoot = e } ReactDOMHydrationRoot.prototype.render = ReactDOMRoot.prototype.render = function (e) { var t = this._internalRoot; if (null === t) throw Error(formatProdErrorMessage$1(409)); updateContainerImpl(t.current, requestUpdateLane(), e, t, null, null) }, ReactDOMHydrationRoot.prototype.unmount = ReactDOMRoot.prototype.unmount = function () { var e = this._internalRoot; if (null !== e) { this._internalRoot = null; var t = e.containerInfo; updateContainerImpl(e.current, 2, null, e, null, null), flushSyncWork$1(), t[internalContainerInstanceKey] = null } }, ReactDOMHydrationRoot.prototype.unstable_scheduleHydration = function (e) { if (e) { var t = resolveUpdatePriority(); e = { blockedOn: null, target: e, priority: t }; for (var n = 0; n < queuedExplicitHydrationTargets.length && 0 !== t && t < queuedExplicitHydrationTargets[n].priority; n++); queuedExplicitHydrationTargets.splice(n, 0, e), 0 === n && attemptExplicitHydrationTarget(e) } }; var isomorphicReactPackageVersion$jscomp$inline_1785 = React.version; if ("19.1.0" !== isomorphicReactPackageVersion$jscomp$inline_1785) throw Error(formatProdErrorMessage$1(527, isomorphicReactPackageVersion$jscomp$inline_1785, "19.1.0")); ReactDOMSharedInternals.findDOMNode = function (e) { var t = e._reactInternals; if (void 0 === t) { if ("function" == typeof e.render) throw Error(formatProdErrorMessage$1(188)); throw e = Object.keys(e).join(","), Error(formatProdErrorMessage$1(268, e)) } return null === (e = null !== (e = findCurrentFiberUsingSlowPath(t)) ? findCurrentHostFiberImpl(e) : null) ? null : e.stateNode }; var internals$jscomp$inline_2256 = { bundleType: 0, version: "19.1.0", rendererPackageName: "react-dom", currentDispatcherRef: ReactSharedInternals, reconcilerVersion: "19.1.0" }; if ("undefined" != typeof __REACT_DEVTOOLS_GLOBAL_HOOK__) { var hook$jscomp$inline_2257 = __REACT_DEVTOOLS_GLOBAL_HOOK__; if (!hook$jscomp$inline_2257.isDisabled && hook$jscomp$inline_2257.supportsFiber) try { rendererID = hook$jscomp$inline_2257.inject(internals$jscomp$inline_2256), injectedHook = hook$jscomp$inline_2257 } catch (err) { } } function checkDCE() { if ("undefined" != typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ && "function" == typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE) try { __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE) } catch (err) { } } reactDomClient_production.createRoot = function (e, t) { if (!isValidContainer(e)) throw Error(formatProdErrorMessage$1(299)); var n = !1, a = "", r = defaultOnUncaughtError, s = defaultOnCaughtError, i = defaultOnRecoverableError, o = null; return null != t && (!0 === t.unstable_strictMode && (n = !0), void 0 !== t.identifierPrefix && (a = t.identifierPrefix), void 0 !== t.onUncaughtError && (r = t.onUncaughtError), void 0 !== t.onCaughtError && (s = t.onCaughtError), void 0 !== t.onRecoverableError && (i = t.onRecoverableError), void 0 !== t.unstable_transitionCallbacks && (o = t.unstable_transitionCallbacks)), t = createFiberRoot(e, 1, !1, null, null, n, a, r, s, i, o, null), e[internalContainerInstanceKey] = t.current, listenToAllSupportedEvents(e), new ReactDOMRoot(t) }, reactDomClient_production.hydrateRoot = function (e, t, n) { if (!isValidContainer(e)) throw Error(formatProdErrorMessage$1(299)); var a = !1, r = "", s = defaultOnUncaughtError, i = defaultOnCaughtError, o = defaultOnRecoverableError, l = null, m = null; return null != n && (!0 === n.unstable_strictMode && (a = !0), void 0 !== n.identifierPrefix && (r = n.identifierPrefix), void 0 !== n.onUncaughtError && (s = n.onUncaughtError), void 0 !== n.onCaughtError && (i = n.onCaughtError), void 0 !== n.onRecoverableError && (o = n.onRecoverableError), void 0 !== n.unstable_transitionCallbacks && (l = n.unstable_transitionCallbacks), void 0 !== n.formState && (m = n.formState)), (t = createFiberRoot(e, 1, !0, t, null != n ? n : null, a, r, s, i, o, l, m)).context = getContextForSubtree(null), n = t.current, (r = createUpdate(a = getBumpedLaneForHydrationByLane(a = requestUpdateLane()))).callback = null, enqueueUpdate(n, r, a), n = a, t.current.lanes = n, markRootUpdated$1(t, n), ensureRootIsScheduled(t), e[internalContainerInstanceKey] = t.current, listenToAllSupportedEvents(e), new ReactDOMHydrationRoot(t) }, reactDomClient_production.version = "19.1.0", checkDCE(), client.exports = reactDomClient_production; var clientExports = client.exports, ReactDOM = getDefaultExportFromCjs(clientExports), shim = { exports: {} }, useSyncExternalStoreShim_production_min = {}, e$3 = reactExports; function h$4(e, t) { return e === t && (0 !== e || 1 / e == 1 / t) || e != e && t != t } var k$3 = "function" == typeof Object.is ? Object.is : h$4, l$3 = e$3.useState, m$3 = e$3.useEffect, n$4 = e$3.useLayoutEffect, p$4 = e$3.useDebugValue; function q$4(e, t) { var n = t(), a = l$3({ inst: { value: n, getSnapshot: t } }), r = a[0].inst, s = a[1]; return n$4(function () { r.value = n, r.getSnapshot = t, r$3(r) && s({ inst: r }) }, [e, n, t]), m$3(function () { return r$3(r) && s({ inst: r }), e(function () { r$3(r) && s({ inst: r }) }) }, [e]), p$4(n), n } function r$3(e) { var t = e.getSnapshot; e = e.value; try { var n = t(); return !k$3(e, n) } catch (f) { return !0 } } function t$4(e, t) { return t() } var u$3 = "undefined" == typeof window || void 0 === window.document || void 0 === window.document.createElement ? t$4 : q$4; useSyncExternalStoreShim_production_min.useSyncExternalStore = void 0 !== e$3.useSyncExternalStore ? e$3.useSyncExternalStore : u$3, shim.exports = useSyncExternalStoreShim_production_min; var shimExports = shim.exports, withSelector = { exports: {} }, withSelector_production_min = {}, h$3 = reactExports, n$3 = shimExports; function p$3(e, t) { return e === t && (0 !== e || 1 / e == 1 / t) || e != e && t != t } var q$3 = "function" == typeof Object.is ? Object.is : p$3, r$2 = n$3.useSyncExternalStore, t$3 = h$3.useRef, u$2 = h$3.useEffect, v$4 = h$3.useMemo, w$2 = h$3.useDebugValue; withSelector_production_min.useSyncExternalStoreWithSelector = function (e, t, n, a, r) { var s = t$3(null); if (null === s.current) { var i = { hasValue: !1, value: null }; s.current = i } else i = s.current; s = v$4(function () { function e(e) { if (!l) { if (l = !0, s = e, e = a(e), void 0 !== r && i.hasValue) { var t = i.value; if (r(t, e)) return o = t } return o = e } if (t = o, q$3(s, e)) return t; var n = a(e); return void 0 !== r && r(t, n) ? t : (s = e, o = n) } var s, o, l = !1, m = void 0 === n ? null : n; return [function () { return e(t()) }, null === m ? void 0 : function () { return e(m()) }] }, [t, n, a, r]); var o = r$2(e, s[0], s[1]); return u$2(function () { i.hasValue = !0, i.value = o }, [o]), w$2(o), o }, withSelector.exports = withSelector_production_min; var withSelectorExports = withSelector.exports; function defaultNoopBatch(e) { e() } let batch = defaultNoopBatch; const setBatch = e => batch = e, getBatch = () => batch, ContextKey = Symbol.for("react-redux-context"), gT = "undefined" != typeof globalThis ? globalThis : {}; function getContext() { var e; if (!reactExports.createContext) return {}; const t = null != (e = gT[ContextKey]) ? e : gT[ContextKey] = new Map; let n = t.get(reactExports.createContext); return n || (n = reactExports.createContext(null), t.set(reactExports.createContext, n)), n } const ReactReduxContext = getContext(); function createReduxContextHook(e = ReactReduxContext) { return function () { return reactExports.useContext(e) } } const useReduxContext = createReduxContextHook(), notInitialized = () => { throw new Error("uSES not initialized!") }; let useSyncExternalStoreWithSelector = notInitialized; const initializeUseSelector = e => { useSyncExternalStoreWithSelector = e }, refEquality = (e, t) => e === t; function createSelectorHook(e = ReactReduxContext) { const t = e === ReactReduxContext ? useReduxContext : createReduxContextHook(e); return function (e, n = {}) { const { equalityFn: a = refEquality, stabilityCheck: r, noopCheck: s } = "function" == typeof n ? { equalityFn: n } : n, { store: i, subscription: o, getServerState: l, stabilityCheck: m, noopCheck: c } = t(); reactExports.useRef(!0); const u = reactExports.useCallback({ [e.name]: t => e(t) }[e.name], [e, m, r]), A = useSyncExternalStoreWithSelector(o.addNestedSub, i.getState, l || i.getState, u, a); return reactExports.useDebugValue(A), A } } const useSelector = createSelectorHook(); var reactIs_production_min$1 = {}, b$2 = "function" == typeof Symbol && Symbol.for, c$2 = b$2 ? Symbol.for("react.element") : 60103, d$2 = b$2 ? Symbol.for("react.portal") : 60106, e$2 = b$2 ? Symbol.for("react.fragment") : 60107, f$2 = b$2 ? Symbol.for("react.strict_mode") : 60108, g$2 = b$2 ? Symbol.for("react.profiler") : 60114, h$2 = b$2 ? Symbol.for("react.provider") : 60109, k$2 = b$2 ? Symbol.for("react.context") : 60110, l$2 = b$2 ? Symbol.for("react.async_mode") : 60111, m$2 = b$2 ? Symbol.for("react.concurrent_mode") : 60111, n$2 = b$2 ? Symbol.for("react.forward_ref") : 60112, p$2 = b$2 ? Symbol.for("react.suspense") : 60113, q$2 = b$2 ? Symbol.for("react.suspense_list") : 60120, r$1 = b$2 ? Symbol.for("react.memo") : 60115, t$2 = b$2 ? Symbol.for("react.lazy") : 60116, v$3 = b$2 ? Symbol.for("react.block") : 60121, w$1 = b$2 ? Symbol.for("react.fundamental") : 60117, x$2 = b$2 ? Symbol.for("react.responder") : 60118, y$1 = b$2 ? Symbol.for("react.scope") : 60119; function z$1(e) { if ("object" == typeof e && null !== e) { var t = e.$$typeof; switch (t) { case c$2: switch (e = e.type) { case l$2: case m$2: case e$2: case g$2: case f$2: case p$2: return e; default: switch (e = e && e.$$typeof) { case k$2: case n$2: case t$2: case r$1: case h$2: return e; default: return t } }case d$2: return t } } } function A$1(e) { return z$1(e) === m$2 } reactIs_production_min$1.AsyncMode = l$2, reactIs_production_min$1.ConcurrentMode = m$2, reactIs_production_min$1.ContextConsumer = k$2, reactIs_production_min$1.ContextProvider = h$2, reactIs_production_min$1.Element = c$2, reactIs_production_min$1.ForwardRef = n$2, reactIs_production_min$1.Fragment = e$2, reactIs_production_min$1.Lazy = t$2, reactIs_production_min$1.Memo = r$1, reactIs_production_min$1.Portal = d$2, reactIs_production_min$1.Profiler = g$2, reactIs_production_min$1.StrictMode = f$2, reactIs_production_min$1.Suspense = p$2, reactIs_production_min$1.isAsyncMode = function (e) { return A$1(e) || z$1(e) === l$2 }, reactIs_production_min$1.isConcurrentMode = A$1, reactIs_production_min$1.isContextConsumer = function (e) { return z$1(e) === k$2 }, reactIs_production_min$1.isContextProvider = function (e) { return z$1(e) === h$2 }, reactIs_production_min$1.isElement = function (e) { return "object" == typeof e && null !== e && e.$$typeof === c$2 }, reactIs_production_min$1.isForwardRef = function (e) { return z$1(e) === n$2 }, reactIs_production_min$1.isFragment = function (e) { return z$1(e) === e$2 }, reactIs_production_min$1.isLazy = function (e) { return z$1(e) === t$2 }, reactIs_production_min$1.isMemo = function (e) { return z$1(e) === r$1 }, reactIs_production_min$1.isPortal = function (e) { return z$1(e) === d$2 }, reactIs_production_min$1.isProfiler = function (e) { return z$1(e) === g$2 }, reactIs_production_min$1.isStrictMode = function (e) { return z$1(e) === f$2 }, reactIs_production_min$1.isSuspense = function (e) { return z$1(e) === p$2 }, reactIs_production_min$1.isValidElementType = function (e) { return "string" == typeof e || "function" == typeof e || e === e$2 || e === m$2 || e === g$2 || e === f$2 || e === p$2 || e === q$2 || "object" == typeof e && null !== e && (e.$$typeof === t$2 || e.$$typeof === r$1 || e.$$typeof === h$2 || e.$$typeof === k$2 || e.$$typeof === n$2 || e.$$typeof === w$1 || e.$$typeof === x$2 || e.$$typeof === y$1 || e.$$typeof === v$3) }, reactIs_production_min$1.typeOf = z$1; var reactIs_production_min = {}, b$1 = Symbol.for("react.element"), c$1 = Symbol.for("react.portal"), d$1 = Symbol.for("react.fragment"), e$1 = Symbol.for("react.strict_mode"), f$1 = Symbol.for("react.profiler"), g$1 = Symbol.for("react.provider"), h$1 = Symbol.for("react.context"), k$1 = Symbol.for("react.server_context"), l$1 = Symbol.for("react.forward_ref"), m$1 = Symbol.for("react.suspense"), n$1 = Symbol.for("react.suspense_list"), p$1 = Symbol.for("react.memo"), q$1 = Symbol.for("react.lazy"), t$1 = Symbol.for("react.offscreen"), u$1; function v$2(e) { if ("object" == typeof e && null !== e) { var t = e.$$typeof; switch (t) { case b$1: switch (e = e.type) { case d$1: case f$1: case e$1: case m$1: case n$1: return e; default: switch (e = e && e.$$typeof) { case k$1: case h$1: case l$1: case q$1: case p$1: case g$1: return e; default: return t } }case c$1: return t } } } function createListenerCollection() { const e = getBatch(); let t = null, n = null; return { clear() { t = null, n = null }, notify() { e(() => { let e = t; for (; e;)e.callback(), e = e.next }) }, get() { let e = [], n = t; for (; n;)e.push(n), n = n.next; return e }, subscribe(e) { let a = !0, r = n = { callback: e, next: null, prev: n }; return r.prev ? r.prev.next = r : t = r, function () { a && null !== t && (a = !1, r.next ? r.next.prev = r.prev : n = r.prev, r.prev ? r.prev.next = r.next : t = r.next) } } } } u$1 = Symbol.for("react.module.reference"), reactIs_production_min.ContextConsumer = h$1, reactIs_production_min.ContextProvider = g$1, reactIs_production_min.Element = b$1, reactIs_production_min.ForwardRef = l$1, reactIs_production_min.Fragment = d$1, reactIs_production_min.Lazy = q$1, reactIs_production_min.Memo = p$1, reactIs_production_min.Portal = c$1, reactIs_production_min.Profiler = f$1, reactIs_production_min.StrictMode = e$1, reactIs_production_min.Suspense = m$1, reactIs_production_min.SuspenseList = n$1, reactIs_production_min.isAsyncMode = function () { return !1 }, reactIs_production_min.isConcurrentMode = function () { return !1 }, reactIs_production_min.isContextConsumer = function (e) { return v$2(e) === h$1 }, reactIs_production_min.isContextProvider = function (e) { return v$2(e) === g$1 }, reactIs_production_min.isElement = function (e) { return "object" == typeof e && null !== e && e.$$typeof === b$1 }, reactIs_production_min.isForwardRef = function (e) { return v$2(e) === l$1 }, reactIs_production_min.isFragment = function (e) { return v$2(e) === d$1 }, reactIs_production_min.isLazy = function (e) { return v$2(e) === q$1 }, reactIs_production_min.isMemo = function (e) { return v$2(e) === p$1 }, reactIs_production_min.isPortal = function (e) { return v$2(e) === c$1 }, reactIs_production_min.isProfiler = function (e) { return v$2(e) === f$1 }, reactIs_production_min.isStrictMode = function (e) { return v$2(e) === e$1 }, reactIs_production_min.isSuspense = function (e) { return v$2(e) === m$1 }, reactIs_production_min.isSuspenseList = function (e) { return v$2(e) === n$1 }, reactIs_production_min.isValidElementType = function (e) { return "string" == typeof e || "function" == typeof e || e === d$1 || e === f$1 || e === e$1 || e === m$1 || e === n$1 || e === t$1 || "object" == typeof e && null !== e && (e.$$typeof === q$1 || e.$$typeof === p$1 || e.$$typeof === g$1 || e.$$typeof === h$1 || e.$$typeof === l$1 || e.$$typeof === u$1 || void 0 !== e.getModuleId) }, reactIs_production_min.typeOf = v$2; const nullListeners = { notify() { }, get: () => [] }; function createSubscription(e, t) { let n, a = nullListeners, r = 0, s = !1; function i() { m.onStateChange && m.onStateChange() } function o() { r++, n || (n = e.subscribe(i), a = createListenerCollection()) } function l() { r--, n && 0 === r && (n(), n = void 0, a.clear(), a = nullListeners) } const m = { addNestedSub: function (e) { o(); const t = a.subscribe(e); let n = !1; return () => { n || (n = !0, t(), l()) } }, notifyNestedSubs: function () { a.notify() }, handleChangeWrapper: i, isSubscribed: function () { return s }, trySubscribe: function () { s || (s = !0, o()) }, tryUnsubscribe: function () { s && (s = !1, l()) }, getListeners: () => a }; return m } const canUseDOM = !("undefined" == typeof window || void 0 === window.document || void 0 === window.document.createElement), useIsomorphicLayoutEffect = canUseDOM ? reactExports.useLayoutEffect : reactExports.useEffect; function Provider({ store: e, context: t, children: n, serverState: a, stabilityCheck: r = "once", noopCheck: s = "once" }) { const i = reactExports.useMemo(() => { const t = createSubscription(e); return { store: e, subscription: t, getServerState: a ? () => a : void 0, stabilityCheck: r, noopCheck: s } }, [e, a, r, s]), o = reactExports.useMemo(() => e.getState(), [e]); useIsomorphicLayoutEffect(() => { const { subscription: t } = i; return t.onStateChange = t.notifyNestedSubs, t.trySubscribe(), o !== e.getState() && t.notifyNestedSubs(), () => { t.tryUnsubscribe(), t.onStateChange = void 0 } }, [i, o]); const l = t || ReactReduxContext; return reactExports.createElement(l.Provider, { value: i }, n) } function createStoreHook(e = ReactReduxContext) { const t = e === ReactReduxContext ? useReduxContext : createReduxContextHook(e); return function () { const { store: e } = t(); return e } } const useStore = createStoreHook(); function createDispatchHook(e = ReactReduxContext) { const t = e === ReactReduxContext ? useStore : createStoreHook(e); return function () { return t().dispatch } } const useDispatch = createDispatchHook(); function formatProdErrorMessage(e) { return `Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. ` } initializeUseSelector(withSelectorExports.useSyncExternalStoreWithSelector), setBatch(reactDomExports.unstable_batchedUpdates); var $$observable = (() => "function" == typeof Symbol && Symbol.observable || "@@observable")(), symbol_observable_default = $$observable, randomString = () => Math.random().toString(36).substring(7).split("").join("."), ActionTypes = { INIT: `@@redux/INIT${randomString()}`, REPLACE: `@@redux/REPLACE${randomString()}`, PROBE_UNKNOWN_ACTION: () => `@@redux/PROBE_UNKNOWN_ACTION${randomString()}` }, actionTypes_default = ActionTypes; function isPlainObject(e) { if ("object" != typeof e || null === e) return !1; let t = e; for (; null !== Object.getPrototypeOf(t);)t = Object.getPrototypeOf(t); return Object.getPrototypeOf(e) === t || null === Object.getPrototypeOf(e) } function createStore(e, t, n) { if ("function" != typeof e) throw new Error(formatProdErrorMessage(2)); if ("function" == typeof t && "function" == typeof n || "function" == typeof n && "function" == typeof arguments[3]) throw new Error(formatProdErrorMessage(0)); if ("function" == typeof t && void 0 === n && (n = t, t = void 0), void 0 !== n) { if ("function" != typeof n) throw new Error(formatProdErrorMessage(1)); return n(createStore)(e, t) } let a = e, r = t, s = new Map, i = s, o = 0, l = !1; function m() { i === s && (i = new Map, s.forEach((e, t) => { i.set(t, e) })) } function c() { if (l) throw new Error(formatProdErrorMessage(3)); return r } function u(e) { if ("function" != typeof e) throw new Error(formatProdErrorMessage(4)); if (l) throw new Error(formatProdErrorMessage(5)); let t = !0; m(); const n = o++; return i.set(n, e), function () { if (t) { if (l) throw new Error(formatProdErrorMessage(6)); t = !1, m(), i.delete(n), s = null } } } function A(e) { if (!isPlainObject(e)) throw new Error(formatProdErrorMessage(7)); if (void 0 === e.type) throw new Error(formatProdErrorMessage(8)); if ("string" != typeof e.type) throw new Error(formatProdErrorMessage(17)); if (l) throw new Error(formatProdErrorMessage(9)); try { l = !0, r = a(r, e) } finally { l = !1 } return (s = i).forEach(e => { e() }), e } return A({ type: actionTypes_default.INIT }), { dispatch: A, subscribe: u, getState: c, replaceReducer: function (e) { if ("function" != typeof e) throw new Error(formatProdErrorMessage(10)); a = e, A({ type: actionTypes_default.REPLACE }) }, [symbol_observable_default]: function () { const e = u; return { subscribe(t) { if ("object" != typeof t || null === t) throw new Error(formatProdErrorMessage(11)); function n() { const e = t; e.next && e.next(c()) } return n(), { unsubscribe: e(n) } }, [symbol_observable_default]() { return this } } } } } function legacy_createStore(e, t, n) { return createStore(e, t, n) } function assertReducerShape(e) { Object.keys(e).forEach(t => { const n = e[t]; if (void 0 === n(void 0, { type: actionTypes_default.INIT })) throw new Error(formatProdErrorMessage(12)); if (void 0 === n(void 0, { type: actionTypes_default.PROBE_UNKNOWN_ACTION() })) throw new Error(formatProdErrorMessage(13)) }) } function combineReducers(t) { const n = Object.keys(t), a = {}; for (let e = 0; e < n.length; e++) { const r = n[e]; "function" == typeof t[r] && (a[r] = t[r]) } const r = Object.keys(a); let s; try { assertReducerShape(a) } catch (e) { s = e } return function (e = {}, t) { if (s) throw s; let n = !1; const i = {}; for (let s = 0; s < r.length; s++) { const o = r[s], l = a[o], m = e[o], c = l(m, t); if (void 0 === c) throw new Error(formatProdErrorMessage(14)); i[o] = c, n = n || c !== m } return n = n || r.length !== Object.keys(e).length, n ? i : e } } function compose$1(...e) { return 0 === e.length ? e => e : 1 === e.length ? e[0] : e.reduce((e, t) => (...n) => e(t(...n))) } function applyMiddleware(...e) { return t => (n, a) => { const r = t(n, a); let s = () => { throw new Error(formatProdErrorMessage(15)) }; const i = { getState: r.getState, dispatch: (e, ...t) => s(e, ...t) }, o = e.map(e => e(i)); return s = compose$1(...o)(r.dispatch), { ...r, dispatch: s } } } function createThunkMiddleware(e) { return function (t) { var n = t.dispatch, a = t.getState; return function (t) { return function (r) { return "function" == typeof r ? r(n, a, e) : t(r) } } } } var thunk = createThunkMiddleware(); function extensionComposeStub() { for (var e = arguments.length, t = new Array(e), n = 0; n < e; n++)t[n] = arguments[n]; if (0 !== t.length) return "object" == typeof t[0] ? compose$1 : compose$1(...t) } thunk.withExtraArgument = createThunkMiddleware; const composeWithDevTools = "undefined" != typeof window && window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ ? window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ : extensionComposeStub; var images = { EQ_PREAMP_LINE: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHEAAAABCAYAAADpXEERAAAAE0lEQVQoU2Pcdfruf4ZRMKRDAAD1lwNjTqcaUQAAAABJRU5ErkJggg==", EQ_GRAPH_LINE_COLORS: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAATCAYAAABRC2cZAAAAR0lEQVQYV2O4rCT9n+F9kOJ/hvfViv8ZHkzSQCE2afxneH/HEJm49Nr0PwOYWPLIAkp0PjL4z1B41uQ/Q9QGnf8MWrPEIAQANWYwvnlToNIAAAAASUVORK5CYII=" }, colors = ["rgb(0,0,0)", "rgb(24,33,41)", "rgb(239,49,16)", "rgb(206,41,16)", "rgb(214,90,0)", "rgb(214,102,0)", "rgb(214,115,0)", "rgb(198,123,8)", "rgb(222,165,24)", "rgb(214,181,33)", "rgb(189,222,41)", "rgb(148,222,33)", "rgb(41,206,16)", "rgb(50,190,16)", "rgb(57,181,16)", "rgb(49,156,8)", "rgb(41,148,0)", "rgb(24,132,8)", "rgb(255,255,255)", "rgb(214,214,222)", "rgb(181,189,189)", "rgb(160,170,175)", "rgb(148,156,165)", "rgb(150,150,150)"], playlistStyle = { normal: "#00FF00", current: "#FFFFFF", normalbg: "#000000", selectedbg: "#0000FF", font: "Arial" }, baseSkin = { images: images, colors: colors, playlistStyle: playlistStyle }; const BANDS = [60, 170, 310, 600, 1e3, 3e3, 6e3, 12e3, 14e3, 16e3], WINDOWS = { MAIN: "main", PLAYLIST: "playlist", EQUALIZER: "equalizer", MILKDROP: "milkdrop" }, LOAD_STYLE = { BUFFER: "BUFFER", PLAY: "PLAY", NONE: "NONE" }, MEDIA_TAG_REQUEST_STATUS = { INITIALIZED: "INITIALIZED", FAILED: "FAILED", COMPLETE: "COMPLETE", NOT_REQUESTED: "NOT_REQUESTED" }, UTF8_ELLIPSIS = "", CHARACTER_WIDTH = 5, WINDOW_RESIZE_SEGMENT_WIDTH = 25, WINDOW_RESIZE_SEGMENT_HEIGHT = 29, WINDOW_WIDTH = 275, TRACK_HEIGHT = 13, LETTERS = "ABCDEFGHIJKLMNOPQRSTUVWXYZ".split(""), DEFAULT_SKIN = baseSkin, VISUALIZERS = { OSCILLOSCOPE: "OSCILLOSCOPE", BAR: "BAR", NONE: "NONE", MILKDROP: "MILKDROP" }, VISUALIZER_ORDER = [VISUALIZERS.BAR, VISUALIZERS.OSCILLOSCOPE, VISUALIZERS.NONE], TIME_MODE = { ELAPSED: "ELAPSED", REMAINING: "REMAINING" }, MEDIA_STATUS = { PLAYING: "PLAYING", STOPPED: "STOPPED", PAUSED: "PAUSED" }, PLAYER_MEDIA_STATUS = { PLAYING: "PLAYING", STOPPED: "STOPPED", PAUSED: "PAUSED", ENDED: "ENDED", CLOSED: "CLOSED" }; function imgFromUrl(e) { return new Promise((t, n) => { const a = new Image; a.onload = () => { t(a) }, a.onerror = n, a.src = e }) } const getTimeObj = e => { if (null == e) return { minutesFirstDigit: " ", minutesSecondDigit: " ", secondsFirstDigit: " ", secondsSecondDigit: " " }; const t = Math.floor(e / 60), n = e % 60, a = null == e ? [" ", " ", " ", " "] : [String(Math.floor(t / 10)), String(Math.floor(t % 10)), String(Math.floor(n / 10)), String(Math.floor(n % 10))], [r, s, i, o] = a; return { minutesFirstDigit: r, minutesSecondDigit: s, secondsFirstDigit: i, secondsSecondDigit: o } }, getTimeStr = (e, t = !0) => { if (null == e) return ""; const { minutesFirstDigit: n, minutesSecondDigit: a, secondsFirstDigit: r, secondsSecondDigit: s } = getTimeObj(e); return [t && "0" === n ? "" : n, a, ":", r, s].join("") }, parseViscolors = e => { const t = e.split("\n"), n = /^\s*(\d+)\s*,?\s*(\d+)\s*,?\s*(\d+)/, a = [...DEFAULT_SKIN.colors]; return t.map(e => n.exec(e)).filter(Boolean).map(e => e.slice(1, 4).join(",")).map((e, t) => { a[t] = `rgb(${e})` }), a }, SECTION_REGEX = /^\s*\[(.+?)\]\s*$/, PROPERTY_REGEX = /^\s*([^;][^=]*)\s*=\s*(.*)\s*$/, parseIni = e => { let t, n; return e.split(/[\r\n]+/g).reduce((e, a) => { if ((n = a.match(PROPERTY_REGEX)) && null != t) { const a = n[1].trim().toLowerCase(), r = n[2].replace(/\=.*$/g, "").trim().replace(/(^")|("$)|(^')|('$)/g, ""); e[t][a] = r } else (n = a.match(SECTION_REGEX)) && (t = n[1].trim().toLowerCase(), e[t] = {}); return e }, {}) }, clamp = (e, t, n) => Math.min(Math.max(e, t), n); function base64FromDataArray$1(e) { return window.btoa(Array.from(e).map(e => String.fromCharCode(e)).join("")) } function downloadURI(e, t) { const n = document.createElement("a"); n.download = t, n.href = e, window.document.body.appendChild(n), n.click(), window.document.body.removeChild(n) } const toPercent = (e, t, n) => (n - e) / (t - e), percentToRange = (e, t, n) => t + Math.round(e * (n - t)), percentToIndex = (e, t) => percentToRange(e, 0, t - 1), rebound = (e, t, n, a) => r => percentToRange(toPercent(e, t, r), n, a), normalizeEqBand = rebound(1, 64, 0, 100), denormalizeEqBand = rebound(0, 100, 1, 64); function merge(e, t) { const n = t, a = e; for (const r of Object.keys(n)) n[r] instanceof Object && Object.assign(n[r], merge(a[r], n[r])); return Object.assign(e || {}, t), e } function shuffle(e) { const t = [...e]; let n = t.length; for (; n;) { const e = Math.floor(Math.random() * n--), a = t[n]; t[n] = t[e], t[e] = a } return t } function sort(e, t) { return [...e].sort((e, n) => { const a = t(e), r = t(n); return a < r ? -1 : a > r ? 1 : 0 }) } function moveSelected(e, t, n) { const a = new Array(e.length); let r = 0; for (let s = 0; s < a.length; s++) { const i = s - n; if (i >= 0 && i < e.length && t(i)) a[s] = e[i]; else { for (; r < e.length && t(r);)r++; a[s] = e[r], r++ } } return a } function replaceAtIndex(e, t, n) { return [...e.slice(0, t), n, ...e.slice(t + 1)] } let counter = 0; function uniqueId$1() { return counter++ } function objectForEach(e, t) { Object.keys(e).forEach(n => t(e[n], n)) } function objectMap(e, t) { const n = {}; return Object.keys(e).forEach(a => n[a] = t(e[a], a)), n } function objectFilter(e, t) { return Object.keys(e).reduce((n, a) => (t(e[a], a) && (n[a] = e[a]), n), {}) } const calculateBoundingBox = e => { if (0 === e.length) return null; const t = e.map(e => ({ left: e.x, top: e.y, bottom: e.y + e.height, right: e.x + e.width })); return t.reduce((e, t) => ({ left: Math.min(e.left, t.left), top: Math.min(e.top, t.top), bottom: Math.max(e.bottom, t.bottom), right: Math.max(e.right, t.right) })) }; function findLastIndex(e, t) { for (let n = e.length - 1; n >= 0; n--)if (t(e[n])) return n; return -1 } function getWindowSize$1() { return { width: Math.max(document.body.scrollWidth, document.documentElement.scrollWidth, document.body.offsetWidth, document.documentElement.offsetWidth, document.body.clientWidth, document.documentElement.clientWidth), height: Math.max(document.body.scrollHeight, document.documentElement.scrollHeight, document.body.offsetHeight, document.documentElement.offsetHeight, document.body.clientHeight, document.documentElement.clientHeight) } } function getScreenSize() { return { width: window.screen.width, height: window.screen.height } } function getPos(e) { switch (e.type) { case "touchstart": case "touchmove": { const t = e.targetTouches[0] ?? e.touches[0]; if (null == t) throw new Error("Unexpected touch event with zero touch targets."); return t } case "mousedown": case "mousemove": case "pointerdown": return e; default: throw new Error(`Unexpected event type: ${e.type}`) } } function getX(e) { return getPos(e).clientX } function getY(e) { return getPos(e).clientY } function weakMapMemoize(e) { const t = new WeakMap; return n => (t.has(n) || t.set(n, e(n)), t.get(n)) } const defaultPlaylistState$1 = { trackOrder: [], currentTrack: null, lastSelectedIndex: null, selectedTracks: [] }, playlist = (e = defaultPlaylistState$1, t) => { switch (t.type) { case "CLICKED_TRACK": return { ...e, selectedTracks: [e.trackOrder[t.index]], lastSelectedIndex: t.index }; case "CTRL_CLICKED_TRACK": { const n = e.trackOrder[t.index], a = e.selectedTracks.indexOf(n), r = [...e.selectedTracks]; return -1 === a ? r.push(n) : r.splice(a, 1), { ...e, selectedTracks: r, lastSelectedIndex: t.index } } case "SHIFT_CLICKED_TRACK": if (null == e.lastSelectedIndex) return e; const n = t.index, a = Math.min(n, e.lastSelectedIndex), r = Math.max(n, e.lastSelectedIndex), s = e.trackOrder.slice(a, r + 1); return { ...e, selectedTracks: s }; case "SELECT_ALL": return { ...e, selectedTracks: [...e.trackOrder] }; case "SELECT_ZERO": return { ...e, selectedTracks: [] }; case "INVERT_SELECTION": return { ...e, selectedTracks: e.trackOrder.filter(t => !e.selectedTracks.includes(t)) }; case "REMOVE_ALL_TRACKS": return { ...e, trackOrder: [], currentTrack: null, selectedTracks: [], lastSelectedIndex: null }; case "REMOVE_TRACKS": const i = new Set(t.ids.map(Number)), { currentTrack: o } = e; return { ...e, trackOrder: e.trackOrder.filter(e => !i.has(e)), currentTrack: i.has(Number(o)) ? null : o, selectedTracks: Array.from(e.selectedTracks).filter(e => i.has(e)), lastSelectedIndex: null }; case "REVERSE_LIST": return { ...e, trackOrder: [...e.trackOrder].reverse(), lastSelectedIndex: null }; case "RANDOMIZE_LIST": return { ...e, trackOrder: shuffle(e.trackOrder) }; case "SET_TRACK_ORDER": const { trackOrder: l } = t; return { ...e, trackOrder: l }; case "ADD_TRACK_FROM_URL": const m = null == t.atIndex ? e.trackOrder.length : t.atIndex; return { ...e, trackOrder: [...e.trackOrder.slice(0, m), Number(t.id), ...e.trackOrder.slice(m)], lastSelectedIndex: null }; case "PLAY_TRACK": case "BUFFER_TRACK": return { ...e, currentTrack: t.id }; case "DRAG_SELECTED": return { ...e, trackOrder: moveSelected(e.trackOrder, t => e.selectedTracks.includes(e.trackOrder[t]), t.offset), lastSelectedIndex: null }; default: return e } }, defaultWindowsState = { focused: WINDOWS.MAIN, positionsAreRelative: !0, genWindows: { [WINDOWS.MAIN]: { title: "Main Window", size: [0, 0], open: !0, shade: !1, canResize: !1, canShade: !0, canDouble: !0, hotkey: "Alt+W", position: { x: 0, y: 0 } }, [WINDOWS.EQUALIZER]: { title: "Equalizer", size: [0, 0], open: !0, shade: !1, canResize: !1, canShade: !0, canDouble: !0, hotkey: "Alt+G", position: { x: 0, y: 0 } }, [WINDOWS.PLAYLIST]: { title: "Playlist Editor", size: [0, 0], open: !0, shade: !1, canResize: !0, canShade: !0, canDouble: !1, hotkey: "Alt+E", position: { x: 0, y: 0 } }, [WINDOWS.MILKDROP]: { title: "Milkdrop", size: [0, 0], open: !1, shade: !1, canResize: !0, canShade: !1, canDouble: !1, position: { x: 0, y: 0 } } }, browserWindowSize: { width: 0, height: 0 }, windowOrder: [WINDOWS.PLAYLIST, WINDOWS.EQUALIZER, WINDOWS.MILKDROP, WINDOWS.MAIN], milkdropEnabled: !1 }, windows = (e = defaultWindowsState, t) => { switch (t.type) { case "ENABLE_MILKDROP": return { ...e, milkdropEnabled: !0, genWindows: { ...e.genWindows, [WINDOWS.MILKDROP]: { ...e.genWindows[WINDOWS.MILKDROP], open: t.open } } }; case "SET_FOCUSED_WINDOW": let n = e.windowOrder; return null != t.window && (n = [...e.windowOrder.filter(e => e !== t.window), t.window]), { ...e, focused: t.window, windowOrder: n }; case "TOGGLE_WINDOW_SHADE_MODE": const { canShade: a } = e.genWindows[t.windowId]; if (!a) throw new Error(`Tried to shade/unshade a window that cannot be shaded: ${t.windowId}`); return { ...e, genWindows: { ...e.genWindows, [t.windowId]: { ...e.genWindows[t.windowId], shade: !e.genWindows[t.windowId].shade } } }; case "TOGGLE_WINDOW": const r = e.genWindows[t.windowId]; return { ...e, genWindows: { ...e.genWindows, [t.windowId]: { ...r, open: !r.open } } }; case "CLOSE_WINDOW": return { ...e, genWindows: { ...e.genWindows, [t.windowId]: { ...e.genWindows[t.windowId], open: !1 } } }; case "WINDOW_SIZE_CHANGED": const { canResize: s } = e.genWindows[t.windowId]; if (!s) throw new Error(`Tried to resize a window that cannot be resized: ${t.windowId}`); return { ...e, genWindows: { ...e.genWindows, [t.windowId]: { ...e.genWindows[t.windowId], size: t.size } } }; case "UPDATE_WINDOW_POSITIONS": return { ...e, positionsAreRelative: !0 !== t.absolute && e.positionsAreRelative, genWindows: objectMap(e.genWindows, (e, n) => { const a = t.positions[n]; return null == a ? e : { ...e, position: a } }) }; case "RESET_WINDOW_SIZES": return { ...e, genWindows: objectMap(e.genWindows, e => ({ ...e, size: [0, 0] })) }; case "LOAD_SERIALIZED_STATE": { const { genWindows: n, focused: a, positionsAreRelative: r } = t.serializedState.windows; return { ...e, positionsAreRelative: r, genWindows: objectMap(e.genWindows, (e, t) => { const a = n[t]; if (null == a) return e; const { hidden: r, ...s } = a; return { ...e, ...s } }), focused: a } } case "BROWSER_WINDOW_SIZE_CHANGED": return { ...e, browserWindowSize: { height: t.height, width: t.width } }; default: return e } }; function getSerializedState$3(e) { return { positionsAreRelative: e.positionsAreRelative, genWindows: objectMap(e.genWindows, e => ({ size: e.size, open: e.open, hidden: !1, shade: e.shade || !1, position: e.position })), focused: e.focused } } const defaultState$1 = { timeMode: TIME_MODE.ELAPSED, timeElapsed: 0, volume: Math.round(200 / 255 * 100), balance: 0, shuffle: !1, repeat: !1, status: PLAYER_MEDIA_STATUS.STOPPED }, media = (e = defaultState$1, t) => { switch (t.type) { case "PLAY": case "IS_PLAYING": return { ...e, status: PLAYER_MEDIA_STATUS.PLAYING }; case "PAUSE": return { ...e, status: PLAYER_MEDIA_STATUS.PAUSED }; case "STOP": case "OPEN_WINAMP": return { ...e, status: PLAYER_MEDIA_STATUS.STOPPED }; case "IS_STOPPED": return { ...e, status: PLAYER_MEDIA_STATUS.ENDED }; case "CLOSE_WINAMP": return { ...e, status: PLAYER_MEDIA_STATUS.CLOSED }; case "TOGGLE_TIME_MODE": const n = e.timeMode === TIME_MODE.REMAINING ? TIME_MODE.ELAPSED : TIME_MODE.REMAINING; return { ...e, timeMode: n }; case "UPDATE_TIME_ELAPSED": return { ...e, timeElapsed: t.elapsed }; case "SET_MEDIA": return { ...e }; case "SET_VOLUME": return { ...e, volume: t.volume }; case "SET_BALANCE": return { ...e, balance: t.balance }; case "TOGGLE_REPEAT": return { ...e, repeat: !e.repeat }; case "TOGGLE_SHUFFLE": return { ...e, shuffle: !e.shuffle }; case "LOAD_SERIALIZED_STATE": return { ...e, ...t.serializedState.media }; default: return e } }; function getSerializedState$2(e) { const { volume: t, balance: n, shuffle: a, repeat: r } = e; return { volume: t, balance: n, shuffle: a, repeat: r } } var createSelector_1, defaultMemoize_1 = defaultMemoize; function defaultEqualityCheck(e, t) { return e === t } function areArgumentsShallowlyEqual(e, t, n) { if (null === t || null === n || t.length !== n.length) return !1; for (var a = t.length, r = 0; r < a; r++)if (!e(t[r], n[r])) return !1; return !0 } function defaultMemoize(e) { var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : defaultEqualityCheck, n = null, a = null; return function () { return areArgumentsShallowlyEqual(t, n, arguments) || (a = e.apply(null, arguments)), n = arguments, a } } function getDependencies(e) { var t = Array.isArray(e[0]) ? e[0] : e; if (!t.every(function (e) { return "function" == typeof e })) { var n = t.map(function (e) { return typeof e }).join(", "); throw new Error("Selector creators expect all input-selectors to be functions, instead received the following types: [" + n + "]") } return t } function createSelectorCreator(e) { for (var t = arguments.length, n = Array(t > 1 ? t - 1 : 0), a = 1; a < t; a++)n[a - 1] = arguments[a]; return function () { for (var t = arguments.length, a = Array(t), r = 0; r < t; r++)a[r] = arguments[r]; var s = 0, i = a.pop(), o = getDependencies(a), l = e.apply(void 0, [function () { return s++, i.apply(null, arguments) }].concat(n)), m = defaultMemoize(function () { for (var e = [], t = o.length, n = 0; n < t; n++)e.push(o[n].apply(null, arguments)); return l.apply(null, e) }); return m.resultFunc = i, m.recomputations = function () { return s }, m.resetRecomputations = function () { return s = 0 }, m } } createSelector_1 = createSelectorCreator(defaultMemoize); const defaultSkinGenExColors = { itemBackground: "rgb(0,0,0)", itemForeground: "rgb(0,255,0)", windowBackground: "rgb(56,55,87)", buttonText: "rgb(57,57,66)", windowText: "rgb(255,255,255)", divider: "rgb(117,116,139)", playlistSelection: "rgb(0,0,198)", listHeaderBackground: "rgb(72,72,120)", listHeaderText: "rgb(255,255,255)", listHeaderFrameTopAndLeft: "rgb(108,108,180)", listHeaderFrameBottomAndRight: "rgb(36,36,60)", listHeaderFramePressed: "rgb(18,18,30)", listHeaderDeadArea: "rgb(36,36,60)", scrollbarOne: "rgb(36,36,60)", scrollbarTwo: "rgb(36,36,60)", pressedScrollbarOne: "rgb(121,130,150)", pressedScrollbarTwo: "rgb(78,88,110)", scrollbarDeadArea: "rgb(36,36,60)", listTextHighlighted: "rgb(0,198,255)", listTextHighlightedBackground: "rgb(0,198,255)", listTextSelected: "rgb(0,198,255)", listTextSelectedBackground: "rgb(0,198,255)" }, defaultDisplayState = { doubled: !1, marqueeStep: 0, disableMarquee: !1, loading: !0, llama: !1, closed: !1, working: !1, skinImages: DEFAULT_SKIN.images, skinColors: DEFAULT_SKIN.colors, skinCursors: null, skinPlaylistStyle: null, skinRegion: {}, visualizerStyle: 0, dummyVizData: null, playlistScrollPosition: 0, skinGenLetterWidths: null, skinGenExColors: defaultSkinGenExColors, additionalVisualizers: [], zIndex: 0 }, display = (e = defaultDisplayState, t) => { switch (t.type) { case "LOAD_DEFAULT_SKIN": { const { skinImages: t, skinColors: n, skinCursors: a, skinPlaylistStyle: r, skinRegion: s, skinGenLetterWidths: i, skinGenExColors: o } = defaultDisplayState; return { ...e, skinImages: t, skinColors: n, skinCursors: a, skinPlaylistStyle: r, skinRegion: s, skinGenLetterWidths: i, skinGenExColors: o } } case "TOGGLE_DOUBLESIZE_MODE": return { ...e, doubled: !e.doubled }; case "TOGGLE_LLAMA_MODE": return { ...e, llama: !e.llama }; case "STEP_MARQUEE": return e.disableMarquee ? e : { ...e, marqueeStep: e.marqueeStep + 1 }; case "DISABLE_MARQUEE": return { ...e, disableMarquee: !0 }; case "STOP_WORKING": return { ...e, working: !1 }; case "START_WORKING": return { ...e, working: !0 }; case "CLOSE_WINAMP": return { ...e, closed: !0 }; case "OPEN_WINAMP": return { ...e, closed: !1 }; case "LOADING": return { ...e, loading: !0 }; case "LOADED": return { ...e, loading: !1 }; case "SET_SKIN_DATA": const { data: n } = t; return { ...e, loading: !1, skinImages: n.skinImages, skinColors: n.skinColors, skinPlaylistStyle: n.skinPlaylistStyle, skinCursors: n.skinCursors, skinRegion: n.skinRegion, skinGenLetterWidths: n.skinGenLetterWidths, skinGenExColors: n.skinGenExColors || defaultSkinGenExColors }; case "TOGGLE_VISUALIZER_STYLE": return { ...e, visualizerStyle: (e.visualizerStyle + 1) % VISUALIZER_ORDER.length }; case "SET_PLAYLIST_SCROLL_POSITION": return { ...e, playlistScrollPosition: t.position }; case "SET_Z_INDEX": return { ...e, zIndex: t.zIndex }; case "SET_DUMMY_VIZ_DATA": return { ...e, dummyVizData: t.data }; case "LOAD_SERIALIZED_STATE": { const { skinCursors: n, ...a } = t.serializedState.display, r = null == n ? null : objectMap(n, e => ({ type: "cur", url: e })); return { ...e, skinCursors: r, ...a } } default: return e } }, getSerializedState$1 = e => { const { visualizerStyle: t, doubled: n, llama: a, marqueeStep: r, skinImages: s, skinCursors: i, skinRegion: o, skinGenLetterWidths: l, skinColors: m, skinPlaylistStyle: c } = e; let u = null; return null != i && (u = objectMap(i, e => "cur" === e.type ? e.url : void 0)), { visualizerStyle: t, doubled: n, llama: a, marqueeStep: r, skinImages: s, skinCursors: u, skinRegion: o, skinGenLetterWidths: l, skinColors: m, skinPlaylistStyle: c } }, getVisualizerStyle$1 = createSelector_1(e => e.visualizerStyle, e => VISUALIZER_ORDER[e]), defaultUserInput = { focus: null, bandFocused: null, scrubPosition: 0, userMessage: null }, userInput = (e = defaultUserInput, t) => { switch (t.type) { case "SET_FOCUS": return { ...e, focus: t.input, bandFocused: null }; case "SET_BAND_FOCUS": return { ...e, focus: t.input, bandFocused: t.bandFocused }; case "UNSET_FOCUS": return { ...e, focus: null, bandFocused: null }; case "SET_SCRUB_POSITION": return { ...e, scrubPosition: t.position }; case "SET_USER_MESSAGE": return { ...e, userMessage: t.message }; case "UNSET_USER_MESSAGE": return { ...e, userMessage: null }; default: return e } }, defaultState = { on: !0, auto: !1, sliders: { preamp: 50, 60: 50, 170: 50, 310: 50, 600: 50, 1e3: 50, 3e3: 50, 6e3: 50, 12e3: 50, 14e3: 50, 16e3: 50 } }, equalizer = (e = defaultState, t) => { switch (t.type) { case "SET_BAND_VALUE": const n = { ...e.sliders, [t.band]: t.value }; return { ...e, sliders: n }; case "SET_EQ_ON": return { ...e, on: !0 }; case "SET_EQ_OFF": return { ...e, on: !1 }; case "SET_EQ_AUTO": return { ...e, auto: t.value }; case "LOAD_SERIALIZED_STATE": return t.serializedState.equalizer || e; default: return e } }; function getSerializedState(e) { return e } const network = (e = { connected: !0 }, t) => { switch (t.type) { case "NETWORK_CONNECTED": return { ...e, connected: !0 }; case "NETWORK_DISCONNECTED": return { ...e, connected: !1 }; default: return e } }, defaultSettingsState = { availableSkins: [] }, settings = (e = defaultSettingsState, t) => "SET_AVAILABLE_SKINS" === t.type ? { ...e, availableSkins: t.skins } : e; var invariant = function (e, t, n, a, r, s, i, o) { if (!e) { var l; if (void 0 === t) l = new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings."); else { var m = [n, a, r, s, i, o], c = 0; (l = new Error(t.replace(/%s/g, function () { return m[c++] }))).name = "Invariant Violation" } throw l.framesToPop = 1, l } }, browser$4 = invariant, invariant$1 = getDefaultExportFromCjs(browser$4); async function genMediaTags(e, t) { invariant$1(null != e, "Attempted to get the tags of media file without passing a file"); const n = { duration: !0, skipPostHeaders: !0 }; if ("string" == typeof e) { if ("parseWebStream" in t && "function" == typeof t.parseWebStream) { const a = await fetch(e); if (!a.ok) throw new Error(`Failed to fetch URL: ${e}, status: ${a.status}`); const r = a.body; if (null == r) throw new Error("Response body is null, cannot parse metadata."); return t.parseWebStream(r, void 0, n) } if ("fetchFromUrl" in t && "function" == typeof t.fetchFromUrl) return t.fetchFromUrl(e, n); throw new Error("No suitable method available to parse URL") } return t.parseBlob(e, n) } function genMediaDuration(e) { return invariant$1("string" == typeof e, "Attempted to get the duration of media file without passing a url"), new Promise((t, n) => { const a = document.createElement("audio"); a.crossOrigin = "anonymous"; const r = () => { t(a.duration), a.removeEventListener("durationchange", r), a.removeEventListener("error", s), a.src = "" }, s = e => { a.removeEventListener("durationchange", r), a.removeEventListener("error", s), n(e) }; a.addEventListener("durationchange", r), a.addEventListener("error", s), a.src = e }) } async function genArrayBufferFromFileReference(e) { return invariant$1(null != e, "Attempt to get an ArrayBuffer without assigning a fileReference"), new Promise((t, n) => { const a = new FileReader; a.onload = () => { t(a.result) }, a.onerror = n, a.readAsArrayBuffer(e) }) } async function genStringFromFileReference(e) { return new Promise((t, n) => { const a = new FileReader; a.onload = () => { t(a.result) }, a.onerror = n, a.readAsText(e) }) } async function promptForFileReferences({ accept: e, directory: t = !1 } = { accept: null, directory: !1 }) { return new Promise(n => { const a = document.createElement("input"); e && a.setAttribute("accept", e), a.type = "file", a.multiple = !0, a.webkitdirectory = t, a.directory = t, a.mozdirectory = t, a.value = null, a.addEventListener("change", e => { const t = e.target.files; n(t) }), a.click() }) } function urlIsBlobUrl(e) { return /^blob:/.test(e) } function curUrlFromByteArray$1(e) { return `data:image/x-win-bitmap;base64,${base64FromDataArray$1(e)}` } function filenameFromUrl(e) { if (urlIsBlobUrl(e)) return null; const t = e.split("/").pop(); return null == t ? null : t.split("#")[0].split("?")[0] } const trackName = weakMapMemoize(e => { const { artist: t, title: n, defaultName: a, url: r } = e; if (t && n) return `${t} - ${n}`; if (n) return n; if (a) return a; if (r) { const e = filenameFromUrl(r); if (e) return e } return "???" }), defaultPlaylistState = {}, tracks = (e = defaultPlaylistState, t) => { switch (t.type) { case "ADD_TRACK_FROM_URL": return { ...e, [t.id]: { id: t.id, defaultName: t.defaultName || null, duration: t.duration ?? null, url: t.url, mediaTagsRequestStatus: MEDIA_TAG_REQUEST_STATUS.INITIALIZED } }; case "SET_MEDIA": { const n = { ...e[t.id], duration: t.length }; return { ...e, [t.id]: n } } case "MEDIA_TAG_REQUEST_INITIALIZED": return { ...e, [t.id]: { ...e[t.id], mediaTagsRequestStatus: MEDIA_TAG_REQUEST_STATUS.INITIALIZED } }; case "MEDIA_TAG_REQUEST_FAILED": return { ...e, [t.id]: { ...e[t.id], mediaTagsRequestStatus: MEDIA_TAG_REQUEST_STATUS.FAILED } }; case "SET_MEDIA_DURATION": return { ...e, [t.id]: { ...e[t.id], duration: t.duration } }; case "SET_MEDIA_TAGS": const n = e[t.id], { sampleRate: a, bitrate: r, numberOfChannels: s, title: i, artist: o, album: l, albumArtUrl: m } = t, { kbps: c, khz: u, channels: A } = n; return { ...e, [t.id]: { ...n, mediaTagsRequestStatus: MEDIA_TAG_REQUEST_STATUS.COMPLETE, title: i, artist: o, album: l, albumArtUrl: m, kbps: null != r ? String(Math.round(r / 1e3)) : c, khz: null != a ? String(Math.round(a / 1e3)) : u, channels: null != s ? s : A } }; default: return e } }, getTrackDisplayName$1 = (e, t = null) => { if (null == t) return null; const n = e[t]; return null == n ? null : trackName(n) }; var TransitionType; !function (e) { e[e.IMMEDIATE = 0] = "IMMEDIATE", e[e.DEFAULT = 1] = "DEFAULT", e[e.USER_PRESET = 2] = "USER_PRESET" }(TransitionType || (TransitionType = {})); const defaultMilkdropState = { display: "WINDOW", overlay: !1, presetHistory: [], presets: [], currentPresetIndex: null, butterchurn: null, transitionType: TransitionType.DEFAULT, randomize: !0, cycling: !0, message: null }, milkdrop = (e = defaultMilkdropState, t) => { switch (t.type) { case "SET_MILKDROP_DESKTOP": return { ...e, display: t.enabled ? "DESKTOP" : "WINDOW" }; case "SET_MILKDROP_FULLSCREEN": return { ...e, display: t.enabled ? "FULLSCREEN" : "WINDOW" }; case "GOT_BUTTERCHURN": return { ...e, butterchurn: t.butterchurn }; case "GOT_BUTTERCHURN_PRESETS": return { ...e, presets: e.presets.concat(t.presets) }; case "PRESET_REQUESTED": return t.addToHistory ? { ...e, presetHistory: [...e.presetHistory, t.index] } : { ...e, presetHistory: e.presetHistory.slice(0, -1) }; case "RESOLVE_PRESET_AT_INDEX": const n = e.presets[t.index]; return { ...e, presets: replaceAtIndex(e.presets, t.index, { type: "RESOLVED", name: n.name, preset: t.json }) }; case "SELECT_PRESET_AT_INDEX": return { ...e, currentPresetIndex: t.index, transitionType: t.transitionType }; case "TOGGLE_PRESET_OVERLAY": return { ...e, overlay: !e.overlay }; case "TOGGLE_RANDOMIZE_PRESETS": return { ...e, randomize: !e.randomize }; case "TOGGLE_PRESET_CYCLING": return { ...e, cycling: !e.cycling }; case "SCHEDULE_MILKDROP_MESSAGE": return { ...e, message: { text: t.message, time: Date.now() } }; default: return e } }, reducer = combineReducers({ userInput: userInput, windows: windows, display: display, settings: settings, equalizer: equalizer, playlist: playlist, media: media, network: network, tracks: tracks, milkdrop: milkdrop }), getAsDataURI = e => `data:text/html;base64,${window.btoa(e)}`, noshadeStyle = { height: "2px", borderWidth: 0, color: "gray", backgroundColor: "gray" }, Font = e => jsxRuntimeExports.jsx("font", { ...e }), Hr$1 = e => jsxRuntimeExports.jsx("hr", { ...e }), Div = e => jsxRuntimeExports.jsx("div", { ...e }), Table = e => jsxRuntimeExports.jsx("table", { ...e }), Playlist = e => jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment, { children: [jsxRuntimeExports.jsxs(Div, { align: "center", children: [jsxRuntimeExports.jsx(Div, { className: "para2", align: "center", children: jsxRuntimeExports.jsx("p", { children: "WINAMP" }) }), jsxRuntimeExports.jsx(Div, { className: "para1", align: "center", children: jsxRuntimeExports.jsx("p", { children: "playlist" }) })] }), jsxRuntimeExports.jsx(Hr$1, { align: "left", width: "90%", size: "1", color: "#FFBF00", style: noshadeStyle }), jsxRuntimeExports.jsx(Div, { align: "right", children: jsxRuntimeExports.jsx(Table, { border: "0", cellSpacing: "0", cellPadding: "0", width: "98%", children: jsxRuntimeExports.jsx("tbody", { children: jsxRuntimeExports.jsx("tr", { children: jsxRuntimeExports.jsxs("td", { children: [jsxRuntimeExports.jsx("small", { children: jsxRuntimeExports.jsxs("small", { children: [jsxRuntimeExports.jsx(Font, { face: "Arial", color: "#FFBF00", children: e.numberOfTracks }), jsxRuntimeExports.jsx(Font, { color: "#409FFF", face: "Arial", children: " track in playlist, average track length: " }), jsxRuntimeExports.jsx(Font, { face: "Arial", color: "#FFBF00", children: e.averageTrackLength })] }) }), jsxRuntimeExports.jsx("br", {}), jsxRuntimeExports.jsx("small", { children: jsxRuntimeExports.jsxs("small", { children: [jsxRuntimeExports.jsx(Font, { color: "#409FFF", face: "Arial", children: "Playlist length: " }), jsxRuntimeExports.jsx(Font, { face: "Arial", color: "#FFBF00", children: e.playlistLengthMinutes }), jsxRuntimeExports.jsx(Font, { color: "#409FFF", face: "Arial", children: " minutes " }), jsxRuntimeExports.jsx(Font, { face: "Arial", color: "#FFBF00", children: e.playlistLengthSeconds }), jsxRuntimeExports.jsx(Font, { color: "#409FFF", face: "Arial", children: " second " }), jsxRuntimeExports.jsx("br", {}), jsxRuntimeExports.jsxs(Font, { color: "#409FFF", face: "Arial", children: ["Right-click ", jsxRuntimeExports.jsx("a", { href: "./", children: "here" }), " to save this HTML file."] })] }) })] }) }) }) }) }), jsxRuntimeExports.jsxs("blockquote", { children: [jsxRuntimeExports.jsx("p", { children: jsxRuntimeExports.jsx(Font, { color: "#FFBF00", face: "Arial", children: jsxRuntimeExports.jsx("big", { children: "Playlist files:" }) }) }), jsxRuntimeExports.jsx("ul", { children: jsxRuntimeExports.jsx(Font, { face: "Arial", color: "#FFFFFF", children: jsxRuntimeExports.jsx("small", { children: e.tracks.map(e => jsxRuntimeExports.jsxs("span", { children: [e, jsxRuntimeExports.jsx("br", {})] }, e)) }) }) })] }), jsxRuntimeExports.jsx(Hr$1, { align: "left", width: "90%", size: "1", color: "#FFBF00", style: noshadeStyle })] }), createPlaylistHTML = e => { const t = document.createElement("div"), n = clientExports.createRoot(t); return reactDomExports.flushSync(() => { n.render(jsxRuntimeExports.jsx(Playlist, { ...e })) }), `\n  <html>\n      <head>\n      <link rel="stylesheet" href="null" />\n      <style type="text/css">\n        body { background: #000040; }\n        .para1 { margin-top: -42px; margin-left: 145px; margin-right: 10px; font-family: "font2, Arial"; font-size: 30px; line-height: 35px; text-align: left; color: #E1E1E1; }\n        .para2 { margin-top: 15px; margin-left: 15px; margin-right: 50px; font-family: "font1, Arial Black"; font-size: 50px; line-height: 40px; text-align: left; color: #004080; }\n      </style>\n      <title>Winamp Generated PlayList</title>\n    </head>\n     <body bgcolor="#000080" topmargin="0" leftmargin="0" text="#FFFFFF">\n    ${t.innerHTML}\n    </body\n  </html>` }, createPlaylistURL = e => getAsDataURI(createPlaylistHTML(e)), getBalanceText = e => { if (0 === e) return "Balance: Center"; const t = e > 0 ? "Right" : "Left"; return `Balance: ${Math.abs(e)}% ${t}` }, getVolumeText = e => `Volume: ${e}%`, getPositionText = (e, t) => `Seek to: ${getTimeStr(e * t / 100, !1)}/${getTimeStr(e, !1)} (${t}%)`, getDoubleSizeModeText = e => (e ? "Disable" : "Enable") + " doublesize mode", formatHz = e => e < 1e3 ? `${e}HZ` : e / 1e3 + "KHZ", ensureSign = e => e > 0 ? `+${e}` : e.toString(), roundToTenths = e => (Math.round(10 * e) / 10).toFixed(1), getEqText = (e, t) => { const n = roundToTenths((t - 50) / 50 * 12); return `EQ: ${"preamp" === e ? "Preamp" : formatHz(e)} ${ensureSign(Number(n))} DB` }; function getPositionDiff(e, t) { const n = {}, a = {}; for (const i of Object.keys(e)) n[i] = { above: [], left: [] }, a[i] = { x: 0, y: 0 }; for (const [i, o] of Object.entries(e)) { const { below: e, right: t } = o; null != t && n[t].left.push(i), null != e && n[e].above.push(i) } function r(e) { const s = n[e], i = t[e]; s.left.forEach(t => { a[t].x += i.width + a[e].x, r(t) }) } function s(e) { const r = n[e], i = t[e]; r.above.forEach(t => { a[t].y += i.height + a[e].y, s(t) }) } for (const [i, o] of Object.entries(e)) null == o.below && s(i), null == o.right && r(i); return a } function generateGraph(e) { const t = {}, n = {}; for (const r of e) { const e = r.y + r.height; t[e] ? t[e].push(r) : t[e] = [r]; const a = r.x + r.width; n[a] ? n[a].push(r) : n[a] = [r] } const a = {}; for (const r of e) { const e = {}, s = r.y, i = r.x, o = t[s], l = n[i]; if (o) for (const t of o) { const n = t.x + t.width < r.x, a = t.x > r.x + r.width; if (!n && !a) { e.below = t.key; break } } if (l) for (const t of l) { const n = t.y + t.height < r.y, a = t.y > r.y + r.height; if (!n && !a) { e.right = t.key; break } } a[r.key] = e } return a } const getSliders = e => e.equalizer.sliders; createSelector_1(getSliders, e => ({ presets: [{ name: "Entry1", preamp: denormalizeEqBand(e.preamp), hz60: denormalizeEqBand(e[60]), hz170: denormalizeEqBand(e[170]), hz310: denormalizeEqBand(e[310]), hz600: denormalizeEqBand(e[600]), hz1000: denormalizeEqBand(e[1e3]), hz3000: denormalizeEqBand(e[3e3]), hz6000: denormalizeEqBand(e[6e3]), hz12000: denormalizeEqBand(e[12e3]), hz14000: denormalizeEqBand(e[14e3]), hz16000: denormalizeEqBand(e[16e3]) }], type: "Winamp EQ library file v1.1" })); const getTracks = e => e.tracks, getTrackUrl = e => t => e.tracks[t]?.url, getTrackOrder = e => e.playlist.trackOrder, getTrackCount = createSelector_1(getTrackOrder, e => e.length), getOrderedTracks = createSelector_1(getTracks, getTrackOrder, (e, t) => t.filter(t => e[t])), getPlaylistTracks = createSelector_1(getTracks, getTrackOrder, (e, t) => t.map(t => e[t]).filter(Boolean)), getUserTracks = createSelector_1(getTracks, getTrackOrder, (e, t) => t.map(t => { const n = e[t]; return { url: n.url, metaData: { artist: n.artist || "", title: n.title || "", album: n.album, albumArtUrl: n.albumArtUrl || "" } } })), getOrderedTrackObjects = createSelector_1(getTracks, getOrderedTracks, (e, t) => t.map(t => e[t])), getSelectedTrackIds = e => e.playlist.selectedTracks, getSelectedTrackIdsSet = createSelector_1(getSelectedTrackIds, e => new Set(e)), getSelectedTrackObjects = createSelector_1(getOrderedTrackObjects, getSelectedTrackIdsSet, (e, t) => e.filter(e => t.has(e.id))), runningTimeFromTracks = e => e.reduce((e, t) => e + Number(t.duration), 0), getTotalRunningTime = createSelector_1(getOrderedTrackObjects, runningTimeFromTracks), getSelectedRunningTime = createSelector_1(getSelectedTrackObjects, runningTimeFromTracks), getRunningTimeMessage = createSelector_1(getTotalRunningTime, getSelectedRunningTime, (e, t) => `${getTimeStr(t)}/${getTimeStr(e)}`), getCurrentTrackIndex = e => { const { playlist: t } = e; return null == t.currentTrack ? -1 : t.trackOrder.indexOf(t.currentTrack) }, getCurrentTrackNumber = createSelector_1(getCurrentTrackIndex, e => e + 1), getCurrentTrackId = e => e.playlist.currentTrack, getRandomTrackId = e => { const { playlist: { trackOrder: t, currentTrack: n } } = e; if (0 === t.length) return null; let a; do { a = t[Math.floor(t.length * Math.random())] } while (a === n && t.length > 1); return a }, getNextTrackId = (e, t = 1) => { const { playlist: { trackOrder: n }, media: { repeat: a, shuffle: r } } = e; if (r) return getRandomTrackId(e); const s = getTrackCount(e); if (0 === s) return null; const i = getCurrentTrackIndex(e); let o = i + t; return a ? (o %= s, o < 0 && (o += s), n[o]) : i === s - 1 && t > 0 || 0 === i && t < 0 ? null : (o = clamp(o, 0, s - 1), n[o]) }, getGenWindows = e => e.windows.genWindows, getWindowOpen = createSelector_1(getGenWindows, e => t => e[t].open), getWindowHidden = createSelector_1(getMilkdropWindowEnabled, e => t => t === WINDOWS.MILKDROP && !e), getWindowShade = createSelector_1(getGenWindows, e => t => e[t].shade), getWindowSize = createSelector_1(getGenWindows, e => t => e[t].size), getWindowPositions = createSelector_1(getGenWindows, e => objectMap(e, e => e.position)), BASE_WINDOW_HEIGHT = 58, getNumberOfVisibleTracks = createSelector_1(getWindowSize, e => { const t = e("playlist"); return Math.floor((BASE_WINDOW_HEIGHT + WINDOW_RESIZE_SEGMENT_HEIGHT * t[1]) / TRACK_HEIGHT) }), getOverflowTrackCount = createSelector_1(getTrackCount, getNumberOfVisibleTracks, (e, t) => Math.max(0, e - t)), _getPlaylistScrollPosition = e => e.display.playlistScrollPosition, getPlaylistScrollPosition = createSelector_1(getOverflowTrackCount, _getPlaylistScrollPosition, (e, t) => 0 === e ? 0 : Math.round(Math.round(e * t / 100) / e * 100)), getScrollOffset = createSelector_1(_getPlaylistScrollPosition, getTrackCount, getNumberOfVisibleTracks, (e, t, n) => { const a = Math.max(0, t - n); return percentToIndex(e / 100, a + 1) }), getVisibleTrackIds = createSelector_1(getScrollOffset, getTrackOrder, getNumberOfVisibleTracks, (e, t, n) => t.slice(e, e + n)); function getAllTracksAreVisible(e) { return getVisibleTrackIds(e).length === e.playlist.trackOrder.length } const getTrackIsVisibleFunction = createSelector_1(getVisibleTrackIds, e => t => e.includes(t)); createSelector_1(getVisibleTrackIds, getTracks, (e, t) => e.map(e => t[e])); const getDuration = e => { const { playlist: t, tracks: n } = e; if (null == t.currentTrack) return null; const a = n[t.currentTrack]; return a && a.duration }, getTrackDisplayName = createSelector_1(getTracks, e => defaultMemoize_1(t => getTrackDisplayName$1(e, t))), getCurrentTrackDisplayName = createSelector_1(getCurrentTrackId, getTrackDisplayName, (e, t) => t(e)), getPlayerMediaStatus = e => e.media.status, getMediaStatus = createSelector_1(getPlayerMediaStatus, e => { switch (e) { case "PLAYING": case "PAUSED": return e; case "STOPPED": case "ENDED": case "CLOSED": return "STOPPED"; default: throw new Error(`Unknown media status: ${e}`) } }), getMediaIsPlaying = e => e.media.status === MEDIA_STATUS.PLAYING, getCurrentTrack = createSelector_1(getCurrentTrackId, getTracks, (e, t) => null == e ? null : t[e]), getCurrentlyPlayingTrackIdIfLoaded = createSelector_1(getMediaIsPlaying, getCurrentTrack, (e, t) => e && t && t.mediaTagsRequestStatus !== MEDIA_TAG_REQUEST_STATUS.INITIALIZED ? t.id : null), getCurrentTrackInfo = createSelector_1(getCurrentTrack, e => null == e ? null : { url: e.url, metaData: { title: e.title || null, artist: e.artist || null, album: e.album || null, albumArtUrl: e.albumArtUrl || null } }), getMinimalMediaText = createSelector_1(getCurrentTrackNumber, getCurrentTrackDisplayName, (e, t) => null == t ? null : `${e}. ${t}`), getMediaText = createSelector_1(getMinimalMediaText, getDuration, (e, t) => null == e ? null : `${e} (${getTimeStr(t)})`), getNumberOfTracks = e => getTrackOrder(e).length, getPlaylistDuration = createSelector_1(getTracks, e => Object.values(e).reduce((e, t) => e + (t.duration || 0), 0)), getPlaylistURL = createSelector_1(getNumberOfTracks, getPlaylistDuration, getTrackOrder, getTracks, getTrackDisplayName, (e, t, n, a, r) => createPlaylistURL({ numberOfTracks: e, averageTrackLength: getTimeStr(t / e), playlistLengthMinutes: Math.floor(t / 60), playlistLengthSeconds: Math.floor(t % 60), tracks: n.map((e, t) => `${t + 1}. ${r(e)} (${getTimeStr(a[e].duration)})`) })), WINDOW_HEIGHT = 116, SHADE_WINDOW_HEIGHT = 14; function getWPixelSize(e, t) { const [n, a] = e.size, r = t && e.canDouble ? 2 : 1, s = WINDOW_HEIGHT + a * WINDOW_RESIZE_SEGMENT_HEIGHT, i = WINDOW_WIDTH + n * WINDOW_RESIZE_SEGMENT_WIDTH; return { height: (e.shade ? SHADE_WINDOW_HEIGHT : s) * r, width: i * r } } function getFocusedWindow(e) { return e.windows.focused } function getPositionsAreRelative(e) { return e.windows.positionsAreRelative } function getDoubled(e) { return e.display.doubled } function getLlamaMode(e) { return e.display.llama } function getZIndex(e) { return e.display.zIndex } const getWindowSizes = createSelector_1(getGenWindows, getDoubled, (e, t) => objectMap(e, e => getWPixelSize(e, t))), getWindowPixelSize = createSelector_1(getWindowSizes, e => t => e[t]), getWindowOrder = e => e.windows.windowOrder, getNormalizedWindowOrder = createSelector_1(getWindowOrder, getGenWindows, (e, t) => [WINDOWS.MAIN, ...e.filter(e => e !== WINDOWS.MAIN && null != t[e])]), getWindowsInfo = createSelector_1(getWindowSizes, getWindowPositions, getNormalizedWindowOrder, (e, t, n) => n.map(n => ({ key: n, ...e[n], ...t[n] }))), getWindowGraph = createSelector_1(getWindowsInfo, generateGraph), defaultPlaylistStyle = { normal: "#00FF00", current: "#FFFFFF", normalbg: "#000000", selectedbg: "#0000C6", font: "Arial" }; function getSkinColors(e) { return e.display.skinColors } const getSkinPlaylistStyle = e => e.display.skinPlaylistStyle || defaultPlaylistStyle, getVisualizerStyle = e => { const t = e.windows.genWindows[WINDOWS.MILKDROP]; return null != t && t.open ? VISUALIZERS.MILKDROP : getVisualizerStyle$1(e.display) }, getVolume = e => e.media.volume, getBalance = e => e.media.balance, getShuffle = e => e.media.shuffle, getRepeat = e => e.media.repeat, getChannels = createSelector_1(getCurrentTrack, e => null != e && e.channels || null), getTimeElapsed = e => e.media.timeElapsed; function getSerlializedState(e) { return { version: 1, media: getSerializedState$2(e.media), equalizer: getSerializedState(e.equalizer), display: getSerializedState$1(e.display), windows: getSerializedState$3(e.windows) } } function getEqualizerEnabled(e) { return e.equalizer.on } function getBrowserWindowSize(e) { return e.windows.browserWindowSize } const getOpenWindows = createSelector_1(getGenWindows, e => objectFilter(e, e => e.open)), getStackedLayoutPositions = createSelector_1(getOpenWindows, getDoubled, (e, t) => { let n = 0; return objectMap(e, e => { const a = { x: 0, y: n }; return n += getWPixelSize(e, t).height, a }) }), getUserInputFocus = e => e.userInput.focus, getUserInputScrubPosition = e => e.userInput.scrubPosition, getMarqueeText = e => { const t = "Winamp 2.91"; if (null != e.userInput.userMessage) return e.userInput.userMessage; switch (getUserInputFocus(e)) { case "balance": return getBalanceText(e.media.balance); case "volume": return getVolumeText(e.media.volume); case "position": const n = getDuration(e); return null == n ? t : getPositionText(n, getUserInputScrubPosition(e)); case "double": return getDoubleSizeModeText(e.display.doubled); case "eq": const a = e.userInput.bandFocused; return null == a ? t : getEqText(a, e.equalizer.sliders[a]) }if (null != e.playlist.currentTrack) { const n = getMediaText(e); return null == n ? t : n } return t }, getKbps = createSelector_1(getCurrentTrack, e => null != e && e.kbps || null), getKhz = createSelector_1(getCurrentTrack, e => null != e && e.khz || null); function getMilkdropEnabled(e) { return e.windows.milkdropEnabled } function getMilkdropWindowEnabled(e) { return "WINDOW" === e.milkdrop.display } function getMilkdropDesktopEnabled(e) { return "DESKTOP" === e.milkdrop.display } function getMilkdropFullscreenEnabled(e) { return "FULLSCREEN" === e.milkdrop.display } function getCurrentPresetIndex(e) { return e.milkdrop.currentPresetIndex } function getPresetNames(e) { return e.milkdrop.presets.map(e => e.name) } function getPresetOverlayOpen(e) { return e.milkdrop.overlay } function getPresetsAreCycling(e) { return e.milkdrop.cycling } function getRandomizePresets(e) { return e.milkdrop.randomize } function getClosed(e) { return e.display.closed } function getSkinImages(e) { return e.display.skinImages } function getSkinCursors(e) { return e.display.skinCursors } function getSkinRegion(e) { return e.display.skinRegion } function getSkinLetterWidths(e) { return e.display.skinGenLetterWidths } function getPreampLineUrl(e) { return e.display.skinImages.EQ_PREAMP_LINE } function getLineColorsUrl(e) { return e.display.skinImages.EQ_GRAPH_LINE_COLORS } const getPreampLineImage = createSelector_1(getPreampLineUrl, async e => null == e ? null : imgFromUrl(e)), getLineColorsImage = createSelector_1(getLineColorsUrl, async e => null == e ? null : imgFromUrl(e)); function getMarqueeStep(e) { return e.display.marqueeStep } function getNetworkConnected(e) { return e.network.connected } function getTimeMode(e) { return e.media.timeMode } function getLoading(e) { return e.display.loading } function getWorking(e) { return e.display.working } function getAvaliableSkins(e) { return e.settings.availableSkins } const SNAP_DISTANCE = 15, top = e => e.y, bottom = e => e.y + e.height, left = e => e.x, right = e => e.x + e.width, near = (e, t) => Math.abs(e - t) < SNAP_DISTANCE, overlapX = (e, t) => left(e) <= right(t) + SNAP_DISTANCE && left(t) <= right(e) + SNAP_DISTANCE, overlapY = (e, t) => top(e) <= bottom(t) + SNAP_DISTANCE && top(t) <= bottom(e) + SNAP_DISTANCE, snap = (e, t) => { let n, a; return overlapY(e, t) && (near(left(e), right(t)) ? n = right(t) : near(right(e), left(t)) ? n = left(t) - e.width : near(left(e), left(t)) ? n = left(t) : near(right(e), right(t)) && (n = right(t) - e.width)), overlapX(e, t) && (near(top(e), bottom(t)) ? a = bottom(t) : near(bottom(e), top(t)) ? a = top(t) - e.height : near(top(e), top(t)) ? a = top(t) : near(bottom(e), bottom(t)) && (a = bottom(t) - e.height)), { x: n, y: a } }, snapDiff = (e, t) => { const n = snap(e, t); return { x: void 0 === n.x ? 0 : n.x - e.x, y: void 0 === n.y ? 0 : n.y - e.y } }, snapDiffManyToMany = (e, t) => { let n = 0, a = 0; for (const r of e) for (const e of t) { const t = snapDiff(r, e); if (n = n || t.x, a = a || t.y, void 0 !== n && n > 0 && void 0 !== a && a > 0) break } return { x: n, y: a } }, snapWithin = (e, t) => { let n, a; return e.x - SNAP_DISTANCE < 0 ? n = 0 : e.x + e.width + SNAP_DISTANCE > t.width && (n = t.width - e.width), e.y - SNAP_DISTANCE < 0 ? a = 0 : e.y + e.height + SNAP_DISTANCE > t.height && (a = t.height - e.height), { x: n, y: a } }, snapWithinDiff = (e, t) => { const n = snapWithin(e, t); return { x: void 0 === n.x ? 0 : n.x - e.x, y: void 0 === n.y ? 0 : n.y - e.y } }, boundingBox = e => { const t = e.slice(), n = t.pop(); if (null == n) throw new Error("boundingBox must be called with at least one node"); const a = { top: top(n), right: right(n), bottom: bottom(n), left: left(n) }; return t.forEach(e => { a.top = Math.min(a.top, top(e)), a.right = Math.max(a.right, right(e)), a.bottom = Math.max(a.bottom, bottom(e)), a.left = Math.min(a.left, left(e)) }), { x: a.left, y: a.top, width: a.right - a.left, height: a.bottom - a.top } }; function traceConnection(e) { return (t, n) => { const a = new Set, r = n => { for (const s of t) !a.has(s) && e(s, n) && (a.add(s), r(s)) }; return r(n), a } } const applyDiff = (e, t) => ({ x: e.x + t.x, y: e.y + t.y }), applyMultipleDiffs = (e, ...t) => { const n = t.reduce((e, t) => ({ x: 0 === e.x || 0 === t.x ? e.x + t.x : Math.min(e.x, t.x), y: 0 === e.y || 0 === t.y ? e.y + t.y : Math.min(e.y, t.y) })); return applyDiff(e, n) }; function withWindowGraphIntegrity(e) { return (t, n) => { const a = n(), r = getWindowGraph(a), s = getWindowSizes(a); t(e); const i = getWindowSizes(n()), o = {}; for (const e of Object.keys(i)) { const t = s[e], n = i[e]; o[e] = { height: n.height - t.height, width: n.width - t.width } } const l = getPositionDiff(r, o), m = objectMap(getWindowPositions(a), (e, t) => applyDiff(e, l[t])); t(updateWindowPositions(m)) } } function toggleDoubleSizeMode() { return withWindowGraphIntegrity({ type: "TOGGLE_DOUBLESIZE_MODE" }) } function toggleMainWindowShadeMode() { return withWindowGraphIntegrity({ type: "TOGGLE_WINDOW_SHADE_MODE", windowId: "main" }) } function togglePlaylistShadeMode() { return withWindowGraphIntegrity({ type: "TOGGLE_WINDOW_SHADE_MODE", windowId: "playlist" }) } function closeWindow(e) { return { type: "CLOSE_WINDOW", windowId: e } } function setFocusedWindow(e) { return { type: "SET_FOCUSED_WINDOW", window: e } } function setWindowSize(e, t) { return { type: "WINDOW_SIZE_CHANGED", windowId: e, size: t } } function toggleWindow(e) { return { type: "TOGGLE_WINDOW", windowId: e } } function updateWindowPositions(e, t) { return { type: "UPDATE_WINDOW_POSITIONS", positions: e, absolute: t } } function centerWindowsInContainer(e) { return (t, n) => { if (!getPositionsAreRelative(n())) return; const { left: a, top: r } = e.getBoundingClientRect(), { scrollWidth: s, scrollHeight: i } = e; t(centerWindows({ left: a, top: r, width: s, height: i })) } } function centerWindowsInView() { const e = window.innerHeight; return centerWindows({ left: 0, top: 0, width: window.innerWidth, height: e }) } function centerWindows({ left: e, top: t, width: n, height: a }) { return (r, s) => { const i = s(), o = getWindowsInfo(i), l = getWindowOpen(i), m = e + window.scrollX, c = t + window.scrollY, u = calculateBoundingBox(o.filter(e => l(e.key))); if (null == u) return; const A = u.bottom - u.top, p = u.right - u.left, d = Math.ceil(m - u.left + (n - p) / 2), _ = Math.ceil(c - u.top + (a - A) / 2), v = o.reduce((e, t) => ({ ...e, [t.key]: { x: d + t.x, y: _ + t.y } }), {}); r(updateWindowPositions(v, !0)) } } function browserWindowSizeChanged(e) { return t => { t({ type: "BROWSER_WINDOW_SIZE_CHANGED", ...e }), t(ensureWindowsAreOnScreen()) } } function resetWindowSizes() { return { type: "RESET_WINDOW_SIZES" } } function stackWindows() { return (e, t) => { e(updateWindowPositions(getStackedLayoutPositions(t()))) } } function setWindowLayout(e) { return t => { if (null != e) { for (const n of ["playlist", "milkdrop"]) { const a = e[n]; if (null != a && null != a.size) { const { extraHeight: e, extraWidth: r } = a.size; t(setWindowSize(n, [r, e])) } } for (const n of ["main", "playlist", "equalizer", "milkdrop"]) { const a = e[n]; (null == a || a.closed) && t(closeWindow(n)) } for (const n of ["main", "playlist", "equalizer"]) e[n]?.shadeMode && t({ type: "TOGGLE_WINDOW_SHADE_MODE", windowId: n }); t(updateWindowPositions(objectMap(e, e => { if (null == e) throw new Error("w is null"); return { x: e.position.left, y: e.position.top } }), !1)) } else t(stackWindows()) } } function ensureWindowsAreOnScreen() { return (e, t) => { const n = t(), a = getWindowsInfo(n), r = getWindowOpen(n), { height: s, width: i } = getWindowSize$1(), o = calculateBoundingBox(a.filter(e => r(e.key))); if (null == o) return; const l = getWindowPositions(n); if (o.left >= 0 && o.top >= 0 && o.right <= i && o.bottom <= s) return; const m = o.bottom - o.top; if (o.right - o.left <= i && m <= s) { let t = 0, n = 0; o.top <= 0 ? t = o.top : o.bottom > s && (t = o.bottom - s), o.left <= 0 ? n = o.left : o.right > i && (n = o.right - i), e(updateWindowPositions(objectMap(l, e => ({ x: e.x - n, y: e.y - t })))) } else e(resetWindowSizes()), e(stackWindows()), e(centerWindowsInView()) } } const PRESET_VALUES = ["hz60", "hz170", "hz310", "hz600", "hz1000", "hz3000", "hz6000", "hz12000", "hz14000", "hz16000", "preamp"], HEADER = "Winamp EQ library file v1.1"; function parser(e) { const t = { type: "", presets: [] }; let n = 0; const a = new Int8Array(e); if (t.type = String.fromCharCode.apply(null, Array.from(a.slice(n, HEADER.length))), t.type !== HEADER) throw new Error("Invalid .eqf file."); for (n += HEADER.length, n += 4; n < a.length;) { const e = {}, r = n, s = r + 257; for (; 0 !== a[n] && n <= s;)n++; e.name = String.fromCharCode.apply(null, Array.from(a.slice(r, n))), n = s, PRESET_VALUES.forEach(t => { e[t] = 64 - a[n++] }), t.presets.push(e) } return t } const FONT_LOOKUP = { a: [0, 0], b: [0, 1], c: [0, 2], d: [0, 3], e: [0, 4], f: [0, 5], g: [0, 6], h: [0, 7], i: [0, 8], j: [0, 9], k: [0, 10], l: [0, 11], m: [0, 12], n: [0, 13], o: [0, 14], p: [0, 15], q: [0, 16], r: [0, 17], s: [0, 18], t: [0, 19], u: [0, 20], v: [0, 21], w: [0, 22], x: [0, 23], y: [0, 24], z: [0, 25], '"': [0, 26], "@": [0, 27], " ": [0, 30], 0: [1, 0], 1: [1, 1], 2: [1, 2], 3: [1, 3], 4: [1, 4], 5: [1, 5], 6: [1, 6], 7: [1, 7], 8: [1, 8], 9: [1, 9], [UTF8_ELLIPSIS]: [1, 10], ".": [1, 11], ":": [1, 12], "(": [1, 13], ")": [1, 14], "-": [1, 15], "'": [1, 16], "!": [1, 17], _: [1, 18], "+": [1, 19], "\\": [1, 20], "/": [1, 21], "[": [1, 22], "]": [1, 23], "^": [1, 24], "&": [1, 25], "%": [1, 26], ",": [1, 27], "=": [1, 28], $: [1, 29], "#": [1, 30], "": [2, 0], "": [2, 1], "": [2, 2], "?": [2, 3], "*": [2, 4], "<": [1, 22], ">": [1, 23], "{": [1, 22], "}": [1, 23] }, imageConstFromChar = e => `CHARACTER_${e.charCodeAt(0)}`, CHAR_X = 5, CHAR_Y = 6, characterSprites = []; for (const a in FONT_LOOKUP) if (FONT_LOOKUP.hasOwnProperty(a)) { const e = FONT_LOOKUP[a]; characterSprites.push({ name: imageConstFromChar(a), y: e[0] * CHAR_Y, x: e[1] * CHAR_X, width: CHAR_X, height: CHAR_Y }) } const sprites = { BALANCE: [{ name: "MAIN_BALANCE_BACKGROUND", x: 9, y: 0, width: 38, height: 420 }, { name: "MAIN_BALANCE_THUMB", x: 15, y: 422, width: 14, height: 11 }, { name: "MAIN_BALANCE_THUMB_ACTIVE", x: 0, y: 422, width: 14, height: 11 }], CBUTTONS: [{ name: "MAIN_PREVIOUS_BUTTON", x: 0, y: 0, width: 23, height: 18 }, { name: "MAIN_PREVIOUS_BUTTON_ACTIVE", x: 0, y: 18, width: 23, height: 18 }, { name: "MAIN_PLAY_BUTTON", x: 23, y: 0, width: 23, height: 18 }, { name: "MAIN_PLAY_BUTTON_ACTIVE", x: 23, y: 18, width: 23, height: 18 }, { name: "MAIN_PAUSE_BUTTON", x: 46, y: 0, width: 23, height: 18 }, { name: "MAIN_PAUSE_BUTTON_ACTIVE", x: 46, y: 18, width: 23, height: 18 }, { name: "MAIN_STOP_BUTTON", x: 69, y: 0, width: 23, height: 18 }, { name: "MAIN_STOP_BUTTON_ACTIVE", x: 69, y: 18, width: 23, height: 18 }, { name: "MAIN_NEXT_BUTTON", x: 92, y: 0, width: 23, height: 18 }, { name: "MAIN_NEXT_BUTTON_ACTIVE", x: 92, y: 18, width: 22, height: 18 }, { name: "MAIN_EJECT_BUTTON", x: 114, y: 0, width: 22, height: 16 }, { name: "MAIN_EJECT_BUTTON_ACTIVE", x: 114, y: 16, width: 22, height: 16 }], MAIN: [{ name: "MAIN_WINDOW_BACKGROUND", x: 0, y: 0, width: 275, height: 116 }], MONOSTER: [{ name: "MAIN_STEREO", x: 0, y: 12, width: 29, height: 12 }, { name: "MAIN_STEREO_SELECTED", x: 0, y: 0, width: 29, height: 12 }, { name: "MAIN_MONO", x: 29, y: 12, width: 27, height: 12 }, { name: "MAIN_MONO_SELECTED", x: 29, y: 0, width: 27, height: 12 }], NUMBERS: [{ name: "NO_MINUS_SIGN", x: 9, y: 6, width: 5, height: 1 }, { name: "MINUS_SIGN", x: 20, y: 6, width: 5, height: 1 }, { name: "DIGIT_0", x: 0, y: 0, width: 9, height: 13 }, { name: "DIGIT_1", x: 9, y: 0, width: 9, height: 13 }, { name: "DIGIT_2", x: 18, y: 0, width: 9, height: 13 }, { name: "DIGIT_3", x: 27, y: 0, width: 9, height: 13 }, { name: "DIGIT_4", x: 36, y: 0, width: 9, height: 13 }, { name: "DIGIT_5", x: 45, y: 0, width: 9, height: 13 }, { name: "DIGIT_6", x: 54, y: 0, width: 9, height: 13 }, { name: "DIGIT_7", x: 63, y: 0, width: 9, height: 13 }, { name: "DIGIT_8", x: 72, y: 0, width: 9, height: 13 }, { name: "DIGIT_9", x: 81, y: 0, width: 9, height: 13 }], NUMS_EX: [{ name: "NO_MINUS_SIGN_EX", x: 90, y: 0, width: 9, height: 13 }, { name: "MINUS_SIGN_EX", x: 99, y: 0, width: 9, height: 13 }, { name: "DIGIT_0_EX", x: 0, y: 0, width: 9, height: 13 }, { name: "DIGIT_1_EX", x: 9, y: 0, width: 9, height: 13 }, { name: "DIGIT_2_EX", x: 18, y: 0, width: 9, height: 13 }, { name: "DIGIT_3_EX", x: 27, y: 0, width: 9, height: 13 }, { name: "DIGIT_4_EX", x: 36, y: 0, width: 9, height: 13 }, { name: "DIGIT_5_EX", x: 45, y: 0, width: 9, height: 13 }, { name: "DIGIT_6_EX", x: 54, y: 0, width: 9, height: 13 }, { name: "DIGIT_7_EX", x: 63, y: 0, width: 9, height: 13 }, { name: "DIGIT_8_EX", x: 72, y: 0, width: 9, height: 13 }, { name: "DIGIT_9_EX", x: 81, y: 0, width: 9, height: 13 }], PLAYPAUS: [{ name: "MAIN_PLAYING_INDICATOR", x: 0, y: 0, width: 9, height: 9 }, { name: "MAIN_PAUSED_INDICATOR", x: 9, y: 0, width: 9, height: 9 }, { name: "MAIN_STOPPED_INDICATOR", x: 18, y: 0, width: 9, height: 9 }, { name: "MAIN_NOT_WORKING_INDICATOR", x: 36, y: 0, width: 9, height: 9 }, { name: "MAIN_WORKING_INDICATOR", x: 39, y: 0, width: 9, height: 9 }], PLEDIT: [{ name: "PLAYLIST_TOP_TILE", x: 127, y: 21, width: 25, height: 20 }, { name: "PLAYLIST_TOP_LEFT_CORNER", x: 0, y: 21, width: 25, height: 20 }, { name: "PLAYLIST_TITLE_BAR", x: 26, y: 21, width: 100, height: 20 }, { name: "PLAYLIST_TOP_RIGHT_CORNER", x: 153, y: 21, width: 25, height: 20 }, { name: "PLAYLIST_TOP_TILE_SELECTED", x: 127, y: 0, width: 25, height: 20 }, { name: "PLAYLIST_TOP_LEFT_SELECTED", x: 0, y: 0, width: 25, height: 20 }, { name: "PLAYLIST_TITLE_BAR_SELECTED", x: 26, y: 0, width: 100, height: 20 }, { name: "PLAYLIST_TOP_RIGHT_CORNER_SELECTED", x: 153, y: 0, width: 25, height: 20 }, { name: "PLAYLIST_LEFT_TILE", x: 0, y: 42, width: 12, height: 29 }, { name: "PLAYLIST_RIGHT_TILE", x: 31, y: 42, width: 20, height: 29 }, { name: "PLAYLIST_BOTTOM_TILE", x: 179, y: 0, width: 25, height: 38 }, { name: "PLAYLIST_BOTTOM_LEFT_CORNER", x: 0, y: 72, width: 125, height: 38 }, { name: "PLAYLIST_BOTTOM_RIGHT_CORNER", x: 126, y: 72, width: 150, height: 38 }, { name: "PLAYLIST_VISUALIZER_BACKGROUND", x: 205, y: 0, width: 75, height: 38 }, { name: "PLAYLIST_SHADE_BACKGROUND", x: 72, y: 57, width: 25, height: 14 }, { name: "PLAYLIST_SHADE_BACKGROUND_LEFT", x: 72, y: 42, width: 25, height: 14 }, { name: "PLAYLIST_SHADE_BACKGROUND_RIGHT", x: 99, y: 57, width: 50, height: 14 }, { name: "PLAYLIST_SHADE_BACKGROUND_RIGHT_SELECTED", x: 99, y: 42, width: 50, height: 14 }, { name: "PLAYLIST_SCROLL_HANDLE_SELECTED", x: 61, y: 53, width: 8, height: 18 }, { name: "PLAYLIST_SCROLL_HANDLE", x: 52, y: 53, width: 8, height: 18 }, { name: "PLAYLIST_ADD_URL", x: 0, y: 111, width: 22, height: 18 }, { name: "PLAYLIST_ADD_URL_SELECTED", x: 23, y: 111, width: 22, height: 18 }, { name: "PLAYLIST_ADD_DIR", x: 0, y: 130, width: 22, height: 18 }, { name: "PLAYLIST_ADD_DIR_SELECTED", x: 23, y: 130, width: 22, height: 18 }, { name: "PLAYLIST_ADD_FILE", x: 0, y: 149, width: 22, height: 18 }, { name: "PLAYLIST_ADD_FILE_SELECTED", x: 23, y: 149, width: 22, height: 18 }, { name: "PLAYLIST_REMOVE_ALL", x: 54, y: 111, width: 22, height: 18 }, { name: "PLAYLIST_REMOVE_ALL_SELECTED", x: 77, y: 111, width: 22, height: 18 }, { name: "PLAYLIST_CROP", x: 54, y: 130, width: 22, height: 18 }, { name: "PLAYLIST_CROP_SELECTED", x: 77, y: 130, width: 22, height: 18 }, { name: "PLAYLIST_REMOVE_SELECTED", x: 54, y: 149, width: 22, height: 18 }, { name: "PLAYLIST_REMOVE_SELECTED_SELECTED", x: 77, y: 149, width: 22, height: 18 }, { name: "PLAYLIST_REMOVE_MISC", x: 54, y: 168, width: 22, height: 18 }, { name: "PLAYLIST_REMOVE_MISC_SELECTED", x: 77, y: 168, width: 22, height: 18 }, { name: "PLAYLIST_INVERT_SELECTION", x: 104, y: 111, width: 22, height: 18 }, { name: "PLAYLIST_INVERT_SELECTION_SELECTED", x: 127, y: 111, width: 22, height: 18 }, { name: "PLAYLIST_SELECT_ZERO", x: 104, y: 130, width: 22, height: 18 }, { name: "PLAYLIST_SELECT_ZERO_SELECTED", x: 127, y: 130, width: 22, height: 18 }, { name: "PLAYLIST_SELECT_ALL", x: 104, y: 149, width: 22, height: 18 }, { name: "PLAYLIST_SELECT_ALL_SELECTED", x: 127, y: 149, width: 22, height: 18 }, { name: "PLAYLIST_SORT_LIST", x: 154, y: 111, width: 22, height: 18 }, { name: "PLAYLIST_SORT_LIST_SELECTED", x: 177, y: 111, width: 22, height: 18 }, { name: "PLAYLIST_FILE_INFO", x: 154, y: 130, width: 22, height: 18 }, { name: "PLAYLIST_FILE_INFO_SELECTED", x: 177, y: 130, width: 22, height: 18 }, { name: "PLAYLIST_MISC_OPTIONS", x: 154, y: 149, width: 22, height: 18 }, { name: "PLAYLIST_MISC_OPTIONS_SELECTED", x: 177, y: 149, width: 22, height: 18 }, { name: "PLAYLIST_NEW_LIST", x: 204, y: 111, width: 22, height: 18 }, { name: "PLAYLIST_NEW_LIST_SELECTED", x: 227, y: 111, width: 22, height: 18 }, { name: "PLAYLIST_SAVE_LIST", x: 204, y: 130, width: 22, height: 18 }, { name: "PLAYLIST_SAVE_LIST_SELECTED", x: 227, y: 130, width: 22, height: 18 }, { name: "PLAYLIST_LOAD_LIST", x: 204, y: 149, width: 22, height: 18 }, { name: "PLAYLIST_LOAD_LIST_SELECTED", x: 227, y: 149, width: 22, height: 18 }, { name: "PLAYLIST_ADD_MENU_BAR", x: 48, y: 111, width: 3, height: 54 }, { name: "PLAYLIST_REMOVE_MENU_BAR", x: 100, y: 111, width: 3, height: 72 }, { name: "PLAYLIST_SELECT_MENU_BAR", x: 150, y: 111, width: 3, height: 54 }, { name: "PLAYLIST_MISC_MENU_BAR", x: 200, y: 111, width: 3, height: 54 }, { name: "PLAYLIST_LIST_BAR", x: 250, y: 111, width: 3, height: 54 }, { name: "PLAYLIST_CLOSE_SELECTED", x: 52, y: 42, width: 9, height: 9 }, { name: "PLAYLIST_COLLAPSE_SELECTED", x: 62, y: 42, width: 9, height: 9 }, { name: "PLAYLIST_EXPAND_SELECTED", x: 150, y: 42, width: 9, height: 9 }], EQ_EX: [{ name: "EQ_SHADE_BACKGROUND_SELECTED", x: 0, y: 0, width: 275, height: 14 }, { name: "EQ_SHADE_BACKGROUND", x: 0, y: 15, width: 275, height: 14 }, { name: "EQ_SHADE_VOLUME_SLIDER_LEFT", x: 1, y: 30, width: 3, height: 7 }, { name: "EQ_SHADE_VOLUME_SLIDER_CENTER", x: 4, y: 30, width: 3, height: 7 }, { name: "EQ_SHADE_VOLUME_SLIDER_RIGHT", x: 7, y: 30, width: 3, height: 7 }, { name: "EQ_SHADE_BALANCE_SLIDER_LEFT", x: 11, y: 30, width: 3, height: 7 }, { name: "EQ_SHADE_BALANCE_SLIDER_CENTER", x: 14, y: 30, width: 3, height: 7 }, { name: "EQ_SHADE_BALANCE_SLIDER_RIGHT", x: 17, y: 30, width: 3, height: 7 }, { name: "EQ_MAXIMIZE_BUTTON_ACTIVE", x: 1, y: 38, width: 9, height: 9 }, { name: "EQ_MINIMIZE_BUTTON_ACTIVE", x: 1, y: 47, width: 9, height: 9 }, { name: "EQ_SHADE_CLOSE_BUTTON", x: 11, y: 38, width: 9, height: 9 }, { name: "EQ_SHADE_CLOSE_BUTTON_ACTIVE", x: 11, y: 47, width: 9, height: 9 }], EQMAIN: [{ name: "EQ_WINDOW_BACKGROUND", x: 0, y: 0, width: 275, height: 116 }, { name: "EQ_TITLE_BAR", x: 0, y: 149, width: 275, height: 14 }, { name: "EQ_TITLE_BAR_SELECTED", x: 0, y: 134, width: 275, height: 14 }, { name: "EQ_SLIDER_BACKGROUND", x: 13, y: 164, width: 209, height: 129 }, { name: "EQ_SLIDER_THUMB", x: 0, y: 164, width: 11, height: 11 }, { name: "EQ_SLIDER_THUMB_SELECTED", x: 0, y: 176, width: 11, height: 11 }, { name: "EQ_CLOSE_BUTTON", x: 0, y: 116, width: 9, height: 9 }, { name: "EQ_CLOSE_BUTTON_ACTIVE", x: 0, y: 125, width: 9, height: 9 }, { name: "EQ_MAXIMIZE_BUTTON_ACTIVE_FALLBACK", x: 254, y: 152, width: 9, height: 9 }, { name: "EQ_ON_BUTTON", x: 10, y: 119, width: 26, height: 12 }, { name: "EQ_ON_BUTTON_DEPRESSED", x: 128, y: 119, width: 26, height: 12 }, { name: "EQ_ON_BUTTON_SELECTED", x: 69, y: 119, width: 26, height: 12 }, { name: "EQ_ON_BUTTON_SELECTED_DEPRESSED", x: 187, y: 119, width: 26, height: 12 }, { name: "EQ_AUTO_BUTTON", x: 36, y: 119, width: 32, height: 12 }, { name: "EQ_AUTO_BUTTON_DEPRESSED", x: 154, y: 119, width: 32, height: 12 }, { name: "EQ_AUTO_BUTTON_SELECTED", x: 95, y: 119, width: 32, height: 12 }, { name: "EQ_AUTO_BUTTON_SELECTED_DEPRESSED", x: 213, y: 119, width: 32, height: 12 }, { name: "EQ_GRAPH_BACKGROUND", x: 0, y: 294, width: 113, height: 19 }, { name: "EQ_GRAPH_LINE_COLORS", x: 115, y: 294, width: 1, height: 19 }, { name: "EQ_PRESETS_BUTTON", x: 224, y: 164, width: 44, height: 12 }, { name: "EQ_PRESETS_BUTTON_SELECTED", x: 224, y: 176, width: 44, height: 12 }, { name: "EQ_PREAMP_LINE", x: 0, y: 314, width: 113, height: 1 }], POSBAR: [{ name: "MAIN_POSITION_SLIDER_BACKGROUND", x: 0, y: 0, width: 248, height: 10 }, { name: "MAIN_POSITION_SLIDER_THUMB", x: 248, y: 0, width: 29, height: 10 }, { name: "MAIN_POSITION_SLIDER_THUMB_SELECTED", x: 278, y: 0, width: 29, height: 10 }], SHUFREP: [{ name: "MAIN_SHUFFLE_BUTTON", x: 28, y: 0, width: 47, height: 15 }, { name: "MAIN_SHUFFLE_BUTTON_DEPRESSED", x: 28, y: 15, width: 47, height: 15 }, { name: "MAIN_SHUFFLE_BUTTON_SELECTED", x: 28, y: 30, width: 47, height: 15 }, { name: "MAIN_SHUFFLE_BUTTON_SELECTED_DEPRESSED", x: 28, y: 45, width: 47, height: 15 }, { name: "MAIN_REPEAT_BUTTON", x: 0, y: 0, width: 28, height: 15 }, { name: "MAIN_REPEAT_BUTTON_DEPRESSED", x: 0, y: 15, width: 28, height: 15 }, { name: "MAIN_REPEAT_BUTTON_SELECTED", x: 0, y: 30, width: 28, height: 15 }, { name: "MAIN_REPEAT_BUTTON_SELECTED_DEPRESSED", x: 0, y: 45, width: 28, height: 15 }, { name: "MAIN_EQ_BUTTON", x: 0, y: 61, width: 23, height: 12 }, { name: "MAIN_EQ_BUTTON_SELECTED", x: 0, y: 73, width: 23, height: 12 }, { name: "MAIN_EQ_BUTTON_DEPRESSED", x: 46, y: 61, width: 23, height: 12 }, { name: "MAIN_EQ_BUTTON_DEPRESSED_SELECTED", x: 46, y: 73, width: 23, height: 12 }, { name: "MAIN_PLAYLIST_BUTTON", x: 23, y: 61, width: 23, height: 12 }, { name: "MAIN_PLAYLIST_BUTTON_SELECTED", x: 23, y: 73, width: 23, height: 12 }, { name: "MAIN_PLAYLIST_BUTTON_DEPRESSED", x: 69, y: 61, width: 23, height: 12 }, { name: "MAIN_PLAYLIST_BUTTON_DEPRESSED_SELECTED", x: 69, y: 73, width: 23, height: 12 }], TEXT: characterSprites, TITLEBAR: [{ name: "MAIN_TITLE_BAR", x: 27, y: 15, width: 275, height: 14 }, { name: "MAIN_TITLE_BAR_SELECTED", x: 27, y: 0, width: 275, height: 14 }, { name: "MAIN_EASTER_EGG_TITLE_BAR", x: 27, y: 72, width: 275, height: 14 }, { name: "MAIN_EASTER_EGG_TITLE_BAR_SELECTED", x: 27, y: 57, width: 275, height: 14 }, { name: "MAIN_OPTIONS_BUTTON", x: 0, y: 0, width: 9, height: 9 }, { name: "MAIN_OPTIONS_BUTTON_DEPRESSED", x: 0, y: 9, width: 9, height: 9 }, { name: "MAIN_MINIMIZE_BUTTON", x: 9, y: 0, width: 9, height: 9 }, { name: "MAIN_MINIMIZE_BUTTON_DEPRESSED", x: 9, y: 9, width: 9, height: 9 }, { name: "MAIN_SHADE_BUTTON", x: 0, y: 18, width: 9, height: 9 }, { name: "MAIN_SHADE_BUTTON_DEPRESSED", x: 9, y: 18, width: 9, height: 9 }, { name: "MAIN_CLOSE_BUTTON", x: 18, y: 0, width: 9, height: 9 }, { name: "MAIN_CLOSE_BUTTON_DEPRESSED", x: 18, y: 9, width: 9, height: 9 }, { name: "MAIN_CLUTTER_BAR_BACKGROUND", x: 304, y: 0, width: 8, height: 43 }, { name: "MAIN_CLUTTER_BAR_BACKGROUND_DISABLED", x: 312, y: 0, width: 8, height: 43 }, { name: "MAIN_CLUTTER_BAR_BUTTON_O_SELECTED", x: 304, y: 47, width: 8, height: 8 }, { name: "MAIN_CLUTTER_BAR_BUTTON_A_SELECTED", x: 312, y: 55, width: 8, height: 7 }, { name: "MAIN_CLUTTER_BAR_BUTTON_I_SELECTED", x: 320, y: 62, width: 8, height: 7 }, { name: "MAIN_CLUTTER_BAR_BUTTON_D_SELECTED", x: 328, y: 69, width: 8, height: 8 }, { name: "MAIN_CLUTTER_BAR_BUTTON_V_SELECTED", x: 336, y: 77, width: 8, height: 7 }, { name: "MAIN_SHADE_BACKGROUND", x: 27, y: 42, width: 275, height: 14 }, { name: "MAIN_SHADE_BACKGROUND_SELECTED", x: 27, y: 29, width: 275, height: 14 }, { name: "MAIN_SHADE_BUTTON_SELECTED", x: 0, y: 27, width: 9, height: 9 }, { name: "MAIN_SHADE_BUTTON_SELECTED_DEPRESSED", x: 9, y: 27, width: 9, height: 9 }, { name: "MAIN_SHADE_POSITION_BACKGROUND", x: 0, y: 36, width: 17, height: 7 }, { name: "MAIN_SHADE_POSITION_THUMB", x: 20, y: 36, width: 3, height: 7 }, { name: "MAIN_SHADE_POSITION_THUMB_LEFT", x: 17, y: 36, width: 3, height: 7 }, { name: "MAIN_SHADE_POSITION_THUMB_RIGHT", x: 23, y: 36, width: 3, height: 7 }], VOLUME: [{ name: "MAIN_VOLUME_BACKGROUND", x: 0, y: 0, width: 68, height: 420 }, { name: "MAIN_VOLUME_THUMB", x: 15, y: 422, width: 14, height: 11 }, { name: "MAIN_VOLUME_THUMB_SELECTED", x: 0, y: 422, width: 14, height: 11 }], GEN: [{ name: "GEN_TOP_LEFT_SELECTED", x: 0, y: 0, width: 25, height: 20 }, { name: "GEN_TOP_LEFT_END_SELECTED", x: 26, y: 0, width: 25, height: 20 }, { name: "GEN_TOP_CENTER_FILL_SELECTED", x: 52, y: 0, width: 25, height: 20 }, { name: "GEN_TOP_RIGHT_END_SELECTED", x: 78, y: 0, width: 25, height: 20 }, { name: "GEN_TOP_LEFT_RIGHT_FILL_SELECTED", x: 104, y: 0, width: 25, height: 20 }, { name: "GEN_TOP_RIGHT_SELECTED", x: 130, y: 0, width: 25, height: 20 }, { name: "GEN_TOP_LEFT", x: 0, y: 21, width: 25, height: 20 }, { name: "GEN_TOP_LEFT_END", x: 26, y: 21, width: 25, height: 20 }, { name: "GEN_TOP_CENTER_FILL", x: 52, y: 21, width: 25, height: 20 }, { name: "GEN_TOP_RIGHT_END", x: 78, y: 21, width: 25, height: 20 }, { name: "GEN_TOP_LEFT_RIGHT_FILL", x: 104, y: 21, width: 25, height: 20 }, { name: "GEN_TOP_RIGHT", x: 130, y: 21, width: 25, height: 20 }, { name: "GEN_BOTTOM_LEFT", x: 0, y: 42, width: 125, height: 14 }, { name: "GEN_BOTTOM_RIGHT", x: 0, y: 57, width: 125, height: 14 }, { name: "GEN_BOTTOM_FILL", x: 127, y: 72, width: 25, height: 14 }, { name: "GEN_MIDDLE_LEFT", x: 127, y: 42, width: 11, height: 29 }, { name: "GEN_MIDDLE_LEFT_BOTTOM", x: 158, y: 42, width: 11, height: 24 }, { name: "GEN_MIDDLE_RIGHT", x: 139, y: 42, width: 8, height: 29 }, { name: "GEN_MIDDLE_RIGHT_BOTTOM", x: 170, y: 42, width: 8, height: 24 }, { name: "GEN_CLOSE_SELECTED", x: 148, y: 42, width: 9, height: 9 }] }; function pointPairs(e) { const t = []; for (let n = 0; n < e.length; n += 2)t.push(`${e[n]},${e[n + 1]}`); return t } function regionParser(e) { const t = parseIni(e), n = {}; return Object.keys(t).forEach(e => { const { numpoints: a, pointlist: r } = t[e]; if (!a || !r) return; const s = a.split(/\s*,\s*/).filter(e => "" !== e), i = pointPairs(r.split(/\s*[, ]\s*/).filter(e => "" !== e)); let o = 0; const l = s.map(e => { const t = Number(e); if (t < 3) return o += t, null; const n = i.slice(o, o + t).join(" "); return n.length ? (o += t, n) : null }).filter(e => null != e); l.length && (n[e] = l) }), n } const getFileExtension = e => { const t = /\.([a-z]{3,4})$/i.exec(e); return t ? t[1].toLowerCase() : null }; function getFilenameRegex(e, t) { return new RegExp(`^(.*[/\\\\])?${e}.(${t})$`, "i") } async function getFileFromZip(t, n, a, r) { const s = t.file(getFilenameRegex(n, a)); if (!s.length) return null; const i = s[s.length - 1]; try { return { contents: await i.async(r), name: i.name } } catch (e) { return null } } function fallbackGetImgFromBlob(e) { return imgFromUrl(URL.createObjectURL(e)) } async function getImgFromBlob(t) { try { return await window.createImageBitmap(t) } catch (e) { try { return await fallbackGetImgFromBlob(t) } catch (n) { return null } } } function getSpriteUrisFromImg(e, t) { const n = document.createElement("canvas"), a = n.getContext("2d", { willReadFrequently: !0 }); if (null == a) throw new Error("Failed to get canvas context"); const r = {}; return t.forEach(t => { n.height = t.height, n.width = t.width, a.drawImage(e, -t.x, -t.y); const s = n.toDataURL(); r[t.name] = s }), r } async function getImgFromFilename(e, t) { const n = await getFileFromZip(e, t, "(png|bmp)", "blob"); if (!n) return null; const a = `image/${getFileExtension(n.name) || "*"}`; return getImgFromBlob(new Blob([n.contents], { type: a })) } async function getSpriteUrisFromFilename(e, t) { const n = await getImgFromFilename(e, t); return null == n ? {} : getSpriteUrisFromImg(n, sprites[t]) } const RIFF_MAGIC = "RIFF".split("").map(e => e.charCodeAt(0)); function arrayStartsWith(e, t) { return t.every((t, n) => e[n] === t) } async function getCursorFromFilename(e, t) { const n = await getFileFromZip(e, t, "CUR", "uint8array"); if (null == n) return null; const a = n.contents; return arrayStartsWith(a, RIFF_MAGIC) ? { type: "ani", aniData: a } : { type: "cur", url: curUrlFromByteArray$1(a) } } async function getPlaylistStyle(e) { const t = e.file(getFilenameRegex("PLEDIT", "txt"))[0]; if (null == t) return DEFAULT_SKIN.playlistStyle; const n = await t.async("text"); if (null == n) return DEFAULT_SKIN.playlistStyle; const a = n && parseIni(n).text; return a ? (["normal", "current", "normalbg", "selectedbg", "mbFG", "mbBG"].forEach(e => { let t = a[e]; t && ("#" !== t[0] && (t = `#${t}`), a[e] = t.slice(0, 7)) }), { ...DEFAULT_SKIN.playlistStyle, ...a }) : DEFAULT_SKIN.playlistStyle } async function getGenExColors(e) { const t = await getImgFromFilename(e, "GENEX"); if (null == t) return null; const n = document.createElement("canvas"), a = n.getContext("2d", { willReadFrequently: !0 }); if (null == a) return null; n.width = t.width, n.height = t.height, a.drawImage(t, 0, 0); const r = e => `rgb(${a.getImageData(e, 0, 1, 1).data.slice(0, 3).join(",")})`; return { itemBackground: r(48), itemForeground: r(50), windowBackground: r(52), buttonText: r(54), windowText: r(56), divider: r(58), playlistSelection: r(60), listHeaderBackground: r(62), listHeaderText: r(64), listHeaderFrameTopAndLeft: r(66), listHeaderFrameBottomAndRight: r(68), listHeaderFramePressed: r(70), listHeaderDeadArea: r(72), scrollbarOne: r(74), scrollbarTwo: r(76), pressedScrollbarOne: r(78), pressedScrollbarTwo: r(80), scrollbarDeadArea: r(82), listTextHighlighted: r(84), listTextHighlightedBackground: r(86), listTextSelected: r(88), listTextSelectedBackground: r(90) } } const shallowMerge = e => e.reduce((e, t) => Object.assign(e, t), {}), CURSORS = ["CLOSE", "EQCLOSE", "EQNORMAL", "EQSLID", "EQTITLE", "MAINMENU", "MMENU", "MIN", "NORMAL", "PCLOSE", "PNORMAL", "POSBAR", "PSIZE", "PTBAR", "PVSCROLL", "PWINBUT", "PWSNORM", "PWSSIZE", "SONGNAME", "TITLEBAR", "VOLBAL", "WINBUT", "WSNORMAL", "WSPOSBAR"]; async function genVizColors(e) { const t = await getFileFromZip(e, "VISCOLOR", "txt", "text"); return t ? parseViscolors(t.contents) : DEFAULT_SKIN.colors } async function genImages(e) { const t = await Promise.all(Object.keys(sprites).map(t => getSpriteUrisFromFilename(e, t))); return shallowMerge(t) } async function genCursors(e) { const t = await Promise.all(CURSORS.map(async t => ({ [t]: await getCursorFromFilename(e, t) }))); return shallowMerge(t) } async function genRegion(e) { const t = await getFileFromZip(e, "REGION", "txt", "text"); return t ? regionParser(t.contents) : {} } async function genGenTextSprites(e) { const t = await getImgFromFilename(e, "GEN"); if (null == t) return null; const n = document.createElement("canvas"), a = n.getContext("2d", { willReadFrequently: !0 }); n.width = t.width, n.height = t.height, a.drawImage(t, 0, 0); const r = (e, t) => { const r = t => a.getImageData(t, e, 1, 1).data.join(","); let s = 1; const i = r(0); return LETTERS.map(a => { let o = s; for (; r(o) !== i && o < n.width;)o++; const l = { x: s, y: e, height: 7, width: o - s, name: `${t}_${a}` }; return s = o + 1, l }) }, s = {}, i = [...r(88, "GEN_TEXT_SELECTED"), ...r(96, "GEN_TEXT")]; return i.forEach(e => { s[e.name] = e.width }), [s, getSpriteUrisFromImg(t, i)] } async function skinParser(e, t) { const n = await t.loadAsync(e), [a, r, s, i, o, l, m] = await Promise.all([genVizColors(n), getPlaylistStyle(n), genImages(n), genCursors(n), genRegion(n), genGenTextSprites(n), getGenExColors(n)]), [c, u] = l || [null, {}]; return { colors: a, playlistStyle: r, images: { ...s, ...u }, genLetterWidths: c, cursors: i, region: o, genExColors: m } } var tinyqueue = { exports: {} }; function TinyQueue(e, t) { if (!(this instanceof TinyQueue)) return new TinyQueue(e, t); if (this.data = e || [], this.length = this.data.length, this.compare = t || defaultCompare, this.length > 0) for (var n = (this.length >> 1) - 1; n >= 0; n--)this._down(n) } function defaultCompare(e, t) { return e < t ? -1 : e > t ? 1 : 0 } tinyqueue.exports = TinyQueue, tinyqueue.exports.default = TinyQueue, TinyQueue.prototype = { push: function (e) { this.data.push(e), this.length++, this._up(this.length - 1) }, pop: function () { if (0 !== this.length) { var e = this.data[0]; return this.length--, this.length > 0 && (this.data[0] = this.data[this.length], this._down(0)), this.data.pop(), e } }, peek: function () { return this.data[0] }, _up: function (e) { for (var t = this.data, n = this.compare, a = t[e]; e > 0;) { var r = e - 1 >> 1, s = t[r]; if (n(a, s) >= 0) break; t[e] = s, e = r } t[e] = a }, _down: function (e) { for (var t = this.data, n = this.compare, a = this.length >> 1, r = t[e]; e < a;) { var s = 1 + (e << 1), i = s + 1, o = t[s]; if (i < this.length && n(t[i], o) < 0 && (s = i, o = t[i]), n(o, r) >= 0) break; t[e] = o, e = s } t[e] = r } }; var tinyqueueExports = tinyqueue.exports, TinyQueue$1 = getDefaultExportFromCjs(tinyqueueExports); class LoadQueue { constructor({ threads: e }) { this._queue = new TinyQueue$1([], (e, t) => e.priority() - t.priority()), this._availableThreads = e } push(e, t) { const n = { task: e, priority: t }; return this._queue.push(n), setTimeout(() => { this._run() }, 0), () => { this._queue = this._queue.filter(e => e !== n) } } _run() { for (; this._availableThreads > 0;) { if (0 === this._queue.length) return; this._availableThreads--; const e = this._queue.pop().task(); invariant$1("function" == typeof e.then, `LoadQueue only supports loading Promises. Got ${e}`), e.then(() => { this._availableThreads++, this._run() }) } } } function cropPlaylist() { return (e, t) => { const n = t(); if (0 === getSelectedTrackObjects(n).length) return; const a = getSelectedTrackIds(n), { playlist: { trackOrder: r } } = n; e({ type: "REMOVE_TRACKS", ids: r.filter(e => !a.has(e)) }) } } function removeSelectedTracks() { return (e, t) => { e({ type: "REMOVE_TRACKS", ids: Array.from(getSelectedTrackIds(t())) }) } } function removeAllTracks() { return e => { e({ type: "STOP" }), e({ type: "REMOVE_ALL_TRACKS" }) } } function reverseList() { return { type: "REVERSE_LIST" } } function randomizeList() { return { type: "RANDOMIZE_LIST" } } function sortListByTitle() { return (e, t) => { const n = t(), a = getTracks(n), r = sort(getTrackOrder(n), e => `${a[e].title}`.toLowerCase()); return e({ type: "SET_TRACK_ORDER", trackOrder: r }) } } function setPlaylistScrollPosition(e) { return { type: "SET_PLAYLIST_SCROLL_POSITION", position: e } } function scrollNTracks(e) { return (t, n) => { const a = n(), r = getOverflowTrackCount(a), s = getScrollOffset(a); return t({ type: "SET_PLAYLIST_SCROLL_POSITION", position: 100 * (r ? clamp((s + e) / r, 0, 1) : 0) }) } } function scrollPlaylistByDelta(e) { return e.preventDefault(), (t, n) => { const a = n(); getOverflowTrackCount(a) && e.stopPropagation(); const r = a.playlist.trackOrder.length * TRACK_HEIGHT, s = e.deltaY / r * 100; t({ type: "SET_PLAYLIST_SCROLL_POSITION", position: clamp(a.display.playlistScrollPosition + s, 0, 100) }) } } function scrollUpFourTracks() { return scrollNTracks(-4) } function scrollDownFourTracks() { return scrollNTracks(4) } function dragSelected(e) { return (t, n) => { const a = n(), r = getTracks(a), s = getTrackOrder(a), i = getSelectedTrackIdsSet(a), o = s.findIndex(e => r[e] && i.has(e)); if (-1 === o) return; const l = findLastIndex(s, e => r[e] && i.has(e)); if (-1 === l) throw new Error("We found a first selected, but not a last selected."); const m = -o, c = s.length - 1 - l, u = clamp(e, m, c); 0 !== u && t({ type: "DRAG_SELECTED", offset: u }) } } function invertSelection() { return { type: "INVERT_SELECTION" } } function selectZero() { return { type: "SELECT_ZERO" } } function selectAll() { return { type: "SELECT_ALL" } } const BAND_SNAP_DISTANCE = 5, BAND_MID_POINT_VALUE = 50; function _snapBandValue(e) { return e < BAND_MID_POINT_VALUE + BAND_SNAP_DISTANCE && e > BAND_MID_POINT_VALUE - BAND_SNAP_DISTANCE ? BAND_MID_POINT_VALUE : e } function setEqBand(e, t) { return { type: "SET_BAND_VALUE", band: e, value: _snapBandValue(t) } } function setPreamp(e) { return { type: "SET_BAND_VALUE", band: "preamp", value: _snapBandValue(e) } } const DURATION_VISIBLE_PRIORITY = 5, META_DATA_VISIBLE_PRIORITY = 10, DURATION_PRIORITY = 15, META_DATA_PRIORITY = 20, loadQueue = new LoadQueue({ threads: 4 }); function addTracksFromReferences(e, t, n) { return loadMediaFiles(Array.from(e).map(e => ({ blob: e, defaultName: e.name })), t, n) } const SKIN_FILENAME_MATCHER = new RegExp("(wsz|zip)$", "i"), EQF_FILENAME_MATCHER = new RegExp("eqf$", "i"); function loadFilesFromReferences(e, t = LOAD_STYLE.PLAY, n = void 0) { return a => { if (!(e.length < 1)) { if (1 === e.length) { const t = e[0]; if (SKIN_FILENAME_MATCHER.test(t.name)) return void a(setSkinFromBlob(t)); if (EQF_FILENAME_MATCHER.test(t.name)) return void a(setEqFromFileReference(t)) } a(addTracksFromReferences(e, t, n)) } } } function setSkinFromBlob(t) { return async (n, a, { requireJSZip: r }) => { if (!r) return void alert("Webamp has not been configured to support custom skins."); let s; n({ type: "LOADING" }); try { s = await r() } catch (e) { return n({ type: "LOADED" }), void alert("Failed to load the skin parser.") } try { const e = await skinParser(t, s); n({ type: "SET_SKIN_DATA", data: { skinImages: e.images, skinColors: e.colors, skinPlaylistStyle: e.playlistStyle, skinCursors: e.cursors, skinRegion: e.region, skinGenLetterWidths: e.genLetterWidths, skinGenExColors: e.genExColors } }) } catch (e) { n({ type: "LOADED" }), alert("Failed to parse skin") } } } function setSkinFromUrl(t) { return async n => { n({ type: "LOADING" }); try { const e = await fetch(t); if (!e.ok) throw new Error(e.statusText); n(setSkinFromBlob(e.blob())) } catch (e) { n({ type: "LOADED" }), alert(`Failed to download skin from ${t}`) } } } function _openFileDialog(e, t) { return async n => { const a = await promptForFileReferences({ accept: e }); n({ type: "OPENED_FILES", expectedType: t, count: a.length, firstFileName: a[0]?.name }), n(loadFilesFromReferences(a)) } } function openMediaFileDialog() { return _openFileDialog(null, "MEDIA") } function openSkinFileDialog() { return _openFileDialog(".zip, .wsz", "SKIN") } function fetchMediaDuration(t, n) { return (a, r) => { loadQueue.push(async () => { try { const e = await genMediaDuration(t); a({ type: "SET_MEDIA_DURATION", duration: e, id: n }) } catch (e) { } }, () => getTrackIsVisibleFunction(r())(n) ? DURATION_VISIBLE_PRIORITY : DURATION_PRIORITY) } } function loadMedia(e, t = LOAD_STYLE.NONE, n = 0) { const { files: a } = e.dataTransfer; return async (r, s, { handleTrackDropEvent: i }) => { if (i) { const a = await i(e); if (null != a) return void r(loadMediaFiles(a, t, n)) } r(loadFilesFromReferences(a, t, n)) } } function loadMediaFiles(e, t = LOAD_STYLE.NONE, n = 0) { return a => { t === LOAD_STYLE.PLAY && a(removeAllTracks()), e.forEach((e, r) => { const s = 0 === r ? t : LOAD_STYLE.NONE; a(loadMediaFile(e, s, n + r)) }) } } function loadMediaFile(e, t = LOAD_STYLE.NONE, n = 0) { return a => { const r = uniqueId$1(), { defaultName: s, metaData: i, duration: o } = e; let l; if ("url" in e) l = e.url.toString(); else { if (!("blob" in e)) throw new Error("Expected track to have either a blob or a url"); l = URL.createObjectURL(e.blob) } switch (a({ type: "ADD_TRACK_FROM_URL", url: l, duration: e.duration, defaultName: s, id: r, atIndex: n }), t) { case LOAD_STYLE.BUFFER: a({ type: "BUFFER_TRACK", id: r }); break; case LOAD_STYLE.PLAY: a({ type: "PLAY_TRACK", id: r }); break; case LOAD_STYLE.NONE: default: a(null != o ? { type: "SET_MEDIA_DURATION", duration: o, id: r } : fetchMediaDuration(l, r)) }if (null != i) { const { artist: e, title: t, album: n } = i; a({ type: "SET_MEDIA_TAGS", artist: e, title: t, album: n, sampleRate: 44e3, bitrate: 192e3, numberOfChannels: 2, id: r }) } else a("blob" in e ? fetchMediaTags(e.blob, r) : queueFetchingMediaTags(r)) } } function queueFetchingMediaTags(e) { return (t, n) => { const a = getTracks(n())[e]; loadQueue.push(() => t(fetchMediaTags(a.url, e)), () => getTrackIsVisibleFunction(n())(e) ? META_DATA_VISIBLE_PRIORITY : META_DATA_PRIORITY) } } function fetchMediaTags(t, n) { return async (a, r, { requireMusicMetadata: s }) => { a({ type: "MEDIA_TAG_REQUEST_INITIALIZED", id: n }); try { const e = await genMediaTags(t, await s()), { artist: r, title: i, album: o, picture: l } = e.common, { numberOfChannels: m, bitrate: c, sampleRate: u } = e.format; let A = null; if (l && l.length >= 1) { const e = new Uint8Array(l[0].data), t = new Blob([e], { type: l[0].format }); A = URL.createObjectURL(t) } a({ type: "SET_MEDIA_TAGS", artist: r || "", title: i || "", album: o, albumArtUrl: A, numberOfChannels: m, bitrate: c, sampleRate: u, id: n }) } catch (e) { a({ type: "MEDIA_TAG_REQUEST_FAILED", id: n }) } } } function setEqFromFileReference(e) { return async t => { t(setEqFromObject(parser(await genArrayBufferFromFileReference(e)).presets[0])) } } function setEqFromObject(e) { return t => { t(setPreamp(normalizeEqBand(e.preamp))), BANDS.forEach(n => { t(setEqBand(n, normalizeEqBand(e[`hz${n}`]))) }) } } function downloadHtmlPlaylist() { return (e, t) => { downloadURI(getPlaylistURL(t()), "Winamp Playlist.html") } } let el = document.createElement("input"); el.type = "file"; const DIR_SUPPORT = void 0 !== el.webkitdirectory || void 0 !== el.mozdirectory || void 0 !== el.directory; function addFilesAtIndex(e) { return async t => { t(addTracksFromReferences(await promptForFileReferences(), LOAD_STYLE.NONE, e)) } } function addDirAtIndex(e) { return async t => { DIR_SUPPORT ? t(addTracksFromReferences(await promptForFileReferences({ directory: !0 }), LOAD_STYLE.NONE, e)) : alert("Not supported in your browser") } } function addFilesFromUrl(e = 0) { return async (t, n, { handleAddUrlEvent: a }) => { if (a) { const n = await a(); if (null != n) return void t(loadMediaFiles(n, LOAD_STYLE.NONE, e)) } else alert("Not supported in Webamp") } } function addFilesFromList() { return async (e, t, { handleLoadListEvent: n }) => { if (n) { const t = await n(); if (null != t) return e(removeAllTracks()), void e(loadMediaFiles(t, LOAD_STYLE.NONE, 0)) } else alert("Not supported in Webamp") } } function saveFilesToList() { return (e, t, { handleSaveListEvent: n }) => { n ? n(getUserTracks(t())) : alert("Not supported in Webamp") } } function droppedFiles(e, t) { return n => n({ type: "DROPPED_FILES", count: e.dataTransfer.files.length, firstFileName: e.dataTransfer.files[0]?.name, windowId: t }) } function playTrack(e) { return (t, n) => { const a = n(); t(getMediaStatus(a) === MEDIA_STATUS.STOPPED ? { type: "BUFFER_TRACK", id: e } : { type: "PLAY_TRACK", id: e }) } } function playTrackNow(e) { return { type: "PLAY_TRACK", id: e } } function play() { return (e, t) => { const n = t(); n.media.status === MEDIA_STATUS.STOPPED && null == n.playlist.currentTrack && 0 === n.playlist.trackOrder.length ? e(openMediaFileDialog()) : e({ type: "PLAY" }) } } function pause() { return (e, t) => { const { status: n } = t().media; n === MEDIA_STATUS.PLAYING ? e({ type: "PAUSE" }) : e({ type: "PLAY" }) } } function stop() { return { type: "STOP" } } function nextN(e) { return (t, n) => { const a = getNextTrackId(n(), e); t(null != a ? playTrack(a) : { type: "IS_STOPPED" }) } } function next() { return nextN(1) } function previous() { return nextN(-1) } function seekToTime(e) { return function (t, n) { const a = n(), r = getDuration(a); null != r && t({ type: "SEEK_TO_PERCENT_COMPLETE", percent: e / r * 100 }) } } function seekForward(e) { return function (t, n) { t(seekToTime(getTimeElapsed(n()) + e)) } } function seekBackward(e) { return seekForward(-e) } function setVolume(e) { return { type: "SET_VOLUME", volume: clamp(e, 0, 100) } } function adjustVolume(e) { return (t, n) => t(setVolume(n().media.volume + e)) } function scrollVolume(e) { return e.preventDefault(), (t, n) => t(setVolume(n().media.volume + e.deltaY)) } function setBalance(e) { return e = clamp(e, -100, 100), Math.abs(e) < 25 && (e = 0), { type: "SET_BALANCE", balance: e } } function toggleRepeat() { return { type: "TOGGLE_REPEAT" } } function toggleShuffle() { return { type: "TOGGLE_SHUFFLE" } } function toggleTimeMode() { return { type: "TOGGLE_TIME_MODE" } } function normalizePresetTypes(e) { const { name: t } = e; if ("butterchurnPresetObject" in e) return { type: "RESOLVED", name: t, preset: e.butterchurnPresetObject }; if ("getButterchrunPresetObject" in e) return { type: "UNRESOLVED", name: t, getPreset: e.getButterchrunPresetObject }; if ("butterchurnPresetUrl" in e) return { type: "UNRESOLVED", name: t, getPreset: async () => (await fetch(e.butterchurnPresetUrl)).json() }; throw new Error("Invalid preset object") } function initializePresets(e) { return async t => { const { getPresets: n, importButterchurn: a } = e; a().then(e => { const n = e.default ?? e; t({ type: "GOT_BUTTERCHURN", butterchurn: n }) }); const r = (await n()).map(normalizePresetTypes); t(loadPresets(r)) } } function loadPresets(e) { return (t, n) => { const a = n(), r = a.milkdrop.presets.length; t({ type: "GOT_BUTTERCHURN_PRESETS", presets: e }), 0 === r && getRandomizePresets(a) ? t(selectRandomPreset()) : t(requestPresetAtIndex(r, TransitionType.IMMEDIATE, !0)) } } function appendPresetFileList(e) { return async (t, n, { convertPreset: a }) => { t(loadPresets(Array.from(e).map(e => { const t = e.name.toLowerCase(); if (t.endsWith(".milk")) { if (null == a) throw new Error("Invalid type"); return { type: "UNRESOLVED", name: e.name.slice(0, e.name.length - 5), getPreset: () => a(e) } } return t.endsWith(".json") ? { type: "UNRESOLVED", name: e.name.slice(0, e.name.length - 5), getPreset: async () => { const t = await genStringFromFileReference(e); return JSON.parse(t) } } : null }).filter(Boolean))) } } function selectNextPreset(e = TransitionType.DEFAULT) { return (t, n) => { const a = n(); if (getRandomizePresets(a)) return t(selectRandomPreset(e)); const r = getCurrentPresetIndex(a); null != r && t(requestPresetAtIndex(r + 1, e, !0)) } } function selectPreviousPreset(e = TransitionType.DEFAULT) { return (t, n) => { const a = n(), { presetHistory: r } = a.milkdrop; r.length < 1 || t(requestPresetAtIndex(r[r.length - 2], e, !1)) } } function selectRandomPreset(e = TransitionType.DEFAULT) { return (t, n) => { const a = n(); t(requestPresetAtIndex(Math.floor(Math.random() * a.milkdrop.presets.length), e, !0)) } } function requestPresetAtIndex(e, t, n) { return async (a, r) => { const s = r().milkdrop.presets[e]; if (null != s) switch (a({ type: "PRESET_REQUESTED", index: e, addToHistory: n }), s.type) { case "RESOLVED": return void a({ type: "SELECT_PRESET_AT_INDEX", index: e, transitionType: t }); case "UNRESOLVED": const n = await s.getPreset(); return a({ type: "RESOLVE_PRESET_AT_INDEX", index: e, json: n }), void a({ type: "SELECT_PRESET_AT_INDEX", index: e, transitionType: t }) } } } function handlePresetDrop(e) { return appendPresetFileList(e.dataTransfer.files) } function toggleRandomizePresets() { return { type: "TOGGLE_RANDOMIZE_PRESETS" } } function togglePresetCycling() { return { type: "TOGGLE_PRESET_CYCLING" } } function scheduleMilkdropMessage(e) { return { type: "SCHEDULE_MILKDROP_MESSAGE", message: e } } function close() { return e => { let t = !1; e({ type: "CLOSE_REQUESTED", cancel: () => { t = !0 } }), t || (e({ type: "STOP" }), e({ type: "CLOSE_WINAMP" })) } } function open() { return { type: "OPEN_WINAMP" } } function toggleVisualizerStyle() { return { type: "TOGGLE_VISUALIZER_STYLE" } } function minimize() { return { type: "MINIMIZE_WINAMP" } } function setFocus(e) { return { type: "SET_FOCUS", input: e } } function unsetFocus() { return { type: "UNSET_FOCUS" } } function loadSerializedState(e) { return t => { t({ type: "LOAD_SERIALIZED_STATE", serializedState: e }), t(ensureWindowsAreOnScreen()) } } function loadDefaultSkin() { return { type: "LOAD_DEFAULT_SKIN" } } function toggleMilkdropDesktop() { return (e, t) => { getMilkdropDesktopEnabled(t()) ? e({ type: "SET_MILKDROP_DESKTOP", enabled: !1 }) : e({ type: "SET_MILKDROP_DESKTOP", enabled: !0 }) } } function setMilkdropFullscreen(e) { return { type: "SET_MILKDROP_FULLSCREEN", enabled: e } } function toggleMilkdropFullscreen() { return (e, t) => { e(setMilkdropFullscreen(!getMilkdropFullscreenEnabled(t()))) } } function togglePresetOverlay() { return (e, t) => { getPresetOverlayOpen(t()) && e(setFocusedWindow(WINDOWS.MILKDROP)), e({ type: "TOGGLE_PRESET_OVERLAY" }) } } function stepMarquee() { return { type: "STEP_MARQUEE" } } el = null; var mediaMiddleware = e => t => { const { media: { volume: n, balance: a }, equalizer: { sliders: r } } = t.getState(); return e.setVolume(n), e.setBalance(a), e.setPreamp(r.preamp), e.on("timeupdate", () => { t.dispatch({ type: "UPDATE_TIME_ELAPSED", elapsed: e.timeElapsed() }) }), e.on("ended", () => { t.dispatch(next()) }), e.on("playing", () => { t.dispatch({ type: "IS_PLAYING" }) }), e.on("waiting", () => { t.dispatch({ type: "START_WORKING" }) }), e.on("stopWaiting", () => { t.dispatch({ type: "STOP_WORKING" }) }), e.on("fileLoaded", () => { const n = getCurrentTrackId(t.getState()); null != n && t.dispatch({ id: n, type: "SET_MEDIA", kbps: "128", khz: "44", channels: 2, length: e.duration() }) }), n => a => { const r = n(a), s = t.getState(); switch (a.type) { case "PLAY": e.play(); break; case "PAUSE": e.pause(); break; case "STOP": e.stop(); break; case "SET_VOLUME": e.setVolume(getVolume(s)); break; case "SET_BALANCE": e.setBalance(getBalance(s)); break; case "SEEK_TO_PERCENT_COMPLETE": e.seekToPercentComplete(a.percent); break; case "PLAY_TRACK": { const n = getTrackUrl(t.getState())(a.id); null != n && e.loadFromUrl(n, !0); break } case "BUFFER_TRACK": { const n = getTrackUrl(t.getState())(a.id); null != n && e.loadFromUrl(n, !1); break } case "SET_BAND_VALUE": "preamp" === a.band ? e.setPreamp(a.value) : e.setEqBand(a.band, a.value); break; case "SET_EQ_OFF": e.disableEq(); break; case "SET_EQ_ON": e.enableEq(); break; case "LOAD_SERIALIZED_STATE": getEqualizerEnabled(s) ? e.enableEq() : e.disableEq(), e.setVolume(getVolume(s)), e.setBalance(getBalance(s)), objectForEach(s.equalizer.sliders, (t, n) => { "preamp" === n ? e.setPreamp(t) : e.setEqBand(n, t) }) }return r } }; const compose = composeWithDevTools({ actionsDenylist: ["UPDATE_TIME_ELAPSED", "STEP_MARQUEE"] }); function createWebampStore(e, t, n = [], a, r) { let s; a && (s = merge(reducer(void 0, { type: "@@init" }), a)); const i = [thunk.withExtraArgument(r), mediaMiddleware(e), () => e => n => (t.trigger(n.type, n), e(n)), ...n], o = compose(applyMiddleware(...i)); return legacy_createStore(reducer, s, o) } var key = { fullscreenEnabled: 0, fullscreenElement: 1, requestFullscreen: 2, exitFullscreen: 3, fullscreenchange: 4, fullscreenerror: 5, fullscreen: 6 }, webkit = ["webkitFullscreenEnabled", "webkitFullscreenElement", "webkitRequestFullscreen", "webkitExitFullscreen", "webkitfullscreenchange", "webkitfullscreenerror", "-webkit-full-screen"], moz = ["mozFullScreenEnabled", "mozFullScreenElement", "mozRequestFullScreen", "mozCancelFullScreen", "mozfullscreenchange", "mozfullscreenerror", "-moz-full-screen"], ms = ["msFullscreenEnabled", "msFullscreenElement", "msRequestFullscreen", "msExitFullscreen", "MSFullscreenChange", "MSFullscreenError", "-ms-fullscreen"], document$1 = "undefined" != typeof window && void 0 !== window.document ? window.document : {}, vendor = "fullscreenEnabled" in document$1 && Object.keys(key) || webkit[0] in document$1 && webkit || moz[0] in document$1 && moz || ms[0] in document$1 && ms || [], fscreen = { requestFullscreen: function (e) { return e[vendor[key.requestFullscreen]]() }, requestFullscreenFunction: function (e) { return e[vendor[key.requestFullscreen]] }, get exitFullscreen() { return document$1[vendor[key.exitFullscreen]].bind(document$1) }, get fullscreenPseudoClass() { return ":" + vendor[key.fullscreen] }, addEventListener: function (e, t, n) { return document$1.addEventListener(vendor[key[e]], t, n) }, removeEventListener: function (e, t, n) { return document$1.removeEventListener(vendor[key[e]], t, n) }, get fullscreenEnabled() { return Boolean(document$1[vendor[key.fullscreenEnabled]]) }, set fullscreenEnabled(e) { }, get fullscreenElement() { return document$1[vendor[key.fullscreenElement]] }, set fullscreenElement(e) { }, get onfullscreenchange() { return document$1[("on" + vendor[key.fullscreenchange]).toLowerCase()] }, set onfullscreenchange(e) { return document$1[("on" + vendor[key.fullscreenchange]).toLowerCase()] = e }, get onfullscreenerror() { return document$1[("on" + vendor[key.fullscreenerror]).toLowerCase()] }, set onfullscreenerror(e) { return document$1[("on" + vendor[key.fullscreenerror]).toLowerCase()] = e } }; function leaveFullScreen() { fscreen.fullscreenEnabled && fscreen.exitFullscreen() } function enterFullScreen(e) { fscreen.fullscreenEnabled && fscreen.requestFullscreen(e) } function FullScreen(e) { const { onChange: t, enabled: n } = e, a = reactExports.useRef(null); return reactExports.useEffect(() => { function e() { t && t(fscreen.fullscreenElement === a.current) } return fscreen.addEventListener("fullscreenchange", e), () => { fscreen.removeEventListener("fullscreenchange", e) } }, [t]), reactExports.useLayoutEffect(() => { const e = fscreen.fullscreenElement === a.current; e && !n ? leaveFullScreen() : !e && n && null != a.current && enterFullScreen(a.current) }, [n]), jsxRuntimeExports.jsx("div", { ref: a, style: e.enabled ? { height: "100%", width: "100%" } : void 0, children: e.children }) } function useUnmountedRef() { const e = reactExports.useRef(!1); return reactExports.useEffect(() => () => { e.current = !0 }, []), e } function useScreenSize() { const [e] = reactExports.useState(getScreenSize()); return e } function useWindowSize() { const [e, t] = reactExports.useState(getWindowSize$1()), n = reactExports.useCallback(() => { }, []); return reactExports.useEffect(() => (window.addEventListener("resize", n), () => { window.removeEventListener("resize", n) }), [n]), e } const cursorPositionRef = { current: { pageX: 0, pageY: 0 } }; let listenerRefCount = 0; const globalMouseMoveHandler = ({ pageX: e, pageY: t }) => { cursorPositionRef.current = { pageX: e, pageY: t } }; function addGlobalMouseListener() { 0 === listenerRefCount && window.document.addEventListener("mousemove", globalMouseMoveHandler), listenerRefCount++ } function removeGlobalMouseListener() { listenerRefCount--, 0 === listenerRefCount && window.document.removeEventListener("mousemove", globalMouseMoveHandler) } function useCursorPositionRef() { return reactExports.useEffect(() => (addGlobalMouseListener(), () => { removeGlobalMouseListener() }), []), cursorPositionRef } function useIsHovered() { const e = useCursorPositionRef(), [t, n] = reactExports.useState(!1), [a, r] = reactExports.useState(null); return reactExports.useLayoutEffect(() => { if (null == a) return void n(!1); const t = a.getBoundingClientRect(), { pageX: r, pageY: s } = e.current; n(r >= t.left && r <= t.right && s >= t.top && s <= t.bottom); const i = () => n(!0), o = () => n(!1); return a.addEventListener("mouseenter", i), a.addEventListener("mouseleave", o), () => { a.removeEventListener("mouseenter", i), a.removeEventListener("mouseleave", o) } }, [a, e]), { ref: r, hover: t } } function useOnClickAway(e, t) { reactExports.useEffect(() => { if (null == e || null == t) return; const n = a => { const r = a.target; r instanceof Element && (e.contains(r) || (t(), window.document.removeEventListener("click", n, { capture: !0 }))) }; return window.document.addEventListener("click", n, { capture: !0 }), () => { window.document.removeEventListener("click", n, { capture: !0 }) } }, [e, t]) } function useTypedSelector(e) { return useSelector(e) } function useActionCreator(e) { const t = useTypedDispatch(); return reactExports.useCallback((...n) => t(e(...n)), [t, e]) } function useTypedDispatch() { return useDispatch() } var classnames$1 = { exports: {} }, module; module = classnames$1, function () { var e = {}.hasOwnProperty; function t() { for (var e = "", t = 0; t < arguments.length; t++) { var r = arguments[t]; r && (e = a(e, n(r))) } return e } function n(n) { if ("string" == typeof n || "number" == typeof n) return n; if ("object" != typeof n) return ""; if (Array.isArray(n)) return t.apply(null, n); if (n.toString !== Object.prototype.toString && !n.toString.toString().includes("[native code]")) return n.toString(); var r = ""; for (var s in n) e.call(n, s) && n[s] && (r = a(r, s)); return r } function a(e, t) { return t ? e ? e + " " + t : e + t : e } module.exports ? (t.default = t, module.exports = t) : window.classNames = t }(); var classnamesExports = classnames$1.exports, classnames = getDefaultExportFromCjs(classnamesExports); function ResizeTarget(e) { const { currentSize: t, setWindowSize: n, widthOnly: a, ...r } = e, [s, i] = reactExports.useState(!1), [o, l] = reactExports.useState(null); reactExports.useEffect(() => { if (!1 === s || null == o) return; const [n, r] = t, l = t => { const s = getX(t) - o.x, i = getY(t) - o.y, l = [Math.max(0, n + Math.round(s / WINDOW_RESIZE_SEGMENT_WIDTH)), a ? n : Math.max(0, r + Math.round(i / WINDOW_RESIZE_SEGMENT_HEIGHT))]; e.setWindowSize(l) }; window.addEventListener("mousemove", l), window.addEventListener("touchmove", l); const m = () => i(!1); return window.addEventListener("mouseup", m), window.addEventListener("touchend", m), () => { window.removeEventListener("mousemove", l), window.removeEventListener("touchmove", l), window.removeEventListener("mouseup", m), window.removeEventListener("touchend", m) } }, [o, s]); const m = e => { l({ x: getX(e), y: getY(e) }), i(!0) }; return jsxRuntimeExports.jsx("div", { onMouseDown: m, onTouchStart: m, ...r }) } var ResizeTarget$1 = reactExports.memo(ResizeTarget); function FocusTarget({ onKeyDown: e, windowId: t, children: n }) { const a = useTypedSelector(getFocusedWindow), r = useActionCreator(setFocusedWindow), s = reactExports.useCallback(() => { t !== a && r(t) }, [t, a, r]), [i, o] = reactExports.useState(null); return reactExports.useEffect(() => { if (null != i && null != e) return i.addEventListener("keydown", e), () => i.removeEventListener("keydown", e) }, [e, t, a, i]), reactExports.useEffect(() => { if (null == i || t !== a) return; const e = new MutationObserver(e => { document.activeElement === document.body && e.some(e => e.removedNodes.length > 0) && i.focus() }); return e.observe(i, { subtree: !0, attributes: !1, childList: !0 }), () => e.disconnect() }, [t, a, i]), jsxRuntimeExports.jsx("div", { ref: o, onPointerDown: s, onFocus: s, tabIndex: -1, style: { height: "100%", width: "100%" }, children: n }) } const ACTIVE_CLASSNAME = "winamp-active", LEFT_MOUSE_NUMBER = 0; function WinampButton({ requireClicksOriginateLocally: e = !0, onPointerDown: t, className: n, ...a }) { const [r, s] = reactExports.useState(!1), i = reactExports.useCallback(n => { null != t && t(n), e || n.target.releasePointerCapture(n.pointerId), -1 !== n.nativeEvent.button && n.nativeEvent.button !== LEFT_MOUSE_NUMBER || (s(!0), document.addEventListener("pointerup", function e(t) { s(!1), document.removeEventListener("pointerup", e) })) }, [t, e]); return jsxRuntimeExports.jsx("div", { ...a, className: classnames(n, { [ACTIVE_CLASSNAME]: r }), onPointerDown: i, onPointerEnter: e ? void 0 : e => { 1 === e.buttons && (document.dispatchEvent(new CustomEvent("pointerup", { detail: -42 })), i(e)) } }) } const Text = ({ children: e }) => { const t = e.split(""); return jsxRuntimeExports.jsx(reactExports.Fragment, { children: t.map((e, t) => jsxRuntimeExports.jsx("div", { className: `draggable gen-text-letter gen-text-${" " === e ? "space" : e.toLowerCase()}` }, t)) }) }, CHROME_WIDTH = 19, CHROME_HEIGHT = 34, GenWindow = ({ children: e, title: t, windowId: n, onKeyDown: a }) => { const r = useActionCreator(setWindowSize), s = useActionCreator(closeWindow), i = useTypedSelector(getWindowPixelSize), o = useTypedSelector(getFocusedWindow), l = useTypedSelector(getWindowSize)(n), m = o === n, { width: c, height: u } = i(n); return jsxRuntimeExports.jsx(FocusTarget, { windowId: n, onKeyDown: a, children: jsxRuntimeExports.jsxs("div", { className: classnames("gen-window", "window", { selected: m }), style: { width: c, height: u }, children: [jsxRuntimeExports.jsxs("div", { className: "gen-top draggable", children: [jsxRuntimeExports.jsx("div", { className: "gen-top-left draggable" }), jsxRuntimeExports.jsx("div", { className: "gen-top-left-fill draggable" }), jsxRuntimeExports.jsx("div", { className: "gen-top-left-end draggable" }), jsxRuntimeExports.jsx("div", { className: "gen-top-title draggable", children: jsxRuntimeExports.jsx(Text, { children: t }) }), jsxRuntimeExports.jsx("div", { className: "gen-top-right-end draggable" }), jsxRuntimeExports.jsx("div", { className: "gen-top-right-fill draggable" }), jsxRuntimeExports.jsx("div", { className: "gen-top-right draggable", children: jsxRuntimeExports.jsx(WinampButton, { className: "gen-close selected", onClick: () => s(n) }) })] }), jsxRuntimeExports.jsxs("div", { className: "gen-middle", children: [jsxRuntimeExports.jsx("div", { className: "gen-middle-left draggable", children: jsxRuntimeExports.jsx("div", { className: "gen-middle-left-bottom draggable" }) }), jsxRuntimeExports.jsx("div", { className: "gen-middle-center", children: e({ width: c - CHROME_WIDTH, height: u - CHROME_HEIGHT }) }), jsxRuntimeExports.jsx("div", { className: "gen-middle-right draggable", children: jsxRuntimeExports.jsx("div", { className: "gen-middle-right-bottom draggable" }) })] }), jsxRuntimeExports.jsxs("div", { className: "gen-bottom draggable", children: [jsxRuntimeExports.jsx("div", { className: "gen-bottom-left draggable" }), jsxRuntimeExports.jsx("div", { className: "gen-bottom-right draggable", children: jsxRuntimeExports.jsx(ResizeTarget$1, { currentSize: l, setWindowSize: e => r(n, e), id: "gen-resize-target" }) })] })] }) }) }; var Output = function ({ regl: e, precision: t, label: n = "", width: a, height: r }) { this.regl = e, this.precision = t, this.label = n, this.positionBuffer = this.regl.buffer([[-2, 0], [0, -2], [2, 2]]), this.draw = () => { }, this.init(), this.pingPongIndex = 0, this.fbos = Array(2).fill().map(() => this.regl.framebuffer({ color: this.regl.texture({ mag: "nearest", width: a, height: r, format: "rgba" }), depthStencil: !1 })) }, inherits$2; Output.prototype.resize = function (e, t) { this.fbos.forEach(n => { n.resize(e, t) }) }, Output.prototype.getCurrent = function () { return this.fbos[this.pingPongIndex] }, Output.prototype.getTexture = function () { var e = this.pingPongIndex ? 0 : 1; return this.fbos[e] }, Output.prototype.init = function () { return this.transformIndex = 0, this.fragHeader = `\n  precision ${this.precision} float;\n\n  uniform float time;\n  varying vec2 uv;\n  `, this.fragBody = "", this.vert = `\n  precision ${this.precision} float;\n  attribute vec2 position;\n  varying vec2 uv;\n\n  void main () {\n    uv = position;\n    gl_Position = vec4(2.0 * position - 1.0, 0, 1);\n  }`, this.attributes = { position: this.positionBuffer }, this.uniforms = { time: this.regl.prop("time"), resolution: this.regl.prop("resolution") }, this.frag = `\n       ${this.fragHeader}\n\n      void main () {\n        vec4 c = vec4(0, 0, 0, 0);\n        vec2 st = uv;\n        ${this.fragBody}\n        gl_FragColor = c;\n      }\n  `, this }, Output.prototype.render = function (e) { let t = e[0]; var n = this, a = Object.assign(t.uniforms, { prevBuffer: () => n.fbos[n.pingPongIndex] }); n.draw = n.regl({ frag: t.frag, vert: n.vert, attributes: n.attributes, uniforms: a, count: 3, framebuffer: () => (n.pingPongIndex = n.pingPongIndex ? 0 : 1, n.fbos[n.pingPongIndex]) }) }, Output.prototype.tick = function (e) { this.draw(e) }, inherits$2 = "function" == typeof Object.create ? function (e, t) { e.super_ = t, e.prototype = Object.create(t.prototype, { constructor: { value: e, enumerable: !1, writable: !0, configurable: !0 } }) } : function (e, t) { e.super_ = t; var n = function () { }; n.prototype = t.prototype, e.prototype = new n, e.prototype.constructor = e }; var inherits$3 = inherits$2, _polyfillNode_inherits = Object.freeze({ __proto__: null, default: inherits$3 }), require$$0$1 = getAugmentedNamespace(_polyfillNode_inherits); function EventHandlers() { } function EventEmitter$1() { EventEmitter$1.init.call(this) } function $getMaxListeners(e) { return void 0 === e._maxListeners ? EventEmitter$1.defaultMaxListeners : e._maxListeners } function emitNone(e, t, n) { if (t) e.call(n); else for (var a = e.length, r = arrayClone(e, a), s = 0; s < a; ++s)r[s].call(n) } function emitOne(e, t, n, a) { if (t) e.call(n, a); else for (var r = e.length, s = arrayClone(e, r), i = 0; i < r; ++i)s[i].call(n, a) } function emitTwo(e, t, n, a, r) { if (t) e.call(n, a, r); else for (var s = e.length, i = arrayClone(e, s), o = 0; o < s; ++o)i[o].call(n, a, r) } function emitThree(e, t, n, a, r, s) { if (t) e.call(n, a, r, s); else for (var i = e.length, o = arrayClone(e, i), l = 0; l < i; ++l)o[l].call(n, a, r, s) } function emitMany(e, t, n, a) { if (t) e.apply(n, a); else for (var r = e.length, s = arrayClone(e, r), i = 0; i < r; ++i)s[i].apply(n, a) } function _addListener(e, t, n, a) { var r, s, i; if ("function" != typeof n) throw new TypeError('"listener" argument must be a function'); if ((s = e._events) ? (s.newListener && (e.emit("newListener", t, n.listener ? n.listener : n), s = e._events), i = s[t]) : (s = e._events = new EventHandlers, e._eventsCount = 0), i) { if ("function" == typeof i ? i = s[t] = a ? [n, i] : [i, n] : a ? i.unshift(n) : i.push(n), !i.warned && (r = $getMaxListeners(e)) && r > 0 && i.length > r) { i.warned = !0; var o = new Error("Possible EventEmitter memory leak detected. " + i.length + " " + t + " listeners added. Use emitter.setMaxListeners() to increase limit"); o.name = "MaxListenersExceededWarning", o.emitter = e, o.type = t, o.count = i.length, emitWarning(o) } } else i = s[t] = n, ++e._eventsCount; return e } function emitWarning(e) { console.warn } function _onceWrap(e, t, n) { var a = !1; function r() { e.removeListener(t, r), a || (a = !0, n.apply(e, arguments)) } return r.listener = n, r } function listenerCount$1(e) { var t = this._events; if (t) { var n = t[e]; if ("function" == typeof n) return 1; if (n) return n.length } return 0 } function spliceOne(e, t) { for (var n = t, a = n + 1, r = e.length; a < r; n += 1, a += 1)e[n] = e[a]; e.pop() } function arrayClone(e, t) { for (var n = new Array(t); t--;)n[t] = e[t]; return n } function unwrapListeners(e) { for (var t = new Array(e.length), n = 0; n < t.length; ++n)t[n] = e[n].listener || e[n]; return t } EventHandlers.prototype = Object.create(null), EventEmitter$1.EventEmitter = EventEmitter$1, EventEmitter$1.usingDomains = !1, EventEmitter$1.prototype.domain = void 0, EventEmitter$1.prototype._events = void 0, EventEmitter$1.prototype._maxListeners = void 0, EventEmitter$1.defaultMaxListeners = 10, EventEmitter$1.init = function () { this.domain = null, this._events && this._events !== Object.getPrototypeOf(this)._events || (this._events = new EventHandlers, this._eventsCount = 0), this._maxListeners = this._maxListeners || void 0 }, EventEmitter$1.prototype.setMaxListeners = function (e) { if ("number" != typeof e || e < 0 || isNaN(e)) throw new TypeError('"n" argument must be a positive number'); return this._maxListeners = e, this }, EventEmitter$1.prototype.getMaxListeners = function () { return $getMaxListeners(this) }, EventEmitter$1.prototype.emit = function (e) { var t, n, a, r, s, i, o, l = "error" === e; if (i = this._events) l = l && null == i.error; else if (!l) return !1; if (o = this.domain, l) { if (t = arguments[1], !o) { if (t instanceof Error) throw t; var m = new Error('Uncaught, unspecified "error" event. (' + t + ")"); throw m.context = t, m } return t || (t = new Error('Uncaught, unspecified "error" event')), t.domainEmitter = this, t.domain = o, t.domainThrown = !1, o.emit("error", t), !1 } if (!(n = i[e])) return !1; var c = "function" == typeof n; switch (a = arguments.length) { case 1: emitNone(n, c, this); break; case 2: emitOne(n, c, this, arguments[1]); break; case 3: emitTwo(n, c, this, arguments[1], arguments[2]); break; case 4: emitThree(n, c, this, arguments[1], arguments[2], arguments[3]); break; default: for (r = new Array(a - 1), s = 1; s < a; s++)r[s - 1] = arguments[s]; emitMany(n, c, this, r) }return !0 }, EventEmitter$1.prototype.addListener = function (e, t) { return _addListener(this, e, t, !1) }, EventEmitter$1.prototype.on = EventEmitter$1.prototype.addListener, EventEmitter$1.prototype.prependListener = function (e, t) { return _addListener(this, e, t, !0) }, EventEmitter$1.prototype.once = function (e, t) { if ("function" != typeof t) throw new TypeError('"listener" argument must be a function'); return this.on(e, _onceWrap(this, e, t)), this }, EventEmitter$1.prototype.prependOnceListener = function (e, t) { if ("function" != typeof t) throw new TypeError('"listener" argument must be a function'); return this.prependListener(e, _onceWrap(this, e, t)), this }, EventEmitter$1.prototype.removeListener = function (e, t) { var n, a, r, s, i; if ("function" != typeof t) throw new TypeError('"listener" argument must be a function'); if (!(a = this._events)) return this; if (!(n = a[e])) return this; if (n === t || n.listener && n.listener === t) 0 === --this._eventsCount ? this._events = new EventHandlers : (delete a[e], a.removeListener && this.emit("removeListener", e, n.listener || t)); else if ("function" != typeof n) { for (r = -1, s = n.length; s-- > 0;)if (n[s] === t || n[s].listener && n[s].listener === t) { i = n[s].listener, r = s; break } if (r < 0) return this; if (1 === n.length) { if (n[0] = void 0, 0 === --this._eventsCount) return this._events = new EventHandlers, this; delete a[e] } else spliceOne(n, r); a.removeListener && this.emit("removeListener", e, i || t) } return this }, EventEmitter$1.prototype.off = function (e, t) { return this.removeListener(e, t) }, EventEmitter$1.prototype.removeAllListeners = function (e) { var t, n; if (!(n = this._events)) return this; if (!n.removeListener) return 0 === arguments.length ? (this._events = new EventHandlers, this._eventsCount = 0) : n[e] && (0 === --this._eventsCount ? this._events = new EventHandlers : delete n[e]), this; if (0 === arguments.length) { for (var a, r = Object.keys(n), s = 0; s < r.length; ++s)"removeListener" !== (a = r[s]) && this.removeAllListeners(a); return this.removeAllListeners("removeListener"), this._events = new EventHandlers, this._eventsCount = 0, this } if ("function" == typeof (t = n[e])) this.removeListener(e, t); else if (t) do { this.removeListener(e, t[t.length - 1]) } while (t[0]); return this }, EventEmitter$1.prototype.listeners = function (e) { var t, n = this._events; return n && (t = n[e]) ? "function" == typeof t ? [t.listener || t] : unwrapListeners(t) : [] }, EventEmitter$1.listenerCount = function (e, t) { return "function" == typeof e.listenerCount ? e.listenerCount(t) : listenerCount$1.call(e, t) }, EventEmitter$1.prototype.listenerCount = listenerCount$1, EventEmitter$1.prototype.eventNames = function () { return this._eventsCount > 0 ? Reflect.ownKeys(this._events) : [] }; var _polyfillNode_events = Object.freeze({ __proto__: null, EventEmitter: EventEmitter$1, default: EventEmitter$1 }), require$$1 = getAugmentedNamespace(_polyfillNode_events), browser$3 = commonjsGlobal.performance && commonjsGlobal.performance.now ? function () { return performance.now() } : Date.now || function () { return +new Date }, raf$2 = { exports: {} }, performanceNow$1 = { exports: {} }; (function () { var e, t, n, a, r, s; "undefined" != typeof performance && null !== performance && performance.now ? performanceNow$1.exports = function () { return performance.now() } : "undefined" != typeof process && null !== process && process.hrtime ? (performanceNow$1.exports = function () { return (e() - r) / 1e6 }, t = process.hrtime, a = (e = function () { var e; return 1e9 * (e = t())[0] + e[1] })(), s = 1e9 * process.uptime(), r = a - s) : Date.now ? (performanceNow$1.exports = function () { return Date.now() - n }, n = Date.now()) : (performanceNow$1.exports = function () { return (new Date).getTime() - n }, n = (new Date).getTime()) }).call(commonjsGlobal); for (var performanceNowExports = performanceNow$1.exports, now$1 = performanceNowExports, root$2 = "undefined" == typeof window ? commonjsGlobal : window, vendors = ["moz", "webkit"], suffix = "AnimationFrame", raf$1 = root$2["request" + suffix], caf = root$2["cancel" + suffix] || root$2["cancelRequest" + suffix], i$2 = 0; !raf$1 && i$2 < vendors.length; i$2++)raf$1 = root$2[vendors[i$2] + "Request" + suffix], caf = root$2[vendors[i$2] + "Cancel" + suffix] || root$2[vendors[i$2] + "CancelRequest" + suffix]; if (!raf$1 || !caf) { var last = 0, id = 0, queue$1 = [], frameDuration = 1e3 / 60; raf$1 = function (t) { if (0 === queue$1.length) { var n = now$1(), a = Math.max(0, frameDuration - (n - last)); last = a + n, setTimeout(function () { var t = queue$1.slice(0); queue$1.length = 0; for (var n = 0; n < t.length; n++)if (!t[n].cancelled) try { t[n].callback(last) } catch (e) { setTimeout(function () { throw e }, 0) } }, Math.round(a)) } return queue$1.push({ handle: ++id, callback: t, cancelled: !1 }), id }, caf = function (e) { for (var t = 0; t < queue$1.length; t++)queue$1[t].handle === e && (queue$1[t].cancelled = !0) } } raf$2.exports = function (e) { return raf$1.call(root$2, e) }, raf$2.exports.cancel = function () { caf.apply(root$2, arguments) }, raf$2.exports.polyfill = function (e) { e || (e = root$2), e.requestAnimationFrame = raf$1, e.cancelAnimationFrame = caf }; var rafExports = raf$2.exports, inherits$1 = require$$0$1, EventEmitter = require$$1.EventEmitter, now = browser$3, raf = rafExports, rafLoop = Engine; function Engine(e) { if (!(this instanceof Engine)) return new Engine(e); this.running = !1, this.last = now(), this._frame = 0, this._tick = this.tick.bind(this), e && this.on("tick", e) } inherits$1(Engine, EventEmitter), Engine.prototype.start = function () { if (!this.running) return this.running = !0, this.last = now(), this._frame = raf(this._tick), this }, Engine.prototype.stop = function () { return this.running = !1, 0 !== this._frame && raf.cancel(this._frame), this._frame = 0, this }, Engine.prototype.tick = function () { this._frame = raf(this._tick); var e = now(), t = e - this.last; this.emit("tick", t), this.last = e }; var loop = getDefaultExportFromCjs(rafLoop); function Webcam(e) { return navigator.mediaDevices.enumerateDevices().then(e => e.filter(e => "videoinput" === e.kind)).then(t => { let n = { audio: !1, video: !0 }; return t[e] && (n.video = { deviceId: { exact: t[e].deviceId } }), window.navigator.mediaDevices.getUserMedia(n) }).then(e => { const t = document.createElement("video"); return t.setAttribute("autoplay", ""), t.setAttribute("muted", ""), t.setAttribute("playsinline", ""), t.srcObject = e, new Promise((e, n) => { t.addEventListener("loadedmetadata", () => { t.play().then(() => e({ video: t })) }) }) }).catch(function () { }.bind()) } function Screen(e) { return new Promise(function (t, n) { navigator.mediaDevices.getDisplayMedia(e).then(e => { const n = document.createElement("video"); n.srcObject = e, n.addEventListener("loadedmetadata", () => { n.play(), t({ video: n }) }) }).catch(e => n(e)) }) } class HydraSource { constructor({ regl: e, width: t, height: n, pb: a, label: r = "" }) { this.label = r, this.regl = e, this.src = null, this.dynamic = !0, this.width = t, this.height = n, this.tex = this.regl.texture({ shape: [1, 1] }), this.pb = a } init(e, t) { "src" in e && (this.src = e.src, this.tex = this.regl.texture({ data: this.src, ...t })), "dynamic" in e && (this.dynamic = e.dynamic) } initCam(e, t) { const n = this; Webcam(e).then(e => { n.src = e.video, n.dynamic = !0, n.tex = n.regl.texture({ data: n.src, ...t }) }).catch(e => { }) } initVideo(e = "", t) { const n = document.createElement("video"); n.crossOrigin = "anonymous", n.autoplay = !0, n.loop = !0, n.muted = !0, n.addEventListener("loadeddata", () => { this.src = n, n.play(), this.tex = this.regl.texture({ data: this.src, ...t }), this.dynamic = !0 }), n.src = e } initImage(e = "", t) { const n = document.createElement("img"); n.crossOrigin = "anonymous", n.src = e, n.onload = () => { this.src = n, this.dynamic = !1, this.tex = this.regl.texture({ data: this.src, ...t }) } } initStream(e, t) { let n = this; e && this.pb && (this.pb.initSource(e), this.pb.on("got video", function (a, r) { a === e && (n.src = r, n.dynamic = !0, n.tex = n.regl.texture({ data: n.src, ...t })) })) } initScreen(e = 0, t) { const n = this; Screen().then(function (e) { n.src = e.video, n.tex = n.regl.texture({ data: n.src, ...t }), n.dynamic = !0 }).catch(e => { }) } resize(e, t) { this.width = e, this.height = t } clear() { this.src && this.src.srcObject && this.src.srcObject.getTracks && this.src.srcObject.getTracks().forEach(e => e.stop()), this.src = null, this.tex = this.regl.texture({ shape: [1, 1] }) } tick(e) { null !== this.src && !0 === this.dynamic && (this.src.videoWidth && this.src.videoWidth !== this.tex.width && this.tex.resize(this.src.videoWidth, this.src.videoHeight), this.src.width && this.src.width !== this.tex.width && this.tex.resize(this.src.width, this.src.height), this.tex.subimage(this.src)) } getTexture() { return this.tex } } const mouse = {}; function mouseButtons(e) { if ("object" == typeof e) { if ("buttons" in e) return e.buttons; if ("which" in e) { if (2 === (t = e.which)) return 4; if (3 === t) return 2; if (t > 0) return 1 << t - 1 } else if ("button" in e) { var t; if (1 === (t = e.button)) return 4; if (2 === t) return 2; if (t >= 0) return 1 << t } } return 0 } function mouseElement(e) { return e.target || e.srcElement || window } function mouseRelativeX(e) { return "object" == typeof e && "pageX" in e ? e.pageX : 0 } function mouseRelativeY(e) { return "object" == typeof e && "pageY" in e ? e.pageY : 0 } function mouseListen(e, t) { t || (t = e, e = window); var n = 0, a = 0, r = 0, s = { shift: !1, alt: !1, control: !1, meta: !1 }, i = !1; function o(e) { var t = !1; return "altKey" in e && (t = t || e.altKey !== s.alt, s.alt = !!e.altKey), "shiftKey" in e && (t = t || e.shiftKey !== s.shift, s.shift = !!e.shiftKey), "ctrlKey" in e && (t = t || e.ctrlKey !== s.control, s.control = !!e.ctrlKey), "metaKey" in e && (t = t || e.metaKey !== s.meta, s.meta = !!e.metaKey), t } function l(e, i) { var l = mouse.x(i), m = mouse.y(i); "buttons" in i && (e = 0 | i.buttons), (e !== n || l !== a || m !== r || o(i)) && (n = 0 | e, a = l || 0, r = m || 0, t && t(n, a, r, s)) } function m(e) { l(0, e) } function c() { (n || a || r || s.shift || s.alt || s.meta || s.control) && (a = r = 0, n = 0, s.shift = s.alt = s.control = s.meta = !1, t && t(0, 0, 0, s)) } function u(e) { o(e) && t && t(n, a, r, s) } function A(e) { 0 === mouse.buttons(e) ? l(0, e) : l(n, e) } function p(e) { l(n | mouse.buttons(e), e) } function d(e) { l(n & ~mouse.buttons(e), e) } function _() { i || (i = !0, e.addEventListener("mousemove", A), e.addEventListener("mousedown", p), e.addEventListener("mouseup", d), e.addEventListener("mouseleave", m), e.addEventListener("mouseenter", m), e.addEventListener("mouseout", m), e.addEventListener("mouseover", m), e.addEventListener("blur", c), e.addEventListener("keyup", u), e.addEventListener("keydown", u), e.addEventListener("keypress", u), e !== window && (window.addEventListener("blur", c), window.addEventListener("keyup", u), window.addEventListener("keydown", u), window.addEventListener("keypress", u))) } _(); var v = { element: e }; return Object.defineProperties(v, { enabled: { get: function () { return i }, set: function (t) { t ? _() : i && (i = !1, e.removeEventListener("mousemove", A), e.removeEventListener("mousedown", p), e.removeEventListener("mouseup", d), e.removeEventListener("mouseleave", m), e.removeEventListener("mouseenter", m), e.removeEventListener("mouseout", m), e.removeEventListener("mouseover", m), e.removeEventListener("blur", c), e.removeEventListener("keyup", u), e.removeEventListener("keydown", u), e.removeEventListener("keypress", u), e !== window && (window.removeEventListener("blur", c), window.removeEventListener("keyup", u), window.removeEventListener("keydown", u), window.removeEventListener("keypress", u))) }, enumerable: !0 }, buttons: { get: function () { return n }, enumerable: !0 }, x: { get: function () { return a }, enumerable: !0 }, y: { get: function () { return r }, enumerable: !0 }, mods: { get: function () { return s }, enumerable: !0 } }), v } mouse.buttons = mouseButtons, mouse.element = mouseElement, mouse.x = mouseRelativeX, mouse.y = mouseRelativeY; var meyda_min = { exports: {} }; meyda_min.exports = function () { function e(e, t, n) { for (var a, r = 0, s = t.length; r < s; r++)!a && r in t || (a || (a = Array.prototype.slice.call(t, 0, r)), a[r] = t[r]); return e.concat(a || Array.prototype.slice.call(t)) } var t = Object.freeze({ __proto__: null, blackman: function (e) { for (var t = new Float32Array(e), n = 2 * Math.PI / (e - 1), a = 2 * n, r = 0; r < e / 2; r++)t[r] = .42 - .5 * Math.cos(r * n) + .08 * Math.cos(r * a); for (r = Math.ceil(e / 2); r > 0; r--)t[e - r] = t[r - 1]; return t }, hamming: function (e) { for (var t = new Float32Array(e), n = 0; n < e; n++)t[n] = .54 - .46 * Math.cos(2 * Math.PI * (n / e - 1)); return t }, hanning: function (e) { for (var t = new Float32Array(e), n = 0; n < e; n++)t[n] = .5 - .5 * Math.cos(2 * Math.PI * n / (e - 1)); return t }, sine: function (e) { for (var t = Math.PI / (e - 1), n = new Float32Array(e), a = 0; a < e; a++)n[a] = Math.sin(t * a); return n } }), n = {}; function a(e) { for (; e % 2 == 0 && e > 1;)e /= 2; return 1 === e } function r(e, a) { if ("rect" !== a) { if ("" !== a && a || (a = "hanning"), n[a] || (n[a] = {}), !n[a][e.length]) try { n[a][e.length] = t[a](e.length) } catch (e) { throw new Error("Invalid windowing function") } e = function (e, t) { for (var n = [], a = 0; a < Math.min(e.length, t.length); a++)n[a] = e[a] * t[a]; return n }(e, n[a][e.length]) } return e } function s(e, t, n) { for (var a = new Float32Array(e), r = 0; r < a.length; r++)a[r] = r * t / n, a[r] = 13 * Math.atan(a[r] / 1315.8) + 3.5 * Math.atan(Math.pow(a[r] / 7518, 2)); return a } function i(e) { return Float32Array.from(e) } function o(e) { return 1125 * Math.log(1 + e / 700) } function l(e, t, n) { for (var a, r = new Float32Array(e + 2), s = new Float32Array(e + 2), i = t / 2, l = o(0), m = (o(i) - l) / (e + 1), c = new Array(e + 2), u = 0; u < r.length; u++)r[u] = u * m, s[u] = (a = r[u], 700 * (Math.exp(a / 1125) - 1)), c[u] = Math.floor((n + 1) * s[u] / t); for (var A = new Array(e), p = 0; p < A.length; p++) { for (A[p] = new Array(n / 2 + 1).fill(0), u = c[p]; u < c[p + 1]; u++)A[p][u] = (u - c[p]) / (c[p + 1] - c[p]); for (u = c[p + 1]; u < c[p + 2]; u++)A[p][u] = (c[p + 2] - u) / (c[p + 2] - c[p + 1]) } return A } function m(t, n, a, r, s, i, o) { void 0 === r && (r = 5), void 0 === s && (s = 2), void 0 === i && (i = !0), void 0 === o && (o = 440); var l = Math.floor(a / 2) + 1, m = new Array(a).fill(0).map(function (e, r) { return t * function (e, t) { return Math.log2(16 * e / t) }(n * r / a, o) }); m[0] = m[1] - 1.5 * t; var c, u, A, p = m.slice(1).map(function (e, t) { return Math.max(e - m[t]) }, 1).concat([1]), d = Math.round(t / 2), _ = new Array(t).fill(0).map(function (e, n) { return m.map(function (e) { return (10 * t + d + e - n) % t - d }) }), v = _.map(function (e, t) { return e.map(function (e, n) { return Math.exp(-.5 * Math.pow(2 * _[t][n] / p[n], 2)) }) }); if (u = (c = v)[0].map(function () { return 0 }), A = c.reduce(function (e, t) { return t.forEach(function (t, n) { e[n] += Math.pow(t, 2) }), e }, u).map(Math.sqrt), v = c.map(function (e, t) { return e.map(function (e, t) { return e / (A[t] || 1) }) }), s) { var h = m.map(function (e) { return Math.exp(-.5 * Math.pow((e / t - r) / s, 2)) }); v = v.map(function (e) { return e.map(function (e, t) { return e * h[t] }) }) } return i && (v = e(e([], v.slice(3)), v.slice(0, 3))), v.map(function (e) { return e.slice(0, l) }) } function c(e, t) { for (var n = 0, a = 0, r = 0; r < t.length; r++)n += Math.pow(r, e) * Math.abs(t[r]), a += t[r]; return n / a } function u(e) { var t = e.ampSpectrum, n = e.barkScale, a = e.numberOfBarkBands, r = void 0 === a ? 24 : a; if ("object" != typeof t || "object" != typeof n) throw new TypeError; var s = r, i = new Float32Array(s), o = 0, l = t, m = new Int32Array(s + 1); m[0] = 0; for (var c = n[l.length - 1] / s, u = 1, A = 0; A < l.length; A++)for (; n[A] > c;)m[u++] = A, c = u * n[l.length - 1] / s; for (m[s] = l.length - 1, A = 0; A < s; A++) { for (var p = 0, d = m[A]; d < m[A + 1]; d++)p += l[d]; i[A] = Math.pow(p, .23) } for (A = 0; A < i.length; A++)o += i[A]; return { specific: i, total: o } } function A(e) { var t = e.ampSpectrum; if ("object" != typeof t) throw new TypeError; for (var n = new Float32Array(t.length), a = 0; a < n.length; a++)n[a] = Math.pow(t[a], 2); return n } function p(e) { var t = e.ampSpectrum, n = e.melFilterBank, a = e.bufferSize; if ("object" != typeof t) throw new TypeError("Valid ampSpectrum is required to generate melBands"); if ("object" != typeof n) throw new TypeError("Valid melFilterBank is required to generate melBands"); for (var r = A({ ampSpectrum: t }), s = n.length, i = Array(s), o = new Float32Array(s), l = 0; l < o.length; l++) { i[l] = new Float32Array(a / 2), o[l] = 0; for (var m = 0; m < a / 2; m++)i[l][m] = n[l][m] * r[m], o[l] += i[l][m]; o[l] = Math.log(o[l] + 1) } return Array.prototype.slice.call(o) } var d = null, _ = function (e) { return e && e.__esModule && Object.prototype.hasOwnProperty.call(e, "default") ? e.default : e }(function (e, t) { var n = e.length; return t = t || 2, d && d[n] || function (e) { (d = d || {})[e] = new Array(e * e); for (var t = Math.PI / e, n = 0; n < e; n++)for (var a = 0; a < e; a++)d[e][a + n * e] = Math.cos(t * (a + .5) * n) }(n), e.map(function () { return 0 }).map(function (a, r) { return t * e.reduce(function (e, t, a, s) { return e + t * d[n][a + r * n] }, 0) }) }), v = Object.freeze({ __proto__: null, amplitudeSpectrum: function (e) { return e.ampSpectrum }, buffer: function (e) { return e.signal }, chroma: function (e) { var t = e.ampSpectrum, n = e.chromaFilterBank; if ("object" != typeof t) throw new TypeError("Valid ampSpectrum is required to generate chroma"); if ("object" != typeof n) throw new TypeError("Valid chromaFilterBank is required to generate chroma"); var a = n.map(function (e, n) { return t.reduce(function (t, n, a) { return t + n * e[a] }, 0) }), r = Math.max.apply(Math, a); return r ? a.map(function (e) { return e / r }) : a }, complexSpectrum: function (e) { return e.complexSpectrum }, energy: function (e) { var t = e.signal; if ("object" != typeof t) throw new TypeError; for (var n = 0, a = 0; a < t.length; a++)n += Math.pow(Math.abs(t[a]), 2); return n }, loudness: u, melBands: p, mfcc: function (e) { var t = e.ampSpectrum, n = e.melFilterBank, a = e.numberOfMFCCCoefficients, r = e.bufferSize, s = Math.min(40, Math.max(1, a || 13)); if (n.length < s) throw new Error("Insufficient filter bank for requested number of coefficients"); var i = p({ ampSpectrum: t, melFilterBank: n, bufferSize: r }); return _(i).slice(0, s) }, perceptualSharpness: function (e) { for (var t = u({ ampSpectrum: e.ampSpectrum, barkScale: e.barkScale }), n = t.specific, a = 0, r = 0; r < n.length; r++)a += r < 15 ? (r + 1) * n[r + 1] : .066 * Math.exp(.171 * (r + 1)); return a * (.11 / t.total) }, perceptualSpread: function (e) { for (var t = u({ ampSpectrum: e.ampSpectrum, barkScale: e.barkScale }), n = 0, a = 0; a < t.specific.length; a++)t.specific[a] > n && (n = t.specific[a]); return Math.pow((t.total - n) / t.total, 2) }, powerSpectrum: A, rms: function (e) { var t = e.signal; if ("object" != typeof t) throw new TypeError; for (var n = 0, a = 0; a < t.length; a++)n += Math.pow(t[a], 2); return n /= t.length, Math.sqrt(n) }, spectralCentroid: function (e) { var t = e.ampSpectrum; if ("object" != typeof t) throw new TypeError; return c(1, t) }, spectralCrest: function (e) { var t = e.ampSpectrum; if ("object" != typeof t) throw new TypeError; var n = 0, a = -1 / 0; return t.forEach(function (e) { n += Math.pow(e, 2), a = e > a ? e : a }), n /= t.length, n = Math.sqrt(n), a / n }, spectralFlatness: function (e) { var t = e.ampSpectrum; if ("object" != typeof t) throw new TypeError; for (var n = 0, a = 0, r = 0; r < t.length; r++)n += Math.log(t[r]), a += t[r]; return Math.exp(n / t.length) * t.length / a }, spectralFlux: function (e) { var t = e.signal, n = e.previousSignal, a = e.bufferSize; if ("object" != typeof t || "object" != typeof n) throw new TypeError; for (var r = 0, s = -a / 2; s < t.length / 2 - 1; s++)x = Math.abs(t[s]) - Math.abs(n[s]), r += (x + Math.abs(x)) / 2; return r }, spectralKurtosis: function (e) { var t = e.ampSpectrum; if ("object" != typeof t) throw new TypeError; var n = t, a = c(1, n), r = c(2, n), s = c(3, n), i = c(4, n); return (-3 * Math.pow(a, 4) + 6 * a * r - 4 * a * s + i) / Math.pow(Math.sqrt(r - Math.pow(a, 2)), 4) }, spectralRolloff: function (e) { var t = e.ampSpectrum, n = e.sampleRate; if ("object" != typeof t) throw new TypeError; for (var a = t, r = n / (2 * (a.length - 1)), s = 0, i = 0; i < a.length; i++)s += a[i]; for (var o = .99 * s, l = a.length - 1; s > o && l >= 0;)s -= a[l], --l; return (l + 1) * r }, spectralSkewness: function (e) { var t = e.ampSpectrum; if ("object" != typeof t) throw new TypeError; var n = c(1, t), a = c(2, t), r = c(3, t); return (2 * Math.pow(n, 3) - 3 * n * a + r) / Math.pow(Math.sqrt(a - Math.pow(n, 2)), 3) }, spectralSlope: function (e) { var t = e.ampSpectrum, n = e.sampleRate, a = e.bufferSize; if ("object" != typeof t) throw new TypeError; for (var r = 0, s = 0, i = new Float32Array(t.length), o = 0, l = 0, m = 0; m < t.length; m++) { r += t[m]; var c = m * n / a; i[m] = c, o += c * c, s += c, l += c * t[m] } return (t.length * l - s * r) / (r * (o - Math.pow(s, 2))) }, spectralSpread: function (e) { var t = e.ampSpectrum; if ("object" != typeof t) throw new TypeError; return Math.sqrt(c(2, t) - Math.pow(c(1, t), 2)) }, zcr: function (e) { var t = e.signal; if ("object" != typeof t) throw new TypeError; for (var n = 0, a = 1; a < t.length; a++)(t[a - 1] >= 0 && t[a] < 0 || t[a - 1] < 0 && t[a] >= 0) && n++; return n } }); function h(e) { if (Array.isArray(e)) { for (var t = 0, n = Array(e.length); t < e.length; t++)n[t] = e[t]; return n } return Array.from(e) } var g = {}, f = {}, b = function (e) { if (void 0 === g[e]) { for (var t = (e - 1).toString(2).length, n = "0".repeat(t), a = {}, r = 0; r < e; r++) { var s = r.toString(2); s = n.substr(s.length) + s, s = [].concat(h(s)).reverse().join(""), a[r] = parseInt(s, 2) } g[e] = a } return g[e] }, y = function (e, t) { return { real: e.real * t.real - e.imag * t.imag, imag: e.real * t.imag + e.imag * t.real } }, w = function (e, t) { return { real: e.real + t.real, imag: e.imag + t.imag } }, E = function (e, t) { return { real: e.real - t.real, imag: e.imag - t.imag } }, S = function (e, t) { var n = -2 * Math.PI * e / t; return { real: Math.cos(n), imag: Math.sin(n) } }, z = function (e) { var t = {}; t.real = void 0 === e.real ? e.slice() : e.real.slice(); var n = t.real.length; return void 0 === f[n] && (f[n] = Array.apply(null, Array(n)).map(Number.prototype.valueOf, 0)), t.imag = f[n].slice(), t }, q = function (e) { var t = {}; void 0 === e.real || void 0 === e.imag ? t = z(e) : (t.real = e.real.slice(), t.imag = e.imag.slice()); var n = t.real.length, a = Math.log2(n); if (Math.round(a) != a) throw new Error("Input size must be a power of 2."); if (t.real.length != t.imag.length) throw new Error("Real and imaginary components must have the same length."); for (var r = b(n), s = { real: [], imag: [] }, i = 0; i < n; i++)s.real[r[i]] = t.real[i], s.imag[r[i]] = t.imag[i]; for (var o = 0; o < n; o++)t.real[o] = s.real[o], t.imag[o] = s.imag[o]; for (var l = 1; l <= a; l++)for (var m = Math.pow(2, l), c = 0; c < m / 2; c++)for (var u = S(c, m), A = 0; A < n / m; A++) { var p = m * A + c, d = m * A + c + m / 2, _ = { real: t.real[p], imag: t.imag[p] }, v = { real: t.real[d], imag: t.imag[d] }, h = y(u, v), g = E(_, h); t.real[d] = g.real, t.imag[d] = g.imag; var f = w(h, _); t.real[p] = f.real, t.imag[p] = f.imag } return t }, k = function () { function e(e, t) { var n = this; if (this._m = t, !e.audioContext) throw this._m.errors.noAC; if (e.bufferSize && !a(e.bufferSize)) throw this._m._errors.notPow2; if (!e.source) throw this._m._errors.noSource; this._m.audioContext = e.audioContext, this._m.bufferSize = e.bufferSize || this._m.bufferSize || 256, this._m.hopSize = e.hopSize || this._m.hopSize || this._m.bufferSize, this._m.sampleRate = e.sampleRate || this._m.audioContext.sampleRate || 44100, this._m.callback = e.callback, this._m.windowingFunction = e.windowingFunction || "hanning", this._m.featureExtractors = v, this._m.EXTRACTION_STARTED = e.startImmediately || !1, this._m.channel = "number" == typeof e.channel ? e.channel : 0, this._m.inputs = e.inputs || 1, this._m.outputs = e.outputs || 1, this._m.numberOfMFCCCoefficients = e.numberOfMFCCCoefficients || this._m.numberOfMFCCCoefficients || 13, this._m.numberOfBarkBands = e.numberOfBarkBands || this._m.numberOfBarkBands || 24, this._m.spn = this._m.audioContext.createScriptProcessor(this._m.bufferSize, this._m.inputs, this._m.outputs), this._m.spn.connect(this._m.audioContext.destination), this._m._featuresToExtract = e.featureExtractors || [], this._m.barkScale = s(this._m.bufferSize, this._m.sampleRate, this._m.bufferSize), this._m.melFilterBank = l(Math.max(this._m.melBands, this._m.numberOfMFCCCoefficients), this._m.sampleRate, this._m.bufferSize), this._m.inputData = null, this._m.previousInputData = null, this._m.frame = null, this._m.previousFrame = null, this.setSource(e.source), this._m.spn.onaudioprocess = function (e) { var t; null !== n._m.inputData && (n._m.previousInputData = n._m.inputData), n._m.inputData = e.inputBuffer.getChannelData(n._m.channel), n._m.previousInputData ? ((t = new Float32Array(n._m.previousInputData.length + n._m.inputData.length - n._m.hopSize)).set(n._m.previousInputData.slice(n._m.hopSize)), t.set(n._m.inputData, n._m.previousInputData.length - n._m.hopSize)) : t = n._m.inputData; var a = function (e, t, n) { if (e.length < t) throw new Error("Buffer is too short for frame length"); if (n < 1) throw new Error("Hop length cannot be less that 1"); if (t < 1) throw new Error("Frame length cannot be less that 1"); var a = 1 + Math.floor((e.length - t) / n); return new Array(a).fill(0).map(function (a, r) { return e.slice(r * n, r * n + t) }) }(t, n._m.bufferSize, n._m.hopSize); a.forEach(function (e) { n._m.frame = e; var t = n._m.extract(n._m._featuresToExtract, n._m.frame, n._m.previousFrame); "function" == typeof n._m.callback && n._m.EXTRACTION_STARTED && n._m.callback(t), n._m.previousFrame = n._m.frame }) } } return e.prototype.start = function (e) { this._m._featuresToExtract = e || this._m._featuresToExtract, this._m.EXTRACTION_STARTED = !0 }, e.prototype.stop = function () { this._m.EXTRACTION_STARTED = !1 }, e.prototype.setSource = function (e) { this._m.source && this._m.source.disconnect(this._m.spn), this._m.source = e, this._m.source.connect(this._m.spn) }, e.prototype.setChannel = function (e) { e <= this._m.inputs && (this._m.channel = e) }, e.prototype.get = function (e) { return this._m.inputData ? this._m.extract(e || this._m._featuresToExtract, this._m.inputData, this._m.previousInputData) : null }, e }(), T = { audioContext: null, spn: null, bufferSize: 512, sampleRate: 44100, melBands: 26, chromaBands: 12, callback: null, windowingFunction: "hanning", featureExtractors: v, EXTRACTION_STARTED: !1, numberOfMFCCCoefficients: 13, numberOfBarkBands: 24, _featuresToExtract: [], windowing: r, _errors: { notPow2: new Error("Meyda: Buffer size must be a power of 2, e.g. 64 or 512"), featureUndef: new Error("Meyda: No features defined."), invalidFeatureFmt: new Error("Meyda: Invalid feature format"), invalidInput: new Error("Meyda: Invalid input."), noAC: new Error("Meyda: No AudioContext specified."), noSource: new Error("Meyda: No source node specified.") }, createMeydaAnalyzer: function (e) { return new k(e, Object.assign({}, T)) }, listAvailableFeatureExtractors: function () { return Object.keys(this.featureExtractors) }, extract: function (e, t, n) { var r = this; if (!t) throw this._errors.invalidInput; if ("object" != typeof t) throw this._errors.invalidInput; if (!e) throw this._errors.featureUndef; if (!a(t.length)) throw this._errors.notPow2; void 0 !== this.barkScale && this.barkScale.length == this.bufferSize || (this.barkScale = s(this.bufferSize, this.sampleRate, this.bufferSize)), void 0 !== this.melFilterBank && this.barkScale.length == this.bufferSize && this.melFilterBank.length == this.melBands || (this.melFilterBank = l(Math.max(this.melBands, this.numberOfMFCCCoefficients), this.sampleRate, this.bufferSize)), void 0 !== this.chromaFilterBank && this.chromaFilterBank.length == this.chromaBands || (this.chromaFilterBank = m(this.chromaBands, this.sampleRate, this.bufferSize)), "buffer" in t && void 0 === t.buffer ? this.signal = i(t) : this.signal = t; var o = I(t, this.windowingFunction, this.bufferSize); if (this.signal = o.windowedSignal, this.complexSpectrum = o.complexSpectrum, this.ampSpectrum = o.ampSpectrum, n) { var c = I(n, this.windowingFunction, this.bufferSize); this.previousSignal = c.windowedSignal, this.previousComplexSpectrum = c.complexSpectrum, this.previousAmpSpectrum = c.ampSpectrum } var u = function (e) { return r.featureExtractors[e]({ ampSpectrum: r.ampSpectrum, chromaFilterBank: r.chromaFilterBank, complexSpectrum: r.complexSpectrum, signal: r.signal, bufferSize: r.bufferSize, sampleRate: r.sampleRate, barkScale: r.barkScale, melFilterBank: r.melFilterBank, previousSignal: r.previousSignal, previousAmpSpectrum: r.previousAmpSpectrum, previousComplexSpectrum: r.previousComplexSpectrum, numberOfMFCCCoefficients: r.numberOfMFCCCoefficients, numberOfBarkBands: r.numberOfBarkBands }) }; if ("object" == typeof e) return e.reduce(function (e, t) { var n; return Object.assign({}, e, ((n = {})[t] = u(t), n)) }, {}); if ("string" == typeof e) return u(e); throw this._errors.invalidFeatureFmt } }, I = function (e, t, n) { var a = {}; void 0 === e.buffer ? a.signal = i(e) : a.signal = e, a.windowedSignal = r(a.signal, t), a.complexSpectrum = q(a.windowedSignal), a.ampSpectrum = new Float32Array(n / 2); for (var s = 0; s < n / 2; s++)a.ampSpectrum[s] = Math.sqrt(Math.pow(a.complexSpectrum.real[s], 2) + Math.pow(a.complexSpectrum.imag[s], 2)); return a }; return "undefined" != typeof window && (window.Meyda = T), T }(); var meyda_minExports = meyda_min.exports, Meyda = getDefaultExportFromCjs(meyda_minExports); class Audio { constructor({ numBins: e = 4, cutoff: t = 2, smooth: n = .4, max: a = 15, scale: r = 10, isDrawing: s = !1, parentEl: i = document.body }) { this.vol = 0, this.scale = r, this.max = a, this.cutoff = t, this.smooth = n, this.setBins(e), this.beat = { holdFrames: 20, threshold: 40, _cutoff: 0, decay: .98, _framesSinceBeat: 0 }, this.onBeat = () => { }, this.canvas = document.createElement("canvas"), this.canvas.width = 100, this.canvas.height = 80, this.canvas.style.width = "100px", this.canvas.style.height = "80px", this.canvas.style.position = "absolute", this.canvas.style.right = "0px", this.canvas.style.bottom = "0px", i.appendChild(this.canvas), this.isDrawing = s, this.ctx = this.canvas.getContext("2d"), this.ctx.fillStyle = "#DFFFFF", this.ctx.strokeStyle = "#0ff", this.ctx.lineWidth = .5, window.navigator.mediaDevices && window.navigator.mediaDevices.getUserMedia({ video: !1, audio: !0 }).then(e => { this.stream = e, this.context = new AudioContext; let t = this.context.createMediaStreamSource(e); this.meyda = Meyda.createMeydaAnalyzer({ audioContext: this.context, source: t, featureExtractors: ["loudness"] }) }).catch(e => { }) } detectBeat(e) { e > this.beat._cutoff && e > this.beat.threshold ? (this.onBeat(), this.beat._cutoff = 1.2 * e, this.beat._framesSinceBeat = 0) : this.beat._framesSinceBeat <= this.beat.holdFrames ? this.beat._framesSinceBeat++ : (this.beat._cutoff *= this.beat.decay, this.beat._cutoff = Math.max(this.beat._cutoff, this.beat.threshold)) } tick() { if (this.meyda) { var e = this.meyda.get(); if (e && null !== e) { this.vol = e.loudness.total, this.detectBeat(this.vol); const t = (e, t) => e + t; let n = Math.floor(e.loudness.specific.length / this.bins.length); this.prevBins = this.bins.slice(0), this.bins = this.bins.map((a, r) => e.loudness.specific.slice(r * n, (r + 1) * n).reduce(t)).map((e, t) => e * (1 - this.settings[t].smooth) + this.prevBins[t] * this.settings[t].smooth), this.fft = this.bins.map((e, t) => Math.max(0, (e - this.settings[t].cutoff) / this.settings[t].scale)), this.isDrawing && this.draw() } } } setCutoff(e) { this.cutoff = e, this.settings = this.settings.map(t => (t.cutoff = e, t)) } setSmooth(e) { this.smooth = e, this.settings = this.settings.map(t => (t.smooth = e, t)) } setBins(e) { this.bins = Array(e).fill(0), this.prevBins = Array(e).fill(0), this.fft = Array(e).fill(0), this.settings = Array(e).fill(0).map(() => ({ cutoff: this.cutoff, scale: this.scale, smooth: this.smooth })), this.bins.forEach((e, t) => { window["a" + t] = (e = 1, n = 0) => () => a.fft[t] * e + n }) } setScale(e) { this.scale = e, this.settings = this.settings.map(t => (t.scale = e, t)) } setMax(e) { this.max = e } hide() { this.isDrawing = !1, this.canvas.style.display = "none" } show() { this.isDrawing = !0, this.canvas.style.display = "block" } draw() { this.ctx.clearRect(0, 0, this.canvas.width, this.canvas.height); var e = this.canvas.width / this.bins.length, t = this.canvas.height / (2 * this.max); this.bins.forEach((n, a) => { var r = n * t; this.ctx.fillRect(a * e, this.canvas.height - r, e, r); var s = this.canvas.height - t * this.settings[a].cutoff; this.ctx.beginPath(), this.ctx.moveTo(a * e, s), this.ctx.lineTo((a + 1) * e, s), this.ctx.stroke(); var i = this.canvas.height - t * (this.settings[a].scale + this.settings[a].cutoff); this.ctx.beginPath(), this.ctx.moveTo(a * e, i), this.ctx.lineTo((a + 1) * e, i), this.ctx.stroke() }) } } class VideoRecorder { constructor(e) { this.mediaSource = new MediaSource, this.stream = e, this.output = document.createElement("video"), this.output.autoplay = !0, this.output.loop = !0; let t = this; this.mediaSource.addEventListener("sourceopen", () => { t.sourceBuffer = t.mediaSource.addSourceBuffer('video/webm; codecs="vp8"') }) } start() { let e = { mimeType: "video/webm;codecs=vp9" }; this.recordedBlobs = []; try { this.mediaRecorder = new MediaRecorder(this.stream, e) } catch (t) { try { e = { mimeType: "video/webm,codecs=vp9" }, this.mediaRecorder = new MediaRecorder(this.stream, e) } catch (n) { try { e = "video/vp8", this.mediaRecorder = new MediaRecorder(this.stream, e) } catch (a) { return void alert("MediaRecorder is not supported by this browser.\n\nTry Firefox 29 or later, or Chrome 47 or later, with Enable experimental Web Platform features enabled from chrome://flags.") } } } this.mediaRecorder.onstop = this._handleStop.bind(this), this.mediaRecorder.ondataavailable = this._handleDataAvailable.bind(this), this.mediaRecorder.start(100) } stop() { this.mediaRecorder.stop() } _handleStop() { const e = new Blob(this.recordedBlobs, { type: this.mediaRecorder.mimeType }), t = window.URL.createObjectURL(e); this.output.src = t; const n = document.createElement("a"); n.style.display = "none", n.href = t; let a = new Date; n.download = `hydra-${a.getFullYear()}-${a.getMonth() + 1}-${a.getDate()}-${a.getHours()}.${a.getMinutes()}.${a.getSeconds()}.webm`, document.body.appendChild(n), n.click(), setTimeout(() => { document.body.removeChild(n), window.URL.revokeObjectURL(t) }, 300) } _handleDataAvailable(e) { e.data && e.data.size > 0 && this.recordedBlobs.push(e.data) } } var easing = { linear: function (e) { return e }, easeInQuad: function (e) { return e * e }, easeOutQuad: function (e) { return e * (2 - e) }, easeInOutQuad: function (e) { return e < .5 ? 2 * e * e : (4 - 2 * e) * e - 1 }, easeInCubic: function (e) { return e * e * e }, easeOutCubic: function (e) { return --e * e * e + 1 }, easeInOutCubic: function (e) { return e < .5 ? 4 * e * e * e : (e - 1) * (2 * e - 2) * (2 * e - 2) + 1 }, easeInQuart: function (e) { return e * e * e * e }, easeOutQuart: function (e) { return 1 - --e * e * e * e }, easeInOutQuart: function (e) { return e < .5 ? 8 * e * e * e * e : 1 - 8 * --e * e * e * e }, easeInQuint: function (e) { return e * e * e * e * e }, easeOutQuint: function (e) { return 1 + --e * e * e * e * e }, easeInOutQuint: function (e) { return e < .5 ? 16 * e * e * e * e * e : 1 + 16 * --e * e * e * e * e }, sin: function (e) { return (1 + Math.sin(Math.PI * e - Math.PI / 2)) / 2 } }, map = (e, t, n, a, r) => (e - t) * (r - a) / (n - t) + a, ArrayUtils = { init: () => { Array.prototype.fast = function (e = 1) { return this._speed = e, this }, Array.prototype.smooth = function (e = 1) { return this._smooth = e, this }, Array.prototype.ease = function (e = "linear") { return "function" == typeof e ? (this._smooth = 1, this._ease = e) : easing[e] && (this._smooth = 1, this._ease = easing[e]), this }, Array.prototype.offset = function (e = .5) { return this._offset = e % 1, this }, Array.prototype.fit = function (e = 0, t = 1) { let n = Math.min(...this), a = Math.max(...this); var r = this.map(r => map(r, n, a, e, t)); return r._speed = this._speed, r._smooth = this._smooth, r._ease = this._ease, r } }, getValue: (e = []) => ({ time: t, bpm: n }) => { let a = e._speed ? e._speed : 1, r = e._smooth ? e._smooth : 0, s = t * a * (n / 60) + (e._offset || 0); if (0 !== r) { let t = e._ease ? e._ease : easing.linear, n = s - r / 2, a = e[Math.floor(n % e.length)], i = e[Math.floor((n + 1) % e.length)]; return t(Math.min(n % 1 / r, 1)) * (i - a) + a } return e[Math.floor(s % e.length)] } }, Sandbox = e => { var t = "", n = a(t); return { addToContext: (e, r) => { n = a(t += `\n      var ${e} = ${r}\n    `) }, eval: e => n.eval(e) }; function a(e) { return globalThis.eval(e), { eval: function (e) { globalThis.eval(e) } } } }; class EvalSandbox { constructor(e, t, n = []) { this.makeGlobal = t, this.sandbox = Sandbox(), this.parent = e, Object.keys(e).forEach(e => this.add(e)), this.userProps = n } add(e) { this.makeGlobal && (window[e] = this.parent[e]) } set(e, t) { this.makeGlobal && (window[e] = t), this.parent[e] = t } tick() { this.makeGlobal && this.userProps.forEach(e => { this.parent[e] = window[e] }) } eval(e) { this.sandbox.eval(e) } } const DEFAULT_CONVERSIONS = { float: { vec4: { name: "sum", args: [[1, 1, 1, 1]] }, vec2: { name: "sum", args: [[1, 1]] } } }, ensure_decimal_dot = e => ((e = e.toString()).indexOf(".") < 0 && (e += "."), e); function formatArguments(t, n, a) { const r = t.transform.inputs, s = t.userArgs, { generators: i } = t.synth, { src: o } = i; return r.map((t, a) => { const r = { value: t.default, type: t.type, isUniform: !1, name: t.name, vecLen: 0 }; if ("float" === r.type && (r.value = ensure_decimal_dot(t.default)), t.type.startsWith("vec")) try { r.vecLen = Number.parseInt(t.type.substr(3)) } catch (e) { } if (s.length > a && (r.value = s[a], "function" == typeof s[a] ? (r.value = (n, r, i) => { try { const e = s[a](r); return "number" == typeof e ? e : t.default } catch (e) { return t.default } }, r.isUniform = !0) : s[a].constructor === Array && (r.value = (e, t, n) => ArrayUtils.getValue(s[a])(t), r.isUniform = !0)), n < 0); else { if (r.value && r.value.transforms) { const e = r.value.transforms[r.value.transforms.length - 1]; if (e.transform.glsl_return_type !== t.type) { const n = DEFAULT_CONVERSIONS[t.type]; if (void 0 !== n) { const t = n[e.transform.glsl_return_type]; if (void 0 !== t) { const { name: e, args: n } = t; r.value = r.value[e](...n) } } } r.isUniform = !1 } else if ("float" === r.type && "number" == typeof r.value) r.value = ensure_decimal_dot(r.value); else if (r.type.startsWith("vec") && "object" == typeof r.value && Array.isArray(r.value)) r.isUniform = !1, r.value = `${r.type}(${r.value.map(ensure_decimal_dot).join(", ")})`; else if ("sampler2D" === t.type) { var i = r.value; r.value = () => i.getTexture(), r.isUniform = !0 } else if (r.value.getTexture && "vec4" === t.type) { var l = r.value; r.value = o(l), r.isUniform = !1 } r.isUniform && (r.name += n) } return r }) } function generateGlsl(e) { var t = { uniforms: [], glslFunctions: [], fragColor: "" }, n = generateGlsl$1(e, t)("st"); t.fragColor = n; let a = {}; return t.uniforms.forEach(e => a[e.name] = e), t.uniforms = Object.values(a), t } function generateGlsl$1(e, t) { var n = () => ""; return e.forEach(e => { var a = formatArguments(e, t.uniforms.length); a.forEach(e => { e.isUniform && t.uniforms.push(e) }), contains(e, t.glslFunctions) || t.glslFunctions.push(e); var r = n; if ("src" === e.transform.type) n = n => `${shaderString(n, e.name, a, t)}`; else if ("coord" === e.transform.type) n = n => `${r(`${shaderString(n, e.name, a, t)}`)}`; else if ("color" === e.transform.type) n = n => `${shaderString(`${r(n)}`, e.name, a, t)}`; else if ("combine" === e.transform.type) { var s = a[0].value && a[0].value.transforms ? e => `${generateGlsl$1(a[0].value.transforms, t)(e)}` : a[0].isUniform ? () => a[0].name : () => a[0].value; n = n => `${shaderString(`${r(n)}, ${s(n)}`, e.name, a.slice(1), t)}` } else "combineCoord" === e.transform.type && (s = a[0].value && a[0].value.transforms ? e => `${generateGlsl$1(a[0].value.transforms, t)(e)}` : a[0].isUniform ? () => a[0].name : () => a[0].value, n = n => `${r(`${shaderString(`${n}, ${s(n)}`, e.name, a.slice(1), t)}`)}`) }), n } function shaderString(e, t, n, a) { const r = n.map(e => e.isUniform ? e.name : e.value && e.value.transforms ? `${generateGlsl$1(e.value.transforms, a)("st")}` : e.value).reduce((e, t) => `${e}, ${t}`, ""); return `${t}(${e}${r})` } function contains(e, t) { for (var n = 0; n < t.length; n++)if (e.name == t[n].name) return !0; return !1 } var utilityGlsl = { _luminance: { type: "util", glsl: "float _luminance(vec3 rgb){\n      const vec3 W = vec3(0.2125, 0.7154, 0.0721);\n      return dot(rgb, W);\n    }" }, _noise: { type: "util", glsl: "\n    //\tSimplex 3D Noise\n    //\tby Ian McEwan, Ashima Arts\n    vec4 permute(vec4 x){return mod(((x*34.0)+1.0)*x, 289.0);}\n  vec4 taylorInvSqrt(vec4 r){return 1.79284291400159 - 0.85373472095314 * r;}\n\n  float _noise(vec3 v){\n    const vec2  C = vec2(1.0/6.0, 1.0/3.0) ;\n    const vec4  D = vec4(0.0, 0.5, 1.0, 2.0);\n\n  // First corner\n    vec3 i  = floor(v + dot(v, C.yyy) );\n    vec3 x0 =   v - i + dot(i, C.xxx) ;\n\n  // Other corners\n    vec3 g = step(x0.yzx, x0.xyz);\n    vec3 l = 1.0 - g;\n    vec3 i1 = min( g.xyz, l.zxy );\n    vec3 i2 = max( g.xyz, l.zxy );\n\n    //  x0 = x0 - 0. + 0.0 * C\n    vec3 x1 = x0 - i1 + 1.0 * C.xxx;\n    vec3 x2 = x0 - i2 + 2.0 * C.xxx;\n    vec3 x3 = x0 - 1. + 3.0 * C.xxx;\n\n  // Permutations\n    i = mod(i, 289.0 );\n    vec4 p = permute( permute( permute(\n               i.z + vec4(0.0, i1.z, i2.z, 1.0 ))\n             + i.y + vec4(0.0, i1.y, i2.y, 1.0 ))\n             + i.x + vec4(0.0, i1.x, i2.x, 1.0 ));\n\n  // Gradients\n  // ( N*N points uniformly over a square, mapped onto an octahedron.)\n    float n_ = 1.0/7.0; // N=7\n    vec3  ns = n_ * D.wyz - D.xzx;\n\n    vec4 j = p - 49.0 * floor(p * ns.z *ns.z);  //  mod(p,N*N)\n\n    vec4 x_ = floor(j * ns.z);\n    vec4 y_ = floor(j - 7.0 * x_ );    // mod(j,N)\n\n    vec4 x = x_ *ns.x + ns.yyyy;\n    vec4 y = y_ *ns.x + ns.yyyy;\n    vec4 h = 1.0 - abs(x) - abs(y);\n\n    vec4 b0 = vec4( x.xy, y.xy );\n    vec4 b1 = vec4( x.zw, y.zw );\n\n    vec4 s0 = floor(b0)*2.0 + 1.0;\n    vec4 s1 = floor(b1)*2.0 + 1.0;\n    vec4 sh = -step(h, vec4(0.0));\n\n    vec4 a0 = b0.xzyw + s0.xzyw*sh.xxyy ;\n    vec4 a1 = b1.xzyw + s1.xzyw*sh.zzww ;\n\n    vec3 p0 = vec3(a0.xy,h.x);\n    vec3 p1 = vec3(a0.zw,h.y);\n    vec3 p2 = vec3(a1.xy,h.z);\n    vec3 p3 = vec3(a1.zw,h.w);\n\n  //Normalise gradients\n    vec4 norm = taylorInvSqrt(vec4(dot(p0,p0), dot(p1,p1), dot(p2, p2), dot(p3,p3)));\n    p0 *= norm.x;\n    p1 *= norm.y;\n    p2 *= norm.z;\n    p3 *= norm.w;\n\n  // Mix final noise value\n    vec4 m = max(0.6 - vec4(dot(x0,x0), dot(x1,x1), dot(x2,x2), dot(x3,x3)), 0.0);\n    m = m * m;\n    return 42.0 * dot( m*m, vec4( dot(p0,x0), dot(p1,x1),\n                                  dot(p2,x2), dot(p3,x3) ) );\n  }\n    " }, _rgbToHsv: { type: "util", glsl: "vec3 _rgbToHsv(vec3 c){\n            vec4 K = vec4(0.0, -1.0 / 3.0, 2.0 / 3.0, -1.0);\n            vec4 p = mix(vec4(c.bg, K.wz), vec4(c.gb, K.xy), step(c.b, c.g));\n            vec4 q = mix(vec4(p.xyw, c.r), vec4(c.r, p.yzx), step(p.x, c.r));\n\n            float d = q.x - min(q.w, q.y);\n            float e = 1.0e-10;\n            return vec3(abs(q.z + (q.w - q.y) / (6.0 * d + e)), d / (q.x + e), q.x);\n        }" }, _hsvToRgb: { type: "util", glsl: "vec3 _hsvToRgb(vec3 c){\n        vec4 K = vec4(1.0, 2.0 / 3.0, 1.0 / 3.0, 3.0);\n        vec3 p = abs(fract(c.xxx + K.xyz) * 6.0 - K.www);\n        return c.z * mix(K.xxx, clamp(p - K.xxx, 0.0, 1.0), c.y);\n    }" } }, GlslSource = function (e) { return this.transforms = [], this.transforms.push(e), this.defaultOutput = e.defaultOutput, this.synth = e.synth, this.type = "GlslSource", this.defaultUniforms = e.defaultUniforms, this }; GlslSource.prototype.addTransform = function (e) { this.transforms.push(e) }, GlslSource.prototype.out = function (e) { var t = e || this.defaultOutput, n = this.glsl(t); if (this.synth.currentFunctions = [], t) try { t.render(n) } catch (a) { } }, GlslSource.prototype.glsl = function () { var e = [], t = []; return this.transforms.forEach(e => { "renderpass" === e.transform.type || t.push(e) }), t.length > 0 && e.push(this.compile(t)), e }, GlslSource.prototype.compile = function (e) { var t = generateGlsl(e), n = {}; return t.uniforms.forEach(e => { n[e.name] = e.value }), { frag: `\n  precision ${this.defaultOutput.precision} float;\n  ${Object.values(t.uniforms).map(e => { let t = e.type; return "texture" === e.type && (t = "sampler2D"), `\n      uniform ${t} ${e.name};` }).join("")}\n  uniform float time;\n  uniform vec2 resolution;\n  varying vec2 uv;\n  uniform sampler2D prevBuffer;\n\n  ${Object.values(utilityGlsl).map(e => `\n            ${e.glsl}\n          `).join("")}\n\n  ${t.glslFunctions.map(e => `\n            ${e.transform.glsl}\n          `).join("")}\n\n  void main () {\n    vec4 c = vec4(1, 0, 0, 1);\n    vec2 st = gl_FragCoord.xy/resolution.xy;\n    gl_FragColor = ${t.fragColor};\n  }\n  `, uniforms: Object.assign({}, this.defaultUniforms, n) } }; var glslFunctions = () => [{ name: "noise", type: "src", inputs: [{ type: "float", name: "scale", default: 10 }, { type: "float", name: "offset", default: .1 }], glsl: "   return vec4(vec3(_noise(vec3(_st*scale, offset*time))), 1.0);" }, { name: "voronoi", type: "src", inputs: [{ type: "float", name: "scale", default: 5 }, { type: "float", name: "speed", default: .3 }, { type: "float", name: "blending", default: .3 }], glsl: "   vec3 color = vec3(.0);\n   // Scale\n   _st *= scale;\n   // Tile the space\n   vec2 i_st = floor(_st);\n   vec2 f_st = fract(_st);\n   float m_dist = 10.;  // minimun distance\n   vec2 m_point;        // minimum point\n   for (int j=-1; j<=1; j++ ) {\n   for (int i=-1; i<=1; i++ ) {\n   vec2 neighbor = vec2(float(i),float(j));\n   vec2 p = i_st + neighbor;\n   vec2 point = fract(sin(vec2(dot(p,vec2(127.1,311.7)),dot(p,vec2(269.5,183.3))))*43758.5453);\n   point = 0.5 + 0.5*sin(time*speed + 6.2831*point);\n   vec2 diff = neighbor + point - f_st;\n   float dist = length(diff);\n   if( dist < m_dist ) {\n   m_dist = dist;\n   m_point = point;\n   }\n   }\n   }\n   // Assign a color using the closest point position\n   color += dot(m_point,vec2(.3,.6));\n   color *= 1.0 - blending*m_dist;\n   return vec4(color, 1.0);" }, { name: "osc", type: "src", inputs: [{ type: "float", name: "frequency", default: 60 }, { type: "float", name: "sync", default: .1 }, { type: "float", name: "offset", default: 0 }], glsl: "   vec2 st = _st;\n   float r = sin((st.x-offset/frequency+time*sync)*frequency)*0.5  + 0.5;\n   float g = sin((st.x+time*sync)*frequency)*0.5 + 0.5;\n   float b = sin((st.x+offset/frequency+time*sync)*frequency)*0.5  + 0.5;\n   return vec4(r, g, b, 1.0);" }, { name: "shape", type: "src", inputs: [{ type: "float", name: "sides", default: 3 }, { type: "float", name: "radius", default: .3 }, { type: "float", name: "smoothing", default: .01 }], glsl: "   vec2 st = _st * 2. - 1.;\n   // Angle and radius from the current pixel\n   float a = atan(st.x,st.y)+3.1416;\n   float r = (2.*3.1416)/sides;\n   float d = cos(floor(.5+a/r)*r-a)*length(st);\n   return vec4(vec3(1.0-smoothstep(radius,radius + smoothing + 0.0000001,d)), 1.0);" }, { name: "gradient", type: "src", inputs: [{ type: "float", name: "speed", default: 0 }], glsl: "   return vec4(_st, sin(time*speed), 1.0);" }, { name: "src", type: "src", inputs: [{ type: "sampler2D", name: "tex", default: NaN }], glsl: "   //  vec2 uv = gl_FragCoord.xy/vec2(1280., 720.);\n   return texture2D(tex, fract(_st));" }, { name: "solid", type: "src", inputs: [{ type: "float", name: "r", default: 0 }, { type: "float", name: "g", default: 0 }, { type: "float", name: "b", default: 0 }, { type: "float", name: "a", default: 1 }], glsl: "   return vec4(r, g, b, a);" }, { name: "rotate", type: "coord", inputs: [{ type: "float", name: "angle", default: 10 }, { type: "float", name: "speed", default: 0 }], glsl: "   vec2 xy = _st - vec2(0.5);\n   float ang = angle + speed *time;\n   xy = mat2(cos(ang),-sin(ang), sin(ang),cos(ang))*xy;\n   xy += 0.5;\n   return xy;" }, { name: "scale", type: "coord", inputs: [{ type: "float", name: "amount", default: 1.5 }, { type: "float", name: "xMult", default: 1 }, { type: "float", name: "yMult", default: 1 }, { type: "float", name: "offsetX", default: .5 }, { type: "float", name: "offsetY", default: .5 }], glsl: "   vec2 xy = _st - vec2(offsetX, offsetY);\n   xy*=(1.0/vec2(amount*xMult, amount*yMult));\n   xy+=vec2(offsetX, offsetY);\n   return xy;\n   " }, { name: "pixelate", type: "coord", inputs: [{ type: "float", name: "pixelX", default: 20 }, { type: "float", name: "pixelY", default: 20 }], glsl: "   vec2 xy = vec2(pixelX, pixelY);\n   return (floor(_st * xy) + 0.5)/xy;" }, { name: "posterize", type: "color", inputs: [{ type: "float", name: "bins", default: 3 }, { type: "float", name: "gamma", default: .6 }], glsl: "   vec4 c2 = pow(_c0, vec4(gamma));\n   c2 *= vec4(bins);\n   c2 = floor(c2);\n   c2/= vec4(bins);\n   c2 = pow(c2, vec4(1.0/gamma));\n   return vec4(c2.xyz, _c0.a);" }, { name: "shift", type: "color", inputs: [{ type: "float", name: "r", default: .5 }, { type: "float", name: "g", default: 0 }, { type: "float", name: "b", default: 0 }, { type: "float", name: "a", default: 0 }], glsl: "   vec4 c2 = vec4(_c0);\n   c2.r = fract(c2.r + r);\n   c2.g = fract(c2.g + g);\n   c2.b = fract(c2.b + b);\n   c2.a = fract(c2.a + a);\n   return vec4(c2.rgba);" }, { name: "repeat", type: "coord", inputs: [{ type: "float", name: "repeatX", default: 3 }, { type: "float", name: "repeatY", default: 3 }, { type: "float", name: "offsetX", default: 0 }, { type: "float", name: "offsetY", default: 0 }], glsl: "   vec2 st = _st * vec2(repeatX, repeatY);\n   st.x += step(1., mod(st.y,2.0)) * offsetX;\n   st.y += step(1., mod(st.x,2.0)) * offsetY;\n   return fract(st);" }, { name: "modulateRepeat", type: "combineCoord", inputs: [{ type: "float", name: "repeatX", default: 3 }, { type: "float", name: "repeatY", default: 3 }, { type: "float", name: "offsetX", default: .5 }, { type: "float", name: "offsetY", default: .5 }], glsl: "   vec2 st = _st * vec2(repeatX, repeatY);\n   st.x += step(1., mod(st.y,2.0)) + _c0.r * offsetX;\n   st.y += step(1., mod(st.x,2.0)) + _c0.g * offsetY;\n   return fract(st);" }, { name: "repeatX", type: "coord", inputs: [{ type: "float", name: "reps", default: 3 }, { type: "float", name: "offset", default: 0 }], glsl: "   vec2 st = _st * vec2(reps, 1.0);\n   //  float f =  mod(_st.y,2.0);\n   st.y += step(1., mod(st.x,2.0))* offset;\n   return fract(st);" }, { name: "modulateRepeatX", type: "combineCoord", inputs: [{ type: "float", name: "reps", default: 3 }, { type: "float", name: "offset", default: .5 }], glsl: "   vec2 st = _st * vec2(reps, 1.0);\n   //  float f =  mod(_st.y,2.0);\n   st.y += step(1., mod(st.x,2.0)) + _c0.r * offset;\n   return fract(st);" }, { name: "repeatY", type: "coord", inputs: [{ type: "float", name: "reps", default: 3 }, { type: "float", name: "offset", default: 0 }], glsl: "   vec2 st = _st * vec2(1.0, reps);\n   //  float f =  mod(_st.y,2.0);\n   st.x += step(1., mod(st.y,2.0))* offset;\n   return fract(st);" }, { name: "modulateRepeatY", type: "combineCoord", inputs: [{ type: "float", name: "reps", default: 3 }, { type: "float", name: "offset", default: .5 }], glsl: "   vec2 st = _st * vec2(reps, 1.0);\n   //  float f =  mod(_st.y,2.0);\n   st.x += step(1., mod(st.y,2.0)) + _c0.r * offset;\n   return fract(st);" }, { name: "kaleid", type: "coord", inputs: [{ type: "float", name: "nSides", default: 4 }], glsl: "   vec2 st = _st;\n   st -= 0.5;\n   float r = length(st);\n   float a = atan(st.y, st.x);\n   float pi = 2.*3.1416;\n   a = mod(a,pi/nSides);\n   a = abs(a-pi/nSides/2.);\n   return r*vec2(cos(a), sin(a));" }, { name: "modulateKaleid", type: "combineCoord", inputs: [{ type: "float", name: "nSides", default: 4 }], glsl: "   vec2 st = _st - 0.5;\n   float r = length(st);\n   float a = atan(st.y, st.x);\n   float pi = 2.*3.1416;\n   a = mod(a,pi/nSides);\n   a = abs(a-pi/nSides/2.);\n   return (_c0.r+r)*vec2(cos(a), sin(a));" }, { name: "scroll", type: "coord", inputs: [{ type: "float", name: "scrollX", default: .5 }, { type: "float", name: "scrollY", default: .5 }, { type: "float", name: "speedX", default: 0 }, { type: "float", name: "speedY", default: 0 }], glsl: "\n   _st.x += scrollX + time*speedX;\n   _st.y += scrollY + time*speedY;\n   return fract(_st);" }, { name: "scrollX", type: "coord", inputs: [{ type: "float", name: "scrollX", default: .5 }, { type: "float", name: "speed", default: 0 }], glsl: "   _st.x += scrollX + time*speed;\n   return fract(_st);" }, { name: "modulateScrollX", type: "combineCoord", inputs: [{ type: "float", name: "scrollX", default: .5 }, { type: "float", name: "speed", default: 0 }], glsl: "   _st.x += _c0.r*scrollX + time*speed;\n   return fract(_st);" }, { name: "scrollY", type: "coord", inputs: [{ type: "float", name: "scrollY", default: .5 }, { type: "float", name: "speed", default: 0 }], glsl: "   _st.y += scrollY + time*speed;\n   return fract(_st);" }, { name: "modulateScrollY", type: "combineCoord", inputs: [{ type: "float", name: "scrollY", default: .5 }, { type: "float", name: "speed", default: 0 }], glsl: "   _st.y += _c0.r*scrollY + time*speed;\n   return fract(_st);" }, { name: "add", type: "combine", inputs: [{ type: "float", name: "amount", default: 1 }], glsl: "   return (_c0+_c1)*amount + _c0*(1.0-amount);" }, { name: "sub", type: "combine", inputs: [{ type: "float", name: "amount", default: 1 }], glsl: "   return (_c0-_c1)*amount + _c0*(1.0-amount);" }, { name: "layer", type: "combine", inputs: [], glsl: "   return vec4(mix(_c0.rgb, _c1.rgb, _c1.a), clamp(_c0.a + _c1.a, 0.0, 1.0));" }, { name: "blend", type: "combine", inputs: [{ type: "float", name: "amount", default: .5 }], glsl: "   return _c0*(1.0-amount)+_c1*amount;" }, { name: "mult", type: "combine", inputs: [{ type: "float", name: "amount", default: 1 }], glsl: "   return _c0*(1.0-amount)+(_c0*_c1)*amount;" }, { name: "diff", type: "combine", inputs: [], glsl: "   return vec4(abs(_c0.rgb-_c1.rgb), max(_c0.a, _c1.a));" }, { name: "modulate", type: "combineCoord", inputs: [{ type: "float", name: "amount", default: .1 }], glsl: "   //  return fract(st+(_c0.xy-0.5)*amount);\n   return _st + _c0.xy*amount;" }, { name: "modulateScale", type: "combineCoord", inputs: [{ type: "float", name: "multiple", default: 1 }, { type: "float", name: "offset", default: 1 }], glsl: "   vec2 xy = _st - vec2(0.5);\n   xy*=(1.0/vec2(offset + multiple*_c0.r, offset + multiple*_c0.g));\n   xy+=vec2(0.5);\n   return xy;" }, { name: "modulatePixelate", type: "combineCoord", inputs: [{ type: "float", name: "multiple", default: 10 }, { type: "float", name: "offset", default: 3 }], glsl: "   vec2 xy = vec2(offset + _c0.x*multiple, offset + _c0.y*multiple);\n   return (floor(_st * xy) + 0.5)/xy;" }, { name: "modulateRotate", type: "combineCoord", inputs: [{ type: "float", name: "multiple", default: 1 }, { type: "float", name: "offset", default: 0 }], glsl: "   vec2 xy = _st - vec2(0.5);\n   float angle = offset + _c0.x * multiple;\n   xy = mat2(cos(angle),-sin(angle), sin(angle),cos(angle))*xy;\n   xy += 0.5;\n   return xy;" }, { name: "modulateHue", type: "combineCoord", inputs: [{ type: "float", name: "amount", default: 1 }], glsl: "   return _st + (vec2(_c0.g - _c0.r, _c0.b - _c0.g) * amount * 1.0/resolution);" }, { name: "invert", type: "color", inputs: [{ type: "float", name: "amount", default: 1 }], glsl: "   return vec4((1.0-_c0.rgb)*amount + _c0.rgb*(1.0-amount), _c0.a);" }, { name: "contrast", type: "color", inputs: [{ type: "float", name: "amount", default: 1.6 }], glsl: "   vec4 c = (_c0-vec4(0.5))*vec4(amount) + vec4(0.5);\n   return vec4(c.rgb, _c0.a);" }, { name: "brightness", type: "color", inputs: [{ type: "float", name: "amount", default: .4 }], glsl: "   return vec4(_c0.rgb + vec3(amount), _c0.a);" }, { name: "mask", type: "combine", inputs: [], glsl: "   float a = _luminance(_c1.rgb);\n  return vec4(_c0.rgb*a, a*_c0.a);" }, { name: "luma", type: "color", inputs: [{ type: "float", name: "threshold", default: .5 }, { type: "float", name: "tolerance", default: .1 }], glsl: "   float a = smoothstep(threshold-(tolerance+0.0000001), threshold+(tolerance+0.0000001), _luminance(_c0.rgb));\n   return vec4(_c0.rgb*a, a);" }, { name: "thresh", type: "color", inputs: [{ type: "float", name: "threshold", default: .5 }, { type: "float", name: "tolerance", default: .04 }], glsl: "   return vec4(vec3(smoothstep(threshold-(tolerance+0.0000001), threshold+(tolerance+0.0000001), _luminance(_c0.rgb))), _c0.a);" }, { name: "color", type: "color", inputs: [{ type: "float", name: "r", default: 1 }, { type: "float", name: "g", default: 1 }, { type: "float", name: "b", default: 1 }, { type: "float", name: "a", default: 1 }], glsl: "   vec4 c = vec4(r, g, b, a);\n   vec4 pos = step(0.0, c); // detect whether negative\n   // if > 0, return r * _c0\n   // if < 0 return (1.0-r) * _c0\n   return vec4(mix((1.0-_c0)*abs(c), c*_c0, pos));" }, { name: "saturate", type: "color", inputs: [{ type: "float", name: "amount", default: 2 }], glsl: "   const vec3 W = vec3(0.2125, 0.7154, 0.0721);\n   vec3 intensity = vec3(dot(_c0.rgb, W));\n   return vec4(mix(intensity, _c0.rgb, amount), _c0.a);" }, { name: "hue", type: "color", inputs: [{ type: "float", name: "hue", default: .4 }], glsl: "   vec3 c = _rgbToHsv(_c0.rgb);\n   c.r += hue;\n   //  c.r = fract(c.r);\n   return vec4(_hsvToRgb(c), _c0.a);" }, { name: "colorama", type: "color", inputs: [{ type: "float", name: "amount", default: .005 }], glsl: "   vec3 c = _rgbToHsv(_c0.rgb);\n   c += vec3(amount);\n   c = _hsvToRgb(c);\n   c = fract(c);\n   return vec4(c, _c0.a);" }, { name: "prev", type: "src", inputs: [], glsl: "   return texture2D(prevBuffer, fract(_st));" }, { name: "sum", type: "color", inputs: [{ type: "vec4", name: "scale", default: 1 }], glsl: "   vec4 v = _c0 * s;\n   return v.r + v.g + v.b + v.a;\n   }\n   float sum(vec2 _st, vec4 s) { // vec4 is not a typo, because argument type is not overloaded\n   vec2 v = _st.xy * s.xy;\n   return v.x + v.y;" }, { name: "r", type: "color", inputs: [{ type: "float", name: "scale", default: 1 }, { type: "float", name: "offset", default: 0 }], glsl: "   return vec4(_c0.r * scale + offset);" }, { name: "g", type: "color", inputs: [{ type: "float", name: "scale", default: 1 }, { type: "float", name: "offset", default: 0 }], glsl: "   return vec4(_c0.g * scale + offset);" }, { name: "b", type: "color", inputs: [{ type: "float", name: "scale", default: 1 }, { type: "float", name: "offset", default: 0 }], glsl: "   return vec4(_c0.b * scale + offset);" }, { name: "a", type: "color", inputs: [{ type: "float", name: "scale", default: 1 }, { type: "float", name: "offset", default: 0 }], glsl: "   return vec4(_c0.a * scale + offset);" }]; class GeneratorFactory { constructor({ defaultUniforms: e, defaultOutput: t, extendTransforms: n = [], changeListener: a = () => { } } = {}) { this.defaultOutput = t, this.defaultUniforms = e, this.changeListener = a, this.extendTransforms = n, this.generators = {}, this.init() } init() { const e = glslFunctions(); return this.glslTransforms = {}, this.generators = Object.entries(this.generators).reduce((e, [t, n]) => (this.changeListener({ type: "remove", synth: this, method: t }), e), {}), this.sourceClass = class extends GlslSource { }, Array.isArray(this.extendTransforms) || "object" == typeof this.extendTransforms && this.extendTransforms.type && e.push(this.extendTransforms), e.map(e => this.setFunction(e)) } _addMethod(e, t) { const n = this; if (this.glslTransforms[e] = t, "src" === t.type) { const a = (...a) => new this.sourceClass({ name: e, transform: t, userArgs: a, defaultOutput: this.defaultOutput, defaultUniforms: this.defaultUniforms, synth: n }); return this.generators[e] = a, this.changeListener({ type: "add", synth: this, method: e }), a } this.sourceClass.prototype[e] = function (...a) { return this.transforms.push({ name: e, transform: t, userArgs: a, synth: n }), this } } setFunction(e) { var t = processGlsl(e); t && this._addMethod(e.name, t) } } const typeLookup = { src: { returnType: "vec4", args: ["vec2 _st"] }, coord: { returnType: "vec2", args: ["vec2 _st"] }, color: { returnType: "vec4", args: ["vec4 _c0"] }, combine: { returnType: "vec4", args: ["vec4 _c0", "vec4 _c1"] }, combineCoord: { returnType: "vec2", args: ["vec2 _st", "vec4 _c0"] } }; function processGlsl(e) { let t = typeLookup[e.type]; if (t) { let n = t.args.map(e => e).join(", "), a = e.inputs.map(e => `${e.type} ${e.name}`).join(", "), r = `${n}${a.length > 0 ? ", " + a : ""}`, s = `\n  ${t.returnType} ${e.name}(${r}) {\n      ${e.glsl}\n  }\n`; return "combine" !== e.type && "combineCoord" !== e.type || e.inputs.unshift({ name: "color", type: "vec4" }), Object.assign({}, e, { glsl: s }) } } var regl$1 = { exports: {} }; regl$1.exports = function () { var t = function (e) { return e instanceof Uint8Array || e instanceof Uint16Array || e instanceof Uint32Array || e instanceof Int8Array || e instanceof Int16Array || e instanceof Int32Array || e instanceof Float32Array || e instanceof Float64Array || e instanceof Uint8ClampedArray }, n = function (e, t) { for (var n = Object.keys(t), a = 0; a < n.length; ++a)e[n[a]] = t[n[a]]; return e }, a = "\n"; function r(e) { return "undefined" != typeof atob ? atob(e) : "base64:" + e } function s(e) { throw new Error("(regl) " + e) } function i(e, t) { e || s(t) } function o(e) { return e ? ": " + e : "" } function l(e, t) { switch (t) { case "number": return "number" == typeof e; case "object": return "object" == typeof e; case "string": return "string" == typeof e; case "boolean": return "boolean" == typeof e; case "function": return "function" == typeof e; case "undefined": return void 0 === e; case "symbol": return "symbol" == typeof e } } function m(e, t, n) { t.indexOf(e) < 0 && s("invalid value" + o(n) + ". must be one of: " + t) } var c = ["gl", "canvas", "container", "attributes", "pixelRatio", "extensions", "optionalExtensions", "profile", "onDone"]; function u(e, t) { for (e += ""; e.length < t;)e = " " + e; return e } function A() { this.name = "unknown", this.lines = [], this.index = {}, this.hasErrors = !1 } function p(e, t) { this.number = e, this.line = t, this.errors = [] } function d(e, t, n) { this.file = e, this.line = t, this.message = n } function _() { var e = new Error, t = (e.stack || e).toString(), n = /compileProcedure.*\n\s*at.*\((.*)\)/.exec(t); if (n) return n[1]; var a = /compileProcedure.*\n\s*at\s+(.*)(\n|$)/.exec(t); return a ? a[1] : "unknown" } function v() { var e = new Error, t = (e.stack || e).toString(), n = /at REGLCommand.*\n\s+at.*\((.*)\)/.exec(t); if (n) return n[1]; var a = /at REGLCommand.*\n\s+at\s+(.*)\n/.exec(t); return a ? a[1] : "unknown" } function h(e, t) { var n = e.split("\n"), a = 1, s = 0, i = { unknown: new A, 0: new A }; i.unknown.name = i[0].name = t || _(), i.unknown.lines.push(new p(0, "")); for (var o = 0; o < n.length; ++o) { var l = n[o], m = /^\s*#\s*(\w+)\s+(.+)\s*$/.exec(l); if (m) switch (m[1]) { case "line": var c = /(\d+)(\s+\d+)?/.exec(m[2]); c && (a = 0 | c[1], c[2] && ((s = 0 | c[2]) in i || (i[s] = new A))); break; case "define": var u = /SHADER_NAME(_B64)?\s+(.*)$/.exec(m[2]); u && (i[s].name = u[1] ? r(u[2]) : u[2]) }i[s].lines.push(new p(a++, l)) } return Object.keys(i).forEach(function (e) { var t = i[e]; t.lines.forEach(function (e) { t.index[e.number] = e }) }), i } function g(e) { e._commandRef = _() } function f(e, t) { var n = v(); s(e + " in command " + (t || _()) + ("unknown" === n ? "" : " called from " + n)) } function b(e, t, n, a) { l(e, t) || f("invalid parameter type" + o(n) + ". expected " + t + ", got " + typeof e, a || _()) } var x = 33071, y = {}; function w(e, t) { return 32820 === e || 32819 === e || 33635 === e ? 2 : 34042 === e ? 4 : y[e] * t } function E(e) { return !(e & e - 1 || !e) } y[5120] = y[5121] = 1, y[5122] = y[5123] = y[36193] = y[33635] = y[32819] = y[32820] = 2, y[5124] = y[5125] = y[5126] = y[34042] = 4; var S = n(i, { optional: function (e) { e() }, raise: s, commandRaise: f, command: function (e, t, n) { e || f(t, n || _()) }, parameter: function (e, t, n) { e in t || s("unknown parameter (" + e + ")" + o(n) + ". possible values: " + Object.keys(t).join()) }, commandParameter: function (e, t, n, a) { e in t || f("unknown parameter (" + e + ")" + o(n) + ". possible values: " + Object.keys(t).join(), a || _()) }, constructor: function (e) { Object.keys(e).forEach(function (e) { c.indexOf(e) < 0 && s('invalid regl constructor argument "' + e + '". must be one of ' + c) }) }, type: function (e, t, n) { l(e, t) || s("invalid parameter type" + o(n) + ". expected " + t + ", got " + typeof e) }, commandType: b, isTypedArray: function (e, n) { t(e) || s("invalid parameter type" + o(n) + ". must be a typed array") }, nni: function (e, t) { e >= 0 && (0 | e) === e || s("invalid parameter type, (" + e + ")" + o(t) + ". must be a nonnegative integer") }, oneOf: m, shaderError: function (e, t, n, r, s) { if (!e.getShaderParameter(t, e.COMPILE_STATUS)) { var o = e.getShaderInfoLog(t), l = r === e.FRAGMENT_SHADER ? "fragment" : "vertex"; b(n, "string", l + " shader source must be a string", s); var m = h(n, s), c = function (e) { var t = []; return e.split("\n").forEach(function (e) { if (!(e.length < 5)) { var n = /^ERROR:\s+(\d+):(\d+):\s*(.*)$/.exec(e); n ? t.push(new d(0 | n[1], 0 | n[2], n[3].trim())) : e.length > 0 && t.push(new d("unknown", 0, e)) } }), t }(o); (function (e, t) { t.forEach(function (t) { var n = e[t.file]; if (n) { var a = n.index[t.line]; if (a) return a.errors.push(t), void (n.hasErrors = !0) } e.unknown.hasErrors = !0, e.unknown.lines[0].errors.push(t) }) })(m, c), Object.keys(m).forEach(function (e) { var t = m[e]; if (t.hasErrors) { var n = [""], r = [""]; s("file number " + e + ": " + t.name + "\n", "color:red;text-decoration:underline;font-weight:bold"), t.lines.forEach(function (e) { if (e.errors.length > 0) { s(u(e.number, 4) + "|  ", "background-color:yellow; font-weight:bold"), s(e.line + a, "color:red; background-color:yellow; font-weight:bold"); var t = 0; e.errors.forEach(function (n) { var r = n.message, i = /^\s*'(.*)'\s*:\s*(.*)$/.exec(r); if (i) { var o = i[1]; r = i[2], "assign" === o && (o = "="), t = Math.max(e.line.indexOf(o, t), 0) } else t = 0; s(u("| ", 6)), s(u("^^^", t + 3) + a, "font-weight:bold"), s(u("| ", 6)), s(r + a, "font-weight:bold") }), s(u("| ", 6) + a) } else s(u(e.number, 4) + "|  "), s(e.line + a, "color:red") }), "undefined" == typeof document || window.chrome || (r[0] = n.join("%c")) } function s(e, t) { n.push(e), r.push(t || "") } }), i.raise("Error compiling " + l + " shader, " + m[0].name) } }, linkError: function (e, t, n, a, r) { if (!e.getProgramParameter(t, e.LINK_STATUS)) { e.getProgramInfoLog(t); var s = h(n, r), o = 'Error linking program with vertex shader, "' + h(a, r)[0].name + '", and fragment shader "' + s[0].name + '"'; i.raise(o) } }, callSite: v, saveCommandRef: g, saveDrawInfo: function (e, t, n, a) { function r(e) { return e ? a.id(e) : 0 } function s(e, t) { Object.keys(t).forEach(function (t) { e[a.id(t)] = !0 }) } g(e), e._fragId = r(e.static.frag), e._vertId = r(e.static.vert); var i = e._uniformSet = {}; s(i, t.static), s(i, t.dynamic); var o = e._attributeSet = {}; s(o, n.static), s(o, n.dynamic), e._hasCount = "count" in e.static || "count" in e.dynamic || "elements" in e.static || "elements" in e.dynamic }, framebufferFormat: function (e, t, n) { e.texture ? m(e.texture._texture.internalformat, t, "unsupported texture format for attachment") : m(e.renderbuffer._renderbuffer.format, n, "unsupported renderbuffer format for attachment") }, guessCommand: _, texture2D: function (e, t, n) { var a, r = t.width, s = t.height, o = t.channels; i(r > 0 && r <= n.maxTextureSize && s > 0 && s <= n.maxTextureSize, "invalid texture shape"), e.wrapS === x && e.wrapT === x || i(E(r) && E(s), "incompatible wrap mode for texture, both width and height must be power of 2"), 1 === t.mipmask ? 1 !== r && 1 !== s && i(9984 !== e.minFilter && 9986 !== e.minFilter && 9985 !== e.minFilter && 9987 !== e.minFilter, "min filter requires mipmap") : (i(E(r) && E(s), "texture must be a square power of 2 to support mipmapping"), i(t.mipmask === (r << 1) - 1, "missing or incomplete mipmap data")), 5126 === t.type && (n.extensions.indexOf("oes_texture_float_linear") < 0 && i(9728 === e.minFilter && 9728 === e.magFilter, "filter not supported, must enable oes_texture_float_linear"), i(!e.genMipmaps, "mipmap generation not supported with float textures")); var l = t.images; for (a = 0; a < 16; ++a)if (l[a]) { var m = r >> a, c = s >> a; i(t.mipmask & 1 << a, "missing mipmap data"); var u = l[a]; if (i(u.width === m && u.height === c, "invalid shape for mip images"), i(u.format === t.format && u.internalformat === t.internalformat && u.type === t.type, "incompatible type for mip image"), u.compressed); else if (u.data) { var A = Math.ceil(w(u.type, o) * m / u.unpackAlignment) * u.unpackAlignment; i(u.data.byteLength === A * c, "invalid data for image, buffer size is inconsistent with image format") } } else e.genMipmaps || i(!(t.mipmask & 1 << a), "extra mipmap data"); t.compressed && i(!e.genMipmaps, "mipmap generation for compressed images not supported") }, textureCube: function (e, t, n, a) { var r = e.width, s = e.height, o = e.channels; i(r > 0 && r <= a.maxTextureSize && s > 0 && s <= a.maxTextureSize, "invalid texture shape"), i(r === s, "cube map must be square"), i(t.wrapS === x && t.wrapT === x, "wrap mode not supported by cube map"); for (var l = 0; l < n.length; ++l) { var m = n[l]; i(m.width === r && m.height === s, "inconsistent cube map face shape"), t.genMipmaps && (i(!m.compressed, "can not generate mipmap for compressed textures"), i(1 === m.mipmask, "can not specify mipmaps and generate mipmaps")); for (var c = m.images, u = 0; u < 16; ++u) { var A = c[u]; if (A) { var p = r >> u, d = s >> u; i(m.mipmask & 1 << u, "missing mipmap data"), i(A.width === p && A.height === d, "invalid shape for mip images"), i(A.format === e.format && A.internalformat === e.internalformat && A.type === e.type, "incompatible type for mip image"), A.compressed || A.data && i(A.data.byteLength === p * d * Math.max(w(A.type, o), A.unpackAlignment), "invalid data for image, buffer size is inconsistent with image format") } } } } }), z = 0; function q(e, t) { this.id = z++, this.type = e, this.data = t } function k(e) { return e.replace(/\\/g, "\\\\").replace(/"/g, '\\"') } function T(e) { if (0 === e.length) return []; var t = e.charAt(0), n = e.charAt(e.length - 1); if (e.length > 1 && t === n && ('"' === t || "'" === t)) return ['"' + k(e.substr(1, e.length - 2)) + '"']; var a = /\[(false|true|null|\d+|'[^']*'|"[^"]*")\]/.exec(e); if (a) return T(e.substr(0, a.index)).concat(T(a[1])).concat(T(e.substr(a.index + a[0].length))); var r = e.split("."); if (1 === r.length) return ['"' + k(e) + '"']; for (var s = [], i = 0; i < r.length; ++i)s = s.concat(T(r[i])); return s } function I(e) { return "[" + T(e).join("][") + "]" } var C = { DynamicVariable: q, define: function (e, t) { return new q(e, I(t + "")) }, isDynamic: function (e) { return "function" == typeof e && !e._reglType || e instanceof q }, unbox: function e(t, n) { return "function" == typeof t ? new q(0, t) : "number" == typeof t || "boolean" == typeof t ? new q(5, t) : Array.isArray(t) ? new q(6, t.map((t, a) => e(t, n + "[" + a + "]"))) : t instanceof q ? t : void S(!1, "invalid option type in uniform " + n) }, accessor: I }, R = { next: "function" == typeof requestAnimationFrame ? function (e) { return requestAnimationFrame(e) } : function (e) { return setTimeout(e, 16) }, cancel: "function" == typeof cancelAnimationFrame ? function (e) { return cancelAnimationFrame(e) } : clearTimeout }, P = "undefined" != typeof performance && performance.now ? function () { return performance.now() } : function () { return +new Date }; function B(e) { return "string" == typeof e ? e.split() : (S(Array.isArray(e), "invalid extension array"), e) } function M(e) { return "string" == typeof e ? (S("undefined" != typeof document, "not supported outside of DOM"), document.querySelector(e)) : e } function U(t) { var a, r, s, i, o, l = t || {}, m = {}, c = [], u = [], A = "undefined" == typeof window ? 1 : window.devicePixelRatio, p = !1, d = function (e) { e && S.raise(e) }, _ = function () { }; if ("string" == typeof l ? (S("undefined" != typeof document, "selector queries only supported in DOM enviroments"), a = document.querySelector(l), S(a, "invalid query string for element")) : "object" == typeof l ? "string" == typeof (o = l).nodeName && "function" == typeof o.appendChild && "function" == typeof o.getBoundingClientRect ? a = l : function (e) { return "function" == typeof e.drawArrays || "function" == typeof e.drawElements }(l) ? s = (i = l).canvas : (S.constructor(l), "gl" in l ? i = l.gl : "canvas" in l ? s = M(l.canvas) : "container" in l && (r = M(l.container)), "attributes" in l && (m = l.attributes, S.type(m, "object", "invalid context attributes")), "extensions" in l && (c = B(l.extensions)), "optionalExtensions" in l && (u = B(l.optionalExtensions)), "onDone" in l && (S.type(l.onDone, "function", "invalid or missing onDone callback"), d = l.onDone), "profile" in l && (p = !!l.profile), "pixelRatio" in l && (A = +l.pixelRatio, S(A > 0, "invalid pixel ratio"))) : S.raise("invalid arguments to regl"), a && ("canvas" === a.nodeName.toLowerCase() ? s = a : r = a), !i) { if (!s) { S("undefined" != typeof document, "must manually specify webgl context outside of DOM environments"); var v = function (e, t, a) { var r, s = document.createElement("canvas"); function i() { var t = window.innerWidth, r = window.innerHeight; if (e !== document.body) { var i = e.getBoundingClientRect(); t = i.right - i.left, r = i.bottom - i.top } s.width = a * t, s.height = a * r, n(s.style, { width: t + "px", height: r + "px" }) } return n(s.style, { border: 0, margin: 0, padding: 0, top: 0, left: 0 }), e.appendChild(s), e === document.body && (s.style.position = "absolute", n(e.style, { margin: 0, padding: 0 })), e !== document.body && "function" == typeof ResizeObserver ? (r = new ResizeObserver(function () { setTimeout(i) })).observe(e) : window.addEventListener("resize", i, !1), i(), { canvas: s, onDestroy: function () { r ? r.disconnect() : window.removeEventListener("resize", i), e.removeChild(s) } } }(r || document.body, 0, A); if (!v) return null; s = v.canvas, _ = v.onDestroy } void 0 === m.premultipliedAlpha && (m.premultipliedAlpha = !0), i = function (t, n) { function a(a) { try { return t.getContext(a, n) } catch (e) { return null } } return a("webgl") || a("experimental-webgl") || a("webgl-experimental") }(s, m) } return i ? { gl: i, canvas: s, container: r, extensions: c, optionalExtensions: u, pixelRatio: A, profile: p, onDone: d, onDestroy: _ } : (_(), d("webgl not supported, try upgrading your browser or graphics drivers http://get.webgl.org"), null) } function D(e, t) { for (var n = Array(e), a = 0; a < e; ++a)n[a] = t(a); return n } function L(e) { var t, n; return t = (e > 65535) << 4, t |= n = ((e >>>= t) > 255) << 3, t |= n = ((e >>>= n) > 15) << 2, (t |= n = ((e >>>= n) > 3) << 1) | (e >>>= n) >> 1 } function N() { var e = D(8, function () { return [] }); function t(t) { var n = function (e) { for (var t = 16; t <= 1 << 28; t *= 16)if (e <= t) return t; return 0 }(t), a = e[L(n) >> 2]; return a.length > 0 ? a.pop() : new ArrayBuffer(n) } function n(t) { e[L(t.byteLength) >> 2].push(t) } return { alloc: t, free: n, allocType: function (e, n) { var a = null; switch (e) { case 5120: a = new Int8Array(t(n), 0, n); break; case 5121: a = new Uint8Array(t(n), 0, n); break; case 5122: a = new Int16Array(t(2 * n), 0, n); break; case 5123: a = new Uint16Array(t(2 * n), 0, n); break; case 5124: a = new Int32Array(t(4 * n), 0, n); break; case 5125: a = new Uint32Array(t(4 * n), 0, n); break; case 5126: a = new Float32Array(t(4 * n), 0, n); break; default: return null }return a.length !== n ? a.subarray(0, n) : a }, freeType: function (e) { n(e.buffer) } } } var F = N(); F.zero = N(); var O = 3553, V = 6408, Q = 5126, j = 36160; function G(e) { return !!e && "object" == typeof e && Array.isArray(e.shape) && Array.isArray(e.stride) && "number" == typeof e.offset && e.shape.length === e.stride.length && (Array.isArray(e.data) || t(e.data)) } var H = function (e) { return Object.keys(e).map(function (t) { return e[t] }) }, Y = { shape: function (e) { for (var t = [], n = e; n.length; n = n[0])t.push(n.length); return t }, flatten: function (e, t, n, a) { var r = 1; if (t.length) for (var s = 0; s < t.length; ++s)r *= t[s]; else r = 0; var i = a || F.allocType(n, r); switch (t.length) { case 0: break; case 1: !function (e, t, n) { for (var a = 0; a < t; ++a)n[a] = e[a] }(e, t[0], i); break; case 2: !function (e, t, n, a) { for (var r = 0, s = 0; s < t; ++s)for (var i = e[s], o = 0; o < n; ++o)a[r++] = i[o] }(e, t[0], t[1], i); break; case 3: W(e, t[0], t[1], t[2], i, 0); break; default: K(e, t, 0, i, 0) }return i } }; function W(e, t, n, a, r, s) { for (var i = s, o = 0; o < t; ++o)for (var l = e[o], m = 0; m < n; ++m)for (var c = l[m], u = 0; u < a; ++u)r[i++] = c[u] } function K(e, t, n, a, r) { for (var s = 1, i = n + 1; i < t.length; ++i)s *= t[i]; var o = t[n]; if (t.length - n === 4) { var l = t[n + 1], m = t[n + 2], c = t[n + 3]; for (i = 0; i < o; ++i)W(e[i], l, m, c, a, r), r += s } else for (i = 0; i < o; ++i)K(e[i], t, n + 1, a, r), r += s } var J = { "[object Int8Array]": 5120, "[object Int16Array]": 5122, "[object Int32Array]": 5124, "[object Uint8Array]": 5121, "[object Uint8ClampedArray]": 5121, "[object Uint16Array]": 5123, "[object Uint32Array]": 5125, "[object Float32Array]": 5126, "[object Float64Array]": 5121, "[object ArrayBuffer]": 5121 }, X = { int8: 5120, int16: 5122, int32: 5124, uint8: 5121, uint16: 5123, uint32: 5125, float: 5126, float32: 5126 }, Z = { dynamic: 35048, stream: 35040, static: 35044 }, $ = Y.flatten, ee = Y.shape, te = 5121, ne = 5126, ae = []; function re(e) { return 0 | J[Object.prototype.toString.call(e)] } function se(e, t) { for (var n = 0; n < t.length; ++n)e[n] = t[n] } function ie(e, t, n, a, r, s, i) { for (var o = 0, l = 0; l < n; ++l)for (var m = 0; m < a; ++m)e[o++] = t[r * l + s * m + i] } ae[5120] = 1, ae[5122] = 2, ae[5124] = 4, ae[5121] = 1, ae[5123] = 2, ae[5125] = 4, ae[5126] = 4; var oe = { points: 0, point: 0, lines: 1, line: 1, triangles: 4, triangle: 4, "line loop": 2, "line strip": 3, "triangle strip": 5, "triangle fan": 6 }, le = 5121, me = 5123, ce = 5125, ue = 34963; var Ae = new Float32Array(1), pe = new Uint32Array(Ae.buffer); function de(e) { for (var t = F.allocType(5123, e.length), n = 0; n < e.length; ++n)if (isNaN(e[n])) t[n] = 65535; else if (e[n] === 1 / 0) t[n] = 31744; else if (e[n] === -1 / 0) t[n] = 64512; else { Ae[0] = e[n]; var a = pe[0], r = a >>> 31 << 15, s = (a << 1 >>> 24) - 127, i = a >> 13 & 1023; if (s < -24) t[n] = r; else if (s < -14) { var o = -14 - s; t[n] = r + (i + 1024 >> o) } else t[n] = s > 15 ? r + 31744 : r + (s + 15 << 10) + i } return t } function _e(e) { return Array.isArray(e) || t(e) } var ve = function (e) { return !(e & e - 1 || !e) }, he = 3553, ge = 34067, fe = 34069, be = 6408, xe = 6406, ye = 6407, we = 6409, Ee = 6410, Se = 32855, ze = 6402, qe = 34041, ke = 35904, Te = 35906, Ie = 36193, Ce = 33776, Re = 33777, Pe = 33778, Be = 33779, Me = 5121, Ue = 5123, De = 5125, Le = 5126, Ne = 33071, Fe = 9728, Oe = 9984, Ve = 9987, Qe = 4352, je = 33984, Ge = [Oe, 9986, 9985, Ve], He = [0, we, Ee, ye, be], Ye = {}; function We(e) { return "[object " + e + "]" } Ye[6409] = Ye[6406] = Ye[6402] = 1, Ye[34041] = Ye[6410] = 2, Ye[6407] = Ye[35904] = 3, Ye[6408] = Ye[35906] = 4; var Ke = We("HTMLCanvasElement"), Je = We("OffscreenCanvas"), Xe = We("CanvasRenderingContext2D"), Ze = We("ImageBitmap"), $e = We("HTMLImageElement"), et = We("HTMLVideoElement"), tt = Object.keys(J).concat([Ke, Je, Xe, Ze, $e, et]), nt = []; nt[5121] = 1, nt[5126] = 4, nt[36193] = 2, nt[5123] = 2, nt[5125] = 4; var at = []; function rt(e) { return Array.isArray(e) && (0 === e.length || "number" == typeof e[0]) } function st(e) { return !!Array.isArray(e) && !(0 === e.length || !_e(e[0])) } function it(e) { return Object.prototype.toString.call(e) } function ot(e) { return it(e) === Ke } function lt(e) { return it(e) === Je } function mt(e) { if (!e) return !1; var t = it(e); return tt.indexOf(t) >= 0 || rt(e) || st(e) || G(e) } function ct(e) { return 0 | J[Object.prototype.toString.call(e)] } function ut(e, t) { return F.allocType(e.type === Ie ? Le : e.type, t) } function At(e, t) { e.type === Ie ? (e.data = de(t), F.freeType(t)) : e.data = t } function pt(e, t, n, a, r, s) { var i; if (i = void 0 !== at[e] ? at[e] : Ye[e] * nt[t], s && (i *= 6), r) { for (var o = 0, l = n; l >= 1;)o += i * l * l, l /= 2; return o } return i * n * a } function dt(e, a, r, s, i, o, l) { var m = { "don't care": Qe, "dont care": Qe, nice: 4354, fast: 4353 }, c = { repeat: 10497, clamp: Ne, mirror: 33648 }, u = { nearest: Fe, linear: 9729 }, A = n({ mipmap: Ve, "nearest mipmap nearest": Oe, "linear mipmap nearest": 9985, "nearest mipmap linear": 9986, "linear mipmap linear": Ve }, u), p = { none: 0, browser: 37444 }, d = { uint8: Me, rgba4: 32819, rgb565: 33635, "rgb5 a1": 32820 }, _ = { alpha: xe, luminance: we, "luminance alpha": Ee, rgb: ye, rgba: be, rgba4: 32854, "rgb5 a1": Se, rgb565: 36194 }, v = {}; a.ext_srgb && (_.srgb = ke, _.srgba = Te), a.oes_texture_float && (d.float32 = d.float = Le), a.oes_texture_half_float && (d.float16 = d["half float"] = Ie), a.webgl_depth_texture && (n(_, { depth: ze, "depth stencil": qe }), n(d, { uint16: Ue, uint32: De, "depth stencil": 34042 })), a.webgl_compressed_texture_s3tc && n(v, { "rgb s3tc dxt1": Ce, "rgba s3tc dxt1": Re, "rgba s3tc dxt3": Pe, "rgba s3tc dxt5": Be }), a.webgl_compressed_texture_atc && n(v, { "rgb atc": 35986, "rgba atc explicit alpha": 35987, "rgba atc interpolated alpha": 34798 }), a.webgl_compressed_texture_pvrtc && n(v, { "rgb pvrtc 4bppv1": 35840, "rgb pvrtc 2bppv1": 35841, "rgba pvrtc 4bppv1": 35842, "rgba pvrtc 2bppv1": 35843 }), a.webgl_compressed_texture_etc1 && (v["rgb etc1"] = 36196); var h = Array.prototype.slice.call(e.getParameter(34467)); Object.keys(v).forEach(function (e) { var t = v[e]; h.indexOf(t) >= 0 && (_[e] = t) }); var g = Object.keys(_); r.textureFormats = g; var f = []; Object.keys(_).forEach(function (e) { var t = _[e]; f[t] = e }); var b = []; Object.keys(d).forEach(function (e) { var t = d[e]; b[t] = e }); var x = []; Object.keys(u).forEach(function (e) { x[u[e]] = e }); var y = []; Object.keys(A).forEach(function (e) { var t = A[e]; y[t] = e }); var w = []; Object.keys(c).forEach(function (e) { w[c[e]] = e }); var E = g.reduce(function (e, t) { var n = _[t]; return n === we || n === xe || n === we || n === Ee || n === ze || n === qe || a.ext_srgb && (n === ke || n === Te) ? e[n] = n : n === Se || t.indexOf("rgba") >= 0 ? e[n] = be : e[n] = ye, e }, {}); function z() { this.internalformat = be, this.format = be, this.type = Me, this.compressed = !1, this.premultiplyAlpha = !1, this.flipY = !1, this.unpackAlignment = 1, this.colorSpace = 37444, this.width = 0, this.height = 0, this.channels = 0 } function q(e, t) { e.internalformat = t.internalformat, e.format = t.format, e.type = t.type, e.compressed = t.compressed, e.premultiplyAlpha = t.premultiplyAlpha, e.flipY = t.flipY, e.unpackAlignment = t.unpackAlignment, e.colorSpace = t.colorSpace, e.width = t.width, e.height = t.height, e.channels = t.channels } function k(e, t) { if ("object" == typeof t && t) { if ("premultiplyAlpha" in t && (S.type(t.premultiplyAlpha, "boolean", "invalid premultiplyAlpha"), e.premultiplyAlpha = t.premultiplyAlpha), "flipY" in t && (S.type(t.flipY, "boolean", "invalid texture flip"), e.flipY = t.flipY), "alignment" in t && (S.oneOf(t.alignment, [1, 2, 4, 8], "invalid texture unpack alignment"), e.unpackAlignment = t.alignment), "colorSpace" in t && (S.parameter(t.colorSpace, p, "invalid colorSpace"), e.colorSpace = p[t.colorSpace]), "type" in t) { var n = t.type; S(a.oes_texture_float || !("float" === n || "float32" === n), "you must enable the OES_texture_float extension in order to use floating point textures."), S(a.oes_texture_half_float || !("half float" === n || "float16" === n), "you must enable the OES_texture_half_float extension in order to use 16-bit floating point textures."), S(a.webgl_depth_texture || !("uint16" === n || "uint32" === n || "depth stencil" === n), "you must enable the WEBGL_depth_texture extension in order to use depth/stencil textures."), S.parameter(n, d, "invalid texture type"), e.type = d[n] } var s = e.width, i = e.height, o = e.channels, l = !1; "shape" in t ? (S(Array.isArray(t.shape) && t.shape.length >= 2, "shape must be an array"), s = t.shape[0], i = t.shape[1], 3 === t.shape.length && (o = t.shape[2], S(o > 0 && o <= 4, "invalid number of channels"), l = !0), S(s >= 0 && s <= r.maxTextureSize, "invalid width"), S(i >= 0 && i <= r.maxTextureSize, "invalid height")) : ("radius" in t && (s = i = t.radius, S(s >= 0 && s <= r.maxTextureSize, "invalid radius")), "width" in t && (s = t.width, S(s >= 0 && s <= r.maxTextureSize, "invalid width")), "height" in t && (i = t.height, S(i >= 0 && i <= r.maxTextureSize, "invalid height")), "channels" in t && (o = t.channels, S(o > 0 && o <= 4, "invalid number of channels"), l = !0)), e.width = 0 | s, e.height = 0 | i, e.channels = 0 | o; var m = !1; if ("format" in t) { var c = t.format; S(a.webgl_depth_texture || !("depth" === c || "depth stencil" === c), "you must enable the WEBGL_depth_texture extension in order to use depth/stencil textures."), S.parameter(c, _, "invalid texture format"); var u = e.internalformat = _[c]; e.format = E[u], c in d && ("type" in t || (e.type = d[c])), c in v && (e.compressed = !0), m = !0 } !l && m ? e.channels = Ye[e.format] : l && !m ? e.channels !== He[e.format] && (e.format = e.internalformat = He[e.channels]) : m && l && S(e.channels === Ye[e.format], "number of channels inconsistent with specified format") } } function T(t) { e.pixelStorei(37440, t.flipY), e.pixelStorei(37441, t.premultiplyAlpha), e.pixelStorei(37443, t.colorSpace), e.pixelStorei(3317, t.unpackAlignment) } function I() { z.call(this), this.xOffset = 0, this.yOffset = 0, this.data = null, this.needsFree = !1, this.element = null, this.needsCopy = !1 } function C(e, n) { var a = null; if (mt(n) ? a = n : n && (S.type(n, "object", "invalid pixel data type"), k(e, n), "x" in n && (e.xOffset = 0 | n.x), "y" in n && (e.yOffset = 0 | n.y), mt(n.data) && (a = n.data)), S(!e.compressed || a instanceof Uint8Array, "compressed texture data must be stored in a uint8array"), n.copy) { S(!a, "can not specify copy and data field for the same texture"); var s = i.viewportWidth, o = i.viewportHeight; e.width = e.width || s - e.xOffset, e.height = e.height || o - e.yOffset, e.needsCopy = !0, S(e.xOffset >= 0 && e.xOffset < s && e.yOffset >= 0 && e.yOffset < o && e.width > 0 && e.width <= s && e.height > 0 && e.height <= o, "copy texture read out of bounds") } else if (a) { if (t(a)) e.channels = e.channels || 4, e.data = a, "type" in n || e.type !== Me || (e.type = ct(a)); else if (rt(a)) e.channels = e.channels || 4, function (e, t) { var n = t.length; switch (e.type) { case Me: case Ue: case De: case Le: var a = F.allocType(e.type, n); a.set(t), e.data = a; break; case Ie: e.data = de(t); break; default: S.raise("unsupported texture type, must specify a typed array") } }(e, a), e.alignment = 1, e.needsFree = !0; else if (G(a)) { var l = a.data; Array.isArray(l) || e.type !== Me || (e.type = ct(l)); var m, c, u, A, p, d, _ = a.shape, v = a.stride; 3 === _.length ? (u = _[2], d = v[2]) : (S(2 === _.length, "invalid ndarray pixel data, must be 2 or 3D"), u = 1, d = 1), m = _[0], c = _[1], A = v[0], p = v[1], e.alignment = 1, e.width = m, e.height = c, e.channels = u, e.format = e.internalformat = He[u], e.needsFree = !0, function (e, t, n, a, r, s) { for (var i = e.width, o = e.height, l = e.channels, m = ut(e, i * o * l), c = 0, u = 0; u < o; ++u)for (var A = 0; A < i; ++A)for (var p = 0; p < l; ++p)m[c++] = t[n * A + a * u + r * p + s]; At(e, m) }(e, l, A, p, d, a.offset) } else if (ot(a) || lt(a) || it(a) === Xe) ot(a) || lt(a) ? e.element = a : e.element = a.canvas, e.width = e.element.width, e.height = e.element.height, e.channels = 4; else if (function (e) { return it(e) === Ze }(a)) e.element = a, e.width = a.width, e.height = a.height, e.channels = 4; else if (function (e) { return it(e) === $e }(a)) e.element = a, e.width = a.naturalWidth, e.height = a.naturalHeight, e.channels = 4; else if (function (e) { return it(e) === et }(a)) e.element = a, e.width = a.videoWidth, e.height = a.videoHeight, e.channels = 4; else if (st(a)) { var h = e.width || a[0].length, g = e.height || a.length, f = e.channels; f = _e(a[0][0]) ? f || a[0][0].length : f || 1; for (var b = Y.shape(a), x = 1, y = 0; y < b.length; ++y)x *= b[y]; var w = ut(e, x); Y.flatten(a, b, "", w), At(e, w), e.alignment = 1, e.width = h, e.height = g, e.channels = f, e.format = e.internalformat = He[f], e.needsFree = !0 } } else e.width = e.width || 1, e.height = e.height || 1, e.channels = e.channels || 4; e.type === Le ? S(r.extensions.indexOf("oes_texture_float") >= 0, "oes_texture_float extension not enabled") : e.type === Ie && S(r.extensions.indexOf("oes_texture_half_float") >= 0, "oes_texture_half_float extension not enabled") } function R(t, n, a) { var r = t.element, i = t.data, o = t.internalformat, l = t.format, m = t.type, c = t.width, u = t.height; T(t), r ? e.texImage2D(n, a, l, l, m, r) : t.compressed ? e.compressedTexImage2D(n, a, o, c, u, 0, i) : t.needsCopy ? (s(), e.copyTexImage2D(n, a, l, t.xOffset, t.yOffset, c, u, 0)) : e.texImage2D(n, a, l, c, u, 0, l, m, i || null) } function P(t, n, a, r, i) { var o = t.element, l = t.data, m = t.internalformat, c = t.format, u = t.type, A = t.width, p = t.height; T(t), o ? e.texSubImage2D(n, i, a, r, c, u, o) : t.compressed ? e.compressedTexSubImage2D(n, i, a, r, m, A, p, l) : t.needsCopy ? (s(), e.copyTexSubImage2D(n, i, a, r, t.xOffset, t.yOffset, A, p)) : e.texSubImage2D(n, i, a, r, A, p, c, u, l) } var B = []; function M() { return B.pop() || new I } function U(e) { e.needsFree && F.freeType(e.data), I.call(e), B.push(e) } function D() { z.call(this), this.genMipmaps = !1, this.mipmapHint = Qe, this.mipmask = 0, this.images = Array(16) } function L(e, t, n) { var a = e.images[0] = M(); e.mipmask = 1, a.width = e.width = t, a.height = e.height = n, a.channels = e.channels = 4 } function N(e, t) { var n = null; if (mt(t)) q(n = e.images[0] = M(), e), C(n, t), e.mipmask = 1; else if (k(e, t), Array.isArray(t.mipmap)) for (var a = t.mipmap, r = 0; r < a.length; ++r)q(n = e.images[r] = M(), e), n.width >>= r, n.height >>= r, C(n, a[r]), e.mipmask |= 1 << r; else q(n = e.images[0] = M(), e), C(n, t), e.mipmask = 1; q(e, e.images[0]), !e.compressed || e.internalformat !== Ce && e.internalformat !== Re && e.internalformat !== Pe && e.internalformat !== Be || S(e.width % 4 == 0 && e.height % 4 == 0, "for compressed texture formats, mipmap level 0 must have width and height that are a multiple of 4") } function O(e, t) { for (var n = e.images, a = 0; a < n.length; ++a) { if (!n[a]) return; R(n[a], t, a) } } var V = []; function Q() { var e = V.pop() || new D; z.call(e), e.mipmask = 0; for (var t = 0; t < 16; ++t)e.images[t] = null; return e } function j(e) { for (var t = e.images, n = 0; n < t.length; ++n)t[n] && U(t[n]), t[n] = null; V.push(e) } function W() { this.minFilter = Fe, this.magFilter = Fe, this.wrapS = Ne, this.wrapT = Ne, this.anisotropic = 1, this.genMipmaps = !1, this.mipmapHint = Qe } function K(e, t) { if ("min" in t) { var n = t.min; S.parameter(n, A), e.minFilter = A[n], Ge.indexOf(e.minFilter) >= 0 && !("faces" in t) && (e.genMipmaps = !0) } if ("mag" in t) { var a = t.mag; S.parameter(a, u), e.magFilter = u[a] } var s = e.wrapS, i = e.wrapT; if ("wrap" in t) { var o = t.wrap; "string" == typeof o ? (S.parameter(o, c), s = i = c[o]) : Array.isArray(o) && (S.parameter(o[0], c), S.parameter(o[1], c), s = c[o[0]], i = c[o[1]]) } else { if ("wrapS" in t) { var l = t.wrapS; S.parameter(l, c), s = c[l] } if ("wrapT" in t) { var p = t.wrapT; S.parameter(p, c), i = c[p] } } if (e.wrapS = s, e.wrapT = i, "anisotropic" in t) { var d = t.anisotropic; S("number" == typeof d && d >= 1 && d <= r.maxAnisotropic, "aniso samples must be between 1 and "), e.anisotropic = t.anisotropic } if ("mipmap" in t) { var _ = !1; switch (typeof t.mipmap) { case "string": S.parameter(t.mipmap, m, "invalid mipmap hint"), e.mipmapHint = m[t.mipmap], e.genMipmaps = !0, _ = !0; break; case "boolean": _ = e.genMipmaps = t.mipmap; break; case "object": S(Array.isArray(t.mipmap), "invalid mipmap type"), e.genMipmaps = !1, _ = !0; break; default: S.raise("invalid mipmap type") }_ && !("min" in t) && (e.minFilter = Oe) } } function J(t, n) { e.texParameteri(n, 10241, t.minFilter), e.texParameteri(n, 10240, t.magFilter), e.texParameteri(n, 10242, t.wrapS), e.texParameteri(n, 10243, t.wrapT), a.ext_texture_filter_anisotropic && e.texParameteri(n, 34046, t.anisotropic), t.genMipmaps && (e.hint(33170, t.mipmapHint), e.generateMipmap(n)) } var X = 0, Z = {}, $ = r.maxTextureUnits, ee = Array($).map(function () { return null }); function te(t) { z.call(this), this.mipmask = 0, this.internalformat = be, this.id = X++, this.refCount = 1, this.target = t, this.texture = e.createTexture(), this.unit = -1, this.bindCount = 0, this.texInfo = new W, l.profile && (this.stats = { size: 0 }) } function ne(t) { e.activeTexture(je), e.bindTexture(t.target, t.texture) } function ae() { var t = ee[0]; t ? e.bindTexture(t.target, t.texture) : e.bindTexture(he, null) } function re(t) { var n = t.texture; S(n, "must not double destroy texture"); var a = t.unit, r = t.target; a >= 0 && (e.activeTexture(je + a), e.bindTexture(r, null), ee[a] = null), e.deleteTexture(n), t.texture = null, t.params = null, t.pixels = null, t.refCount = 0, delete Z[t.id], o.textureCount-- } return n(te.prototype, { bind: function () { var t = this; t.bindCount += 1; var n = t.unit; if (n < 0) { for (var a = 0; a < $; ++a) { var r = ee[a]; if (r) { if (r.bindCount > 0) continue; r.unit = -1 } ee[a] = t, n = a; break } n >= $ && S.raise("insufficient number of texture units"), l.profile && o.maxTextureUnits < n + 1 && (o.maxTextureUnits = n + 1), t.unit = n, e.activeTexture(je + n), e.bindTexture(t.target, t.texture) } return n }, unbind: function () { this.bindCount -= 1 }, decRef: function () { --this.refCount <= 0 && re(this) } }), l.profile && (o.getTotalTextureSize = function () { var e = 0; return Object.keys(Z).forEach(function (t) { e += Z[t].stats.size }), e }), { create2D: function (t, n) { var a = new te(he); function s(e, t) { var n = a.texInfo; W.call(n); var i = Q(); return "number" == typeof e ? L(i, 0 | e, "number" == typeof t ? 0 | t : 0 | e) : e ? (S.type(e, "object", "invalid arguments to regl.texture"), K(n, e), N(i, e)) : L(i, 1, 1), n.genMipmaps && (i.mipmask = (i.width << 1) - 1), a.mipmask = i.mipmask, q(a, i), S.texture2D(n, i, r), a.internalformat = i.internalformat, s.width = i.width, s.height = i.height, ne(a), O(i, he), J(n, he), ae(), j(i), l.profile && (a.stats.size = pt(a.internalformat, a.type, i.width, i.height, n.genMipmaps, !1)), s.format = f[a.internalformat], s.type = b[a.type], s.mag = x[n.magFilter], s.min = y[n.minFilter], s.wrapS = w[n.wrapS], s.wrapT = w[n.wrapT], s } return Z[a.id] = a, o.textureCount++, s(t, n), s.subimage = function (e, t, n, r) { S(!!e, "must specify image data"); var i = 0 | t, o = 0 | n, l = 0 | r, m = M(); return q(m, a), m.width = 0, m.height = 0, C(m, e), m.width = m.width || (a.width >> l) - i, m.height = m.height || (a.height >> l) - o, S(a.type === m.type && a.format === m.format && a.internalformat === m.internalformat, "incompatible format for texture.subimage"), S(i >= 0 && o >= 0 && i + m.width <= a.width && o + m.height <= a.height, "texture.subimage write out of bounds"), S(a.mipmask & 1 << l, "missing mipmap data"), S(m.data || m.element || m.needsCopy, "missing image data"), ne(a), P(m, he, i, o, l), ae(), U(m), s }, s.resize = function (t, n) { var r = 0 | t, i = 0 | n || r; if (r === a.width && i === a.height) return s; s.width = a.width = r, s.height = a.height = i, ne(a); for (var o = 0; a.mipmask >> o; ++o) { var m = r >> o, c = i >> o; if (!m || !c) break; e.texImage2D(he, o, a.format, m, c, 0, a.format, a.type, null) } return ae(), l.profile && (a.stats.size = pt(a.internalformat, a.type, r, i, !1, !1)), s }, s._reglType = "texture2d", s._texture = a, l.profile && (s.stats = a.stats), s.destroy = function () { a.decRef() }, s }, createCube: function (t, n, a, s, i, m) { var c = new te(ge); Z[c.id] = c, o.cubeCount++; var u = new Array(6); function A(e, t, n, a, s, i) { var o, m = c.texInfo; for (W.call(m), o = 0; o < 6; ++o)u[o] = Q(); if ("number" != typeof e && e) if ("object" == typeof e) if (t) N(u[0], e), N(u[1], t), N(u[2], n), N(u[3], a), N(u[4], s), N(u[5], i); else if (K(m, e), k(c, e), "faces" in e) { var p = e.faces; for (S(Array.isArray(p) && 6 === p.length, "cube faces must be a length 6 array"), o = 0; o < 6; ++o)S("object" == typeof p[o] && !!p[o], "invalid input for cube map face"), q(u[o], c), N(u[o], p[o]) } else for (o = 0; o < 6; ++o)N(u[o], e); else S.raise("invalid arguments to cube map"); else { var d = 0 | e || 1; for (o = 0; o < 6; ++o)L(u[o], d, d) } for (q(c, u[0]), r.npotTextureCube || S(ve(c.width) && ve(c.height), "your browser does not support non power or two texture dimensions"), m.genMipmaps ? c.mipmask = (u[0].width << 1) - 1 : c.mipmask = u[0].mipmask, S.textureCube(c, m, u, r), c.internalformat = u[0].internalformat, A.width = u[0].width, A.height = u[0].height, ne(c), o = 0; o < 6; ++o)O(u[o], fe + o); for (J(m, ge), ae(), l.profile && (c.stats.size = pt(c.internalformat, c.type, A.width, A.height, m.genMipmaps, !0)), A.format = f[c.internalformat], A.type = b[c.type], A.mag = x[m.magFilter], A.min = y[m.minFilter], A.wrapS = w[m.wrapS], A.wrapT = w[m.wrapT], o = 0; o < 6; ++o)j(u[o]); return A } return A(t, n, a, s, i, m), A.subimage = function (e, t, n, a, r) { S(!!t, "must specify image data"), S("number" == typeof e && e === (0 | e) && e >= 0 && e < 6, "invalid face"); var s = 0 | n, i = 0 | a, o = 0 | r, l = M(); return q(l, c), l.width = 0, l.height = 0, C(l, t), l.width = l.width || (c.width >> o) - s, l.height = l.height || (c.height >> o) - i, S(c.type === l.type && c.format === l.format && c.internalformat === l.internalformat, "incompatible format for texture.subimage"), S(s >= 0 && i >= 0 && s + l.width <= c.width && i + l.height <= c.height, "texture.subimage write out of bounds"), S(c.mipmask & 1 << o, "missing mipmap data"), S(l.data || l.element || l.needsCopy, "missing image data"), ne(c), P(l, fe + e, s, i, o), ae(), U(l), A }, A.resize = function (t) { var n = 0 | t; if (n !== c.width) { A.width = c.width = n, A.height = c.height = n, ne(c); for (var a = 0; a < 6; ++a)for (var r = 0; c.mipmask >> r; ++r)e.texImage2D(fe + a, r, c.format, n >> r, n >> r, 0, c.format, c.type, null); return ae(), l.profile && (c.stats.size = pt(c.internalformat, c.type, A.width, A.height, !1, !0)), A } }, A._reglType = "textureCube", A._texture = c, l.profile && (A.stats = c.stats), A.destroy = function () { c.decRef() }, A }, clear: function () { for (var t = 0; t < $; ++t)e.activeTexture(je + t), e.bindTexture(he, null), ee[t] = null; H(Z).forEach(re), o.cubeCount = 0, o.textureCount = 0 }, getTexture: function (e) { return null }, restore: function () { for (var t = 0; t < $; ++t) { var n = ee[t]; n && (n.bindCount = 0, n.unit = -1, ee[t] = null) } H(Z).forEach(function (t) { t.texture = e.createTexture(), e.bindTexture(t.target, t.texture); for (var n = 0; n < 32; ++n)if (t.mipmask & 1 << n) if (t.target === he) e.texImage2D(he, n, t.internalformat, t.width >> n, t.height >> n, 0, t.internalformat, t.type, null); else for (var a = 0; a < 6; ++a)e.texImage2D(fe + a, n, t.internalformat, t.width >> n, t.height >> n, 0, t.internalformat, t.type, null); J(t.texInfo, t.target) }) }, refresh: function () { for (var t = 0; t < $; ++t) { var n = ee[t]; n && (n.bindCount = 0, n.unit = -1, ee[t] = null), e.activeTexture(je + t), e.bindTexture(he, null), e.bindTexture(ge, null) } } } } at[32854] = 2, at[32855] = 2, at[36194] = 2, at[34041] = 4, at[33776] = .5, at[33777] = .5, at[33778] = 1, at[33779] = 1, at[35986] = .5, at[35987] = 1, at[34798] = 1, at[35840] = .5, at[35841] = .25, at[35842] = .5, at[35843] = .25, at[36196] = .5; var _t = 36161, vt = 32854, ht = []; function gt(e, t, n) { return ht[e] * t * n } ht[32854] = 2, ht[32855] = 2, ht[36194] = 2, ht[33189] = 2, ht[36168] = 1, ht[34041] = 4, ht[35907] = 4, ht[34836] = 16, ht[34842] = 8, ht[34843] = 6; var ft = 36160, bt = 36161, xt = 3553, yt = 34069, wt = [6407, 6408], Et = []; Et[6408] = 4, Et[6407] = 3; var St = []; St[5121] = 1, St[5126] = 4, St[36193] = 2; var zt = [32854, 32855, 36194, 35907, 34842, 34843, 34836], qt = {}; qt[36053] = "complete", qt[36054] = "incomplete attachment", qt[36057] = "incomplete dimensions", qt[36055] = "incomplete, missing attachment", qt[36061] = "unsupported"; function kt() { this.state = 0, this.x = 0, this.y = 0, this.z = 0, this.w = 0, this.buffer = null, this.size = 0, this.normalized = !1, this.type = 5126, this.offset = 0, this.stride = 0, this.divisor = 0 } var Tt = 5121, It = 5126; function Ct(e, n, a, r, s, i, o) { function l(l) { var m; null === n.next ? (S(s.preserveDrawingBuffer, 'you must create a webgl context with "preserveDrawingBuffer":true in order to read pixels from the drawing buffer'), m = Tt) : (S(null !== n.next.colorAttachments[0].texture, "You cannot read from a renderbuffer"), m = n.next.colorAttachments[0].texture._texture.type, i.oes_texture_float ? (S(m === Tt || m === It, "Reading from a framebuffer is only allowed for the types 'uint8' and 'float'"), m === It && S(o.readFloat, "Reading 'float' values is not permitted in your browser. For a fallback, please see: https://www.npmjs.com/package/glsl-read-float")) : S(m === Tt, "Reading from a framebuffer is only allowed for the type 'uint8'")); var c = 0, u = 0, A = r.framebufferWidth, p = r.framebufferHeight, d = null; t(l) ? d = l : l && (S.type(l, "object", "invalid arguments to regl.read()"), c = 0 | l.x, u = 0 | l.y, S(c >= 0 && c < r.framebufferWidth, "invalid x offset for regl.read"), S(u >= 0 && u < r.framebufferHeight, "invalid y offset for regl.read"), A = 0 | (l.width || r.framebufferWidth - c), p = 0 | (l.height || r.framebufferHeight - u), d = l.data || null), d && (m === Tt ? S(d instanceof Uint8Array, "buffer must be 'Uint8Array' when reading from a framebuffer of type 'uint8'") : m === It && S(d instanceof Float32Array, "buffer must be 'Float32Array' when reading from a framebuffer of type 'float'")), S(A > 0 && A + c <= r.framebufferWidth, "invalid width for read pixels"), S(p > 0 && p + u <= r.framebufferHeight, "invalid height for read pixels"), a(); var _ = A * p * 4; return d || (m === Tt ? d = new Uint8Array(_) : m === It && (d = d || new Float32Array(_))), S.isTypedArray(d, "data buffer for regl.read() must be a typedarray"), S(d.byteLength >= _, "data buffer for regl.read() too small"), e.pixelStorei(3333, 4), e.readPixels(c, u, A, p, 6408, m, d), d } return function (e) { return e && "framebuffer" in e ? function (e) { var t; return n.setFBO({ framebuffer: e.framebuffer }, function () { t = l(e) }), t }(e) : l(e) } } function Rt(e) { return Array.prototype.slice.call(e) } function Pt(e) { return Rt(e).join("") } var Bt = "xyzw".split(""), Mt = "dither", Ut = "blend.enable", Dt = "blend.color", Lt = "blend.equation", Nt = "blend.func", Ft = "depth.enable", Ot = "depth.func", Vt = "depth.range", Qt = "depth.mask", jt = "colorMask", Gt = "cull.enable", Ht = "cull.face", Yt = "frontFace", Wt = "lineWidth", Kt = "polygonOffset.enable", Jt = "polygonOffset.offset", Xt = "sample.alpha", Zt = "sample.enable", $t = "sample.coverage", en = "stencil.enable", tn = "stencil.mask", nn = "stencil.func", an = "stencil.opFront", rn = "stencil.opBack", sn = "scissor.enable", on = "scissor.box", ln = "viewport", mn = "profile", cn = "framebuffer", un = "vert", An = "frag", pn = "elements", dn = "primitive", _n = "count", vn = "offset", hn = "instances", gn = "vao", fn = "Width", bn = "Height", xn = cn + fn, yn = cn + bn, wn = ln + fn, En = ln + bn, Sn = "drawingBuffer", zn = Sn + fn, qn = Sn + bn, kn = [Nt, Lt, nn, an, rn, $t, ln, on, Jt], Tn = 34962, In = 5126, Cn = 35664, Rn = 35665, Pn = 35666, Bn = 5124, Mn = 35667, Un = 35668, Dn = 35669, Ln = 35670, Nn = 35671, Fn = 35672, On = 35673, Vn = 35674, Qn = 35675, jn = 35676, Gn = 35678, Hn = 35680, Yn = 1028, Wn = 1029, Kn = 2305, Jn = 7680, Xn = { 0: 0, 1: 1, zero: 0, one: 1, "src color": 768, "one minus src color": 769, "src alpha": 770, "one minus src alpha": 771, "dst color": 774, "one minus dst color": 775, "dst alpha": 772, "one minus dst alpha": 773, "constant color": 32769, "one minus constant color": 32770, "constant alpha": 32771, "one minus constant alpha": 32772, "src alpha saturate": 776 }, Zn = ["constant color, constant alpha", "one minus constant color, constant alpha", "constant color, one minus constant alpha", "one minus constant color, one minus constant alpha", "constant alpha, constant color", "constant alpha, one minus constant color", "one minus constant alpha, constant color", "one minus constant alpha, one minus constant color"], $n = { never: 512, less: 513, "<": 513, equal: 514, "=": 514, "==": 514, "===": 514, lequal: 515, "<=": 515, greater: 516, ">": 516, notequal: 517, "!=": 517, "!==": 517, gequal: 518, ">=": 518, always: 519 }, ea = { 0: 0, zero: 0, keep: 7680, replace: 7681, increment: 7682, decrement: 7683, "increment wrap": 34055, "decrement wrap": 34056, invert: 5386 }, ta = { frag: 35632, vert: 35633 }, na = { cw: 2304, ccw: Kn }; function aa(e) { return Array.isArray(e) || t(e) || G(e) } function ra(e) { return e.sort(function (e, t) { return e === ln ? -1 : t === ln ? 1 : e < t ? -1 : 1 }) } function sa(e, t, n, a) { this.thisDep = e, this.contextDep = t, this.propDep = n, this.append = a } function ia(e) { return e && !(e.thisDep || e.contextDep || e.propDep) } function oa(e) { return new sa(!1, !1, !1, e) } function la(e, t) { var n = e.type; if (0 === n) { var a = e.data.length; return new sa(!0, a >= 1, a >= 2, t) } if (4 === n) { var r = e.data; return new sa(r.thisDep, r.contextDep, r.propDep, t) } if (5 === n) return new sa(!1, !1, !1, t); if (6 === n) { for (var s = !1, i = !1, o = !1, l = 0; l < e.data.length; ++l) { var m = e.data[l]; if (1 === m.type) o = !0; else if (2 === m.type) i = !0; else if (3 === m.type) s = !0; else if (0 === m.type) { s = !0; var c = m.data; c >= 1 && (i = !0), c >= 2 && (o = !0) } else 4 === m.type && (s = s || m.data.thisDep, i = i || m.data.contextDep, o = o || m.data.propDep) } return new sa(s, i, o, t) } return new sa(3 === n, 2 === n, 1 === n, t) } var ma = new sa(!1, !1, !1, function () { }); function ca(e, t, a, r, s, i, o, l, m, c, u, A, p, d, _) { var v = c.Record, h = { add: 32774, subtract: 32778, "reverse subtract": 32779 }; a.ext_blend_minmax && (h.min = 32775, h.max = 32776); var g = a.angle_instanced_arrays, f = a.webgl_draw_buffers, b = { dirty: !0, profile: _.profile }, x = {}, y = [], w = {}, E = {}; function z(e) { return e.replace(".", "_") } function q(e, t, n) { var a = z(e); y.push(e), x[a] = b[a] = !!n, w[a] = t } function k(e, t, n) { var a = z(e); y.push(e), Array.isArray(n) ? (b[a] = n.slice(), x[a] = n.slice()) : b[a] = x[a] = n, E[a] = t } q(Mt, 3024), q(Ut, 3042), k(Dt, "blendColor", [0, 0, 0, 0]), k(Lt, "blendEquationSeparate", [32774, 32774]), k(Nt, "blendFuncSeparate", [1, 0, 1, 0]), q(Ft, 2929, !0), k(Ot, "depthFunc", 513), k(Vt, "depthRange", [0, 1]), k(Qt, "depthMask", !0), k(jt, jt, [!0, !0, !0, !0]), q(Gt, 2884), k(Ht, "cullFace", Wn), k(Yt, Yt, Kn), k(Wt, Wt, 1), q(Kt, 32823), k(Jt, "polygonOffset", [0, 0]), q(Xt, 32926), q(Zt, 32928), k($t, "sampleCoverage", [1, !1]), q(en, 2960), k(tn, "stencilMask", -1), k(nn, "stencilFunc", [519, 0, -1]), k(an, "stencilOpSeparate", [Yn, Jn, Jn, Jn]), k(rn, "stencilOpSeparate", [Wn, Jn, Jn, Jn]), q(sn, 3089), k(on, "scissor", [0, 0, e.drawingBufferWidth, e.drawingBufferHeight]), k(ln, ln, [0, 0, e.drawingBufferWidth, e.drawingBufferHeight]); var T = { gl: e, context: p, strings: t, next: x, current: b, draw: A, elements: i, buffer: s, shader: u, attributes: c.state, vao: c, uniforms: m, framebuffer: l, extensions: a, timer: d, isBufferArgs: aa }, I = { primTypes: oe, compareFuncs: $n, blendFuncs: Xn, blendEquations: h, stencilOps: ea, glTypes: X, orientationType: na }; S.optional(function () { T.isArrayLike = _e }), f && (I.backBuffer = [Wn], I.drawBuffer = D(r.maxDrawbuffers, function (e) { return 0 === e ? [0] : D(e, function (e) { return 36064 + e }) })); var R = 0; function P() { var e = function () { var e = 0, t = [], a = []; function r() { var t = [], a = []; return n(function () { t.push.apply(t, Rt(arguments)) }, { def: function () { var n = "v" + e++; return a.push(n), arguments.length > 0 && (t.push(n, "="), t.push.apply(t, Rt(arguments)), t.push(";")), n }, toString: function () { return Pt([a.length > 0 ? "var " + a.join(",") + ";" : "", Pt(t)]) } }) } function s() { var e = r(), t = r(), a = e.toString, s = t.toString; function i(n, a) { t(n, a, "=", e.def(n, a), ";") } return n(function () { e.apply(e, Rt(arguments)) }, { def: e.def, entry: e, exit: t, save: i, set: function (t, n, a) { i(t, n), e(t, n, "=", a, ";") }, toString: function () { return a() + s() } }) } var i = r(), o = {}; return { global: i, link: function (n) { for (var r = 0; r < a.length; ++r)if (a[r] === n) return t[r]; var s = "g" + e++; return t.push(s), a.push(n), s }, block: r, proc: function (e, t) { var a = []; function r() { var e = "a" + a.length; return a.push(e), e } t = t || 0; for (var i = 0; i < t; ++i)r(); var l = s(), m = l.toString; return o[e] = n(l, { arg: r, toString: function () { return Pt(["function(", a.join(), "){", m(), "}"]) } }) }, scope: s, cond: function () { var e = Pt(arguments), t = s(), a = s(), r = t.toString, i = a.toString; return n(t, { then: function () { return t.apply(t, Rt(arguments)), this }, else: function () { return a.apply(a, Rt(arguments)), this }, toString: function () { var t = i(); return t && (t = "else{" + t + "}"), Pt(["if(", e, "){", r(), "}", t]) } }) }, compile: function () { var e = ['"use strict";', i, "return {"]; Object.keys(o).forEach(function (t) { e.push('"', t, '":', o[t].toString(), ",") }), e.push("}"); var n = Pt(e).replace(/;/g, ";\n").replace(/}/g, "}\n").replace(/{/g, "{\n"); return Function.apply(null, t.concat(n)).apply(null, a) } } }(), a = e.link, r = e.global; e.id = R++, e.batchId = "0"; var s = a(T), i = e.shared = { props: "a0" }; Object.keys(T).forEach(function (e) { i[e] = r.def(s, ".", e) }), S.optional(function () { e.CHECK = a(S), e.commandStr = S.guessCommand(), e.command = a(e.commandStr), e.assert = function (e, t, n) { e("if(!(", t, "))", this.CHECK, ".commandRaise(", a(n), ",", this.command, ");") }, I.invalidBlendCombinations = Zn }); var o = e.next = {}, l = e.current = {}; Object.keys(E).forEach(function (e) { Array.isArray(b[e]) && (o[e] = r.def(i.next, ".", e), l[e] = r.def(i.current, ".", e)) }); var m = e.constants = {}; Object.keys(I).forEach(function (e) { m[e] = r.def(JSON.stringify(I[e])) }), e.invoke = function (t, n) { switch (n.type) { case 0: var r = ["this", i.context, i.props, e.batchId]; return t.def(a(n.data), ".call(", r.slice(0, Math.max(n.data.length + 1, 4)), ")"); case 1: return t.def(i.props, n.data); case 2: return t.def(i.context, n.data); case 3: return t.def("this", n.data); case 4: return n.data.append(e, t), n.data.ref; case 5: return n.data.toString(); case 6: return n.data.map(function (n) { return e.invoke(t, n) }) } }, e.attribCache = {}; var u = {}; return e.scopeAttrib = function (e) { var n = t.id(e); if (n in u) return u[n]; var r = c.scope[n]; return r || (r = c.scope[n] = new v), u[n] = a(r) }, e } function B(e, n, o, m, A) { var p = e.static, d = e.dynamic; S.optional(function () { var e = [cn, un, An, pn, dn, vn, _n, hn, mn, gn].concat(y); function t(t) { Object.keys(t).forEach(function (t) { S.command(e.indexOf(t) >= 0, 'unknown parameter "' + t + '"', A.commandStr) }) } t(p), t(d) }); var _ = function (e, t) { var n = e.static; if ("string" == typeof n[An] && "string" == typeof n[un]) { if (Object.keys(t.dynamic).length > 0) return null; var a = t.static, r = Object.keys(a); if (r.length > 0 && "number" == typeof a[r[0]]) { for (var s = [], i = 0; i < r.length; ++i)S("number" == typeof a[r[i]], "must specify all vertex attribute locations when using vaos"), s.push([0 | a[r[i]], r[i]]); return s } } return null }(e, n), f = function (e) { var t = e.static, n = e.dynamic; if (cn in t) { var a = t[cn]; return a ? (a = l.getFramebuffer(a), S.command(a, "invalid framebuffer object"), oa(function (e, t) { var n = e.link(a), r = e.shared; t.set(r.framebuffer, ".next", n); var s = r.context; return t.set(s, "." + xn, n + ".width"), t.set(s, "." + yn, n + ".height"), n })) : oa(function (e, t) { var n = e.shared; t.set(n.framebuffer, ".next", "null"); var a = n.context; return t.set(a, "." + xn, a + "." + zn), t.set(a, "." + yn, a + "." + qn), "null" }) } if (cn in n) { var r = n[cn]; return la(r, function (e, t) { var n = e.invoke(t, r), a = e.shared, s = a.framebuffer, i = t.def(s, ".getFramebuffer(", n, ")"); S.optional(function () { e.assert(t, "!" + n + "||" + i, "invalid framebuffer object") }), t.set(s, ".next", i); var o = a.context; return t.set(o, "." + xn, i + "?" + i + ".width:" + o + "." + zn), t.set(o, "." + yn, i + "?" + i + ".height:" + o + "." + qn), i }) } return null }(e), b = function (e, t, n) { var a = e.static, r = e.dynamic; function s(e) { if (e in a) { var s = a[e]; S.commandType(s, "object", "invalid " + e, n.commandStr); var i, o, l = !0, m = 0 | s.x, c = 0 | s.y; return "width" in s ? (i = 0 | s.width, S.command(i >= 0, "invalid " + e, n.commandStr)) : l = !1, "height" in s ? (o = 0 | s.height, S.command(o >= 0, "invalid " + e, n.commandStr)) : l = !1, new sa(!l && t && t.thisDep, !l && t && t.contextDep, !l && t && t.propDep, function (e, t) { var n = e.shared.context, a = i; "width" in s || (a = t.def(n, ".", xn, "-", m)); var r = o; return "height" in s || (r = t.def(n, ".", yn, "-", c)), [m, c, a, r] }) } if (e in r) { var u = r[e], A = la(u, function (t, n) { var a = t.invoke(n, u); S.optional(function () { t.assert(n, a + "&&typeof " + a + '==="object"', "invalid " + e) }); var r = t.shared.context, s = n.def(a, ".x|0"), i = n.def(a, ".y|0"), o = n.def('"width" in ', a, "?", a, ".width|0:", "(", r, ".", xn, "-", s, ")"), l = n.def('"height" in ', a, "?", a, ".height|0:", "(", r, ".", yn, "-", i, ")"); return S.optional(function () { t.assert(n, o + ">=0&&" + l + ">=0", "invalid " + e) }), [s, i, o, l] }); return t && (A.thisDep = A.thisDep || t.thisDep, A.contextDep = A.contextDep || t.contextDep, A.propDep = A.propDep || t.propDep), A } return t ? new sa(t.thisDep, t.contextDep, t.propDep, function (e, t) { var n = e.shared.context; return [0, 0, t.def(n, ".", xn), t.def(n, ".", yn)] }) : null } var i = s(ln); if (i) { var o = i; i = new sa(i.thisDep, i.contextDep, i.propDep, function (e, t) { var n = o.append(e, t), a = e.shared.context; return t.set(a, "." + wn, n[2]), t.set(a, "." + En, n[3]), n }) } return { viewport: i, scissor_box: s(on) } }(e, f, A), x = function (e, t) { var n = e.static, a = e.dynamic, r = function () { if (pn in n) { var e = n[pn]; aa(e) ? e = i.getElements(i.create(e, !0)) : e && (e = i.getElements(e), S.command(e, "invalid elements", t.commandStr)); var r = oa(function (t, n) { if (e) { var a = t.link(e); return t.ELEMENTS = a, a } return t.ELEMENTS = null, null }); return r.value = e, r } if (pn in a) { var s = a[pn]; return la(s, function (e, t) { var n = e.shared, a = n.isBufferArgs, r = n.elements, i = e.invoke(t, s), o = t.def("null"), l = t.def(a, "(", i, ")"), m = e.cond(l).then(o, "=", r, ".createStream(", i, ");").else(o, "=", r, ".getElements(", i, ");"); return S.optional(function () { e.assert(m.else, "!" + i + "||" + o, "invalid elements") }), t.entry(m), t.exit(e.cond(l).then(r, ".destroyStream(", o, ");")), e.ELEMENTS = o, o }) } return null }(); function s(e, s) { if (e in n) { var i = 0 | n[e]; return S.command(!s || i >= 0, "invalid " + e, t.commandStr), oa(function (e, t) { return s && (e.OFFSET = i), i }) } if (e in a) { var o = a[e]; return la(o, function (t, n) { var a = t.invoke(n, o); return s && (t.OFFSET = a, S.optional(function () { t.assert(n, a + ">=0", "invalid " + e) })), a }) } return s && r ? oa(function (e, t) { return e.OFFSET = "0", 0 }) : null } var o = s(vn, !0); return { elements: r, primitive: function () { if (dn in n) { var e = n[dn]; return S.commandParameter(e, oe, "invalid primitve", t.commandStr), oa(function (t, n) { return oe[e] }) } if (dn in a) { var s = a[dn]; return la(s, function (e, t) { var n = e.constants.primTypes, a = e.invoke(t, s); return S.optional(function () { e.assert(t, a + " in " + n, "invalid primitive, must be one of " + Object.keys(oe)) }), t.def(n, "[", a, "]") }) } return r ? ia(r) ? r.value ? oa(function (e, t) { return t.def(e.ELEMENTS, ".primType") }) : oa(function () { return 4 }) : new sa(r.thisDep, r.contextDep, r.propDep, function (e, t) { var n = e.ELEMENTS; return t.def(n, "?", n, ".primType:", 4) }) : null }(), count: function () { if (_n in n) { var e = 0 | n[_n]; return S.command("number" == typeof e && e >= 0, "invalid vertex count", t.commandStr), oa(function () { return e }) } if (_n in a) { var s = a[_n]; return la(s, function (e, t) { var n = e.invoke(t, s); return S.optional(function () { e.assert(t, "typeof " + n + '==="number"&&' + n + ">=0&&" + n + "===(" + n + "|0)", "invalid vertex count") }), n }) } if (r) { if (ia(r)) { if (r) return o ? new sa(o.thisDep, o.contextDep, o.propDep, function (e, t) { var n = t.def(e.ELEMENTS, ".vertCount-", e.OFFSET); return S.optional(function () { e.assert(t, n + ">=0", "invalid vertex offset/element buffer too small") }), n }) : oa(function (e, t) { return t.def(e.ELEMENTS, ".vertCount") }); var i = oa(function () { return -1 }); return S.optional(function () { i.MISSING = !0 }), i } var l = new sa(r.thisDep || o.thisDep, r.contextDep || o.contextDep, r.propDep || o.propDep, function (e, t) { var n = e.ELEMENTS; return e.OFFSET ? t.def(n, "?", n, ".vertCount-", e.OFFSET, ":-1") : t.def(n, "?", n, ".vertCount:-1") }); return S.optional(function () { l.DYNAMIC = !0 }), l } return null }(), instances: s(hn, !1), offset: o } }(e, A), w = function (e, t) { var n = e.static, a = e.dynamic, s = {}; return y.forEach(function (e) { var i = z(e); function o(t, r) { if (e in n) { var o = t(n[e]); s[i] = oa(function () { return o }) } else if (e in a) { var l = a[e]; s[i] = la(l, function (e, t) { return r(e, t, e.invoke(t, l)) }) } } switch (e) { case Gt: case Ut: case Mt: case en: case Ft: case sn: case Kt: case Xt: case Zt: case Qt: return o(function (n) { return S.commandType(n, "boolean", e, t.commandStr), n }, function (t, n, a) { return S.optional(function () { t.assert(n, "typeof " + a + '==="boolean"', "invalid flag " + e, t.commandStr) }), a }); case Ot: return o(function (n) { return S.commandParameter(n, $n, "invalid " + e, t.commandStr), $n[n] }, function (t, n, a) { var r = t.constants.compareFuncs; return S.optional(function () { t.assert(n, a + " in " + r, "invalid " + e + ", must be one of " + Object.keys($n)) }), n.def(r, "[", a, "]") }); case Vt: return o(function (e) { return S.command(_e(e) && 2 === e.length && "number" == typeof e[0] && "number" == typeof e[1] && e[0] <= e[1], "depth range is 2d array", t.commandStr), e }, function (e, t, n) { return S.optional(function () { e.assert(t, e.shared.isArrayLike + "(" + n + ")&&" + n + ".length===2&&typeof " + n + '[0]==="number"&&typeof ' + n + '[1]==="number"&&' + n + "[0]<=" + n + "[1]", "depth range must be a 2d array") }), [t.def("+", n, "[0]"), t.def("+", n, "[1]")] }); case Nt: return o(function (e) { S.commandType(e, "object", "blend.func", t.commandStr); var n = "srcRGB" in e ? e.srcRGB : e.src, a = "srcAlpha" in e ? e.srcAlpha : e.src, r = "dstRGB" in e ? e.dstRGB : e.dst, s = "dstAlpha" in e ? e.dstAlpha : e.dst; return S.commandParameter(n, Xn, i + ".srcRGB", t.commandStr), S.commandParameter(a, Xn, i + ".srcAlpha", t.commandStr), S.commandParameter(r, Xn, i + ".dstRGB", t.commandStr), S.commandParameter(s, Xn, i + ".dstAlpha", t.commandStr), S.command(-1 === Zn.indexOf(n + ", " + r), "unallowed blending combination (srcRGB, dstRGB) = (" + n + ", " + r + ")", t.commandStr), [Xn[n], Xn[r], Xn[a], Xn[s]] }, function (t, n, a) { var r = t.constants.blendFuncs; function s(s, i) { var o = n.def('"', s, i, '" in ', a, "?", a, ".", s, i, ":", a, ".", s); return S.optional(function () { t.assert(n, o + " in " + r, "invalid " + e + "." + s + i + ", must be one of " + Object.keys(Xn)) }), o } S.optional(function () { t.assert(n, a + "&&typeof " + a + '==="object"', "invalid blend func, must be an object") }); var i = s("src", "RGB"), o = s("dst", "RGB"); S.optional(function () { var e = t.constants.invalidBlendCombinations; t.assert(n, e + ".indexOf(" + i + '+", "+' + o + ") === -1 ", "unallowed blending combination for (srcRGB, dstRGB)") }); var l = n.def(r, "[", i, "]"), m = n.def(r, "[", s("src", "Alpha"), "]"); return [l, n.def(r, "[", o, "]"), m, n.def(r, "[", s("dst", "Alpha"), "]")] }); case Lt: return o(function (n) { return "string" == typeof n ? (S.commandParameter(n, h, "invalid " + e, t.commandStr), [h[n], h[n]]) : "object" == typeof n ? (S.commandParameter(n.rgb, h, e + ".rgb", t.commandStr), S.commandParameter(n.alpha, h, e + ".alpha", t.commandStr), [h[n.rgb], h[n.alpha]]) : void S.commandRaise("invalid blend.equation", t.commandStr) }, function (t, n, a) { var r = t.constants.blendEquations, s = n.def(), i = n.def(), o = t.cond("typeof ", a, '==="string"'); return S.optional(function () { function n(e, n, a) { t.assert(e, a + " in " + r, "invalid " + n + ", must be one of " + Object.keys(h)) } n(o.then, e, a), t.assert(o.else, a + "&&typeof " + a + '==="object"', "invalid " + e), n(o.else, e + ".rgb", a + ".rgb"), n(o.else, e + ".alpha", a + ".alpha") }), o.then(s, "=", i, "=", r, "[", a, "];"), o.else(s, "=", r, "[", a, ".rgb];", i, "=", r, "[", a, ".alpha];"), n(o), [s, i] }); case Dt: return o(function (e) { return S.command(_e(e) && 4 === e.length, "blend.color must be a 4d array", t.commandStr), D(4, function (t) { return +e[t] }) }, function (e, t, n) { return S.optional(function () { e.assert(t, e.shared.isArrayLike + "(" + n + ")&&" + n + ".length===4", "blend.color must be a 4d array") }), D(4, function (e) { return t.def("+", n, "[", e, "]") }) }); case tn: return o(function (e) { return S.commandType(e, "number", i, t.commandStr), 0 | e }, function (e, t, n) { return S.optional(function () { e.assert(t, "typeof " + n + '==="number"', "invalid stencil.mask") }), t.def(n, "|0") }); case nn: return o(function (n) { S.commandType(n, "object", i, t.commandStr); var a = n.cmp || "keep", r = n.ref || 0, s = "mask" in n ? n.mask : -1; return S.commandParameter(a, $n, e + ".cmp", t.commandStr), S.commandType(r, "number", e + ".ref", t.commandStr), S.commandType(s, "number", e + ".mask", t.commandStr), [$n[a], r, s] }, function (e, t, n) { var a = e.constants.compareFuncs; return S.optional(function () { function r() { e.assert(t, Array.prototype.join.call(arguments, ""), "invalid stencil.func") } r(n + "&&typeof ", n, '==="object"'), r('!("cmp" in ', n, ")||(", n, ".cmp in ", a, ")") }), [t.def('"cmp" in ', n, "?", a, "[", n, ".cmp]", ":", Jn), t.def(n, ".ref|0"), t.def('"mask" in ', n, "?", n, ".mask|0:-1")] }); case an: case rn: return o(function (n) { S.commandType(n, "object", i, t.commandStr); var a = n.fail || "keep", r = n.zfail || "keep", s = n.zpass || "keep"; return S.commandParameter(a, ea, e + ".fail", t.commandStr), S.commandParameter(r, ea, e + ".zfail", t.commandStr), S.commandParameter(s, ea, e + ".zpass", t.commandStr), [e === rn ? Wn : Yn, ea[a], ea[r], ea[s]] }, function (t, n, a) { var r = t.constants.stencilOps; function s(s) { return S.optional(function () { t.assert(n, '!("' + s + '" in ' + a + ")||(" + a + "." + s + " in " + r + ")", "invalid " + e + "." + s + ", must be one of " + Object.keys(ea)) }), n.def('"', s, '" in ', a, "?", r, "[", a, ".", s, "]:", Jn) } return S.optional(function () { t.assert(n, a + "&&typeof " + a + '==="object"', "invalid " + e) }), [e === rn ? Wn : Yn, s("fail"), s("zfail"), s("zpass")] }); case Jt: return o(function (e) { S.commandType(e, "object", i, t.commandStr); var n = 0 | e.factor, a = 0 | e.units; return S.commandType(n, "number", i + ".factor", t.commandStr), S.commandType(a, "number", i + ".units", t.commandStr), [n, a] }, function (t, n, a) { return S.optional(function () { t.assert(n, a + "&&typeof " + a + '==="object"', "invalid " + e) }), [n.def(a, ".factor|0"), n.def(a, ".units|0")] }); case Ht: return o(function (e) { var n = 0; return "front" === e ? n = Yn : "back" === e && (n = Wn), S.command(!!n, i, t.commandStr), n }, function (e, t, n) { return S.optional(function () { e.assert(t, n + '==="front"||' + n + '==="back"', "invalid cull.face") }), t.def(n, '==="front"?', Yn, ":", Wn) }); case Wt: return o(function (e) { return S.command("number" == typeof e && e >= r.lineWidthDims[0] && e <= r.lineWidthDims[1], "invalid line width, must be a positive number between " + r.lineWidthDims[0] + " and " + r.lineWidthDims[1], t.commandStr), e }, function (e, t, n) { return S.optional(function () { e.assert(t, "typeof " + n + '==="number"&&' + n + ">=" + r.lineWidthDims[0] + "&&" + n + "<=" + r.lineWidthDims[1], "invalid line width") }), n }); case Yt: return o(function (e) { return S.commandParameter(e, na, i, t.commandStr), na[e] }, function (e, t, n) { return S.optional(function () { e.assert(t, n + '==="cw"||' + n + '==="ccw"', "invalid frontFace, must be one of cw,ccw") }), t.def(n + '==="cw"?2304:' + Kn) }); case jt: return o(function (e) { return S.command(_e(e) && 4 === e.length, "color.mask must be length 4 array", t.commandStr), e.map(function (e) { return !!e }) }, function (e, t, n) { return S.optional(function () { e.assert(t, e.shared.isArrayLike + "(" + n + ")&&" + n + ".length===4", "invalid color.mask") }), D(4, function (e) { return "!!" + n + "[" + e + "]" }) }); case $t: return o(function (e) { S.command("object" == typeof e && e, i, t.commandStr); var n = "value" in e ? e.value : 1, a = !!e.invert; return S.command("number" == typeof n && n >= 0 && n <= 1, "sample.coverage.value must be a number between 0 and 1", t.commandStr), [n, a] }, function (e, t, n) { return S.optional(function () { e.assert(t, n + "&&typeof " + n + '==="object"', "invalid sample.coverage") }), [t.def('"value" in ', n, "?+", n, ".value:1"), t.def("!!", n, ".invert")] }) } }), s }(e, A), E = function (e, n, a) { var r = e.static, s = e.dynamic; function i(e) { if (e in r) { var n = t.id(r[e]); S.optional(function () { u.shader(ta[e], n, S.guessCommand()) }); var a = oa(function () { return n }); return a.id = n, a } if (e in s) { var i = s[e]; return la(i, function (t, n) { var a = t.invoke(n, i), r = n.def(t.shared.strings, ".id(", a, ")"); return S.optional(function () { n(t.shared.shader, ".shader(", ta[e], ",", r, ",", t.command, ");") }), r }) } return null } var o, l = i(An), m = i(un), c = null; return ia(l) && ia(m) ? (c = u.program(m.id, l.id, null, a), o = oa(function (e, t) { return e.link(c) })) : o = new sa(l && l.thisDep || m && m.thisDep, l && l.contextDep || m && m.contextDep, l && l.propDep || m && m.propDep, function (e, t) { var n, a = e.shared.shader; n = l ? l.append(e, t) : t.def(a, ".", An); var r = a + ".program(" + (m ? m.append(e, t) : t.def(a, ".", un)) + "," + n; return S.optional(function () { r += "," + e.command }), t.def(r + ")") }), { frag: l, vert: m, progVar: o, program: c } }(e, 0, _); function q(e) { var t = b[e]; t && (w[e] = t) } q(ln), q(z(on)); var k = Object.keys(w).length > 0, T = { framebuffer: f, draw: x, shader: E, state: w, dirty: k, scopeVAO: null, drawVAO: null, useVAO: !1, attributes: {} }; if (T.profile = function (e) { var t, n = e.static, a = e.dynamic; if (mn in n) { var r = !!n[mn]; (t = oa(function (e, t) { return r })).enable = r } else if (mn in a) { var s = a[mn]; t = la(s, function (e, t) { return e.invoke(t, s) }) } return t }(e), T.uniforms = function (e, t) { var n = e.static, a = e.dynamic, r = {}; return Object.keys(n).forEach(function (e) { var a, s = n[e]; if ("number" == typeof s || "boolean" == typeof s) a = oa(function () { return s }); else if ("function" == typeof s) { var i = s._reglType; "texture2d" === i || "textureCube" === i ? a = oa(function (e) { return e.link(s) }) : "framebuffer" === i || "framebufferCube" === i ? (S.command(s.color.length > 0, 'missing color attachment for framebuffer sent to uniform "' + e + '"', t.commandStr), a = oa(function (e) { return e.link(s.color[0]) })) : S.commandRaise('invalid data for uniform "' + e + '"', t.commandStr) } else _e(s) ? a = oa(function (t) { var n = t.global.def("[", D(s.length, function (n) { return S.command("number" == typeof s[n] || "boolean" == typeof s[n], "invalid uniform " + e, t.commandStr), s[n] }), "]"); return n }) : S.commandRaise('invalid or missing data for uniform "' + e + '"', t.commandStr); a.value = s, r[e] = a }), Object.keys(a).forEach(function (e) { var t = a[e]; r[e] = la(t, function (e, n) { return e.invoke(n, t) }) }), r }(o, A), T.drawVAO = T.scopeVAO = function (e) { var t = e.static, n = e.dynamic; if (gn in t) { var a = t[gn]; return null !== a && null === c.getVAO(a) && (a = c.createVAO(a)), oa(function (e) { return e.link(c.getVAO(a)) }) } if (gn in n) { var r = n[gn]; return la(r, function (e, t) { var n = e.invoke(t, r); return t.def(e.shared.vao + ".getVAO(" + n + ")") }) } return null }(e), !T.drawVAO && E.program && !_ && a.angle_instanced_arrays) { var I = !0, C = E.program.attributes.map(function (e) { var t = n.static[e]; return I = I && !!t, t }); if (I && C.length > 0) { var R = c.getVAO(c.createVAO(C)); T.drawVAO = new sa(null, null, null, function (e, t) { return e.link(R) }), T.useVAO = !0 } } return _ ? T.useVAO = !0 : T.attributes = function (e, n) { var a = e.static, r = e.dynamic, i = {}; return Object.keys(a).forEach(function (e) { var r = a[e], o = t.id(e), l = new v; if (aa(r)) l.state = 1, l.buffer = s.getBuffer(s.create(r, Tn, !1, !0)), l.type = 0; else { var m = s.getBuffer(r); if (m) l.state = 1, l.buffer = m, l.type = 0; else if (S.command("object" == typeof r && r, "invalid data for attribute " + e, n.commandStr), "constant" in r) { var c = r.constant; l.buffer = "null", l.state = 2, "number" == typeof c ? l.x = c : (S.command(_e(c) && c.length > 0 && c.length <= 4, "invalid constant for attribute " + e, n.commandStr), Bt.forEach(function (e, t) { t < c.length && (l[e] = c[t]) })) } else { m = aa(r.buffer) ? s.getBuffer(s.create(r.buffer, Tn, !1, !0)) : s.getBuffer(r.buffer), S.command(!!m, 'missing buffer for attribute "' + e + '"', n.commandStr); var u = 0 | r.offset; S.command(u >= 0, 'invalid offset for attribute "' + e + '"', n.commandStr); var A = 0 | r.stride; S.command(A >= 0 && A < 256, 'invalid stride for attribute "' + e + '", must be integer betweeen [0, 255]', n.commandStr); var p = 0 | r.size; S.command(!("size" in r) || p > 0 && p <= 4, 'invalid size for attribute "' + e + '", must be 1,2,3,4', n.commandStr); var d = !!r.normalized, _ = 0; "type" in r && (S.commandParameter(r.type, X, "invalid type for attribute " + e, n.commandStr), _ = X[r.type]); var h = 0 | r.divisor; "divisor" in r && (S.command(0 === h || g, 'cannot specify divisor for attribute "' + e + '", instancing not supported', n.commandStr), S.command(h >= 0, 'invalid divisor for attribute "' + e + '"', n.commandStr)), S.optional(function () { var t = n.commandStr, a = ["buffer", "offset", "divisor", "normalized", "type", "size", "stride"]; Object.keys(r).forEach(function (n) { S.command(a.indexOf(n) >= 0, 'unknown parameter "' + n + '" for attribute pointer "' + e + '" (valid parameters are ' + a + ")", t) }) }), l.buffer = m, l.state = 1, l.size = p, l.normalized = d, l.type = _ || m.dtype, l.offset = u, l.stride = A, l.divisor = h } } i[e] = oa(function (e, t) { var n = e.attribCache; if (o in n) return n[o]; var a = { isStream: !1 }; return Object.keys(l).forEach(function (e) { a[e] = l[e] }), l.buffer && (a.buffer = e.link(l.buffer), a.type = a.type || a.buffer + ".dtype"), n[o] = a, a }) }), Object.keys(r).forEach(function (e) { var t = r[e]; i[e] = la(t, function (n, a) { var r = n.invoke(a, t), s = n.shared, i = n.constants, o = s.isBufferArgs, l = s.buffer; S.optional(function () { n.assert(a, r + "&&(typeof " + r + '==="object"||typeof ' + r + '==="function")&&(' + o + "(" + r + ")||" + l + ".getBuffer(" + r + ")||" + l + ".getBuffer(" + r + ".buffer)||" + o + "(" + r + '.buffer)||("constant" in ' + r + "&&(typeof " + r + '.constant==="number"||' + s.isArrayLike + "(" + r + ".constant))))", 'invalid dynamic attribute "' + e + '"') }); var m = { isStream: a.def(!1) }, c = new v; c.state = 1, Object.keys(c).forEach(function (e) { m[e] = a.def("" + c[e]) }); var u = m.buffer, A = m.type; function p(e) { a(m[e], "=", r, ".", e, "|0;") } return a("if(", o, "(", r, ")){", m.isStream, "=true;", u, "=", l, ".createStream(", Tn, ",", r, ");", A, "=", u, ".dtype;", "}else{", u, "=", l, ".getBuffer(", r, ");", "if(", u, "){", A, "=", u, ".dtype;", '}else if("constant" in ', r, "){", m.state, "=", 2, ";", "if(typeof " + r + '.constant === "number"){', m[Bt[0]], "=", r, ".constant;", Bt.slice(1).map(function (e) { return m[e] }).join("="), "=0;", "}else{", Bt.map(function (e, t) { return m[e] + "=" + r + ".constant.length>" + t + "?" + r + ".constant[" + t + "]:0;" }).join(""), "}}else{", "if(", o, "(", r, ".buffer)){", u, "=", l, ".createStream(", Tn, ",", r, ".buffer);", "}else{", u, "=", l, ".getBuffer(", r, ".buffer);", "}", A, '="type" in ', r, "?", i.glTypes, "[", r, ".type]:", u, ".dtype;", m.normalized, "=!!", r, ".normalized;"), p("size"), p("offset"), p("stride"), p("divisor"), a("}}"), a.exit("if(", m.isStream, "){", l, ".destroyStream(", u, ");", "}"), m }) }), i }(n, A), T.context = function (e) { var t = e.static, n = e.dynamic, a = {}; return Object.keys(t).forEach(function (e) { var n = t[e]; a[e] = oa(function (e, t) { return "number" == typeof n || "boolean" == typeof n ? "" + n : e.link(n) }) }), Object.keys(n).forEach(function (e) { var t = n[e]; a[e] = la(t, function (e, n) { return e.invoke(n, t) }) }), a }(m), T } function M(e, t, n) { var a = e.shared.context, r = e.scope(); Object.keys(n).forEach(function (s) { t.save(a, "." + s); var i = n[s].append(e, t); Array.isArray(i) ? r(a, ".", s, "=[", i.join(), "];") : r(a, ".", s, "=", i, ";") }), t(r) } function U(e, t, n, a) { var r, s = e.shared, i = s.gl, o = s.framebuffer; f && (r = t.def(s.extensions, ".webgl_draw_buffers")); var l, m = e.constants, c = m.drawBuffer, u = m.backBuffer; l = n ? n.append(e, t) : t.def(o, ".next"), a || t("if(", l, "!==", o, ".cur){"), t("if(", l, "){", i, ".bindFramebuffer(", 36160, ",", l, ".framebuffer);"), f && t(r, ".drawBuffersWEBGL(", c, "[", l, ".colorAttachments.length]);"), t("}else{", i, ".bindFramebuffer(", 36160, ",null);"), f && t(r, ".drawBuffersWEBGL(", u, ");"), t("}", o, ".cur=", l, ";"), a || t("}") } function L(e, t, n) { var a = e.shared, r = a.gl, s = e.current, i = e.next, o = a.current, l = a.next, m = e.cond(o, ".dirty"); y.forEach(function (t) { var a, c, u = z(t); if (!(u in n.state)) if (u in i) { a = i[u], c = s[u]; var A = D(b[u].length, function (e) { return m.def(a, "[", e, "]") }); m(e.cond(A.map(function (e, t) { return e + "!==" + c + "[" + t + "]" }).join("||")).then(r, ".", E[u], "(", A, ");", A.map(function (e, t) { return c + "[" + t + "]=" + e }).join(";"), ";")) } else { a = m.def(l, ".", u); var p = e.cond(a, "!==", o, ".", u); m(p), u in w ? p(e.cond(a).then(r, ".enable(", w[u], ");").else(r, ".disable(", w[u], ");"), o, ".", u, "=", a, ";") : p(r, ".", E[u], "(", a, ");", o, ".", u, "=", a, ";") } }), 0 === Object.keys(n.state).length && m(o, ".dirty=false;"), t(m) } function N(e, t, n, a) { var r = e.shared, s = e.current, i = r.current, o = r.gl; ra(Object.keys(n)).forEach(function (r) { var l = n[r]; if (!a || a(l)) { var m = l.append(e, t); if (w[r]) { var c = w[r]; ia(l) ? t(o, m ? ".enable(" : ".disable(", c, ");") : t(e.cond(m).then(o, ".enable(", c, ");").else(o, ".disable(", c, ");")), t(i, ".", r, "=", m, ";") } else if (_e(m)) { var u = s[r]; t(o, ".", E[r], "(", m, ");", m.map(function (e, t) { return u + "[" + t + "]=" + e }).join(";"), ";") } else t(o, ".", E[r], "(", m, ");", i, ".", r, "=", m, ";") } }) } function F(e, t) { g && (e.instancing = t.def(e.shared.extensions, ".angle_instanced_arrays")) } function O(e, t, n, a, r) { var s, i, o, l = e.shared, m = e.stats, c = l.current, u = l.timer, A = n.profile; function p() { return "undefined" == typeof performance ? "Date.now()" : "performance.now()" } function _(e) { e(s = t.def(), "=", p(), ";"), "string" == typeof r ? e(m, ".count+=", r, ";") : e(m, ".count++;"), d && (a ? e(i = t.def(), "=", u, ".getNumPendingQueries();") : e(u, ".beginQuery(", m, ");")) } function v(e) { e(m, ".cpuTime+=", p(), "-", s, ";"), d && (a ? e(u, ".pushScopeStats(", i, ",", u, ".getNumPendingQueries(),", m, ");") : e(u, ".endQuery();")) } function h(e) { var n = t.def(c, ".profile"); t(c, ".profile=", e, ";"), t.exit(c, ".profile=", n, ";") } if (A) { if (ia(A)) return void (A.enable ? (_(t), v(t.exit), h("true")) : h("false")); h(o = A.append(e, t)) } else o = t.def(c, ".profile"); var g = e.block(); _(g), t("if(", o, "){", g, "}"); var f = e.block(); v(f), t.exit("if(", o, "){", f, "}") } function V(e, t, n, a, r) { var s = e.shared; a.forEach(function (a) { var i, o = a.name, l = n.attributes[o]; if (l) { if (!r(l)) return; i = l.append(e, t) } else { if (!r(ma)) return; var m = e.scopeAttrib(o); S.optional(function () { e.assert(t, m + ".state", "missing attribute " + o) }), i = {}, Object.keys(new v).forEach(function (e) { i[e] = t.def(m, ".", e) }) } !function (n, a, r) { var i = s.gl, o = t.def(n, ".location"), l = t.def(s.attributes, "[", o, "]"), m = r.state, c = r.buffer, u = [r.x, r.y, r.z, r.w], A = ["buffer", "normalized", "offset", "stride"]; function p() { t("if(!", l, ".buffer){", i, ".enableVertexAttribArray(", o, ");}"); var n, s = r.type; if (n = r.size ? t.def(r.size, "||", a) : a, t("if(", l, ".type!==", s, "||", l, ".size!==", n, "||", A.map(function (e) { return l + "." + e + "!==" + r[e] }).join("||"), "){", i, ".bindBuffer(", Tn, ",", c, ".buffer);", i, ".vertexAttribPointer(", [o, n, s, r.normalized, r.stride, r.offset], ");", l, ".type=", s, ";", l, ".size=", n, ";", A.map(function (e) { return l + "." + e + "=" + r[e] + ";" }).join(""), "}"), g) { var m = r.divisor; t("if(", l, ".divisor!==", m, "){", e.instancing, ".vertexAttribDivisorANGLE(", [o, m], ");", l, ".divisor=", m, ";}") } } function d() { t("if(", l, ".buffer){", i, ".disableVertexAttribArray(", o, ");", l, ".buffer=null;", "}if(", Bt.map(function (e, t) { return l + "." + e + "!==" + u[t] }).join("||"), "){", i, ".vertexAttrib4f(", o, ",", u, ");", Bt.map(function (e, t) { return l + "." + e + "=" + u[t] + ";" }).join(""), "}") } 1 === m ? p() : 2 === m ? d() : (t("if(", m, "===", 1, "){"), p(), t("}else{"), d(), t("}")) }(e.link(a), function (e) { switch (e) { case Cn: case Mn: case Nn: return 2; case Rn: case Un: case Fn: return 3; case Pn: case Dn: case On: return 4; default: return 1 } }(a.info.type), i) }) } function Q(e, n, a, r, s) { for (var i, o = e.shared, l = o.gl, m = 0; m < r.length; ++m) { var c, u = r[m], A = u.name, p = u.info.type, d = a.uniforms[A], _ = e.link(u) + ".location"; if (d) { if (!s(d)) continue; if (ia(d)) { var v = d.value; if (S.command(null != v, 'missing uniform "' + A + '"', e.commandStr), p === Gn || p === Hn) { S.command("function" == typeof v && (p === Gn && ("texture2d" === v._reglType || "framebuffer" === v._reglType) || p === Hn && ("textureCube" === v._reglType || "framebufferCube" === v._reglType)), "invalid texture for uniform " + A, e.commandStr); var h = e.link(v._texture || v.color[0]._texture); n(l, ".uniform1i(", _, ",", h + ".bind());"), n.exit(h, ".unbind();") } else if (p === Vn || p === Qn || p === jn) { S.optional(function () { S.command(_e(v), "invalid matrix for uniform " + A, e.commandStr), S.command(p === Vn && 4 === v.length || p === Qn && 9 === v.length || p === jn && 16 === v.length, "invalid length for matrix uniform " + A, e.commandStr) }); var g = e.global.def("new Float32Array([" + Array.prototype.slice.call(v) + "])"), f = 2; p === Qn ? f = 3 : p === jn && (f = 4), n(l, ".uniformMatrix", f, "fv(", _, ",false,", g, ");") } else { switch (p) { case In: S.commandType(v, "number", "uniform " + A, e.commandStr), i = "1f"; break; case Cn: S.command(_e(v) && 2 === v.length, "uniform " + A, e.commandStr), i = "2f"; break; case Rn: S.command(_e(v) && 3 === v.length, "uniform " + A, e.commandStr), i = "3f"; break; case Pn: S.command(_e(v) && 4 === v.length, "uniform " + A, e.commandStr), i = "4f"; break; case Ln: S.commandType(v, "boolean", "uniform " + A, e.commandStr), i = "1i"; break; case Bn: S.commandType(v, "number", "uniform " + A, e.commandStr), i = "1i"; break; case Nn: case Mn: S.command(_e(v) && 2 === v.length, "uniform " + A, e.commandStr), i = "2i"; break; case Fn: case Un: S.command(_e(v) && 3 === v.length, "uniform " + A, e.commandStr), i = "3i"; break; case On: case Dn: S.command(_e(v) && 4 === v.length, "uniform " + A, e.commandStr), i = "4i" }n(l, ".uniform", i, "(", _, ",", _e(v) ? Array.prototype.slice.call(v) : v, ");") } continue } c = d.append(e, n) } else { if (!s(ma)) continue; c = n.def(o.uniforms, "[", t.id(A), "]") } p === Gn ? (S(!Array.isArray(c), "must specify a scalar prop for textures"), n("if(", c, "&&", c, '._reglType==="framebuffer"){', c, "=", c, ".color[0];", "}")) : p === Hn && (S(!Array.isArray(c), "must specify a scalar prop for cube maps"), n("if(", c, "&&", c, '._reglType==="framebufferCube"){', c, "=", c, ".color[0];", "}")), S.optional(function () { function t(t, a) { e.assert(n, t, 'bad data or missing for uniform "' + A + '".  ' + a) } function a(e) { S(!Array.isArray(c), "must not specify an array type for uniform"), t("typeof " + c + '==="' + e + '"', "invalid type, expected " + e) } function r(e, n) { Array.isArray(c) ? S(c.length === e, "must have length " + e) : t(o.isArrayLike + "(" + c + ")&&" + c + ".length===" + e, "invalid vector, should have length " + e) } function s(e) { S(!Array.isArray(c), "must not specify a value type"), t("typeof " + c + '==="function"&&' + c + '._reglType==="texture' + (3553 === e ? "2d" : "Cube") + '"', "invalid texture type") } switch (p) { case Bn: a("number"); break; case Mn: r(2); break; case Un: r(3); break; case Dn: r(4); break; case In: a("number"); break; case Cn: r(2); break; case Rn: r(3); break; case Pn: r(4); break; case Ln: a("boolean"); break; case Nn: r(2); break; case Fn: r(3); break; case On: case Vn: r(4); break; case Qn: r(9); break; case jn: r(16); break; case Gn: s(3553); break; case Hn: s(34067) } }); var b = 1; switch (p) { case Gn: case Hn: var x = n.def(c, "._texture"); n(l, ".uniform1i(", _, ",", x, ".bind());"), n.exit(x, ".unbind();"); continue; case Bn: case Ln: i = "1i"; break; case Mn: case Nn: i = "2i", b = 2; break; case Un: case Fn: i = "3i", b = 3; break; case Dn: case On: i = "4i", b = 4; break; case In: i = "1f"; break; case Cn: i = "2f", b = 2; break; case Rn: i = "3f", b = 3; break; case Pn: i = "4f", b = 4; break; case Vn: i = "Matrix2fv"; break; case Qn: i = "Matrix3fv"; break; case jn: i = "Matrix4fv" }if (n(l, ".uniform", i, "(", _, ","), "M" === i.charAt(0)) { var y = Math.pow(p - Vn + 2, 2), w = e.global.def("new Float32Array(", y, ")"); Array.isArray(c) ? n("false,(", D(y, function (e) { return w + "[" + e + "]=" + c[e] }), ",", w, ")") : n("false,(Array.isArray(", c, ")||", c, " instanceof Float32Array)?", c, ":(", D(y, function (e) { return w + "[" + e + "]=" + c + "[" + e + "]" }), ",", w, ")") } else b > 1 ? n(D(b, function (e) { return Array.isArray(c) ? c[e] : c + "[" + e + "]" })) : (S(!Array.isArray(c), "uniform value must not be an array"), n(c)); n(");") } } function j(e, t, n, a) { var r = e.shared, s = r.gl, i = r.draw, o = a.draw; var l = function () { var r, l = o.elements, m = t; return l ? ((l.contextDep && a.contextDynamic || l.propDep) && (m = n), r = l.append(e, m)) : r = m.def(i, ".", pn), r && m("if(" + r + ")" + s + ".bindBuffer(34963," + r + ".buffer.buffer);"), r }(); function m(r) { var s = o[r]; return s ? s.contextDep && a.contextDynamic || s.propDep ? s.append(e, n) : s.append(e, t) : t.def(i, ".", r) } var c, u, A = m(dn), p = m(vn), d = function () { var r, s = o.count, l = t; return s ? ((s.contextDep && a.contextDynamic || s.propDep) && (l = n), r = s.append(e, l), S.optional(function () { s.MISSING && e.assert(t, "false", "missing vertex count"), s.DYNAMIC && e.assert(l, r + ">=0", "missing vertex count") })) : (r = l.def(i, ".", _n), S.optional(function () { e.assert(l, r + ">=0", "missing vertex count") })), r }(); if ("number" == typeof d) { if (0 === d) return } else n("if(", d, "){"), n.exit("}"); g && (c = m(hn), u = e.instancing); var _ = l + ".type", v = o.elements && ia(o.elements); function h() { function e() { n(u, ".drawElementsInstancedANGLE(", [A, d, _, p + "<<((" + _ + "-5121)>>1)", c], ");") } function t() { n(u, ".drawArraysInstancedANGLE(", [A, p, d, c], ");") } l ? v ? e() : (n("if(", l, "){"), e(), n("}else{"), t(), n("}")) : t() } function f() { function e() { n(s + ".drawElements(" + [A, d, _, p + "<<((" + _ + "-5121)>>1)"] + ");") } function t() { n(s + ".drawArrays(" + [A, p, d] + ");") } l ? v ? e() : (n("if(", l, "){"), e(), n("}else{"), t(), n("}")) : t() } g && ("number" != typeof c || c >= 0) ? "string" == typeof c ? (n("if(", c, ">0){"), h(), n("}else if(", c, "<0){"), f(), n("}")) : h() : f() } function G(e, t, n, a, r) { var s = P(), i = s.proc("body", r); return S.optional(function () { s.commandStr = t.commandStr, s.command = s.link(t.commandStr) }), g && (s.instancing = i.def(s.shared.extensions, ".angle_instanced_arrays")), e(s, i, n, a), s.compile().body } function H(e, t, n, a) { F(e, t), n.useVAO ? n.drawVAO ? t(e.shared.vao, ".setVAO(", n.drawVAO.append(e, t), ");") : t(e.shared.vao, ".setVAO(", e.shared.vao, ".targetVAO);") : (t(e.shared.vao, ".setVAO(null);"), V(e, t, n, a.attributes, function () { return !0 })), Q(e, t, n, a.uniforms, function () { return !0 }), j(e, t, t, n) } function Y(e, t, n, a) { function r() { return !0 } e.batchId = "a1", F(e, t), V(e, t, n, a.attributes, r), Q(e, t, n, a.uniforms, r), j(e, t, t, n) } function W(e, t, n, a) { F(e, t); var r = n.contextDep, s = t.def(), i = t.def(); e.shared.props = i, e.batchId = s; var o = e.scope(), l = e.scope(); function m(e) { return e.contextDep && r || e.propDep } function c(e) { return !m(e) } if (t(o.entry, "for(", s, "=0;", s, "<", "a1", ";++", s, "){", i, "=", "a0", "[", s, "];", l, "}", o.exit), n.needsContext && M(e, l, n.context), n.needsFramebuffer && U(e, l, n.framebuffer), N(e, l, n.state, m), n.profile && m(n.profile) && O(e, l, n, !1, !0), a) n.useVAO ? n.drawVAO ? m(n.drawVAO) ? l(e.shared.vao, ".setVAO(", n.drawVAO.append(e, l), ");") : o(e.shared.vao, ".setVAO(", n.drawVAO.append(e, o), ");") : o(e.shared.vao, ".setVAO(", e.shared.vao, ".targetVAO);") : (o(e.shared.vao, ".setVAO(null);"), V(e, o, n, a.attributes, c), V(e, l, n, a.attributes, m)), Q(e, o, n, a.uniforms, c), Q(e, l, n, a.uniforms, m), j(e, o, l, n); else { var u = e.global.def("{}"), A = n.shader.progVar.append(e, l), p = l.def(A, ".id"), d = l.def(u, "[", p, "]"); l(e.shared.gl, ".useProgram(", A, ".program);", "if(!", d, "){", d, "=", u, "[", p, "]=", e.link(function (t) { return G(Y, e, n, t, 2) }), "(", A, ");}", d, ".call(this,a0[", s, "],", s, ");") } } function K(e, t, n) { var a = t.static[n]; if (a && function (e) { if ("object" == typeof e && !_e(e)) { for (var t = Object.keys(e), n = 0; n < t.length; ++n)if (C.isDynamic(e[t[n]])) return !0; return !1 } }(a)) { var r = e.global, s = Object.keys(a), i = !1, o = !1, l = !1, m = e.global.def("{}"); s.forEach(function (t) { var n = a[t]; if (C.isDynamic(n)) { "function" == typeof n && (n = a[t] = C.unbox(n)); var s = la(n, null); i = i || s.thisDep, l = l || s.propDep, o = o || s.contextDep } else { switch (r(m, ".", t, "="), typeof n) { case "number": r(n); break; case "string": r('"', n, '"'); break; case "object": Array.isArray(n) && r("[", n.join(), "]"); break; default: r(e.link(n)) }r(";") } }), t.dynamic[n] = new C.DynamicVariable(4, { thisDep: i, contextDep: o, propDep: l, ref: m, append: function (e, t) { s.forEach(function (n) { var r = a[n]; if (C.isDynamic(r)) { var s = e.invoke(t, r); t(m, ".", n, "=", s, ";") } }) } }), delete t.static[n] } } return { next: x, current: b, procs: function () { var e = P(), t = e.proc("poll"), n = e.proc("refresh"), s = e.block(); t(s), n(s); var i, o = e.shared, l = o.gl, m = o.next, c = o.current; s(c, ".dirty=false;"), U(e, t), U(e, n, null, !0), g && (i = e.link(g)), a.oes_vertex_array_object && n(e.link(a.oes_vertex_array_object), ".bindVertexArrayOES(null);"); for (var u = 0; u < r.maxAttributes; ++u) { var A = n.def(o.attributes, "[", u, "]"), p = e.cond(A, ".buffer"); p.then(l, ".enableVertexAttribArray(", u, ");", l, ".bindBuffer(", Tn, ",", A, ".buffer.buffer);", l, ".vertexAttribPointer(", u, ",", A, ".size,", A, ".type,", A, ".normalized,", A, ".stride,", A, ".offset);").else(l, ".disableVertexAttribArray(", u, ");", l, ".vertexAttrib4f(", u, ",", A, ".x,", A, ".y,", A, ".z,", A, ".w);", A, ".buffer=null;"), n(p), g && n(i, ".vertexAttribDivisorANGLE(", u, ",", A, ".divisor);") } return n(e.shared.vao, ".currentVAO=null;", e.shared.vao, ".setVAO(", e.shared.vao, ".targetVAO);"), Object.keys(w).forEach(function (a) { var r = w[a], i = s.def(m, ".", a), o = e.block(); o("if(", i, "){", l, ".enable(", r, ")}else{", l, ".disable(", r, ")}", c, ".", a, "=", i, ";"), n(o), t("if(", i, "!==", c, ".", a, "){", o, "}") }), Object.keys(E).forEach(function (a) { var r, i, o = E[a], u = b[a], A = e.block(); if (A(l, ".", o, "("), _e(u)) { var p = u.length; r = e.global.def(m, ".", a), i = e.global.def(c, ".", a), A(D(p, function (e) { return r + "[" + e + "]" }), ");", D(p, function (e) { return i + "[" + e + "]=" + r + "[" + e + "];" }).join("")), t("if(", D(p, function (e) { return r + "[" + e + "]!==" + i + "[" + e + "]" }).join("||"), "){", A, "}") } else r = s.def(m, ".", a), i = s.def(c, ".", a), A(r, ");", c, ".", a, "=", r, ";"), t("if(", r, "!==", i, "){", A, "}"); n(A) }), e.compile() }(), compile: function (e, a, r, s, i) { var o = P(); o.stats = o.link(i), Object.keys(a.static).forEach(function (e) { K(o, a, e) }), kn.forEach(function (t) { K(o, e, t) }); var l = B(e, a, r, s, o); return function (e, t) { var n = e.proc("draw", 1); F(e, n), M(e, n, t.context), U(e, n, t.framebuffer), L(e, n, t), N(e, n, t.state), O(e, n, t, !1, !0); var a = t.shader.progVar.append(e, n); if (n(e.shared.gl, ".useProgram(", a, ".program);"), t.shader.program) H(e, n, t, t.shader.program); else { n(e.shared.vao, ".setVAO(null);"); var r = e.global.def("{}"), s = n.def(a, ".id"), i = n.def(r, "[", s, "]"); n(e.cond(i).then(i, ".call(this,a0);").else(i, "=", r, "[", s, "]=", e.link(function (n) { return G(H, e, t, n, 1) }), "(", a, ");", i, ".call(this,a0);")) } Object.keys(t.state).length > 0 && n(e.shared.current, ".dirty=true;") }(o, l), function (e, n) { var a = e.proc("scope", 3); e.batchId = "a2"; var r = e.shared, s = r.current; function i(t) { var s = n.shader[t]; s && a.set(r.shader, "." + t, s.append(e, a)) } M(e, a, n.context), n.framebuffer && n.framebuffer.append(e, a), ra(Object.keys(n.state)).forEach(function (t) { var s = n.state[t].append(e, a); _e(s) ? s.forEach(function (n, r) { a.set(e.next[t], "[" + r + "]", n) }) : a.set(r.next, "." + t, s) }), O(e, a, n, !0, !0), [pn, vn, _n, hn, dn].forEach(function (t) { var s = n.draw[t]; s && a.set(r.draw, "." + t, "" + s.append(e, a)) }), Object.keys(n.uniforms).forEach(function (s) { var i = n.uniforms[s].append(e, a); Array.isArray(i) && (i = "[" + i.join() + "]"), a.set(r.uniforms, "[" + t.id(s) + "]", i) }), Object.keys(n.attributes).forEach(function (t) { var r = n.attributes[t].append(e, a), s = e.scopeAttrib(t); Object.keys(new v).forEach(function (e) { a.set(s, "." + e, r[e]) }) }), n.scopeVAO && a.set(r.vao, ".targetVAO", n.scopeVAO.append(e, a)), i(un), i(An), Object.keys(n.state).length > 0 && (a(s, ".dirty=true;"), a.exit(s, ".dirty=true;")), a("a1(", e.shared.context, ",a0,", e.batchId, ");") }(o, l), function (e, t) { var n = e.proc("batch", 2); e.batchId = "0", F(e, n); var a = !1, r = !0; Object.keys(t.context).forEach(function (e) { a = a || t.context[e].propDep }), a || (M(e, n, t.context), r = !1); var s = t.framebuffer, i = !1; function o(e) { return e.contextDep && a || e.propDep } s ? (s.propDep ? a = i = !0 : s.contextDep && a && (i = !0), i || U(e, n, s)) : U(e, n, null), t.state.viewport && t.state.viewport.propDep && (a = !0), L(e, n, t), N(e, n, t.state, function (e) { return !o(e) }), t.profile && o(t.profile) || O(e, n, t, !1, "a1"), t.contextDep = a, t.needsContext = r, t.needsFramebuffer = i; var l = t.shader.progVar; if (l.contextDep && a || l.propDep) W(e, n, t, null); else { var m = l.append(e, n); if (n(e.shared.gl, ".useProgram(", m, ".program);"), t.shader.program) W(e, n, t, t.shader.program); else { n(e.shared.vao, ".setVAO(null);"); var c = e.global.def("{}"), u = n.def(m, ".id"), A = n.def(c, "[", u, "]"); n(e.cond(A).then(A, ".call(this,a0,a1);").else(A, "=", c, "[", u, "]=", e.link(function (n) { return G(W, e, t, n, 2) }), "(", m, ");", A, ".call(this,a0,a1);")) } } Object.keys(t.state).length > 0 && n(e.shared.current, ".dirty=true;") }(o, l), n(o.compile(), { destroy: function () { l.shader.program.destroy() } }) } } } var ua = function (e, t) { if (!t.ext_disjoint_timer_query) return null; var n = []; function a(e) { n.push(e) } var r = []; function s() { this.startQueryIndex = -1, this.endQueryIndex = -1, this.sum = 0, this.stats = null } var i = []; function o(e) { i.push(e) } var l = []; function m(e, t, n) { var a = i.pop() || new s; a.startQueryIndex = e, a.endQueryIndex = t, a.sum = 0, a.stats = n, l.push(a) } var c = [], u = []; return { beginQuery: function (e) { var a = n.pop() || t.ext_disjoint_timer_query.createQueryEXT(); t.ext_disjoint_timer_query.beginQueryEXT(35007, a), r.push(a), m(r.length - 1, r.length, e) }, endQuery: function () { t.ext_disjoint_timer_query.endQueryEXT(35007) }, pushScopeStats: m, update: function () { var e, n, s = r.length; if (0 !== s) { u.length = Math.max(u.length, s + 1), c.length = Math.max(c.length, s + 1), c[0] = 0, u[0] = 0; var i = 0; for (e = 0, n = 0; n < r.length; ++n) { var m = r[n]; t.ext_disjoint_timer_query.getQueryObjectEXT(m, 34919) ? (i += t.ext_disjoint_timer_query.getQueryObjectEXT(m, 34918), a(m)) : r[e++] = m, c[n + 1] = i, u[n + 1] = e } for (r.length = e, e = 0, n = 0; n < l.length; ++n) { var A = l[n], p = A.startQueryIndex, d = A.endQueryIndex; A.sum += c[d] - c[p]; var _ = u[p], v = u[d]; v === _ ? (A.stats.gpuTime += A.sum / 1e6, o(A)) : (A.startQueryIndex = _, A.endQueryIndex = v, l[e++] = A) } l.length = e } }, getNumPendingQueries: function () { return r.length }, clear: function () { n.push.apply(n, r); for (var e = 0; e < n.length; e++)t.ext_disjoint_timer_query.deleteQueryEXT(n[e]); r.length = 0, n.length = 0 }, restore: function () { r.length = 0, n.length = 0 } } }, Aa = "webglcontextlost", pa = "webglcontextrestored"; function da(e, t) { for (var n = 0; n < e.length; ++n)if (e[n] === t) return n; return -1 } return function (a) { var r = U(a); if (!r) return null; var s = r.gl, i = s.getContextAttributes(), o = s.isContextLost(), l = function (t, n) { var a = {}; function r(n) { S.type(n, "string", "extension name must be string"); var r, s = n.toLowerCase(); try { r = a[s] = t.getExtension(s) } catch (e) { } return !!r } for (var s = 0; s < n.extensions.length; ++s) { var i = n.extensions[s]; if (!r(i)) return n.onDestroy(), n.onDone('"' + i + '" extension is not supported by the current WebGL context, try upgrading your system or a different browser'), null } return n.optionalExtensions.forEach(r), { extensions: a, restore: function () { Object.keys(a).forEach(function (e) { if (a[e] && !r(e)) throw new Error("(regl): error restoring extension " + e) }) } } }(s, r); if (!l) return null; var m, c, u = (m = { "": 0 }, c = [""], { id: function (e) { var t = m[e]; return t || (t = m[e] = c.length, c.push(e), t) }, str: function (e) { return c[e] } }), A = { vaoCount: 0, bufferCount: 0, elementsCount: 0, framebufferCount: 0, shaderCount: 0, textureCount: 0, cubeCount: 0, renderbufferCount: 0, maxTextureUnits: 0 }, p = l.extensions, d = ua(0, p), _ = P(), v = s.drawingBufferWidth, h = s.drawingBufferHeight, g = { tick: 0, time: 0, viewportWidth: v, viewportHeight: h, framebufferWidth: v, framebufferHeight: h, drawingBufferWidth: v, drawingBufferHeight: h, pixelRatio: r.pixelRatio }, f = function (e, t) { var n = 1; t.ext_texture_filter_anisotropic && (n = e.getParameter(34047)); var a = 1, r = 1; t.webgl_draw_buffers && (a = e.getParameter(34852), r = e.getParameter(36063)); var s = !!t.oes_texture_float; if (s) { var i = e.createTexture(); e.bindTexture(O, i), e.texImage2D(O, 0, V, 1, 1, 0, V, Q, null); var o = e.createFramebuffer(); if (e.bindFramebuffer(j, o), e.framebufferTexture2D(j, 36064, O, i, 0), e.bindTexture(O, null), 36053 !== e.checkFramebufferStatus(j)) s = !1; else { e.viewport(0, 0, 1, 1), e.clearColor(1, 0, 0, 1), e.clear(16384); var l = F.allocType(Q, 4); e.readPixels(0, 0, 1, 1, V, Q, l), e.getError() ? s = !1 : (e.deleteFramebuffer(o), e.deleteTexture(i), s = 1 === l[0]), F.freeType(l) } } var m = !0; if ("undefined" == typeof navigator || !(/MSIE/.test(navigator.userAgent) || /Trident\//.test(navigator.appVersion) || /Edge/.test(navigator.userAgent))) { var c = e.createTexture(), u = F.allocType(5121, 36); e.activeTexture(33984), e.bindTexture(34067, c), e.texImage2D(34069, 0, V, 3, 3, 0, V, 5121, u), F.freeType(u), e.bindTexture(34067, null), e.deleteTexture(c), m = !e.getError() } return { colorBits: [e.getParameter(3410), e.getParameter(3411), e.getParameter(3412), e.getParameter(3413)], depthBits: e.getParameter(3414), stencilBits: e.getParameter(3415), subpixelBits: e.getParameter(3408), extensions: Object.keys(t).filter(function (e) { return !!t[e] }), maxAnisotropic: n, maxDrawbuffers: a, maxColorAttachments: r, pointSizeDims: e.getParameter(33901), lineWidthDims: e.getParameter(33902), maxViewportDims: e.getParameter(3386), maxCombinedTextureUnits: e.getParameter(35661), maxCubeMapSize: e.getParameter(34076), maxRenderbufferSize: e.getParameter(34024), maxTextureUnits: e.getParameter(34930), maxTextureSize: e.getParameter(3379), maxAttributes: e.getParameter(34921), maxVertexUniforms: e.getParameter(36347), maxVertexTextureUnits: e.getParameter(35660), maxVaryingVectors: e.getParameter(36348), maxFragmentUniforms: e.getParameter(36349), glsl: e.getParameter(35724), renderer: e.getParameter(7937), vendor: e.getParameter(7936), version: e.getParameter(7938), readFloat: s, npotTextureCube: m } }(s, p), b = function (e, n, a, r) { var s = 0, i = {}; function o(t) { this.id = s++, this.buffer = e.createBuffer(), this.type = t, this.usage = 35044, this.byteLength = 0, this.dimension = 1, this.dtype = te, this.persistentData = null, a.profile && (this.stats = { size: 0 }) } o.prototype.bind = function () { e.bindBuffer(this.type, this.buffer) }, o.prototype.destroy = function () { u(this) }; var l = []; function m(t, n, a) { t.byteLength = n.byteLength, e.bufferData(t.type, n, a) } function c(e, n, a, r, s, i) { var o, l; if (e.usage = a, Array.isArray(n)) { if (e.dtype = r || ne, n.length > 0) if (Array.isArray(n[0])) { o = ee(n); for (var c = 1, u = 1; u < o.length; ++u)c *= o[u]; e.dimension = c, m(e, l = $(n, o, e.dtype), a), i ? e.persistentData = l : F.freeType(l) } else if ("number" == typeof n[0]) { e.dimension = s; var A = F.allocType(e.dtype, n.length); se(A, n), m(e, A, a), i ? e.persistentData = A : F.freeType(A) } else t(n[0]) ? (e.dimension = n[0].length, e.dtype = r || re(n[0]) || ne, m(e, l = $(n, [n.length, n[0].length], e.dtype), a), i ? e.persistentData = l : F.freeType(l)) : S.raise("invalid buffer data") } else if (t(n)) e.dtype = r || re(n), e.dimension = s, m(e, n, a), i && (e.persistentData = new Uint8Array(new Uint8Array(n.buffer))); else if (G(n)) { o = n.shape; var p = n.stride, d = n.offset, _ = 0, v = 0, h = 0, g = 0; 1 === o.length ? (_ = o[0], v = 1, h = p[0], g = 0) : 2 === o.length ? (_ = o[0], v = o[1], h = p[0], g = p[1]) : S.raise("invalid shape"), e.dtype = r || re(n.data) || ne, e.dimension = v; var f = F.allocType(e.dtype, _ * v); ie(f, n.data, _, v, h, g, d), m(e, f, a), i ? e.persistentData = f : F.freeType(f) } else n instanceof ArrayBuffer ? (e.dtype = te, e.dimension = s, m(e, n, a), i && (e.persistentData = new Uint8Array(new Uint8Array(n)))) : S.raise("invalid buffer data") } function u(t) { n.bufferCount--, r(t); var a = t.buffer; S(a, "buffer must not be deleted already"), e.deleteBuffer(a), t.buffer = null, delete i[t.id] } return a.profile && (n.getTotalBufferSize = function () { var e = 0; return Object.keys(i).forEach(function (t) { e += i[t].stats.size }), e }), { create: function (r, s, l, m) { n.bufferCount++; var A = new o(s); function p(n) { var r = 35044, s = null, i = 0, o = 0, l = 1; return Array.isArray(n) || t(n) || G(n) || n instanceof ArrayBuffer ? s = n : "number" == typeof n ? i = 0 | n : n && (S.type(n, "object", "buffer arguments must be an object, a number or an array"), "data" in n && (S(null === s || Array.isArray(s) || t(s) || G(s), "invalid data for buffer"), s = n.data), "usage" in n && (S.parameter(n.usage, Z, "invalid buffer usage"), r = Z[n.usage]), "type" in n && (S.parameter(n.type, X, "invalid buffer type"), o = X[n.type]), "dimension" in n && (S.type(n.dimension, "number", "invalid dimension"), l = 0 | n.dimension), "length" in n && (S.nni(i, "buffer length must be a nonnegative integer"), i = 0 | n.length)), A.bind(), s ? c(A, s, r, o, l, m) : (i && e.bufferData(A.type, i, r), A.dtype = o || te, A.usage = r, A.dimension = l, A.byteLength = i), a.profile && (A.stats.size = A.byteLength * ae[A.dtype]), p } function d(t, n) { S(n + t.byteLength <= A.byteLength, "invalid buffer subdata call, buffer is too small.  Can't write data of size " + t.byteLength + " starting from offset " + n + " to a buffer of size " + A.byteLength), e.bufferSubData(A.type, n, t) } return i[A.id] = A, l || p(r), p._reglType = "buffer", p._buffer = A, p.subdata = function (e, n) { var a, r = 0 | (n || 0); if (A.bind(), t(e) || e instanceof ArrayBuffer) d(e, r); else if (Array.isArray(e)) { if (e.length > 0) if ("number" == typeof e[0]) { var s = F.allocType(A.dtype, e.length); se(s, e), d(s, r), F.freeType(s) } else if (Array.isArray(e[0]) || t(e[0])) { a = ee(e); var i = $(e, a, A.dtype); d(i, r), F.freeType(i) } else S.raise("invalid buffer data") } else if (G(e)) { a = e.shape; var o = e.stride, l = 0, m = 0, c = 0, u = 0; 1 === a.length ? (l = a[0], m = 1, c = o[0], u = 0) : 2 === a.length ? (l = a[0], m = a[1], c = o[0], u = o[1]) : S.raise("invalid shape"); var _ = Array.isArray(e.data) ? A.dtype : re(e.data), v = F.allocType(_, l * m); ie(v, e.data, l, m, c, u, e.offset), d(v, r), F.freeType(v) } else S.raise("invalid data for buffer subdata"); return p }, a.profile && (p.stats = A.stats), p.destroy = function () { u(A) }, p }, createStream: function (e, t) { var n = l.pop(); return n || (n = new o(e)), n.bind(), c(n, t, 35040, 0, 1, !1), n }, destroyStream: function (e) { l.push(e) }, clear: function () { H(i).forEach(u), l.forEach(u) }, getBuffer: function (e) { return e && e._buffer instanceof o ? e._buffer : null }, restore: function () { H(i).forEach(function (t) { t.buffer = e.createBuffer(), e.bindBuffer(t.type, t.buffer), e.bufferData(t.type, t.persistentData || t.byteLength, t.usage) }) }, _initBuffer: c } }(s, A, r, function (e) { return x.destroyBuffer(e) }), x = function (e, n, a, r, s) { for (var i = a.maxAttributes, o = new Array(i), l = 0; l < i; ++l)o[l] = new kt; var m = 0, c = {}, u = { Record: kt, scope: {}, state: o, currentVAO: null, targetVAO: null, restore: A() ? function () { A() && H(c).forEach(function (e) { e.refresh() }) } : function () { }, createVAO: function (e) { var a = new d; function o(e) { S(Array.isArray(e), "arguments to vertex array constructor must be an array"), S(e.length < i, "too many attributes"), S(e.length > 0, "must specify at least one attribute"); var r = {}, l = a.attributes; l.length = e.length; for (var m = 0; m < e.length; ++m) { var c, u = e[m], A = l[m] = new kt, p = u.data || u; Array.isArray(p) || t(p) || G(p) ? (a.buffers[m] && (c = a.buffers[m], t(p) && c._buffer.byteLength >= p.byteLength ? c.subdata(p) : (c.destroy(), a.buffers[m] = null)), a.buffers[m] || (c = a.buffers[m] = s.create(u, 34962, !1, !0)), A.buffer = s.getBuffer(c), A.size = 0 | A.buffer.dimension, A.normalized = !1, A.type = A.buffer.dtype, A.offset = 0, A.stride = 0, A.divisor = 0, A.state = 1, r[m] = 1) : s.getBuffer(u) ? (A.buffer = s.getBuffer(u), A.size = 0 | A.buffer.dimension, A.normalized = !1, A.type = A.buffer.dtype, A.offset = 0, A.stride = 0, A.divisor = 0, A.state = 1) : s.getBuffer(u.buffer) ? (A.buffer = s.getBuffer(u.buffer), A.size = 0 | (+u.size || A.buffer.dimension), A.normalized = !!u.normalized || !1, "type" in u ? (S.parameter(u.type, X, "invalid buffer type"), A.type = X[u.type]) : A.type = A.buffer.dtype, A.offset = 0 | (u.offset || 0), A.stride = 0 | (u.stride || 0), A.divisor = 0 | (u.divisor || 0), A.state = 1, S(A.size >= 1 && A.size <= 4, "size must be between 1 and 4"), S(A.offset >= 0, "invalid offset"), S(A.stride >= 0 && A.stride <= 255, "stride must be between 0 and 255"), S(A.divisor >= 0, "divisor must be positive"), S(!A.divisor || !!n.angle_instanced_arrays, "ANGLE_instanced_arrays must be enabled to use divisor")) : "x" in u ? (S(m > 0, "first attribute must not be a constant"), A.x = +u.x || 0, A.y = +u.y || 0, A.z = +u.z || 0, A.w = +u.w || 0, A.state = 2) : S(!1, "invalid attribute spec for location " + m) } for (var d = 0; d < a.buffers.length; ++d)!r[d] && a.buffers[d] && (a.buffers[d].destroy(), a.buffers[d] = null); return a.refresh(), o } return r.vaoCount += 1, o.destroy = function () { for (var e = 0; e < a.buffers.length; ++e)a.buffers[e] && a.buffers[e].destroy(); a.buffers.length = 0, a.destroy() }, o._vao = a, o._reglType = "vao", o(e) }, getVAO: function (e) { return "function" == typeof e && e._vao ? e._vao : null }, destroyBuffer: function (t) { for (var n = 0; n < o.length; ++n) { var a = o[n]; a.buffer === t && (e.disableVertexAttribArray(n), a.buffer = null) } }, setVAO: A() ? function (e) { if (e !== u.currentVAO) { var t = A(); e ? t.bindVertexArrayOES(e.vao) : t.bindVertexArrayOES(null), u.currentVAO = e } } : function (t) { if (t !== u.currentVAO) { if (t) t.bindAttrs(); else for (var n = p(), a = 0; a < o.length; ++a) { var r = o[a]; r.buffer ? (e.enableVertexAttribArray(a), e.vertexAttribPointer(a, r.size, r.type, r.normalized, r.stride, r.offfset), n && r.divisor && n.vertexAttribDivisorANGLE(a, r.divisor)) : (e.disableVertexAttribArray(a), e.vertexAttrib4f(a, r.x, r.y, r.z, r.w)) } u.currentVAO = t } }, clear: A() ? function () { H(c).forEach(function (e) { e.destroy() }) } : function () { } }; function A() { return n.oes_vertex_array_object } function p() { return n.angle_instanced_arrays } function d() { this.id = ++m, this.attributes = []; var e = A(); this.vao = e ? e.createVertexArrayOES() : null, c[this.id] = this, this.buffers = [] } return d.prototype.bindAttrs = function () { for (var t = p(), n = this.attributes, a = 0; a < n.length; ++a) { var r = n[a]; r.buffer ? (e.enableVertexAttribArray(a), e.bindBuffer(34962, r.buffer.buffer), e.vertexAttribPointer(a, r.size, r.type, r.normalized, r.stride, r.offset), t && r.divisor && t.vertexAttribDivisorANGLE(a, r.divisor)) : (e.disableVertexAttribArray(a), e.vertexAttrib4f(a, r.x, r.y, r.z, r.w)) } for (var s = n.length; s < i; ++s)e.disableVertexAttribArray(s) }, d.prototype.refresh = function () { var e = A(); e && (e.bindVertexArrayOES(this.vao), this.bindAttrs(), u.currentVAO = this) }, d.prototype.destroy = function () { if (this.vao) { var e = A(); this === u.currentVAO && (u.currentVAO = null, e.bindVertexArrayOES(null)), e.deleteVertexArrayOES(this.vao), this.vao = null } c[this.id] && (delete c[this.id], r.vaoCount -= 1) }, u }(s, p, f, A, b), y = function (e, n, a, r) { var s = {}, i = 0, o = { uint8: le, uint16: me }; function l(e) { this.id = i++, s[this.id] = this, this.buffer = e, this.primType = 4, this.vertCount = 0, this.type = 0 } n.oes_element_index_uint && (o.uint32 = ce), l.prototype.bind = function () { this.buffer.bind() }; var m = []; function c(r, s, i, o, l, m, c) { var u; if (r.buffer.bind(), s) { var A = c; c || t(s) && (!G(s) || t(s.data)) || (A = n.oes_element_index_uint ? ce : me), a._initBuffer(r.buffer, s, i, A, 3) } else e.bufferData(ue, m, i), r.buffer.dtype = u || le, r.buffer.usage = i, r.buffer.dimension = 3, r.buffer.byteLength = m; if (u = c, !c) { switch (r.buffer.dtype) { case le: case 5120: u = le; break; case me: case 5122: u = me; break; case ce: case 5124: u = ce; break; default: S.raise("unsupported type for element array") }r.buffer.dtype = u } r.type = u, S(u !== ce || !!n.oes_element_index_uint, "32 bit element buffers not supported, enable oes_element_index_uint first"); var p = l; p < 0 && (p = r.buffer.byteLength, u === me ? p >>= 1 : u === ce && (p >>= 2)), r.vertCount = p; var d = o; if (o < 0) { d = 4; var _ = r.buffer.dimension; 1 === _ && (d = 0), 2 === _ && (d = 1), 3 === _ && (d = 4) } r.primType = d } function u(e) { r.elementsCount--, S(null !== e.buffer, "must not double destroy elements"), delete s[e.id], e.buffer.destroy(), e.buffer = null } return { create: function (e, n) { var s = a.create(null, ue, !0), i = new l(s._buffer); function m(e) { if (e) if ("number" == typeof e) s(e), i.primType = 4, i.vertCount = 0 | e, i.type = le; else { var n = null, a = 35044, r = -1, l = -1, u = 0, A = 0; Array.isArray(e) || t(e) || G(e) ? n = e : (S.type(e, "object", "invalid arguments for elements"), "data" in e && (n = e.data, S(Array.isArray(n) || t(n) || G(n), "invalid data for element buffer")), "usage" in e && (S.parameter(e.usage, Z, "invalid element buffer usage"), a = Z[e.usage]), "primitive" in e && (S.parameter(e.primitive, oe, "invalid element buffer primitive"), r = oe[e.primitive]), "count" in e && (S("number" == typeof e.count && e.count >= 0, "invalid vertex count for elements"), l = 0 | e.count), "type" in e && (S.parameter(e.type, o, "invalid buffer type"), A = o[e.type]), "length" in e ? u = 0 | e.length : (u = l, A === me || 5122 === A ? u *= 2 : A !== ce && 5124 !== A || (u *= 4))), c(i, n, a, r, l, u, A) } else s(), i.primType = 4, i.vertCount = 0, i.type = le; return m } return r.elementsCount++, m(e), m._reglType = "elements", m._elements = i, m.subdata = function (e, t) { return s.subdata(e, t), m }, m.destroy = function () { u(i) }, m }, createStream: function (e) { var t = m.pop(); return t || (t = new l(a.create(null, ue, !0, !1)._buffer)), c(t, e, 35040, -1, -1, 0, 0), t }, destroyStream: function (e) { m.push(e) }, getElements: function (e) { return "function" == typeof e && e._elements instanceof l ? e._elements : null }, clear: function () { H(s).forEach(u) } } }(s, p, b, A), w = function (e, t, a, r) { var s = {}, i = {}; function o(e, t, n, a) { this.name = e, this.id = t, this.location = n, this.info = a } function l(e, t) { for (var n = 0; n < e.length; ++n)if (e[n].id === t.id) return void (e[n].location = t.location); e.push(t) } function m(n, a, r) { var o = 35632 === n ? s : i, l = o[a]; if (!l) { var m = t.str(a); l = e.createShader(n), e.shaderSource(l, m), e.compileShader(l), S.shaderError(e, l, m, n, r), o[a] = l } return l } var c = {}, u = [], A = 0; function p(e, t) { this.id = A++, this.fragId = e, this.vertId = t, this.program = null, this.uniforms = [], this.attributes = [], this.refCount = 1, r.profile && (this.stats = { uniformsCount: 0, attributesCount: 0 }) } function d(n, a, s) { var i, c, u = m(35632, n.fragId), A = m(35633, n.vertId), p = n.program = e.createProgram(); if (e.attachShader(p, u), e.attachShader(p, A), s) for (i = 0; i < s.length; ++i) { var d = s[i]; e.bindAttribLocation(p, d[0], d[1]) } e.linkProgram(p), S.linkError(e, p, t.str(n.fragId), t.str(n.vertId), a); var _ = e.getProgramParameter(p, 35718); r.profile && (n.stats.uniformsCount = _); var v = n.uniforms; for (i = 0; i < _; ++i)if (c = e.getActiveUniform(p, i)) if (c.size > 1) for (var h = 0; h < c.size; ++h) { var g = c.name.replace("[0]", "[" + h + "]"); l(v, new o(g, t.id(g), e.getUniformLocation(p, g), c)) } else l(v, new o(c.name, t.id(c.name), e.getUniformLocation(p, c.name), c)); var f = e.getProgramParameter(p, 35721); r.profile && (n.stats.attributesCount = f); var b = n.attributes; for (i = 0; i < f; ++i)(c = e.getActiveAttrib(p, i)) && l(b, new o(c.name, t.id(c.name), e.getAttribLocation(p, c.name), c)) } return r.profile && (a.getMaxUniformsCount = function () { var e = 0; return u.forEach(function (t) { t.stats.uniformsCount > e && (e = t.stats.uniformsCount) }), e }, a.getMaxAttributesCount = function () { var e = 0; return u.forEach(function (t) { t.stats.attributesCount > e && (e = t.stats.attributesCount) }), e }), { clear: function () { var t = e.deleteShader.bind(e); H(s).forEach(t), s = {}, H(i).forEach(t), i = {}, u.forEach(function (t) { e.deleteProgram(t.program) }), u.length = 0, c = {}, a.shaderCount = 0 }, program: function (t, r, o, l) { S.command(t >= 0, "missing vertex shader", o), S.command(r >= 0, "missing fragment shader", o); var m = c[r]; m || (m = c[r] = {}); var A = m[t]; if (A && (A.refCount++, !l)) return A; var _ = new p(r, t); return a.shaderCount++, d(_, o, l), A || (m[t] = _), u.push(_), n(_, { destroy: function () { if (_.refCount--, _.refCount <= 0) { e.deleteProgram(_.program); var t = u.indexOf(_); u.splice(t, 1), a.shaderCount-- } m[_.vertId].refCount <= 0 && (e.deleteShader(i[_.vertId]), delete i[_.vertId], delete c[_.fragId][_.vertId]), Object.keys(c[_.fragId]).length || (e.deleteShader(s[_.fragId]), delete s[_.fragId], delete c[_.fragId]) } }) }, restore: function () { s = {}, i = {}; for (var e = 0; e < u.length; ++e)d(u[e], null, u[e].attributes.map(function (e) { return [e.location, e.name] })) }, shader: m, frag: -1, vert: -1 } }(s, u, A, r), E = dt(s, p, f, function () { k.procs.poll() }, g, A, r), z = function (e, t, n, a, r) { var s = { rgba4: vt, rgb565: 36194, "rgb5 a1": 32855, depth: 33189, stencil: 36168, "depth stencil": 34041 }; t.ext_srgb && (s.srgba = 35907), t.ext_color_buffer_half_float && (s.rgba16f = 34842, s.rgb16f = 34843), t.webgl_color_buffer_float && (s.rgba32f = 34836); var i = []; Object.keys(s).forEach(function (e) { var t = s[e]; i[t] = e }); var o = 0, l = {}; function m(e) { this.id = o++, this.refCount = 1, this.renderbuffer = e, this.format = vt, this.width = 0, this.height = 0, r.profile && (this.stats = { size: 0 }) } function c(t) { var n = t.renderbuffer; S(n, "must not double destroy renderbuffer"), e.bindRenderbuffer(_t, null), e.deleteRenderbuffer(n), t.renderbuffer = null, t.refCount = 0, delete l[t.id], a.renderbufferCount-- } return m.prototype.decRef = function () { --this.refCount <= 0 && c(this) }, r.profile && (a.getTotalRenderbufferSize = function () { var e = 0; return Object.keys(l).forEach(function (t) { e += l[t].stats.size }), e }), { create: function (t, o) { var c = new m(e.createRenderbuffer()); function u(t, a) { var o = 0, l = 0, m = vt; if ("object" == typeof t && t) { var A = t; if ("shape" in A) { var p = A.shape; S(Array.isArray(p) && p.length >= 2, "invalid renderbuffer shape"), o = 0 | p[0], l = 0 | p[1] } else "radius" in A && (o = l = 0 | A.radius), "width" in A && (o = 0 | A.width), "height" in A && (l = 0 | A.height); "format" in A && (S.parameter(A.format, s, "invalid renderbuffer format"), m = s[A.format]) } else "number" == typeof t ? (o = 0 | t, l = "number" == typeof a ? 0 | a : o) : t ? S.raise("invalid arguments to renderbuffer constructor") : o = l = 1; if (S(o > 0 && l > 0 && o <= n.maxRenderbufferSize && l <= n.maxRenderbufferSize, "invalid renderbuffer size"), o !== c.width || l !== c.height || m !== c.format) return u.width = c.width = o, u.height = c.height = l, c.format = m, e.bindRenderbuffer(_t, c.renderbuffer), e.renderbufferStorage(_t, m, o, l), S(0 === e.getError(), "invalid render buffer format"), r.profile && (c.stats.size = gt(c.format, c.width, c.height)), u.format = i[c.format], u } return l[c.id] = c, a.renderbufferCount++, u(t, o), u.resize = function (t, a) { var s = 0 | t, i = 0 | a || s; return s === c.width && i === c.height || (S(s > 0 && i > 0 && s <= n.maxRenderbufferSize && i <= n.maxRenderbufferSize, "invalid renderbuffer size"), u.width = c.width = s, u.height = c.height = i, e.bindRenderbuffer(_t, c.renderbuffer), e.renderbufferStorage(_t, c.format, s, i), S(0 === e.getError(), "invalid render buffer format"), r.profile && (c.stats.size = gt(c.format, c.width, c.height))), u }, u._reglType = "renderbuffer", u._renderbuffer = c, r.profile && (u.stats = c.stats), u.destroy = function () { c.decRef() }, u }, clear: function () { H(l).forEach(c) }, restore: function () { H(l).forEach(function (t) { t.renderbuffer = e.createRenderbuffer(), e.bindRenderbuffer(_t, t.renderbuffer), e.renderbufferStorage(_t, t.format, t.width, t.height) }), e.bindRenderbuffer(_t, null) } } }(s, p, f, A, r), q = function (e, t, a, r, s, i) { var o = { cur: null, next: null, dirty: !1, setFBO: null }, l = ["rgba"], m = ["rgba4", "rgb565", "rgb5 a1"]; t.ext_srgb && m.push("srgba"), t.ext_color_buffer_half_float && m.push("rgba16f", "rgb16f"), t.webgl_color_buffer_float && m.push("rgba32f"); var c = ["uint8"]; function u(e, t, n) { this.target = e, this.texture = t, this.renderbuffer = n; var a = 0, r = 0; t ? (a = t.width, r = t.height) : n && (a = n.width, r = n.height), this.width = a, this.height = r } function A(e) { e && (e.texture && e.texture._texture.decRef(), e.renderbuffer && e.renderbuffer._renderbuffer.decRef()) } function p(e, t, n) { if (e) if (e.texture) { var a = e.texture._texture, r = Math.max(1, a.width), s = Math.max(1, a.height); S(r === t && s === n, "inconsistent width/height for supplied texture"), a.refCount += 1 } else { var i = e.renderbuffer._renderbuffer; S(i.width === t && i.height === n, "inconsistent width/height for renderbuffer"), i.refCount += 1 } } function d(t, n) { n && (n.texture ? e.framebufferTexture2D(ft, t, n.target, n.texture._texture.texture, 0) : e.framebufferRenderbuffer(ft, t, bt, n.renderbuffer._renderbuffer.renderbuffer)) } function _(e) { var t = xt, n = null, a = null, r = e; "object" == typeof e && (r = e.data, "target" in e && (t = 0 | e.target)), S.type(r, "function", "invalid attachment data"); var s = r._reglType; return "texture2d" === s ? (n = r, S(t === xt)) : "textureCube" === s ? (n = r, S(t >= yt && t < 34075, "invalid cube map target")) : "renderbuffer" === s ? (a = r, t = bt) : S.raise("invalid regl object for attachment"), new u(t, n, a) } function v(e, t, n, a, i) { if (n) { var o = r.create2D({ width: e, height: t, format: a, type: i }); return o._texture.refCount = 0, new u(xt, o, null) } var l = s.create({ width: e, height: t, format: a }); return l._renderbuffer.refCount = 0, new u(bt, null, l) } function h(e) { return e && (e.texture || e.renderbuffer) } function g(e, t, n) { e && (e.texture ? e.texture.resize(t, n) : e.renderbuffer && e.renderbuffer.resize(t, n), e.width = t, e.height = n) } t.oes_texture_half_float && c.push("half float", "float16"), t.oes_texture_float && c.push("float", "float32"); var f = 0, b = {}; function x() { this.id = f++, b[this.id] = this, this.framebuffer = e.createFramebuffer(), this.width = 0, this.height = 0, this.colorAttachments = [], this.depthAttachment = null, this.stencilAttachment = null, this.depthStencilAttachment = null } function y(e) { e.colorAttachments.forEach(A), A(e.depthAttachment), A(e.stencilAttachment), A(e.depthStencilAttachment) } function w(t) { var n = t.framebuffer; S(n, "must not double destroy framebuffer"), e.deleteFramebuffer(n), t.framebuffer = null, i.framebufferCount--, delete b[t.id] } function E(t) { var n; e.bindFramebuffer(ft, t.framebuffer); var r = t.colorAttachments; for (n = 0; n < r.length; ++n)d(36064 + n, r[n]); for (n = r.length; n < a.maxColorAttachments; ++n)e.framebufferTexture2D(ft, 36064 + n, xt, null, 0); e.framebufferTexture2D(ft, 33306, xt, null, 0), e.framebufferTexture2D(ft, 36096, xt, null, 0), e.framebufferTexture2D(ft, 36128, xt, null, 0), d(36096, t.depthAttachment), d(36128, t.stencilAttachment), d(33306, t.depthStencilAttachment); var s = e.checkFramebufferStatus(ft); e.isContextLost() || 36053 === s || S.raise("framebuffer configuration not supported, status = " + qt[s]), e.bindFramebuffer(ft, o.next ? o.next.framebuffer : null), o.cur = o.next, e.getError() } function z(e, r) { var s = new x; function u(e, n) { var r; S(o.next !== s, "can not update framebuffer which is currently in use"); var i = 0, A = 0, d = !0, g = !0, f = null, b = !0, x = "rgba", w = "uint8", z = 1, q = null, k = null, T = null, I = !1; if ("number" == typeof e) i = 0 | e, A = 0 | n || i; else if (e) { S.type(e, "object", "invalid arguments for framebuffer"); var C = e; if ("shape" in C) { var R = C.shape; S(Array.isArray(R) && R.length >= 2, "invalid shape for framebuffer"), i = R[0], A = R[1] } else "radius" in C && (i = A = C.radius), "width" in C && (i = C.width), "height" in C && (A = C.height); ("color" in C || "colors" in C) && (f = C.color || C.colors, Array.isArray(f) && S(1 === f.length || t.webgl_draw_buffers, "multiple render targets not supported")), f || ("colorCount" in C && (z = 0 | C.colorCount, S(z > 0, "invalid color buffer count")), "colorTexture" in C && (b = !!C.colorTexture, x = "rgba4"), "colorType" in C && (w = C.colorType, b ? (S(t.oes_texture_float || !("float" === w || "float32" === w), "you must enable OES_texture_float in order to use floating point framebuffer objects"), S(t.oes_texture_half_float || !("half float" === w || "float16" === w), "you must enable OES_texture_half_float in order to use 16-bit floating point framebuffer objects")) : "half float" === w || "float16" === w ? (S(t.ext_color_buffer_half_float, "you must enable EXT_color_buffer_half_float to use 16-bit render buffers"), x = "rgba16f") : "float" !== w && "float32" !== w || (S(t.webgl_color_buffer_float, "you must enable WEBGL_color_buffer_float in order to use 32-bit floating point renderbuffers"), x = "rgba32f"), S.oneOf(w, c, "invalid color type")), "colorFormat" in C && (x = C.colorFormat, l.indexOf(x) >= 0 ? b = !0 : m.indexOf(x) >= 0 ? b = !1 : b ? S.oneOf(C.colorFormat, l, "invalid color format for texture") : S.oneOf(C.colorFormat, m, "invalid color format for renderbuffer"))), ("depthTexture" in C || "depthStencilTexture" in C) && (I = !(!C.depthTexture && !C.depthStencilTexture), S(!I || t.webgl_depth_texture, "webgl_depth_texture extension not supported")), "depth" in C && ("boolean" == typeof C.depth ? d = C.depth : (q = C.depth, g = !1)), "stencil" in C && ("boolean" == typeof C.stencil ? g = C.stencil : (k = C.stencil, d = !1)), "depthStencil" in C && ("boolean" == typeof C.depthStencil ? d = g = C.depthStencil : (T = C.depthStencil, d = !1, g = !1)) } else i = A = 1; var P = null, B = null, M = null, U = null; if (Array.isArray(f)) P = f.map(_); else if (f) P = [_(f)]; else for (P = new Array(z), r = 0; r < z; ++r)P[r] = v(i, A, b, x, w); S(t.webgl_draw_buffers || P.length <= 1, "you must enable the WEBGL_draw_buffers extension in order to use multiple color buffers."), S(P.length <= a.maxColorAttachments, "too many color attachments, not supported"), i = i || P[0].width, A = A || P[0].height, q ? B = _(q) : d && !g && (B = v(i, A, I, "depth", "uint32")), k ? M = _(k) : g && !d && (M = v(i, A, !1, "stencil", "uint8")), T ? U = _(T) : !q && !k && g && d && (U = v(i, A, I, "depth stencil", "depth stencil")), S(!!q + !!k + !!T <= 1, "invalid framebuffer configuration, can specify exactly one depth/stencil attachment"); var D = null; for (r = 0; r < P.length; ++r)if (p(P[r], i, A), S(!P[r] || P[r].texture && wt.indexOf(P[r].texture._texture.format) >= 0 || P[r].renderbuffer && zt.indexOf(P[r].renderbuffer._renderbuffer.format) >= 0, "framebuffer color attachment " + r + " is invalid"), P[r] && P[r].texture) { var L = Et[P[r].texture._texture.format] * St[P[r].texture._texture.type]; null === D ? D = L : S(D === L, "all color attachments much have the same number of bits per pixel.") } return p(B, i, A), S(!B || B.texture && 6402 === B.texture._texture.format || B.renderbuffer && 33189 === B.renderbuffer._renderbuffer.format, "invalid depth attachment for framebuffer object"), p(M, i, A), S(!M || M.renderbuffer && 36168 === M.renderbuffer._renderbuffer.format, "invalid stencil attachment for framebuffer object"), p(U, i, A), S(!U || U.texture && 34041 === U.texture._texture.format || U.renderbuffer && 34041 === U.renderbuffer._renderbuffer.format, "invalid depth-stencil attachment for framebuffer object"), y(s), s.width = i, s.height = A, s.colorAttachments = P, s.depthAttachment = B, s.stencilAttachment = M, s.depthStencilAttachment = U, u.color = P.map(h), u.depth = h(B), u.stencil = h(M), u.depthStencil = h(U), u.width = s.width, u.height = s.height, E(s), u } return i.framebufferCount++, u(e, r), n(u, { resize: function (e, t) { S(o.next !== s, "can not resize a framebuffer which is currently in use"); var n = Math.max(0 | e, 1), a = Math.max(0 | t || n, 1); if (n === s.width && a === s.height) return u; for (var r = s.colorAttachments, i = 0; i < r.length; ++i)g(r[i], n, a); return g(s.depthAttachment, n, a), g(s.stencilAttachment, n, a), g(s.depthStencilAttachment, n, a), s.width = u.width = n, s.height = u.height = a, E(s), u }, _reglType: "framebuffer", _framebuffer: s, destroy: function () { w(s), y(s) }, use: function (e) { o.setFBO({ framebuffer: u }, e) } }) } return n(o, { getFramebuffer: function (e) { if ("function" == typeof e && "framebuffer" === e._reglType) { var t = e._framebuffer; if (t instanceof x) return t } return null }, create: z, createCube: function (e) { var s = Array(6); function i(e) { var a; S(s.indexOf(o.next) < 0, "can not update framebuffer which is currently in use"); var m, u = { color: null }, A = 0, p = null, d = "rgba", _ = "uint8", v = 1; if ("number" == typeof e) A = 0 | e; else if (e) { S.type(e, "object", "invalid arguments for framebuffer"); var h = e; if ("shape" in h) { var g = h.shape; S(Array.isArray(g) && g.length >= 2, "invalid shape for framebuffer"), S(g[0] === g[1], "cube framebuffer must be square"), A = g[0] } else "radius" in h && (A = 0 | h.radius), "width" in h ? (A = 0 | h.width, "height" in h && S(h.height === A, "must be square")) : "height" in h && (A = 0 | h.height); ("color" in h || "colors" in h) && (p = h.color || h.colors, Array.isArray(p) && S(1 === p.length || t.webgl_draw_buffers, "multiple render targets not supported")), p || ("colorCount" in h && (v = 0 | h.colorCount, S(v > 0, "invalid color buffer count")), "colorType" in h && (S.oneOf(h.colorType, c, "invalid color type"), _ = h.colorType), "colorFormat" in h && (d = h.colorFormat, S.oneOf(h.colorFormat, l, "invalid color format for texture"))), "depth" in h && (u.depth = h.depth), "stencil" in h && (u.stencil = h.stencil), "depthStencil" in h && (u.depthStencil = h.depthStencil) } else A = 1; if (p) if (Array.isArray(p)) for (m = [], a = 0; a < p.length; ++a)m[a] = p[a]; else m = [p]; else { m = Array(v); var f = { radius: A, format: d, type: _ }; for (a = 0; a < v; ++a)m[a] = r.createCube(f) } for (u.color = Array(m.length), a = 0; a < m.length; ++a) { var b = m[a]; S("function" == typeof b && "textureCube" === b._reglType, "invalid cube map"), A = A || b.width, S(b.width === A && b.height === A, "invalid cube map shape"), u.color[a] = { target: yt, data: m[a] } } for (a = 0; a < 6; ++a) { for (var x = 0; x < m.length; ++x)u.color[x].target = yt + a; a > 0 && (u.depth = s[0].depth, u.stencil = s[0].stencil, u.depthStencil = s[0].depthStencil), s[a] ? s[a](u) : s[a] = z(u) } return n(i, { width: A, height: A, color: m }) } return i(e), n(i, { faces: s, resize: function (e) { var t, n = 0 | e; if (S(n > 0 && n <= a.maxCubeMapSize, "invalid radius for cube fbo"), n === i.width) return i; var r = i.color; for (t = 0; t < r.length; ++t)r[t].resize(n); for (t = 0; t < 6; ++t)s[t].resize(n); return i.width = i.height = n, i }, _reglType: "framebufferCube", destroy: function () { s.forEach(function (e) { e.destroy() }) } }) }, clear: function () { H(b).forEach(w) }, restore: function () { o.cur = null, o.next = null, o.dirty = !0, H(b).forEach(function (t) { t.framebuffer = e.createFramebuffer(), E(t) }) } }) }(s, p, f, E, z, A), k = ca(s, u, p, f, b, y, 0, q, {}, x, w, { elements: null, primitive: 4, count: -1, offset: 0, instances: -1 }, g, d, r), T = Ct(s, q, k.procs.poll, g, i, p, f), I = k.next, B = s.canvas, M = [], D = [], L = [], N = [r.onDestroy], Y = null; function W() { if (0 === M.length) return d && d.update(), void (Y = null); Y = R.next(W), fe(); for (var e = M.length - 1; e >= 0; --e) { var t = M[e]; t && t(g, null, 0) } s.flush(), d && d.update() } function K() { !Y && M.length > 0 && (Y = R.next(W)) } function J() { Y && (R.cancel(W), Y = null) } function Ae(e) { e.preventDefault(), o = !0, J(), D.forEach(function (e) { e() }) } function pe(e) { s.getError(), o = !1, l.restore(), w.restore(), b.restore(), E.restore(), z.restore(), q.restore(), x.restore(), d && d.restore(), k.procs.refresh(), K(), L.forEach(function (e) { e() }) } function de(e) { function t(e, t) { var n = {}, a = {}; return Object.keys(e).forEach(function (r) { var s = e[r]; if (C.isDynamic(s)) a[r] = C.unbox(s, r); else { if (t && Array.isArray(s)) for (var i = 0; i < s.length; ++i)if (C.isDynamic(s[i])) return void (a[r] = C.unbox(s, r)); n[r] = s } }), { dynamic: a, static: n } } S(!!e, "invalid args to regl({...})"), S.type(e, "object", "invalid args to regl({...})"); var a = t(e.context || {}, !0), r = t(e.uniforms || {}, !0), s = t(e.attributes || {}, !1), i = t(function (e) { var t = n({}, e); function a(e) { if (e in t) { var n = t[e]; delete t[e], Object.keys(n).forEach(function (a) { t[e + "." + a] = n[a] }) } } return delete t.uniforms, delete t.attributes, delete t.context, delete t.vao, "stencil" in t && t.stencil.op && (t.stencil.opBack = t.stencil.opFront = t.stencil.op, delete t.stencil.op), a("blend"), a("depth"), a("cull"), a("stencil"), a("polygonOffset"), a("scissor"), a("sample"), "vao" in e && (t.vao = e.vao), t }(e), !1), l = { gpuTime: 0, cpuTime: 0, count: 0 }, m = k.compile(i, s, r, a, l), c = m.draw, u = m.batch, A = m.scope, p = []; return n(function (e, t) { var n; if (o && S.raise("context lost"), "function" == typeof e) return A.call(this, null, e, 0); if ("function" == typeof t) if ("number" == typeof e) for (n = 0; n < e; ++n)A.call(this, null, t, n); else { if (!Array.isArray(e)) return A.call(this, e, t, 0); for (n = 0; n < e.length; ++n)A.call(this, e[n], t, n) } else if ("number" == typeof e) { if (e > 0) return u.call(this, function (e) { for (; p.length < e;)p.push(null); return p }(0 | e), 0 | e) } else { if (!Array.isArray(e)) return c.call(this, e); if (e.length) return u.call(this, e, e.length) } }, { stats: l, destroy: function () { m.destroy() } }) } B && (B.addEventListener(Aa, Ae, !1), B.addEventListener(pa, pe, !1)); var _e = q.setFBO = de({ framebuffer: C.define.call(null, 1, "framebuffer") }); function ve(e, t) { var n = 0; k.procs.poll(); var a = t.color; a && (s.clearColor(+a[0] || 0, +a[1] || 0, +a[2] || 0, +a[3] || 0), n |= 16384), "depth" in t && (s.clearDepth(+t.depth), n |= 256), "stencil" in t && (s.clearStencil(0 | t.stencil), n |= 1024), S(!!n, "called regl.clear with no buffer specified"), s.clear(n) } function he(e) { return S.type(e, "function", "regl.frame() callback must be a function"), M.push(e), K(), { cancel: function () { var t = da(M, e); S(t >= 0, "cannot cancel a frame twice"), M[t] = function e() { var t = da(M, e); M[t] = M[M.length - 1], M.length -= 1, M.length <= 0 && J() } } } } function ge() { var e = I.viewport, t = I.scissor_box; e[0] = e[1] = t[0] = t[1] = 0, g.viewportWidth = g.framebufferWidth = g.drawingBufferWidth = e[2] = t[2] = s.drawingBufferWidth, g.viewportHeight = g.framebufferHeight = g.drawingBufferHeight = e[3] = t[3] = s.drawingBufferHeight } function fe() { g.tick += 1, g.time = xe(), ge(), k.procs.poll() } function be() { E.refresh(), ge(), k.procs.refresh(), d && d.update() } function xe() { return (P() - _) / 1e3 } be(); var ye = n(de, { clear: function (e) { if (S("object" == typeof e && e, "regl.clear() takes an object as input"), "framebuffer" in e) if (e.framebuffer && "framebufferCube" === e.framebuffer_reglType) for (var t = 0; t < 6; ++t)_e(n({ framebuffer: e.framebuffer.faces[t] }, e), ve); else _e(e, ve); else ve(0, e) }, prop: C.define.bind(null, 1), context: C.define.bind(null, 2), this: C.define.bind(null, 3), draw: de({}), buffer: function (e) { return b.create(e, 34962, !1, !1) }, elements: function (e) { return y.create(e, !1) }, texture: E.create2D, cube: E.createCube, renderbuffer: z.create, framebuffer: q.create, framebufferCube: q.createCube, vao: x.createVAO, attributes: i, frame: he, on: function (e, t) { var n; switch (S.type(t, "function", "listener callback must be a function"), e) { case "frame": return he(t); case "lost": n = D; break; case "restore": n = L; break; case "destroy": n = N; break; default: S.raise("invalid event, must be one of frame,lost,restore,destroy") }return n.push(t), { cancel: function () { for (var e = 0; e < n.length; ++e)if (n[e] === t) return n[e] = n[n.length - 1], void n.pop() } } }, limits: f, hasExtension: function (e) { return f.extensions.indexOf(e.toLowerCase()) >= 0 }, read: T, destroy: function () { M.length = 0, J(), B && (B.removeEventListener(Aa, Ae), B.removeEventListener(pa, pe)), w.clear(), q.clear(), z.clear(), E.clear(), y.clear(), b.clear(), x.clear(), d && d.clear(), N.forEach(function (e) { e() }) }, _gl: s, _refresh: be, poll: function () { fe(), d && d.update() }, now: xe, stats: A }); return r.onDone(null, ye), ye } }(); var reglExports = regl$1.exports, regl = getDefaultExportFromCjs(reglExports); const Mouse = mouseListen(); class HydraRenderer { constructor({ pb: t = null, width: n = 1280, height: a = 720, numSources: r = 4, numOutputs: s = 4, makeGlobal: i = !0, autoLoop: o = !0, detectAudio: l = !0, enableStreamCapture: m = !0, canvas: c, precision: u, extendTransforms: A = {} } = {}) { if (ArrayUtils.init(), this.pb = t, this.width = n, this.height = a, this.renderAll = !1, this.detectAudio = l, this._initCanvas(c), this.synth = { time: 0, bpm: 30, width: this.width, height: this.height, fps: void 0, stats: { fps: 0 }, speed: 1, mouse: Mouse, render: this._render.bind(this), setResolution: this.setResolution.bind(this), update: e => { }, hush: this.hush.bind(this), tick: this.tick.bind(this) }, i && (window.loadScript = this.loadScript), this.timeSinceLastUpdate = 0, this._time = 0, u && ["lowp", "mediump", "highp"].includes(u.toLowerCase())) this.precision = u.toLowerCase(); else { let e = (/iPad|iPhone|iPod/.test(navigator.platform) || "MacIntel" === navigator.platform && navigator.maxTouchPoints > 1) && !window.MSStream; this.precision = e ? "highp" : "mediump" } if (this.extendTransforms = A, this.saveFrame = !1, this.captureStream = null, this.generator = void 0, this._initRegl(), this._initOutputs(s), this._initSources(r), this._generateGlslTransforms(), this.synth.screencap = () => { this.saveFrame = !0 }, m) try { this.captureStream = this.canvas.captureStream(25), this.synth.vidRecorder = new VideoRecorder(this.captureStream) } catch (e) { } l && this._initAudio(), o && loop(this.tick.bind(this)).start(), this.sandbox = new EvalSandbox(this.synth, i, ["speed", "update", "bpm", "fps"]) } eval(e) { this.sandbox.eval(e) } getScreenImage(e) { this.imageCallback = e, this.saveFrame = !0 } hush() { this.s.forEach(e => { e.clear() }), this.o.forEach(e => { this.synth.solid(0, 0, 0, 0).out(e) }), this.synth.render(this.o[0]), this.sandbox.set("update", e => { }) } loadScript(e = "") { return new Promise((t, n) => { var a = document.createElement("script"); a.onload = function () { t() }, a.onerror = e => { t() }, a.src = e, document.head.appendChild(a) }) } setResolution(e, t) { this.canvas.width = e, this.canvas.height = t, this.width = e, this.height = t, this.sandbox.set("width", e), this.sandbox.set("height", t), this.o.forEach(n => { n.resize(e, t) }), this.s.forEach(n => { n.resize(e, t) }), this.regl._refresh() } canvasToImage(e) { const t = document.createElement("a"); t.style.display = "none"; let n = new Date; t.download = `hydra-${n.getFullYear()}-${n.getMonth() + 1}-${n.getDate()}-${n.getHours()}.${n.getMinutes()}.${n.getSeconds()}.png`, document.body.appendChild(t); var a = this; this.canvas.toBlob(e => { a.imageCallback ? (a.imageCallback(e), delete a.imageCallback) : (t.href = URL.createObjectURL(e), t.click()) }, "image/png"), setTimeout(() => { document.body.removeChild(t), window.URL.revokeObjectURL(t.href) }, 300) } _initAudio() { this.synth.a = new Audio({ numBins: 4, parentEl: this.canvas.parentNode }) } _initCanvas(e) { e ? (this.canvas = e, this.width = e.width, this.height = e.height) : (this.canvas = document.createElement("canvas"), this.canvas.width = this.width, this.canvas.height = this.height, this.canvas.style.width = "100%", this.canvas.style.height = "100%", this.canvas.style.imageRendering = "pixelated", document.body.appendChild(this.canvas)) } _initRegl() { this.regl = regl({ canvas: this.canvas, pixelRatio: 1 }), this.regl.clear({ color: [0, 0, 0, 1] }), this.renderAll = this.regl({ frag: `\n      precision ${this.precision} float;\n      varying vec2 uv;\n      uniform sampler2D tex0;\n      uniform sampler2D tex1;\n      uniform sampler2D tex2;\n      uniform sampler2D tex3;\n\n      void main () {\n        vec2 st = vec2(1.0 - uv.x, uv.y);\n        st*= vec2(2);\n        vec2 q = floor(st).xy*(vec2(2.0, 1.0));\n        int quad = int(q.x) + int(q.y);\n        st.x += step(1., mod(st.y,2.0));\n        st.y += step(1., mod(st.x,2.0));\n        st = fract(st);\n        if(quad==0){\n          gl_FragColor = texture2D(tex0, st);\n        } else if(quad==1){\n          gl_FragColor = texture2D(tex1, st);\n        } else if (quad==2){\n          gl_FragColor = texture2D(tex2, st);\n        } else {\n          gl_FragColor = texture2D(tex3, st);\n        }\n\n      }\n      `, vert: `\n      precision ${this.precision} float;\n      attribute vec2 position;\n      varying vec2 uv;\n\n      void main () {\n        uv = position;\n        gl_Position = vec4(1.0 - 2.0 * position, 0, 1);\n      }`, attributes: { position: [[-2, 0], [0, -2], [2, 2]] }, uniforms: { tex0: this.regl.prop("tex0"), tex1: this.regl.prop("tex1"), tex2: this.regl.prop("tex2"), tex3: this.regl.prop("tex3") }, count: 3, depth: { enable: !1 } }), this.renderFbo = this.regl({ frag: `\n      precision ${this.precision} float;\n      varying vec2 uv;\n      uniform vec2 resolution;\n      uniform sampler2D tex0;\n\n      void main () {\n        gl_FragColor = texture2D(tex0, vec2(1.0 - uv.x, uv.y));\n      }\n      `, vert: `\n      precision ${this.precision} float;\n      attribute vec2 position;\n      varying vec2 uv;\n\n      void main () {\n        uv = position;\n        gl_Position = vec4(1.0 - 2.0 * position, 0, 1);\n      }`, attributes: { position: [[-2, 0], [0, -2], [2, 2]] }, uniforms: { tex0: this.regl.prop("tex0"), resolution: this.regl.prop("resolution") }, count: 3, depth: { enable: !1 } }) } _initOutputs(e) { const t = this; this.o = Array(e).fill().map((e, n) => { var a = new Output({ regl: this.regl, width: this.width, height: this.height, precision: this.precision, label: `o${n}` }); return a.id = n, t.synth["o" + n] = a, a }), this.output = this.o[0] } _initSources(e) { this.s = []; for (var t = 0; t < e; t++)this.createSource(t) } createSource(e) { let t = new HydraSource({ regl: this.regl, pb: this.pb, width: this.width, height: this.height, label: `s${e}` }); return this.synth["s" + this.s.length] = t, this.s.push(t), t } _generateGlslTransforms() { var e = this; this.generator = new GeneratorFactory({ defaultOutput: this.o[0], defaultUniforms: this.o[0].uniforms, extendTransforms: this.extendTransforms, changeListener: ({ type: t, method: n, synth: a }) => { "add" === t && (e.synth[n] = a.generators[n], e.sandbox && e.sandbox.add(n)) } }), this.synth.setFunction = this.generator.setFunction.bind(this.generator) } _render(e) { e ? (this.output = e, this.isRenderingAll = !1) : this.isRenderingAll = !0 } tick(t, n) { if (this.sandbox.tick(), !0 === this.detectAudio && this.synth.a.tick(), this.sandbox.set("time", this.synth.time += .001 * t * this.synth.speed), this.timeSinceLastUpdate += t, !this.synth.fps || this.timeSinceLastUpdate >= 1e3 / this.synth.fps) { if (this.synth.stats.fps = Math.ceil(1e3 / this.timeSinceLastUpdate), this.synth.update) try { this.synth.update(this.timeSinceLastUpdate) } catch (e) { } for (let e = 0; e < this.s.length; e++)this.s[e].tick(this.synth.time); for (let e = 0; e < this.o.length; e++)this.o[e].tick({ time: this.synth.time, mouse: this.synth.mouse, bpm: this.synth.bpm, resolution: [this.canvas.width, this.canvas.height] }); this.isRenderingAll ? this.renderAll({ tex0: this.o[0].getCurrent(), tex1: this.o[1].getCurrent(), tex2: this.o[2].getCurrent(), tex3: this.o[3].getCurrent(), resolution: [this.canvas.width, this.canvas.height] }) : this.renderFbo({ tex0: this.output.getCurrent(), resolution: [this.canvas.width, this.canvas.height] }), this.timeSinceLastUpdate = 0 } !0 === this.saveFrame && (this.canvasToImage(), this.saveFrame = !1) } } function HydraVisualizer({ analyser: analyser, width: width, height: height, code: code }) { const canvasRef = reactExports.useRef(null), [hydra, setHydra] = reactExports.useState(null), [error, setError] = reactExports.useState(null); return reactExports.useEffect(() => { canvasRef.current && (hydra || (async () => { try { const e = new HydraRenderer({ canvas: canvasRef.current, width: width, height: height, detectAudio: !1, enableStreamCapture: !1 }); setHydra(e) } catch (err) { setError(`Initialization failed: ${err}`) } })()) }, [width, height, hydra]), reactExports.useEffect(() => { if (hydra && canvasRef.current) try { hydra.setResolution(width, height) } catch (err) { } }, [hydra, width, height]), reactExports.useEffect(() => { if (hydra && analyser) try { setError(null); const frequencyData = new Uint8Array(analyser.frequencyBinCount), fft = () => { analyser.getByteFrequencyData(frequencyData); let e = 0; for (let t = 0; t < Math.min(10, frequencyData.length); t++)e += frequencyData[t]; return e / 10 / 255 * .1 + .01 }; eval(code) } catch (err) { setError(`${err}`) } }, [hydra, analyser, code]), jsxRuntimeExports.jsxs("div", { children: [" ", error && jsxRuntimeExports.jsx("div", { style: { boxSizing: "border-box", position: "absolute", bottom: 4, left: 4, fontSize: "12px", backgroundColor: "rgba(0, 0, 0, 0.5)", color: "red", fontFamily: "monospace", textAlign: "left" }, children: error }), jsxRuntimeExports.jsx("canvas", { ref: canvasRef, width: width, height: height, style: { width: "100%", height: "100%", display: "block", background: "#000" } })] }) } const Background$1 = e => { const { innerRef: t } = e; return jsxRuntimeExports.jsx("div", { ref: t, className: "draggable", style: { backgroundColor: "#000", position: "absolute", top: 0, bottom: 0, left: 0, right: 0, height: "100%", width: "100%" }, tabIndex: 0, children: e.children }) }, ENTRY_HEIGHT = 14, HEIGHT_PADDING = 15, WIDTH_PADDING = 20, LOADING_STYLE = { position: "absolute", top: 0, left: 0, color: "white", background: "rgba(0.33, 0.33, 0.33, 0.33)" }, OUTER_WRAPPER_STYLE = { position: "absolute", top: 0, left: 0, padding: "15px 10px 0 10px" }, INNER_WRAPPER_STYLE = { display: "inline-block", whiteSpace: "nowrap", overflow: "hidden", background: "rgba(0, 0, 0, 0.815)", fontSize: "12px" }; function presetIndexFromListIndex(e) { return e - 1 } function listIndexFromPresetIndex(e) { return e + 1 } function PresetOverlay({ height: e, width: t }) { const n = useTypedSelector(getPresetNames), a = useTypedSelector(getCurrentPresetIndex), r = useActionCreator(requestPresetAtIndex), s = useActionCreator(togglePresetOverlay), i = useActionCreator(appendPresetFileList), o = useUnmountedRef(), [l, m] = reactExports.useState(() => null != a ? listIndexFromPresetIndex(a) : 0), c = n.length, u = reactExports.useCallback(() => { const t = Math.floor((e - HEIGHT_PADDING) / ENTRY_HEIGHT), r = Math.floor(.75 * t), [s, i] = getRangeCenteredOnIndex(c + 1, r, l), o = []; for (let e = s; e <= i; e++) { const t = presetIndexFromListIndex(e), r = t === a; let s; s = e === l ? r ? "#FFCC22" : "#FF5050" : r ? "#CCFF03" : "#CCCCCC", o.push(jsxRuntimeExports.jsx("li", { style: { color: s, lineHeight: `${ENTRY_HEIGHT}px` }, children: 0 === e ? "Load Local Directory" : n[t] }, e)) } return o }, [a, e, c, n, l]), A = reactExports.useCallback(async () => { const e = await promptForFileReferences({ directory: !0 }); o.current || i(e) }, [i, o]), p = reactExports.useCallback(e => { switch (e.keyCode) { case 38: m(e => Math.max(e - 1, 0)), e.stopPropagation(); break; case 40: m(e => Math.min(e + 1, c)), e.stopPropagation(); break; case 13: 0 === l ? A() : r(presetIndexFromListIndex(l), TransitionType.DEFAULT, !0), e.stopPropagation(); break; case 27: s(), e.stopPropagation() } }, [A, c, r, l, s]), d = reactExports.useCallback(e => { null != e && document.activeElement !== e && e.focus() }, []); return null == n ? jsxRuntimeExports.jsx("div", { style: LOADING_STYLE, children: jsxRuntimeExports.jsx("span", { children: "Loading presets" }) }) : jsxRuntimeExports.jsx("div", { ref: d, tabIndex: -1, style: OUTER_WRAPPER_STYLE, onKeyDown: p, children: jsxRuntimeExports.jsx("div", { style: { ...INNER_WRAPPER_STYLE, width: t - 20 - WIDTH_PADDING, maxHeight: e - HEIGHT_PADDING }, children: jsxRuntimeExports.jsx("ul", { style: { listStyleType: "none", padding: 0, margin: 0 }, children: u() }) }) }) } function getRangeCenteredOnIndex(e, t, n) { const a = Math.min(e, t), r = Math.floor(a / 2), s = clamp(n - r, 0, e - a); return [s, s + a - 1] } function suppress(e) { e.stopPropagation(), e.preventDefault(), e.dataTransfer.dropEffect = "link", e.dataTransfer.effectAllowed = "link" } function DropTarget(e) { const { handleDrop: t, windowId: n, onWheelActive: a, ...r } = e, s = reactExports.useRef(null), i = useActionCreator(droppedFiles); reactExports.useEffect(() => { const e = s.current; if (!e || !a) return; const t = e => { a(e) }; return e.addEventListener("wheel", t, { passive: !1 }), () => { e.removeEventListener("wheel", t) } }, [a]); const o = reactExports.useCallback(e => { suppress(e), i(e, n); const { currentTarget: a } = e; if (!(a instanceof Element)) return; const { left: r, top: s } = a.getBoundingClientRect(); t(e, { x: r, y: s }) }, [t, i, n]); return jsxRuntimeExports.jsx("div", { ref: s, ...r, onDragStart: suppress, onDragEnter: suppress, onDragOver: suppress, onDrop: o }) } const Portal = e => { const t = reactExports.useMemo(() => { const t = document.createElement("div"); return t.id = "webamp-context-menu", t.style.position = "absolute", t.style.top = "0", t.style.left = "0", t.style.zIndex = String(e.zIndex + 1), t }, [e.zIndex]); reactExports.useEffect(() => (document.body.appendChild(t), () => { document.body.removeChild(t) }), [t]); const n = { top: e.top, left: e.left, position: "absolute" }; return reactDomExports.createPortal(jsxRuntimeExports.jsx("div", { style: n, children: e.children }), t) }, Hr = () => jsxRuntimeExports.jsx("li", { className: "hr", children: jsxRuntimeExports.jsx("hr", {}) }), Parent = ({ children: e, label: t }) => jsxRuntimeExports.jsxs("li", { className: "parent", children: [jsxRuntimeExports.jsx("ul", { children: e }), t] }), LinkNode = e => jsxRuntimeExports.jsx("li", { children: jsxRuntimeExports.jsx("a", { ...e, children: e.label }) }), Node = e => { const { label: t, checked: n, className: a = "", ...r } = e; return jsxRuntimeExports.jsx("li", { className: classnames(a, { checked: n }), ...r, children: t }) }; function ContextMenu({ children: e, offsetTop: t, offsetLeft: n, top: a, bottom: r, selected: s }) { const i = useTypedSelector(getZIndex); return s ? jsxRuntimeExports.jsx(Portal, { top: t, left: n, zIndex: i, children: jsxRuntimeExports.jsx("ul", { className: classnames("context-menu", { top: a, bottom: r }), children: e }) }) : null } function ContextMenuWraper({ children: e, renderContents: t, ...n }) { const [a, r] = reactExports.useState(null), s = reactExports.useCallback(() => { r(null) }, []), i = reactExports.useCallback(e => { 2 !== e.button && s() }, [s]), o = reactExports.useCallback(e => { const { pageX: t, pageY: n } = e; r({ x: t, y: n }), e.preventDefault(), e.stopPropagation() }, []); return reactExports.useEffect(() => { if (null != a) return document.addEventListener("click", i), document.body.addEventListener("contextmenu", s), () => { document.removeEventListener("click", i), document.body.removeEventListener("contextmenu", s) } }, [a, s, i]), jsxRuntimeExports.jsxs("div", { onContextMenu: o, style: { width: "100%", height: "100%" }, ...n, children: [jsxRuntimeExports.jsx(ContextMenu, { selected: null != a, offsetTop: a?.y ?? 0, offsetLeft: a?.x ?? 0, children: t() }), e] }) } const MilkdropContextMenu = e => { const t = useTypedSelector(getMilkdropDesktopEnabled), n = useActionCreator(closeWindow), a = useActionCreator(toggleMilkdropDesktop), r = useActionCreator(toggleMilkdropFullscreen); return jsxRuntimeExports.jsx(ContextMenuWraper, { renderContents: () => jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment, { children: [fscreen.fullscreenEnabled && jsxRuntimeExports.jsx(Node, { onClick: r, label: "Fullscreen", hotkey: "Alt+Enter" }), jsxRuntimeExports.jsx(Node, { onClick: a, checked: t, label: "Desktop Mode", hotkey: "Alt+D" }), jsxRuntimeExports.jsx(Hr, {}), jsxRuntimeExports.jsx(Node, { onClick: () => n(WINDOWS.MILKDROP), label: "Quit" })] }), children: e.children }) }, Desktop = reactExports.memo(({ children: e }) => { const [t] = reactExports.useState(() => document.createElement("div")); return reactExports.useEffect(() => (t.classList.add("webamp-desktop"), document.body.appendChild(t), () => { document.body.removeChild(t) }), [t]), ReactDOM$2.createPortal(e, t) }), MILLISECONDS_BETWEEN_PRESET_TRANSITIONS = 15e3; function useKeyHandler() { const e = useTypedSelector(getCurrentTrackDisplayName), t = useActionCreator(selectNextPreset), n = useActionCreator(selectPreviousPreset), a = useActionCreator(toggleRandomizePresets), r = useActionCreator(togglePresetOverlay), s = useActionCreator(scheduleMilkdropMessage), i = useActionCreator(togglePresetCycling); return reactExports.useCallback(o => { switch (o.keyCode) { case 32: t(); break; case 8: n(TransitionType.IMMEDIATE); break; case 72: t(TransitionType.IMMEDIATE); break; case 82: a(); break; case 76: r(), o.stopPropagation(); break; case 84: null != e && s(e), o.stopPropagation(); break; case 145: case 125: i() } }, [s, t, n, i, r, a, e]) } function Milkdrop({ analyser: e, code: t }) { const n = useTypedSelector(getMilkdropDesktopEnabled), a = useTypedSelector(getMilkdropFullscreenEnabled), r = useTypedSelector(getPresetOverlayOpen), s = useTypedSelector(getPresetsAreCycling), i = useTypedSelector(getCurrentPresetIndex), o = useTypedSelector(getMediaIsPlaying), l = useActionCreator(toggleMilkdropFullscreen), m = useActionCreator(selectNextPreset), c = useActionCreator(handlePresetDrop), u = useActionCreator(setMilkdropFullscreen), A = useKeyHandler(); reactExports.useEffect(() => { if (!s || !o) return; const e = setInterval(m, MILLISECONDS_BETWEEN_PRESET_TRANSITIONS); return () => clearInterval(e) }, [s, i, o, m]); const p = useScreenSize(), d = useWindowSize(), _ = reactExports.useCallback(() => { fscreen.fullscreenEnabled && l() }, [l]); return n ? jsxRuntimeExports.jsx(Desktop, { children: jsxRuntimeExports.jsx(MilkdropContextMenu, { children: jsxRuntimeExports.jsx(HydraVisualizer, { ...d, analyser: e, code: t }) }) }) : jsxRuntimeExports.jsx(GenWindow, { title: "Milkdrop", windowId: WINDOWS.MILKDROP, onKeyDown: A, children: n => { const s = a ? p : n; return jsxRuntimeExports.jsx(MilkdropContextMenu, { children: jsxRuntimeExports.jsx(Background$1, { children: jsxRuntimeExports.jsxs(DropTarget, { windowId: WINDOWS.MILKDROP, handleDrop: c, children: [r && jsxRuntimeExports.jsx(PresetOverlay, { ...s }), jsxRuntimeExports.jsx(FullScreen, { enabled: a, onChange: u, children: jsxRuntimeExports.jsx("div", { onDoubleClick: _, children: jsxRuntimeExports.jsx(HydraVisualizer, { ...s, analyser: e, code: t }) }) })] }) }) }) } }) } const PlaybackContextMenu = () => { const e = useActionCreator(previous), t = useActionCreator(play), n = useActionCreator(pause), a = useActionCreator(stop), r = useActionCreator(next), s = useActionCreator(seekForward), i = useActionCreator(seekBackward), o = useActionCreator(nextN); return jsxRuntimeExports.jsxs(reactExports.Fragment, { children: [jsxRuntimeExports.jsx(Node, { label: "Previous", hotkey: "Z", onClick: e }), jsxRuntimeExports.jsx(Node, { label: "Play", hotkey: "X", onClick: t }), jsxRuntimeExports.jsx(Node, { label: "Pause", hotkey: "C", onClick: n }), jsxRuntimeExports.jsx(Node, { label: "Stop", hotkey: "V", onClick: a }), jsxRuntimeExports.jsx(Node, { label: "Next", hotkey: "B", onClick: r }), jsxRuntimeExports.jsx(Hr, {}), jsxRuntimeExports.jsx(Node, { label: "Back 5 seconds", hotkey: "Left", onClick: () => i(5) }), jsxRuntimeExports.jsx(Node, { label: "Fwd 5 seconds", hotkey: "Right", onClick: () => s(5) }), jsxRuntimeExports.jsx(Node, { label: "10 tracks back", hotkey: "Num. 1", onClick: () => o(-10) }), jsxRuntimeExports.jsx(Node, { label: "10 tracks fwd", hotkey: "Num. 3", onClick: () => o(10) })] }) }, SkinContextMenu = () => { const e = useActionCreator(loadDefaultSkin), t = useActionCreator(openSkinFileDialog), n = useActionCreator(setSkinFromUrl), a = useTypedSelector(getAvaliableSkins); return jsxRuntimeExports.jsxs(Parent, { label: "Skins", children: [jsxRuntimeExports.jsx(Node, { onClick: t, label: "Load Skin..." }), jsxRuntimeExports.jsx(Hr, {}), jsxRuntimeExports.jsx(Node, { onClick: e, label: "<Base Skin>" }), a.map(e => jsxRuntimeExports.jsx(Node, { onClick: () => n(e.url), label: e.name }, e.url))] }) }, OptionsContextMenu = () => { const e = useActionCreator(toggleTimeMode), t = useActionCreator(toggleDoubleSizeMode), n = useActionCreator(toggleRepeat), a = useActionCreator(toggleShuffle), r = useTypedSelector(getDoubled), s = useTypedSelector(getTimeMode), i = useTypedSelector(getRepeat), o = useTypedSelector(getShuffle); return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment, { children: [jsxRuntimeExports.jsx(SkinContextMenu, {}), jsxRuntimeExports.jsx(Hr, {}), jsxRuntimeExports.jsx(Node, { label: "Time elapsed", hotkey: "(Ctrl+T toggles)", onClick: e, checked: s === TIME_MODE.ELAPSED }), jsxRuntimeExports.jsx(Node, { label: "Time remaining", hotkey: "(Ctrl+T toggles)", onClick: e, checked: s === TIME_MODE.REMAINING }), jsxRuntimeExports.jsx(Node, { label: "Double Size", hotkey: "Ctrl+D", onClick: t, checked: r }), jsxRuntimeExports.jsx(Hr, {}), jsxRuntimeExports.jsx(Node, { label: "Repeat", hotkey: "R", onClick: n, checked: i }), jsxRuntimeExports.jsx(Node, { label: "Shuffle", hotkey: "S", onClick: a, checked: o })] }) }, MainContextMenu = reactExports.memo(({ filePickers: t }) => { const n = useTypedSelector(getNetworkConnected), a = useTypedSelector(getGenWindows), r = useActionCreator(close), s = useActionCreator(openMediaFileDialog), i = useActionCreator(loadMediaFiles), o = useActionCreator(toggleWindow), l = useActionCreator(() => ({ type: "MAIN_CONTEXT_MENU_OPENED" })), m = useTypedSelector(getMilkdropEnabled); return reactExports.useEffect(() => { l() }, [l]), jsxRuntimeExports.jsxs(reactExports.Fragment, { children: [jsxRuntimeExports.jsx(LinkNode, { href: "https://webamp.org/about", target: "_blank", label: "Webamp..." }), jsxRuntimeExports.jsx(Hr, {}), jsxRuntimeExports.jsxs(Parent, { label: "Play", children: [jsxRuntimeExports.jsx(Node, { onClick: s, label: "File...", hotkey: "L" }), null != t && t.map((t, a) => (n || !t.requiresNetwork) && jsxRuntimeExports.jsx(Node, { onClick: async () => { let n; try { n = await t.filePicker() } catch (e) { } i(n || [], LOAD_STYLE.PLAY) }, label: t.contextMenuName }, a))] }), jsxRuntimeExports.jsx(Hr, {}), Object.keys(a).map(e => e !== WINDOWS.MILKDROP || m ? jsxRuntimeExports.jsx(Node, { label: a[e].title, checked: a[e].open, onClick: () => o(e), hotkey: a[e].hotkey }, e) : null), jsxRuntimeExports.jsx(Hr, {}), jsxRuntimeExports.jsx(SkinContextMenu, {}), jsxRuntimeExports.jsx(Hr, {}), jsxRuntimeExports.jsx(Parent, { label: "Options", children: jsxRuntimeExports.jsx(OptionsContextMenu, {}) }), jsxRuntimeExports.jsx(Parent, { label: "Playback", children: jsxRuntimeExports.jsx(PlaybackContextMenu, {}) }), jsxRuntimeExports.jsx(Hr, {}), jsxRuntimeExports.jsx(Node, { onClick: r, label: "Exit" })] }) }), abuts = (e, t) => { const n = snap(e, t); return void 0 !== n.x || void 0 !== n.y }; function useHandleMouseDown(e) { const t = useTypedSelector(getWindowsInfo), n = useTypedSelector(getWindowHidden), a = useTypedSelector(getBrowserWindowSize), r = useActionCreator(updateWindowPositions), [s, i] = reactExports.useState(null); return reactExports.useEffect(() => { if (null == s) return; const { boundingBox: e, moving: t, stationary: n, mouseStart: o } = s, l = s => { const i = { x: getX(s) - o.x, y: getY(s) - o.y }, l = t.map(e => ({ ...e, ...applyDiff(e, i) })), m = { ...e, ...applyDiff(e, i) }, c = snapDiffManyToMany(l, n), u = snapWithinDiff(m, a), A = applyMultipleDiffs(i, c, u), p = {}; t.forEach(e => { p[e.key] = applyDiff(e, A) }), r(p, !1) }; function m() { i(null) } return window.addEventListener("mouseup", m), window.addEventListener("touchend", m), window.addEventListener("mousemove", l, { passive: !1 }), window.addEventListener("touchmove", l, { passive: !1 }), () => { window.removeEventListener("mousemove", l), window.removeEventListener("touchmove", l), window.removeEventListener("mouseup", m), window.removeEventListener("touchend", m) } }, [a, s, r]), reactExports.useCallback((a, r) => { if (!r.target.classList.contains("draggable")) return; const s = getX(r), o = getY(r); if (n(a)) return; const l = t.filter(t => null != e[t.key] && !n(t.key)), m = l.find(e => e.key === a); if (null == m) throw new Error(`Tried to move a node that does not exist: ${a}`); let c = new Set([m]); if ("main" === a) { const e = traceConnection(abuts); c = e(l, m) } const u = l.filter(e => !c.has(e)), A = Array.from(c), p = { x: s, y: o }, d = boundingBox(A); i({ boundingBox: d, moving: A, stationary: u, mouseStart: p }) }, [n, e, t]) } function WindowManager({ windows: e }) { const t = useTypedSelector(getWindowsInfo), n = useActionCreator(setFocusedWindow), a = useHandleMouseDown(e), r = t.filter(t => e[t.key]), s = reactExports.useCallback(e => { const { currentTarget: t, relatedTarget: a } = e; t === a || t.contains(a) || n(null) }, [n]); return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment, { children: r.map(t => jsxRuntimeExports.jsx("div", { onBlur: s, onMouseDown: e => { a(t.key, e) }, onTouchStart: e => { a(t.key, e) }, style: { position: "absolute", top: 0, left: 0, transform: `translate(${t.x}px, ${t.y}px)`, touchAction: "none" }, children: e[t.key] }, t.key)) }) } function basePropertyOf$1(e) { return function (t) { return null == e ? void 0 : e[t] } } var _basePropertyOf = basePropertyOf$1, basePropertyOf = _basePropertyOf, deburredLetters = { "": "A", "": "A", "": "A", "": "A", "": "A", "": "A", "": "a", "": "a", "": "a", "": "a", "": "a", "": "a", "": "C", "": "c", "": "D", "": "d", "": "E", "": "E", "": "E", "": "E", "": "e", "": "e", "": "e", "": "e", "": "I", "": "I", "": "I", "": "I", "": "i", "": "i", "": "i", "": "i", "": "N", "": "n", "": "O", "": "O", "": "O", "": "O", "": "O", "": "O", "": "o", "": "o", "": "o", "": "o", "": "o", "": "o", "": "U", "": "U", "": "U", "": "U", "": "u", "": "u", "": "u", "": "u", "": "Y", "": "y", "": "y", "": "Ae", "": "ae", "": "Th", "": "th", "": "ss", "": "A", "": "A", "": "A", "": "a", "": "a", "": "a", "": "C", "": "C", "": "C", "": "C", "": "c", "": "c", "": "c", "": "c", "": "D", "": "D", "": "d", "": "d", "": "E", "": "E", "": "E", "": "E", "": "E", "": "e", "": "e", "": "e", "": "e", "": "e", "": "G", "": "G", "": "G", "": "G", "": "g", "": "g", "": "g", "": "g", "": "H", "": "H", "": "h", "": "h", "": "I", "": "I", "": "I", "": "I", "": "I", "": "i", "": "i", "": "i", "": "i", "": "i", "": "J", "": "j", "": "K", "": "k", "": "k", "": "L", "": "L", "": "L", "": "L", "": "L", "": "l", "": "l", "": "l", "": "l", "": "l", "": "N", "": "N", "": "N", "": "N", "": "n", "": "n", "": "n", "": "n", "": "O", "": "O", "": "O", "": "o", "": "o", "": "o", "": "R", "": "R", "": "R", "": "r", "": "r", "": "r", "": "S", "": "S", "": "S", "": "S", "": "s", "": "s", "": "s", "": "s", "": "T", "": "T", "": "T", "": "t", "": "t", "": "t", "": "U", "": "U", "": "U", "": "U", "": "U", "": "U", "": "u", "": "u", "": "u", "": "u", "": "u", "": "u", "": "W", "": "w", "": "Y", "": "y", "": "Y", "": "Z", "": "Z", "": "Z", "": "z", "": "z", "": "z", "": "IJ", "": "ij", "": "Oe", "": "oe", "": "'n", "": "s" }, deburrLetter$1 = basePropertyOf(deburredLetters), _deburrLetter = deburrLetter$1, freeGlobal$1 = "object" == typeof commonjsGlobal && commonjsGlobal && commonjsGlobal.Object === Object && commonjsGlobal, _freeGlobal = freeGlobal$1, freeGlobal = _freeGlobal, freeSelf = "object" == typeof self && self && self.Object === Object && self, root$1 = freeGlobal || freeSelf || Function("return this")(), _root = root$1, root = _root, Symbol$4 = root.Symbol, _Symbol = Symbol$4; function arrayMap$1(e, t) { for (var n = -1, a = null == e ? 0 : e.length, r = Array(a); ++n < a;)r[n] = t(e[n], n, e); return r } var _arrayMap = arrayMap$1, isArray$3 = Array.isArray, isArray_1 = isArray$3, Symbol$3 = _Symbol, objectProto$1 = Object.prototype, hasOwnProperty$1 = objectProto$1.hasOwnProperty, nativeObjectToString$1 = objectProto$1.toString, symToStringTag$1 = Symbol$3 ? Symbol$3.toStringTag : void 0; function getRawTag$1(t) { var n = hasOwnProperty$1.call(t, symToStringTag$1), a = t[symToStringTag$1]; try { t[symToStringTag$1] = void 0; var r = !0 } catch (e) { } var s = nativeObjectToString$1.call(t); return r && (n ? t[symToStringTag$1] = a : delete t[symToStringTag$1]), s } var _getRawTag = getRawTag$1, objectProto = Object.prototype, nativeObjectToString = objectProto.toString; function objectToString$2(e) { return nativeObjectToString.call(e) } var _objectToString = objectToString$2, Symbol$2 = _Symbol, getRawTag = _getRawTag, objectToString$1 = _objectToString, nullTag = "[object Null]", undefinedTag = "[object Undefined]", symToStringTag = Symbol$2 ? Symbol$2.toStringTag : void 0; function baseGetTag$1(e) { return null == e ? void 0 === e ? undefinedTag : nullTag : symToStringTag && symToStringTag in Object(e) ? getRawTag(e) : objectToString$1(e) } var _baseGetTag = baseGetTag$1; function isObjectLike$1(e) { return null != e && "object" == typeof e } var isObjectLike_1 = isObjectLike$1, baseGetTag = _baseGetTag, isObjectLike = isObjectLike_1, symbolTag = "[object Symbol]"; function isSymbol$1(e) { return "symbol" == typeof e || isObjectLike(e) && baseGetTag(e) == symbolTag } var isSymbol_1 = isSymbol$1, Symbol$1 = _Symbol, arrayMap = _arrayMap, isArray$2 = isArray_1, isSymbol = isSymbol_1, INFINITY = 1 / 0, symbolProto = Symbol$1 ? Symbol$1.prototype : void 0, symbolToString = symbolProto ? symbolProto.toString : void 0; function baseToString$1(e) { if ("string" == typeof e) return e; if (isArray$2(e)) return arrayMap(e, baseToString$1) + ""; if (isSymbol(e)) return symbolToString ? symbolToString.call(e) : ""; var t = e + ""; return "0" == t && 1 / e == -INFINITY ? "-0" : t } var _baseToString = baseToString$1, baseToString = _baseToString; function toString$2(e) { return null == e ? "" : baseToString(e) } var toString_1 = toString$2, deburrLetter = _deburrLetter, toString$1 = toString_1, reLatin = /[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g, rsComboMarksRange = "\\u0300-\\u036f", reComboHalfMarksRange = "\\ufe20-\\ufe2f", rsComboSymbolsRange = "\\u20d0-\\u20ff", rsComboRange = rsComboMarksRange + reComboHalfMarksRange + rsComboSymbolsRange, rsCombo = "[" + rsComboRange + "]", reComboMark = RegExp(rsCombo, "g"); function deburr(e) { return (e = toString$1(e)) && e.replace(reLatin, deburrLetter).replace(reComboMark, "") } var deburr_1 = deburr, deburr$1 = getDefaultExportFromCjs(deburr_1); const characterClassName = e => `character-${deburr$1(e.toString()).toLowerCase().charCodeAt(0)}`, Character = reactExports.memo(({ children: e, className: t, ...n }) => jsxRuntimeExports.jsx("span", { ...n, className: `${t || ""} character ${characterClassName(e)}`, children: e })), Background = () => jsxRuntimeExports.jsx(reactExports.Fragment, { children: [1, 7, 12, 20, 25].map((e, t) => jsxRuntimeExports.jsx(Character, { style: { left: e }, className: "background-character", children: " " }, t)) }), MiniTime = () => { const e = useTypedSelector(getMediaStatus), t = useTypedSelector(getDuration), n = useTypedSelector(getTimeElapsed), a = useTypedSelector(getTimeMode), r = useActionCreator(toggleTimeMode); let s = null; e !== MEDIA_STATUS.STOPPED && null != t && (s = a === TIME_MODE.ELAPSED ? n : t - n); const i = getTimeObj(s), o = a === TIME_MODE.REMAINING && e !== MEDIA_STATUS.STOPPED; return jsxRuntimeExports.jsxs("div", { onClick: r, className: classnames("mini-time", "countdown", { blinking: e === MEDIA_STATUS.PAUSED }), children: [jsxRuntimeExports.jsx(Background, {}), jsxRuntimeExports.jsx(Character, { style: { left: 1 }, children: o ? "-" : " " }), jsxRuntimeExports.jsx(Character, { style: { left: 7 }, children: i.minutesFirstDigit }), jsxRuntimeExports.jsx(Character, { style: { left: 12 }, children: i.minutesSecondDigit }), jsxRuntimeExports.jsx(Character, { style: { left: 20 }, children: i.secondsFirstDigit }), jsxRuntimeExports.jsx(Character, { style: { left: 25 }, children: i.secondsSecondDigit })] }) }; function ClickedDiv(e) { const [t, n] = reactExports.useState(!1); return jsxRuntimeExports.jsx(WinampButton, { ...e, className: classnames(e.className, { clicked: t }), onPointerDown: function (t) { n(!0), e.onPointerDown && e.onPointerDown(t) } }) } function getNodeOffset(e) { if (null == e) return { top: 0, left: 0 }; const t = e.getBoundingClientRect(), n = window.pageXOffset || document.documentElement.scrollLeft, a = window.pageYOffset || document.documentElement.scrollTop; return { top: t.top + a, left: t.left + n } } function ContextMenuTarget(e) { const t = reactExports.useRef(null), [n, a] = reactExports.useState(!1); reactExports.useEffect(() => { if (n) return document.addEventListener("click", e), () => { document.removeEventListener("click", e) }; function e(e) { n && e.target instanceof Element && n && t.current && !t.current.contains(e.target) && a(!1) } }, [n]); const r = reactExports.useMemo(() => n ? getNodeOffset(t.current) : { top: 0, left: 0 }, [n]), { renderMenu: s, children: i, top: o, bottom: l, ...m } = e; return jsxRuntimeExports.jsxs("div", { ...m, children: [jsxRuntimeExports.jsx("div", { className: "handle", style: { width: "100%", height: "100%" }, ref: t, onClick: () => a(!n), children: i }), jsxRuntimeExports.jsx(ContextMenu, { selected: n, offsetTop: r.top, offsetLeft: r.left, top: o, bottom: l, children: s() })] }) } class FFT { bitrevtable; envelope; equalize; temp1; temp2; cossintable; static TWO_PI = 6.2831853; static HALF_PI = 1.5707963268; constructor() { const e = 1024; this.bitrevtable = this.initBitRevTable(e), this.cossintable = this.initCosSinTable(e), this.envelope = this.initEnvelopeTable(1024, 1), this.equalize = this.initEqualizeTable(e, !1), this.temp1 = new Float32Array(e), this.temp2 = new Float32Array(e) } initEqualizeTable(e, t) { const n = new Float32Array(e / 2); let a = .04; for (let r = 0; r < e / 2; r++) { const t = (9 - a) / (e / 2); n[r] = Math.log10(1 + a + (r + 1) * t), a /= 1.0025 } return n } initEnvelopeTable(e, t) { const n = 1 / e * FFT.TWO_PI, a = new Float32Array(e); for (let r = 0; r < e; r++)a[r] = Math.pow(.5 + .5 * Math.sin(r * n - FFT.HALF_PI), t); return a } initBitRevTable(e) { const t = new Array(e); for (let n = 0; n < e; n++)t[n] = n; for (let n = 0, a = 0; n < e; n++) { if (a > n) { const e = t[n]; t[n] = t[a], t[a] = e } let r = e >> 1; for (; r >= 1 && a >= r;)a -= r, r >>= 1; a += r } return t } initCosSinTable(e) { const t = []; let n = 2; for (; n <= e;) { const e = -2 * Math.PI / n; t.push(new Float32Array([Math.cos(e), Math.sin(e)])), n <<= 1 } return t } timeToFrequencyDomain(e, t) { if (!this.temp1 || !this.temp2 || !this.cossintable) return; for (let i = 0; i < this.temp1.length; i++) { const t = this.bitrevtable[i]; t < e.length ? this.temp1[i] = e[t] * (this.envelope ? this.envelope[t] : 1) : this.temp1[i] = 0 } this.temp2.fill(0); const n = this.temp1, a = this.temp2; let r = 2, s = 0; for (; r <= this.temp1.length;) { const e = this.cossintable[s][0], t = this.cossintable[s][1]; let i = 1, o = 0; const l = r >> 1; for (let s = 0; s < l; s += 1) { for (let e = s; e < this.temp1.length; e += r) { const t = e + l, r = i * n[t] - o * a[t], s = i * a[t] + o * n[t]; n[t] = n[e] - r, a[t] = a[e] - s, n[e] += r, a[e] += s } const m = i; i = i * e - o * t, o = o * e + m * t } r <<= 1, ++s } for (let i = 0; i < t.length; i++)t[i] = Math.sqrt(n[i] * n[i] + a[i] * a[i]) * (this.equalize ? this.equalize[i] : 1) } } class VisPaintHandler { _vis; _ctx; constructor(e) { this._vis = e, this._ctx = e.canvas.getContext("2d") } prepare() { } paintFrame() { } dispose() { } } function processFFT(e, t, n, a) { const r = new Uint8Array(1024); e.getByteTimeDomainData(r); for (let s = 0; s < r.length; s++)n[s] = (r[s] - 128) / 24; t.timeToFrequencyDomain(n, a) } class BarPaintHandler extends VisPaintHandler { saPeaks; saData2; saData; saFalloff; sample; barPeak; chunk; uVar12; falloff; peakFalloff; pushDown; inWaveData = new Float32Array(1024); outSpectralData = new Float32Array(512); _analyser; _fft; _color = "rgb(255,255,255)"; _colorPeak = "rgb(255,255,255)"; _bar = document.createElement("canvas"); _peak = document.createElement("canvas"); _16h = document.createElement("canvas"); _bufferLength; _dataArray; colorssmall; colorssmall2; _renderHeight; _smallVis; _pixelDensity; _doubled; _isMWOpen; paintBar; paintFrame; constructor(e) { switch (super(e), this._analyser = this._vis.analyser, this._fft = new FFT, this._bufferLength = this._analyser.frequencyBinCount, this._dataArray = new Uint8Array(this._bufferLength), this._renderHeight = e.renderHeight, this._smallVis = e.smallVis, this._pixelDensity = e.pixelDensity, this._doubled = e.doubled, this._isMWOpen = e.isMWOpen, this.colorssmall = [e.colors[17], e.colors[14], e.colors[11], e.colors[8], e.colors[4]], this.colorssmall2 = [e.colors[17], e.colors[16], e.colors[14], e.colors[13], e.colors[11], e.colors[10], e.colors[8], e.colors[7], e.colors[5], e.colors[4]], this._16h.width = 1, this._16h.height = 16, this._16h.setAttribute("width", "75"), this._16h.setAttribute("height", "16"), this.paintFrame = this.paintAnalyzer.bind(this), this.saPeaks = new Int16Array(76).fill(0), this.saData2 = new Float32Array(76).fill(0), this.saData = new Int16Array(76).fill(0), this.saFalloff = new Float32Array(76).fill(0), this.sample = new Float32Array(76).fill(0), this.barPeak = new Int16Array(76).fill(0), this.chunk = 0, this.uVar12 = 0, this.pushDown = 0, this._vis.coloring) { case "fire": this.paintBar = this.paintBarFire.bind(this); break; case "line": this.paintBar = this.paintBarLine.bind(this); break; default: this.paintBar = this.paintBarNormal.bind(this) }switch (this._vis.saFalloff) { case "slower": this.falloff = 3; break; case "slow": this.falloff = 6; break; case "moderate": default: this.falloff = 12; break; case "fast": this.falloff = 16; break; case "faster": this.falloff = 32 }switch (this._vis.saPeakFalloff) { case "slower": this.peakFalloff = 1.05; break; case "slow": default: this.peakFalloff = 1.1; break; case "moderate": this.peakFalloff = 1.2; break; case "fast": this.peakFalloff = 1.4; break; case "faster": this.peakFalloff = 1.6 } } prepare() { const e = this._vis; this._peak.height = 1, this._peak.width = 1; let t = this._peak.getContext("2d"); t.fillStyle = e.colors[23], t.fillRect(0, 0, 1, 1), this._vis.smallVis ? this.pushDown = 0 : this._vis.doubled && !this._vis.isMWOpen ? this.pushDown = 2 : this._vis.doubled ? this.pushDown = 0 : this.pushDown = 2, this._bar.height = 16, this._bar.width = 1, this._bar.setAttribute("width", "1"), this._bar.setAttribute("height", "16"), t = this._bar.getContext("2d"); for (let n = 0; n < 16; n++)2 === this._vis.pixelDensity && this._vis.smallVis ? t.fillStyle = this.colorssmall2[9 - n] : t.fillStyle = this._vis.smallVis ? this.colorssmall[4 - n] : e.colors[2 - this.pushDown - -n], t.fillRect(0, n, 1, n + 1) } paintAnalyzer() { if (!this._ctx) return; const e = this._ctx; e.fillStyle = this._color; const t = Math.log10(512); let n, a, r; 2 === this._vis.pixelDensity ? (n = 75, a = 10) : (n = this._vis.smallVis ? 40 : 75, a = this._vis.smallVis ? 5 : 15), processFFT(this._analyser, this._fft, this.inWaveData, this.outSpectralData), r = this._vis.smallVis ? 2 === this._vis.pixelDensity ? 75 : 37 : 75; for (let s = 0; s < n; s++) { const e = 0 + (t - 0) * s / (n - 1), a = s / (n - 1) * 511 * (1 - .91) + .91 * Math.pow(10, e); let r = Math.floor(a), i = Math.ceil(a); if (r >= 512 && (r = 511), i >= 512 && (i = 511), r === i) this.sample[s] = this.outSpectralData[r]; else { const e = a - r, t = 1 - e; this.sample[s] = t * this.outSpectralData[r] + e * this.outSpectralData[i] } } for (let s = 0; s < r; s++)"wide" === this._vis.bandwidth ? (this.chunk = this.chunk = 4294967292 & s, this.uVar12 = (this.sample[this.chunk + 3] + this.sample[this.chunk + 2] + this.sample[this.chunk + 1] + this.sample[this.chunk]) / 4, this.saData[s] = this.uVar12) : (this.chunk = 0, this.saData[s] = this.sample[s]), this.saData[s] >= a && (this.saData[s] = a), this.saPeaks[s] >= 256 * a && (this.saPeaks[s] = 256 * a), this.saFalloff[s] -= this.falloff / 16, this.saFalloff[s] <= this.saData[s] && (this.saFalloff[s] = this.saData[s]), this.saPeaks[s] <= Math.round(256 * this.saFalloff[s]) && (this.saPeaks[s] = 256 * this.saFalloff[s], this.saData2[s] = 3), this.barPeak[s] = this.saPeaks[s] / 256, this.saPeaks[s] -= Math.round(this.saData2[s]), this.saData2[s] *= this.peakFalloff, this.saPeaks[s] <= 0 && (this.saPeaks[s] = 0), this._vis.smallVis || Math.round(this.barPeak[s]) < 1 && (this.barPeak[s] = -3), s === this.chunk + 3 && "wide" === this._vis.bandwidth || this.paintBar(e, s, s, Math.round(this.saFalloff[s]) - this.pushDown, this.barPeak[s] + 1 - this.pushDown) } paintBarNormal(e, t, n, a, r) { const s = e.canvas.height, i = s - a; if (e.drawImage(this._bar, 0, i, 1, s - i, t, i, n - t + 1, s - i), this._vis.peaks) { const a = s - r; e.drawImage(this._peak, 0, 0, 1, 1, t, a, n - t + 1, 1) } } paintBarFire(e, t, n, a, r) { const s = e.canvas.height, i = s - a; if (e.drawImage(this._bar, 0, 0, this._bar.width, s - i, t, i, n - t + 1, s - i), this._vis.peaks) { const a = s - r; e.drawImage(this._peak, 0, 0, 1, 1, t, a, n - t + 1, 1) } } paintBarLine(e, t, n, a, r) { const s = e.canvas.height, i = s - a; if (e.drawImage(this._bar, 0, 0, this._bar.width, s - i, t, i, n - t + 1, s - i), this._vis.peaks) { const a = s - r; e.drawImage(this._peak, 0, 0, 1, 1, t, a, n - t + 1, 1) } } } function slice1st(e, t, n) { return e[t * n] } class WavePaintHandler extends VisPaintHandler { pushDown; _analyser; _bufferLength; _lastX = 0; _lastY = 0; _dataArray; _pixelRatio; _bar = document.createElement("canvas"); _16h = document.createElement("canvas"); paintWav; constructor(e) { super(e), this._analyser = this._vis.analyser, this._bufferLength = this._analyser.fftSize, this._dataArray = new Uint8Array(this._bufferLength), this._16h.width = 1, this._16h.height = 16, this._16h.setAttribute("width", "75"), this._16h.setAttribute("height", "16"), this._pixelRatio = window.devicePixelRatio || 1, this.paintWav = this.paintOscilloscope.bind(this), this.pushDown = 0 } prepare() { const e = this._vis; this._bar.width = 1, this._bar.height = 5, this._bar.setAttribute("width", "1"), this._bar.setAttribute("height", "5"); const t = this._bar.getContext("2d"); if (t) for (let n = 0; n < 5; n++)t.fillStyle = e.colors[18 + n], t.fillRect(0, n, 1, n + 1); this._ctx.imageSmoothingEnabled = !1, this._ctx.mozImageSmoothingEnabled = !1, this._ctx.webkitImageSmoothingEnabled = !1, this._ctx.msImageSmoothingEnabled = !1 } paintFrame() { if (!this._ctx) return; this._analyser.getByteTimeDomainData(this._dataArray), this._dataArray = this._dataArray.slice(0, 576); const e = this._dataArray.length, t = Math.floor(e / 75); for (let n = 0; n <= 75; n++) { const e = slice1st(this._dataArray, t, n); this.paintWav(n, e) } } colorIndex(e) { return this._vis.smallVis ? 0 : e >= 14 ? 4 : e >= 12 ? 3 : e >= 10 ? 2 : e >= 8 ? 1 : e >= 6 ? 0 : e >= 4 ? 1 : e >= 2 ? 2 : 3 } paintOscilloscope(e, t) { if (this._vis.smallVis && this._vis.doubled) { if (e >= 75) return } else if (e >= (this._vis.smallVis ? 38 : 75)) return; let n; this._vis.smallVis ? this.pushDown = 0 : this._vis.doubled && !this._vis.isMWOpen ? this.pushDown = 2 : this._vis.doubled ? this.pushDown = 0 : this.pushDown = 2, t = Math.round(t / 16 * 2) - 9, n = 2 === this._vis.pixelDensity ? 3 : 5, t = this._vis.smallVis ? t - n : t, this._vis.smallVis && 2 === this._vis.pixelDensity ? t = Math.round((t + 11) / 16 * 10) - 5 : this._vis.smallVis && (t = Math.round((t + 11) / 16 * 5) - 2); const a = t = this._vis.smallVis && 2 === this._vis.pixelDensity ? t < 0 ? 0 : t > 9 ? 9 : t : t < 0 ? 0 : t > this._vis.renderHeight - 1 ? this._vis.renderHeight - 1 : t; 0 === e && (this._lastY = t); let r = t, s = this._lastY; for (this._lastY = t, "solid" === this._vis.oscStyle ? 2 === this._vis.pixelDensity ? (t >= (this._vis.smallVis ? 5 : 8) ? (r = this._vis.smallVis ? 5 : 8, s = t) : (r = t, s = this._vis.smallVis ? 5 : 7), 0 === e && this._vis.smallVis && (r = t, s = t)) : (t >= (this._vis.smallVis ? 2 : 8) ? (r = this._vis.smallVis ? 2 : 8, s = t) : (r = t, s = this._vis.smallVis ? 2 : 7), 0 === e && this._vis.smallVis && (r = t, s = t)) : "dots" === this._vis.oscStyle ? (r = t, s = t) : s < r && ([s, r] = [r, s], this._vis.smallVis || r++), t = r; t <= s; t++)this._ctx.drawImage(this._bar, 0, this.colorIndex(a), 1, 1, e, t + this.pushDown, 1, 1) } } class NoVisualizerHandler extends VisPaintHandler { cleared = !1; prepare() { this.cleared = !1 } paintFrame() { this._ctx && (this.cleared = !0) } } function preRenderBg(e) { const { width: t, height: n, bgColor: a, fgColor: r, windowShade: s, pixelDensity: i } = e, o = document.createElement("canvas"); o.width = t, o.height = n; const l = 2 * i, m = o.getContext("2d"); if (null == m) throw new Error("Could not construct canvas context"); if (m.fillStyle = a, m.fillRect(0, 0, t, n), !s) { m.fillStyle = r; for (let e = 0; e < t; e += l)for (let t = i; t < n; t += l)m.fillRect(e, t, i, i) } return o } function Vis({ analyser: e }) { reactExports.useLayoutEffect(() => { e.fftSize = 1024 }, [e, e.fftSize]); const t = useTypedSelector(getSkinColors), n = useTypedSelector(getVisualizerStyle), a = useTypedSelector(getMediaStatus), r = useTypedSelector(getWindowShade), s = useTypedSelector(getWindowOpen)("main"), i = useTypedSelector(getDoubled), o = useActionCreator(toggleVisualizerStyle), l = r("main"), m = l && s, c = m ? 5 : 16, u = i && m ? 2 : 1; let A; A = s ? l ? i ? 76 : 38 : 76 * u : 76; const p = 76 * u, d = c * u, _ = reactExports.useMemo(() => preRenderBg({ width: A, height: d, bgColor: t[0], fgColor: t[1], windowShade: Boolean(l), pixelDensity: u }), [t, d, A, l, u]), [v, h] = reactExports.useState(null), g = reactExports.useMemo(() => { if (!v) return null; const a = { canvas: v, colors: t, analyser: e, oscStyle: "lines", bandwidth: "wide", coloring: "normal", peaks: !0, saFalloff: "moderate", saPeakFalloff: "slow", sa: "analyzer", renderHeight: c, smallVis: m, pixelDensity: u, doubled: i, isMWOpen: s }; switch (n) { case VISUALIZERS.OSCILLOSCOPE: return new WavePaintHandler(a); case VISUALIZERS.BAR: return new BarPaintHandler(a); case VISUALIZERS.NONE: default: return new NoVisualizerHandler(a) } }, [e, v, n, t, c, m, u, i, s]); return reactExports.useEffect(() => { if (v && g) { const e = v.getContext("2d"); e && (g.prepare(), a === MEDIA_STATUS.PAUSED && e.clearRect(0, 0, v.width, v.height)) } }, [i, v, g]), reactExports.useEffect(() => { if (null == v || null == g) return; const e = v.getContext("2d"); if (null == e) return; e.imageSmoothingEnabled = !1; let t = null; const r = () => { e.drawImage(_, 0, 0), g.paintFrame(), t = window.requestAnimationFrame(r) }; return a === MEDIA_STATUS.PLAYING && (n === VISUALIZERS.NONE ? e.clearRect(0, 0, A, d) : r()), () => { null !== t && window.cancelAnimationFrame(t) } }, [a, v, g, _, A, d, n]), a === MEDIA_STATUS.STOPPED ? null : jsxRuntimeExports.jsx("canvas", { id: "visualizer", ref: h, style: { width: 76, height: c }, width: p, height: d, onClick: o }) } const ActionButtons = reactExports.memo(() => { const e = useActionCreator(previous), t = useActionCreator(play), n = useActionCreator(pause), a = useActionCreator(next), r = useActionCreator(stop); return jsxRuntimeExports.jsxs("div", { className: "actions", children: [jsxRuntimeExports.jsx(WinampButton, { id: "previous", onClick: e, title: "Previous Track" }), jsxRuntimeExports.jsx(WinampButton, { id: "play", onClick: t, title: "Play" }), jsxRuntimeExports.jsx(WinampButton, { id: "pause", onClick: n, title: "Pause" }), jsxRuntimeExports.jsx(WinampButton, { id: "stop", onClick: r, title: "Stop" }), jsxRuntimeExports.jsx(WinampButton, { id: "next", onClick: a, title: "Next Track" })] }) }); function Balance({ style: e, className: t, id: n }) { const a = useTypedSelector(getBalance), r = useActionCreator(setBalance), s = useActionCreator(setFocus), i = useActionCreator(unsetFocus); return jsxRuntimeExports.jsx("input", { id: n, className: t, type: "range", min: "-100", max: "100", step: "1", value: a, style: { ...e, touchAction: "none" }, onChange: e => r(Number(e.target.value)), onPointerDown: () => s("balance"), onPointerUp: i, title: "Balance" }) } const offsetFromBalance = e => { const t = Math.abs(e) / 100; return 15 * Math.floor(27 * t) }, MainBalance = reactExports.memo(() => { const e = useTypedSelector(getBalance); return jsxRuntimeExports.jsx(Balance, { id: "balance", style: { backgroundPosition: `0 -${offsetFromBalance(e)}px` } }) }), Close = reactExports.memo(() => { const e = useActionCreator(close); return jsxRuntimeExports.jsx(ClickedDiv, { id: "close", onClick: e, title: "Close" }) }); function setFocusDouble() { return setFocus("double") } function mouseUp() { return e => { e(toggleDoubleSizeMode()), e(unsetFocus()) } } const ClutterBar = reactExports.memo(() => { const e = useActionCreator(setFocusDouble), t = useActionCreator(mouseUp), n = useTypedSelector(getDoubled); return jsxRuntimeExports.jsxs("div", { id: "clutter-bar", children: [jsxRuntimeExports.jsx(ContextMenuTarget, { bottom: !0, renderMenu: () => jsxRuntimeExports.jsx(OptionsContextMenu, {}), children: jsxRuntimeExports.jsx("div", { id: "button-o" }) }), jsxRuntimeExports.jsx("div", { id: "button-a" }), jsxRuntimeExports.jsx("div", { id: "button-i" }), jsxRuntimeExports.jsx("div", { title: "Toggle Doublesize Mode", id: "button-d", className: classnames({ selected: n }), onPointerUp: t, onPointerDown: t => { t.preventDefault(), e() } }), jsxRuntimeExports.jsx("div", { id: "button-v" })] }) }), Eject = reactExports.memo(() => { const e = useActionCreator(openMediaFileDialog); return jsxRuntimeExports.jsx(WinampButton, { id: "eject", onClick: e, title: "Open File(s)" }) }); function toggleEqualizer() { return toggleWindow("equalizer") } const EqToggleButton = reactExports.memo(() => { const e = useActionCreator(toggleEqualizer), t = useTypedSelector(getWindowOpen)("equalizer"); return jsxRuntimeExports.jsx(WinampButton, { id: "equalizer-button", className: classnames({ selected: t }), onClick: e, title: "Toggle Graphical Equalizer" }) }); function togglePlaylist() { return toggleWindow("playlist") } const PlaylistToggleButton = reactExports.memo(() => { const e = useTypedSelector(getWindowOpen)("playlist"), t = useActionCreator(togglePlaylist); return jsxRuntimeExports.jsx(WinampButton, { id: "playlist-button", className: classnames({ selected: e }), onClick: t, title: "Toggle Playlist Editor" }) }), CharacterString = reactExports.memo(e => { const t = (`${e.children}` || "").split(""); return jsxRuntimeExports.jsx(reactExports.Fragment, { children: t.map((e, t) => jsxRuntimeExports.jsx(Character, { children: e }, t + e)) }) }), Kbps = reactExports.memo(() => { const e = useTypedSelector(getKbps); return jsxRuntimeExports.jsx("div", { id: "kbps", children: jsxRuntimeExports.jsx(CharacterString, { children: e || "" }) }) }), Khz = reactExports.memo(() => { const e = useTypedSelector(getKhz); return jsxRuntimeExports.jsx("div", { id: "khz", children: jsxRuntimeExports.jsx(CharacterString, { children: e || "" }) }) }), SEPARATOR = "  ***  ", CHAR_WIDTH = 5, MARQUEE_MAX_LENGTH = 31, mod = (e, t) => (e % t + t) % t, isLong = e => e.length >= MARQUEE_MAX_LENGTH, stepOffset = (e, t, n) => { if (!isLong(e)) return 0; const a = t * CHAR_WIDTH + n, r = (e.length + SEPARATOR.length) * CHAR_WIDTH; return mod(a, r) }, pixelUnits = e => `${e}px`, loopText = e => isLong(e) ? `${e}${SEPARATOR}${e}` : e.padEnd(MARQUEE_MAX_LENGTH, " "); function useStepper({ step: e, dragging: t }) { const [n, a] = reactExports.useState(!0); reactExports.useEffect(() => { if (!1 === n) return; const t = setInterval(e, 220); return () => clearInterval(t) }, [e, n]), reactExports.useEffect(() => { if (t) return void a(!1); const e = window.setTimeout(() => { a(!0) }, 1e3); return () => { window.clearTimeout(e) } }, [t]) } function useDragX() { const [e, t] = reactExports.useState(null), [n, a] = reactExports.useState(0); reactExports.useEffect(() => { if (null == e) return; const n = e, r = e => { const t = getX(e) - n; a(-t) }; let s = !1; const i = () => { s || (document.removeEventListener("mousemove", r), document.removeEventListener("touchmove", r), document.removeEventListener("mouseup", i), document.removeEventListener("touchend", i), t(null), s = !0) }; return document.addEventListener("mousemove", r), document.addEventListener("touchmove", r), document.addEventListener("mouseup", i), document.addEventListener("touchend", i), i }, [e]); const r = reactExports.useCallback(e => { t(getX(e)) }, []); return { handleMouseDown: r, dragOffset: n, dragging: null != e } } const Marquee = reactExports.memo(() => { const e = useTypedSelector(getMarqueeText), t = useTypedSelector(getDoubled), n = useTypedSelector(getMarqueeStep), a = useActionCreator(stepMarquee), { handleMouseDown: r, dragOffset: s, dragging: i } = useDragX(), o = stepOffset(e, n, s), l = pixelUnits(-o); return useStepper({ step: a, dragging: i }), jsxRuntimeExports.jsx("div", { id: "marquee", className: "text", onPointerDown: r, title: "Song Title", children: jsxRuntimeExports.jsx("div", { style: { whiteSpace: "nowrap", willChange: "transform", transform: `translateX(${l})` }, children: jsxRuntimeExports.jsx(CharacterString, { children: loopText(e) }) }, t ? "doubled" : "not-doubled") }) }), MonoStereo = reactExports.memo(() => { const e = useTypedSelector(getChannels); return jsxRuntimeExports.jsxs("div", { className: "mono-stereo", children: [jsxRuntimeExports.jsx("div", { id: "stereo", className: classnames({ selected: 2 === e }) }), jsxRuntimeExports.jsx("div", { id: "mono", className: classnames({ selected: 1 === e }) })] }) }); function usePosition() { const e = useTypedSelector(getDuration), t = useTypedSelector(getTimeElapsed), n = e ? Math.floor(t) / e * 100 : 0, a = useTypedSelector(getUserInputScrubPosition); return [n, "position" === useTypedSelector(getUserInputFocus) ? a : n] } const Position = reactExports.memo(() => { const [e, t] = usePosition(), n = useTypedDispatch(), a = reactExports.useCallback(e => { n({ type: "SEEK_TO_PERCENT_COMPLETE", percent: Number(e.target.value) }), n({ type: "UNSET_FOCUS" }) }, [n]), r = reactExports.useCallback(e => { n({ type: "SET_FOCUS", input: "position" }), n({ type: "SET_SCRUB_POSITION", position: Number(e.target.value) }) }, [n]); let s = ""; return e <= 33 ? s = "left" : e >= 66 && (s = "right"), jsxRuntimeExports.jsx("input", { id: "position", className: s, type: "range", min: "0", max: "100", step: "1", style: { touchAction: "none" }, value: t, onInput: r, onChange: () => { }, onPointerUp: a, onPointerDown: r, title: "Seeking Bar" }) }), Repeat = reactExports.memo(() => { const e = useTypedSelector(getRepeat), t = useActionCreator(toggleRepeat); return jsxRuntimeExports.jsx(ContextMenuWraper, { renderContents: () => jsxRuntimeExports.jsx(Node, { checked: e, label: "Repeat", onClick: t, hotkey: "(R)" }), children: jsxRuntimeExports.jsx(WinampButton, { id: "repeat", className: classnames({ selected: e }), onClick: t, title: "Toggle Repeat" }) }) }), Shade = reactExports.memo(() => { const e = useActionCreator(toggleMainWindowShadeMode); return jsxRuntimeExports.jsx(ClickedDiv, { id: "shade", onClick: e, onDoubleClick: e => e.stopPropagation(), title: "Toggle Windowshade Mode" }) }), Minimize = reactExports.memo(() => { const e = useActionCreator(minimize); return jsxRuntimeExports.jsx(ClickedDiv, { id: "minimize", title: "Minimize", onClick: e }) }), Shuffle = reactExports.memo(() => { const e = useTypedSelector(getShuffle), t = useActionCreator(toggleShuffle); return jsxRuntimeExports.jsx(ContextMenuWraper, { renderContents: () => jsxRuntimeExports.jsx(Node, { checked: e, label: "Shuffle", onClick: t, hotkey: "(S)" }), children: jsxRuntimeExports.jsx(WinampButton, { id: "shuffle", className: classnames({ selected: e }), onClick: t, title: "Toggle Shuffle" }) }) }), Time = reactExports.memo(() => { const e = useActionCreator(toggleTimeMode), t = useTypedSelector(getTimeElapsed), n = useTypedSelector(getDuration) || 0, a = useTypedSelector(getTimeMode), r = a === TIME_MODE.ELAPSED ? t : n - t, s = getTimeObj(r); return jsxRuntimeExports.jsxs("div", { id: "time", onClick: e, className: "countdown", children: [a === TIME_MODE.REMAINING && jsxRuntimeExports.jsx("div", { id: "minus-sign" }), jsxRuntimeExports.jsx("div", { id: "minute-first-digit", className: `digit digit-${s.minutesFirstDigit}` }), jsxRuntimeExports.jsx("div", { id: "minute-second-digit", className: `digit digit-${s.minutesSecondDigit}` }), jsxRuntimeExports.jsx("div", { id: "second-first-digit", className: `digit digit-${s.secondsFirstDigit}` }), jsxRuntimeExports.jsx("div", { id: "second-second-digit", className: `digit digit-${s.secondsSecondDigit}` })] }) }); function Volume({ id: e, style: t, className: n }) { const a = useTypedSelector(getVolume), r = useActionCreator(setFocus), s = useActionCreator(unsetFocus), i = useActionCreator(setVolume); return jsxRuntimeExports.jsx("input", { id: e, type: "range", min: "0", max: "100", step: "1", value: a, style: { ...t, touchAction: "none" }, className: n, onChange: e => i(Number(e.target.value)), onPointerDown: () => r("volume"), onPointerUp: s, title: "Volume Bar" }) } const MainVolume = reactExports.memo(() => { const e = useTypedSelector(getVolume) / 100, t = { backgroundPosition: `0 -${15 * (Math.round(28 * e) - 1)}px` }; return jsxRuntimeExports.jsx("div", { id: "volume", style: t, children: jsxRuntimeExports.jsx(Volume, {}) }) }); function loadMediaAndPlay(e) { return loadMedia(e, LOAD_STYLE.PLAY) } const MainWindow = reactExports.memo(({ analyser: e, filePickers: t }) => { const n = useTypedSelector(getWindowShade)("main"), a = useTypedSelector(getMediaStatus), r = useTypedSelector(getFocusedWindow), s = useTypedSelector(getLoading), i = useTypedSelector(getDoubled), o = useTypedSelector(getLlamaMode), l = useTypedSelector(getWorking), m = classnames({ window: !0, play: a === MEDIA_STATUS.PLAYING, stop: a === MEDIA_STATUS.STOPPED, pause: a === MEDIA_STATUS.PAUSED, selected: r === WINDOWS.MAIN, shade: n, draggable: !0, loading: s, doubled: i, llama: o }), c = useActionCreator(toggleMainWindowShadeMode), u = useActionCreator(scrollVolume), A = useActionCreator(loadMediaAndPlay); return jsxRuntimeExports.jsx(DropTarget, { id: "main-window", windowId: WINDOWS.MAIN, className: m, handleDrop: A, onWheelActive: u, children: jsxRuntimeExports.jsxs(FocusTarget, { windowId: WINDOWS.MAIN, children: [jsxRuntimeExports.jsxs("div", { id: "title-bar", className: "selected draggable", onDoubleClick: c, children: [jsxRuntimeExports.jsx(ContextMenuTarget, { id: "option-context", bottom: !0, renderMenu: () => jsxRuntimeExports.jsx(MainContextMenu, { filePickers: t }), children: jsxRuntimeExports.jsx(ClickedDiv, { id: "option", title: "Winamp Menu" }) }), n && jsxRuntimeExports.jsx(MiniTime, {}), jsxRuntimeExports.jsx(Minimize, {}), jsxRuntimeExports.jsx(Shade, {}), jsxRuntimeExports.jsx(Close, {})] }), jsxRuntimeExports.jsxs("div", { className: "webamp-status", children: [jsxRuntimeExports.jsx(ClutterBar, {}), !l && jsxRuntimeExports.jsx("div", { id: "play-pause" }), jsxRuntimeExports.jsx("div", { id: "work-indicator", className: classnames({ selected: l }) }), jsxRuntimeExports.jsx(Time, {})] }), jsxRuntimeExports.jsx(Vis, { analyser: e }), jsxRuntimeExports.jsxs("div", { className: "media-info", children: [jsxRuntimeExports.jsx(Marquee, {}), jsxRuntimeExports.jsx(Kbps, {}), jsxRuntimeExports.jsx(Khz, {}), jsxRuntimeExports.jsx(MonoStereo, {})] }), jsxRuntimeExports.jsx(MainVolume, {}), jsxRuntimeExports.jsx(MainBalance, {}), jsxRuntimeExports.jsxs("div", { className: "windows", children: [jsxRuntimeExports.jsx(EqToggleButton, {}), jsxRuntimeExports.jsx(PlaylistToggleButton, {})] }), jsxRuntimeExports.jsx(Position, {}), jsxRuntimeExports.jsx(ActionButtons, {}), jsxRuntimeExports.jsx(Eject, {}), jsxRuntimeExports.jsxs("div", { className: "shuffle-repeat", children: [jsxRuntimeExports.jsx(Shuffle, {}), jsxRuntimeExports.jsx(Repeat, {})] }), jsxRuntimeExports.jsx("a", { id: "about", target: "_blank", href: "https://webamp.org/about", title: "About" })] }) }) }); function PlaylistResizeTarget({ widthOnly: e }) { const t = useTypedSelector(getWindowSize), n = useActionCreator(setWindowSize), a = t("playlist"); return jsxRuntimeExports.jsx(ResizeTarget$1, { currentSize: a, id: "playlist-resize-target", setWindowSize: e => { n("playlist", e) }, widthOnly: e }) } function PlaylistShade() { const e = useTypedSelector(getFocusedWindow), t = useTypedSelector(getWindowSize)("playlist"), n = useTypedSelector(getDuration), a = useTypedSelector(getMinimalMediaText), r = useActionCreator(closeWindow), s = useActionCreator(togglePlaylistShadeMode), i = useActionCreator(setFocusedWindow), o = t[0] * WINDOW_RESIZE_SEGMENT_WIDTH, l = reactExports.useMemo(() => { if (null == a) return "[No file]"; const e = (205 + o) / CHARACTER_WIDTH; return a.length > e ? a.slice(0, e - 1) + UTF8_ELLIPSIS : a }, [o, a]), m = reactExports.useMemo(() => null == a ? "" : getTimeStr(n), [n, a]); return jsxRuntimeExports.jsx("div", { id: "playlist-window-shade", className: classnames("window", "draggable", { selected: e === WINDOWS.PLAYLIST }), style: { width: `${WINDOW_WIDTH + o}px` }, onPointerDown: () => i("playlist"), onDoubleClick: s, children: jsxRuntimeExports.jsx("div", { className: "left", children: jsxRuntimeExports.jsxs("div", { className: "right draggable", children: [jsxRuntimeExports.jsx("div", { id: "playlist-shade-track-title", children: jsxRuntimeExports.jsx(CharacterString, { children: l }) }), jsxRuntimeExports.jsx("div", { id: "playlist-shade-time", children: jsxRuntimeExports.jsx(CharacterString, { children: m }) }), jsxRuntimeExports.jsx(PlaylistResizeTarget, { widthOnly: !0 }), jsxRuntimeExports.jsx(WinampButton, { id: "playlist-shade-button", onClick: s }), jsxRuntimeExports.jsx(WinampButton, { id: "playlist-close-button", onClick: () => r("playlist") })] }) }) }) } function PlaylistMenuEntry({ children: e }) { const { ref: t, hover: n } = useIsHovered(); return jsxRuntimeExports.jsx("li", { ref: t, className: classnames({ hover: n }), children: e }) } var PlaylistMenuEntry$1 = reactExports.memo(PlaylistMenuEntry); function PlaylistMenu(e) { const [t, n] = reactExports.useState(!1), [a, r] = reactExports.useState(null), s = reactExports.useCallback(() => { setTimeout(() => { n(!1) }, 0) }, []); return useOnClickAway(a, t ? s : null), jsxRuntimeExports.jsxs("div", { id: e.id, className: classnames("playlist-menu", { selected: t }), ref: r, onClick: () => n(e => !e), children: [jsxRuntimeExports.jsx("div", { className: "bar" }), t && jsxRuntimeExports.jsx("ul", { children: reactExports.Children.map(e.children, (e, t) => jsxRuntimeExports.jsx(PlaylistMenuEntry$1, { children: e }, t)) })] }) } var PlaylistMenu$1 = reactExports.memo(PlaylistMenu); const AddMenu = () => { const e = useTypedSelector(getTrackCount), t = useActionCreator(addDirAtIndex), n = useActionCreator(addFilesAtIndex), a = useActionCreator(addFilesFromUrl); return jsxRuntimeExports.jsxs(PlaylistMenu$1, { id: "playlist-add-menu", children: [jsxRuntimeExports.jsx("div", { className: "add-url", onClick: () => a(e) }), jsxRuntimeExports.jsx("div", { className: "add-dir", onClick: () => t(e) }), jsxRuntimeExports.jsx("div", { className: "add-file", onClick: () => n(e) })] }) }, RemoveMenu = () => { const e = useActionCreator(removeSelectedTracks), t = useActionCreator(removeAllTracks), n = useActionCreator(cropPlaylist); return jsxRuntimeExports.jsxs(PlaylistMenu$1, { id: "playlist-remove-menu", children: [jsxRuntimeExports.jsx("div", { className: "remove-misc", onClick: () => alert("Not supported in Webamp") }), jsxRuntimeExports.jsx("div", { className: "remove-all", onClick: t }), jsxRuntimeExports.jsx("div", { className: "crop", onClick: n }), jsxRuntimeExports.jsx("div", { className: "remove-selected", onClick: e })] }) }; function SelectionMenu() { const e = useActionCreator(invertSelection), t = useActionCreator(selectZero), n = useActionCreator(selectAll); return jsxRuntimeExports.jsxs(PlaylistMenu$1, { id: "playlist-selection-menu", children: [jsxRuntimeExports.jsx("div", { className: "invert-selection", onClick: e }), jsxRuntimeExports.jsx("div", { className: "select-zero", onClick: t }), jsxRuntimeExports.jsx("div", { className: "select-all", onClick: n })] }) } function SortContextMenu() { const e = useActionCreator(reverseList), t = useActionCreator(randomizeList), n = useActionCreator(sortListByTitle); return jsxRuntimeExports.jsx(ContextMenuTarget, { style: { width: "100%", height: "100%" }, top: !0, renderMenu: () => jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment, { children: [jsxRuntimeExports.jsx(Node, { label: "Sort list by title", onClick: n }), jsxRuntimeExports.jsx(Hr, {}), jsxRuntimeExports.jsx(Node, { label: "Reverse list", onClick: e }), jsxRuntimeExports.jsx(Node, { label: "Randomize list", onClick: t })] }), children: jsxRuntimeExports.jsx("div", {}) }) } const MiscOptionsContextMenu = () => { const e = useActionCreator(downloadHtmlPlaylist); return jsxRuntimeExports.jsx(ContextMenuTarget, { style: { width: "100%", height: "100%" }, top: !0, renderMenu: () => jsxRuntimeExports.jsx(Node, { onClick: e, label: "Generate HTML playlist" }), children: jsxRuntimeExports.jsx("div", {}) }) }, MiscMenu = () => jsxRuntimeExports.jsxs(PlaylistMenu$1, { id: "playlist-misc-menu", children: [jsxRuntimeExports.jsx("div", { className: "sort-list", onClick: e => e.stopPropagation(), children: jsxRuntimeExports.jsx(SortContextMenu, {}) }), jsxRuntimeExports.jsx("div", { className: "file-info", onClick: () => alert("Not supported in Webamp") }), jsxRuntimeExports.jsx("div", { className: "misc-options", onClick: e => e.stopPropagation(), children: jsxRuntimeExports.jsx(MiscOptionsContextMenu, {}) })] }); function ListMenu() { const e = useActionCreator(removeAllTracks), t = useActionCreator(addFilesFromList), n = useActionCreator(saveFilesToList); return jsxRuntimeExports.jsxs(PlaylistMenu$1, { id: "playlist-list-menu", children: [jsxRuntimeExports.jsx("div", { className: "new-list", onClick: e }), jsxRuntimeExports.jsx("div", { className: "save-list", onClick: n }), jsxRuntimeExports.jsx("div", { className: "load-list", onClick: t })] }) } function rightPad(e, t, n) { for (; e.length < t;)e += n; return e } const RunningTimeDisplay = () => { const e = useTypedSelector(getRunningTimeMessage), t = reactExports.useMemo(() => rightPad(e, 18, " "), [e]); return jsxRuntimeExports.jsx("div", { className: "playlist-running-time-display draggable", children: jsxRuntimeExports.jsx("div", { children: jsxRuntimeExports.jsx(CharacterString, { children: t }) }) }) }, PlaylistWindow$1 = () => { const e = useActionCreator(play), t = useActionCreator(pause), n = useActionCreator(stop), a = useActionCreator(openMediaFileDialog), r = useActionCreator(next), s = useActionCreator(previous); return jsxRuntimeExports.jsxs(reactExports.Fragment, { children: [jsxRuntimeExports.jsx(RunningTimeDisplay, {}), jsxRuntimeExports.jsxs("div", { className: "playlist-action-buttons", children: [jsxRuntimeExports.jsx("div", { className: "playlist-previous-button", onClick: s }), jsxRuntimeExports.jsx("div", { className: "playlist-play-button", onClick: e }), jsxRuntimeExports.jsx("div", { className: "playlist-pause-button", onClick: t }), jsxRuntimeExports.jsx("div", { className: "playlist-stop-button", onClick: n }), jsxRuntimeExports.jsx("div", { className: "playlist-next-button", onClick: r }), jsxRuntimeExports.jsx("div", { className: "playlist-eject-button", onClick: a })] }), jsxRuntimeExports.jsx(MiniTime, {})] }) }; function TrackCell({ children: e, handleMoveClick: t, index: n, id: a }) { const r = useTypedSelector(getSkinPlaylistStyle), s = useTypedSelector(getSelectedTrackIdsSet), i = useTypedSelector(getCurrentTrackId), o = s.has(a), l = i === a, m = useTypedDispatch(), c = useActionCreator(playTrackNow), u = reactExports.useCallback(e => e.shiftKey ? (e.preventDefault(), void m({ type: "SHIFT_CLICKED_TRACK", index: n })) : e.metaKey || e.ctrlKey ? (e.preventDefault(), void m({ type: "CTRL_CLICKED_TRACK", index: n })) : (o || m({ type: "CLICKED_TRACK", index: n }), void t(e)), [m, t, n, o]), A = reactExports.useCallback(e => { function r() { c(a) } o || m({ type: "CLICKED_TRACK", index: n }), t(e), e.target.addEventListener("touchstart", r), setTimeout(() => { e.target.removeEventListener("touchstart", r) }, 250) }, [m, t, a, n, c, o]), p = { backgroundColor: o ? r.selectedbg : void 0, color: l ? r.current : void 0 }; return jsxRuntimeExports.jsx("div", { className: classnames("track-cell", { selected: o, current: l }), style: p, onClick: e => e.stopPropagation(), onMouseDown: u, onTouchStart: A, onContextMenu: e => e.preventDefault(), onDoubleClick: () => c(a), children: e }) } const TrackTitle = ({ id: e, paddedTrackNumber: t }) => { const n = useTypedSelector(getTrackDisplayName)(e); return jsxRuntimeExports.jsxs("span", { children: [t, ". ", n] }) }; function getNumberLength(e) { return e.toString().length } function TrackList() { const e = useTypedSelector(getScrollOffset), t = useTypedSelector(getVisibleTrackIds), n = useTypedSelector(getTracks), a = useTypedSelector(getNumberOfTracks), r = useActionCreator(selectZero), s = useActionCreator(dragSelected), i = useActionCreator(scrollPlaylistByDelta), [o, l] = reactExports.useState(null), [m, c] = reactExports.useState(!1), [u, A] = reactExports.useState(null), p = e => { c(!0), A(getY(e)) }; function d(n) { return t.map((t, a) => jsxRuntimeExports.jsx(TrackCell, { id: t, index: e + a, handleMoveClick: p, children: n(t, a) }, t)) } reactExports.useEffect(() => { if (null == o || null == u || !1 === m) return; const { top: e, bottom: t, left: n, right: a } = o.getBoundingClientRect(); let r = 0; const i = i => { const o = getX(i), l = getY(i); if (l < e || l > t || o < n || o > a) return; const m = Math.floor((l - u) / TRACK_HEIGHT); m !== r && (s(m - r), r = m) }, l = () => c(!1); return window.addEventListener("mouseup", l), window.addEventListener("mousemove", i), window.addEventListener("touchend", l), window.addEventListener("touchmove", i), () => { window.removeEventListener("mousemove", i), window.removeEventListener("touchmove", i), window.removeEventListener("mouseup", l), window.removeEventListener("touchend", l) } }, [m]); const _ = getNumberLength(a), v = t => (t + 1 + e).toString().padStart(_, ""); return reactExports.useEffect(() => { if (null != o) return o.addEventListener("wheel", i, { passive: !1 }), () => { o.removeEventListener("wheel", i) } }, [o, i]), jsxRuntimeExports.jsxs("div", { ref: l, className: "playlist-tracks", style: { height: "100%", userSelect: "none" }, onClick: r, children: [jsxRuntimeExports.jsx("div", { className: "playlist-track-titles", children: d((e, t) => jsxRuntimeExports.jsx(TrackTitle, { id: e, paddedTrackNumber: v(t) })) }), jsxRuntimeExports.jsx("div", { className: "playlist-track-durations", children: d(e => getTimeStr(n[e].duration)) })] }) } function VerticalSlider({ value: e, height: t, width: n, handle: a, handleHeight: r, onBeforeChange: s, onChange: i, onAfterChange: o, requireClicksOriginateLocally: l = !0, disabled: m }) { const c = reactExports.useRef(null), u = reactExports.useRef(null); function A(e) { e.preventDefault(), function ({ target: e, clientY: t }) { const n = c.current, a = u.current; if (null == n || null == a) return null; const r = n.getBoundingClientRect(), l = a.getBoundingClientRect(), { top: m, height: A } = r, { top: p, height: d } = l, _ = m + (a.contains(e) ? t - p : d / 2), v = A - d; function h(e) { i(clamp((e - _) / v, 0, 1)) } const g = e => { e.preventDefault(), h(e.clientY) }, f = () => { null != o && o(), document.removeEventListener("pointermove", g), document.removeEventListener("pointerup", f) }; document.addEventListener("pointermove", g), document.addEventListener("pointerup", f), null != s && s(), h(t) }({ target: e.target, clientY: e.clientY }) } const p = Math.floor((t - r) * e); return jsxRuntimeExports.jsx("div", { style: { height: t, width: n }, onPointerDown: m ? void 0 : A, onPointerEnter: m || l ? void 0 : function (e) { 1 === e.buttons && A(e) }, ref: c, children: jsxRuntimeExports.jsx("div", { style: { transform: `translateY(${p}px)` }, ref: u, children: a }) }) } const HANDLE_HEIGHT = 18, Handle = () => jsxRuntimeExports.jsx("div", { className: "playlist-scrollbar-handle", style: { height: HANDLE_HEIGHT } }); function PlaylistScrollBar() { const e = useTypedSelector(getWindowPixelSize)(WINDOWS.PLAYLIST).height, t = useTypedSelector(getPlaylistScrollPosition), n = useTypedSelector(getAllTracksAreVisible), a = useActionCreator(setPlaylistScrollPosition); return jsxRuntimeExports.jsx("div", { className: "playlist-scrollbar", style: { marginLeft: 5 }, children: jsxRuntimeExports.jsx(VerticalSlider, { height: e - 58, handleHeight: HANDLE_HEIGHT, width: 8, value: t / 100, onChange: e => a(100 * e), handle: jsxRuntimeExports.jsx(Handle, {}), disabled: n }) }) } function _maxTrackIndex(e) { return e.playlist.trackOrder.length - 1 } function PlaylistWindow({ analyser: e }) { const t = useTypedSelector(getScrollOffset), n = useTypedSelector(getWindowSize), a = useTypedSelector(getFocusedWindow), r = useTypedSelector(getWindowShade), s = useTypedSelector(getWindowOpen), i = useTypedSelector(_maxTrackIndex), o = useTypedSelector(getSkinPlaylistStyle), l = useTypedSelector(getWindowPixelSize), m = a === WINDOWS.PLAYLIST, c = Boolean(r(WINDOWS.PLAYLIST)), u = n(WINDOWS.PLAYLIST), A = l(WINDOWS.PLAYLIST), p = useActionCreator(closeWindow), d = useActionCreator(togglePlaylistShadeMode), _ = useActionCreator(scrollUpFourTracks), v = useActionCreator(scrollDownFourTracks), h = useActionCreator(scrollPlaylistByDelta), g = useActionCreator(loadMedia), f = u[0] > 2, b = !s(WINDOWS.MAIN), x = reactExports.useCallback((e, n) => { const a = e.clientY - n.y, r = clamp(t + Math.round((a - 23) / TRACK_HEIGHT), 0, i + 1); g(e, LOAD_STYLE.NONE, r) }, [g, i, t]); if (c) return jsxRuntimeExports.jsx(PlaylistShade, {}); const y = { color: o.normal, backgroundColor: o.normalbg, fontFamily: `${o.font}, Arial, sans-serif`, height: `${A.height}px`, width: `${A.width}px` }, w = classnames("window", "draggable", { selected: m }), E = u[0] % 2 == 0; return jsxRuntimeExports.jsx(FocusTarget, { windowId: WINDOWS.PLAYLIST, children: jsxRuntimeExports.jsxs(DropTarget, { id: "playlist-window", windowId: WINDOWS.PLAYLIST, className: w, style: y, handleDrop: x, onWheelActive: h, children: [jsxRuntimeExports.jsxs("div", { className: "playlist-top draggable", onDoubleClick: d, children: [jsxRuntimeExports.jsx("div", { className: "playlist-top-left draggable" }), E && jsxRuntimeExports.jsx("div", { className: "playlist-top-left-spacer draggable" }), jsxRuntimeExports.jsx("div", { className: "playlist-top-left-fill draggable" }), jsxRuntimeExports.jsx("div", { className: "playlist-top-title draggable" }), E && jsxRuntimeExports.jsx("div", { className: "playlist-top-right-spacer draggable" }), jsxRuntimeExports.jsx("div", { className: "playlist-top-right-fill draggable" }), jsxRuntimeExports.jsxs("div", { className: "playlist-top-right draggable", children: [jsxRuntimeExports.jsx(WinampButton, { id: "playlist-shade-button", onClick: d }), jsxRuntimeExports.jsx(WinampButton, { id: "playlist-close-button", onClick: () => p(WINDOWS.PLAYLIST) })] })] }), jsxRuntimeExports.jsxs("div", { className: "playlist-middle draggable", children: [jsxRuntimeExports.jsx("div", { className: "playlist-middle-left draggable" }), jsxRuntimeExports.jsx("div", { className: "playlist-middle-center", children: jsxRuntimeExports.jsx(TrackList, {}) }), jsxRuntimeExports.jsx(WinampButton, { className: "playlist-middle-right draggable", children: jsxRuntimeExports.jsx(PlaylistScrollBar, {}) })] }), jsxRuntimeExports.jsxs("div", { className: "playlist-bottom draggable", children: [jsxRuntimeExports.jsxs("div", { className: "playlist-bottom-left draggable", children: [jsxRuntimeExports.jsx(AddMenu, {}), jsxRuntimeExports.jsx(RemoveMenu, {}), jsxRuntimeExports.jsx(SelectionMenu, {}), jsxRuntimeExports.jsx(MiscMenu, {})] }), jsxRuntimeExports.jsx("div", { className: "playlist-bottom-center draggable" }), jsxRuntimeExports.jsxs("div", { className: "playlist-bottom-right draggable", children: [f && jsxRuntimeExports.jsx("div", { className: "playlist-visualizer", children: b && jsxRuntimeExports.jsx("div", { className: "visualizer-wrapper", children: jsxRuntimeExports.jsx(Vis, { analyser: e }) }) }), jsxRuntimeExports.jsx(PlaylistWindow$1, {}), jsxRuntimeExports.jsx(ListMenu, {}), jsxRuntimeExports.jsx("div", { id: "playlist-scroll-up-button", onClick: _ }), jsxRuntimeExports.jsx("div", { id: "playlist-scroll-down-button", onClick: v }), jsxRuntimeExports.jsx(PlaylistResizeTarget, {})] })] })] }) }) } const EqualizerWindow = ({ code: e, setCode: t }) => { const n = useTypedSelector(getSkinPlaylistStyle); return jsxRuntimeExports.jsxs("div", { id: "equalizer-window", children: [jsxRuntimeExports.jsx("div", { className: "equalizer-top title-bar draggable" }), jsxRuntimeExports.jsx("div", { style: { width: "100%", height: "calc(100% - 14px)", boxSizing: "border-box", padding: "1px 4px 5px 6px" }, children: jsxRuntimeExports.jsx("textarea", { className: "track-cell", value: e, onChange: e => t(e.target.value), style: { width: "100%", height: "100%", boxSizing: "border-box", resize: "none", fontSize: "12px", color: n.normal, backgroundColor: n.normalbg, fontFamily: `${n.font}, monospace`, backdropFilter: "blur(10px)", border: "none", outline: "none" } }) })] }) }, imageSelectors = { MAIN_BALANCE_BACKGROUND: ["#balance"], MAIN_BALANCE_THUMB: ["#balance::-webkit-slider-thumb", "#balance::-moz-range-thumb"], MAIN_BALANCE_THUMB_ACTIVE: ["#balance:active::-webkit-slider-thumb", "#balance:active::-moz-range-thumb"], MAIN_PREVIOUS_BUTTON: [".actions #previous"], MAIN_PREVIOUS_BUTTON_ACTIVE: [".actions #previous.winamp-active"], MAIN_PLAY_BUTTON: [".actions #play"], MAIN_PLAY_BUTTON_ACTIVE: [".actions #play.winamp-active"], MAIN_PAUSE_BUTTON: [".actions #pause"], MAIN_PAUSE_BUTTON_ACTIVE: [".actions #pause.winamp-active"], MAIN_STOP_BUTTON: [".actions #stop"], MAIN_STOP_BUTTON_ACTIVE: [".actions #stop.winamp-active"], MAIN_NEXT_BUTTON: [".actions #next"], MAIN_NEXT_BUTTON_ACTIVE: [".actions #next.winamp-active"], MAIN_EJECT_BUTTON: ["#eject"], MAIN_EJECT_BUTTON_ACTIVE: ["#eject.winamp-active"], MAIN_WINDOW_BACKGROUND: ["#main-window"], MAIN_STEREO: [".media-info #stereo", ".stop .media-info #stereo.selected"], MAIN_STEREO_SELECTED: [".media-info #stereo.selected"], MAIN_MONO: [".media-info #mono", ".stop .media-info #mono.selected"], MAIN_MONO_SELECTED: [".media-info #mono.selected"], NO_MINUS_SIGN: ["#time #minus-sign"], MINUS_SIGN: ["#time.countdown #minus-sign"], DIGIT_0: [".digit-0"], DIGIT_1: [".digit-1"], DIGIT_2: [".digit-2"], DIGIT_3: [".digit-3"], DIGIT_4: [".digit-4"], DIGIT_5: [".digit-5"], DIGIT_6: [".digit-6"], DIGIT_7: [".digit-7"], DIGIT_8: [".digit-8"], DIGIT_9: [".digit-9"], NO_MINUS_SIGN_EX: ["#time #minus-sign"], MINUS_SIGN_EX: ["#time.countdown #minus-sign"], DIGIT_0_EX: [".digit-0"], DIGIT_1_EX: [".digit-1"], DIGIT_2_EX: [".digit-2"], DIGIT_3_EX: [".digit-3"], DIGIT_4_EX: [".digit-4"], DIGIT_5_EX: [".digit-5"], DIGIT_6_EX: [".digit-6"], DIGIT_7_EX: [".digit-7"], DIGIT_8_EX: [".digit-8"], DIGIT_9_EX: [".digit-9"], MAIN_PLAYING_INDICATOR: [".play #play-pause"], MAIN_PAUSED_INDICATOR: [".pause #play-pause"], MAIN_STOPPED_INDICATOR: [".stop #play-pause"], MAIN_NOT_WORKING_INDICATOR: ["#work-indicator"], MAIN_WORKING_INDICATOR: ["#work-indicator.selected"], PLAYLIST_TOP_TILE: [".playlist-top-left-fill", ".playlist-top-left-spacer", ".playlist-top-right-fill", ".playlist-top-right-spacer"], PLAYLIST_TOP_LEFT_CORNER: [".playlist-top-left"], PLAYLIST_TITLE_BAR: [".playlist-top-title"], PLAYLIST_TOP_RIGHT_CORNER: [".playlist-top-right"], PLAYLIST_TOP_TILE_SELECTED: [".selected .playlist-top-left-fill", ".selected .playlist-top-left-spacer", ".selected .playlist-top-right-fill", ".selected .playlist-top-right-spacer"], PLAYLIST_TOP_LEFT_SELECTED: [".selected .playlist-top-left"], PLAYLIST_TITLE_BAR_SELECTED: [".selected .playlist-top-title"], PLAYLIST_TOP_RIGHT_CORNER_SELECTED: [".selected .playlist-top-right"], PLAYLIST_LEFT_TILE: [".playlist-middle-left"], PLAYLIST_RIGHT_TILE: [".playlist-middle-right"], PLAYLIST_SCROLL_HANDLE: [".playlist-scrollbar-handle"], PLAYLIST_SCROLL_HANDLE_SELECTED: [".playlist-middle-right.winamp-active .playlist-scrollbar-handle"], PLAYLIST_BOTTOM_TILE: [".playlist-bottom"], PLAYLIST_BOTTOM_LEFT_CORNER: [".playlist-bottom-left"], PLAYLIST_BOTTOM_RIGHT_CORNER: [".playlist-bottom-right"], PLAYLIST_VISUALIZER_BACKGROUND: [".playlist-visualizer"], PLAYLIST_SHADE_BACKGROUND: ["#playlist-window-shade"], PLAYLIST_SHADE_BACKGROUND_LEFT: ["#playlist-window-shade .left"], PLAYLIST_SHADE_BACKGROUND_RIGHT: ["#playlist-window-shade .right"], PLAYLIST_SHADE_BACKGROUND_RIGHT_SELECTED: ["#playlist-window-shade.selected .right"], PLAYLIST_ADD_MENU_BAR: ["#playlist-add-menu.selected .bar"], PLAYLIST_ADD_URL: ["#playlist-add-menu .add-url"], PLAYLIST_ADD_URL_SELECTED: ["#playlist-add-menu .hover .add-url"], PLAYLIST_ADD_DIR: ["#playlist-add-menu .add-dir"], PLAYLIST_ADD_DIR_SELECTED: ["#playlist-add-menu .hover .add-dir"], PLAYLIST_ADD_FILE: ["#playlist-add-menu .add-file"], PLAYLIST_ADD_FILE_SELECTED: ["#playlist-add-menu .hover .add-file"], PLAYLIST_REMOVE_MENU_BAR: ["#playlist-remove-menu.selected .bar"], PLAYLIST_REMOVE_ALL: ["#playlist-remove-menu .remove-all"], PLAYLIST_REMOVE_ALL_SELECTED: ["#playlist-remove-menu .hover .remove-all"], PLAYLIST_CROP: ["#playlist-remove-menu .crop"], PLAYLIST_CROP_SELECTED: ["#playlist-remove-menu .hover .crop"], PLAYLIST_REMOVE_SELECTED: ["#playlist-remove-menu .remove-selected"], PLAYLIST_REMOVE_SELECTED_SELECTED: ["#playlist-remove-menu .hover .remove-selected"], PLAYLIST_REMOVE_MISC: ["#playlist-remove-menu .remove-misc"], PLAYLIST_REMOVE_MISC_SELECTED: ["#playlist-remove-menu .hover .remove-misc"], PLAYLIST_SELECT_MENU_BAR: ["#playlist-selection-menu.selected .bar"], PLAYLIST_INVERT_SELECTION: ["#playlist-selection-menu .invert-selection"], PLAYLIST_INVERT_SELECTION_SELECTED: ["#playlist-selection-menu .hover .invert-selection"], PLAYLIST_SELECT_ZERO: ["#playlist-selection-menu .select-zero"], PLAYLIST_SELECT_ZERO_SELECTED: ["#playlist-selection-menu .hover .select-zero"], PLAYLIST_SELECT_ALL: ["#playlist-selection-menu .select-all"], PLAYLIST_SELECT_ALL_SELECTED: ["#playlist-selection-menu .hover .select-all"], PLAYLIST_CLOSE_SELECTED: ["#playlist-close-button.winamp-active"], PLAYLIST_COLLAPSE_SELECTED: ["#playlist-window #playlist-shade-button.winamp-active"], PLAYLIST_EXPAND_SELECTED: ["#playlist-window-shade #playlist-shade-button.winamp-active"], PLAYLIST_MISC_MENU_BAR: ["#playlist-misc-menu.selected .bar"], PLAYLIST_MISC_OPTIONS: ["#playlist-misc-menu .misc-options"], PLAYLIST_MISC_OPTIONS_SELECTED: ["#playlist-misc-menu .hover .misc-options"], PLAYLIST_FILE_INFO: ["#playlist-misc-menu .file-info"], PLAYLIST_FILE_INFO_SELECTED: ["#playlist-misc-menu .hover .file-info"], PLAYLIST_SORT_LIST: ["#playlist-misc-menu .sort-list"], PLAYLIST_SORT_LIST_SELECTED: ["#playlist-misc-menu .hover .sort-list"], PLAYLIST_LIST_BAR: ["#playlist-list-menu.selected .bar"], PLAYLIST_NEW_LIST: ["#playlist-list-menu .new-list"], PLAYLIST_NEW_LIST_SELECTED: ["#playlist-list-menu .hover .new-list"], PLAYLIST_LOAD_LIST: ["#playlist-list-menu .load-list"], PLAYLIST_LOAD_LIST_SELECTED: ["#playlist-list-menu .hover .load-list"], PLAYLIST_SAVE_LIST: ["#playlist-list-menu .save-list"], PLAYLIST_SAVE_LIST_SELECTED: ["#playlist-list-menu .hover .save-list"], EQ_WINDOW_BACKGROUND: ["#equalizer-window:not(.shade)"], EQ_TITLE_BAR: [".equalizer-top"], EQ_TITLE_BAR_SELECTED: [".selected .equalizer-top"], EQ_SLIDER_BACKGROUND: [".band"], EQ_SLIDER_THUMB: [".band .slider-handle"], EQ_SLIDER_THUMB_SELECTED: [".band.winamp-active .slider-handle"], EQ_ON_BUTTON: ["#on"], EQ_ON_BUTTON_DEPRESSED: ["#on.winamp-active"], EQ_ON_BUTTON_SELECTED: ["#on.selected"], EQ_ON_BUTTON_SELECTED_DEPRESSED: ["#on.selected.winamp-active"], EQ_AUTO_BUTTON: ["#auto"], EQ_AUTO_BUTTON_DEPRESSED: ["#auto.winamp-active"], EQ_AUTO_BUTTON_SELECTED: ["#auto.selected"], EQ_AUTO_BUTTON_SELECTED_DEPRESSED: ["#auto.selected.winamp-active"], EQ_GRAPH_BACKGROUND: ["#eqGraph"], EQ_PRESETS_BUTTON: ["#presets"], EQ_PRESETS_BUTTON_SELECTED: ["#presets.winamp-active"], EQ_PREAMP_LINE: ["#preamp-line"], EQ_SHADE_BACKGROUND: ["#equalizer-window.shade"], EQ_SHADE_BACKGROUND_SELECTED: ["#equalizer-window.shade.selected"], EQ_SHADE_VOLUME_SLIDER_LEFT: ["#equalizer-volume.left::-webkit-slider-thumb", "#equalizer-volume.left::-moz-range-thumb"], EQ_SHADE_VOLUME_SLIDER_CENTER: ["#equalizer-volume.center::-webkit-slider-thumb", "#equalizer-volume.center::-moz-range-thumb"], EQ_SHADE_VOLUME_SLIDER_RIGHT: ["#equalizer-volume.right::-webkit-slider-thumb", "#equalizer-volume.right::-moz-range-thumb"], EQ_SHADE_BALANCE_SLIDER_LEFT: ["#equalizer-balance.left::-webkit-slider-thumb", "#equalizer-balance.left::-moz-range-thumb"], EQ_SHADE_BALANCE_SLIDER_CENTER: ["#equalizer-balance.center::-webkit-slider-thumb", "#equalizer-balance.center::-moz-range-thumb"], EQ_SHADE_BALANCE_SLIDER_RIGHT: ["#equalizer-balance.right::-webkit-slider-thumb", "#equalizer-balance.right::-moz-range-thumb"], EQ_MAXIMIZE_BUTTON_ACTIVE: ["#equalizer-shade.winamp-active"], EQ_MINIMIZE_BUTTON_ACTIVE: ["#equalizer-window.shade #equalizer-shade.winamp-active"], EQ_CLOSE_BUTTON: ["#equalizer-window.selected #eq-buttons.clicked #equalizer-close"], EQ_CLOSE_BUTTON_ACTIVE: ["#equalizer-window.selected #eq-buttons.clicked #equalizer-close.winamp-active"], EQ_SHADE_CLOSE_BUTTON: ["#equalizer-window.shade.selected #eq-buttons.clicked #equalizer-close"], EQ_SHADE_CLOSE_BUTTON_ACTIVE: ["#equalizer-window.shade.selected #eq-buttons.clicked #equalizer-close.winamp-active"], MAIN_POSITION_SLIDER_BACKGROUND: ["#position"], MAIN_POSITION_SLIDER_THUMB: ["#position::-webkit-slider-thumb", "#position::-moz-range-thumb"], MAIN_POSITION_SLIDER_THUMB_SELECTED: ["#position:active::-webkit-slider-thumb", "#position:active::-moz-range-thumb"], MAIN_SHUFFLE_BUTTON: ["#shuffle"], MAIN_SHUFFLE_BUTTON_DEPRESSED: ["#shuffle.winamp-active"], MAIN_SHUFFLE_BUTTON_SELECTED: ["#shuffle.selected"], MAIN_SHUFFLE_BUTTON_SELECTED_DEPRESSED: ["#shuffle.selected.winamp-active"], MAIN_REPEAT_BUTTON: ["#repeat"], MAIN_REPEAT_BUTTON_DEPRESSED: ["#repeat.winamp-active"], MAIN_REPEAT_BUTTON_SELECTED: ["#repeat.selected"], MAIN_REPEAT_BUTTON_SELECTED_DEPRESSED: ["#repeat.selected.winamp-active"], MAIN_EQ_BUTTON: ["#equalizer-button"], MAIN_EQ_BUTTON_SELECTED: ["#equalizer-button.selected"], MAIN_EQ_BUTTON_DEPRESSED: ["#equalizer-button.winamp-active"], MAIN_EQ_BUTTON_DEPRESSED_SELECTED: ["#equalizer-button.selected.winamp-button"], MAIN_PLAYLIST_BUTTON: ["#playlist-button"], MAIN_PLAYLIST_BUTTON_SELECTED: ["#playlist-button.selected"], MAIN_PLAYLIST_BUTTON_DEPRESSED: ["#playlist-button.winamp-active"], MAIN_PLAYLIST_BUTTON_DEPRESSED_SELECTED: ["#playlist-button.selected.winamp-active"], MAIN_TITLE_BAR: ["#title-bar"], MAIN_TITLE_BAR_SELECTED: [".selected #title-bar"], MAIN_EASTER_EGG_TITLE_BAR: [".llama #title-bar"], MAIN_EASTER_EGG_TITLE_BAR_SELECTED: [".llama.selected #title-bar"], MAIN_OPTIONS_BUTTON: [".selected #title-bar #option.clicked"], MAIN_OPTIONS_BUTTON_DEPRESSED: [".selected #title-bar #option:active", ".selected #title-bar #option.selected"], MAIN_MINIMIZE_BUTTON: [".selected #title-bar #minimize.clicked"], MAIN_MINIMIZE_BUTTON_DEPRESSED: [".selected #title-bar #minimize.winamp-active"], MAIN_SHADE_BUTTON: [".selected #title-bar #shade.clicked"], MAIN_SHADE_BUTTON_DEPRESSED: [".selected #title-bar #shade.winamp-active"], MAIN_CLOSE_BUTTON: [".selected #title-bar #close.clicked"], MAIN_CLOSE_BUTTON_DEPRESSED: [".selected #title-bar #close.winamp-active"], MAIN_CLUTTER_BAR_BACKGROUND: ["#clutter-bar"], MAIN_CLUTTER_BAR_BACKGROUND_DISABLED: ["#clutter-bar.disabled"], MAIN_CLUTTER_BAR_BUTTON_O_SELECTED: ["#button-o:active", "#button-0.selected"], MAIN_CLUTTER_BAR_BUTTON_A_SELECTED: ["#button-a:active", "#button-a.selected"], MAIN_CLUTTER_BAR_BUTTON_I_SELECTED: ["#button-i:active", "#button-i.selected"], MAIN_CLUTTER_BAR_BUTTON_D_SELECTED: ["#button-d:active", "#button-d.selected"], MAIN_CLUTTER_BAR_BUTTON_V_SELECTED: ["#button-v:active", "#button-v.selected"], MAIN_SHADE_BACKGROUND: [".shade #title-bar"], MAIN_SHADE_BACKGROUND_SELECTED: [".shade.selected #title-bar"], MAIN_SHADE_BUTTON_SELECTED: [".shade.selected #title-bar #shade"], MAIN_SHADE_BUTTON_SELECTED_DEPRESSED: [".shade #title-bar #shade.winamp-active"], MAIN_SHADE_POSITION_BACKGROUND: [".shade #position"], MAIN_SHADE_POSITION_THUMB: [".shade #position::-moz-range-thumb", ".shade #position::-webkit-slider-thumb"], MAIN_SHADE_POSITION_THUMB_LEFT: [".shade #position.left::-moz-range-thumb", ".shade #position.left::-webkit-slider-thumb"], MAIN_SHADE_POSITION_THUMB_RIGHT: [".shade #position.right::-moz-range-thumb", ".shade #position.right::-webkit-slider-thumb"], MAIN_VOLUME_BACKGROUND: ["#volume"], MAIN_VOLUME_THUMB: ["#volume input::-webkit-slider-thumb", "#volume input::-moz-range-thumb"], MAIN_VOLUME_THUMB_SELECTED: ["#volume input:active::-webkit-slider-thumb", "#volume input:active::-moz-range-thumb"], GEN_TOP_CENTER_FILL: [".gen-window .gen-top"], GEN_TOP_LEFT: [".gen-window .gen-top-left"], GEN_TOP_LEFT_END: [".gen-window .gen-top-left-end"], GEN_TOP_RIGHT: [".gen-window .gen-top-right"], GEN_TOP_RIGHT_END: [".gen-window .gen-top-right-end"], GEN_TOP_LEFT_RIGHT_FILL: [".gen-window .gen-top-left-fill", ".gen-window .gen-top-right-fill"], GEN_TOP_CENTER_FILL_SELECTED: [".gen-window.selected .gen-top"], GEN_TOP_LEFT_SELECTED: [".gen-window.selected .gen-top-left"], GEN_TOP_LEFT_END_SELECTED: [".gen-window.selected .gen-top-left-end"], GEN_TOP_RIGHT_SELECTED: [".gen-window.selected .gen-top-right"], GEN_TOP_RIGHT_END_SELECTED: [".gen-window.selected .gen-top-right-end"], GEN_TOP_LEFT_RIGHT_FILL_SELECTED: [".gen-window.selected .gen-top-left-fill", ".gen-window.selected .gen-top-right-fill"], GEN_BOTTOM_LEFT: [".gen-window .gen-bottom-left"], GEN_BOTTOM_RIGHT: [".gen-window .gen-bottom-right"], GEN_BOTTOM_FILL: [".gen-window .gen-bottom"], GEN_MIDDLE_LEFT: [".gen-window .gen-middle-left"], GEN_MIDDLE_LEFT_BOTTOM: [".gen-window .gen-middle-left-bottom"], GEN_MIDDLE_RIGHT: [".gen-window .gen-middle-right"], GEN_MIDDLE_RIGHT_BOTTOM: [".gen-window .gen-middle-right-bottom"], GEN_CLOSE_SELECTED: [".gen-window .gen-close.winamp-active"] }; Object.keys(FONT_LOOKUP).forEach(e => { const t = imageConstFromChar(e), n = e.charCodeAt(0); imageSelectors[t] = [`.character-${n}`] }), LETTERS.forEach(e => { imageSelectors[`GEN_TEXT_${e}`] = [`.gen-text-${e.toLowerCase()}`], imageSelectors[`GEN_TEXT_SELECTED_${e}`] = [`.gen-window.selected .gen-text-${e.toLowerCase()}`] }); const cursorSelectors = { CLOSE: ["#title-bar #close"], EQSLID: ["#equalizer-window .band"], EQNORMAL: ["#equalizer-window"], EQCLOSE: ["#equalizer-window #equalizer-close"], EQTITLE: ["#equalizer-window .title-bar", "#equalizer-window.shade", "#equalizer-window.shade input"], MAINMENU: ["#main-window #option", "#webamp-context-menu .context-menu"], MIN: ["#main-window #minimize"], NORMAL: [".window", ".window input", "#main-window", "#main-window.shade #title-bar"], MMENU: ["#main-window.shade #option"], PNORMAL: ["#playlist-window"], PTBAR: ["#playlist-window .playlist-top"], PCLOSE: ["#playlist-window #playlist-close-button", "#playlist-window-shade #playlist-close-button"], PWINBUT: ["#playlist-window #playlist-shade-button", "#playlist-window-shade #playlist-shade-button"], POSBAR: ["#main-window #position"], PSIZE: ["#playlist-window #playlist-resize-target"], PWSSIZE: ["#playlist-window-shade #playlist-resize-target"], PWSNORM: ["#playlist-window-shade"], PVSCROLL: ["#playlist-window .playlist-scrollbar"], SONGNAME: ["#main-window #marquee"], TITLEBAR: ["#main-window #title-bar"], VOLBAL: ["#volume", "#volume input", "#balance"], WINBUT: ["#main-window #shade"], WSNORMAL: ["#main-window.shade #title-bar"], WSPOSBAR: ["#main-window.shade #position"] }; function Css({ children: e, id: t }) { const n = reactExports.useMemo(() => { const e = document.createElement("style"); return e.type = "text/css", null != t && (e.id = t), e }, [t]); return reactExports.useLayoutEffect(() => (document.head.appendChild(n), () => n.remove()), [n]), reactDomExports.createPortal(e, n) } function ClipPaths({ children: e }) { const t = reactExports.useMemo(() => document.createElement("div"), []); return reactExports.useLayoutEffect(() => (document.body.appendChild(t), () => t.remove()), [t]), reactDomExports.createPortal(jsxRuntimeExports.jsx("svg", { height: 0, width: 0, children: jsxRuntimeExports.jsx("defs", { children: Object.keys(e).map(t => jsxRuntimeExports.jsx("clipPath", { id: t, children: e[t].map((e, t) => jsxRuntimeExports.jsx("polygon", { points: e }, t)) }, t)) }) }), t) } function endianness(e, t, n = 0, a = e.length) { if (a % t) throw new Error("Bad buffer length."); for (let r = n; r < a; r += t)swap$1(e, t, r) } function swap$1(e, t, n) { t--; for (let a = 0; a < t; a++) { let r = e[n + a]; e[n + a] = e[n + t], e[n + t] = r, t-- } } function unpack$1(e, t = 0, n = e.length) { let a = ""; for (let r = t; r < n;) { let t = 128, n = 191, s = !1, i = e[r++]; if (i >= 0 && i <= 127) a += String.fromCharCode(i); else { let o = 0; i >= 194 && i <= 223 ? o = 1 : i >= 224 && i <= 239 ? (o = 2, 224 === e[r] && (t = 160), 237 === e[r] && (n = 159)) : i >= 240 && i <= 244 ? (o = 3, 240 === e[r] && (t = 144), 244 === e[r] && (n = 143)) : s = !0, i &= (1 << 8 - o - 1) - 1; for (let a = 0; a < o; a++)(e[r] < t || e[r] > n) && (s = !0), i = i << 6 | 63 & e[r], r++; s ? a += String.fromCharCode(65533) : i <= 65535 ? a += String.fromCharCode(i) : (i -= 65536, a += String.fromCharCode(55296 + (i >> 10 & 1023), 56320 + (1023 & i))) } } return a } class IntParser { constructor(e, t = !1, n = !1) { this.bits = e, this.bytes = e < 8 ? 1 : Math.ceil(e / 8), this.max = Math.pow(2, e) - 1, this.min = 0; let a = 8 - (1 + (e - 1 | 7) - e); this.lastByteMask_ = Math.pow(2, a > 0 ? a : 8) - 1, this.unpack = this.unpackUnsigned_, t && (this.max = Math.pow(2, e) / 2 - 1, this.min = -this.max - 1, this.unpack = this.unpackSigned_), n && (this.overflow_ = this.overflowClamp_) } pack(e, t, n = 0) { if (t != t || t.constructor != Number) throw new TypeError; t = this.overflow_(t), e[n] = 255 & (t < 0 ? t + Math.pow(2, this.bits) : t), n++; for (let a = 2, r = this.bytes; a < r; a++)e[n] = 255 & Math.floor(t / Math.pow(2, 8 * (a - 1))), n++; return this.bits > 8 && (e[n] = Math.floor(t / Math.pow(2, 8 * (this.bytes - 1))) & this.lastByteMask_, n++), n } unpack_(e, t = 0) { let n = 0; for (let a = 0; a < this.bytes; a++)n += e[t + a] * Math.pow(256, a); return n } unpackUnsigned_(e, t = 0) { return this.overflow_(this.unpack_(e, t)) } unpackSigned_(e, t = 0) { return this.overflow_(this.sign_(this.unpack_(e, t))) } overflow_(e) { if (e > this.max || e < this.min) throw new RangeError; return e } overflowClamp_(e) { return e > this.max ? this.max : e < this.min ? this.min : e } sign_(e) { return e > this.max && (e -= 2 * this.max + 2), e } } class IEEE754Buffer { constructor(e, t) { this.ebits = e, this.fbits = t, this.bias = (1 << e - 1) - 1, this.numBytes = Math.ceil((e + t) / 8), this.biasP2 = Math.pow(2, this.bias + 1), this.ebitsFbits = e + t, this.fbias = Math.pow(2, -(8 * this.numBytes - 1 - e)) } pack(e, t, n) { if ("number" != typeof t) throw new TypeError; Math.abs(t) > this.biasP2 - 2 * this.ebitsFbits && (t = t < 0 ? -1 / 0 : 1 / 0); let a = ((t = +t) || 1 / t) < 0 || t < 0 ? 1 : 0; t = Math.abs(t); let r = Math.min(Math.floor(Math.log(t) / Math.LN2), 1023), s = roundToEven(t / Math.pow(2, r) * Math.pow(2, this.fbits)); return t != t ? (s = Math.pow(2, this.fbits - 1), r = (1 << this.ebits) - 1) : 0 !== t && (t >= Math.pow(2, 1 - this.bias) ? (s / Math.pow(2, this.fbits) >= 2 && (r += 1, s = 1), r > this.bias ? (r = (1 << this.ebits) - 1, s = 0) : (r += this.bias, s = roundToEven(s) - Math.pow(2, this.fbits))) : (s = roundToEven(t / Math.pow(2, 1 - this.bias - this.fbits)), r = 0)), this.packFloatBits_(e, n, a, r, s) } unpack(e, t) { let n, a = (1 << this.ebits) - 1, r = ""; for (let o = this.numBytes - 1; o >= 0; o--) { let n = e[o + t].toString(2); r += "00000000".substring(n.length) + n } let s = "1" == r.charAt(0) ? -1 : 1; r = r.substring(1); let i = parseInt(r.substring(0, this.ebits), 2); return r = r.substring(this.ebits), i == a ? 0 !== parseInt(r, 2) ? NaN : s * (1 / 0) : (0 === i ? (i += 1, n = parseInt(r, 2)) : n = parseInt("1" + r, 2), s * n * this.fbias * Math.pow(2, i - this.bias)) } packFloatBits_(e, t, n, a, r) { let s = []; s.push(n); for (let c = this.ebits; c > 0; c -= 1)s[c] = a % 2 ? 1 : 0, a = Math.floor(a / 2); let i = s.length; for (let c = this.fbits; c > 0; c -= 1)s[i + c] = r % 2 ? 1 : 0, r = Math.floor(r / 2); let o = s.join(""), l = this.numBytes + t - 1, m = t; for (; l >= t;)e[l] = parseInt(o.substring(0, 8), 2), o = o.substring(8), l--, m++; return m } } function roundToEven(e) { let t = Math.floor(e), n = e - t; return n < .5 ? t : n > .5 || t % 2 ? t + 1 : t } function unpackString(e, t = 0, n = e.length) { return unpack$1(e, t, n) } function unpackArrayTo(t, n, a, r = 0, s = t.length, i = !1, o = !1) { let l = getParser_((n = n || {}).bits, n.fp, n.signed, o), m = Math.ceil(n.bits / 8); s = getUnpackLen_(t, r, s, m, i); let c = 0, u = r; try { for (n.be && endianness(t, m, r, s); u < s; u += m, c++)a[c] = l.unpack(t, u); n.be && endianness(t, m, r, s) } catch (e) { throwValueError_(e, t.slice(u, u + m), u) } } function unpackArray(e, t, n = 0, a = e.length, r = !1, s = !1) { let i = []; return unpackArrayTo(e, t, i, n, a, r, s), i } function unpack(e, t, n = 0, a = !1) { return unpackArray(e, t, n, n + Math.ceil(t.bits / 8), !0, a)[0] } function throwValueError_(e, t, n) { throw e.message = e.constructor.name + " at index " + n + ": " + t, e } function getUnpackLen_(e, t, n, a, r) { let s = (n - t) % a; if (r && (s || e.length < a)) throw new Error("Bad buffer length"); return n - s } function getParser_(e, t, n, a) { return t ? validateFloatType(e) : validateIntType(e), t && 16 === e ? new IEEE754Buffer(5, 11) : t && 32 == e ? new IEEE754Buffer(8, 23) : t && 64 == e ? new IEEE754Buffer(11, 52) : new IntParser(e, n, a) } const TYPE_ERR = "Unsupported type"; function validateFloatType(e) { if (!e || 16 !== e && 32 !== e && 64 !== e) throw new Error(TYPE_ERR + ": float, bits: " + e) } function validateIntType(e) { if (!e || e < 1 || e > 53) throw new Error(TYPE_ERR + ": int, bits: " + e) } class RIFFFile { constructor() { this.container = "", this.chunkSize = 0, this.format = "", this.signature = null, this.head = 0, this.uInt32 = { bits: 32, be: !1, signed: !1, fp: !1 }, this.supported_containers = ["RIFF", "RIFX"] } setSignature(e) { if (this.head = 0, this.container = this.readString(e, 4), -1 === this.supported_containers.indexOf(this.container)) throw Error("Not a supported format."); this.uInt32.be = "RIFX" === this.container, this.chunkSize = this.readUInt32(e), this.format = this.readString(e, 4), this.signature = { chunkId: this.container, chunkSize: this.chunkSize, format: this.format, subChunks: this.getSubChunksIndex_(e), chunkData: { start: 0, end: this.chunkSize } } } findChunk(e, t = !1) { let n = this.signature.subChunks, a = []; for (let r = 0; r < n.length; r++)if (n[r].chunkId == e) { if (!t) return n[r]; a.push(n[r]) } return "LIST" == e && a.length ? a : null } readString(e, t) { let n = ""; return n = unpackString(e, this.head, this.head + t), this.head += t, n } readUInt32(e) { let t = unpack(e, this.uInt32, this.head); return this.head += 4, t } getSubChunksIndex_(e) { let t = [], n = this.head; for (; n <= e.length - 8;)t.push(this.getSubChunkIndex_(e, n)), n += 8 + t[t.length - 1].chunkSize, n = n % 2 ? n + 1 : n; return t } getSubChunkIndex_(e, t) { let n = { chunkId: this.getChunkId_(e, t), chunkSize: this.getChunkSize_(e, t) }; if ("LIST" == n.chunkId) n.format = unpackString(e, t + 8, t + 12), this.head += 4, n.subChunks = this.getSubChunksIndex_(e); else { let e = n.chunkSize % 2 ? n.chunkSize + 1 : n.chunkSize; this.head = t + 8 + e, n.chunkData = { start: t + 8, end: this.head } } return n } getChunkId_(e, t) { return this.head += 4, unpackString(e, t, t + 4) } getChunkSize_(e, t) { return this.head += 4, unpack(e, this.uInt32, t + 4) } } const DWORD = { bits: 32, be: !1, signed: !1, fp: !1 }; function parseAni(e) { const t = new RIFFFile; t.setSignature(e); const n = t.signature; if ("ACON" !== n.format) throw new Error(`Expected format. Expected "ACON", got "${n.format}"`); function a(e, n) { const a = t.findChunk(e); return null == a ? null : n(a) } function r(t, n) { return t.subChunks.slice(0, n).map(t => { if ("icon" !== t.chunkId) throw new Error(`Unexpected chunk type in fram: ${t.chunkId}`); return e.slice(t.chunkData.start, t.chunkData.end) }) } const s = a("anih", t => { const n = unpackArray(e, DWORD, t.chunkData.start, t.chunkData.end); return { cbSize: n[0], nFrames: n[1], nSteps: n[2], iWidth: n[3], iHeight: n[4], iBitCount: n[5], nPlanes: n[6], iDispRate: n[7], bfAttributes: n[8] } }); if (null == s) throw new Error("Did not find anih"); const i = a("rate", t => unpackArray(e, DWORD, t.chunkData.start, t.chunkData.end)), o = a("seq ", t => unpackArray(e, DWORD, t.chunkData.start, t.chunkData.end)), l = t.findChunk("LIST", !0), m = null == l ? void 0 : l.find(e => "fram" === e.format); if (null == m) throw new Error("Did not find fram LIST"); let c = r(m, s.nFrames), u = null, A = null; const p = null == l ? void 0 : l.find(e => "INFO" === e.format); return null != p && p.subChunks.forEach(t => { switch (t.chunkId) { case "INAM": u = unpackString(e, t.chunkData.start, t.chunkData.end); break; case "IART": A = unpackString(e, t.chunkData.start, t.chunkData.end); break; case "LIST": "fram" === t.format && (c = r(t, s.nFrames)) } }), { images: c, rate: i, seq: o, metadata: s, artist: A, title: u } } const JIFFIES_PER_MS = 1e3 / 60; function convertAniBinaryToCSS(e, t) { const n = readAni(t), a = `ani-cursor-${uniqueId()}`; return `\n    @keyframes ${a} {\n        ${n.frames.map(({ url: e, percents: t }) => `${t.map(e => `${e}%`).join(", ")} { cursor: url(${e}), auto; }`).join("\n")}\n    }\n    ${e}:hover {\n        animation: ${a} ${n.duration}ms step-end infinite;\n    }\n   ` } function readAni(e) { var t; const n = parseAni(e), a = null !== (t = n.rate) && void 0 !== t ? t : n.images.map(() => n.metadata.iDispRate), r = sum(a), s = n.images.map(e => ({ url: curUrlFromByteArray(e), percents: [] })); let i = 0; return a.forEach((e, t) => { const a = n.seq ? n.seq[t] : t; s[a].percents.push(i / r * 100), i += e }), { duration: r * JIFFIES_PER_MS, frames: s } } let i$1 = 0; const uniqueId = () => i$1++; function base64FromDataArray(e) { return window.btoa(Array.from(e).map(e => String.fromCharCode(e)).join("")) } function curUrlFromByteArray(e) { return `data:image/x-win-bitmap;base64,${base64FromDataArray(e)}` } function sum(e) { return e.reduce((e, t) => e + t, 0) } const CSS_PREFIX = "#webamp", mapRegionNamesToIds = { normal: "mainWindowClipPath", windowshade: "shadeMainWindowClipPath", equalizer: "equalizerWindowClipPath", equalizerws: "shadeEqualizerWindowClipPath" }, mapRegionNamesToMatcher = { normal: "#main-window:not(.shade)", windowshade: "#main-window.shade", equalizer: "#equalizer-window:not(.shade)", equalizerws: "#equalizer-window.shade" }, numExIsUsed = e => Boolean(e.DIGIT_0_EX), FALLBACKS = { MAIN_BALANCE_BACKGROUND: "MAIN_VOLUME_BACKGROUND", MAIN_BALANCE_THUMB: "MAIN_VOLUME_THUMB", MAIN_BALANCE_THUMB_ACTIVE: "MAIN_VOLUME_THUMB_SELECTED", EQ_MAXIMIZE_BUTTON_ACTIVE: "EQ_MAXIMIZE_BUTTON_ACTIVE_FALLBACK" }; function normalizeCursorSelector(e) { return `${e.startsWith("#webamp-context-menu") ? "" : CSS_PREFIX} ${e}` } const getCssRules = createSelector_1(getSkinImages, getSkinCursors, getSkinLetterWidths, getSkinRegion, (t, n, a, r) => { if (!t || !n) return null; const s = []; Object.keys(imageSelectors).forEach(e => { const n = t[e] || t[FALLBACKS[e]]; n && imageSelectors[e].forEach(e => { const t = e; s.push(`${CSS_PREFIX} ${t} {background-image: url(${n})}`) }) }), null != a && LETTERS.forEach(e => { const t = a[`GEN_TEXT_${e}`], n = a[`GEN_TEXT_SELECTED_${e}`]; s.push(`${CSS_PREFIX} .gen-text-${e.toLowerCase()} {width: ${t}px;}`), s.push(`${CSS_PREFIX} .selected .gen-text-${e.toLowerCase()} {width: ${n}px;}`) }), Object.entries(cursorSelectors).forEach(([t, a]) => { const r = n[t]; if (null == r) return; const i = a.map(normalizeCursorSelector).map(t => { switch (r.type) { case "cur": return `${t} {cursor: url(${r.url}), auto}`; case "ani": try { return convertAniBinaryToCSS(t, r.aniData) } catch (e) { return null } } }).filter(Boolean); s.push(...i) }), numExIsUsed(t) && s.push(`${CSS_PREFIX} .webamp-status #time #minus-sign { top: 0px; left: -1px; width: 9px; height: 13px; }`); for (const [e, i] of Object.entries(r)) if (i) { const t = mapRegionNamesToMatcher[e], n = mapRegionNamesToIds[e]; s.push(`${CSS_PREFIX} ${t} { clip-path: url(#${n}); }`) } return s.join("\n") }), getClipPaths = createSelector_1(getSkinRegion, e => { const t = {}; for (const [n, a] of Object.entries(e)) a && (t[mapRegionNamesToIds[n]] = a); return t }); function Skin() { const e = useTypedSelector(getCssRules), t = useTypedSelector(getClipPaths); return null == e ? null : jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment, { children: [jsxRuntimeExports.jsx(Css, { id: "webamp-skin", children: e }), jsxRuntimeExports.jsx(ClipPaths, { children: t })] }) } var css_248z = '#webamp #balance {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACYAAAGkCAMAAABq7Kf7AAACvlBMVEUVfwoWFiMXFyQXGCUYFyUYGCYYkgsZLhwbGyschRIeaRYfHzIjIzgomRwpOCEujhYunBIvL0QvL0kvgBwxMU0xMU4yMU4yMk8zM1AzNFEzNFI0M1E0M1I0NFE0NFM0shU1NVQ1NlM1NlQ2NVM2NVQ2NlU2NlY2NyE3N1c3OFc3OFg4Jh04N1c4N1g4OFc4OFk5Gh05LSA5OVo7TkFCtiZHhidIcy1JSWNMi0BMlSVPU0RPpCNRQkBRmyxSMT5TUm9WqypauihbgTZcmyxcwCpixDFlvjdnoCxnsStp2TBrpU1rwCpuboRuj0Nw1T5xci5yxypz3D50QiR0xzF3JSJ3VCl3oDF3tCt30zB62jB7epB8e458fJB9fZB9fZJ+fpJ/1T6BxyqC3D6Eq1WEtDGEwF2F4jeGi0KGoYiHh5iIoDGJVi6KKSiKRC2KYzaKxDCLfjiLi5yLmCyMjJyNmiyOWxeOjp6OmyyQxzGRODmRTT2RWj2RbkKS4TCTk6KUyjiXXCGXrI+XtDGawmCa4z6bXSGbaSebfieb2jmeYhKeayaeriufFhufKhufPiGfSSGfVyGfbCefgSefkCyfmyygaTqho1Cj4Tik20Wk4jimNDemxzGpfEqprI+p40atkouuV0auag2uwCqwYh+xv16yERayKBayRx6ydiWynCqyriuyxDG3RUu94Ti/bRu/dRC/uyq/0zDAhFPB4kbCb1PCk1fCs1zDciPD1T7FDBLFJxLFQxvFURvFZRvFgCPFnCPFsSrFwCrF2TDGeA/G2jDIxdPI2z7JVyLJgSDJhSnJoCnJtDHJxDHJ3D7Zbx7ZfB/ZjifZlDfZrCfZsTfZwzDZxj7bhC/b1jXfsSjgDhXgHybgLBXgPCbgTB7gWC7gXB7gZy7gch7gfC7gkijgsijgyTDg2zfhmTfhtjfhzD7A/9hgAAAEC0lEQVRo3u3U+VeUZRTA8VeyQtQgKd6XZnGEmXEcmxkLG8YlBdTUCaRGSFFTA02zFBPTssUFF1zac4UKQkXUUrNUIHBLzX0PK3et9L/ouc8z2g+ec2/HX/I93u+ZMz/d877n3Ps5rxYI+J4O+AI+n88Dud0ut8vldDpSUlPtVrvdarNZDEPXAiIx4/V7/Z5Ocs7tcrqcDpGYs1qTYczQ5JDI740+DR7nTEnpYE+1i4dZbRaLoRvaY60fbCl6AP5axoifqEVMi9vFxLZpZ9O11g/HUT2abmixcRpVMFvX2sS1egivVWiarrVLS2yLFxpfomvuQO/sYaNUI0eNhEbcarjo5dc+KEnXNR+s1uv3dZL7cLlgt05HqgO2a7Ulwzp0PUmD1Xr9fo/nSbk0OAGs1gFLs1mSxWoNPUmMyRvAkJjyiCmXw5HSAcasVssTcAFdjkXv6Zc3UC8VQ/KVNptxawyO5fdFXymnHE71SnFPiwXunvR4krbvP6Xd45AS8eLSJKT4BLx4CSkxoT1egoIU6ooXZkhmg/RI8Bm8oIQU7NYDr1sIIAUzMvEywgrSc3jh2QzJdJCexYtCysjsi5WZISGF+g3E66cghQe9iDVoLEMyH6Q+eFFIA57HG5ADkLIGDy3AGjq4SEEaXYg1miGZEVJ/rH8hvYB1G1LBq1gFClL3cCE6VsiQTANJSjIAUn+irLR0LTZryCtEQ3KyBaTi94mKi6YBpLK5aGWls0tISCDpzXSGdI9AynqJSEEaU/w2WvEYgJQzs2z5SqTlZTMlpKIVX6GtKP2SITEkhnQfQuqYO4Eot7uAlDunnGjOOIBU/i1R+TKAtGwr0WqGZDpIU6ZOR5o6RUFa/A3RYoA0bsOWPT8j7dmyQUHasf8o0v4dDIkhMSSGxJAYEkNiSP8zpC+IFKT1m3ejbV4PkCYfaW7+C6m5+YiChE6JuW0MyXSQPifK7QmQancR1UpIh8/8iXbmsIJ09ibaWYbEkBgSQ2JIDOluIT2Vv+AztAVRSDuJaicDpEOnzl1HOnfqkIRUcfoG2mmGZD5I8xd9irRofj5Ayl/XRLTuPQFp0sET19BOHKwQkHpWnPwb7eSPXzMkhsSQ7kNInSOz5qHNUpCqvyOqniQgvb79ONF2CWnpr0TfMyTTQXqLKAKQIguriBYCpPyqTXvRNlUpSE2/oDVVMCTTQfqESH6RItWNRNXvwhep8dgVtGONCtJVIv4imQ/Sx0SRXgCp5ieiGoA08cAlogMSUuVloh8Ykskgdcn7iCgKqYGoZgZAarhA1FApIPWqvEjEkMwH6UOiPICUt7aeaO07AtIb9X8Q1UtIq84TVTIk00FaQqQgrakjWiMh1f1GVLdRQvqdaCNDuqN/AItpcu8L5wnUAAAAAElFTkSuQmCC)}\n#webamp #balance::-webkit-slider-thumb {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAALBAMAAAC9q6FRAAAAFVBMVEUAAAALDxYvL0RKWmt7hJStvMTa5+opTTwbAAAAMUlEQVQI12NQFAQBIQaxNBBIZGALBYIQAyAtKiqKlwapM2RgcwEBQwZhYxAwZICaBwCdgQ6Jd297uQAAAABJRU5ErkJggg==)}\n#webamp #balance::-moz-range-thumb {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAALBAMAAAC9q6FRAAAAFVBMVEUAAAALDxYvL0RKWmt7hJStvMTa5+opTTwbAAAAMUlEQVQI12NQFAQBIQaxNBBIZGALBYIQAyAtKiqKlwapM2RgcwEBQwZhYxAwZICaBwCdgQ6Jd297uQAAAABJRU5ErkJggg==)}\n#webamp #balance:active::-webkit-slider-thumb {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAALBAMAAAC9q6FRAAAAFVBMVEUAAAALDxYZICovL0RKWmva5+r///+U4Y9MAAAAMUlEQVQI12MwFAQBYQbRUBAQZGBlAAIWBiQ6ISEBKw2SV4TTIi4gIMhgJKQopCgoDAB2aAh/NddRQgAAAABJRU5ErkJggg==)}\n#webamp #balance:active::-moz-range-thumb {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAALBAMAAAC9q6FRAAAAFVBMVEUAAAALDxYZICovL0RKWmva5+r///+U4Y9MAAAAMUlEQVQI12MwFAQBYQbRUBAQZGBlAAIWBiQ6ISEBKw2SV4TTIi4gIMhgJKQopCgoDAB2aAh/NddRQgAAAABJRU5ErkJggg==)}\n#webamp .actions #previous {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABcAAAASCAMAAACHObUhAAAASFBMVEUfHzEgHzIgIDMhITQiITMiITQiIjUjIzYjJDgkIzckIzgkJDklJTolJjsmJTsmJjtKWmtSY3N7hJSElKWXqLmttca9ztbv//8qmLzOAAAAcklEQVQY022QMQ7DMAwDj7KQvqD/f2UXD2YGN43cWAuNo0wI1JvNjE8SGzwiwf/Ywwr2k1M6HFMPwDgvvxnoU2DN6fl7xh7X/YJx4a/yte67FaPmV2O5pxi5ZN/Gt5+rI998DD/ridxiLAQiHBKEJYGaT1TOJE+BDpf2AAAAAElFTkSuQmCC)}\n#webamp .actions #previous.winamp-active {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABcAAAASBAMAAABCyVggAAAAElBMVEUICBBKWmtSa3Nje4R7jJytvcYAUCbCAAAAS0lEQVQI12NgwA1MXKDACMhxDYWCEBAHJuOChcPAAsQwDmOIi4MoEocRieMgiMRhROYEInNckTkugcgcVzgnNASIwRxTZOcoIHwDAI4lI4lOrG7eAAAAAElFTkSuQmCC)}\n#webamp .actions #play {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABcAAAASCAMAAACHObUhAAAARVBMVEUmJTsmJTwnJz0nKD4oJz4oKD8pKUAqKUEqKUIqKkMrK0QrLEQsK0MsK0QsK0ZKWmtSY3N7hJSElKWXqLmttca9ztbv//93JWkaAAAAcElEQVQY022QQQ7FIAhEHzJpL/Dvf8y/MBG70VZbYEPeAIGxH0nEX5QEB4L+xj26CnkMXus2QJv92hXXrETluHnT07MqrnV6UbSfcY6rY+N+/1KUUTBl9Nl/vtxow5+PRyKif+1xpZhmmIEZMxFh+AXgtiNLLYv6agAAAABJRU5ErkJggg==)}\n#webamp .actions #play.winamp-active {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABcAAAASBAMAAABCyVggAAAAElBMVEUICBBKWmtSa3Nje4R7jJytvcYAUCbCAAAARUlEQVQI12NgwA1MXKDACMhxDYWCEBAHJuOChcOAzGFkQOYIMiBzwDw4B8RDcEKROKFIykKRDAhFMjoUbqkpsnMUEL4BAGRUIvLymjxCAAAAAElFTkSuQmCC)}\n#webamp .actions #pause {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABcAAAASCAMAAACHObUhAAAARVBMVEUsLEUsLEYtLUctLkguLUguLkkvL0ovMEswL0swL0wwMEsxMU0xMU4xMk0yMU5KWmtSY3N7hJSElKWXqLmttca9ztbv//90IK75AAAAY0lEQVQYGW3BwQ3DQAwDwRVPsBtI/3UGfpCBDfiT00x9GPjbiI2dhvAnjsSsuV3AARdwAMHNo1kBmhVuEjMxEyOLkcRMzMRIze3kcfJyQyA8wqsaO2zSdtitogqqqEoJIgTLP/lyHlITiB2JAAAAAElFTkSuQmCC)}\n#webamp .actions #pause.winamp-active {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABcAAAASBAMAAABCyVggAAAAElBMVEUICBBKWmtSa3Nje4R7jJytvcYAUCbCAAAAOUlEQVQI12NgwA1MXKDACMhxDYWCEBAHJuOCyXFgYAEyYBzBEBdGUdpzXENDXEJDwRxTZOcoIHwDAEquItl9JSARAAAAAElFTkSuQmCC)}\n#webamp .actions #stop {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABcAAAASCAMAAACHObUhAAAAP1BMVEUyMU4yMk8zM1AzNFE0M1E0M1I0NFE0NFM1NVQ1NlQ2NVM2NVQ2NlVKWmtSY3N7hJSElKWXqLmttca9ztbv//8mgTHJAAAAXElEQVQYGW3BQQ7DMAwDwRUttPf+/6FFD2SBBLnYmqkPA38bcbBpCJs4ErPm8uPxAgLNrbmtcBGjiFHETIyWGFmMIkarubzZNAQIm8YOB7cdTqsooERWkEXJheoPfCIcRKB1vkQAAAAASUVORK5CYII=)}\n#webamp .actions #stop.winamp-active {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABcAAAASBAMAAABCyVggAAAAElBMVEUICBBKWmtSa3Nje4R7jJytvcYAUCbCAAAAMklEQVQI12NgwA1MXKDACMhxDYWCEBAHJuOChQPWC+MwCgoKitKBA3YamGOK7BwFhG8A34IfFkPmwnYAAAAASUVORK5CYII=)}\n#webamp .actions #next {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABcAAAASBAMAAABCyVggAAAALVBMVEUICBA2NlU2NlY3N1c4N1g4OFk4OFpKWmtSY3N7hJSElKWXqLmttca9ztbv//8TuYuxAAAAaUlEQVQI12M4AwenDjCcewcDJ4Ccu1BwZzkmp/zu3evld+9MB3Oqa+9e3wfnbEfm7K5F5mxH5uxD5rxF4uxDNuAtEufd3bv33kE4cFcDOWdWzoSC6QkMK8rhgIFB0MjY2NjFxSU0NJQBAK7vnSRnYMknAAAAAElFTkSuQmCC)}\n#webamp .actions #next.winamp-active {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAASBAMAAACtCzMeAAAAElBMVEUICBBKWmtSa3Nje4R7jJytvcYAUCbCAAAATElEQVQI12NgwAVMXCDAWYGBwTUUChyAbKi4CyabAcSAshlZXBxEYWwBJLYgCxJbAIktisQOQbBFkfSGINihLi6uoSC2KZIbFOCuBwDE5iIH3QcLbQAAAABJRU5ErkJggg==)}\n#webamp #eject {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAQBAMAAADgw5IVAAAAIVBMVEU4OFk4OFo5OVpKWmtSY3N7hJSElKWXqLmttca9ztbv//8Mnk1wAAAAVUlEQVQI12PogIM2hq5VMNDC0DUTCmYEQ9iWCPbkYgTbvNwSxp5cXl4MY5uXlwMlwOxZYBPh5sDNnGwMAlA2UHl5FYZ6uNuCGTpSQ6EgmEGISQkKmAB+iFckwoyJQwAAAABJRU5ErkJggg==)}\n#webamp #eject.winamp-active {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAQBAMAAADgw5IVAAAAElBMVEUICBBKWmtSa3Nje4R7jJytvcYAUCbCAAAATUlEQVQI12NgwAVMXCDAWYGBwTUUChyAbJAgCxBD2Q4CCDajIAuM7SAoKABjMwoKAiXAbIhJMPVgAGY7gO2EsoHKBUXR1ZsiqVeAuxIAu8seNVNafDwAAAAASUVORK5CYII=)}\n#webamp #main-window {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAARMAAAB0CAMAAACR8SbcAAACEFBMVEUAAAAAUoQAarID9gUNDRQPDxcQEBkRERsTEh0TFB0UEx4UFBQUFBsUFB8VFSAVFSIVFiEVFiIWFSEWFSIWFiEWFiIXFyIXFyQXGCQYFyQYGCUYGCkZGSYZGicZGigaGScaGSgaGicaGikbGyobHCsbHCwcGyscGywcHCscHCwdHS0dHS4dHi0dHi4eHS0eHS4eHi0eHi8fHzAfHzIfIDEgHzEgIDEgIDMhITQhIjMhIjQiITMiITQiIjMiIjUjIzYjIzgjJDcjJDgkIzckIzgkJDckJDklHAolJTolJTwlJjslJjwmJTsmJTwmJjsmJz0nJz4nKD4oJz0oJz4oKD8pKUApKUIpKkEpKkIqKUEqKUIqKkEqKkMrK0QrLEQsK0MsK0QsLEUsLUUtLUYtLUgtLkctLkguLUcuLUguLkcuLkkvL0ovMCUvMEswL0swMEswMEwxMU0xMU4xMk0xMk4yMU0yMU4yMk0yMk8zM1AzM1IzNFE0M1E0NFE0NFM1NVQ1NlQ2LRE2NVM2NVQ2NlU2NlY3N1c3N1g3OFg4N1c4N1g4OFc4OFk4OFo5OVpCQThISEhORj1ZQxxcXGNelepfX2hiYm1lW0JlZXJmZnVoaHZpaXhra3ttbX9vb4NxcYZzc4hzc4p0c4p0dIt1dYx3d3d6h4mHd02PkJKhoK2jlGumhTGnZB+njlatr7X////Zgun4AAAl/ElEQVR42tWdz6+ta1LXP/Xj3VGjA6IRELykww/p7gQJhgkOhLED/wETHRtmRjstbRva295E06djggNDQhwQ0BjEaIJOHECHCFFQsH/Rl+4b7m0aaAINGgPu9VSVg6rnXWufs8/tNs1Orvvk3n32WWuvtd7nrafqW9/6Vj3izJfAc3+V2x8U6x/rmL+hoPPoISWACgapKv1rAq5S868oeOCpOg+KIaDzah51l5ooIP3NwiARFMKpBx8TKCnIskBJysIIIDUFWJ4sSACSAlZJAcnyZQtYIgEUrH5G4XyUx770hX+Rt3nO7SLKS9f40ZeRx344v5fM/4WSQqBe/BwlfaHULNK5WlAPnsjLfrr5ez1z+LtCeRgCTjpaImgpisWRWgrCASJwoAgm4fgScEXLEUVT76gj8DYB7goFS0wUHEQFDOk/FuogbXTpAOKBhcvVONukFJRUSH3k9iWa/Z3Si+ZcYhUsg20pUVIkGRRFSlBkpnEPoZkWSS2o0n6B2LfemdvR725LeklkcTVzSIPl5oCUF6CoLsAsou90ColhLmQ6Iv05o++LrHmxAFUHcFYhLrXvm9FLkpCpj1pvPTA1LdLoCwDwiLUgUwgokkoKpIj+1b6mQixy3nXp2KoB+FopogJS2Z9Xk0QwVaRQnd0p8zlc56dMUC0NUk0AvBKsn65KRmoyhoJgx3gyE0nAcXzvG5lH9HnbqOdNRCgkx5SIZQTSdhJrLTMAleoL1IxCqOqPtUKUlWCRJMnyKrxfy8ZrOoqkACYomKaq9uKAUAtVgaLACVXB51ZDimChMrZvwpGYXE3QtkW23c3FZ6+/R8xl770jGYBmKqpK5gveSClEE1hk5hKvvpIqxA5s4Q4IEUBmClVI9dNU17pPpZK2Ixa3N0GkbVj6n2YzpbaZkCICdYCASQkecpcUy8N74VwqsaIQ3LUOQs+7XpK3/rHvVPvBdGAtWC5+NQcpvOMRZGapPuJKzhVPUNfMoKo3T1w8hLVog23T69+o2VxqqGQJWnRwg0qFWTTgPkNKAZG5vSqo7EVEj1QKquMkCxDHJElcKZSssd3kopbj8e7YO8VF2pB0KQiEnfvX49w9hSF13Sqq8vzGGf+S28EClW2EFIj7sprb3c4i1wQkrSgyaWPNkNzrSjsIIWa57/R8kd5SVD/xmM2fEylKYEkHhUWUprJ0O8Z5IzDQRPpNVOdiBwVw10+3NkzHItrO22+GlG1koZoJ/ckfmEk/CCgZSRw2Owfqsix6M1S1C1EPkJJqq0i0n1toZpvqTSBZAvjavvNq5JoKXLIjtSZSs2Y+ocnj6JdRkcPQ6MfF0YBUKt1z4oNvV6G0d7AiE5ww4ML1nkjleM5bs8jnzUSFbA9vimbMK1DhhOGwqt9LV4ZCVQ2A075HhSR6gENR0ZgRHPDlY54lp5mkSmGHAixDKTFQ3JGlIK5H+567XvK0Xtf+/Gp9H2NMZA0SU3NHKIuOXcsNKN+fE0ywiSdK5nYm+tBKZr+oZpISG691cMXw1Y7YKFAqbqJXMpunSiMvlVRR2LxH+7o7EUFB5o1jY/CcWLGd2lycJ+JcUvWE5whRhbsKx2FZfZF55JilCJRUzK2KWUFfROB9F0XAKg1tb5F8WaidqmSJBUghwqWWyewGhXgIWtualkBCCGEgLGlg4wCXCw/A9HMgW6Tzjs5ezquffXbMHpTxJSoTa+7WxqmJM7B3X4r4cmG5Xi9vHqt9sRYWRja2kCJVbvd1SUlleYUUCmEBqQlSstDM1NwrVlxOJJiZ/dcFaC/P/Ti6+tv/kQkgb5vbiFRDnsLzcr2GrAfurtr9pGxkfb+dR3+yNe6yX9KXC3mzJO6ZV4swjDCMpISIDDbSuX42KVEiTEQbMU8yUIKqquuJNDJS/BrC2HhVNQDy/ooGk5hnPnvb/E/ezmzlxRz6JTnf26R/p33WTf43qLsffTH363+ZTE8e5H985enfg031DErMwQL4gbvsiJnaMdRAq/fE0b4EuQMxCWt84cCBhqLqCh7Wu0ScsjqgVLQQT+sX8lQBQXyTBVbaLj4s6xgCAbC+WxvaP5r+JXqmf6mUZvSWKkouvqydSFZSUiy9AFWpFVDcH8lKotAg28EVCKF0FPT78RCqqqAZEIKKcKzB5p4IUQbuhoMIUop30oAhGIIvrAiygqw22vEyWQhiq6OjQbVXWoT5NY0ixFiQ13D8IohV3dsgcUQuzYP0hcksSeZONXT1R1ACKtMbwand7KhKdsiF8XY1IGZCfynVzo9CRbUjhwCxkWMHJ9eqS9AmtCBVDRED9esmSVGhqPTsfNxokBjSXFBVW6SChr4Yd5+3lF4zlBW15Dj3Y13mViNak54tbehWi6pEQptFKA3L9LVOwkqvPMFN4gNY58BCh1HpDKVMKHyhrgiOTDhP4bDcGQGSubHPIuc5PpzTURPcg0YMXqT7qg0KKJGSnX+SiuajxMkZq1WTuoyTEdax3UQggdRmaK67syqdcRwB6/RlcdqJnu+ag09ykF7qxvraXkxYVOc6S4XMxFU7JvdH8YLDQAXB4TKpOSLItkkBE8Sb/yvqGPgKYJW34DXRRwGKnpRSzSaQhFpy8Q5066SY9BKMmXRaZGtlboNQh+F2cuNYMk0GdF1BtO7EqQrLMaEARFOhzPOiqoou/EL7S9wx1cgM6aTWvS+pfTN3xRoIWDvLay6rZHvewYvayYVqPpIAjtvVTEC14sym3CT6Vls1h5u5pINYeaev0i5BB0jk5i4vV5L5bhLeMRKzKzhVREQUpDApBzehrUc9AU8tDiSG4ViVZgqdy+zrtmry4v7gTqkqIzueisUA5c7h4wgj89wYGxI+smk6/YPV9tXkT03aT4kSVKGN2xk4X1ALIHIi4LqBBT7Wmmn6ew845oeEvTTftN2v7KSmPYg20tV17BTPd0zNDhz+nYSHilCdCAtWiIEvj7TFMZhDsLjo0PxnwEl9PvdrbiebqL1JXqVYEIYvJMdjgN8jTaz0VipvbJhCY8WCJKDEN/ZxQe55sq8f+QUL/ptufOaNfa4oFjS1pAYfhfW+rs7o0x5AthIKKSnCCgiLvvJOx6aEMXaUKbAa1SVkYos10aWAXIPr392+tfxmb9Y3/PqT/SlQ0Z/hHfz1wz81+0SOZz/AH/DsH4jy+09qJ2r84jt8TeqT8b5/Lx/f29QE5Rue8A9ZxTv8a4LwtpMfFJ7aTlTe6XYiH4/3/Vv9+Di4DhdPaSeu73QraWCtetrJh0C/9JR28t+13ul28h/4Jd737/SXt53w1dqJmb3t4/VI8fud9hXAusfPpFPg17+KP8Hb/76+85eEbGZYTzORr85OvpfvfdvH80qOvFO/Nistx7MfzP/Fsw+B/85T+pNfEuQX3uH+JD7O+/4Nn1a47/RS60n9yf8HX1Fd83DQxYgwntKfvPO/zmLHxiYlKE+Y7zTJ/SMv0vfyOIWvqfWoYGx/fKlCqsmBekDCn/T9Seh/GcJ+s/12aeJIjmc/KL/Hs1eBJ8Unvywl4l2ERzVrK3B8NY8q1eU/PwkCqeep6dRUSkjtelaSaNRkylRJhTbDVpsBSIavl86DM5R7zcrSIImEqhDhInw83/+TfEph5dZVPGm+UyLeLEgZJU3nu0hsnYHAEWlXgqRQ8gE9rc0E3hK0KtXL1+nUMmI9kAEscSikibjMYSSlJLjWgTcpO3byofp9+cirWvK7/+dJ7QQ5JBUpsdiFaifx0tEmWXg1sZKo0jbxOIw4/xJGaLSNdDg1FoTWDT1SU+MuuFdhkRRRCcWiilAii0/F+3+CT/pZYhGe1J+A8HO+C2lbxuH8Jb8cNUW1kFbCpKL8jG3mSAC+58rz9LbRhNRlTTS347j48tV14BrPsuZvXSHIqSRAlpKSJ+l4OUqaozY5nn2I3+cjr6LyO09pJ/8D5L++iE/+xVvrGGmRAEemeFOw//knbp/3o1+89Sm7Op5AZbU7KS7HaqXdIre08R7JNpMKQrOmqhMUKUsXRYUVF1l8kvf/RL5+1bNxi0/kj96f7PrO86DgFMYAXMp0ahTxNiRHW0q2gqSDUBX4KnCnl6QpVu8lyVpBaa4ujYzyBj0LzqGk927UHYwEuUETXx1W+X/BJ+a8F+U9NZq7XWC8Zqbn17seVvAVqDjmjop06c9GZ0OsJmC7kqbSirMjp0RjwZZrtbqjlt6ju5YkMhqw6139oSewk+ORy7zBG42SzvLaS+zkXfCuJDsMJ9RKo06NgfVVchaJm50WqqIkcnIa2Uvi16iN916U9M3tU7c49PufwE4u9jiRA/KeT/FuPmXfxqft2/gsu6rz4oq8AaDvAj6LpmJBRUdioTwKX7uuNC616zqyEJS05Tvyau7iDh11uqJ4rTmWPMiLn8CfyPFSM3nPp+CTn3p38OlvT17fup3Hl+Rd7yI/9wafnVLDVERPj9R6h2rJAiN4kJpSa6b6yiS6j8PWaokkYS09lr2TdBdFn9if5NulGtIlKH39W6fYGY8jkzfeQOtdn81RPp1Fd4paxd4781Cani9fkUkulJp62qW1s5XkZc2nE9tUT2+pJ/Un+uhuoIBPvqd497s/Bd/6Ot8KmqjmIzvtjW/ushV887fOfl9BTdV5BWZNkpW00jE1kqKIxm+q86gSuf2oioI4SYaQIMezV/kSH/lHAk+KTz7u6f/lP72ITz5/ohOVb/sVnaYU4Gd/8jF8klPen+/rRr516S2zqNRuRSEvQkq74yJZtkjNfk6N2C+ESEIX+Zn6e//yxCf6HB/7R+9PfL2MuFeRQjDJ14VTrKX6EnQyXSvJFjoMCMaZsCMyMXhxVMnofLp8LmiyVNEshTGyFJmukHKQ49mH9Et89MOgv/2UdvJJhV/46y+yBL9eMsnFUdceHU1+7q898LNfZAP60ZxoZtk6zaSWFLZ8jZAhqMwckdKCkqCNgcmCl66t9bog3EN+kr//Y7yusoUtT+xPFPS7P/OZz3z2c5/73BtvvPXWW2+98cbn3/r8588lkQjjKq7Q7/mt3/7tL16/2kqmOaPzZbWwM+iEGywfyXwElTodACM5IEcwHlZxAV+TS0fMkmz4eveRV/mSPPuwwtPaSbNXNr0z3gp/kdpKx6rqpiE0X7bN5oGlja5YtRODWoyZLHbX472vU8zW7qRIJRca5JLOdSo7Yi9Yr/P+f71eV66Sqyf1J3lCVd0xT3xde9eibCPKfGnU1gEZsziXQScyipvV8nqwtoC9JLX6VQ9HMxHCUqQFjJF6iYJFLgjWGXc++mH0ae3k09qqLAH1hROOXA5oD4vYOkJvFbHPxWwhtWq8q5Jha4MTClbtVIcYO8lLb49uIsrUYpG1OwNP5uQidWm66dP5wR+vX1Vp0ZE+tT+ZlEpBWRABi5Y1iYCxvFpq6dNn8UIOoJSqJunanVstYk+KqpKd/ZV0r1emRhWC9lN1bdXO2RXamsMWSU50r/Yn+rs8+7Biv/m0diIlNlvHlxMc1VqvlvIKqZpo6iNE7Aljz7bZtLDLpttLagG2gBidNGtHnQYrSyfqZJ1mQmgBa7UtXX6FD/54/apybVx9Un+iglgN/7kc3C9yICVSDeVTSbybZR5HJyp9N1uTybkkIhUiHZlpkTCZWsegl4BMFe1WiQLbPKy2PNZ7pftdS+4+8mH5XZ69xhPbyWd2QlOtr0esM/pO8w8q7JYbeVns2XayXC7Y2gTbBWw5a1lTCCRk9CZpdyLZLSkNcOXeN097oTTvIbN+hQ/+GK/rpprM5IE/EX4I/SP7b+qAvSStUJ3O6Al5WTftfqqP7J1uZTnt5KiLWEw15yiH8LWw1OyUOFcgVE6vd5Zyr9pZYcpwOZMvr6WadLPmSrn76D/U3+HZa4b+xh8+oZ283msybV0h13KbgKVXjYvVlxhJDrhMlCS0ru6EivJazmr4xm7Cl6JSomiP4veEplwYvp6q6ShdSVL5K3zwx9ZnlanuRD6tTqnq7Ery3vV1BhSLLVZO3d4/n2cXdAMXJaFCLlP067kEu3ErdpDKDecCac0sC4wKRdAWgAo29nljm3L30Vfld3j2j1PlN5/STj4zvSkGeMAxQnIpadFHFyn08Yhz/VqekEjV7nouKoaRprrW08M8Lmeu090DiyQ0yi7d0NhAL4pcZJLCp/jgj/L65r7CRPhnj/Jbt1D7tk9Qbsq7zz38SFlYwChNfFNBtSsvUIacXCD50mXpYJyp2RilZJvbTDMpxQIpMutSUFUW1U1g3bUUcKFknWXilFzcVA7X2fBLSfy5jyCWHEgJd9WTOcrAs7wnE5Si2l0MasOW3y1DsRwx9DnAYz+OKTqTTMa1WeyJJr114gjZTkRnqMdzJcBrbx/aLvbMSgpbXdU5S+qp6EVKQrT7MGbJ0qI69AELgyWrt2tq7y/b3CMm0WMnyqFE5XL2iw+rULtAB7rK1WQaDLYy3gHuutelwKbAKId2I7rFzEFxsksxcztiQkm2HcxHkhf7q7cdZVpfUPVbrEWwejdE0F3YC6RsW8OBk61szFy9c6aPqgcisM0lT5lZzh0MA5Gt3NTCcB8kRfowiEYYJSqIdA/7LgAv1+kei9JCipr3krBKYS0PjJrGldmEcq13dpWinst5JhJPIV3jYgQzGuFsn6dy9xiEVVURE4QqWd2cce2OEkzjAqyVHWSGntzv6z284aBnJWS6inQb7boOJCpS4Y7AosfeFHonre2v4cZ6YopYz2qQu+5nQW2nxBVxTAvPLstkN/elzofqTu2HZtIWlNPpEcd0+YJ7NQHRTdezO3cTXUe0Xuzph/PcntlOZcGaj5KB1n7+fBub3hJfF3dqKSIHAp6Q6lyse4QEDTjOcThnU3VN63dd2HNLtHtmlpiVHGzHP01AOxDfNuY8WJTJ1HRGy1w2OT2vCkiWWUsJYorIARIgumaluu432pe4COseyLPJ2izH0runTtAuwkzVw6qKta5TDZZmzxc4IHZHdU/HiTghRj+9nQii01kd4w9ciBVXBgArRONs23oUxJLZDkazFST99s0ySFA+xbuIKtQnQx6XmCw8i0jVgCDnzmevT0KlepNuqE4rvEHKOe5CtZn+HoNiu1s9HRRd1binDamEbYIlaM4LbmlUk6wFWuEKPS2HSy+YdNdT95ADKrs49Twg0J2i3dbXRYpLWU1JNGboxvW3R6MmxlJBKyPpHqHuJ0NSp4+fBZHYOmv9Uj2yIj9X8iIU2XfOttzKSfErcrHzOX7NLwejAhLH8ttJZXcPwHurtmazf0Vi51s5Wi4fXNb3+TrnZ48nUKjY/HZstmHJ7LgCoj764y9E/dIUgfSXSMCzwyvXmv8NG6Yb/jzsQZVZkplDUhtP6MMi6V6Sr2xF4mTWrp9t3VQ0ejRUnG2IE262y95Jg+5CYz9mcu3EwCGP6+oo1Nci+DTSWrqUCC66oVhZu+68kxIc6fg84j0DCQfBExWOwEidUG8WGJoCylT6jEIpLdmVzkfuyh5LV0KlLhtYT062EuX3UwHTZgfkYlOqSI1k+YhxBogU3BusdfbADbxe3OQX3SopCOa9JKM3kFle6dUYDKh3lJSrXIueEzDC244VhUv2AKHZ8JjRw1syx7pCVHJShLeRf8qeO1WUDoq6mYOR9zfQLukJclXEtMt6beve4/0WxDppJDiBVKOr89pvtk5j0Wy29sgzH4g93QVA1h744VQMypwBbIkVehDj8nxHTKqsk+Tuzm/zFUoQEXnJotTwICU6/Z11K5Lv1t3dpqrnDjeKSFi51gJdbSbCfY9v6I0mMzjrxAC9r0zgaEcY63QH3gMMylHE9sJ0M4cMXJltiyeqkeNKXae611HL7fyYPZJKO5CGykK7PDqqtJe0yM0aSKXYucPWOKxRN8WN91vRlqk9lUZ9Inq1X71r48+bnDWvA296sl7N91lz5TrJTkTWjr1l7SAbc3heNWq1lMRsZMyrEcklIME6AdAAzEN7Zxagy6dqtWOHPKrcmSl2WZJnoSvxTc7FdSkvCSldOlqaEXDTKVMnA230PLQudFCsVefe2S3xMW3haO31y+4OFx/fimancbrlTZ0fuJ+m2kMu3Zsxm+mG2xYbm/THmr5tHyXM5D9Sj+kxtrRRrbCZFEUoXDSJAZBxnYEzw27Ks8xuRvRlyokB18PgTnYFrR4gxnFcoicyGuuo4Cw4Kh4nsF1am+zYDHMPZmG1rerMKXNjhsGCHA90v4nsGSV1OyfnoZXUZoCkRAykJMk9fYBdDDj3mc6ELzQ2jUuiGO2MdeHdjn0ijPaNNSGyNqeuBbz/uVrk870CUi+OCPrKJgRdhwtdX2IM5CqJeNzB7nGwhTxsOSh52SDYL9dycNO1MLSUkDkceg/0sXQK+Rb756iAp0HDDzl/wDVtJntKHVlHcfRoEcXR8NQpUgh45R1IiZVIeJOOTpicYy459h58Met70Hqwg31gaZd9QSUVZQtfRdXwuK0brv55dDiwNPsfmvSpgKxBLLUomlWZsY+6RbOrE9+Z6SjRxKlSLdVQcO0pqpkiJaoSaKRG9VAPFBUh5tYtvSOlhMiaJTGW+HrQR1SjcVS9FvleLJ3vEgaWemmWoAauBL6QEJkl0fFMM+KxJahLqtC+4B6VmiP8yyWz68x7FbeQWLAeKr1cT8Fdjx6E8jhQkpVoHaA2cv52onse6hBzvoearMyunKu0nVnApSdYSDEOeNLyzcY+ZiznpDUsewxSCVJVlFsD1JEtKhXV0zOts912pt6kyIxmK7AOJJlI9l1yrvlRnuUohLse7GoTl0NVER8uAbT27BERdxS14TGvnSRWM5nTvD2ATRa9CMG9B/VNsDsaBGrXzfVFK8mHPmILv3cnkzTtEEVGj1vWVl7URKeBEBVFanUhvVkdWTd6bFg1pIBcsX2H8GWuHdYEPHZi1A/qXXJs4SVoJBaaM1MpK1v6P5fbgUjEwnqEri9KYrWUQAqktNJ6z8g54PMFAVvtYeaZWNlVMSPBaoH9FiRles1It00Nrug9Ynu6dcfDaGIPCEaFfoqJrzekpBOephb0pj6bO5FAuSiihgidLEiZCemOlqMl2Ay8mbzTwqrKwRcm1DH6iJ5Ndpb9quuU+agQJ6+fIQbWl9QqW1a1Fu4nOXAZ45RoBxJu55ww4b7bMCSiRx9qptiJiXvpLidvr93KMHMuTQocX2qCI01pzuyonmTlHqhOwVbXYBtphNoXrEqX4QadSWBOhzIBqknQ4YpEH5sllVPVS7RHOdkpePK1iNYr5gw308Wl25sCIRNRVk9MK7JwihITS5Vce2cWZJp724npbpdKLxUO74HT0vXc5S2kkcoZv8vNwOODtNC2NlfZ+u2uZSHl7dGsZiM2nrxQcjPXMXfmlY9q7FPJmrmfGLG2+YnUcjdbLCo7W22GsvHMhpB7nF709LopnMdplfpzP/9c2WSI8q0KY7X/tlXCYruT7Elpdz1mtGeIzRaz7BF9K1N61s9g9rs6UlVEjNIdx9xjteakUZJJj81KeElVVK+7pyn3M76VWMTJ6k4lZ8/urasuQ6SKSFOF+wVEFiYzEZifffXVn6+6/8xvjCqdUhVSQEyREvcpI5iDx4zePkd2KWimXecxHGTn/M4ecbdnwy1jTxCT0ygEjvNDm44gTa9j7HmZnmA+gOyOyFaA1sCsPdZWOwmozkSSLFb12OUgIx2kRJRAGu787GuvvPLqL771V//p38TPzqFqYU9YN+XtKlw73OxA3LSEk4rZuXW0NCzbRpcTpggMXyai604nAqTia4lxOW6m6QUe4usqSdLHQH2zGppJKuu4nDkhCyzw1QFhxs3VFazX7lHOLB0KfpO2e5N87LVX4M/+na/5hrpOI1suPZTUSgRn3SEzB9BXG+pyKTv7xC6HUEKJSykG4UjeTQHxrK4LsTFQoQGrT5+4yEl7Wkp6XfnsR92JjLvJ1NRoR7QzHN8nP9QmgZL07Cl1a3PIZFdKLHc1VQu7yD1+nx977RXuf1Pfo/WJf/Wn9obzMYn2BbmmrpGIL9kcyYynTgo9suuD7dECk5jTD5ql36qb49Bz0ywbhUvZYejQf1Eq67ZYoY+ptHQLTpLcqKTdUS2f4xtk19e04aNcWfxuTWkU4ppUg7wL3LH42GuvXH79i9/49Vqf+CdfM85o97E0kyNdyCnKRcBt3SvSgv0ZCaKNzqQcSThM0jQ1ax9tEchUmjadYKU+wLlcLvscAhANtbxdCX3EvY4yqccX7h1fYwvrxLaDdi/VErU4z/+YwYdEsjib/1RI+Nhrr/zBb3391xf1iW959ZdAZWZETtlWSprbFGmV3CL0jplAvRLImunxlCxPQYOwah/USSm2O/ouJFKYRi//AkPqaN/Y4j5bcZanNOsx+XTebqtYhwwb1bpyY+FblCGZuPRpGA05VrKULCIxcueeOYnPT7/2yq/9z68vlHrvF1959RNUDE152xXlrk1RWUedhkvVxXH1xpApLX1C6fl6qq5TOO/ZhEhP8i8hppSOD59PzaoZ4LZrBiPVfBGd1HWeIiKXjq5Z03LfSZQ2NaBMsVvmtJgNMhKNy8k5iXIB9KdfewX7M7NH/hivvPqJPiEpb6Zt77mutjvrtF95jjtgdVqiBrjeKZhpBCRLRzPYfl+g1PeA8qvIJELO9Nmic2vtCaNdJtMXAZtkaxkystSPaS4XymvDN8uNvxnhfXRs3PqAATmTQEjE7UzLshKafMtx1QocZ81GkZ4VDJFr14xzH65xWEWfC7G6h17cQdu8WtY0DlT2IShNkLmDSVmd9aE41j7aIdkNRi8Ak+rd36ccSLY2qaBYFx/d9ClsU1bte1CVibA2kQdS43661Jbrr7z/TeILJVV84a2v5c0PfHtGQUYpcJn46QNOSnA38abbah9aAoFYdvVvHxjQvqImzYl2TnqsMTJbje9Wa7vkSszXHOs1pUp5FMJKZZOpmVE5PYK7WLi7cXZhdnpAz5m0AU4RK4k8weQMDM7kL7//Tf06FeQT/k13b37gPdqC/Y473co9MWWEs0RT87uWf9fP6IqwpxdEECXa0qeumY3Dy9iThLEzt7GZTdyGYtFHZuijYfi6efSUFdQuiWaXjVadtdDZhTFMbxMdqwc0FFZhIyyqCoiSXGjqd//qN2rxhbf+wtfx5gfeXZPKNm9/sXOoiPTAh+nJLiFzSuJeGKVTaoi53EFpW563Bu3UNRtTP4s9HLKZjwNrGdW1G+IFniDJMxnqDqTrYJOqJTPUo2TnwMO/9dbRGUguEnARz24WMiKrJXV/+B3fV8gn/vQ33fHmB96rFTFnmWiLjDjRSnQNZtI/p3Ufvk69x4QRneOdkppTUvD05opKnmOdXYKQqJIbXd+pGLyZ+PxY+jcNgktG5duFv2k5SJGuruoWXEyltdtDkyozdM35ATnhdkF++vuSL/yNb//j8OYH3ltL5oSn1YRAME0sLY4oIbSH9BM66XwdsE+iSi2xCIk5+2rcyVBg45ik6aVUX76cKG+fWwJcRJadmd3LBbHdvJKE+Sqpm7CFhe8azpC70QOWptkpdPn9DD7poR571EtP11VKfvjX5Dde4c0PvLdLZnXdqGBwadRlPQbY9DwBo03A5TJ0Qmd/hIm4SborqSolJ3o8+wCMKvXlENHnau2S1lFlyaYU+yY+lhbXGItNhbCnNVygKqxxfEVLGzvJbrFjzcl0MAcbWWvJQ+AibTbJJ/7W//7a7/rAm7Mk11E6jtg6myF2JF7emk6qb+ZddvVuBpO3RhRCSxc+E6ZtxzmZcf3NnCwWYhEYlA51Us7tCQc5p9w8LxFOvXYH7sE3JeW1x+FcDWr5ZQizObWutjpUw+qq7b80zk34jp96N/BdH+AvrvMAPCbD61H0xmoQUeJLcKXE+z71ZCOgqzQsBw3TND1PmUEIb5kFl6OHnA+p6wsLbsJoo6xTS57PTSV/mOzME08NSCGsQ5btzH+qwdrdCDlEWlbpNO5Y5oY/mqJULdCV8iejivzOSQWiZAQV+2blugb75cicP+ab8ikup9DACzXLFKnEddAptkdndEp8CrKWe7isae/slHhNoNWXtqaQuQ87ShRZslPiQi6j6gvJHmiRulYhUj0xXSftG4ghXT6uxUz5GkXQboIbgf0chXHeInNNEaxE/KZQ10IVvaFGOhYRqEwuLBuyTqHk2EPtt5xtOlQpEZXW4fjsidwHO7xY5L1FLZGbeioozImF+1RpG+3edTmgJwWxyLnouGTNG2gfXZB3J5ztetiKyhhWtjYy4319hNmWHu9tr9a5iA2rssfX+7pDejx9h+qhkPasdj+zpBMD7zOYspVR1nE0LexR/VoDmaBJ8JnVvhMbzeXrbIPLvNIlsBrxLz1FKWs/HppdHYOUsLaj3BvufvxqoXvkBT7dTXml5g+6irE11X7exB5hZnF73FZeyRji9Fmpc5roHLimW5cRSYnlllzXbeE/5FT7jUw0bkSa0/ByTq2zs3NGt1Z6PSIhIFeHxpZ5xW56OhVbPrOXXIE///0vI3au2oq3P4LpK1FY3CajcqO4ePQMJuQWjlwVyI9qKr78SMfb1XnhFKd87pM3XP0hLwexUgFH1l0DNlemhnE0eEFQL8X2cAFPv7TgRrIftkmR+3xIXx7gzBS2lsNV6fUk5x7imC+vnPeZLJ3r9AJN0CFLRsapa9qMm4ZclqtThiKy9H4PsOAi3LeqoLFIrsJX9RCm6n5CvZZCZYt/Y3nDej8FXEdQ2uNkNDVtXIk7XndaQ+r3vR/C1YiC5T2n5bj2Q8qSHFGe7mD7SC/+hiiLXIH0rD4Eak1hZ805oPhWx03h/D4TTyEIgtW0bwVwkbx2vtSojVcTlussIv2JAeQu1wzlPNvb5yDvfcpdX5efXGtuMYHFNGQMk/Ag4XHy6onUYuulqrDUMKTC6zwctesCS1qQQOom5edUHFKXr7OJMtAYA1rT+tgutoHL/Xn8dYw4cLT1ucm0fqXL/GrA/wXAZHzoHrq/wAAAAABJRU5ErkJggg==)}\n#webamp .media-info #stereo {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB0AAAAMCAMAAACpx0YDAAAAk1BMVEUlJTklJTolJjsmJTsmJjsnJz0nJz4oJz4oKD8pKUApKkEqKUEqKUIqKkEqKkIrK0MrK0QsK0QsLEUtLUYtLUguLUcuLUguLkcvL0U8PFNDQ1hJSWFQUGNaWm9lZXZpaXpvcH5wcX9xcYF3d4Z5eYh8e4x+fpCBgY+Dg5KKipaLi5mMi5mRkZ2bmqaioqypqbKqqrTexa8FAAAAvUlEQVQYGQXBQW4aURAFwOrPIJCjEY5Hytq73P9giCj2YBTy+7mqfkUTiURmtUiqRY8eJBJRFAGULIemEipBQySka0xQL+9Bz4FEwbBUj9PP+ffF22P1cXbc1+fnsv7br5ExRr9mz911M99Op+d2P1+22/yRitHttr9eUPP5cH+w/3ftQ4cFx9VX93a7nD+ObufVn/nbdSRqk4qWSCfERHS1USq6ggwkKTCMLBERpCuoVAQdYyAl4dASNJjKN1/Kh0LDHtt2AAAAAElFTkSuQmCC)}\n#webamp .stop .media-info #stereo.selected {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB0AAAAMCAMAAACpx0YDAAAAk1BMVEUlJTklJTolJjsmJTsmJjsnJz0nJz4oJz4oKD8pKUApKkEqKUEqKUIqKkEqKkIrK0MrK0QsK0QsLEUtLUYtLUguLUcuLUguLkcvL0U8PFNDQ1hJSWFQUGNaWm9lZXZpaXpvcH5wcX9xcYF3d4Z5eYh8e4x+fpCBgY+Dg5KKipaLi5mMi5mRkZ2bmqaioqypqbKqqrTexa8FAAAAvUlEQVQYGQXBQW4aURAFwOrPIJCjEY5Hytq73P9giCj2YBTy+7mqfkUTiURmtUiqRY8eJBJRFAGULIemEipBQySka0xQL+9Bz4FEwbBUj9PP+ffF22P1cXbc1+fnsv7br5ExRr9mz911M99Op+d2P1+22/yRitHttr9eUPP5cH+w/3ftQ4cFx9VX93a7nD+ObufVn/nbdSRqk4qWSCfERHS1USq6ggwkKTCMLBERpCuoVAQdYyAl4dASNJjKN1/Kh0LDHtt2AAAAAElFTkSuQmCC)}\n#webamp .media-info #stereo.selected {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB0AAAAMCAMAAACpx0YDAAABXFBMVEUA/wAD+AQG7gkG8QkH4wwI6A0K2g8K3xAL2xIL4hIM2RMN2BUN3RUOxRYO1RUQ0xkSxh0SzBwS0RwTuR0VvCEVxSEapCkbnyscrSwfczAgpzIhkzQinDUlJTklJTolJjslJzklKDolLjslkzomJjsmKTsmKzsmLDomMjsmMjwmNjsmOjsmRjsmWjwmdzsmiDwnJz0nKT0nLT0nNT0nOj0nQjwnTj0nYj0oKz4oLT8oND4oOT8oRz4oSz4oZT8pL0ApO0ApTEApTkApZkApZ0EqMEIqMkMqPEEqTEMqT0IqUEIqZUIqZkMqa0IrLkIrL0UrNEQrPEQrPUQrQEMrSkUrYkQrfUQsMUQsNkUsQkQsS0MsTkYsVEQsWEUsYEYsZ0UtLkUtLkctL0gtMEYtM0YtM0gtNEgtNUctNkctOUYtP0YtQkctR0YtS0Yti0cuLUguLkcuMUcuM0cuN0c2LFEQAAABDklEQVQYGQXBvVHDQBCA0W/3TrJkBBhmPAQkBATUQA+0QEROT9RBwtADCQQkDMaBLIOk8+nnlvfkUfYq0HKgtzIMMIBBxNpR/+Qsy+pcxLnj46iFiKrquJeuw/xp51QvayeuxkSikk+YHuFmxLdetRH//HXnCIuoxiSxpzS1hFfRlw+/DrxWO1YdqdgXV9vd4mrZmWgl9UdaUnD/LX4bo9ue9O8/N/lnkFG0g+tquwGSy5dUR1BlABio2fmmoVzL00XfZMluV027WL3tK8DkIWtUJRBMJGCMQKQve5vT4C2tRDd5LSaS2wEDcjqz2cbZM0l7Nh/KHiPCCERIKfjR8EmnEApqAGMASDD9uiHBP3bmjPqWVRjwAAAAAElFTkSuQmCC)}\n#webamp .media-info #mono {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABsAAAAMCAMAAACk2TZEAAAAclBMVEUtLUguLkcuLkgvL0ovMEswL0swMEsxMU0xMU4xMk0xMk4yMU4yMk8zM1AzNFE0M1E0M1I0NFE0NFI0NVM3N1E8PFNJSWFQUGdSUmtaWm9gYHZuboJ2dol8e4x+fpCGhpeOjp2VlaOdnaqlpbKsrLetrbnuzsEEAAAAp0lEQVQYGQXBQU4bURQEwOrvkcA4iRS4/+VYwI6VEyTPzGuq8ppyrjHKIVPQsSnnGpReZkQnQzfImKJUU8saWUEWQZyV0g7dqs6X349tf7qfN3uf6t/N/imLDL7WY1/Xx8d1m/+X6+P9+U1XSADNH8Xkr9aqmTW7fY5+r9v9OHp859f9i7z2vJwZpUdUjWpqSZQytlYJUrOpWaR1FhhgbcLQRiEFTH4AmtR0pKKbMGAAAAAASUVORK5CYII=)}\n#webamp .stop .media-info #mono.selected {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABsAAAAMCAMAAACk2TZEAAAAclBMVEUtLUguLkcuLkgvL0ovMEswL0swMEsxMU0xMU4xMk0xMk4yMU4yMk8zM1AzNFE0M1E0M1I0NFE0NFI0NVM3N1E8PFNJSWFQUGdSUmtaWm9gYHZuboJ2dol8e4x+fpCGhpeOjp2VlaOdnaqlpbKsrLetrbnuzsEEAAAAp0lEQVQYGQXBQU4bURQEwOrvkcA4iRS4/+VYwI6VEyTPzGuq8ppyrjHKIVPQsSnnGpReZkQnQzfImKJUU8saWUEWQZyV0g7dqs6X349tf7qfN3uf6t/N/imLDL7WY1/Xx8d1m/+X6+P9+U1XSADNH8Xkr9aqmTW7fY5+r9v9OHp859f9i7z2vJwZpUdUjWpqSZQytlYJUrOpWaR1FhhgbcLQRiEFTH4AmtR0pKKbMGAAAAAASUVORK5CYII=)}\n#webamp .media-info #mono.selected {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABsAAAAMCAMAAACk2TZEAAABJlBMVEUA/wAD9wUG8QkI6A0J5g4L4hIM2RMM3xMN2BUN3RUP2hgQ0xkSzBwS0RwVvCEVxSEWySIZwicZwigcrSwgpzIhkzQkpzkmdzsmiDwnmD0olD8qa0IrfUQtL0gtMUgtQkcti0cuLkcuMEguMUcuNkguOkkuR0ovL0ovMEsvM0ovNEkvNEovNkovOkovPUovUUkvXEovZkswMEswM0swNUswNkwwP0swQkowTEswT0swUEwwVkswZkswaksxNU0xN04xP04xRE0xZk4xbk0yNU8yNk4yNlAyOE8yQ00yTk4yU04yVk4yY04yaU8ybE8yek4zNFEzOVEzPVAzQ1EzRlEzTFEzU1AzXlE0M1E0NFE0NFI0NVM0NlE0NlI0OlE0PlI0QVI0RlJbMtAUAAAA50lEQVQYGQXBTW7CMBCA0W9mrJKEAKr4WXXTu3TXG3Dc7nuOIiohKLHjGJzpe3IUreZ6BxJkIIHjnlxxbDBVs7EXaVV1u1UtpehDAdloNB3Xo6p1XbF7CN2kj0YFEYmasmUz05yb3KjmfW5LcBnEvk7L1N8P4UwvN+HwS/c+iqIrAT68XTyvq7frZNt6W33+nUAFHADAHAyw+ZsA6tXx0AxtaHTz/Nm9dGGxqef9bkKOntdRUh8BIFGIOD42KSBLn6WtFQAWN7zBL68plYDXQVwYASABGTy6h4DMOHEOyATMOHWmJh7hH8HfcsJFco7ZAAAAAElFTkSuQmCC)}\n#webamp #time #minus-sign {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAABCAYAAAAW/mTzAAAAF0lEQVQYV2OUUNT8/+L+dQYJRU0GGA0AVz4HY4h207oAAAAASUVORK5CYII=)}\n#webamp #time.countdown #minus-sign {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAABCAYAAAAW/mTzAAAAEElEQVQYV2Nk+MHwnwENAAAjgQH5sdp7TQAAAABJRU5ErkJggg==)}\n#webamp .digit-0 {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAANAgMAAAAGbqyVAAAACVBMVEUAAAAA+AAYISknP40bAAAAFklEQVQI12OYGtrA4ACEHh0ORNFA9QAiPQsl393R7gAAAABJRU5ErkJggg==)}\n#webamp .digit-1 {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAANAgMAAAAGbqyVAAAACVBMVEUAAAAA+AAYISknP40bAAAAE0lEQVQI12PsYNjBwMDgwEgCDQAItwpIh/66WgAAAABJRU5ErkJggg==)}\n#webamp .digit-2 {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAANAgMAAAAGbqyVAAAACVBMVEUAAAAA+AAYISknP40bAAAAH0lEQVQI12OYGtrAwMDgwNDR4YBCg8RBLI8OVBooDgAebgr//9NFIgAAAABJRU5ErkJggg==)}\n#webamp .digit-3 {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAANAgMAAAAGbqyVAAAACVBMVEUAAAAA+AAYISknP40bAAAAGElEQVQI12OYGtrAwMDgwNDR4YBC4xEHAB3uCv9NUBWtAAAAAElFTkSuQmCC)}\n#webamp .digit-4 {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAANAgMAAAAGbqyVAAAACVBMVEUAAAAA+AAYISknP40bAAAAGklEQVQI12Pw6HBgAEF0emqoAwMDkO7owKABD8wKi451feQAAAAASUVORK5CYII=)}\n#webamp .digit-5 {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAANAgMAAAAGbqyVAAAACVBMVEUAAAAA+AAYISknP40bAAAAIElEQVQI12OYGtrA4MDAwODRgUqDxBmArI4OBxQaKA4AHm4K/5vyk78AAAAASUVORK5CYII=)}\n#webamp .digit-6 {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAANAgMAAAAGbqyVAAAACVBMVEUAAAAA+AAYISknP40bAAAAH0lEQVQI12OYGtrA4MDAwODRgUqHgsUdgHwHFBqoHgAbbgr/DdfRzgAAAABJRU5ErkJggg==)}\n#webamp .digit-7 {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAANAgMAAAAGbqyVAAAACVBMVEUAAAAA+AAYISknP40bAAAAFklEQVQI12MMZdBmYGBwYOxg2EEsDQDjggmI1L+I9wAAAABJRU5ErkJggg==)}\n#webamp .digit-8 {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAANAgMAAAAGbqyVAAAACVBMVEUAAAAA+AAYISknP40bAAAAFklEQVQI12OYGtrA4ACEHh0OKDQecQArbgt/wD0r9gAAAABJRU5ErkJggg==)}\n#webamp .digit-9 {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAANAgMAAAAGbqyVAAAACVBMVEUAAAAA+AAYISknP40bAAAAIUlEQVQI12OYGtrA4ACEHh0OKPTUUAcGBiDd0YFKA9UDACFuCv9mR03UAAAAAElFTkSuQmCC)}\n#webamp .play #play-pause {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJAgMAAACd/+6DAAAACVBMVEUAAAAA6AAYISlH3xqZAAAAH0lEQVQI12Po8GhgYAhgYOgIAdKhQDrUAUKHQMU9GgCL+gfA1jUO8AAAAABJRU5ErkJggg==)}\n#webamp .pause #play-pause {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJAgMAAACd/+6DAAAACVBMVEUAAAAA6AAYISlH3xqZAAAAGklEQVQI12Po6GhgAIGQVgeGEFYHFBoEgPIAiaIHnsCfw8kAAAAASUVORK5CYII=)}\n#webamp .stop #play-pause {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJAgMAAACd/+6DAAAACVBMVEUAAAAA6AAYISlH3xqZAAAAGUlEQVQI12Po6GhgAIHWkAYG1hBUGgSA8gCN1wfe41RVhgAAAABJRU5ErkJggg==)}\n#webamp #work-indicator {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJBAMAAAASvxsjAAAAFVBMVEUAAAAAAAAA6AARQDMYISlODwD/KDN/MQZsAAAAAXRSTlMAQObYZgAAAB9JREFUCNdjUFI2ZmBgQCYFBQWBpKOLCJwdGpaGSgIAfI8Fm6vX5/8AAAAASUVORK5CYII=)}\n#webamp #work-indicator.selected {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJBAMAAAASvxsjAAAAD1BMVEUAAAAAAAARQDMYISn/KDPWqFE6AAAAAXRSTlMAQObYZgAAABpJREFUCNdjUFJgAAJkUlAARBoaINguDmgkAEabAvbVxDW5AAAAAElFTkSuQmCC)}\n#webamp .playlist-top-left-fill {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAUCAYAAAB4d5a9AAAAWUlEQVRIS2PU1nL+z0BjwFhRPoH2ltjZJAwTS+TllWjvk7ZyX9pb0jeRDhFvYqBDe5+kxzjR3hK6xImKqibtfUKXzEiXsosulowWkKRUQYx0SV10sYQeqQsAf0Ul/5LwY0QAAAAASUVORK5CYII=)}\n#webamp .playlist-top-left-spacer {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAUCAYAAAB4d5a9AAAAWUlEQVRIS2PU1nL+z0BjwFhRPoH2ltjZJAwTS+TllWjvk7ZyX9pb0jeRDhFvYqBDe5+kxzjR3hK6xImKqibtfUKXzEiXsosulowWkKRUQYx0SV10sYQeqQsAf0Ul/5LwY0QAAAAASUVORK5CYII=)}\n#webamp .playlist-top-right-fill {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAUCAYAAAB4d5a9AAAAWUlEQVRIS2PU1nL+z0BjwFhRPoH2ltjZJAwTS+TllWjvk7ZyX9pb0jeRDhFvYqBDe5+kxzjR3hK6xImKqibtfUKXzEiXsosulowWkKRUQYx0SV10sYQeqQsAf0Ul/5LwY0QAAAAASUVORK5CYII=)}\n#webamp .playlist-top-right-spacer {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAUCAYAAAB4d5a9AAAAWUlEQVRIS2PU1nL+z0BjwFhRPoH2ltjZJAwTS+TllWjvk7ZyX9pb0jeRDhFvYqBDe5+kxzjR3hK6xImKqibtfUKXzEiXsosulowWkKRUQYx0SV10sYQeqQsAf0Ul/5LwY0QAAAAASUVORK5CYII=)}\n#webamp .playlist-top-left {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAUCAMAAABPqWaPAAAA/FBMVEUdHS0dHS4eHi8fHyIfHzAfHzIgHzIgITMhITQiITQiIjUjIzYkIzckIzgkJDckJDkkJSklJTomJTsmJjsmJjwnJz0oJz4oKD8pKUApKUEqKUEqKkEqKkIrKUIrKkMrK0QsK0MsK0QsLEMsLEUtLUYuLUcuLUguLkcuLkkvL0owMEsxMEwyMU0yMU4yMk8zM1A0MCw0MlA0NFE1NFM2NVM2NVQ2NlU3NVY3N1Y4N1c4N1g4OFg5OFk6OVo7Olw8O109O149PF9FQTtnXEJqanpra3xsbHxsbH1tbX9uboFwb4NxcYZzcoh0c4p0dIp1dYx4do54d5CGd02OkZDLe86vAAAAvUlEQVQYGQXBMUodUBQFwDnnXdMq2LuWQFy/nYVFQAIu47+bmSDSpFFtmyRp452oiIhIIjJ8Nr/2nD1Nc5ppJS3idhVqIRii93wDABiC79/PAACDdbwAABju8fAXAMBg7/EKAGBYu/YFAGAg9+0DAMDgNo/XSdLm5JxW0sH+JE2TJm1a9aQI2NiSYD0Mlj9JEiKSkAzY/XrKnPQkpydJUoDrXnvFQlIAu67aLVDAfbAgu4k1gHX/pZ2cJKme/xmiNhnfUYYUAAAAAElFTkSuQmCC)}\n#webamp .playlist-top-title {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAAAUCAMAAABMHminAAABd1BMVEUdHS0dHS4eHS4eHi8fHyIfHzAfHzIgHzIgITMhITQiITQiIjUjIzYkIzckIzgkJDkkJSklJTomJTsmJjsmJjwnJz0oJz4oKD8pJ0ApKUApKUEpKkEqKUEqKkEqKkIrKUIrKkMrK0QrLEQsK0MsK0QsLEUtLUYtLkctLkguLUcuLUguLkcuLkkvL0ovMEsvMSUwL0swMEsxMEwyMU0yMU4yMk8zM1A0MCw0MlA0M1E0NFE1NFM2NVM2NVQ2Nk82NlU3NVY3N1Y4N1c4N1g4OFg5OFM5OFk6OVo7Olo7Olw8O109O149O2A9PFs9PF89PGA+PGBAQFhCQV9FQTtIR2ZMTGFVVG1WVmNbWnZfYGpgX3dlZXdlZnRnXEJnaHZoaHhpaXtqanpraoBra3xsbHxsbH1tbX9uboFwb4NxcYZzcohzc4p0c4p0dIp1dYZ1dYx4do54d5B5eIl9fY6FhJSGd02LjJqOkZCQj6CXlqeioq+srbettMQFH6KtAAADiklEQVQYGQXBTa8VVhkG0PW8+1zuRYuN4gfgpV4q3PpRNTFGw8Q4MlaJsUPjr/D3OHJgjANnNR2hxA6MNW00mKJAC0YSSZu2SkmBnrP361o5gsY09UL3Ymrd3bq7073obgAQSoUYJJKoqIgoY0DYvAgaaFbr1tA0mrawAABKQghBEIkBQXTY3AG7mrpZbfYylzVr123ZrWx199TLWsBYo6vYJEYqoySxFzV6qEqhGIUCGmKJXlqoKRoaWbozWwKzDYvVDYDRmFmAAGTDFVZtdbN69WQuvey6Lbu1stOzrc4uC1ClspkjGTGGSmKjkhpJRUnsbfdeYvNz9399xXze354/8dqFT7z+rfGnb9fNunTr3/393H3Djzz53Qsn/ea7h6x//Hnxs32eXL14fPeVTD8++ejlH+7fvPXC9vc/2P5Bff7SuzeOT5tv1UXsro+XfnpGVZ1DPqqTJzz99AOQI8zz6bPB/pcOSLv5cj1rwC9v738F9Djog/VqX7ycN8PQ+Nzp7Y23//f+a++5fV2cq9pc85iu/1w44my9B+yfpc6s7f7pd8xxyXavpxMXbWvC5T0LJd/MvcNv/P3uhU/d/1dYo8Hel7cPPwDaNer4+OvEEwe7+XHvB+aTp3Dqow99Ju733mMW559555UZ+MKZu3/E0odz69Bfp9ehFN6+M+0dLcHg+Ph4c8Zb8GiOD058bAuLf34tzmc85dwNHp+8d6R481WrFvyKcPo7/nKwDvsgWYMYz3iAz5697Tk05p4Pn7X5hYdXiAeffNcXH2qK/9694OyTa763/2nuXbx+JBu6uxZgcOqU+G0uH371DWh1yS08Gs+ZtwtYV65elZ8AW61ZbfYyl6V3utc0s9U9Wy89QWpupMgoNoY9STKSUpWNFAmbLnIENHNaTbduk2XRemltsRoARFEiBokkKpJEijEgFOgGQNC0poGGBQBIWokINAgJLABsXgQ0DaZumoamad1YAEChCCEIIWFAkA6bO2CZui169uq1dPeu25q92k6bbWXtohlzswbJJjJkZCTJiCqjYkRJ2IMC5gTFAugpFhB2pa01emCOXVplQ0iNClAMelDAahTYjQHoDkEIMaJmM2Z3d7cFU2CubtoEWExMAAkKbOYEizRTLLSYbQ0SCd0WkvRCNVitgVAI0OwgR9CYJqvp7ja17tZtac3S3QCQiJJIIpLEEBWkjAHh/7B25tuthDwsAAAAAElFTkSuQmCC)}\n#webamp .playlist-top-right {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAUCAMAAABPqWaPAAABNVBMVEULDxYMDAwOFQsUFBQdHS0dHS4eHS4eHi8fEQofHyIfHzAfHzIgHzIhITQhIjQiITQiIjUjIzYkIzckIzgkJDklJTomJjsmJjwnJz0oJz4oKD8pKUApKUEpKkEqKUEqKkEqKkIrKUIrKkMrK0QsK0QsLEUtLUYtLkguLUcuLUguLkcuLkkvL0ovMSUwL0swMEsxMEwyMU0yMU4yMk0yMk8zM1A0LhA0MlA0NFE1NFM2NVM2NVQ2NlU3NVY3N1Y4N1c4OFg5OFk5OVc6OVo7Olo7Olw8O109O149PFs9PF89PGA+PGBFQTtGQh9ORDBQPx5YVjxnXEJqanpra3xsbHxsbH1tbX9uboFwTyxwb4NxcYZzcohzk5p0c4p0dIp1dYx4do54d5B4h4yGd02LjJqNcTiOkZC/uXdbAAABJElEQVQYGQXBsWpTYRyH4ff7cig5a8FCKAge2slNqFvoBai4e5d26h0UrCnYpaCSrbV2cA0k5/97fZ42WYVR1ZCgZWC4REGDSEAVuRpeUoayyiqddU6IdIGeDkCHBQFgpo2s1dXR/mj/66BvHm/h4vSunocv/67XrpYsWb69L5yAadsaw+IV8hMAAl8/Tbtxe/tahhtAAKAXuBt30KCfnUEHAAL8HXcnQKcfH2huAPje4fO0/fNjujC0kbXMNwds75ydHr/B+9NNntuHlJZWYpWpOcb4NDxYpUTVSAzzx03RoQECIAQomGG4RESDSFCuABheUv2AVTFV2ScamnRCNYiYKAsUhA5g0pqNRpgVADq01gCaxNIgAMODVZJz+F2WWisA+A8o2vB09xIFIgAAAABJRU5ErkJggg==)}\n#webamp .selected .playlist-top-left-fill {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAUCAYAAAB4d5a9AAAAWklEQVRIS2PU1nL+z0BjwFhRPoH2ltjZJAwTS+TkVWnvkzfnqmhvyf///2lviaujNe0tWTcplfaW0CVOVFQ1ae8TumRGupRddLFktIAkpQpipEvqoosl9EhdAAvFKfTd8tQbAAAAAElFTkSuQmCC)}\n#webamp .selected .playlist-top-left-spacer {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAUCAYAAAB4d5a9AAAAWklEQVRIS2PU1nL+z0BjwFhRPoH2ltjZJAwTS+TkVWnvkzfnqmhvyf///2lviaujNe0tWTcplfaW0CVOVFQ1ae8TumRGupRddLFktIAkpQpipEvqoosl9EhdAAvFKfTd8tQbAAAAAElFTkSuQmCC)}\n#webamp .selected .playlist-top-right-fill {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAUCAYAAAB4d5a9AAAAWklEQVRIS2PU1nL+z0BjwFhRPoH2ltjZJAwTS+TkVWnvkzfnqmhvyf///2lviaujNe0tWTcplfaW0CVOVFQ1ae8TumRGupRddLFktIAkpQpipEvqoosl9EhdAAvFKfTd8tQbAAAAAElFTkSuQmCC)}\n#webamp .selected .playlist-top-right-spacer {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAUCAYAAAB4d5a9AAAAWklEQVRIS2PU1nL+z0BjwFhRPoH2ltjZJAwTS+TkVWnvkzfnqmhvyf///2lviaujNe0tWTcplfaW0CVOVFQ1ae8TumRGupRddLFktIAkpQpipEvqoosl9EhdAAvFKfTd8tQbAAAAAElFTkSuQmCC)}\n#webamp .selected .playlist-top-left {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAUCAMAAABPqWaPAAAA/FBMVEUdHS0dHS4eHi8eHyUfHzAfHzIgHzIgITMhITQiITQiIjUjIzYkIzckIzgkJDckJDkkJSklJTomJTsmJjsmJjwnJz0oJz4oKD8pKUApKUEqKUEqKkEqKkIrKUIrKkMrK0QsK0MsK0QsLEMsLEUtLUYuLUcuLUguLkcuLkkvL0owMEsxMEwyMU0yMU4yMk8zM1A0MlA0NFE1NFM2NVM2NVQ2NlU3NVY3N1Y4N1c4N1g4OFg5OFk6OVo7Olw8O109O149PF9FQTtqanpra3xsbHxsbH1tbX9uboFwb4NxcYZzbFJzcoh0c4p0dIp1dYx4do54d5CukmXsznr///9ua7yBAAAAvklEQVQYGQXBsU0dQBAFwHnvFsshErl7MQVQtlsgIEGWSMkd/FvPBJEmjWrbJEkbr0RFRFQSkeG9+bHn7GmaNtNKWsTtKsRCMETv+QQAMASfbwEAGKyjAACGezx8AwAY7D2eAQAMa9e/nwAAA7m//gAAGNzm8TJJ2jTntJIO9itpmjRp06onRcDGlgTrYbD8TpIQlYRkwO7HU+akTU5PkqQA1712xUJSALuu2C1QwH2wILuJNYB1/6adnCSpnv/+0TYBQOmyqAAAAABJRU5ErkJggg==)}\n#webamp .selected .playlist-top-title {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAAAUCAMAAABMHminAAABd1BMVEUdHS0dHS4eHS4eHi8eHyUfHzAfHzIgHzIgITMhITQiITQiIjUjIzYkIzckIzgkJDkkJSklJTomJTsmJjsmJjwnJz0oJz4oKD8pJ0ApKUApKUEpKkEqKUEqKkEqKkIrKUIrKkMrK0QrLEQsK0MsK0QsLEUtLUYtLkctLkguLUcuLUguLkcuLkkvL0ovMEswL0swMEsxMEwyMU0yMU4yMk8zM1A0MlA0M1E0NFE1NFM2NVM2NVQ2NlU3NVY3N1Y4N1c4N1g4OE44OFg5OFM5OFk6OVo7Olw8O109O149O2A9PF89PGA+PGA/QitAQFhCQV9FQTtIR2ZMTGFVVG1WVmNbWnZgX3djY3BlZXdlZnRqanpraoBra3xsbHxsbH1tbX9uboFwb4NxcYZzbFJzcohzc4p0c4p0dIp1dYZ1dYx4do54d5B9fY6FhJSLjJqQj6CXlqeioq+srbettMSukmW8u8XHx83KydLW1tzk5Ojsznry8vT////NCpc8AAADfklEQVQYGQXBS6tfBxUH0PXb5+Q+Y2oFI5ZoknpLiU8cCELopANJG+M38Ds48nM4ciw4cVJ0INhBK5T6KPVRChVFIzHUB4IQvYbEe+//7O1auQGDzWYaM81mzMyYmclMMzMAIJQKsZBIoqIioiwLhPUuGGDoMaNhGAyj0QAAJSGEICiJBYKYsD4EW9oMM3bTunVnm9G2zoWZ2UzrBpZepoo1saRSJYk1qmaxVIKiCgUMxIhpI6TFwCBtJttIYBuLpmcAUINOAwKQlTt07cww073Rbdo2o23d2Zlt9GSXBlSprNuSLLGUSmJRSZZURSTW3fo667edf+eO/pL3vrj/7mf3f/OVS29/df3Dwc0H9+dry3/eds/Zj1858oN7V9j+9Ivmm3uc/+rqC6c/yuYbR09+cnf//u9f3b3x6sWb6vmbj3/95eNcPLj8HC7er9e/taeqDpDz5XjftYMzkOfR15c5CPZvHRLu/3y5aYHv/XXvC2CWwzns387Nl+vPoQyeu3z+u6ePPnz3sb+/Lw6q1g9sTM4Ob/DMegpm/yq5ttv2P/XQbj1xvjdcPbTVBrevaJS8lNMrt985feb4vw/CZMD+586e/TcwPqBOTl4k/ubwYnc8HwZ2Z8c4ON+5Hk9n7ynN0ccfv7cFrh+c/hBtnt21j3pz5y2Iwj8eXdi/PqA4OTlZ9/wTnu7Ws6zn0Pzx83F9ucQBnh49uaL4yy91NXyflPX2vHO4Hc1h0oi84DE+uX/fLUCvHn3C+l2P7xD/u3zq+MJQ/OvRx1w7+6mX9z/Nk8O37glmphqwtKPPOPRaXvnISz+Dsd70AGfLLRf3A/Sd18jXgZ0xzNhN69ZmM9Nty4WZbUybDaS2VYosxWqxSpJKSiqXJCQsU+QGMGybHmbM2GjNmDZG0wMAoigRC4kkKpJEimWBUGAGAMEwhgEGGgCQjBIRGBASaACsdwHDgM0MzcAwjBk0AFAoQghCkbBAkAnrQ9DajGF20zNtZrYZ3dNjZ2yj07sYlm3thWSNLLKkkqSiSlWsEQkrFNANQgNMiwbCrozuZRZsyy6jshJSlQBFMSsBelBgqwJMF0EIUVHbsGwzMzMaNoGtZxgN0DR2ABIUWLrBUE2LxogevZBImNFIMo0a0GOAEBQwbJAbMNhs9DAzYzNmxow2hjYzAJCIkkgiksQiKkhZFgj/B6KI5O4cXV8dAAAAAElFTkSuQmCC)}\n#webamp .selected .playlist-top-right {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAUCAMAAABPqWaPAAABI1BMVEUdHS0dHS4eHS4eHi8eHyUfHzAfHzIgHzIhITQhIjQiITQiIjUjIzYkIzckIzgkJDklJTomJjsmJjwnJz0oJz4oKD8pKUApKUEpKkEqKUEqKkEqKkIrKUIrKkMrK0QsK0QsLEUtLUYtLkguLUcuLUguLkcuLkkvL0owL0swMEsxMEwyMU0yMU4yMk0yMk8zM1A0LhA0MlA0NFE1NFM2NVM2NVQ2NlU3NVY3N1Y4N1c4OFg4QlY5OFk5OVc6OVo7Olo7Olw8O109O149PFs9PF89PGA+PGA/QitFQTtYVjxnXEJqanpra3xsbHxsbH1tbX9uboFwb4NxcYZzbFJzcoh0c4p0dIp1dYx4do54d5CNcTisrbeukmWwmV7O4tDsznr////5EmU+AAABC0lEQVQYGQXBMUpcYRiG0ef7708qu4mgxYCFVdbgtIGsIesLZAOuQ0GIlfXFMEMgTOXc7308p/Z2Y1Q1JGgMzAcUVIIIqsjjPKUNm912a+uWEBkCIwsAAwYBYKMmB3UP8Oeid65wW8/9Pn/274P7BeDbS+PXsnbHKmZN5B8ABNba9XJalbkCWgCOBvvLhxTMa2BggQSo5WMpGMzlTMUS+D+a293J2vk3zF8crPMVwBmt4wqWUN/T2rETu022GOM6X+1Womokhv7x1AwoQACEAIEN5gMiKkFEeQRgntLjglvHdOeSaCgZhC6ImCgLCsIAMF1lUcimADCgqgBKYmsQgPlqt8R73tpWcwMAn2oG882E0Lr4AAAAAElFTkSuQmCC)}\n#webamp .playlist-middle-left {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAdAgMAAADjkWVKAAAADFBMVEUAAAAdHS0pKUBqano8VvpZAAAAD0lEQVQI12OoilvCQGcMALzxKw1EtyFgAAAAAElFTkSuQmCC)}\n#webamp .playlist-middle-right {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAdAgMAAADX6KRWAAAADFBMVEUAAAAdHS0pKUBqano8VvpZAAAAEklEQVQI12OwmrXq1UuGIUICAIEjYC7HaOXEAAAAAElFTkSuQmCC)}\n#webamp .playlist-scrollbar-handle {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAASBAMAAACUbIJFAAAAG1BMVEUJAgJ1XCKNcTibgkmwmV6+sX3aypzy8vT06sbDyd/kAAAAKElEQVQI12NIAwKGJCWlAoakiHYHhqRGD/KJimYHhnQXFwEGBQYGBgB4dhfwKIryTQAAAABJRU5ErkJggg==)}\n#webamp .playlist-middle-right.winamp-active .playlist-scrollbar-handle {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAASBAMAAACUbIJFAAAAGFBMVEUgDABsURh1XCKNcTihhkuwmV7DrnXaypzxKekLAAAAKklEQVQI12MIDQ0NYAgUFCxgCHRLN2AITDQjnyhLMmAINzYWYFBgYGAAAIGKEsehmtv8AAAAAElFTkSuQmCC)}\n#webamp .playlist-bottom {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAmAgMAAABMq9iIAAAACVBMVEUnJz04OFh0dIo98+79AAAAGUlEQVQY02NYBQYNDKFg4DDiaHSAKzygAADHT1L3iexI4AAAAABJRU5ErkJggg==)}\n#webamp .playlist-bottom-left {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAH0AAAAmCAMAAADeF2QjAAABpFBMVEUODhYPDxgQERkREhsTFB4UFB8UFSAVFSIVFiEVFiIWFiEWFyMXFyQXGCQYGCUYGSYZGigaGykbGyobHCsbHCwcHCscHSwdHS0dHS4dHi0dHi4eHS4eHi8fHzAfHzIfIDEgHzIgITMhITQhIjQhIzYiITQiIjUjIzYjIzgjJDcjJDgkIzckIzgkJDckJDklJTolJjsmJTsmJjsmJjwnJz0nJz4nKD0nKD4oJz4oKD8pKUApKUEpKkEqKkEqKkIrKUIrKkMrK0QrLEMrLEQsK0QsLEUtLUYtLUgtLkctLkguLUcuLUguLkcuLkkvL0ovMEsvMEwvN00wL0swMEsxMEwxMU4xMk0xMk4yMU0yMU4yMk8zM1AzNFE0MlA0M1E0NFE1NFM1NVQ1NlQ2NVQ2NlU3NVY3N1Y3N1g3OFc3OFg4N1c4N1g4OFg4OFk5OFk5OVdGUF1OWG5XZHZbXGRfYGpjY3BlZnRnaHZoaHhpaXlpaXtqanlqanpra3xsbH1tbX9uboFwb4NxcYZzcohzc4p0dIp1dYx5gpaBkqWttMS/zdPt//+lzFndAAAFVklEQVRYw4WYPa4sSRGFvxOZvYQnYBc4gGoVSGgkVjBiLFgBDj5IYKGxsdBI7GDcksCADWCOhB4G5n39OjMORmZV/9zqnpRu3e4+lRkZJ34yIvWDL7/l33z5bTu//dyAAcTj0NEXzU8q26/zT7eviaf/6/jkdn77/JdzZhpQbEsIoRAqAUIKRIUoeUKgQkFBcVAGpHozo4JKotILkuQAogLRKoohvZ/fzudzpg2K8KBgVw5y58QCTE1AYRIghRLK1DyhYmppTWQQFCRvyzZIJBjSL347fzpn9majvOHZEFjI89uckS23/UnbewiYKlnQUDXOsXdDxtgxGZQ2mOCSPn+6ZMvU2JEZ8sZWU95JAhtUcUwXsW5MDfTsDUPrVGJQEwONkHGGW4DLWLRl+u1zNjflpqI9VhUkKXKoGoMEN06BUOJo4LBJ1AyleqOtdVOu+5JtBWFqZkd24M/nbL649w4bi1MXY4gQY5shD7OPDUCCUkKpBFSFSQjR6wmKEwyis5GPrRYUkhL0y1u7kC374JhbsyNICzx0n5hEB6BAODEUYERMDnMayBE9w1p4urJqJZDkevHb28X0bEK/+hEHw38A4Itj8BtA/OQY/CcGPhyD32VNv31K3DLgd98R79/Kj4D4zTMwwL94AiYU/fgJaNX0pwtJkvHVRtj9Fm0s//IpKPGzZ2DNwodnYK/R3DLBgX/I4TAInoPp56BfgcVxoXcPX+TZSI6o20a8wLZIPx6KpF+4zxeHGvJqby+wl1PDvvh+l+sK6/6YUH8AV2C9Jj+u8IYO7LoqsLJuKwy0mtSdCuvCunB9ANaVwGVdWIB12UQU7+C6AMutcu10xVbmimNV5NjSonfzrev7w/3K7rpMpdcDJpf1AcgbnxjYcoW9Hx5SbhKW5b3d407A0HA5qDw2dBvlZuIEbsRTmYcncec9K8t8ACj1DjwSvs/aZoperuK3V5YBy/UdScu+zeWAo2WCNwa+mvYRgWuoLjeTJ+6I7wmnecDvPn8wyouZzlfxnrHVSy/F+7WIV9L9Mtsc1awHCev7CTqW/irXaXdmE/mfmf3vx8SfgrJ4Dqafg7MAnJn2z0A6H8fQ/q/PQIf992dgVvHx6bJ3Pp+//coffWw+Tn/84hlI+G8/PQYF6F8fjsFU3WOKDL4elaSsvSmRrAgp4xsRBFKBKCiQ5gEn/qEgFIFUHCHECUQW4L//6wVBjP4gKllb7UWzCGeW9gnWNIqQtrNvFGZjsjvyrNhinP7GwSyxy8haLoYyw30m9FEByq3RTME38Z65p3ONatbGeJSypOdxppLjbROZGlVuJEYJtIgAKm3LNS6zWGZ0aKJGKfTbqiF2J3woq8mhhTDq4B4mnIiMQmxNlqGCqzMx6qdR8I+6uHvfQWaFFpciYvuRjJjHbM4CGDzshMpsbFTwrJJjK7hj+k2AkdqwZqvG3WEcnVJk7EwPOcSlmodMO8I/uNp7rtyHsMhhftc5qwMywtNs3mh0AxWlGJ6HwDGSTxvForeI+/1tutN97z07aUsabhh7dzt2qem7dfgqkUWuvQwN6hZYIvCNl8s1rnnaB/cDnv5uD4+56bGuDfY0ErsRZ68/j/A6zm4RvisfTa8Ap1+/uql494t4R0w83Fvo6LLi7kpD1rhcMH+axLC5obQ3bChcYpAbLnKERJSsQiGhiEF7FAJVZQVx6lWlR0GUaTmXabg6CYotzYutvBQSZnd8CNNzc7jR10cPPNNHzFAcrWYnEiFXTA3jgI61JaJUpQ8n1QG5erzxGa417ikcN6x4JImRl8sehwVBma+V1EzHgcMbqRbS/wFHTmME7id3UQAAAABJRU5ErkJggg==)}\n#webamp .playlist-bottom-right {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJYAAAAmCAMAAAARFZKlAAAByFBMVEUAAAAA+AAODhYPDxgQERkREhsTFB4UFB8UFSAVFSIVFiEVFiIWFiEWFyMXFyQXGCQYGCUYGCkYGSYZGigaGykbGyobHCsbHCwcHCscHSwdHS0dHS4dHi0dHi4eHS4eHi8fHzAfHzIfIDEgHzIgITMhITQhIjQhIzYiITQiIjUjIzYjIzgjJDcjJDgkIzckIzgkJDckJDklJTolJjsmJTsmJjsmJjwnJz0nJz4nKD0nKD4oJz4oKD8pKUApKUEpKkEqKUEqKkEqKkIrKkMrK0QrLEQsK0QsLEUtLUYtLUgtLkctLkguLUcuLUguLkkvL0ovMDkvMEsvN00wL0swMEsxMEwxMU4xMk0xMk4yMU0yMU4yMk8zMz0zM1AzNFE0MlA0M1E0NFE1NFM1NVQ1NlQ2NVQ2NkE2NlU3NVY3N1Y3N1g3OFc3OFg4N1c4N1g4OEY4OFg4OFk5OFk5OVc5OVo7PEtGUF1OWG5QUFlTU11WVmNXZHZbXGRfYGpjY3BlZnRnaHZoaHhpaXlqanlqanpra3xsbH1tbX9uboFwb4NxcYZzbFJzcohzc4p0c4p0dIp1dYx5gpaBkqWttMS/zdPsznrt///////YTLulAAAHJklEQVQYGbXBTaim91kH4Ov+P8/p4tD90ERFpaCouBGxCxX7QpmCOxHBj40LP1ra0JLUTbeCO+lON/YDk6B12RYyLl4REVyK0DpCa2tTJwxmVzokeZ///fN5zzkzySQjdjPXVZ/zRKkkqCDO2rW4EgRBCFoQxJV4gkIpiiq7O9x25Y5v+fgd31q/M1KjBz1c6yw6Qnd1S7AJSW2NWZs4iXQ6zIiT2GTXobOJLelKTKoXRtWSCxejailrKdfueMwoRtOGG6medm3UMlaFzZW2jMFQKhQZhcIsQhRlm1NMVUNk6GkmnZ455ZT0FlvEI7dve2RQbRjtoRKpGK3fMmOwCmHOJj0jCGnMiIGMKjIYI9pSEmel2yk9s9vyVmSLLeLGbW57aFQMu+FtS0kx+mKlus0e5Wwso7GsFFJDM0rZ1bCb1fRcsUnJwFRpp9mzu7et3zx1trZFXLltd9uNkdLDNN3oMZoouqfYlY4r01AmlZVK9QUdtLOwBGv1OlSoijKKTs3OW53K3ObszLZFgtuu3HZtLcJicWN0FlOlTmNbrNtooxHGpE1j0m1X68ayiWUTHVTYxlRZtkqlGq3SVdtSpwtd62b0mMa2KtzxmDWV+hcpN1KiMuMsztJUp0JvS3cqwhSTELZgNiJII5FPv5gKxoyusa11WoZt2dTFmL1uC8rj1krJP3uaqlG/86OeIF9a56LyUdfuuDJSUZ6qrmqfZXkv97OZiVdcuePasIunKaR+267fbWab2cwZr9jdcWMkJZ62+hFnRxyPR45Hx+ORmDNTZrzCHQ+tVVk8XaO9w+F4cDxwOB7spt2SudQr5ZGBHp6minc7HD20zTl7JjPikUGN9jQl3uNwdCPbzOxOZsRDg3R5mmp45Hh0dHQ8HtyYvZ0yuzsz4sYqlKcqHjrggIPdwVmnNhczS4+5VMqVtSKbpyloV44cjg6OHBwdcLrY1k29rxlzqbiy2o3PeVxK0BVnsWvX4lrsQgiCFkQqrsSuwnDtcORwPByOB8eDs5wW67b0djGNuVQPuzX4pe/1cNaDNloELU7VdBLCjCaxRTaJbDJFbElmJJ3obdnEFtO7HA/ODseD3WmobXhrnC6mMT/yzbYbRZUbA2PMEVVsA2U3lFIsdqe2rTU3VBPDrpEhGGUUMatUxWMOrh2OdunTNnvO7lNmf+QNGislc/EO1SVBd6nYZVQwh926LTa7+LoWYhPatEuIRiKffnG0h44eOTrYhS3CvDhdfPSNl+YiZVWouXioGbOUrG9V6YtTGI1gSbNuFaNV+tv+f+2hAw52Bw6u9NDJBeN08etv/PUf/OUk1h7DHLdeM265zy2vMRn9jP9+37O+W1s+aHeXn/H1ufzcv3X1Youz4Yf0vR9HvFenFrNXxm+8+YWPvUFSPcrs6svxgZ+4xK3Lyw98IEslz1y+/9lnL9//Y2s+eHn207j8xZ932U56/ppa/R+qvMdLmOl3I52ZTp/mb33/83/8xhebLVbK4NblaLvh0jPuiRtbMWjCuPxZrOpXx4f/gWhPEI8bzfjT38v9zXs1Zemsv/v633zi+y9+7C86NmvJMsvlcGO49MxrHlo3NwrjkrRfGcaH/17FDyGxqxdlihDRomsO1S1Z/P7rLz/3gy994s2UHnMkNYsH7Ub3gwf3Ejc279QPqPELutsvY3iCKu9UzkrPQYgrRYZu6fT8w1e/+MnX/+rj3/98J7MNNSrcf9DOuh88uHevPFIr3Y3QD77u7MGZXXuCxGPKLmrpKLFrpOghXVt/7NW/ff7VLz33+hf+qNuc1mg8cN8t3L/lvhrNvWf81/qs78zlP3/S7j+UB9+YeYDLYdfih1JhmM6iInaRSnWp9sm7X33h1S8///rLz/0gbep1kKVfG9y3e40xpHrcm07fft+oLd+ku/iGxL/iHxeb3lQvf0YIQROCuBJnTRIypko8NJpqfOruVz5z92svvPrl519/mTRrKovhoWFOS6VitOU0LmwhY9p1Zd1Sa1Con/qnsYWNbCLJ1B3pOmlbJTFaxa4rro1WulJNPnX3K5+5+9UX/v1rL7z6d8//+ep0MetDi5JCypUwR3WCOEuqM6Zddy9Odlsl5mghmYKZ2LUujUZCptgFcS3iRpyVKlX1Jy+N/xmLoohylmA1K3Zll66my9lYbM6KMlAo7xAGA4OgU87ibfFIXIlEErN7/c3yBLFLVOziSjuLa7ELQRCaEOJKPBLvkoonKDJl/a6yG942l1khPbZi03SHmGNq6Y44kcQmuiWb6E7MiK2czESnOt1jmokIqTk6tCR6NLGrZYylxiqjJIamXZvLXFJS/VY4xa6dzdEMelmZq+go17rsQgqdOZuiCmO0VJVSyGiEKkZLRJLZc6a3basPWZSUs1RQPbZlCuIsXbTYdWxBTBItgi0kLUREIxGJaBG7uBbiWrytVKn6X7ReQxYUKuw2AAAAAElFTkSuQmCC)}\n#webamp .playlist-visualizer {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEsAAAAmBAMAAAB+CntdAAAAIVBMVEUAAAAAAAwAABAACCEAa7UYGCkZGSMnJz04OFhjnPd0dIrCNSsmAAAAW0lEQVQ4y2NYRQxYwNBBDGgYDsrKiQELGIgCCxhYiQFEm8aiSpRpTMSZxkmcaYxEus2MmqaNum0Yuk1FU0VTRFPF0sQSOwZBovNCFXEFF1HZuYBYZQNSWhLnNgDqVFE4O/Zo0wAAAABJRU5ErkJggg==)}\n#webamp #playlist-window-shade {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAOAgMAAACnVF/TAAAADFBMVEUAAAAdHS0pKUBqano8VvpZAAAAHUlEQVQI12MIBQMHhv9gcIBhFRg0MFALwMyD2gMAcRoULw29bBMAAAAASUVORK5CYII=)}\n#webamp #playlist-window-shade .left {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAOAgMAAACnVF/TAAAADFBMVEUAAAAdHS0pKUBqano8VvpZAAAAIklEQVQI12MIBQMHhvr/IHCAoWoVCDQwVDFAAMU01DyoPQAU7xeZEgCs6QAAAABJRU5ErkJggg==)}\n#webamp #playlist-window-shade .right {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAOCAMAAABaWb9VAAAANlBMVEUAAAALDxYMDAwdHS0fEQopKUA0LhBGQh9ORDBQPx5YVjxnXEJqanpwTyxzk5p5ip6NcTiOkZBJ6prXAAAAbUlEQVQoz6XSORaAIAxFUQjyFTEO+9+sBI82ajT6KgpukYAL5txgLbhoLbjLfpFGkkMGESHfk2kXGEtiegbA0MiGUEm5GKnjxCCdCMJykDZxekdKqASc5idSZ6nk5SznjXnvtY2p7/Lh9e3fcgVRHAwq+Kdj5gAAAABJRU5ErkJggg==)}\n#webamp #playlist-window-shade.selected .right {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAOCAMAAABaWb9VAAAAM1BMVEUAAAAdHS0pKUA0LhBFQTtPSThYVjxnXEJqanpzk5p5ip6NcTiOkZCsrbewmV7O4tD///+ogWxMAAAAbElEQVQoz52SSQ7AIAgAsQjU3f+/tpIup9ZI58SBCSs4M7BbcbBZcfDKHyXeCV7RQBgRWb6VfkmeQilBHa7CUnmmnBJRGdCIUGqqgnNFJWqPwqknXlIGtFxFG/O5tUyLs0TrxuLsLj+ub3/LA63jB8yJpQTsAAAAAElFTkSuQmCC)}\n#webamp #playlist-add-menu.selected .bar {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAA2AgMAAAB/8csyAAAADFBMVEUvL0RGUF2BkqXt//98VqXeAAAAFklEQVQI12NgYTBhKGHYQmNYArSFBQBn5SMZFZ1KogAAAABJRU5ErkJggg==)}\n#webamp #playlist-add-menu .add-url {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAASBAMAAACtCzMeAAAAGFBMVEUvN01OWG5XZHZ5gpaBkqWttMS/zdPt//9STElyAAAAWElEQVQI14WOsQ2AMAwEv3LPKBYTABsgorTfxCtkfRyUOIiGq04v62Sk4EKugxPZOmVzpxAGKeoupInwcWD6e3eP+9FpTnppOvm3g6307cTPinSsHcW+BDd3RTueo3YTtwAAAABJRU5ErkJggg==)}\n#webamp #playlist-add-menu .hover .add-url {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAASBAMAAACtCzMeAAAAGFBMVEUAAAALDxYZICpXZHZneYZ5ip6Jmq2tvMRwzsuHAAAAV0lEQVQI14WOyQ2AMAwE9+MCEEkDdEAnGwmXACWQ9skFmx/zGq2skbEJLALBB8eOmF8S4n11zupOIxzW3Eg3Y3NAPu/Fv/tB77CU5OTfDtZSQpg6q/5/AGMtMU3PzLN0AAAAAElFTkSuQmCC)}\n#webamp #playlist-add-menu .add-dir {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAASBAMAAACtCzMeAAAAGFBMVEUvN01OWG5XZHZ5gpaBkqWttMS/zdPt//9STElyAAAAWUlEQVQI122OsQ2AMAwEv/qeUSwmADZARG6/iVdgfRrHScFVp5d1MlrxwN/BDY+kH/AQhQC7wYNSkOoGD2D6ulPzfnQsO2K6gtLifzuF4Uunfja0a08M51Z82fg51vPZ5kgAAAAASUVORK5CYII=)}\n#webamp #playlist-add-menu .hover .add-dir {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAASBAMAAACtCzMeAAAAGFBMVEUAAAALDxYZICpXZHZneYZ5ip6Jmq2tvMRwzsuHAAAAV0lEQVQI12NQQgAGQQRgEAmFghBDBtFyGAhkEC1Lg4BUEDs0gDWAIZSBFcxmDQgIZWUNALMZGBBsZHEgG64eCuDmBLBC2QFgLQg2NnGQehBbBMkcYYT7AQVAL9EsAFyYAAAAAElFTkSuQmCC)}\n#webamp #playlist-add-menu .add-file {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAASBAMAAACtCzMeAAAAGFBMVEUvN01OWG5XZHZ5gpaBkqWttMS/zdPt//9STElyAAAAXklEQVQI12WOsQ2AMAwEv3LPKBYTABsgorTfxCuwPpZJDIJzc3q9LaMkB+o52FGt0xZ3CmGQpu5CmgjDgcffuXv2xx13wseIcPOW8c4lXH65xQa+d/JnRdnmjmKdkguiDDkEOAftpAAAAABJRU5ErkJggg==)}\n#webamp #playlist-add-menu .hover .add-file {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAASBAMAAACtCzMeAAAAGFBMVEUAAAALDxYZICpXZHZneYZ5ip6Jmq2tvMRwzsuHAAAAXUlEQVQI12WOwQ2AMAwD/ckAiHYBNmATI+ERYARYnzQttBKXz8lyomDpYOogqbGvyPfLhnydlaO4aIRg4UbKjOFA9zF3//qN4oSPiHB5S6y5hdsvV2x4Pw135v7/A+euLyJ1PQpNAAAAAElFTkSuQmCC)}\n#webamp #playlist-remove-menu.selected .bar {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAABIAgMAAABO2aeDAAAADFBMVEUvL0RGUF2BkqXt//98VqXeAAAAFklEQVQI12NgYTBhKGHYMghgCdAlLABvUy/BqCAQTQAAAABJRU5ErkJggg==)}\n#webamp #playlist-remove-menu .remove-all {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAASBAMAAACtCzMeAAAAGFBMVEUvN01OWG5XZHZ5gpaBkqWttMS/zdPt//9STElyAAAAWklEQVQI13WOMQqAQBADp0rvUw5foP5AlG23MV/w+xbenSI41RBCCHtnI87GSrhyTIQxknUUwpJM3o4xPLnU/Om3nULYSmf1zJfzk2eS+LvTPxf2ZawU5qFzAa7rOIxN5zmHAAAAAElFTkSuQmCC)}\n#webamp #playlist-remove-menu .hover .remove-all {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAASBAMAAACtCzMeAAAAGFBMVEUAAAALDxYZICpXZHZneYZ5ip6Jmq2tvMRwzsuHAAAAWElEQVQI13WO0QmAMAxE7ycDiO0CbuAmJ3gj6Ai6vtGmpD8+CDwuIRyWBFOComBfUe/OhnqdjeN1QTCTfW5uoPVcQOY+4XkfNDeK4eTg+MnpG7iX4c+c/R8m4y6+oJDkfgAAAABJRU5ErkJggg==)}\n#webamp #playlist-remove-menu .crop {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAASBAMAAACtCzMeAAAAGFBMVEUvN01OWG5XZHZ5gpaBkqWttMS/zdPt//9STElyAAAAR0lEQVQI12MIhYMQhvByGAhiCE+DglRHJLYhHjZDAlsCEIPYCWkJYABlswGZyOIw9QlA9fjNxMGGu9mQIdTZGAoMGZwE4QAAjAZBLD2pp6oAAAAASUVORK5CYII=)}\n#webamp #playlist-remove-menu .hover .crop {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAASBAMAAACtCzMeAAAAGFBMVEUAAAALDxYZICpXZHZneYZ5ip6Jmq2tvMRwzsuHAAAASElEQVQI12NQQgAGQQRgEAmFghBDBtFyGAhkEC1Lg4BUEBumCC+bIYA1AIhB7IDQADCAslmBTGRxmPoAoPpQ4swXQWILI9wPAIC4Ne4ZKh5qAAAAAElFTkSuQmCC)}\n#webamp #playlist-remove-menu .remove-selected {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAASBAMAAACtCzMeAAAAGFBMVEUvN01OWG5XZHZ5gpaBkqWttMS/zdPt//9STElyAAAAXUlEQVQI112OvQnDUBgDr1KfUR6ZIMkGxuZr1VgreP0Ufj/gqw4hhDgmO3UNNiqd80OFIEVnoyIp+HZCYOXS8NUfO41KMO7uOMMja7pXbhmT58783Dh+707j+5r8AVpzN34SgZTJAAAAAElFTkSuQmCC)}\n#webamp #playlist-remove-menu .hover .remove-selected {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAASBAMAAACtCzMeAAAAGFBMVEUAAAALDxYZICpXZHZneYZ5ip6Jmq2tvMRwzsuHAAAAWklEQVQI102O0QmAMAwF388bQGwXcAM3iWBG0BF0fWOb+rxSOI40FIvAJFA82VfUe7ChXmfneN3hIJ3NGQbj6A6ox03XfNIdBku3drLT+LmpR40X4eW3Z9b/H/ZpLd3ACl8TAAAAAElFTkSuQmCC)}\n#webamp #playlist-remove-menu .remove-misc {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAASBAMAAACtCzMeAAAAGFBMVEUvN01OWG5XZHZ5gpaBkqWttMS/zdPt//9STElyAAAAYUlEQVQI102Ouw0CQRQDJ3JOKSsqADpAd3qpk3ULtE+wn7uJLGtkmXNzUL/Fl8qkv6gQpKg3KpKCRyYErl5a+fLXTqMcO4TeKIs4Hj04mtl27O1bw7/v7M+N8/OcNN6PzR8ABzaO5fDK/gAAAABJRU5ErkJggg==)}\n#webamp #playlist-remove-menu .hover .remove-misc {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAASBAMAAACtCzMeAAAAGFBMVEUAAAALDxYZICpXZHZneYZ5ip6Jmq2tvMRwzsuHAAAAXklEQVQI102O7QmAMAxE788NILYLuIGbRPBG0BF0fZN+EB8UXo9LCLYES4KiwbmjvpMD9bk7V7ggkGJzusE4cwGZ+xue/UG4ySwmmhPyf88BE4c7UZt9Y/TLb8+a93++ly0VHemPIgAAAABJRU5ErkJggg==)}\n#webamp #playlist-selection-menu.selected .bar {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAA2AgMAAAB/8csyAAAADFBMVEUvL0RGUF2BkqXt//98VqXeAAAAFklEQVQI12NgYTBhKGHYQmNYArSFBQBn5SMZFZ1KogAAAABJRU5ErkJggg==)}\n#webamp #playlist-selection-menu .invert-selection {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAASBAMAAACtCzMeAAAAGFBMVEUvN01OWG5XZHZ5gpaBkqWttMS/zdPt//9STElyAAAAXUlEQVQI113OsQ3DQAwEwY0udymEK7DdgSCBKZO/FtS+k39K0EYDgiDI0e3kudpIz8aHNFKVNYJ0mbu5LIxHzP3ldSdIu4Q0LcvLZdrWNccIPe/0z8Hxe8+C76v7A5OQN+oVjwHMAAAAAElFTkSuQmCC)}\n#webamp #playlist-selection-menu .hover .invert-selection {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAASBAMAAACtCzMeAAAAGFBMVEUAAAALDxYZICpXZHZneYZ5ip6Jmq2tvMRwzsuHAAAAXUlEQVQI103OwQ2AMAxDUV88AIIswAZs4kh4BBihrM+BhvafnqooKfYRlhE2984D8VSJaPfXlYgmyKSciGaKkzFZFP3Pd9eBRDSLgrppuSyLZXO8w4LgxDbtWcf/X0qvMI9I7cp+AAAAAElFTkSuQmCC)}\n#webamp #playlist-selection-menu .select-zero {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAASBAMAAACtCzMeAAAAGFBMVEUvN01OWG5XZHZ5gpaBkqWttMS/zdPt//9STElyAAAAYElEQVQI102OwQ2AMAwD/cqfUSomADZAVHz9oSuwPm4aAtfPyXKtoCYHzvtlx9mCa+kOgvIip7/hzWjp/HKl+hF57Mh7SGs2OqoL9z5jw30+cu8z+r+dvLmgbnNQsE7JAyOvPXLeVffRAAAAAElFTkSuQmCC)}\n#webamp #playlist-selection-menu .hover .select-zero {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAASBAMAAACtCzMeAAAAGFBMVEUAAAALDxYZICpXZHZneYZ5ip6Jmq2tvMRwzsuHAAAAX0lEQVQI102Oyw2AMAxDc8kAiHYBNmATI+ERYARYn3wK4fXyZLlWZClkKqRxsK/S75dN+nUmhzspEJDhiJdOhX6Oyi21HyNP3D2EUrNjdSPcZzQ95kcefXi//Xbmuv8BohAy09WnmqwAAAAASUVORK5CYII=)}\n#webamp #playlist-selection-menu .select-all {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAASBAMAAACtCzMeAAAAGFBMVEUvN01OWG5XZHZ5gpaBkqWttMS/zdPt//9STElyAAAAUklEQVQI12MIhYMQhvByGAhiCE+DglRHEJshgSEByDYEshPAEMJOY0tgg7MTEOJAUaAOqDjUHKh6hBpk9Qw4xBOwmgN3syFDqLMxFBgyOAnCAQD0WT/cwFbKdgAAAABJRU5ErkJggg==)}\n#webamp #playlist-selection-menu .hover .select-all {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAASBAMAAACtCzMeAAAAGFBMVEUAAAALDxYZICpXZHZneYZ5ip6Jmq2tvMRwzsuHAAAAVElEQVQI12NQQgAGQQRgEAmFghBDBtFyGAhkEC1Lg4BUEDs0lCGAISA0FMwOAEMIO5Q1gBXODkCIA0WBOqDiEABTj1CDrJ4Bh3gA1BwRJHOEEe4HAB23NNar7KHYAAAAAElFTkSuQmCC)}\n#webamp #playlist-close-button.winamp-active {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJBAMAAAASvxsjAAAAD1BMVEU0MCxnXEKGd02ukmX///8tdlhEAAAAKElEQVQI12MwBgIDBkMBBkEgySjIaMBgIKAgACSFnARgbIg4RA1YPQCfwgXpyvsxsgAAAABJRU5ErkJggg==)}\n#webamp #playlist-window #playlist-shade-button.winamp-active {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJBAMAAAASvxsjAAAAFVBMVEVFQTtPSThYVjxnXEKukmW0r4e+sX1mGpZYAAAANklEQVQI12NwAQIHBpe0tBQHBrfUtDAHBmdjY2MHBidjYyMgqWys5MDgqKSkCFQjKCACJEHqAT9eCss1JzHfAAAAAElFTkSuQmCC)}\n#webamp #playlist-window-shade #playlist-shade-button.winamp-active {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJBAMAAAASvxsjAAAAFVBMVEVFQTtPSThYVjyukmW0r4e+sX3BsGNteY1yAAAAMUlEQVQI12MwBgIDBmMBAWEDBkORkEADBiPV0CAgmQom09KUgOJpaYogNYLMQBKkHgD8fwlqtoGUgQAAAABJRU5ErkJggg==)}\n#webamp #playlist-misc-menu.selected .bar {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAA2AgMAAAB/8csyAAAADFBMVEUvL0RGUF2BkqXt//98VqXeAAAAFklEQVQI12NgYTBhKGHYQmNYArSFBQBn5SMZFZ1KogAAAABJRU5ErkJggg==)}\n#webamp #playlist-misc-menu .misc-options {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAASBAMAAACtCzMeAAAAGFBMVEUvN01OWG5XZHZ5gpaBkqWttMS/zdPt//9STElyAAAAYElEQVQI112OsQ0CQQwEN9qcUiwqADpAvJxOctsC7RPgPyEmmmA9so7NS/0+eaozrJuaQBStUmOFkFVqJOJxIIwH8He/O6VGmLMDv7eO4/HEYfaJ8X9n/1w6HtehdL9sPlWoO+DkW3+GAAAAAElFTkSuQmCC)}\n#webamp #playlist-misc-menu .hover .misc-options {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAASBAMAAACtCzMeAAAAGFBMVEUAAAALDxYZICpXZHZneYZ5ip6Jmq2tvMRwzsuHAAAAYElEQVQI102O2xGAIAwE7ycFOEIDdmAn54xXgpag7Rsembj8LMwSwJZgSVA0OXfUNzhQn3twNadIQehukO/VHaBsutOy6GmjjwdGT2PMaX3eNfmaLnfO3p1+Xn5z1vz/BxcjMYQLzDa1AAAAAElFTkSuQmCC)}\n#webamp #playlist-misc-menu .file-info {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAASBAMAAACtCzMeAAAAGFBMVEUvN01OWG5XZHZ5gpaBkqWttMS/zdPt//9STElyAAAAX0lEQVQI12WOsQ2AMAwEv/qeUSwmADZARGndxCuwPomJTcGlOb0+L6MkF+odnKg2aRuqoj9TNOluxu7mTnf+cvMf3s+d4WOG4JtTSVo4iHSN3PvR+XbyZkE51olgX5IHU8k5In6uSFkAAAAASUVORK5CYII=)}\n#webamp #playlist-misc-menu .hover .file-info {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAASBAMAAACtCzMeAAAAGFBMVEUAAAALDxYZICpXZHZneYZ5ip6Jmq2tvMRwzsuHAAAAXUlEQVQI12WOyw2AMAxDffEAiHYBNmCTIJERYAS6Pq1LKBIvlycrPywDTAMkf9hX5BJsyNfZOZobarlB7s7qLqecv9w1of44IG9rCPacRtLDQbxukau/efrsmcf/N3ldLzugWMN5AAAAAElFTkSuQmCC)}\n#webamp #playlist-misc-menu .sort-list {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAASBAMAAACtCzMeAAAAGFBMVEUvN01OWG5XZHZ5gpaBkqWttMS/zdPt//9STElyAAAAXklEQVQI102OsQ2AQAwDXaVnlIgJgA0Qr7Ru3iuwPgVJ4Corsk/BaC7EXZwIJXNDCASNmI6gSFI2HSEjaZn53WlEd8rzbiGUR0ZlXzLZL5cHRPt/nv7ZMY41cexL8wCXGToqpM1dFQAAAABJRU5ErkJggg==)}\n#webamp #playlist-misc-menu .hover .sort-list {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAASBAMAAACtCzMeAAAAGFBMVEUAAAALDxYZICpXZHZneYZ5ip6Jmq2tvMRwzsuHAAAAXUlEQVQI102O0Q2AMAhE74cBjO0CbuAmZyIj6Ai6vtBS6fvpCzmOYkuwJCganDvqOzhQn7tzuSsICuFOpaHS5mIq4cy5Z/9MELvwru62rZG3V2Xy0dPuupepZ83/f5v5MBfSedE0AAAAAElFTkSuQmCC)}\n#webamp #playlist-list-menu.selected .bar {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAA2AgMAAAB/8csyAAAADFBMVEUvL0RGUF2BkqXt//98VqXeAAAAFklEQVQI12NgYTBhKGHYQmNYArSFBQBn5SMZFZ1KogAAAABJRU5ErkJggg==)}\n#webamp #playlist-list-menu .new-list {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAASBAMAAACtCzMeAAAAGFBMVEUvN01OWG5XZHZ5gpaBkqWttMS/zdPt//9STElyAAAAYElEQVQI123OsQ2DQBBE0R9NTiknKgB3YIE2nYRpgfYd3PlEwI9esBot5+yg7n9fKqNroxwhRVejLClSNyLQbSm4+3E/dxrlmGC6I2dsJooe9jDGLzvz58b5WUeNfZn9AKbQNSZ12uygAAAAAElFTkSuQmCC)}\n#webamp #playlist-list-menu .hover .new-list {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAASBAMAAACtCzMeAAAAGFBMVEUAAAALDxYZICpXZHZneYZ5ip6Jmq2tvMRwzsuHAAAAXklEQVQI112O0QmAMAxE7+cGENsF3MBNIngj6Ai6vk3T0uKDwCM5kmAbYBkgqXHuyG/nQH7u4HI3EaRYnW4MByEgvAwE4z/fD0TfSt4QLnp1Fye35iVrtZ+mPev4/wORlyvp1GfF2gAAAABJRU5ErkJggg==)}\n#webamp #playlist-list-menu .load-list {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAASBAMAAACtCzMeAAAAGFBMVEUvN01OWG5XZHZ5gpaBkqWttMS/zdPt//9STElyAAAAWklEQVQI12MIhYMQhvByGAhiCE+DglRHhvCEtAQGIGRLNQSzwQDOZkBiw8RBqhMg6uHmQNQwpAHlIOw0NhCGsUEQzk6AssG2pmGYA3ezIUOoszEUGDI4CcIBAJZqO86fMyFaAAAAAElFTkSuQmCC)}\n#webamp #playlist-list-menu .hover .load-list {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAASBAMAAACtCzMeAAAAGFBMVEUAAAALDxYZICpXZHZneYZ5ip6Jmq2tvMRwzsuHAAAAV0lEQVQI12NQQgAGQQRgEAmFghBDBtFyGAhkEC1Lg4BUEDsgNIABCFmhbDCAsxmQ2DBxkOoAiHqYBTBzQoFyEHYoKwjD2CAIZwdA2WBbQWwRJHOEEe4HAE6RMXWXqbP6AAAAAElFTkSuQmCC)}\n#webamp #playlist-list-menu .save-list {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAASBAMAAACtCzMeAAAAGFBMVEUvN01OWG5XZHZ5gpaBkqWttMS/zdPt//9STElyAAAAYklEQVQI102OuQ3EQAwDGSl3KYIrsK+Dwy2UTrJswe1fsA880YCgCKltfqpn8VV50i+VhQD1VGEA3FPlQED0VBlAIyfAMfp7Z9zKWjsO7FjueDnThZj5e2f/nGqfc5K6j80fAQw6zDOWMCAAAAAASUVORK5CYII=)}\n#webamp #playlist-list-menu .hover .save-list {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAASBAMAAACtCzMeAAAAGFBMVEUAAAALDxYZICpXZHZneYZ5ip6Jmq2tvMRwzsuHAAAAYElEQVQI102O0Q2AIAxE76cDGHEBN3CTM7Ej6Ai6vlwL4iMkL5ejBesA0wDFG8eG5ensWO4rOeUOgiTkdAqP3CK3cKXInFYLlv2+oL2FZqXXRr3ddT5nc+2NvPzmzOP/L+cIMJ5Oo2aQAAAAAElFTkSuQmCC)}\n#webamp #equalizer-window:not(.shade) {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAARMAAAB0CAMAAACR8SbcAAAByFBMVEUNDRQPDxYQEBgRERoRERsREhsSEhsSEh0TEx4TFB0UEx4UFB8VFSEWFiIXFyQXGCQYGCUYGCYZGScZGigaGScaGigbGyobHCsbHCwcGyscGywcHCscHCwdHS0dHS4dHi0dHi4eHS0eHS4eHi0eHi8fHzAfIDEgHzEgIDIhITQhITUhIjQhIjYiITQiITYiIjUjIzYjIzgjJDcjJDgkIzckIzgkJDckJDklJTklJTolJTwlJjklJjslJjwmJTsmJTwmJjsnJz0nJz4nKD4oJz4oKD0oKD8pKT8pKUApKUIpKkEpKkIqKUEqKUIqKkEqKkMrK0QrLEMrLEQsK0MsK0QsLEMsLEUtLUYtLUgtLkctLkguLUcuLUguLkcuLkgvL0ovL0swL0owMEsxMU0xMU4xMk0xMk4yMU0yMU4yMk0yMk8yMlAzM1AzM1IzNFE0M1E0NFE0NFM1NVQ1NVY1NlM1NlQ2NVM2NVQ2NlM2NlQ2NlU3N1Y3N1c3N1g3OFc3OFg4N1c4N1g4OFc4OFg4OFk4OFo5OFk5OVk5OVpcXGRgX2pkZHFoaHhsbH5vb4JxcYZzc4hzc4p0c4p0dIt1dYzUqAzU1NnX192pRLExAAAnOklEQVQYGQTBP8+20ZoX5ON3rrXu+5m992QGDcRCDbEwRk0oJCEUJnZ8AkJDSIgyBXEKvgEJjXYUU4z/YkOHH0ALC8sJlSFSQGECGQviVicO2e/73Os6T44jAAIIEAgVhOoFMhEgFIJQQSy6KgJhVyYKhLC7ylBkCQXKufPuaoWBAiJCb00BgK5mptqI0aWB4O72oUEb3K4W7e5roNMYbhuM+K8BAAACAAAEAAAEAAACACAAQAAAAQSQCTIRkxEmAAAmk4FhMsBkYACAAQADAJgM/v7m78bUhEAgJBTVlcAh4ShRgpCdWbOlZOptikVRXqPYj11hs4SaImQ9tSkLekNO2/cgBGtSxeoKYQIwwQTuyoXhqe/1mIxh+LnxofGM0fph6LTJ3F4+3Opn3zaXnmK6ZxAkEBIydMUgl1CAGcFGzR5ErQu6ETratl9lZluLYYYMuYrMPFRtOD6PHBIJtWUXefAwEzNAAA+rx1q1UFPPnhkgzr2fD93xMNq0GUZjJISWfduAW6AEmCHIDIEhrCoZVTQkwA4keqJqikwVsafZHkj05wIFrLMxsZLGcbwBGKqyd7spZZZhngTAyMzyTI1HnvA85Soj3B8/P3tDZSxD9TOCGSb3s8od9n20dne3XZRKMBCZoKJQCjyKmKsqjDGhktk8VOgEs4rCitdjF6BIGCJyQURPw7m3gQyh09/KnieShGQNACF5rJqsus/M/ZkzW8gM+8v+OAfxPEN3B4wis+v7fia6uQwfdNFAIgkTaGaiCyydhDmEykTstM7dz65K2Jm2aDV717zcFYBZGwBGowZ64/Phc9bBRJBxEFvTT4IAgFYzw5OM3u+6c80YuD/Ojc/HNEtgNfRkGGqJ6bKGKOgukiDDDIJMSVAID4M6XYYREGRbaeMso3SUDu279tPAyyaoFRB1y4RnFYh9+iDB2NIDrBpVnpkBAGqS4VkzaHnaZATO+eyBxNMz9AWqZgwu6JsHqkWrIgaQAJmCqAScs0FvokzE7qqJ65nq+NTQFNAPm2oSUsA0MLwQa3XBsW8fYIiu2d2U50k9nVmSAYBhJuLpuLd9vzbDYH5+9vVBz2jTaj8YGtwuBm11cy+KwjCEAQgGDfi0sFXLkDBuYeznUKGSKtNUka0uXczePQQlgpQmrNHNcTd+AAXTT+0SiqkIDABE6Dxm2K9tdQ/Afbnb4Y6WqNtPMUzGxA5o9agX27RuhSIggBlkCAnrFNylTIoQ+5bUrvOAtxkqVYGiWbslPKsNOgyptbdk1sMuPmfjOcBE7fK6LXrHI0EoAGaQTK+VzHXne3QwUNd2PpSxpinzAAjdLnSv29/TerRSgAyBkCoSqhg0RGjBCOyebJ+uUqBo3WPvitdrP6Ogz60ESYR5aCPPSuB83OurQFDz7N5lZp6xhAEAA2aImUl5UusSwU+fvXw+SHEHADPNjBuGW+4mbgmPDb8BZAICoUQmSiYEAUJCECoIFipBeN1NFITAphhq3x13Fyg4FAZUK5CMotqkoAvo6uqZ3Z0xoKshk6v66Wqga3yGJszTDAba4JthzN/5nykEQAAiGGqkugWDAYEGYAio7hjM+N4EQAZaMar23dG7QOGcbg1QCoiJ7nlYBQpAdcXTlYyABhNVVae6AP10NkAKAA39zQAezwb+KwBAAABAAACAAABAAACZAIAAgExARgAZxQiZmAAATGBgZJgMMGAAAAMAAwAw8PfJrE0Gf49AJhSFCsERQV6kZELUZl7qKVWnCGJT26x5MVUZ2X0QVhchu5CwpoTj7nm+IGSy9dEV60Yp8+wJEwBm8iye5Zm7PdXXpDOZyc/92Xegp3XMrQ9GZwbzfdodt62rH3pmGE8xAYBQZDADzgW1d4s2JGxSMmWVT4OlxL7WuJ6+RjZaMGnIuppYTAIftw5kZOKm+iczT0oZtiAATCo7UfOMY9b3NSaMqM++g+7ElFE3gcpg7L7o2kAVpqEIAELSTFRVgI1RqQqRgAHzVIVTM01XSV26/rOtapPNX1SBSfmPmd5d0v78sgZu9r/bBWLyZ1epuxbW7zB04FcGwK/C7Sbtd32+88lLAjw/uBtSwxhuzcA8GPOUS5t1d/e+tyOgGCCADGqAcBqJ0UzFCLUjtiwZdJRUgZJ2FbiaDCrAmcYUzIMzxvk5xEBPpvYk65H1VDIDAjDGrE4/j9F7XfNtAPfrATzySNMbhgCZ3tgXl0taQBGQAbSKCT2gS4JSJkNQLnIresapUoxm2INNldgwQQPuLhQiG5/UY76CiQyvadAl3BYzABCRZz0xK1Oms8mY4VM/Dx/cagzq8zB4MPS6d8YFajM8aAUwQYgiUBH0ZcZqEkRGddFr96cqpa40S5G9rSrPc0tsNhkkhNe4ZMLMAHUEmSCZvrWxJDe1a3QCAHB3PHIHe/U1A5xdbcMaQ6X7BpiF+I6NLmjThkZTIUhgGEyiBKiSJEVGZZigpKjdOF2j6KFwp7dFm2HChALyfbzKmKUnkH2ByQTzurvuNQ9TirIAMJjhsmpi+CSFgImASXmme8oMQ3sw5MLtBXEBRGEwgwQlGSuRrLVUxTg20WOE3qX3dVXiUwWrAKWuZ++SUA10NcxqqKyRHccx+wOoYbtVd5/sKgo0AIRJeu1xk0n0pJv0BD9/PHc7pMcS2EAGdD0bdg2tMYyHUQABBFlFtrWqTgJNDZUK7GcUFjiGXo8FKva2G8JzBUUlqNaKJ2b4HHtyIBA367Fj7hOZ6R4AYMiozNh3zPTz+hSZGHyxPx8Qj+HezzYwGJ2+l763fdNX66ct2AgATKqEqMqEGNnRBSZh3yP77qhwulSXVZIdz/ZgE8NBEGDfTVgPG1xOYGJg7pth3yfj2UZhAGLE0J4MOt/qiUnGZNbjfD48GTJU+ci0wWSk6gPWlU8AEEUAoKpqRl7nlWQlxXulrqJKgjK0F0x8turyDLXD167NxeyNRJIpgbtVzcyzRoO9V/+EkCiZuYSsSpYOCACBwcINa25MIO6zwR3uDN/Xx0hVEKofh8tlTqOJBzYThCCKyqriFDJd1+t7I10mUV2buptKJqYaC1MG+cv8pwDiLwDgPyIAfx4I/DkBMvNnJRMwv5oA+BUAfilmwsz8G/6fajD4wQesplq85zsy08SgyiP2tb919qXaIGYTwIRJV3Jynlck6OWMF2AKXQVMTGKlFXqdMkXyR/7SH8VmCX/hf18E4j/8J7tia/x7/xzn8/oc68/9S5QJ+8/83y/sZ02e3/0Tlek14Vd/Chh++0+nZnrI/M6vRxsjzPeqTwZdoeqma17tQ+ma6Ax1qdf3rdGtdQ/csgGAUoup9UqwfZaOR0bUlLBN0tmquibvllhPrRgvzwJsFYFFsNaUV2LfvQIyzsfnQIx4fS7EUxolUgJAJxMxo5481VqMGOT9szMZ6lYXUa3z2HfUoxp8ZLrWZX1ryuOhygYgUEveZ1XtJYv1dGZWC2QycWvzunp1JbpMCLvmFS+xSSqfgzCJTEKroZecD8fNTd6IAj5TXnfP6l4UQUYAlMFMVx5ThtfPYRh4m/w4PraMB1Hsi6k8iHn5OdWpzmdfeWYANgAo5H3WeueVenf9Zn1Pf6iZar0IO58zd/eewioDWzqvZ9/XAae+6whKeT3P6smIqIjP+aA6E1CA0W5Jm2cJIEyAicwzUk1Gr5lvMSNpGM/mfAhLt8lTl0x6Kj1wX33re3WXMfXU0/iwAYBaWWet97vetar7F1P95BtpZWLi7jNiDYnqUqqrtqJ+SQrlPbAy7M/esLDypCDJcwgESKW+k82w+hEmQAAxsUyv9Ri6ZJBMOow8NfMNM/XUrEwXmaEyI/XERjz7+xn0NDgfG0CosPZa79cv8soh3535Id+TKSaE3VVZJgVFMTtE3ixBYqJ6mchaEpNhzOZwufs6BHa5+9Oe9/dAJtazTHR1AWAiYj2zn3Am1QwRZCz5cT5Ietm6sd31mJEaazqWz+v7vvIZJtPAbMhgQlbWWtm/rNdZL5zvevzm7rkmU0CVLrm7a7K6ZkpJrZ3yFlKjNBNyvCKYhIijpmZ7ZQ0m0Pfk5Xt7BZFZ1tVZpQCgy0OrfkDsb5gMk4HHBVPu7llPNR4yMTFZ0+p89v3OmpFW8GEjEyLBqpNf/qJ+sd97ZXrW6189v+Xn7GsyCdvnJGp2ZeqIIrLf388rL7EQ6aVVnErC8pxnxQ58nxxCCMI9NfGiBdZMsmzMJACjZM9YAMNrvskQA8q+g7BV3dOq9x3CuWIi34s1091mGIPeGIRJrexXvdf6xXu/s/CsH7/0/Vv9QQTuPtBpq9TddKm462UnK0BKFpbYmaTPZCKcu74gACJrEWRWoPQyQAJARjqypgGC90/7jpGMka8fjg/AxlDrM07n3H1Zz/umurV6GjBqI2GigKqv93t/rZzqm/v1492fNe65w0SVid2r1nj9fE+pVSzbWVlxqvknArHl/6yEks0/51wH/MsMIZz/975AJv6E9eTxVPlTAPwpCCb//wPA/8eovjJhMvj59bkbxyebT07fqpZt8/Lqj8y67uvH67tVMzBdBAJyXuv1Oq/1tfZvvV/vr/fO1/vrfGUfkrD/9u9N/a2/ZTF/I3/tDVrZqUxWznvVXvVKNvaraq3XOefgQK4vSVIzCRO4L0lkAp71rL0LAAAeup7UgrXK5rvYCCLF+2M751xxrxN2qderKlWnUifFjru+Xa0nQ6IYgFoqdb5Wfa3X69SrznnvnFR2PJjfr/sHMv/9f/c3RwWtms2+2z6xq/Zau/LazzmnzCruzSTn45zwJZGoEDW85iWsDLDMCtAwAFjumnU9xSKeeN2nC2xBOOfee6/7fn993RxFoZK1a5+qlaRmb3uAixmbAEFWfh/+KPucu646PfNXwH9z2+/7239Y4r8g/gbHX/M/kS75KxD/OKvA4z8B/qncd6z9078P/AsEMv828MdvqGfN828Cv96A8jvAnwCo3wV+XTyruh7/FvDHuTlux/w7wD87wZcf5/MfAP/HKmLZz18a/K9z7YuujDEbwESO+sNf/vZv/3K/99nblx+1P/nf7r/6+Zuf2bf+4L/8wy4T/0OFf/DXP/7hX1Wysut/eeedVe8Tx6dG/WMix5kD+Xr+GW+RCdZD/hh4E+Kxfw2VDcCfAADUr1VjobTm/2Kw7+nc2Vf+hfn5/mkt4P3TP53LZJXjo3LPP3rm5zxkdCUGnQJQVZx6fb1WUq8ria+z3uv9VPJG+4Ou3/N7/Od/E38df5U26GNn5bVzcm9k75Bs5x5JwnojTMnrvdebAm+Cx6pnQQIAAAD2slgZk7HwUnh3quzXI8j7p68jEfI+skxWnHuTE5XYQke1ew1sgJCElZx19v1KSE8leT/76zf7e82k93+bfv2PU+ofcP6hUfactWWIuF/8yP70fljhCzEx+foRRF7Y/f7uat4E6/GsZV8VAAAAQOapmBrPWo+M18PrMy+F10/w8yyQMD8xS8TNKz+uajWsu78fap63wWyAoE69ar+Wylfy5mdOOhSvp0x10wWl63RNtaib52XLrpyLr89Vz6KcuyVk4AtigbLTB7BYac+aPQEAAABQxYxnh/XAWj7rAs4nw5dnIWR8/WCNKfHm68fR59v6XEU9c9dPpVsBjMqq5F0rOUfeeMet13rnRb1musqU24X41FB2bOwstdwvOGLFIBIhAkQtBPVxIQCzEAAAAACMkTEJBLQXgnoJLBIIDvOU44v4uhZuVrXCpocoQA0ke16cuiEJeUu8Kkkn9amEvaZSOadSTc9WlVDlHEniC6nl3DfsNwESIRG81kZYMBUCAAAAAEPIjmERPKcQwTcBgRDvS23HFwEq9izKo/uRoVWA2ckKqTmrfDngnZzIya48hhp7S3oGKEvULsUoKxI4wFuSd3mTBNgCwb3ASJLBAAAAAEBiwoxkMBiAEAYI71dEHPhcIvE+gQO2apMZoxAQjtdar6WOVBDcdWLjtUuRe5+pClUGT3HUlryWS0i4B+dGFLwhSQAIe4MKSMgAAAAAYDAiiCX61kUgXhIIFgjgQEhuWHE9+mo8ZCmApqxJPQkAUFXyWgfKsDcm5xrUCd8PQiyALzgWbEBgvAUAhAgQMgAAAAAGGBjzoPQLAAGG2rzgfXEuCYGKueVMcx+Dpgik5KFOvWRdWGvxzpusKlI7hR3EeAa6J1UiUc5JBHC4JQABAiwAAQAZAQAAABBkBKILegPAAInAGxyHLwBs2RgB6KsALLvyWjt2yQmIRImpRfZW6oGkVhSror2UmFy8X2/h697jLLxJeG0kNtQsJQiWAEwAAAAAIGOSCViBFwRgEQk2kMQ9HwjEG6hNjX0GNsUQWImrpHwpAM4iLzLthluYnLsHHtnRYk4AjoALCLgSPJDQJAwACAAAAABmBgQwAGARW2QGAOPNuQRvfFsogG+Mb4ow1JB9zC6EJRYQ+ynvKltqpxY+m8KCXQgIlLDcUwQIG3iJhbUwmQCAAQAAAEAwAKIBALgGoRA2uNcxBHkfRdwPRgaYgoRUJU/W61EHRMBl2Zsabdxr1DoUFrtespVaDgE4yyeiAB5QAB5EAIAAAAAAQDAGAAAsUDKIEER8wxJe3jDisY9uJS02hYxs8Ep5BQCIvKxbazrsXdmUKtNtBTweAx9eEOF8fcEIxAtsAAsAAAAAAADAxIQBMEAAFJmgIApvgAMYPO5TJdfDuBQm9MPO8OACIFawqaqnGRhtStFVhjkpyfkK8AIDNoB3yhkgAFgCwAAAAAAgpkkASwQGAAQKAAAXuJu8WB69MRiFoIpKXnYsBJCXAzX6WEenqCi6RPp1kWACJEgIogCwtwIRlgUAQAAAAAAwLAYABsJiAREQAG/nTbwgCLKH8hMYCkFHMjtVQt5WkEWoRK0qeZ4dK7yLYlr16z57IwUAAMAC3FsEQzweAAAAAAAAwAQABmAAgAGAYH0iQGAMSZfR9SAUBiwTswEAANmDWnrMOBctq9TtlwubKwQAggBBv8GCsQAAAAAAAAAYACQAASAmAGDwYABQQqtxjy6gSFCeQ1XFLgDAAUXJnqkUZTCj+qW9pIBZwAbCvy4IDlv3b++7sL8+n+9x/v6XZXBFc41tNpcQWNPCKBuYtgFhjRUUx7oaNMKg+Az2GGR7BqPPQHtHE6euWJng1sDAahQGXUfX3siNJMVhYvO/5e88v8fxee/1gssF1gOgKFwAAAAAAAAABYAcAABEBYCieBEAoFpmtL7NIKZB4ToltmofCgBQFgrdS+hW3Up7m+pFVEMBDhAKaOhGAdCBCwAAAAAAQEWUAC4KAKChACh8+ORDKQ94A01hrLgatgahPPqNazUFALgY68qjyoDZMnSN06V1FQCUN0B5w6EAQAFVQAEAAAAAAExKFCAAgEYBAKLIhk0BzkgMT2aAJiCNBgAo2LoU1WWa8rgvWsElmOCCBWwKFXBxAECAcy4QAAAAAAAAEwAMAQAYCgCABwBA4+BD0QJdGqrElAYAwEp3NNM03Jc0Tbe0EfCoosBSEABNsQEF5boCVQAAAAAAAFejArgoACgg+AAA6oY3ACqsS+YZKNM6hRJVJRcaAGDDhH50U0Xr4Wj0aFWgETBQCkABAIBTEAAAAAAAAKoIoAAADiKwAYADAFBsUxhg6wJwNCsAAGjW0jwZ5frQNc1FOavLI8AjAA0pBQAsAMDlcgEAAAAAAAAUIAGgAT6oKi4AcH8CFEAOpUPYYtNCUdLRrQAAoLVSwYX//psprr+Rb8hcLxyUogCghAIAwAUgAAAAAAAAQBwCUANAAbwIBqAA2AKgiVHYoLVSAIAHAADQ+oO/lfbrf+/v/03tKLpVqWsBUABUEQVcAARAhQIAAAAAAKA0FUCuC8CBC4ANEDgA4IEZS6Ak9FgAusFfKPwQAPwM4p+OqV/3t34TB3+D9mt+Kw8n+AXghwB8CfhR6oLDZ8CPqwC+AHwE4FPgIwCfAh8B+BT4GMDxReDHQPBngR8C8CXgBxbg/grxHa7aAxgWAswF/+cnP/X4Uw0A/ijP9/2uO/nNX/87Tbdp//Ab47d+1eyl6O/2h7fHqgLgh0HVG+cCfgRKFOAnnAUAPgIA+AgA4CeVlHMB8OOAAgZ/HFEA8IN4/4RCgccf3v9h38EBQBYa6CrOAgAAaGMev8njW9/0bXxD+1V6ncZcBAAAWrkAoJgLAA0AAAAAAICYywUAAOA6AAAAKZCCG4a9DQmDWjQUA5fyAAAAmB6l99/X7duX/sdtHQCpvQAAGJwL1wFSACqYqhQAAAAAAFABAAAADgAAgP3ANAAez63PTaUG0QwltHkgbgAAYFruR0ENrQvzxjhQswCAwMKlACgugIJKAQAAAAAAFAAAAAARAgCw4AaAmEzILiBNEXWlAAAAAHQ97jwsaaql1+qXa1GoAYCSohxxBBRwAQTn2gUAAAAAAJAcBwBgIxwAKACId08AYMio1ENEkdIFOEXfAwAAgCbULdplBpulLYpcAAAADQBxFFDocwEAAAAAAAAJAMICmgMgAAAAAYAR0qUQHaWLS9BeAAAIMLofHx4pnKtaz+rq7NZYAABAUHAIFAIIdQEAAAAAAKBQEwHAa4Oh8UIACAER4AZscA/ZQ9EwjcBoA4AAMNNOzIBSTO+JCaF2FQCUAlEAAACCOAAAAAAAABGcLiAo3hoAQPACAJ4EhBVkCtgFoQtCF9gNAIAM9OiamzTQrDEWnVgBAoyIIA4AAKCo0gAAAAAAAIA6gAAABgsIAhAACILHzEDPdIGGKgaMAACwQGvbfFgFTU+vWcW2G7sQAFCBAgACAMJsAAAAAAAAByBQxGxPkMARhADwBAAB2fQ8x8veAU1XoyEFEgCAMMtc1qjm0j1N6zeLFEsAAFEQAAAAQF8AAAAAAADAQQHo67aFGRgCQGxYawkATLgMZWkQDQBRDAAAduFOowPQ7M6ASSE3AIACAKAAAAoAAAAAAKAAAkGYVwOaAABYAjzxBO4zsCHbNBLNCIpwsjOeOABgMmpA4RpqrEVvXRaEAAARBQAAAJwDAAAAAABAAEqiwNzGgAJAAngBFgGgycvUI0cZoTS6YFUJCC8XAI4Mc6GnoClrDrOwdrFTig1sFATiHIAAgOsCAAAAAAAAAEgOeuGNcEAARkLiLPcN8JR3bhtxz+UGaDpgZ6ZgRyIA3IJCl8qQdE9319HbZC8Fj5tLiAUFUC4AxQGEEAAAAAAAQBwSHFDw2ngCeBHADXDvm3tFPIE4NTuiBCHRKLB0HxOBTJDjmcDeMWZ02lWX4dXVLF0LwX14AVskEYOAAC4AiAIAAAAAAIACIWAu8AIIAGDDAhuegmBX1IxaQDQB7spt+hVnARB5msiVai3DNaF6La3XISAdgDBAIAYAcS5AYQAAAAAAAAACODAbhCCIvJ8IgyPcwn0EWCFbw5gbFN0aqMic1wIAAIoMNCkj9BlrX9RhqgcCCICtOAcACEilGgEAAAAAAABw4joiABCEuiBuBs8l4oEAIyXGu94lwdABMPpasyU3iACHBAbTui7d9nRTWVxHZQAEAETQAHAAFaoAAAAAAAAEKWFUAiQJCOB+P/cTvNwimORegeTcNZK1Z94AaOkAV2kzI0cIRxxYNdj7pNFk9Fjr6GZ6nKAAgCQoGgwBcClITomqAgAAAJAAiIEAZwYzCJ4IT7GsJRIZcE/mhKck3M49IPfsDDB0AecAM3B7BsBtZ6OMQingYda+7F5X6wqWGHgpkBiAwsxLEOCiBQAAAABVAgCBAIJQCQDluTDglljqcHKDgJx5DYoNoKNKAfad2TNzguPIK5xMvUZfLQZXaYS9jra7Hea4VW6IFCgAMLPflEMiBQkBAAAAEACBAACiBPGCpwT3nfudgEMMsd4lrEzYmWPGAERforhajZhLbgscJO8GixlQbdLAm2O1NaODedwpL14ISLwEEuQNOEoloBQAAABACgEcsJEAeycRyADe141FROK+zxnjnFvwfmdkX7rvAQJ0lHB4So1JnBtBIGJvZEY33aD1XhZ2d4xOOUYmAYALKEwBWpIaRQEAAACgZESSAKwXCqIViLjPfkq4wSISlsrMjLKevC9n7NhJ7BCALlJcschr9ktG8hQ8WRmRGpoRw1iVtthNFbFe5aa4XyS4wdmCsCcIp6jKlagAAAAAQKpMCg6B60WSxOuWgGAfyCLjvt9JeHdO3GZObu/v686c02SPjQgYjUKzuasmx5xnvCRjcp97xBi6u65u3ZSZbfUu11bVewkSAAaRRYLX9XZBQORAAQAAABDCJUDg7AugCCCBxPOWOHiHrLvG7d6viazFHjLPM2JmkyBtAZRF5tmz172WeL29wtNIzNbnOjR63nZNeVOzJnUezMXolYoSkecnnVI8PyCsM/FoxbGyr0vZLAAAAICji5RzHeBJ7/MG9gT38eH5CUG8I841ncf7o5+S4ymYo29m7mRH9/s8clCAhqJSkohK5H5P8oyxjuT5KjsK9Y1fM7/2V9eU/hV/cU1LQPbI/cRE8Mn7eSHxAq/pqLklyLnOkd2uAQAAAAxzGK6D8MTI8/Uih/BY6/kgibCW2TvnjHvdz7VkXkLsOZOZM47zuu/kvICB0VBNDWpOXic5Z0mS8X7PE9dMj435X+jf+id/leaYVrUOlDY8RWDeyTNR6onXo25yiqJxXY5pdQAAAMAMHNc5B+EJkPV6vojned9W3iG83/ccMhF3ct+zJ5kzktfsfe59J69dMVlzdkTDWDCF2h+S2t+Ef7NuF7xnxlfBP2D+Jv+w8au0v8zlL/pOahe+WuB7+34Q3v0M8H01nXplz08D//ahp5vMF4GfFIBPgY8A9heBH63LITx/GvghNwz/OfC99+uRus+65+eA3+uryji5vyrwr67no82d47+GvzvpJ6QEFh5VINz/0d/9Uz/1U5+s9+u2Pzyt1/3M776/7rNV+tudHvitt4r//VfKd35ZLRf+1eVx1arHfuA+1h8trrlEzavS44csmbdUXacZP9bTyrkAPgIA4sdAnR7w8kOjoIjgjxY3j9Q7a91nfn9m5zEt5Tr27btHFOe6kZPnPzv3c2JnbUmCOWnchaKo12S/zsl93znJa++cIzU9wXS+4df41b8SfgW/jM3QsY/kXu/3eT/WDvueoyA9aHvnjRxXObRRQwcAAJADCNMJgi6QBLyv+77D7V4r933K7Ir77Fdm7tm3HJF9kp1kn5z7nO2lhlAtoi08QPe5nIfsc1/n+eG+ntxzJvdrdm1Qrn+sHv+ki39mnf+jqyzm6mlp5ypLWDcs+yFgJD1WV5ScFAyXq6JIAQBMAVDicK8bCCrAXrfdc01XbqR2Xg7COcstRzyl1r3qEOeus0+cmFsAoou7KNPteL2e536+T973fd/P52vPeeWeM3Xh6qE4WHU0it0mct3jzJe/fN/rZ77M477v27vPfelLX6r89Jda7Nccn33GZ3zxi1zOKV/4QvjCp/j0U4D96fxpX9AA8dln/Kev/6wlSSE+/5zP379MLp3K/KyvfGXunzs/nySJ+K9yv76aX/BLc0TuM1/b55e+9ry/fv+3M5PahcoMnMviMQpSnboy3/Tbr6/77usX+Nf56u+ev/DP/9L/+td8K3eTaFgaC6m4SFHnIfVz/2/x5T/0lT+88dje+b7P5/Mf+NIPitoPP/LZj/nij33xT7gqX/hIvvAxX/j46UeffgS5EOY6xOut8iOf/X9iIsTzQ/7c998fLLcaTor79/0Xv2fDiB6ZX8xJ3LHH2uxf/h0TL1Ovk7lJVQ1ka3YnPBanZju+9d8c3/mFk3/5u/urv/u1218y/sE3V6vSjelYtr1VaWeoxi3xs1+x4eAhPuDz7wNI7vuzz34c4BwHn35aRQFAMf70T85FvLztuz777N8dP/2DUBIfvHz+M3378vdkzjlqIjPGn//XOUeY5Pziv8TXvhPnXFeu4+nrX79v/92385zaFsYI0C0Ud0axXnzzW7df/p13v3ievuaF8de/taky0Gl7Vb8tWatNq0R4Kb//B1+5iMZ9P96eoKCCij/+0RcLYl1tx8effAoAkHKBqCxmnn/87/7jC4Kq3O/xve/9ucVr9sQMR+bn/6+bk0iSwC/Z5PXa83q97pfjn/72X3mRmC2bQiA01wa9hDvb39kvv/31p995jX9u/CPlW6A0lo6FTe0tDwBmAzPg8bCX+/PvC6QQMY7AyVyrnQIARBE/+YIzySAVL9sPv0SC0Yvb7f/5WdeYmf3i+V/+m813f2nA2eP5L77j9jtfv7LlzkTc2/b3vvncMyEUAGt4FH3Zy1wlstvL+Lr/zcvLCNMkC/ai97rO6qLVdGGaxe/9vP97/cHP+YOKuj36AvX9z32/k05Z/4kftfrRZ37c06f7T/6Mj/n4qY8+fuojgHL0pDJ9yvizfsgInrHq9Pe+7A/BzvQYN/687xridel5yQuO19RtduL1j/6abx/HOGaTMqkjUJ/8T/9z/Ym//Ru1muqq1Y/rw+XqtmxjpobRF01b6V6OXtRy3lCUrlVaV65KqZmF4hNQQRXaA9VznSvlLEgBgCmkTk8YJwEGTyEe9+OWyBhDeSFMpJ64doozc/Gq2cyAjMy93Y4dSU34t/nbv+HfL8DVPRdkf9ie/eHurtltwmkDaJZmrytLQe2l0Di52rRziVIpqKcPzw9CVVi7L/bKJJdZuVIowLlAQxi8OtVbKoGsWzz27WZUAbkhTKipWXtztrfdvNc9zORKbyPuiWmbqURlkMpqwv+oUKhKl7qU61wOcB2X8VBQa7+pqEalKBaKXj0dDdBDP9AI0KZRVdPTGgCA0YbR02fa9ACK6bkfNwPwunhBMdiCYBCvt5eQGByQyhEyBAKINQoAREvlqN51AA4spMAipacJCqZbzIu3w9JgmgcIoGe6UVIdTKqNBpg+l2lU5OjRANDjcTMAr2b3FFF7GRBMKlhbgJ4DIo5IDQEVQo3V+DP/AwoAUAAAABQAoAAABQAoUAAlBZWCkgIAiEoFBAIIQABAAEAqAAABAEAAAALKQvmNlUV1qhRvykPTD22aNO2i9Upbk9WKNet+K3RNK/qiS13najzux+ZxvX+iUigeSevS03OpVNQ0AKmUwCEVzL02EfC+uDGpYypb7xBkiH3NFkZsI/aYgynjns5R87KvLWSIyRbRCKcpCuGOVabK8zljVNNV9NLTs/RC1rLyJnSmq6JS3YLLCffD4s4nBMWq+zp7i1GOHBWNAEoxhau57eera0dQnPe1N+w06bK6gmIGXjNW2Lbt5ezNDKbGfY/J7NddihDENkD9VKFQgKIpFF3TBRe6FGppFA2qUiya9LRF0UDzMIsAemjQ0alpPbNGYxrTpndFTx8VA1AY0/fjTmA4+sQUtt4EwRBehFScCcTUBCKBQBCE/x8RUYSGZ4cLTgAAAABJRU5ErkJggg==)}\n#webamp .equalizer-top {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAARMAAAAOCAMAAAA7SAh7AAACBFBMVEUICBALFRINDRQOFQsPDxYQEBgRERoRERsREhsSEhsSEh0TEx4TFB0UEx4UFB8VFSEWFiIXFyQXGCQYFBIYGCUYGCYZGScaGScaGigbGyobHCscGyscHCscHCwdHS0dHS4dHi0dHi4eHS4eHi8fHyIfHzAfIDEgHzEgIDIhITQhITUhIjQiITQiITYiIjUjIzYjIzgjJDcjJDgkIzckIzgkJDckJDkkJSklJTklJTolJTwlJjsmJTsmJTwmJjsnJz0nJz4nKD4oJz4oKD8pKT8pKUApKkIqKUEqKUIqKkEqKkMrK0QrLEQsK0MsK0QsLEUtLUYtLUgtLkctLkguLUcuLUguLkcuLkgvL0ovL0svMiQwL0owMEsxMC0xMU0xMU4xMk0xMk4yMU0yMU4yMk8yMlAzM1AzM1IzNFE0M1E0NEs0NFE0NFM1LxI1NVQ1NVY1NlQ2NVM2NVQ2NlM2NlQ2NlU3N1Y3N1c3N1g3OFc3OFg4N1c4N1g4OFc4OFg4OFk4OFo5OFk5OVk5OVo6Plg+PldBQipCQl1EQTxISGRNTWZYWHJZVjxcXGRgX2pkW0RkZHFoaHhsbH5vb4JxcYZzc4hzc4p0c4p0dIt1dYx2kZ13Qyh3d4t4eIh4h4x7e4+Dg5WHd0yNjp2QkJCSkqKTk6OVlaaZmaidnamfn62pqbWvr7tT7jRLAAAFcklEQVQYGa3Bz49WdxnG4c/9fM+ZH7wglAGGgVZGQmKiAWuj3TQu1Gi0uujamPQPqOx0rSs37a7WvYk2ujCNCauauOmOmCaFdGGsMEwgIzD8ahyGd97zfW7PeWeo0KBSwnUp2BFsE1OiJwgBgsjCQBZiSlAAAQIJEAGWhOgJiiKDYCAQFCswBKggCAaFkm4zkgBML5gSQpAFg3iQZbAjMcJkkEwJqCWpUBkkBrqMRCS1VEwvlUBCJgZMw+v8F+KRgkcRjyA+TTxEPExsE9tkAbIQlhFYfJplmZ7BMlOW6ZmHmAeZh1kG3mjg58JhgeiJnkABAbIkegUkaBBBIECgIhc3KIgsLQ4oIAgaE1CSIkEDBUHJAgEqNQoEhV629KJJmq4FBAKKFQElQyCw2GEBFr2uqKNnqLFVKpYxGLYKMIEKVGNMVkioUbHcZWECNTJLTZyQDnCmDQiQ6AkUIIMlDChBEGyzEVCAcGMgKFEZZAKCFEmhNMJuKAUMaYgEdQTIrlBKS6+lS9SChATRoCZAFahgC5spsa1CSVNKFCActbHNlGhqnUygZlDBGCeZYCpgJBAYlZqYQTYMgkUen6lsm/A/HE9RyAIIMtUwKEyVQs/hEtQC7aRlZov7LCJUyOjaqIELBmfhE5ZM4Tc8sa+45btN13RnKvGdC2/C6eNniAYiQ4de289TdvOtE7T5Y37/yuh339x75pW5P/xg9qN2eeUDfliuvK/vsfHeS7v588klyEur0H51Hjbff/ZwTC6vf318/rnFD3LPcS5s+Evjf4j9iyvzi8DKMnCVRchLY1F/+9p+ntDNt57f+v4cDc0rf6TWU6fh1DlwA0nvAE/bAdpJLXf3vDjipYUbQIOOXgNOFu/DMDoxYrAy/uKhVSbAe00eOfLP1ZPH1knAjKzRXUMWerdu7V0a32N8EZ5hpTtx5GJGcIAndYDgPFNR+ekvT10/eO7Nb9sNCMG7fCaVxzCJkjf3HIb5mTED79oF2r01GR1bZWvmKJvzwBwYCPja1t/muaePFw8yUF34+HML14GwgDp72Fdg5gs378CzMCEs3uXxVR7WBduS3vWD18GoAdniBZ66sxS4eGzP3WbRfxW9cR4CFjbvjhYucePw/L8KvYXuxjq0Fa6agYEA/Exzb2521wZIHVCO6upY1LUEbhzMyxbmBZ7Y2WBHTGDt1PWja8g0gAXjJZ6yNaIWVu/N3YnFzQQE518UJ0vZw76Ajd3rixS4cqHQTmoBdGiTOfa688yBhawj7yuMNijzdMDcvDfnOyBmYXNzNLOFzHiJJ7QGvP0jer9+Ocobe8+xdur0h0kDBFx7h8/kBv/fiQwibi2N4U6dAcOV1WPs3vgL3xo9B+ujvy9SgQKTlt4ynJ09fJiN25c+v5yrMwvXrunLCzdpllkBltAyKzTLjG/DndGhy6BX3+Hx3eAhz9N94224ve/lmlnO/Qp+cvzDQPH6L0DIQvQECkCyJECgAAkVUBA4ZFFA0VCLggItDkCEIgjcQqpYosmmNqKnAkGvBRFWIQS0k7bCrAXo6NKl9ca1JRgosiCweIBlhFFXcEU1xrNd2QKMYWtmPNNpQs/UtAFnGhKnwbDVuDN0sssEnKSS+lFDb5NtshiIniAQsghkgQAxJVCAAIEECAhAEiBoMiAIegLRKxBgiKZrRNcEg0KvQABmEEkwkEyAjCV6FlOWZbs4ZcwgI+nJqshZS2Uqw0wMCQJnggHTSxLowGD8sz9BAOI+sUMIMIRRZCLAgBmIXuUTBjGQLQzYdAHBfTI9E2Aimq4R2QSDApRik+wIgilhkemEEANxnyyRGZIRg2RgIYVKqYVtWVMNOyT+I+m5A7Otkv8GlLRudA0dHtMAAAAASUVORK5CYII=)}\n#webamp .selected .equalizer-top {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAARMAAAAOCAMAAAA7SAh7AAACAVBMVEUNDRQPDxYQEBgRERoRERsREhsSEhsSEh0TEx4TFB0UEx4UFB8VFSEWFiIXFyQXGCQYGCUYGCYZGScaGScaGigbGyobHCscGyscHCscHCwdHS0dHS4dHi0dHi4eHS4eHi8eHyUfHzAfIDEgHzEgIDIhITQhITUhIjQiITQiITYiIjUjIzYjIzgjJDcjJDgkIzckIzgkJDckJDkkJSklJTklJTolJTwlJjsmJTsmJTwmJjsnJz0nJz4nKD4oJz4oKD8pKT8pKUApKkIqKUEqKUIqKkEqKkMrK0QrLEQsK0MsK0QsLEUtLUYtLUgtLkctLkguLUcuLUguLkcuLkgvL0ovL0swL0owMEsxMU0xMU4xMk0xMk4yMU0yMU4yMk8yMlAzM1AzM1IzNFE0M1E0NFE0NFM1LxI1NVQ1NVY1NlQ2NVM2NVQ2NlQ2NlU3N1Y3N1c3N1g3OFc3OFg4N1c4N1g4OFc4OFg4OFk4OFo5OFk5OVE5OVk5OVo6Plg+PldBQipCQl1EQTxISGRNTWZYWHJZVjxcXGRgX2pkW0RkZHFoaHhsbH5vb4JxcYZzbFJzc4hzc4p0c4p0dIt1dYx3d4t7e4+Dg5WHd0yNjp2SkqKTk6OTk6WVlaadnamfn62pmGWpqbWvr7u6usTHx87JydLO4tHU1NnX193d5unsznr5/v/0rKtaAAAFXklEQVQYGbXBT4udZx3G8e/1u+9ncmYm/5OaYWImqYQQJcWKSKFUBHUlChaUbtz4FnwDpSjd+hpEI7pwJ3UhbhRBTFAQtCHGkknS1rSGmJM/MznPuX+XzzmTqZkSNQ3x8xHbxBYxJwaCECCILMzIQswJAhAgkAARYEmIgaAoMghmBIJiBYYAFQTBTKGku4wkADMI5oQQZMEgHmYZ7EiMMBkkcwJaSRo0ZhID04xEJK00zCCVQEImBox4nf9APFLwKOIRxIeJHcROwRaxRRYgC2EZgcWHWZYZGCwzZ5lBsoN5mNnJMvD9Ct8VDgvEQAwEEgTIkhgUkKAigkCAQEUuriiILB0OKCAIqgkoSZGgQkEQDhCotCgQFAZZGURNSquAQECxIqBkBAgsHrAAi0Ff1TMwtJiUhmUMhr4APSTQjDHZwJBKLE+z0EOLzNISJ6QDnGkDAiQGAglksIQBJQiCLTYCChCuBoISjZlMQJAiKZQq7EopYLBBBk0JkN0gojLomCaqICFBVFQD1IAp2MJmTmyZQm2m1qhAOFq1zZyorfU9ZIoGxjixwSRgJBAYlZaYmazMBB/j8ZnGlp7/4hMpClkAQaYqM8FcKQwcLiIDur6j69lmEaFCxrSLFmTF4Fb5gCVT+RFP7NPueJnBTxvxxbYOx8sviAqRoWdeXeIpu/faSbr8Nj98ZfSDry7/7Ju7zn5914XRicvneTn+8Wt9jc1ffmmRN148AHlpHboXF2Dy208ejPa3916anDuz7/e5/xQXx/7M5M/Bs3uv7N8LXD0GjNkLeWUspj95dYkndO+15yffqAxe+TGtrZZWjrwDrpAMlnnalun6VjaXXhjxhb1joMKJvwPPBbsxjE4tMrN+91Nr6/TAr2oePXzrTy+cfI8ZswIrtw0ZgC7z8YOTm8cmF+AEV++eXh23UljmSS0TvMtcNNbLkc3R9XXsCkLwJh9J8hj6KHljaQ0O1TFzo8Og1daPTv2VVp5lsgDsW8RAwOcnfzzCP7Wxbw0Qast3di8ziAxgunSQy7Bw+s41WIUJxeJNHl+y0zRaYdASaJuHbjSMKsgWa/wfFLhxbOl+2cPvxOC+dwNL9xsrFxkfWNgoDPa0O1ega/DufUBs8+GSk4U9Ywj14HqC8YZo1zeAu7vzLQuzxpMLaAUa0UMZ3RgVZCpgwc2jPGVvE63whzP1brdnMwHBpTPwXESwO2Bj8fZ+Cly7EHR9K8Cutev79rHIHRZOLWdbYVRYGVMOcA/YP+LWgXvA4gLc6hZHm8jcPMoTehuY1gZsEuX4keutHGkXkgoEvH+Wj+QG/9vJDCLGB8fsudcWwPCXA0dZ3XyDr4xOwu3F81+mAQF9x+A4/ObgwZfYuPn+oWfy2sLy+KI+u9xR1rgCrMAxrlKOMdmEO4urb4G+dZbHd4Mdnmd67nMMzrfM8s46tEIgXv8eCFmIgUACJEsCBAqQUAEFgUMWBRSVVhQU6HAAIhRB4A5SxRI1a6tioAAx6ECEVZCAru8aLFiATh++crW6dQQziqwILB5iGWHUV7KhFvd3TcsEMIa+m3RNPQOTaQPONBjbYJhUTw1T2aUHJ6mkXaoMNtgiixkxEARCFoEsECDmBBIIEEiAgAAkAYKaAUEwEIhBgQBD1GkV0xrMFAYFAjDngEiCGckEyFhiYDFnWbaLU8bMZCQDWQ05W2nMZZjekCBwJhgwgySBKRiMv/NzCEBsEw8IAYYwikwEGDAzYpB8wCBmZAsDNtOAYJvMwASYiDqtImswU4BSbJIHgmBOWGQ6IcSM2CZLZIZkxEwyYyGFSmmFLdlSlQck/i0ZeApmSyP/BQLQYu4DqTgYAAAAAElFTkSuQmCC)}\n#webamp .band {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAANEAAACBCAMAAABpaq8qAAABEVBMVEUAxv8SEh0SWwQTEx4XFyQaGigcGysdMBwfIDEhITQqKUIqKkEqmhYsK0MuLUcuLkgvL0ovL0svMiQwMEsxMC0xMU0xMU4yMU4yMk8yMlAzM1AzNFE0M1E0NFE0NFM1NVQ1NlQ2IRs2NVM2NlQ2NlU3N1Y3N1c3N1g4N1g4OFg4OFk5OFk5OVk9dCpCQl1EQTxNTWZYWHJZVjxasCxlmUVoaHhrcC1xzTR3QyiDg5WHd0yJ4jCNjp2QkJCQxz2SkqKTk6OTk6WWrI+ZmaidpDWfn62k4jipmGWrrZCtLSOvk4yvwziwcR3DcCrE2zLFVCrFhzDGeA/GszXOxtbTIhvTSR/cdx/gVB7gkijgsijgzTBk+3VYAAADm0lEQVR42u3bX09bNxjH8a8fP/lTombrhEC01TSkSuNik/Ym9q73XnKxqVs6VnUbNIFzbPcikNiIk4ZCIY4eXyB98OGIn+JjB4Wf+0aZN0l1KL5p4q+/VU91wqW0YXR0qsEnnHApPyJpUz5/dRe+4eJrU70nBjgaeG2jw3viyYTjYUaIOfs4t+KrtXwTSo75cBd+bO5OFSH+NAHtBfEREeIEJj+v2KeY7UPqZVTabjoFWXF4yV7TyfGAb88L8gVU8TCByS+hl5wgHgB8N5U2o4Lm1OLiQcDH7GeHzH0nB57B/N4U59zid+459Y7PU0E3vvgJqKpcDRdEqJ8iIVwJxVE/ld51QInaUj9l9Yo5glA/ZRlv+aVySlh+A6dQPxV3lfJqH6+esnyqHJDtE9VScRSjekoxFaifslOvz+qRupajfkqRTqmf4rxfPlIO6me5M+zC2MFEu3Yc2aqzRJbIElkiS2SJLJElskSWyBJZIktUT6JUun7u9KqL5UytFGIswlVPTalYjvVTs+crpET9LHaG1FI/7YTd/qHF+eSpn7JchiFBS/3UlJbHVFrshJXz+l8CiZAaqJ/Slu/56qcsT9wU8In6qeH6E7LkUhupn5r84kxypJZI/ZTUtg7AN8kHqJ8SQ9BjOBFPmwK38BJcxgCDjfkR2JgX0N6fGhMix4Nns1ZjhJgQOWGc0xVs2NNuxou1nLN31sn3eDe7NzW2DKZHvXYW274/Y8HhbB2bpptvP8Phv2uYhtyfGgQNfwBeIFA/Nfv7opXEDnDnhtvNRtUDNpteHzJ7Wuo9uksLHvA+4+H+3XgaunnINOcL2IQqQnwN4z+zdtK4LCut5UvhYLrivvLdP910JWG/nM15CIfvMvbpZ3wxgg+3UW9pNo2HMN+UDJjljaryVjfonhUX06NZM3ujfsW6ntcIRv9/YaPqBgXkcTpTIjlHMLJGlTWqrFH1lWiNqu2nNaq2n9ao2n5ao2r7aY0qa1TZJ8sPkMgaVbbqLJElskSWyBJZIktkiSyRJbJElsgSPVUia1TVtOqsUYU1qh6H1qjaftoJu/3DGlXbT2tUbT+tUWWNqsenNaq2hg5cd6PqPzjP2kl34l8l38GsmwkuM55C0z07LZtclzHGjGflxefLW+mijjQo2kmezTn/u2g2zeczf97J30fPc86mB8Xs976YnceQ3fntDyVf9ptbqQ9XZdqA06NUclpQhg9Aa1RtPz8But0Pz3B64+AAAAAASUVORK5CYII=)}\n#webamp .band .slider-handle {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAALBAMAAABbgmoVAAAAGFBMVEUAAAAICBApKUJKWmt7hJSLm6etvcbd5ukLNggsAAAAMElEQVQI12NQZGBgYFRgEC8vLy8WYBBPS0tzRqIExXDyQlxcQJQxEAgwAE1hFFQAAB9KDSykox1vAAAAAElFTkSuQmCC)}\n#webamp .band.winamp-active .slider-handle {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAALBAMAAABbgmoVAAAAD1BMVEUAAAApKUJKWmvd5un5/v8UiEZ+AAAAJ0lEQVQI12MQYAACAQZmY2NjIwYGZiCHCYlyccDNg1BKQAAyAGQKAHJPAsUS1KniAAAAAElFTkSuQmCC)}\n#webamp #on {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAAMBAMAAACO67B7AAAAIVBMVEUAAAASWwQvN01KWmtSZnN7hJSLm6ettca9ztbV3vL5/v8M+RL1AAAATklEQVQI12MoRwIJDFWr4GC5A0NVBxyUGjBUNRsbdzRpNHVoQHiCkh0aTU0aKDwlKG/mTBCvCcID6UfoQzUTYTmQV54aCgcGDCnGCGAAAPUyQLvRdOj2AAAAAElFTkSuQmCC)}\n#webamp #on.winamp-active {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAAMBAMAAACO67B7AAAAFVBMVEUICBASWwRSZnNje4R7jJyLm6etvcYvdU+XAAAAQElEQVQI12NgwAdMXODAgYHBLQ0OEoA8VDkgdnFgcXBhgfAERV1YHBxYUHgMUF5oKIjnAOGB9cP0maGYqYDkEgAFZxmn+1/+wgAAAABJRU5ErkJggg==)}\n#webamp #on.selected {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAAMBAMAAACO67B7AAAAIVBMVEUAAAAA1gAvN01KWmtSZnN7hJSLm6ettca9ztbV3vL5/v911B9qAAAATklEQVQI12MoRwIJDFWr4GC5A0NVBxyUGjBUNRsbdzRpNHVoQHiCkh0aTU0aKDwlKG/mTBCvCcID6UfoQzUTYTmQV54aCgcGDCnGCGAAAPUyQLvRdOj2AAAAAElFTkSuQmCC)}\n#webamp #on.selected.winamp-active {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAAMBAMAAACO67B7AAAAFVBMVEUA1gAICBBSZnNje4R7jJyLm6etvcapTzEQAAAARElEQVQI12MQRAYMaDwTFzhwZBB0S4ODRCAPVc5RUNDFUcTRRQTCY2B1EXF0FEHhCUJ5oaEgniOEB9YP02eGYqYiklsAdNMdgDKFw2kAAAAASUVORK5CYII=)}\n#webamp #auto {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAMBAMAAADxOqKKAAAAHlBMVEUSWwQvN01KWmtSZnN7hJSLm6ettca9ztbV3vL5/v/WADVeAAAAV0lEQVQI12NIQwWpDJkzUUAyQ2Y5MihzYsgsUlIqLxQvLBcXFC8UBwswcJSLFwIFQAgmICiILNDRgaoCZBaQI1heWA4xA8MWVIc5MaSFuCADJ4ZgJVQAABsNRRhxaDvQAAAAAElFTkSuQmCC)}\n#webamp #auto.winamp-active {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAMBAMAAADxOqKKAAAAFVBMVEUICBASWwRSZnNje4R7jJyLm6etvcYvdU+XAAAAS0lEQVQI14WOsQ2AQBDDAh8GYKMUHgF6ihP7j0CFxF+DS8tSIv0ymIh8T1xy9aIkI5wIEbmW/Qh2cPAr9BXb2QogOMaIaPSVtR19ACp1H3+cU6+ZAAAAAElFTkSuQmCC)}\n#webamp #auto.selected {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAMBAMAAADxOqKKAAAAHlBMVEUA1gAvN01KWmtSZnN7hJSLm6ettca9ztbV3vL5/v+vLTjBAAAAV0lEQVQI12NIQwWpDJkzUUAyQ2Y5MihzYsgsUlIqLxQvLBcXFC8UBwswcJSLFwIFQAgmICiILNDRgaoCZBaQI1heWA4xA8MWVIc5MaSFuCADJ4ZgJVQAABsNRRhxaDvQAAAAAElFTkSuQmCC)}\n#webamp #auto.selected.winamp-active {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAMBAMAAADxOqKKAAAAFVBMVEUA1gAICBBSZnNje4R7jJyLm6etvcapTzEQAAAATElEQVQI12WOwQmAQBADtwSjsaDAlKAFCIf9l+BL8NZ5DgNJqVE/sTGR8j1xlUcvhmSEEyFSHksdwQ4OfoW+Yj9bAQTHGJHa+sranj59DSTnUdDwigAAAABJRU5ErkJggg==)}\n#webamp #eqGraph {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHEAAAATCAMAAACQnBKzAAAAw1BMVEUqKUEqKUIqKkMrK0QrLEQsK0MsK0QsLEUtLUYtLUgtLkctLkguLUcuLUguLkcuLkgvL0ovL0swL0owMEsxMU0xMU4xMk0xMk4yMU0yMU4yMk0yMk8yMlAzM1AzM1IzNFE0M1E0NFE0NFM1NVQ1NVY1NlM1NlQ2NVM2NVQ2NlQ2NlU3N1Y3N1c3N1g3OFc3OFg4N1c4N1g4OFc4OFg4OFk4OFo5OFk5OVk5OVpsbH5vb4JxcYZzc4hzc4p0c4p0dIt1dYwbWqB2AAAC2klEQVQYGQXBIQ9lSRkFwDpf930zCQqBxaLQ/H+PRuDXrCQkbObd7kNVzD/+qSay+fu/BDL87d/MMtL5628iiP2X31cQ5M//6cp3nrJ//u+upgM//2gAfv7BO6aOP/33ndQx4HVJMQGeXnSgB0/V/lWicJvObrKOrDNJCwJQ1XVzz1F3DxYTsaHBBbx7MIhsfDNHfwSNlE8vuCO8V7QAEJGzTnSlYxL3nojNJkVC+NRLGtoC8wjSIOl9Z2NJ3syeugkAwLvjyFtMl6FaGhoGyK/HZ1SX20D2CzQN+nn3vK8eOoaxAFC0vKxplMlx14qEucCdC10XJquy4/Ho/gKmbO/Mu5/sGQZcAAhN7tr1Jk3cWcu6EM4rGCbBXNdwouX72M0DgXizjh19T6S9twBASU1a+632nn2wiPIgCLDfTViHDV52oFHo+4Oy35M6Ww0KEBXlOilu9uKs6AMCHYH3McpZdQe29gshzE17tlSWZLkDAkCKhnV4wxwW8t4ZCqUAZC8xeL5yLihY6Xx3NGfclqEAgLg30dPcW3dcNzBCigBAigvI95kPSMp36Udti+be6kkBoK0knVTXJzKLwnYgzBAea8Y0hwGery9I2vjkheSMe5iJjABwG5G0Rm6v27ksCXNfEMDXoLHSAq/nM0grfDs+r46LIUgLwKRoj1wd5TOzSG2ZLUgFmCu1dALPd7sFSVDXO3L1rDWARAElTmXuEe5qf8290uDdUqZDyHJnJAfwePrc7wtVsz+SPdou5xwKCCDK0pNFuehkkaI0dC7YXDe6kzP4ft/j+bGJ4J5fH4WIZSnXBYBGxDrvgt2MPRW2hhB30nDHIHTw4OXXD9BBn3yCNF3W62aNAYA7Dtfc4867j2sOxBkCiWIGUsrw5bXyA9FRJj0SzVJZ9qK3ANqRvWql7crWMitq27OBlNAro0E6+OKeF6Sy7XOPNhk3CmQCIORWVk/inPcO/g8Gk8tpHAw47gAAAABJRU5ErkJggg==)}\n#webamp #presets {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACwAAAAMBAMAAADrBkIEAAAAGFBMVEUvN01KWmtSZnN7hJSLm6ettca9ztb5/v8/TtPPAAAAXUlEQVQY022PsQ2AQAwDXblnlBcbwAYI9K0bbgXWpwAEErnSuii2topV/ShY1PmzN3UiZOQIWY7uGDsBEwj+2pHjyCF+bJwACdfBGyNfD9Bt102qOU3bPP5pmoaKE9BgTHfswQ68AAAAAElFTkSuQmCC)}\n#webamp #presets.winamp-active {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACwAAAAMBAMAAADrBkIEAAAAElBMVEUAAAAICBBSZnNje4R7jJytvcYlh7IyAAAAW0lEQVQY03WPsQ2AMAwEv/gFMgI7QP+RLgNQsP8qFAGBlOTK01m2VaZopXdGqkq7Rk6VtqiJkJEjZDl6NHYCJhD8ryPHkUP81jgBEvrAp5H7AmSqyjG/ZJt9eQMWOi9EkrQa+gAAAABJRU5ErkJggg==)}\n#webamp #preamp-line {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHEAAAABCAYAAADpXEERAAAAE0lEQVQoU2Pcdfruf4ZRMKRDAAD1lwNjTqcaUQAAAABJRU5ErkJggg==)}\n#webamp #equalizer-window.shade {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAARMAAAAOCAMAAAA7SAh7AAAChVBMVEULFRIMDAwNDRQNDhQODRQODhUPDxYPDxgPEBgQDxgQEBgRERsREhsSERsSEhwTEx0TEx4TFB0TFB4UEx0UEx4UFB0UFB8VFSAVFSIVFiEVFiIWFSAWFiEWFiIXFyMXFyQXGCQYFyUYGCUZGCYZGSgZGicaGSgaGicaGigbGyobHCscGyscHCsdHS0dHS4dHi0dHi4eEQoeHS8eHi8fHyIfHzAfHzIfIDEfIDIgHzEgHzIgIDEgIDMhITQhIjQiITQiIjUiIyYjIzYjIzgjJDcjJDgkIzckIzgkJDckJDklJTolJjsmJTsmJjsmJj0nJz4nKD0nKD4oJz0oJz4oKD8pKUApKUIpKkEpKkIqKUEqKUIqKkEqKkMrK0QrLEQsK0QsLEUtLUctLUgtLkctLkguLUcuLUguLkcuLkkvJwgvL0ovMEsvMSUwL0swL0wwMEsxKQgxMC0xMUwxMU4xMk0xMk4yMU0yMU4yMk8zM1AzNFEzNFI0M1E0M1I0NFE0NFI1NVM1NVQ1NlQ2NVU2Nhg2NlU3KxA3N1Y3N1g3OFc3OFg4N1c4N1g4OFc4OFk5OVpGQh9JRjlORDBQPx5aWmFbW2JbXGNcW2NcXGNcXWVdVztdXWddXmZeXWVeXWZeXmdeXmhgX2phYGphYWxiWkViYm5jY29jY3BkZHFlZXJlZnRmZXRmZnNmZnVoZ3VoaHdoaHhpaXlpanlpanpqaXpqanlqanprXUFra3xrbH1sa3xsbH1sbH9tbYBtbn9ubYBuboFvb4NvcINwTyxwb4Nwb4RwcINxcIRxcYZxcodycYdycodyk5lzc4lzc4pzdIp0c4p0dIt1dYyCmI+Gd02QkJCZc0K7v3F3AAAEz0lEQVQYGQXBsesvVBkH4OfznvO9FdGfULQGEvfiLHdwb2ksWiKizbmQSIlWqSECXYOGwD9ABxGiRbpra85OQpi/c96350lBEgiBBQIqCI/zDGTKAygWglCFKCYhEHaqy+ZuVKhJoMgSCkS1NRlBALYTpTgPQwDAZOjex3LNPgAGXaMZ0AanqzG62jQ9ddDcOgO2PxIK6ULYpGcLCGQKKAQhYgKlEEEQqYKiuhIgSiDwMFgANaoAEJIJMhGTESYAACaTgaGrMUBXMxqYJp5gYDSD4YKG8+vN25X76BIiS02ipkRm35XAIniGsuuWEirWbCmZLNnHgxDPRhEqgZ0qljJ7u+vWIhbMJlJj3YViYyaFIiZMAAAwMtBM9cTZR4MzGHq4kzE6vhKnrtbdY+hMZ9ocRtH3pAF7yWCmQLpikAYFOEuJQs0eRNLY+xyEjha1YsZ+hG4u+xyhwGWtDfSwqLI3TQrVzAQBADAAoKbj9AFaJSZul8sY075i2tW4IYzJtAG9Qfk+AAAAAADGk8s3+Y8IRBVBEYJMdihst9hdoQQKu6umgGCNqZgAvPMRvf0jdMF5ADBxK542x+62nN99xN8BAAAAADyfx9Mr+GHzk8/e5t3XP1CbfXd9763nAAAAAAAAr977lnyv+tnZd6uQNdlnJ4RdY1FBqFqqi1XLdm0irK7ZQlTLorpspBvV7stgBACACYOu1pHJ3956DgAAAAB49d6L8+rlT/GL18znL9+tfvkpU1x4kSRJkiRJkiRJkiRJkiRJkiRJkhdq0c6+uyqoCbuN2LumjAKYtC6AszQyMJsZdGWhy8YdhbKYmUkAAIwAqqnUDC+SJEmSJEmSJEmSJEmSJEleqHkJXhq//NfL77z89DdmNg/hfQAAAAAAeAI0alvpmtQILjGh0xUT8OzrDawy2FedB+E+u5CYNQuFY5MLKIIJAEAwoMFM8T4AAAAAnoDDz/8H0K+ev/rcyGbS5XUAAAAAAAD+OYGzb6qXroAN9GwhE8FDUegC63qA5S4yTGYBXbau2QOmY0QmAMCEEUN1d9UpvA4AAAAA4J/VfIMPaP77xqs3v5SxK27xxZsAAAAAAAAfC9j3MQoZ2dbZgiw1MWHi6x2KR5uNG72E1TVdJIOzu/DsbGbsUAAIEwAEGaOVKpZuX7wJAAAAAPjY8cnP4ZPXyl9+8OnnX77x+8+O3aP4/MMPAQAAAADwJfh2rz9g6ZQIBNm9oLrILEEmSSCQEkUAFihAJDM1FJV3CAAAEzBgJpOOqh9/+CEAAAAAX4IXx/OfwWvTvvvXP/OrH322pf70W9aEnSBYIlQFIUXIA2XrVb0Uqe2ulLDE5trJVqZCahJq3ypFttk2ITJZKgihCorNJECBAAAAGOhqk16No2m9bxuMMwbTvc7+Ku1q+uwnw81MLnNM2vy7CjVwzx1IgmEMIREoFGyWSDh2iLWwj9gJZmQgGXqqCqvahiuE1foSTFVD2eimNQUJBgCAmQG0m+5znKNR8nQNxpklZmRdx/SF5gnUjOEeoyErIQhkKgioSULV2CDJPKAmMpUglBKotAqQHYrtshUhCZR9dnQVCMqIENgHG5dqSgkAMDGZU71n4i4cwBgZPRnQOl1HA9NM6zrLoY1jYMyk/w9e+WXwreroJgAAAABJRU5ErkJggg==)}\n#webamp #equalizer-window.shade.selected {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAARMAAAAOCAMAAAA7SAh7AAACdlBMVEUAAAAAAAgNDRQNDhQODRQODhUPDxYPDxgQEBgRERsSERsSEhwTEx0TEx4TFB0TFB4UEx0UEx4UFB0UFB8VFSAVFSIVFiEVFiIWFSAWFiEWFiIXFyMXFyQXGCQYFyUYGCUZGCYZGSgZGicaGSgaGicaGigbGyobHCscGyscHCsdHS0dHS4dHi0dHi4eHS8eHi8eHyUfHzAfHzIfIDEfIDIgHzEgHzIgIDEgIDMhITQhIjQiITQiIjUjIzYjIzgjJDcjJDgkIzckIzgkJDckJDklJTolJiwlJjsmJTsmJjsmJj0nJz4nKD0nKD4oJz0oJz4oKD8pKUApKUIpKkEpKkIqKUEqKUIqKkEqKkMrK0QrLEQsK0QsLEUtLUctLUgtLkctLkguLUcuLUguLkcuLkkvL0ovMEswL0swL0wwMEsxMUwxMU4xMk0xMk4yMU0yMU4yMk8zM1AzNFEzNFI0M1E0M1I0NFE0NFI1NVM1NVQ1NlQ2NVU2Nhg2NlU3N1Y3N1g3OFc3OFg4N1c4N1g4OFc4OFk5OVo/QitCQTtKQT5SSj1aWmFbW2JbXGNcW2NcXGNcXWVdVztdXWddXmZeXWVeXWZeXmdeXmhgX2phYGphYWxiYm5jY29jY3BkZHFlZXJlZnRmZXRmZnNmZnVoZ3VoaHdoaHhpaXlpanlpanpqaXpqanlqanprXUFra3xrbH1sa3xsbH1sbH9tbYBtbn9ubYBuboFvb4NvcINwb4Nwb4RwcINxcIRxcYZxcodycYdycodyk5lzbFJzc4lzc4pzdIp0c4p0dIt1dYyCmI+Zc0KjlGqqurGxnVm2nF7O4s/sznr///8TArHKAAAEcUlEQVQYGd3BMc9m6xgG0HXdz/N+yEl0ujlx9AoqiehEq/MT/AoKgoK/oFRpFBqF6HQaEZXqJL7KdBIRM3vft/1+MxzORMxEZ62USxKXEJe4i7sE4XY8uMuUmyfFQhCqEMUkxCWsVJfNuVGhJnEJWUK5i3XakxHEa9sRpThuhvhXk6F7H5bT7MM/DLrGybhrg2MyGF1tmp460HTOcbf9kFBIF8ImPVvcxSVTngRBiJi4lEIEQaTKpaiuxJMocYnLNlheq1HLR0IyQSZiMsLEx00m4zJ0NcaTc52M9mSaOFzGZTSD4XTXLsd3N9+rnLcuIbLUJGpKZPa5EpdFcEPZdZYSKmq2lEy27MONEA+jCJW47FQoZWo711mLWC6zidRY50LYmEmhiAkTbxoZl2aqJ459GHfHYOjhnIzR8UKcaaO7x9CZzrQ5GEWfR9ore8lgptylKwZpd+WVYylRyOxBpBp7HwdCR4taMWPfwgxN9SGUu5O1tic9LBJ706RQzUwQHzf+VU3HMYcnrRITZ5eTMaa9YFobnCGMybRx19td+ay3N146+SR/FHGJKoIiBJmsUNjOYneFEpdgd9WUJ8EeUzHx2rd/RW+/CV0ux80/TZwVLzeH3W05vvUrfu5tfWFuLz/v8rvmG4/P+cyzn6jNPne9/+Obd/Tym5+S9zO3Y59bhVqTfeyEsGssKghVSyZUxXbaRFhds4WolkUmNtKNaueXgxFvmDDoah2Z/OzHN2/n5Te/eHw+X3rPX/zWPH7lw8dnH/ya2ZwuD97Vgwrj2OcuQU3YvSax1VRPymuTronXjn12kQlmM0LXLExsnEuhejGIN0zilWpKZuLBW3pQR7zHezGef/jB++vD52Y2N+EX3sF4pZFtpWuyRnASEzpdMXH38GJ7UmXCPtVxI5wPp0ti1iwEh01OrxTBxMcE467dzRS/8N+NJwdfO732+P4n/vZoZDPp8lXv7KcTl2OfqV7OFXfbk54tZCK4KYIud+t0c7eciwyTWZ5MbF2zx910jMjEv5kwYqjurjoKX/W2flrN4pc0z9bf9rPnGbviLP76ae/oz+Jun7dRyMi2ji3IUhMTJl7sEHabwhm9hNU1XSSDY3fhdmxm7FA+EiY+EmSMVqpYuv31097Onx3mxYMXRvnMBx8+Pvvc4xx2j+Lx+97Bn9y91+s7WDol4hJk93KpLjJLkMnFJS6JKOK15W55JZKZGorKt4k3TNyNu5lMOqq+/n3/3Z/cffHwe3e/nfbs1889f3xmS/3oB6wJO0GwRKgKQoqQjbL1ql6KZDtXSthic9rJVqZCahJqn1VClimbEJksFYRQ5RI2k3hS7uI/GZeuNunVOAyt99kG4xiD6V7HfpHWhj72S8OZmZzMYdLmD1WocTmPc1ySYBhDSMSlUC6bJRIOO8Te2IfYCWZkXJKhpyqotHI5hbBanwRT1S6x0U1ryiXBeMPMeKWd6T4Ox2FQ8vI0GMcsMSPrdJhpl+alu5oxnIfRLvG/iv8b4y5/B72CM+yl6NhDAAAAAElFTkSuQmCC)}\n#webamp #equalizer-volume.left::-webkit-slider-thumb {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAHAgMAAACw1x86AAAADFBMVEU5QE1jXjujlGrsznokh70QAAAAE0lEQVQI12PYwPCF4QcYfmHYAAArXgYxq2vCDQAAAABJRU5ErkJggg==)}\n#webamp #equalizer-volume.left::-moz-range-thumb {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAHAgMAAACw1x86AAAADFBMVEU5QE1jXjujlGrsznokh70QAAAAE0lEQVQI12PYwPCF4QcYfmHYAAArXgYxq2vCDQAAAABJRU5ErkJggg==)}\n#webamp #equalizer-volume.center::-webkit-slider-thumb {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAHAQMAAAD3d2XqAAAABlBMVEWjlGrsznoPowceAAAADklEQVQI12NwYHgAhw4AIi4E4a+iLsYAAAAASUVORK5CYII=)}\n#webamp #equalizer-volume.center::-moz-range-thumb {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAHAQMAAAD3d2XqAAAABlBMVEWjlGrsznoPowceAAAADklEQVQI12NwYHgAhw4AIi4E4a+iLsYAAAAASUVORK5CYII=)}\n#webamp #equalizer-volume.right::-webkit-slider-thumb {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAHAgMAAACw1x86AAAADFBMVEU5QE1jXjujlGrsznokh70QAAAAEklEQVQI12OwYKhh2AOGNQwWABlSA52dOQTnAAAAAElFTkSuQmCC)}\n#webamp #equalizer-volume.right::-moz-range-thumb {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAHAgMAAACw1x86AAAADFBMVEU5QE1jXjujlGrsznokh70QAAAAEklEQVQI12OwYKhh2AOGNQwWABlSA52dOQTnAAAAAElFTkSuQmCC)}\n#webamp #equalizer-balance.left::-webkit-slider-thumb {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAHAgMAAACw1x86AAAADFBMVEU5QE1jXjujlGrsznokh70QAAAAE0lEQVQI12PYwPCF4QcYfmHYAAArXgYxq2vCDQAAAABJRU5ErkJggg==)}\n#webamp #equalizer-balance.left::-moz-range-thumb {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAHAgMAAACw1x86AAAADFBMVEU5QE1jXjujlGrsznokh70QAAAAE0lEQVQI12PYwPCF4QcYfmHYAAArXgYxq2vCDQAAAABJRU5ErkJggg==)}\n#webamp #equalizer-balance.center::-webkit-slider-thumb {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAHAQMAAAD3d2XqAAAABlBMVEWjlGrsznoPowceAAAADklEQVQI12NwYHgAhw4AIi4E4a+iLsYAAAAASUVORK5CYII=)}\n#webamp #equalizer-balance.center::-moz-range-thumb {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAHAQMAAAD3d2XqAAAABlBMVEWjlGrsznoPowceAAAADklEQVQI12NwYHgAhw4AIi4E4a+iLsYAAAAASUVORK5CYII=)}\n#webamp #equalizer-balance.right::-webkit-slider-thumb {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAHAgMAAACw1x86AAAADFBMVEU5QE1jXjujlGrsznokh70QAAAAEklEQVQI12OwYKhh2AOGNQwWABlSA52dOQTnAAAAAElFTkSuQmCC)}\n#webamp #equalizer-balance.right::-moz-range-thumb {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAHAgMAAACw1x86AAAADFBMVEU5QE1jXjujlGrsznokh70QAAAAEklEQVQI12OwYKhh2AOGNQwWABlSA52dOQTnAAAAAElFTkSuQmCC)}\n#webamp #equalizer-shade.winamp-active {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJBAMAAAASvxsjAAAAD1BMVEVKQT5SSj1sXUO0kWO/uX6z+JYEAAAAM0lEQVQIHQXBwRGAIAwAsLT07Z2zsP8qbuDBAliTmDjl1m8Gob6HK5uWti27V6uxDDFxfn1PDx8P0VYSAAAAAElFTkSuQmCC)}\n#webamp #equalizer-window.shade #equalizer-shade.winamp-active {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJBAMAAAASvxsjAAAAD1BMVEVKQT5SSj20kWO/uX7CsWHebnl7AAAALUlEQVQI12NQAgIFBiUGBiYFBgVhYwMFBkVhY0Mg6QwmXVwEgeIuLgIwNWD1AJzCBeFqt4OOAAAAAElFTkSuQmCC)}\n#webamp #equalizer-window.selected #eq-buttons.clicked #equalizer-close {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJBAMAAAASvxsjAAAAFVBMVEUpKUI1LxJZVjxkW0SHd0ypmGX5/v9OYEDlAAAAJ0lEQVQI12NgAANmRUFlBgamYOUgBgZGU1dDIKmSoghjQ8QhasAAAHO7BEc0qEt/AAAAAElFTkSuQmCC)}\n#webamp #equalizer-window.selected #eq-buttons.clicked #equalizer-close.winamp-active {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJBAMAAAASvxsjAAAAElBMVEUxMC1ZVjxkW0SHd0ypmGX5/v/v3/6CAAAAKUlEQVQI12NwAQIHBicBBiEHBkcmIUYHBgcFAwUgKRwsAGNDxCFqwOoB1gEH67W94+0AAAAASUVORK5CYII=)}\n#webamp #equalizer-window.shade.selected #eq-buttons.clicked #equalizer-close {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJBAMAAAASvxsjAAAALVBMVEUoJz4oKD8pKUAqKUEqKUIqKkMrK0Q6MSljXjtsXUORbkq0h2O0kWPCsWH///8vo79mAAAAO0lEQVQI12NIdTFWUmDIbC/vFGCI2Nl5QoAhfM6a6UCy61U7A4P7nLVAdsTJzhsMDJ5ANQwMLkaKCgwA6D4RaTQt0CAAAAAASUVORK5CYII=)}\n#webamp #equalizer-window.shade.selected #eq-buttons.clicked #equalizer-close.winamp-active {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJBAMAAAASvxsjAAAAElBMVEU6MSljXjtsXUORbkq0kWP////9IyyfAAAAKUlEQVQI12NwAQIHBicBBiEHBkcmIUYHBgcFAwUgKRwsAGNDxCFqwOoB1gEH67W94+0AAAAASUVORK5CYII=)}\n#webamp #position {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAPgAAAAKCAMAAACuVWMrAAAByFBMVEUPDxgPEBkQDxgQEBkRERoREhsSERsSEhsTEx0TEx4TFB4UEx8UFB8VFSEVFSIVFiEVFiIWFSEWFiIXFyMXFyQXGCUYFyUYGCUZGSYZGSgZGicZGigaGSYaGSgaGicaGikbGyobGywbHCsbHCwcGyscGywcHCsdHSwdHS4dHi0dHi4eHS0eHS4eHi0eHi8fHzAfHzEfHzIfIDEfIDIgHzEgHzIgIDEgIDMhITQhIjUiITUiIjUiIzYjIzcjJDgkIzckIzgkJDckJTklJTolJTwlJjslJjwmJTsmJTwmJjwnJz0nJz4nKD4oJz4oKD8pKUApKUIpKkEpKkIqKUEqKUIqKkErK0IrK0QrK0YrLEUrLEYsK0UsK0YsLEUtLUctLUgtLkctLkguLUcuLUguLkcuLkkvL0ovMEswL0swL0wwMEswMEwxMUwxMU1hYm1iYW1jY29jY3BjZHFkY3FlZHFlZXNmZXRmZnNnZnVnZ3ZoZ3VoaHVoaHdpaXhpaXppanlpanpqanlqanpra3xrbHxsbH1sbH9tbYBuboBvboFvb4NvcINwcINwcYVxcYZxcoZycYdycodzc4hzc4pzdIp0c4p0dIt1dYwExkcuAAACuklEQVQYGQXBAWEANxADMPmSFsOAjT+QNX+eFEYgZicIBCMQMBlphNGBIJgZQLjId3bmPtcHfncAkIZoAAAAAECBAuy7Hsfb2dnuwEPB7qKawjer1OYBhR0jAFMAFQIAQRJsAjSBnQUJF74aHp+DuQAgDVEAAAAA0EIVAPvgy7BSeLTgWUChFhr5QAsS/jFumXD3NrlkiGDOkNnJbGJigksiOHuIuyYmFdzxMmaH3/9+GHvAqKPTkMKgAQCbziLV77xZCiv/AZY+qB2bv/Oofmn5+1mPWnm0fPieUjVG5pZJMZJ9aqXB75nFTm3qxgAsxZ5SxrBNcN/uGQz256vdKdg5+aRBMSAAAFlorc0OCQtg11sXYnbtobUU7nJJ1FA+1D3QmNQZjHKXmptFA3+LmAzGK3D1OyAjxDo1swV0Abc95UQZY4toTBKjAAqgE1qdo5YW/HFh/OSBMuBiBLx97+GTtxrf0NVHpSbxHki4w65eI8GECWoGluBxP0gg7iQwgTdmAF9nx6iwmeecpNK0aVdQEKWKLch+MxB4zvVgAbCr3vewCp+5QKpU6FKASaQM7oWZ3y9vBPTMgtCMeyjoOzBN4fGZ3YDfmWVA7zcmpTjvWpVSVkYRQAiTgXxfp4uqrJt92KUPAJun+FJwAkpHFAsvoLuD81MLrLqSSwOHCRM2jBnhXi7iGxH3rmEGWH8H4P4NKglchgoTkwUA0M3aqJ67pgt8w9+MNcjlgcV3oaelLA/7bSgahUfBrBkMnlHoR1LMM0Ew7HQFfDcgi3pzQYB1i+HKDxbg+8yXENasqQAASbNa5c1OhjRr/d3HWNiF2tHOg1ShO6hxPCld4S8IuOPfCIjpIJiaHdMDaXL2QJAQEAYEGCKAEQRpgLGGaBoBAABomkIrWkAVbIFSNkVhU4raFMWbLYV2WcX/K67c097eK2wAAAAASUVORK5CYII=)}\n#webamp #position::-webkit-slider-thumb {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB0AAAAKBAMAAAC6bkgfAAAAJ1BMVEUJAgJlZXNlZnN1WyKDaTCNdTqcgkqvmGHFsn7by57u4rv06sf19fW6wGFFAAAARElEQVQI12PQnIkMAhgkXZDAUQYGSY/dcLCnFMj3PgMHp8F8YziwBvPL4aAaxPdB6N8G4p9CyJebAvmhyICBQYABBQAALnc7YhsUgeUAAAAASUVORK5CYII=)}\n#webamp #position::-moz-range-thumb {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB0AAAAKBAMAAAC6bkgfAAAAJ1BMVEUJAgJlZXNlZnN1WyKDaTCNdTqcgkqvmGHFsn7by57u4rv06sf19fW6wGFFAAAARElEQVQI12PQnIkMAhgkXZDAUQYGSY/dcLCnFMj3PgMHp8F8YziwBvPL4aAaxPdB6N8G4p9CyJebAvmhyICBQYABBQAALnc7YhsUgeUAAAAASUVORK5CYII=)}\n#webamp #position:active::-webkit-slider-thumb {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB0AAAAKBAMAAAC6bkgfAAAAJ1BMVEUgDABhRhBmSxNsUBdwVRt4XSGBZyqPdTmhhkuwmF6+qG/DrnXYxZOv4MtwAAAAR0lEQVQI12PwnIkMAhg8XZDAUQYGT4/dcLCnlIHB0vsMHJwG85XgQBvML4eDaiBf0wehfxuIfwohX67KwCAZigwYGAQYUAAAXWI7mESGeYIAAAAASUVORK5CYII=)}\n#webamp #position:active::-moz-range-thumb {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB0AAAAKBAMAAAC6bkgfAAAAJ1BMVEUgDABhRhBmSxNsUBdwVRt4XSGBZyqPdTmhhkuwmF6+qG/DrnXYxZOv4MtwAAAAR0lEQVQI12PwnIkMAhg8XZDAUQYGT4/dcLCnlIHB0vsMHJwG85XgQBvML4eDaiBf0wehfxuIfwohX67KwCAZigwYGAQYUAAAXWI7mESGeYIAAAAASUVORK5CYII=)}\n#webamp #shuffle {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAC8AAAAPCAMAAABDVWaoAAAAilBMVEUQWgAqKUIqKkEqKkMrK0QsK0MsK0QsLEUsLEYtLUcuLUcuLUguLkkvL0ovN00wL0swL0wwMEsxMU0xMU4yMU4yMk8zM1A0M1E0M1I0NFE0NFM1NVQ1NlQ2NVM2NlU2NlY3N1c3N1g3OFc4N1g4OFk5OVpKWmtSY3N7hJSElKWttca9ztbV3vLv///LbncEAAAAqklEQVQoz5WSsQ7CMBBD37WpGPgDpJtY+/8fAxLLfUbVM0OiNgKG4CGKL45jRbYbiSUIkBAiMZJEqI2EMjGYynVhHHoWmIfle1IEOeqeogCwAQwFq3oesIoADyfaAt4mBHivb/Av5h8nRQCslQVOHPrK/Nif/ouaSdDd+OlvXYDD2qOP1r9j98s8/p/5KlarMIoCu/SPXvmf/yb2SQJkotZD087Z2VrcBIM3KB9V4lGQbMMAAAAASUVORK5CYII=)}\n#webamp #shuffle.winamp-active {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAC8AAAAPBAMAAACGpYupAAAAGFBMVEUAAAAICBAQWgBSa3Nje4R7jJyPn6itvca8iDuFAAAAY0lEQVQY02MQxA4EGHBLuIZighBDoER4ORYQCJLAoiMUIiEoKIpdQkgpNYAhIJSVNQBIARkBDEgSoRCJUAiESoilgXQwYOoAgQBsOkDiIDsCWMHCDCg6sLoKh4Q7LglD7IEIAKjwVurEkbm9AAAAAElFTkSuQmCC)}\n#webamp #shuffle.selected {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAC8AAAAPCAMAAABDVWaoAAAAilBMVEUA1gAqKUIqKkEqKkMrK0QsK0MsK0QsLEUsLEYtLUcuLUcuLUguLkkvL0ovN00wL0swL0wwMEsxMU0xMU4yMU4yMk8zM1A0M1E0M1I0NFE0NFM1NVQ1NlQ2NVM2NlU2NlY3N1c3N1g3OFc4N1g4OFk5OVpKWmtSY3N7hJSElKWttca9ztbV3vLv//8gEwg9AAAAqklEQVQoz5WSsQ7CMBBD37WpGPgDpJtY+/8fAxLLfUbVM0OiNgKG4CGKL45jRbYbiSUIkBAiMZJEqI2EMjGYynVhHHoWmIfle1IEOeqeogCwAQwFq3oesIoADyfaAt4mBHivb/Av5h8nRQCslQVOHPrK/Nif/ouaSdDd+OlvXYDD2qOP1r9j98s8/p/5KlarMIoCu/SPXvmf/yb2SQJkotZD087Z2VrcBIM3KB9V4lGQbMMAAAAASUVORK5CYII=)}\n#webamp #shuffle.selected.winamp-active {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAC8AAAAPBAMAAACGpYupAAAAGFBMVEUAAAAA1gAICBBSa3Nje4R7jJyPn6itvcZs8alFAAAAY0lEQVQY02NQwg4UGHBLuIZighAjoER4ORYQBJLAoiMUIqGkpIpdQlEwNYAhIJSVNQBIARkBDEgSoRCJUAiESqilgXQwYOoAgQBsOkDiIDsCWMHCDCg6sLoKh4Q7Lgkj7IEIAGMfXXXsp3orAAAAAElFTkSuQmCC)}\n#webamp #repeat {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAPCAMAAADAkV+TAAAAeFBMVEUQWgAoKD8pKUApKkEqKUEqKkEqKkMrK0QsK0MsK0QsLEUsLEYtLUcuLUcuLUguLkkvL0ovN00wL0swL0wwMEsxMU01NlQ2NVM2NVQ2NlU2NlY3N1c3N1g3OFg4N1g4OFlKWmtSY3N7hJSElKWttca9ztbV3vLv//8ki4GoAAAAgUlEQVQYGQXBMQ7CUAwFMP+SzkgoO1vvfyQOgJBYWKB52OsOQpIVSJaZTdTnCgAAIDUuAACAcwoDAAAyKfCFHQBAAQ+OyO8NGlAAkL3Bs4Fa4AAvGgAqsAfQAKAWAPQTNKACgNYAoBYBAAAozgQAAFAyAQAAWLeRNSQRmS3j3GTCH4ZgNtlEi15VAAAAAElFTkSuQmCC)}\n#webamp #repeat.winamp-active {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAPBAMAAAAFYbKSAAAAFVBMVEUICBAQWgBSa3Nje4R7jJyPn6itvcb4vicLAAAASElEQVQI12NgwA9MXODAWYGBwS0NARyAXISsC5jLwMCCzGUUDAHpYkFwnUBSUC5raIgDA4ILkmFB5Tog9KJZhMI1Q+UqIHsAAPs1JqMDCtK2AAAAAElFTkSuQmCC)}\n#webamp #repeat.selected {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAPCAMAAADAkV+TAAAAeFBMVEUA1gAoKD8pKUApKkEqKUEqKkEqKkMrK0QsK0MsK0QsLEUsLEYtLUcuLUcuLUguLkkvL0ovN00wL0swL0wwMEsxMU01NlQ2NVM2NVQ2NlU2NlY3N1c3N1g3OFg4N1g4OFlKWmtSY3N7hJSElKWttca9ztbV3vLv///lInoXAAAAgUlEQVQYGQXBMQ7CUAwFMP+SzkgoO1vvfyQOgJBYWKB52OsOQpIVSJaZTdTnCgAAIDUuAACAcwoDAAAyKfCFHQBAAQ+OyO8NGlAAkL3Bs4Fa4AAvGgAqsAfQAKAWAPQTNKACgNYAoBYBAAAozgQAAFAyAQAAWLeRNSQRmS3j3GTCH4ZgNtlEi15VAAAAAElFTkSuQmCC)}\n#webamp #repeat.selected.winamp-active {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAPBAMAAAAFYbKSAAAAFVBMVEUA1gAICBBSa3Nje4R7jJyPn6itvcYox7XLAAAATElEQVQI12MQRAEM6FwTFzhwVmQQdEtDAEcgFyHrAuYKCoogcwUYQpwVwWIwrhNICsoVDQ1xFERwQTIiqFxHhF40i1C4ZqhcRWQvAAA51isA/VWazgAAAABJRU5ErkJggg==)}\n#webamp #equalizer-button {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABcAAAAMCAMAAAC+5dbKAAAAUVBMVEUQWgAqKUIqKkMrK0QrLEQsK0MsK0QsK0YsLEUsLEYtLUcuLUcuLUguLkkvL0ovN00wL0wwMEsxMU1KWmtSY3N7hJSElKWttca9ztbV3vLv//9O4LHRAAAAaUlEQVQYGQXBwQ2DUAwFMEODRCao2H++HnrKofBf7e0NAAD5lhcAAM+6iwUAkJVXwQ8Ho42GVeDjimmmTSM7AGYAKHCBhmmww5GEntHTAykCcIozZ6A8CQAAqawAAEDda/NgbZFErMfuD041NCuZPULmAAAAAElFTkSuQmCC)}\n#webamp #equalizer-button.selected {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABcAAAAMBAMAAAB7FTvLAAAAIVBMVEUA1gArK0QvN01KWmtSY3N7hJSElKWttca9ztbV3vLv//9R/wqlAAAAT0lEQVQI12Moh4MyAYaqVTBQAuR0QEF7MIhjbNzRpNGkAeEYcHZodGg0wTlKGjCO5UyQDFQZEAD1QGTg9gA55amhUADkpBjDgQCDIAIIAAAWsDNHmvvPEQAAAABJRU5ErkJggg==)}\n#webamp #equalizer-button.winamp-active {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABcAAAAMBAMAAAB7FTvLAAAAGFBMVEUAAAAICBAQWgBSa3Nje4R7jJyPn6itvca8iDuFAAAASElEQVQI12MQRAABBhSOgGsoFAQDOeHlUFAK4sBkQsEcQcHQANYAVghHSC2UNZQ1AM5hYIVxxNJAMlBlQADUA5ZxRzbNEOECAM5YHW8MP5O/AAAAAElFTkSuQmCC)}\n#webamp #equalizer-button.selected.winamp-button {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABcAAAAMBAMAAAB7FTvLAAAAGFBMVEUAAAAA1gAICBBSa3Nje4R7jJyPn6itvcZs8alFAAAAR0lEQVQI12NQUIIDBQZUjmsoFAQDOeHlUFAK4sBkQsEcJaXQANYAVghHUSyUNZQ1AM5hYIVx1NJAMlBlQADUA5ZxRzYNyQUAEUAg+7nvOG8AAAAASUVORK5CYII=)}\n#webamp #playlist-button {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABcAAAAMCAMAAAC+5dbKAAAAUVBMVEUQWgAjIzgkIzckIzgkJDklJTolJjsmJTwmJjsnJz0nKD4oJz0oJz4oKD8pKUAqKUEqKUIqKkEvN01KWmtSY3N7hJSElKWttca9ztbV3vLv//+EzjHeAAAAXklEQVQYGQXBgRHCMAwEMLk4WYFj//nKAOHqR6o3AADk214AADyjGQCATKrhh+WwzwZygfve2ADUBYADwDT4gA2AhhUAxwZNACssAtqTAACgMwEAwPRRI5GpmTIhUX81UygSftVjhQAAAABJRU5ErkJggg==)}\n#webamp #playlist-button.selected {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABcAAAAMBAMAAAB7FTvLAAAAIVBMVEUA1gArK0QvN01KWmtSY3N7hJSElKWttca9ztbV3vLv//9R/wqlAAAASklEQVQI12Moh4MyAYaqVTBQAuR0QEF7MIhjbNyhpKEB5RhwdmggcxAyljM7NDpgHCDQAMqBOXB7gJzy1FAoAHJSjOFAgEEQAQQAwMcyRToQk0kAAAAASUVORK5CYII=)}\n#webamp #playlist-button.winamp-active {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABcAAAAMBAMAAAB7FTvLAAAAGFBMVEUAAAAICBAQWgBSa3Nje4R7jJyPn6itvca8iDuFAAAARElEQVQI12MQRAABBhQOo2soFDgDOeHlUFAK4sBkQsEcQcFQBlZWKEdILZQVmYOQEUsLZQ2FcYCAFSgH4rgjm2aIcAEAbLsb8tZoQy8AAAAASUVORK5CYII=)}\n#webamp #playlist-button.selected.winamp-active {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABcAAAAMBAMAAAB7FTvLAAAAGFBMVEUAAAAA1gAICBBSa3Nje4R7jJyPn6itvcZs8alFAAAARElEQVQI12NgUoIDBQZUjmsoFDgDOeHlUFAK4sBkQsEcJaVQBlZWKEdRLJQVmYOQUUsLZQ2FcYCAFSgH4rgjm2aEcAEAZCcevKaFFFgAAAAASUVORK5CYII=)}\n#webamp #title-bar {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAARMAAAAOCAMAAAA7SAh7AAACH1BMVEULFRIMDAwNDRQOFQsPDxcQEBkRERsTEh0TEx4TFB4UFBQUFB0UFB8VFSAVFSIVFiEWFSAWFiEWFiIXFyQXGCQYFyUYGCUZGSYZGicaGScaGSgaGicaGigbGyobHCscGyscHCsdHS0dHS4dHi0dHi4eEQoeHS8eHi8fHyIfHzAfHzIfIDEgIDEgIDMhITQhIjQiITQiIjUiIyYjIzYjIzgjJDcjJDgkGwkkIzckIzgkJDklJTolJjsmJTsmJjsmJj0nJz4nKD4oJz4oKD8pKUAqKUEqKUIqKkEqKkMrK0QrLEQsIx8sK0QsLEUtLUctLUgtLkctLkguLUcuLUguLkcuLkkvL0ovMEsvMSUwL0swMEswMEwxMU0xMk0xMk4yMU0yMU4yMk8zM1AzNFI0MCw0M1E0NFE0NFI1LRA1NVM1NVQ1NlQ2NVU2NlU3N1Y3N1g3OFc3OFg4N1c4N1g4OFk5OVo7O1U+PlpAQF5CNhtDQ2BFQTxGQh9HR2RPTmdRPhtRUWxSSj1VVW9ZWXNaVzpbW2JdUCldXWdgYGpgYHliWkViYm5kZHJmZnVnZ3xoWTVpaHdqanpqaoBqe3trXUNra3xsbH5uboFuboZwcINwgY9xcYZzc4hzc4pzk5p0dIt1dYx4eIt6eo9+fo+AgJSBl42Gd02IiJeJlZqPj5+QkJCUlJ6VlaaZc0KdnaiggTSgoK+oqLOtrbivr7y2nFTBZ8mPAAAErElEQVQYGbXB36vfdR0H8Mfz/fl8p86Zx6Gz1YKDgaNp0vIiSLqoRLuokO66SGgJdtk/EARCXXZpEhjojVcKSoyUbroQssBdKKZWVjgkFZ24lut8P+9Xn885Z2uzHxc5H480u5rzYlssYluMFqlmtC0MdgypNESjEmIWxrTexGIgtErMGhmFWETrhkoJYldUROiDIi5UKapat6iUcwq9lU5ZlMJWbx2lt64wpQqdqa3LYnSfizUXi/MG/xIXiB2DXbFjtIhzYltzXnOB2BE7Wm92RKWEiverVMqit966bZUyKxfodnU7yq6yWFv8eOSHUkGINCFaNdH62FtiNhDsQZPWB4QWQ60kUhkEAyGG0ghDYjamhUFEjJU+EINZH2nSSusNYURVGkJUqPh3JWVWFBXrca0spkKnY6qU0rtSpjYpvfdSTK33VFdFaayndbdraEKoZtGmRCHdotlRDdHQatURSUfSO0KPLoYxqoyrUMVkVqZJs5hobbStF43EONJJQ4qqIN6vXCQ91rW2rbREb3qPiVKqKVImhSmEUqmuLPpoMfDwt0j1NKnr/E+l/P+OCjHYNURvNAyTc9aj3hK0J1xan9pbfmv2mXWttu5aj+vx0YmvPvcA9978mDYyTiOP3P/w3USkDhw75EPz6oOfJd/w+O0fefTo9b+484onvnz5ry8/+uxr7hxe/r2vOP3056721JGPM514e+SJY4dcSq8+eGue2W924pZa37XX7OuPqVOH7+Xwc9TIhEfu/wMGs4pNH55Ni9MbH/2IzY+9Xmb59Mv064d+8I/Fvo2rGDnxt9sO/8Zs0yW1if1HzZ7V1s/YUb7/g8OnNl584EtVI4PZbbd56E9sfkd40qV02sUS/rxxhEN7Xg+T2vcJ2g1nt/ZdecbZy252Zu+a6/aYYvakD+i0i1WOXrOHfxx9Y+0CW6c2TlEyMg18s+KhBz55zzHBjT5EJ1S8a+Pvw4H6Cwbv9Wux8e607/pXvHlw7zsrs2uveeuF3nCjS+tE6uAVh3j1yjdat6vz5uFTtzwlZUQfVMzuEYt3bvKhed7i9bOX/XXvgTN2nPh8c92wh4Ov8O7VJzeNvPCmsRHv3ORSel7Zv7+41oktD91t9tM7mvuufNFTh+99qRsZEXz7Z8cI3jh+3CV0xkVulVr11zbfeuvA2zVanPrdETec/lW+sG8vJ686uWnb2Jv42vHjPpgzLnJEPf3FET8vbv/lSWcvu6O6jed+wndvfqlJu+9HpMKQICQiGIOQRsgKzdDTiEbaynpMhEHErCXRVAsZKqGNU2tCBiGMRCqDBI3QYhZGKrEtFvHflFmlVHrM1orSh951FGuF6m1NVZkUfT1uKdapykSVStdfGc3ec04qFrEjZq1GizAkFiHNtoE0BA2JWVhNA03MBlKhEYu22lrF1ioWMWsEcYGQ0kipxKxiW6VSVUP1lFml7KhUl6pK2Vbp1kW3qCoKk1npqLUyq+89TvOfxAXGlsmipCaLmE3lnE4sUmVblRpoziuzErPWVlurmFaxCFqrUnbFLAkqeq9Oi0Wck0r03hKziB0pmbVU7KguK7sS2yazMqtaK7Oi9H8CJR/yJg+gKVcAAAAASUVORK5CYII=)}\n#webamp .selected #title-bar {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAARMAAAAOCAMAAAA7SAh7AAACClBMVEUNDRQPDxcQEBkRERsTEh0TEx4TFB4UFB0UFB8VFSAVFSIVFiEWFSAWFiEWFiIXFyQXGCQYFyUYGCUZGSYZGicaGScaGSgaGicaGigbGyobHCscGyscHCsdHS0dHS4dHi0dHi4eHS8eHi8eHyUfHzAfHzIfIDEgIDEgIDMhITQhIjQiITQiIjUjIzYjIzgjJDcjJDgkIzckIzgkJDklJTolJiwlJjsmJTsmJjsmJj0nJz4nKD4oJz4oKD8pKUAqKUEqKUIqKkEqKkMrK0QrLEQsK0QsLEUtLUctLUgtLkctLkguLUcuLUguLkcuLkkvL0ovMEswL0swMEswMEwxMU0xMk0xMk4yMU0yMU4yMk8zM1AzNFI0MCw0M1E0NFE0NFI1LRA1NVM1NVQ1NlQ2NVU2NlU3N1Y3N1g3OFc3OFg4N1c4N1g4OFk5OVo6QFU+Plo/QitDQ2BFQTxPTmdRUWxSSj1aVzpbW2JdXWdgYGpgYHliYm5kZHJmZnVnZ3xoWTVpaHdqanpqaoBrXUNra3xsbH5uboFuboZwcINxcYZzbFJzc4hzc4p0dIt1dYh1dYx4eIt6eo+Id0mIiJePj5+UlJ6VlaaZc0Kah12ckXWgoK+jlGqqurGtrbivr7yztri2nFS71tm/uX7AwcbE3+HJydDO4c7O4tHV1drj4+fsznrvvmbx8fP////AbX/CAAAEhklEQVQYGbXBz6tndR0H4Of1Oec2M7eud5ipKbHBKaJSoaZlJISrQhdCEEiQkPU/6J/gstYtgibazKJEFIpoEYm7omAsRFBRgi7OyPg1Z+R+z+fdOffHNNd+LPLO88ShuCX2xCL2xGCRakZ7wmDfkEpDNCohZmFI600sBkKrxCxkEGIRw2SslCAOREWEPijidpWiqnWLSjlU6K1MlEUprCuF0ltXmFKFTs9UFvGko+KouKX5l7hN7BsciH2DRRyKPc0tcZtmX+xLxb6mt67Rmw/qrbduUamUPZUy625TDnT7yoGymCx+PPJDqSBEmhCtmmh97C0xGwg20KT1AaFFq1EilVEwEGIojdASszEtNBExVvpADGZ9pEkrrTeEEVVpCFGh4t+VlFlRVKzHtbKYCp2OqVJK70rp6UrvvRQ91VNdFaUx9akcGJoQqlm0KVFIt2j2VUM0pMZCpHUkvSP06KINUWXcCFV0szJNmsVEa6M9vWgkxpFOGlJUBfFB5Yj0WNfantISvek9JkqppkjpClMIpVJdWfTRonHpu6R6mtTH/U+l/P++JMTgwBC90TBMDq1HvSVozzteXzhVPmP2yro2dh8z+3nnodUO57Z+rY0MfeDSM5ceJyL1iae23THXn/4y+bZfPLJ5+cHTzz1y8pffOPHi9gNXXvXN8W9/9LD3fvfVbb+6+EnWf7o68vxT247T9acv5t7B7HMv1/qxk2bf+Zla3b+12jr/EjXScekZs8Gs4ow754zFu6fv2fT5s1fLLBdfpd8z1ulWbG7fxcjLOw/e96LZGcfqDMZTI+sb2vpN+8rO1vkbp97YUTXSzB7kp1c5+33hBcepOyrh+un7+fTG1TCpzU/RLuzubm69a3fjK26eXLO9aTdmL/iQuqMqWydOcnO0ttoyW5mtbpzbWSkZ6Y3HK376e48+IbjPHfSsitfvPX1zOFt/xeD9fhbb/1hvfvbPrp07ef2E2Znp6l96w32O17Opc05xg9attljR2Tq1c2prJ2VERcXsUbF4+4I75jWLv+9uvP2Rszfs+8PX4u7xxAmn8c726oSRV18zNuLtC47Ta8qwiY9O2bUeV7ipOXf+jdXW+dUr3ciA4Hs/eYLgrcuO0zVHXJTa6G/dfc3Zd2q0uPbmeRfe+20e2vwYq7uufN2esTfx8GUf0jVHfFE9962Oy8WVB8yuVLf10o6d1ZYmnvwRqTAkCIkIxiCkETKiGXoa0UhG05AIo4hZS6KpFtIqoY1Ta0KaEEYilUGCRmgxCyOV2BOL+G/KrFIqPWZrRelD7zqKtUL1tqaqdEVfj7uKKVWZqFLp+uuj2fsOpWIR+2LWarAIQ2IR0uwZSEPQkJiFsTeamA2kQiMWGddjrMdYxGwgiNuElEZKJWYVeyqVqhqqp8wqZV+lulSvlD2VbirKoqooTGaloyZlVj/4Dc1/ErcZkm5RUpNFzKZyqBOLVNlTpRrNLWVWYpaM6zH6GItgGKqUAzFLgoreq9NiEYdSid5bYhaxLyWzIRX7qmR0ILFnMiuzqkmZFaX/E7gg7x1c8BJqAAAAAElFTkSuQmCC)}\n#webamp .llama #title-bar {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAARMAAAAOCAMAAAA7SAh7AAACW1BMVEULFRIMDAwNDRQOFQsPDxcQEBkRERsTEh0TEx4TFB4UFBQUFB0UFB8VFSAVFSIVFiEWFSAWFiEWFiIXFyQXGCQYFyUYGCUZGSYZGicaGScaGSgaGicaGigbGyobHCscGyscHCsdHS0dHS4dHi0dHi4eEQoeHS0eHS8eHi8fHyIfHzAfHzIfIDEgIDEgIDMhITQhIjQiITQiIjUiIyYjIzYjIzgjJDcjJDgkGwkkIzckIzgkJDklJTclJTolJjsmJTsmJjsmJj0nJz4nKD4oJz4oKD8pKUApKUIpKkEpKkIqKUEqKUIqKkEqKkMrK0QrLEQsIx8sK0QsLEUtLD0tLUctLUgtLkctLkguLUcuLUguLkcuLkkvL0ovMEsvMSUwL0swMEswMEwwMUAxMU0xMk0xMk4yMU0yMU4yMk8zM1AzNFI0MCw0M1E0NFE0NFI1LRA1NVM1NVQ1NlQ2NVU2Nkk2Nk82NlU3N1Y3N1g3OFc3OFg4N1c4N1g4OEw4OFk5OUc5OVo7O1U9P0w+PlpAQF5CNhtDQ1NDQ2BFQTxGQh9HR2RJSVlOTl9PTmdRPhtRUWxSSj1VVW9ZWXNaVzpbW2JdUCldXWdgYGpgYHliWkViYm5kZHJmZnVnZ3xoWTVpaHdqanpqaoBqe3trXUNra3xsbH5uboFuboZwcINwgY9xcYZzc31zc4hzc4pzk5p0dIt1dYh1dYx3d4F4eIt6eo9+fo+AgJSBl42EhI2Gd02IiJeJlZqPj5+QkJCUlJ6VlaaZc0KdnaiggTSgoK+lpauoqLOtrbivr7y2nFRq7ap0AAAHC0lEQVQYGQXBbayehVkA4Ou+n+ct7U7LaUGggOfs4FpwdKUZ/eDDoJjRLCtm0x9+TX9pTPxhkDDnTPzh/GGyRKPYGGPUmAwzk63JEhHIMkYmiFgOlYrYoptCoaOUMvpJ21PO+9631xUJkAAEECCAMILoNALBABiiIxGSjiAgmERWCjAQZEdAEqMgQMoydLRAAIQOIahBEwCgo+nOAh0NoFHZigKtsVpZaJWlMYtuFNNhtcFoPwAgAQABwACAAIAADAABGEEACCABSABIQACyEpAqS1IJAKCyskBlZQEdDQUABVCABmgwBV8e+ZLoQBAiBSE7hayxMgIGAlchRdaAIMPQExGychAYCMKalgRDJIyRwSCENHbUQBigRlJkG6cjghHdkUhSJZUAAChZUDQdpuNUg9VGUZh1tFaltFnOtKpqxSyroktPacl0Ni2AIQVBJ8hZhEYUSEAnQiJ7UkgZhYgqBBVKGMZQZZwE3cygzGYSzMgcgWpGIowjRSSyqEokAIACAKLCtKfATEaoVBVmtNapiDbTmAVJ6+jSoEYw8NQ+oitS9PUAAGCFHAARQAZk6EohQAaMXSGApMRYGQyCNAAMoZLEZBXAdFQZgRoBUAkAKlPJIkuWrsRk2hE96y5NlnwGAPdmtRdgz7Qnq59fnaxO/n7GLxzaz0O7HpMj42zkO1956kFCiL7h4SUAABx7dEX/ye9+4av7fvI/f2w9nvu6+M1tXHn+nx7F0cd2/5xv/etn7j36Db4494d+a+O/PfeFD/427Nj7/lcfvvR3v3b87D2vffdX1v/1/VtfvGYrqy++fvuOyeor3+/Kz85hedvcNz6655glPEH+9Nw/jq7ffexIyltunT7t40sOrt7n+FF7Np1Z9unjR29bzIuvnsH06vv8y7lY3DZOj7yxeftcvXX45j3HTu1Z3vPGQU8/vATg2KN3i+evheVdPf38Bvilr+mzOx5ixyF6ZIbvfOV/MECHLQAAsAW/s/YXP3Yrvth/9cGXZDTP/vsje77lwh/htum4+Dw6gjEP/PrOm/IQXrn/6nty/cL6swDw4vm9n3h95/TpHz2jRo/75YtP2ibA8okRMwYwlrqxxk3nBrZeAvM1z0XzSxeWF85BLlQunO/t9cyNP7Rt7oVxOjvv1KXpdIW2BYAtcO1d8KKcPgtoD/3ZjrMbX9n/QPfIAHv3evJ/2fKzgm/CBQAA0keuWrMFlaCCXbu809b9/utf71uOL9wSCI1677/u+OhrLyfeWbyVnV6+05aFjwhwzaCY7L1y8f0ENPsGuGPb00YIgDUbji9sXWZlfv7CBjbn8YXNJz88Om/Dpy6cPoPafGbT5iNh/NTK6nnunf7g3QtMTx/fflD4JlwA5Czuun4dl+86NQWAK2c3nqXFyGxgb4cn//i2Rz4ncAcAAHiJPx09lr9KBD10hD625cpfTlx59d26a93lyxt+AqB6fGLruseHGuS7i9e+tbh4FleOb0lgcXbiiIPb567a+b0kiw7em1+Lk6eMKqmEkgtO3jyfMyeXvLOBxZXLFk8u17lXtsxt2PZCcfXak2vnrj69vG1u7fbXl+/cMC6dOHHh/OnveoJyBwBequhb1i1x7OpTWQDFiR1n73xTtBE16IBHBDjzSQAAHDaZDWShEZWIH2666adewA2fuW66MFo864ZP+zYPuHioqKR+sNvb1699Jzj13MIE+I+jgxt//LXv//xYkgQO37wH3Hz+cjebrTD/I07fOL29xvnB8aWVc5j/8OaaJ+cXX3afUhbqusHCh7f999s/kz527p/v3+SG98eG6eDMJwEc1lxzXXGdWPU3vwF/8WDaP/eKN3c8dKSMjAh89vHPETh14AAuAQCsWBNUYoCsAZM3b/rEC+budWH83j/48i2HXXuPb3OP15YxzAb5xgfrD238+OnmCgCDOLm6a/fqwRGVALC05KXLWex27D2bdntmw8Fz83dvveTSynvY7Fm3L2w+6eJ4n4vLpM1vHakHN78627l7uuzSrUt19MTi0imK9MCBA7gE3N36mX0THGj2PfW2K1c92GXjoT/nt3cdSZH7f4/oYIhAECEExkAQSRBrkIaKJCSRE9MxQjIIARkxSp1BDB1JjrNMQQyCZCRExyACSZADBCMdASRIAAAABZWlowKmmpmaTEuhmWp05ZTqNtPUdFxVTKM7ZvRUR6n/G2EFQHSAAARkjyAYIkAQCQxEIpCIgGDNdCQFDEQHSYCcrE7C6iRAQhIIAAiiJdE6AjqAjo7uHrqioaMBHV2iu7KAjjJtCnQ3jRm0Qq9q6D/4GgkAAAIAxowZaNEzEDBrAEWA6Aa69UgC0NACMierkzCbBEhkdmuAgIhAh6ouMkAAiI5QlREQAhAtIiKzEtAlJgARwAwaulc1NK3+HwQZGF3RS6s/AAAAAElFTkSuQmCC)}\n#webamp .llama.selected #title-bar {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAARMAAAAOCAMAAAA7SAh7AAACSVBMVEUNDRQPDxcQEBkRERsTEh0TEx4TFB4UFB0UFB8VFSAVFSIVFiEWFSAWFiEWFiIXFyQXGCQYFyUYGCUZGSYZGicaGScaGSgaGicaGigbGyobHCscGyscHCsdHS0dHS4dHi0dHi4eHS0eHS8eHi8eHyUfHzAfHzIfIDEgIDEgIDMhITQhIjQiITQiIjUjIzYjIzgjJDcjJDgkIzckIzgkJDklJTolJiwlJjsmJTsmJjsmJj0nJz4nKD4oJz4oKD8pKUApKUIpKkEpKkIqKUEqKUIqKkEqKkMrK0QrLEQsK0QsLEUtLD0tLUctLUgtLkctLkguLUcuLUguLkcuLkkvL0ovMEswL0swMEswMEwxMUIxMU0xMk0xMk4yMU0yMU4yMk8zM1AzNFI0MCw0M1E0NFE0NFI1LRA1NVM1NVQ1NlQ2NVU2Nk82NlU3N1Y3N1g3OFc3OFg4N1c4N1g4OFk5OVo6QFU7O1U9P0w+Plo/QitAQF5DQ1NDQ2BFQTxHR2RJSVlOTl9RUWxSSj1VVW9ZWXNaVzpbW2JdXWdgYGpgYHliYm5kZHJmZnVnZ3xoWTVpaHdqanpqaoBrXUNra3xsbH5uboFuboZub3pwcINxcYZzbFJzc4hzc4p0dIt1dYh1dYx4eIt6eo9+fo9/f4eEhI2Id0mIiJePj5+UlJ6VlaaZc0Kah12ckXWdnaigoK+jlGqoqLOqurGtrbivr7yztri2nFS71tm/uX7AwcbE3+HJydDO4c7O4tHV1drj4+fsznrvvmbx8fP///8QuCFEAAAG4ElEQVQYGQXBX6zfd10H4Of1+X4POz3lrH/P2rMOGZaWdmsZnSsbatIRCDDcILuQG5ULQgzqhQazGBK4UOO8wMSLOWMEEzOiNwN2wUw7WTJnWUdTks7NgFA3LHQ9dadlbc5a253v7/P2eQIgAAQICBADSDUjEAbAkEpDNCohEMa03gQMhFYJhAxCQAwzY6UEAYiKCH1QBABUiqrWQaUAFHorMwqUwlQplN66wixV6MzaVCAeBQAEABAAGgACAAEMAAEMIAACDAAEABoggFQATW9dozcAAL311kGlUkCloANAAcwABVBgBv5q5E+lghBpQrRqovWxtwQGgnegSesDQotWo0Qqo2AgxDtKI7Q0GNNCE9GMlT4QA/SRJq0MswFhRFUaQlSoAACgpKAoKqZxUmAqdDpmlVJ615WervTeS6eneqqridKY9VkBDE0I1UCbJQrpoAGqIRpSYyHSOpLeEXp00Ybo3TgXqujQzWYamNHaCPRiIDGOdNKQoioIAIACANJjqgnoWqI3vceMUqrppHSFWWiUSnUF+ggaxz5BqqdJLQEAgBu0BkiAFkiUiIAWGKtHgEaXsbfQhGYAGKI3GsYJwDTqLUEfAFABAJUoKVJSqjfMTZVUr+qK1rXnAfDB1sv74IdTza1/AR7vPLh2lncvflMbGfrAsSeOPUBE6pavbgYAwOVHbqjH/vAvvvHrv3Zu6wJe+IZ86Tamf3/qMZz764983DP/9un7zv0dX57/ii/efPLZP7n2eBz+yOW/f+TG3/7+pfOHX//W5+cf//SuU7fuYjpx5sO/NE4/+1719pvzOL1//p/3HVqxjKdoD8x/c/TeAysnI3ffNv2LDy578e0jVk45sunK8z61curwzlw//Qb6liOeu5xD7xqnn//gtkPzdeH4/oMrFw6dPrTyrOe+uhnA5UfukT1zcMd/1vSFefiDx9TaBxbXFne/RI10HHsCBqjYBgAA2/Doht++5QD+qL527YtaihP/8Xv3fce1r+DOyp3PoRLGdvQzv/LLwymcOvLO+zO/d/48AJxa/eQ9Z94zO3bgJ/roSb9z/dv2ywiv/NeIGQNopbbWeMsq9qyDm+tmrltavnZi3ypkb2Xfybp99q93nHHX/IvvfKuvHLxwebq+TtkGwDaY3zAy/Z82vQYoZxd3X9346llVIw0e4OgqS58SvgsTAADN3E3jZvQGejh82JWy4c9XH68dF7fvCKLQf3z29qXXTwZvLu3lXid+1Y7fvUnArVu8zfiJ9bdXG6B4eIB9e75jhABsXFhZ3vMG65tdW+BgVpYPvnLj1JKFj15begO1/dK27WL82Pr6KT40rf78MuuXX7vrWfFdmABtlsX5jVwdTdYWYQ3Wru68sKZkpDceqDh61GcfEtwNAACe5MuDf2ifI6GGSvjfndOjo+nlK7OPzd24MX8/QK/xiS/N/WOraBeXNq8uLV3DdGnHCNwyu/gDx+/ZMPee443WqfDmwiZcvGjUG71ByT6Xdm4OF5ddWGDr+sxWz9fqT5fnF+56ttgyt35jfsvq9+/aMHf7qe/du3FcftfZa6sXn/EtursB8GRP3WojN9G6tUXW6CxuvLBxUcqIigp8VsDqHgAAnDH2RusopDf42cLWB49h02/sre2DO89ZeMjTfNJbL87mVOiv7vfTzXNvhktPfX4EXjo92PX+H7/8W0PXaMDxPYfA/vNXq9jrEgu7vbZ1eu9sXOIny+uXb+PmaXvdTJa2nnREKXtry2DvjTte+9HDg4PXnvn4JjuuzBVMg9U9AM4o5hawOMu66/NruKx59+5X1xZ3r/2oGxkQPPj0QwSrX4dfAADcMBd6wwCtD7Cy9f3HzN3n+vD63/jLHedsvdfT3Ov1F9B6tB9+dP6FXbv+uwDAIOenDxyajo/oDTDC8jJnWueAlUs2bXJh4cXVpQ/tWXdl/SIOOurw8sFXXJ074voJYvuFk/3h7W+t33lg+r7Zzs/UubPvW75wXqe5/+vwC+CeUv/0uY6vFacPwcvVLb50lrVFTTz6Z6TCkCAkIhiDkEbIHJqhpxGNZDQbEmEUgZaMmmohrdJo46w1IU1ojEQqgwSN0BqEkUqAgAAAACiolEoPTIquj7Ouo5gUqreJXqUr+jSu68xSlRk1qXT9f0a4ASAVEECg1QDCkICQBgykIWhIIMzNBprAQCo0AjJOY0xjQGAgCACElEZKJVABKpWqGqqnoFKASnWpXimg0s2KAlVFYQaloyYF9cffpgEAgADAkHRQUjMQmBWATkCqgCo10AAoKIFknMboY0AwDFUKIJAEFb1XpwUEQCrRe0sgAkhJkiEVQJWMAAkwg4KqSUFR+v8DYP8M63Qn0TQAAAAASUVORK5CYII=)}\n#webamp .selected #title-bar #option.clicked {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJBAMAAAASvxsjAAAAHlBMVEUUFB8VFSAVFSIVFiEWFSAWFiEWFiI0MCyah13sznoaG8L5AAAAPElEQVQI12NgYBAUCmBgmCCoaMDAWSmoZMAwvVIwNIBhRueMjgkMAoLTKwMYGAWnz0xgEBT0DAWxXdMSACxMDDJsyBoOAAAAAElFTkSuQmCC)}\n#webamp .selected #title-bar #option:active {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJBAMAAAASvxsjAAAAD1BMVEUhKDU0MCyah12jlGrsznoe/O3VAAAAMklEQVQI12MwBgIDBgMHBgYDBhMRASDpKCIIJJ1UnJQcGAwEHUWAsoyOLkCSgQWIweoBtzQG0TH1VqcAAAAASUVORK5CYII=)}\n#webamp .selected #title-bar #option.selected {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJBAMAAAASvxsjAAAAD1BMVEUhKDU0MCyah12jlGrsznoe/O3VAAAAMklEQVQI12MwBgIDBgMHBgYDBhMRASDpKCIIJJ1UnJQcGAwEHUWAsoyOLkCSgQWIweoBtzQG0TH1VqcAAAAASUVORK5CYII=)}\n#webamp .selected #title-bar #minimize.clicked {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAMAAADXT/YiAAAASFBMVEUqKUIqKkMrK0QrLEQsK0QsLEUtLUctLUgtLkcuLUhFQTxSSj1aVzpoWTVrXUNzbFKId0mckXWqurG71tm/uX7AwcbE3+HO4c5KSa+JAAAAPElEQVQIHQXBwQHAMAjEMJvQfLv/lJ0ArpK3FsLQZxogW9uqXjqlkKQphYTmcGBI4wPU6OVd4FtvYEzyA+cLGDTjuSw1AAAAAElFTkSuQmCC)}\n#webamp .selected #title-bar #minimize.winamp-active {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJBAMAAAASvxsjAAAAIVBMVEVFQTxSSj1aVzpoWTVrXUNzbFKId0mRbkqckXWjlGq/uX4Hs2WWAAAAOUlEQVQI12OYCQQTGKYzMLBPYJggKCgwgWGSiYvRBIYpYWkhExhmdK3qAJKrVq0AqunoaJ/AAFYPAAQVFS+2qihdAAAAAElFTkSuQmCC)}\n#webamp .selected #title-bar #shade.clicked {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJBAMAAAASvxsjAAAAMFBMVEUtLUgtLkguLUcuLUguLkcuLkkvL0ovMEswL0swMEswMExFQTxSSj1rXUOqurHO4c6W/ePHAAAAQUlEQVQIHQE2AMn/AKqHZlVQAJnu7uUQAK7///4wAK3d3d0wAKzd3dwwAJzN3cwwAJvMzMNAAIi7u7MgAIZlVTAwDDgbUKzozR4AAAAASUVORK5CYII=)}\n#webamp .selected #title-bar #shade.winamp-active {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJBAMAAAASvxsjAAAAD1BMVEVFQTxSSj1rXUOjlGq/uX5Idn/CAAAAM0lEQVQIHQXBwRGAIAwAsLT07Z2zsP8qbuDBAliTmDjl1m8Gob6HK5uWti27V6uxDDFxfn1PDx8P0VYSAAAAAElFTkSuQmCC)}\n#webamp .selected #title-bar #close.clicked {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJBAMAAAASvxsjAAAALVBMVEUoJz4oKD8pKUAqKUEqKUIqKkMrK0Q0MCxoWTVrXUORbkqjlGq0h2PCsWH///9ex0i3AAAAO0lEQVQI12NIdTFWUmDIbC/vFGCIONm5Q4AhfPbq6UCy61U7A4P77LVAdsTOzhsMDJ5ANQwMLkaKCgwA5wURVkMAFf0AAAAASUVORK5CYII=)}\n#webamp .selected #title-bar #close.winamp-active {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJBAMAAAASvxsjAAAAElBMVEU0MCxoWTVrXUORbkqjlGr///+HjTObAAAAKUlEQVQI12NwAQIHBicBBiEHBkcmIUYHBgcFAwUgKRwsAGNDxCFqwOoB1gEH67W94+0AAAAASUVORK5CYII=)}\n#webamp #clutter-bar {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAArBAMAAAC3GdQgAAAAElBMVEUAAAAAAAgQECEYGCkzPElgYGraVCJcAAAAVElEQVQI132NsQ2AQAwDr8gCv0FGMNLTu8gKv/8qFCAgQqI7WWebbYyBACQJEUbyRDgaTf95Va3xeGWkKUTQqPz12m9eyyYB8s7eVEUSJs8VIPe1DmVJGRTmaMgdAAAAAElFTkSuQmCC)}\n#webamp #clutter-bar.disabled {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAArBAMAAAC3GdQgAAAAD1BMVEUAAAAAAAgQECEYGClgYGoHCnLLAAAAIklEQVQI12MwFBQUZDBgAAIDIBhULAVUlgJhFlivgomLCwA8qROh1kJ8awAAAABJRU5ErkJggg==)}\n#webamp #button-o:active {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAIAgMAAAC5YVYYAAAACVBMVEUAAAAYGClwgY/qIgoqAAAAGUlEQVQI12Nw0GBwaWNwaIKRGQwODAwuLgA+SAT1jbNsAAAAAABJRU5ErkJggg==)}\n#webamp #button-0.selected {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAIAgMAAAC5YVYYAAAACVBMVEUAAAAYGClwgY/qIgoqAAAAGUlEQVQI12Nw0GBwaWNwaIKRGQwODAwuLgA+SAT1jbNsAAAAAABJRU5ErkJggg==)}\n#webamp #button-a:active {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAHAgMAAABIN+TNAAAACVBMVEUAAAAYGClwgY/qIgoqAAAAGElEQVQI12Nw0GBwaWNwaGJwWQUmgWwGADIVBK9/og4OAAAAAElFTkSuQmCC)}\n#webamp #button-a.selected {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAHAgMAAABIN+TNAAAACVBMVEUAAAAYGClwgY/qIgoqAAAAGElEQVQI12Nw0GBwaWNwaGJwWQUmgWwGADIVBK9/og4OAAAAAElFTkSuQmCC)}\n#webamp #button-i:active {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAHAgMAAABIN+TNAAAACVBMVEUAAAAYGClwgY/qIgoqAAAAF0lEQVQI12NwcWFwWMHgksLgoAAjVwAALckEbUwsrjEAAAAASUVORK5CYII=)}\n#webamp #button-i.selected {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAHAgMAAABIN+TNAAAACVBMVEUAAAAYGClwgY/qIgoqAAAAF0lEQVQI12NwcWFwWMHgksLgoAAjVwAALckEbUwsrjEAAAAASUVORK5CYII=)}\n#webamp #button-d:active {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAIAgMAAAC5YVYYAAAADFBMVEUAAAAQECEYGClwgY/lGZUOAAAAHElEQVQI12NoYGDo6GBo+MPQcZqh4TCIdACSfwBnkgl9KMHv2wAAAABJRU5ErkJggg==)}\n#webamp #button-d.selected {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAIAgMAAAC5YVYYAAAADFBMVEUAAAAQECEYGClwgY/lGZUOAAAAHElEQVQI12NoYGDo6GBo+MPQcZqh4TCIdACSfwBnkgl9KMHv2wAAAABJRU5ErkJggg==)}\n#webamp #button-v:active {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAHAgMAAABIN+TNAAAADFBMVEUAAAAQECEYGClwgY/lGZUOAAAAF0lEQVQI12NwYGDwOM3gcBhG/mdwsAEAPG8GMJvxEOEAAAAASUVORK5CYII=)}\n#webamp #button-v.selected {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAHAgMAAABIN+TNAAAADFBMVEUAAAAQECEYGClwgY/lGZUOAAAAF0lEQVQI12NwYGDwOM3gcBhG/mdwsAEAPG8GMJvxEOEAAAAASUVORK5CYII=)}\n#webamp .shade #title-bar {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAARMAAAAOCAMAAAA7SAh7AAACJVBMVEUAAAAA+AAKDRYKDhYLFRIMDAwNDRQPDxcQEBkRERsTEh0TEx4TFB4UFB0UFB8VFSAVFSIVFiEVFiIWFSAWFiEWFiIXFyQXGCQYFyUYGCUZGSYZGicZGigaGScaGSgaGicaGigbGyobHCscGyscHCsdHS0dHS4dHi0dHi4eEQoeHS0eHS8eHi8fHyIfHzAfHzIfIDEgIDEgIDMhITQhIjQiITQiIjUiIyYjIzYjIzgjJDcjJDgkGwkkIzckIzgkJDklJTclJTolJjIlJjsmJTsmJjsmJj0nJz4nKD4oJz4oKD8pKUApKjUpKkEqKUEqKUIqKjoqKkEqKkMrKzwrK0QrLEQsIx8sK0QsLDssLEUtLUctLUgtLkctLkguLUcuLUguLkcuLkkvL0ovMEsvMSUwL0swMEswMEwwMUAxMU0xMk0xMk4yMU0yMU4yMk8zM1AzNFI0MCw0M1E0NFE0NFI1LRA1NVM1NVQ1NlQ2NVU2NlU3N0Q3N1Y3N1g3OFc3OFg4N1c4N1g4OFk5OVo9P0xCNhtDQ1NFQTxGQh9JSVlOTl9RPhtSSj1YWGJaVzpbW2JdUCldXWdgYGpiWkViYm5kZHJmZnVoWTVpaHdqanpqe3trXUNra3xsbH5uboFub3pwcINwgY9xcYZzc31zc4hzc4pzk5p0dIt1ZDd1dYx3d4F/f4eBl42EhI2Gd02IiJeQkJCUlJ6Zc0KdnaiggTSlpau2nFTZBQIoAAAFhklEQVQYGQXBQailB3kG4Of9/v9MohPDTUZT4umU5FKjNaIEtHGCu65asgpYq4LaKhZ0YaQFaUGDLS6C1KYbEUWwi0gWBbvIpnRlETS4CFaNGMW2CZc2QydzqUkmzTn/9/k8uQAQAAIEBIgFZMoOCAtgzaQQxSQEwi7VJWAh1CRQZBUCyrJZJyMIQExE6MUQADAZZqrBZAAMusZGgzE4dDVGVxtsmUFzXA4DVo8CAAoAEAAKAAGAAAoggAUEQIACoACgAAFUF6B0taILAEBXV4OurgYmAw0ADdCAARiwgS+vfEEmCJFFiJoSy7brSmAhuAkl1QtCxTI7iepaBQshLrSFYqnAmgqLiLJOeiEW6JWSGtWFYsVMCiEmTAAAMDIwDBPH9ajBNmga22SMbm1stRndPYZj9Va9mY1RbL0NwLoIYQosx8QgDQowhSjU7BqlqpF0I2xlU5ZdmbHuwgwbtG1TYKNqBXooqqwrTQoZZoIAABgAIB3HPgKjEl26Y2OMKU3GZrCFMKZ6M6BXUHz7Q2S2KhkyXdiW6hIKoRZAAlRuAIBnAAAAAABvB54BAABgAm+H94OTc06cc+IccOI8J65n3AYvmkuucecLXdUzw1BPATM4NJ/6/vgevPc4u8PT8M6NP3z2MR6+5ztqZemFJ7717Q8TkcnX/fnf3f6Jv/ydz/zD6z/52M2Pv+O+p79ZX1l/+g1f8fLf/MUd/urPfpfjj78jbnxyDwAPAQAAAAC+CDwEAAAA8EWcff39wv76bXtnnOxxDif7Yl+uu20PrsV+f3Zt/0I1ybufGrA3cECD/Nsl+MHvz/HpB+/D396rf336MKfPMkXjiW/9DOu6MPE/u/fc7tN3PYdSD8GfrH0XXHzfG1n40TfWe2oZLldVVVVVVRUAAAAAQFVVVQEAIAGAqqrLmBm37QtU7fcnbwEAVBVB7S/RmHfX/QnNAABcunLlypUrl9Q8CB7UPvfy6R2nv3rMzErBAw94/Hku/6nw4uUHObn5BqIvnuDNrx0u7v/baxf+wKs3D7c84P91+C4AAAAAAAD4Lvg1AAAGADwJEPYFUPbe8gsAAAS1p5r3lLr/BxoZHJZNg8mVkwu8duXqkftfAzi+dMtLjKx08cGJx7/6ex/5mOCJd11+pe4+fnWhvDp3s/z2i69c/KNveu709Vdvhcv9/L9OwikAAAAAAAA4BQAAEAOAd8FTYjjbF6CdvekXAGQAjuizveZOjcvPg4xDNqoh81s37Tl73dVqLvAUG9dOX3rrVRkrJibwEQEvvHrzczfd/X+Ar322fGC95RZ34X/vuHqriZ/9UxS89FYAAAAAAADYAwAAGACwx88B5/ZMtDPn5wAYNFjosxf24AyAwe6Arrb1uPX25pJ/P3jyfnjy3sWjr/uVq6cP/6StLAg++o8fIzD/+bYbN1xdgP945h3e/PJf50sX7+TqGx9/RCGqFy7+MwAoAAAIAACPglcAAAAAPAJ/PCPOnJ+fiHPOwZxzjutcB9e2cnbt6KyxL+j/4uOgAbT54ft2+Jfhvs/Dvb15w7N/z2fv+UnJhUcfIRPWBCERwS4IKUIuoCydIorUznFNFKsIVLJY9FJk7Qq1blVCFqFYiUwWCYpQgWJlEiAgAAAABiZj0oGjZvTSrTEcDabrSM/YDH1cD4ZDpuvAbCatf1lgYDtuAyYYFkNIBAoFISLhYBfKusIolaBbNVSGnqpgqQFWISwxTWGqGsqKbloTSDAAAMwMYGzp7qPjUSNyPGoMx0XM6CNteoPmAJZpTW9GQy4QADKBAASLUSDJ7CDIVGAlSqDSKkB2oQgsEJJA2R12sS0BhcWIEMggQIaIAAATk+lMmQEGMEbG1tVgbLUtBw1MM2wwtHEwMGbSvwGhZ2YZd3bCBAAAAABJRU5ErkJggg==)}\n#webamp .shade.selected #title-bar {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAARMAAAAOCAMAAAA7SAh7AAACFlBMVEUAAAAA+AAKDRYNDRQPDxcQEBkRERsTEh0TEx4TFB4UFB0UFB8VFSAVFSIVFiEVFiIWFSAWFiEWFiIXFyQXGCQYFyUYGCUZGSYZGicZGigaGScaGSgaGicaGigbGyobHCscGyscHCsdHS0dHS4dHi0dHi4eHS0eHS8eHi8eHyUfHzAfHzIfIDEgIDEgIDMhITQhIjQiITQiIjUjIzYjIzgjJDgkIzckIzgkJDklJTolJiwlJjIlJjsmJTsmJjsmJj0nJz4nKD4oJz4oKD8pKUApKkEqKUEqKUIqKjoqKkEqKkMrK0QrLEQsK0QsLDssLEUtLD0tLUctLUgtLkctLkguLUcuLUguLkcuLkkvL0EvL0ovMEswL0swMEswMEwxMUIxMU0xMk0xMk4yMU0yMU4yMk8zM1AzNFI0MCw0M1E0NFE0NFI1LRA1NVM1NVQ1NlQ2NVU2NlU3N0Q3N1Y3N1g3OFc3OFg4N1c4N1g4OFk5OUc5OVo9P0w/QitFQTxJSVlOTl9SSj1YWGJaVzpbW2JdXWdgYGpiYm5kZHJmZnVoWTVpaHdqanprXUNra3xsbH5uboFwcINxcYZzbFJzc4hzc4pzk5p0dIt1dYx3d4GBl42EhI2Id0mIiJeUlJ6Zc0Kah12ckXWjlGqlpauqurGztri2nFS71tm/uX7AwcbE3+HO4c7V1drj4+fsznrvvmbx8fP////Kv08RAAAFRklEQVRIx+2XTYiVVRjHf89z3jszXq4zmJozvpJhfoQp4a5NIrRwEYFIi4hUKsIW0aKdGISISZCLBDcRuFCIVm4icpXtohoilEEFwcXc8UrkoNnVYd7zPC3Oee/MnQ8cXHcY5p6P55z3Of/n638kkJvAgq70D5KkuNLorde7C3FRQFBwkbxNoBA1zYcEEFCXelEUmftOUdFwcWS+NoILgoAFvE9NwMXBXW1uVK8Apk6VuuA4EJOMY2ppQtwBg6hVkiw4QX+T5ceynFg90KUnZGm0F5+jC7ebzoPGEfCF+oFLDYapZXhqfKxPcGFnwUQSPlfA54hn0wgS0q+6IoTYME1WTTZmAFBELaQdKqgHRBCXBtKTFBpWO4Zq8iVVUARBKVws9NzPinSsZxgUCsBr70MxhR5E85uRcPD0J1RFla8XswtY7SGOGYZjYhhm5hhEcROPuIGjEC328CoyJHj6eqhEcECsz5DeCxTEg5PgNEDELF0jKhFBC8WMoiFgWT+MGPNhEVSLfD0HBVWKAgwSJA5WQ7UIkH6nNqGyqja+imCKmRBT9LhiII4loAQUHBePtbcU9VUvvgPiURVxEDcFYsjJoLZWz5WzB6s86tPpBitrO1YovgPgAACjHRil/pem6OgoU2psBGjjm5iELbdN1dyT4+hvGSHPjnNk3NkCcLPyxuxugD8MXuvehQ3NH9ACggW4ePniIRAEcfmao2dbH5wa/vjs0NGvBn8devnPb/RM0fmCMzw8eXyYY5+sg+rqJYRHx1rz73BwhZicWqH4KeDh6QMolFMbS9owWkJCZbQMUAam2FgCMCmUZXuyvK0GIq9eSYYfS95U9fKGPB8Atl/3andYP8yDPeN494Vmtzl2Czy5KBcvp4QLuNAdPtziozXTKXe8dAs4UngLoPXmaghw7dpb21RcGOFpWlh2ReYSX5YbySGysQwxzfVQ6ROMiEMos7jvDfuu4HU66WuNwQBxBq0CwzD8F87d5tjM4J27uBc5SF+BC/dh5H0EJnfugU2NO0nF1iZg8+xMa9cEs43dPB5yGB3AMIHxp8JkvD/tL1UbAPh9XkUqwxwA5SJQevUqlKAGewNh308YaUiViy+4NAdWwaNABTtn6s3dmWfudXGkSMn8kAsXfmH/ewjw/c7hx2GtnwugzFRrIYx0Z1uvTzC9fujBAMBI6++fXQS2PhUmW1foJ9tqRAzaPVAi7fmQaM8PKiC2Swy2EIHtN2uJSlJuBcTXMQiNtHMQJiBCc/DeYBPxVPEkV/39mRjcmG08CGv/zR+68KFwuBgYoAX8M9x5Docb36Wqw/3yaTBpLbvii+Taud+hBNOFiORK24ug9u2kUbtfoKgyaYnuhEFgVZRZ4vQapokENozd6TbHuhNGkWJWgHfPv5fZkk8/e4e13WyWiRsvsvnhp3KytQs6q89/lquQWoDmtyxFup7UvgRg+olyxwEOmqG06XRGUTp12FjuTcFUSrFRaU9WtI060uJ1eHsB1o7/+IYBlxyuMgmMe6R56y50mygSTpwmkbZCauaWyTQN6VFwBKQBKMHSWEEkYCqCQCNvQkWUgAUBCaYKWkRVtCbziZEJ4hJSWdeaAPb4mksf510ebKtZq4tJCiADx4IlDuJQ4YCbVmCeyYlVxSwGlbhLBW64GHZb50CMVaxzUJqq3xdSX7bWTXLVFoiERFobmSWReK9ZDl5VA/PEZbV+kBSZGgbBLZ3qmvKCUlCzO8uQqLJE9QAz6xk/iplVVInDCpJ7DlVAcMcqMNwzbWQ2we2Og1kqUiD/vwEXvQH/A3+xY8OlLccKAAAAAElFTkSuQmCC)}\n#webamp .shade.selected #title-bar #shade {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAMAAADXT/YiAAAAM1BMVEUtLUgtLkguLUcuLUguLkcuLkkvL0ovMEswL0swMEswMExFQTxSSj1zk5qBl42qurHO4c7FV37rAAAAOklEQVQIHQXBwQ2EQAwEMCdEPK7/YhFiM2fXzybCxAXvN1VVbe9tpenSDDCh+GhZVmpyHDwZu2HP9QfI+BkLtDdVPQAAAABJRU5ErkJggg==)}\n#webamp .shade #title-bar #shade.winamp-active {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJBAMAAAASvxsjAAAAD1BMVEVFQTxSSj2jlGq/uX7CsWH/Y2uiAAAALUlEQVQI12NQAgIFBiUGBiYFBgVhYwMFBkVhY0Mg6QwmXVwEgeIuLgIwNWD1AJzCBeFqt4OOAAAAAElFTkSuQmCC)}\n#webamp .shade #position {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAHAgMAAACTjE7vAAAADFBMVEUAABAwMEsxMUJaa3u9OGBkAAAAIklEQVQI12NgAIIDDFqrVq06wCAaBiZDQ8PAZCiM/A8EBwAZeBBhq+F40QAAAABJRU5ErkJggg==)}\n#webamp .shade #position::-moz-range-thumb {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAHAQMAAAD3d2XqAAAABlBMVEWjlGrsznoPowceAAAADklEQVQI12NwYHgAhw4AIi4E4a+iLsYAAAAASUVORK5CYII=)}\n#webamp .shade #position::-webkit-slider-thumb {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAHAQMAAAD3d2XqAAAABlBMVEWjlGrsznoPowceAAAADklEQVQI12NwYHgAhw4AIi4E4a+iLsYAAAAASUVORK5CYII=)}\n#webamp .shade #position.left::-moz-range-thumb {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAHAgMAAACw1x86AAAADFBMVEU9P0xoWTWjlGrsznp9Nqf9AAAAE0lEQVQI12PYwPCF4QcYfmHYAAArXgYxq2vCDQAAAABJRU5ErkJggg==)}\n#webamp .shade #position.left::-webkit-slider-thumb {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAHAgMAAACw1x86AAAADFBMVEU9P0xoWTWjlGrsznp9Nqf9AAAAE0lEQVQI12PYwPCF4QcYfmHYAAArXgYxq2vCDQAAAABJRU5ErkJggg==)}\n#webamp .shade #position.right::-moz-range-thumb {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAHAgMAAACw1x86AAAADFBMVEU9P0xoWTWjlGrsznp9Nqf9AAAAEklEQVQI12OwYKhh2AOGNQwWABlSA52dOQTnAAAAAElFTkSuQmCC)}\n#webamp .shade #position.right::-webkit-slider-thumb {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAHAgMAAACw1x86AAAADFBMVEU9P0xoWTWjlGrsznp9Nqf9AAAAEklEQVQI12OwYKhh2AOGNQwWABlSA52dOQTnAAAAAElFTkSuQmCC)}\n#webamp #volume {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEQAAAGkCAMAAAC//nO2AAAC5VBMVEUVFSEVFSIVgAoWFiMXFyQYFyUYGCUYGCYYkgsZGSgZdhAcHC0cbBQchRIeHi8fHzEfMh0fVR0omRwpKUArYyIsLEYujhYunBIvfhsvgRswSD4xMUoxMU0yMk8zM1AzM1IzNFEzNh80M1E0M1I0NFE0NFM0shU1NVQ1NlQ2NVM2NVQ2NlU3Ihw3N1c3N1g3OFc3OFg4N1c4N1g4OFc4OFk5OVo5bSw6OltAUkRCtiZHhidKSmhMlSVOeC9PpCNQT2lQUkRRmyxTO0BTU29WqypXjEFauihcmyxcwCphoCxixDFkritlvjdpdy9p2jBquCtrwCpsa4FtoCxvRB9woEtw1T5xcYlyxypz3D50xzF1TSd3iDd3oDF3tCt30zB4bi14eIx6IiN62jB7OCd7fI98e498fI59Vyp9fJB9fZJ+fpJ/f5R/1T6BxyqB4jCC3D6EtDGEwF6FnDGGYzmIoDGJQyyJYjGJrVqKxDCK4z6LfjiLjkiLmCyMpI2NmiyOWxeOjqGOmyyQxzGSRz2SVj+SkqSS4jCUyjiWlqiXXCGXaECaaSma4z6bXSGbfiebjSybw2Gb2jmdryydsJOeYhKeayafFhufKhufMzefPiGfSSGfVyGfbCefgSefkCyfmyyhok6j4Tik20Wk4jimxzGndkip40atrZKuV0auag2uwCqvlI6wYh+yERayKBayRx6ydiWynCqyriuywF+yxDG1hVK3RUy94ji/bRu/dRC/uyq/0zDB40bCcFTClFnCsV3Cv17DciPD1T7FDBLFJxLFQxvFURvFZRvFgCPFnCPFsSrFwCrF2TDGeA/G2jDIxdPI2z7JVyLJgSDJhSnJoCnJtDHJxDHJ3D7ZSh7ZWh7Zbx7ZfB/ZjifZlDfZrCfZsTfZwzDZxj7Z1DfbhC/fsSjgDhXgLBXgTB7gXB7gch7gkijgsijgyTDg2jDhHybhPCbhWC7hZy7hfC7hmTfhtjfhzD7h3D7eIOpxAAAEo0lEQVR42u3WeVRUZRjH8VuKpWZFkpjlWLN0uTMNMNOdycwpM0ZLIyjHSkoJyLBSMdvITGk1pVRMyzZTw4JSEVNLbVMgqCw1l9RcyfZ9/bv3vfd971jgP7/6o3Pe58vM4cA585z3zn3mc0brzXK5vW6Px+Pz+XRd9+sBqyArK5SZFQ6HTf4TMc2I9Wyb1tvFZrjPtIYYPsPQ9YAYw6dkhsLhbDaCT7Fqb4apuVwuNkIcxDAMvzOCTwkF2QxW5GgD7JOc2rWDdkyHZB3tUjqm8Dp1sn6lHNdunU/s7j6PD+l6cuoJeKm9LmBvltY5tcuxeF2iV7Or1E5K63Y8Xrf4w/wk3XtFT8GL31fB35MzXBddecNNN44eM3oM72b2sLpFdit7HK2KRysu4UPYHXa7vR6PwW+wnhEIOKsWCgbP5fdXLAi/w6b1+NuOWLfY5XZ5PV6PwRctQw9k+JP7aq2JvbDmES822y5bH34Sj4+tq274dT+fERTbmsU2LVtMiVhz2iyc/V+NrbzXWlfDxy7GWlf7FMGsYMi+Gv785xUc8YcZYUO87j585X3sJH75jvBB2eHM7HDyU2O2cyHiMNrpm/99GlHQHgVpPU9D65kmKEjrkY7XI2ZTEE0/Gy9dUtDvfLwEUUAUKExBtB9etK9NQbT/hXj94zYFsZxBeDkJm4K+8cvxiAKiQGkKLsaLCQrYp/hStEE5goL4kCvwhkgKEsOvRRt+2xNEAVGgLgWxwXgOBUPz8tHyhkoKRowqRhs14m5JwdgytLFEAVGgNgWXoSUpyMu/Bi0/LyEpKB6PVpykoOwetDKigChQmIKzYlfhORSMHIc3UlJQ/gheuUNB1WNoVbOJAqJAZQqux8sVFOROKH8ArXyCoOC6aVWLXsRaVDVNUDAgsfgltMVEAVFAFBAFRAFRoDgFuRPvQJuYO0BQMKcab869goLq1/GqJQUL38R77WWigChQmILJU+7HmjI5ScEreA4Fq9Zv+hhr0/pVCyUFG7d8irVlI1FAFBAFRAFRQBQQBUQBUUAUEAVEAVFAFBAFjILCF/AKBQWFK9d9iLZupaBg0s7WH9BadzoUtP6J1vouUUAUqEzBrAVosxwK6j/Aq5cU7Dj4PdrBHQ4Fh/5AO/QOUUAUEAVEAVFAFBAFRAFRQBQoT0HpzOfRZiYpeB+vfpKgYPv+w99hHd6/XVKw4MDvaAeIAqJAYQrOKaic9xzWvMrSgTYFpSta8FbMsCm4a9veb9H2blttUzBwyb7f0Pa9/SpRQBQQBUQBUUAUKE3BsOmPo00vEBQULH0Db6mgoHTDZ3gblggKZnyOt5ooIApUpmAqnqRg2NxavLm3Cwpq136EtrZWUlDZ8glaC1FAFChNwbN4yW8FzXjOt4LmPd+g7Wl2vhX8ikcUEAUqU1DyDF6JoKCk7j28uodsCu7cuvtrtN1bJQU1v+C9RRQQBSpT8DRekoImvLoHBQVNu75C29VUIyn4GY8oIApUpqDoKbwiQUHR8ka85YKCksYv8RolBfN/wqshCogClSl4Es+hYFkD3rL5NgVFDV/gNayRFPyIt4Yo+P9T8B9IsPkvQxJ1ta+jwcEAAAAASUVORK5CYII=)}\n#webamp #volume input::-webkit-slider-thumb {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAALBAMAAAC9q6FRAAAAFVBMVEUAAAALDxYvL0RKWmt7hJStvMTa5+opTTwbAAAAMUlEQVQI12NQFAQBIQaxNBBIZGALBYIQAyAtKiqKlwapM2RgcwEBQwZhYxAwZICaBwCdgQ6Jd297uQAAAABJRU5ErkJggg==)}\n#webamp #volume input::-moz-range-thumb {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAALBAMAAAC9q6FRAAAAFVBMVEUAAAALDxYvL0RKWmt7hJStvMTa5+opTTwbAAAAMUlEQVQI12NQFAQBIQaxNBBIZGALBYIQAyAtKiqKlwapM2RgcwEBQwZhYxAwZICaBwCdgQ6Jd297uQAAAABJRU5ErkJggg==)}\n#webamp #volume input:active::-webkit-slider-thumb {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAALBAMAAAC9q6FRAAAAFVBMVEUAAAALDxYZICovL0RKWmva5+r///+U4Y9MAAAAMUlEQVQI12MwFAQBYQbRUBAQZGBlAAIWBiQ6ISEBKw2SV4TTIi4gIMhgJKQopCgoDAB2aAh/NddRQgAAAABJRU5ErkJggg==)}\n#webamp #volume input:active::-moz-range-thumb {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAALBAMAAAC9q6FRAAAAFVBMVEUAAAALDxYZICovL0RKWmva5+r///+U4Y9MAAAAMUlEQVQI12MwFAQBYQbRUBAQZGBlAAIWBiQ6ISEBKw2SV4TTIi4gIMhgJKQopCgoDAB2aAh/NddRQgAAAABJRU5ErkJggg==)}\n#webamp .gen-window .gen-top {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAUAgMAAAAFGX4uAAAACVBMVEUeHi8rK0Rra3zjkZV/AAAAG0lEQVQI12NggIJVYNDAEAoGDlSj0QGx9kABAFXxKF3wQT+3AAAAAElFTkSuQmCC)}\n#webamp .gen-window .gen-top-left {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAUCAYAAAB4d5a9AAAB4ElEQVRIS61Vu04DMRDc3WuQqEBIVKlAQkKioEZU1PkVpHzhXZX8RUCiTpUjojs04/XrcjyUxFF09p3t8c7OjnU2exikaiqqmt6wryY6iLCrxg5+aGp4Wh77WszjDMwFyHw+r2GwEb9jmm+GycXmEYhgFjaM8/fWRZCuXYaj8kweTbExI4gbqYpxnIFThFxj+UBlJG27DFQ4DE9anb4Y+yYJhNSoqMWD/ATSrSIxKZJtv67TdeAo5SREoqJD4Ljv1/LydCO3s7MDt87LEsg4J/3nmywWr0cDkP6U+G4l0LKnXQByeXF+YhCoC1lxmQIEdJ2iTdAlzEu/e5f7u2t5frw6GqcG8QrFA3Ww+/o4GqDOCeny5iqD7vkP9ZzrZqJOyDTs5bdipLpEZNtv9guSi8MBcuXnwvMP2SmSE4y8awwyrnzaSGmMlc2MDTLazR8gMM1sM7Rb5im4cuHCUZFuQdlQs9ftJT7SBZCOVuNUaSNmOGEjhnfsF5R5Tho1GSpjLax+TBdB2pWXTsPUmzXBYV0M6JvfN3R8CZTGdxRM6cLTIMH+UTe8nCJl1jh1iDJSmNVVglBt1X1SqCtE4rIeSdpIHaIK9FF4BmKjOAA88Nv/InHgcJXmeyJTN3X91ur6BrqJo0MRJOhhAAAAAElFTkSuQmCC)}\n#webamp .gen-window .gen-top-left-end {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAUCAYAAAB4d5a9AAABxklEQVRIS7WVvUoDQRDHZ/r4DIEThCiCtn4UCpa+gIiF76DmCWwv+D5WYm0nCFpZCSKWKZIdmY//Zu/CxSaXQPZuM7v/md2Z3/DO6FSEhESE9COSbCSbjUdKpC9qY7Nmu7wGa5MQsVn6Djy+qWMpRHwD1+nazIXwdVGTtfkU7+EZ8dHBpVnoD5tBcglsoqNGZ2Nsi7nCGbWx/+EYIhUhPj68Et/EpVTCDIsNTVznUyJhIUouZh7H8apzcIQ4HApRHg4rHH3cwHqHwaAivr87703k/XNKj88fxJPJpDcRPZO6fiDe39vtTSTxlH5/5sTXF2e9iWgkdlx93snTyze9vn0RV5tbvUUyn81osFGVdeJalu9R7VbBKVmN2JzWSVQ1UASUoBiBJq96rxdeF7u8lt3BJXZtj06CIisA2Y6uzbQcnQs5uhYI4vFtLZmuK6CIYyi5lsFYOBGYzAxTmwKQosjpZlcAEPfWuAtEUrQL3ImJAJDGOu0bIPAShb3XLHqP09lhGmgFqdVbPDdE0LDQrAoROwLNrPZcRn5k5X+o7+4nqXGMubdEerZT2BxpR+Ip7BlRpiHaL5pQo3aK7MpNOqLKTbHIrj9doofFD8vqAQAAAABJRU5ErkJggg==)}\n#webamp .gen-window .gen-top-right {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAUCAMAAABPqWaPAAABYlBMVEULFRIMDAweHS4eHi8fHyIfHzAfHzIgHzEgHzIhIDIhITMhITQiITQiIjUiIyYjIjYkIzckIzgkJDklJDomJTkmJTsmJTwmJjsnJj0oJj0oJz4oKD8oKEApKEApKUApKkEqKUAqKUEqKkEqKkIrKUIrKkMrK0QsK0QsLEMsLEUsLEYtLUYuLUcuLUguLkcvJwgvLkkvL0ovMSUwL0kwL0owMEsxL0wxMC0xMEwxMU4yMU0yMU4zMk8zMlA0MlA0M1E1M1I1NFM2NFM2NVQ2Nhg3KxA3NlU3NlY4NVU4NlU4N1c5N1g5OFo6OFk6OVo7OVw7Ols7Olw8OVs8Olw8O11GQh9JRjlORDBQPx5dVztiWkVqanprXUFra3xsa3xsbH5tbX9tboBubX9vboFvb4JwTyxwb4Nxb4RxcIVxcYZycYZzcodzcoh0c4l0c4p1dIt1dIx2dY13dY6Gd02QkJCZc0LWhhB9AAABJUlEQVQYGT3BvWqUYRRG0X2++bRSGxsVhBls0oidP3W8gYCFXoW3JV6DVgmxslBbIQELJRAQA0Kc9zzbmcBkrVrZrTEaYuylEXs+EK/EEKNo4HA+SVf0n2mTMTqJcc00TTeBoGwUBZMINXPteTL2fn2E/XvHg/ktOz/fP4Ve7ZerU2Cqaw/YePdndXd1+qEWzIfsrKGbXNy+OCPN/IhrX1nI7+XFw3OqnO+z8wOa17dOz86XL79L3WHn7zMz9r59gSePP62pgxrG0bG1L23TraRWI24kRGNilv3iqJiaAgQRtEAomF+JIYRotPGIrfkki3UcncTkcqQHsjEtGEBRVeRymIBsTBYb3lCaqTqJbE0lG5WqVHrEyJX586A12omj45tj2foP9wDyBsXxPvcAAAAASUVORK5CYII=)}\n#webamp .gen-window .gen-top-right-end {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAUCAYAAAB4d5a9AAAByUlEQVRIS7VVPUsDQRCdWRvBShGszoAKYg4C1mJj8m8Cgr2/1cLfENBu5b352D1NY7GXhLvszc57MzvzRqdpU1VV8MOlolJFpeCvFuEq3uMDGyxU3Ls1mrit22MvfWDffv9e7dGccfGXg3CYd5o6KS1GrtsbPoK0zuttNXtjh3thZG0zWaYTY8z3ngGVIlosMiMS0cNGhCBprCq1ihTEWVW0mPNMlRNAKrC5SAAZoRLA/uzsRed5Vw+HDxqNunS1uqnbp1u5m05HYQhB3t5ehwHweABycX42HgTpGnkxkvX9lTw/Xg7DYXV9fX8OA+CZzA8vVbwfotYhK9Zw3iuhAtmgaEhvvGhIykqoABq6UJ74vZ422YwhAyYLTbOsgTv5iOdOz9j1qVve/a5UekwgE2ThfAnSVMCpdXLS5MlOIQWyZ2tpa/q1EMbQOAV3k5c/kaYqe/r+L5AOvtAuW4voeKY8DmhfJ5BkXzwlfOksUBR5oFhvotkLa4BYVKHGATLvcp5AdS3DHYinrZ8XrQgccDEa4MMjCQVnCZ+oaEy7fkZ0g2kBQp1HfA3E5lArDpawF0OWcIaJ4/TDzPF7tMpatNYOffX5hPUW/wFZNjaZ4b4luAAAAABJRU5ErkJggg==)}\n#webamp .gen-window .gen-top-left-fill {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAUCAYAAAB4d5a9AAAAWklEQVRIS2PU0nT8z0BjwFhe1kd7S2ysY4eJJfLySrT3SVu5L+0tmTBhAu0tMTTQpb0lSVGutLeELnGipKxGe5/QJTPSpeyiiyWjBSQpVRAjXVIXXSyhR+oCAGL8JbEqBdscAAAAAElFTkSuQmCC)}\n#webamp .gen-window .gen-top-right-fill {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAUCAYAAAB4d5a9AAAAWklEQVRIS2PU0nT8z0BjwFhe1kd7S2ysY4eJJfLySrT3SVu5L+0tmTBhAu0tMTTQpb0lSVGutLeELnGipKxGe5/QJTPSpeyiiyWjBSQpVRAjXVIXXSyhR+oCAGL8JbEqBdscAAAAAElFTkSuQmCC)}\n#webamp .gen-window.selected .gen-top {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAUAgMAAAAFGX4uAAAACVBMVEUeHi8rK0Rra3zjkZV/AAAAG0lEQVQI12NggIJVYNDAEAoGDlSj0QGx9kABAFXxKF3wQT+3AAAAAElFTkSuQmCC)}\n#webamp .gen-window.selected .gen-top-left {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAUCAMAAABPqWaPAAABHVBMVEUdHS0dHS4dHi4eHS4eHi8eHyUfHzAfHzIfIDIgHzEgHzIhIDIhITMiITQiIjUjIjYkIzckIzgkJDckJDklJDolJiwmJTsmJTwnJj0oJj0oJz4pKUApKkEqKUAqKUEqKkEqKkIrKUIrKkMrK0QsK0MsK0QsLEUsLEYtLUYuLUcuLUgvLkkvL0owL0owMEsxL0wxMEwyMU0yMU4zMk8zMlA0Mk80MlA0M1E0NFE1M1I1NFM2NFM2NVQ3NVY3NlY4NVU4NlU4N1c5N1g5OFk6OFlCQTtqanpra3xrbHxsa3xsbH1sbH5tbX9ubYBuboBvboFvb4Jwb4Nxb4RxcIVxcYZycYZzbFJzcodzcoh0c4l0c4p1dIujlGrsznr///9wBmqFAAAAvklEQVQYGQXBwQlVSQBFwTq33+DWnUuj0RQmXMNwMzAKgjkI/7dVQYdtrZwyq3xFTlqqtUoP39dOa9apc9pOjXe8cRky8NDN/gcA8HDVj38DAHiYew0AwMNeD78BADy8hk8AAB4W/nwAAHh4nXz+BgDgoejjqXaqp22nHs79lZ0yM2tVgze8BHcBD68zX0yt1Jbp4XrPf6fqbJ72zz1tsN7e6N47eo07eFvBcrnQIPdyXbjyuu7DdOlnZk5Z1V/Roy8hK3ODtwAAAABJRU5ErkJggg==)}\n#webamp .gen-window.selected .gen-top-left-end {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAUCAYAAAB4d5a9AAAByUlEQVRIS7WVPU4DQQyF7Z5cgaVJpAAnIFAk50AcgB4UwQEoKNJQp6GkpKCgp6ShoUFcgCJtkBgj/7zZ2Y0WmmwiZXcnXj97xv7MB+OZCAmJCOlHJNmVbDVuKZE+qI2tmu3mO3g3CRGbpXvg+cUiXoWIO3CdLmcuhK+Lmqytp3iOyIiPj07NQn/YDJJLwIleNTu7hlusFcGojf2PwJCpCPHJ5EzciUuphBkWDk1c11MiYSFKLmYRx/ZqcAiEOAIKUd6thtj6OIHtXgY7FfHX61VvIk8vK7q+fdZjyKe03RTCW7U3Ip5NJ71l8sMr+vz4Jr6/O+9NRJOx7erzTG6W7/Tw+EY8HB32lsl6vabBoCr7xLWs3qPbrYNTsh6xNe2T6GqgCChBMwJN3vXeL7wtdnkve4Ab7NofT4MifwCynV2baTk7F/KmqBHE88uFtQqI2QVFbEPJtQzGIojAZGaY2hSAFEVON7sCgDi3xlkgk2Jc4ExMBIA01uncAIE3KOyzpp49TmeHaaAVpNZocd8QwcDCsCpEbAu0stprGflRlf+hvnuepMY25tkS5dkuYQuknYmXsFdEWYYYvyiERu8U1ZWHdGRV47aurl8JSofPjXVkWwAAAABJRU5ErkJggg==)}\n#webamp .gen-window.selected .gen-top-right {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAUCAMAAABPqWaPAAABO1BMVEUeHyUfHzAfHzIgHzEgHzIhIDIhITMhITQiITQiIjUjIjYkIzckIzgkJDklJDolJiwmJTsmJTwmJjsnJj0oJj0oJz4oKD8oKEApKEApKUApKkEqKUAqKUEqKkEqKkIrKUIrKkMrK0QsK0QsLEUsLEYtLUYuLUcuLUguLkcvLkkvL0owL0owMEsxMEwyMU0yMU4zMk8zMlA0MlA0M1E1M1I1NFM2NFM2NVQ2Nhg3NlU3NlY4NVU4NlU4N1c5N1g5OFo6OFk6OVo7OVw7Ols7Olw8OVs8Olw8O10/QitCQTtdVztqanprXUFra3xsa3xsbH5tbX9tboBubYBvboFvb4Jwb4Nxb4RxcIVxcYZycYZzbFJzcodzcoh0c4l0c4p1dIt1dIx2dY13dY6Zc0KjlGqxnVm2nF7sznr///+ZhXPBAAABBUlEQVQYGQXBwYmUURBG0Vv1P90KvWtnQCcBxyBEEAMxKWMSWjQAB2V2DeKyX33Xc+reGY3RoHHeGHHWR1HVMWgUDXxbT5mK3swYkyQab3T3SyAoQFFQIhQAAPA+5iFXOPVls74AADBf30HuOn3+A6wCAGABXPucfr7WMesXAICAkry4hQzrDgAAoIru29FUuQ4AAP6BnM7P6df5LfUKAOAvj5qHXOHU32/Uh9rGnTiaMSapza77HdWEqCbm7Txetj0UIIigJRBkfRJDGKJq5EID6ynHLe4kMTpxAKEPNlBUFRiQAhZtAbgUqgqqJDV0CVCpEqHAojesn5vRyBh0/PyD5tj8B5vM5TGngJW4AAAAAElFTkSuQmCC)}\n#webamp .gen-window.selected .gen-top-right-end {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAUCAYAAAB4d5a9AAABzUlEQVRIS7VVu04DQQy0lx+gokuQEEjAiXwAJYSCgpIfoE1NgUTLT1KRjh4qKBbN+LF7kIZiL4nusuf1jL32WBeLVVVVwQ+XikoVlYK/WoSreI8PbLBQce/WaOK2bo+99IF9m81ztUdzxsVfDsJh3mnqpLQYuW5v+AjSOp1fV7M3drgXRtY2k2U6McZ87xlQKaLFIjMiET1sRAiSxqpSq0hBnFVFiznPVDkBpAKbiwSQESoB7M/OXnSa1vXjc0ujUZcuD0/qy+ON3F7uj8IQgmzfXocB8HgAcnx0MB4E6Rp5MZL7uwt5ejgdhsPq+vp+HwbAM5nOrqp4P0StQ1as4bxXQgWyQdGQ3njRkJSVUAE0dKE88btcrLIZQwZMFppmWQN38hHPnZ6x61O3vPtdqXSXQCbIzPkcpKmAU+vkpMmTnUIKZM/W0tb0ayaMoXEK7iYvfyJNVfb0/V8gHXymXbYW0fFMeRzQvk4gyb54SvjSWaAo8kCx3kSzF9YAsahCjQNkWuc8gepahjsQT1s/L1oROOBsNMCHRxIKzhLeU9GYdv2M6AbTDIQ6j/gaiM2hVhwsYS+GLOEME8fph5njd2eVtWitHfrq8wnrLf4D9zg6mAHJo5AAAAAASUVORK5CYII=)}\n#webamp .gen-window.selected .gen-top-left-fill {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAUCAYAAAB4d5a9AAAAWklEQVRIS2PU0nT8z0BjwFhe1kd7S2ysY4eJJXLyqrT3yZtzVbS35P///7S3xMnRmvaWLJ6SRXtL6BInqmo6tPcJXTIjXcouulgyWkCSUgUx0iV10cUSeqQuABQNKbDZQyxmAAAAAElFTkSuQmCC)}\n#webamp .gen-window.selected .gen-top-right-fill {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAUCAYAAAB4d5a9AAAAWklEQVRIS2PU0nT8z0BjwFhe1kd7S2ysY4eJJXLyqrT3yZtzVbS35P///7S3xMnRmvaWLJ6SRXtL6BInqmo6tPcJXTIjXcouulgyWkCSUgUx0iV10cUSeqQuABQNKbDZQyxmAAAAAElFTkSuQmCC)}\n#webamp .gen-window .gen-bottom-left {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAH0AAAAOCAMAAAA16ON4AAABfVBMVEUdHS0dHS4dHi4eHS4eHi8fHzAfHzIgHzEgHzIhIDIhITMhITQiITQiIjUjIjYkIzckIzgkJDckJDklJDomJTsmJTwmJjsnJj0oJj0oJz4oKD8oKEApKEApKUApKkEqKUAqKUEqKkEqKkIrKUIrKkMrK0QrLEQsK0MsK0QsLEUsLEYtLUYtLUgtLkctLkguLUcuLUguLkcvLkkvL0ovMEowL0kwL0owMEsxL0wxMEwxMU4yMU0yMU4zMk8zMlA0MlA0M1E0NFE1M1I1NFM1NFQ2NFM2NFQ2NVQ3NlU3NlY4NVU4NlU4N1c5N1g5OFk5OFo6N1k6OFk6OVo7OVw7Ols7Olw8OVs8OVw8Olw8O109O149O2A9PF89PGA+O18+O2A+PF8+PGBqanpra3xsa3xsbH1sbH5tbX9ubX9ubYBuboBvboFvb4Jwb4Nxb4RxcIVxcYZycYZzcYhzcodzcoh0c4l0c4p1dIt1dIx2dY13dY53do54dY94do94d5Ap3ahhAAACBUlEQVQYGQXBAQEYNRAEwNlLig3E4KTCcFK81AZ8bpmJn7/89vOX3z+BgBAEgQyBNARCIEHS2YEICIEAIR0BUsEF8OcvxhhwKxiXKQNxZDCBMGJ0mL3OmhpJwxHBfacmzA4u333+gAGAMQk6PqlkL7tYrnOSWca2CaCb1g5vqESDReG8+koHcOdcHwYAI6SVPWcL+RgMvmA6kEQLdOrMDHYAOHaFxxl3Hxafz6Y9ywAQEZWKTEgVwQB9igVJqkbtpkA84Jl56tjNiaM78F1mtsMAaLSrxWjKTgIB4DQs1Wg13U5p0W3nALrS7TPd/x4MYHZzggGIBmlEvUrYizwLfWvBCAVNNB3zhMYDTo5xfpzPMQ4Bxk7+/f77GEDfiYyXYh3RrO+z3xgcqmWsgkjaRuweNSbn0VIv+rmM82jB4vtxzuUCf5OKQUBgEAiSgATSIBiCwGww0hAkHRyEA0BgAFSwAsDA7iaQAECRYUYCMDvMUBJoAp51AARw4c+/AASIRgTSmEYCIkAIIQ1iEAQEIg0CqVMBBBfrn67rHZEBmWCa+913YcLhwAghaSJx1umI2RwBZ08a15c5zyGBS3NoDGtekTFMmXNm26i6TsyMOk+2BkAlgjUZTM+8tiV7FJ9rzXlPAZv0CQGAMDUNBIaOkCbSEAIiMAEERo1UCCSB67vOOwBR8T8KSRhI0bzb7AAAAABJRU5ErkJggg==)}\n#webamp .gen-window .gen-bottom-right {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAH0AAAAOCAMAAAA16ON4AAABfVBMVEUdHS0dHS4dHi4eHS4eHi8fHzAfHzIgHzEgHzIhIDIhITMhITQiITQiIjUjIjYkIzckIzgkJDklJDomJTkmJTsmJTwmJjsnJj0oJj0oJz4oKD8oKEApKEApKUApKkEqKUAqKUEqKkEqKkIrKUIrKkMrK0QrLEQsK0MsK0QsLEMsLEUsLEYtLUYuLUcuLUguLkcvLkkvL0ovMEowL0owMEsxL0wxMEwyMU0yMU4zMk8zMlA0Mk80MlA0M1E0NFE1M1I1NFM1NFQ2NFM2NFQ2NVQ3NlU3NlY4NVU4NlU4N1c5N1g5OFk5OFo6N1k6OFk6OVo7OVw7Ols7Olw8OVs8OVw8Olw8O109O149O2A9PF89PGA+O18+O2A+PF8+PGBAP1BAQFFAQFJfX3Fqanpra3xrbHxsa3xsbH1sbH5tbX9ubYBuboBvboFvb4Jwb4Nxb4RxcIVxcYZycYZzcYhzcodzcoh0c4l0c4p1dIt1dIx2dY13dY54dY94do94d5CUuEDKAAACKUlEQVQYGQXBwZFdRRAEwKyev3ZwwQ8gFisgdMIPzFlhhLhih2THvukiM3+jqRRolgIKpUAV2KZoU6WgaQGrKQoK3VQBvvH7Nz9e39nZ7ezsPJoFrni8PvOgNNUV91y7s21xqaaqWM2dy5qVLS12Ps3q1sL7v2Awd/u6Y56XmHB7N4960mOKVDO1uSwlSgsKjNQeZuhKStg9lkwM3i8wcPblwIOGfbzdFy6bfQFbaXtqZg+ROxEqBJ0ai91AUTvjhZox3u8HMKg8l31AlrfxibfXMHPQclzJubnWbTasVChFsFPQQXTgU6GM9/vxBRikk6zxAuHOcfAElAjS7dUTkxjOGBBgl1nAYjMLbxYhftt/vlxgIIfBA8rJTXa9WstC3UwS4s6dAl2ECjS7xI6Kxk6wDcT+0q9/7gcwwNnxvEAHV9t5PkPbCeFYHfSsG6gUGEV0UGMiomkhCeLXfvzZr1+A/ExTAFw8xwVdKIU1XdhZilIKFKWxpdGdsqBA2Ub565sfgzQAwHMu0AIKTAErSAMAKNJt0AoMAHsVLeD1B1QKaNEoqIJCUWiVpkpTTaEFbKooFLUACsDrO2zhARaXDg+3zNWUS+fiZnVn6ZaiTVk2FyzZplqWO4srzTaes2NgZ7AvUNyj1kOHc0mDmTjIIo2aCTQpRrOCDSvbbcApbaapcd2s13/QFMDlOXmgNtqURq1Ys3aWRosWUAW1qaZZDQuF7qkt+Gke/wNCVMxEPwTsWgAAAABJRU5ErkJggg==)}\n#webamp .gen-window .gen-bottom {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAOAgMAAACnVF/TAAAACVBMVEUrKkM+PGB4d5A1hmUAAAAAGElEQVQI12NYBQYNDKFg4EAyjQ5wmQcFAFaEHSfLt0cNAAAAAElFTkSuQmCC)}\n#webamp .gen-window .gen-middle-left {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAAdAgMAAAABTX4zAAAACVBMVEUdHS0qKUBqanoMSFahAAAAD0lEQVQI12NQ5QxhoDMGAFFyDru7vcmtAAAAAElFTkSuQmCC)}\n#webamp .gen-window .gen-middle-left-bottom {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAAYAgMAAABRgO+AAAAACVBMVEUdHS0qKUBqanoMSFahAAAAD0lEQVQI12NQ5QxhoCEGAEUWDDHkAu/CAAAAAElFTkSuQmCC)}\n#webamp .gen-window .gen-middle-right {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAdAgMAAADqesUwAAAACVBMVEUdHS0qKUBqanoMSFahAAAADklEQVQI12OYOoWBBggAuDohplXr188AAAAASUVORK5CYII=)}\n#webamp .gen-window .gen-middle-right-bottom {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAYAgMAAAC6t1SDAAAACVBMVEUdHS0qKUBqanoMSFahAAAADklEQVQI12OYOoWBGggA6uEb2fBejlkAAAAASUVORK5CYII=)}\n#webamp .gen-window .gen-close.winamp-active {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJBAMAAAASvxsjAAAAElBMVEU6MSljXjtsXUORbkq0kWP////9IyyfAAAAKUlEQVQI12NwAQIHBicBBiEHBkcmIUYHBgcFAwUgKRwsAGNDxCFqwOoB1gEH67W94+0AAAAASUVORK5CYII=)}\n#webamp .character-48 {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAGAQMAAAAxNcYIAAAABlBMVEUAAAAA4gDJLyihAAAAE0lEQVQI12NIYJjAsIHhApBMAAAULANhy/alSwAAAABJRU5ErkJggg==)}\n#webamp .character-49 {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAGAQMAAAAxNcYIAAAABlBMVEUAAAAA4gDJLyihAAAAD0lEQVQI12NQYEhgUIBAAAbMAQE/4OmzAAAAAElFTkSuQmCC)}\n#webamp .character-50 {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAGAQMAAAAxNcYIAAAABlBMVEUAAAAA4gDJLyihAAAAEklEQVQI12N4wCAAhAkMDQwfAA78AtFOxm3MAAAAAElFTkSuQmCC)}\n#webamp .character-51 {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAGAQMAAAAxNcYIAAAABlBMVEUAAAAA4gDJLyihAAAAFElEQVQIHWP4wKDAkMAgwDCBIQEAEHwCcej/ubUAAAAASUVORK5CYII=)}\n#webamp .character-52 {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAGAQMAAAAxNcYIAAAABlBMVEUAAAAA4gDJLyihAAAAFElEQVQIHWNQYEhgWMDwgUGBQQEADlwCUbptSVYAAAAASUVORK5CYII=)}\n#webamp .character-53 {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAGAQMAAAAxNcYIAAAABlBMVEUAAAAA4gDJLyihAAAAE0lEQVQI12P4wNDA8IBBAAgfAAAWXANRkouswAAAAABJRU5ErkJggg==)}\n#webamp .character-54 {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAGAQMAAAAxNcYIAAAABlBMVEUAAAAA4gDJLyihAAAAEklEQVQI12NIYGhgeMAwAQgTABOsA0E/JWQ/AAAAAElFTkSuQmCC)}\n#webamp .character-55 {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAGAQMAAAAxNcYIAAAABlBMVEUAAAAA4gDJLyihAAAAEUlEQVQI12P4wCDAoMDgAIIADgwB4bVklkQAAAAASUVORK5CYII=)}\n#webamp .character-56 {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAGAQMAAAAxNcYIAAAABlBMVEUAAAAA4gDJLyihAAAAEElEQVQI12NIYJjAAMJAEgAQvALRax9yugAAAABJRU5ErkJggg==)}\n#webamp .character-57 {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAGAQMAAAAxNcYIAAAABlBMVEUAAAAA4gDJLyihAAAAEklEQVQI12NIYJgAhAUMAgwJAA/sAmFIDiRPAAAAAElFTkSuQmCC)}\n#webamp .character-97 {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAGAQMAAAAxNcYIAAAABlBMVEUAAAAA4gDJLyihAAAAEUlEQVQI12NIYJjA8AGIgRAAFNwDkUdAkdwAAAAASUVORK5CYII=)}\n#webamp .character-98 {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAGAQMAAAAxNcYIAAAABlBMVEUAAAAA4gDJLyihAAAAEElEQVQI12N4wDCBAYSBJAAaPARRW/xs+gAAAABJRU5ErkJggg==)}\n#webamp .character-99 {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAGAQMAAAAxNcYIAAAABlBMVEUAAAAA4gDJLyihAAAAEklEQVQI12NIYJjA0ACEExgSABFMAuEl/r42AAAAAElFTkSuQmCC)}\n#webamp .character-100 {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAGCAYAAAAL+1RLAAAAIUlEQVQYV2NkeMTwnwEG5CAMRrAglMPwiIEBxKaKIJpFADZCEAGAIkAWAAAAAElFTkSuQmCC)}\n#webamp .character-101 {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAGAQMAAAAxNcYIAAAABlBMVEUAAAAA4gDJLyihAAAAE0lEQVQI12P4wNDA8ACIGxg+AAAZ7ARBle8LfgAAAABJRU5ErkJggg==)}\n#webamp .character-102 {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAGAQMAAAAxNcYIAAAABlBMVEUAAAAA4gDJLyihAAAAEUlEQVQI12P4wNDA8ACIgRAAGXwD0QArRQgAAAAASUVORK5CYII=)}\n#webamp .character-103 {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAGAQMAAAAxNcYIAAAABlBMVEUAAAAA4gDJLyihAAAAEklEQVQI12MoYGhg2MAwAQgTABMMAyEYrKesAAAAAElFTkSuQmCC)}\n#webamp .character-104 {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAGCAYAAAAL+1RLAAAAIklEQVQYV2NkeMTwn0GOAQIeMTCA2Iy4BaEKwRR+lcSYCQBnQhEB2omL+AAAAABJRU5ErkJggg==)}\n#webamp .character-105 {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAGAQMAAAAxNcYIAAAABlBMVEUAAAAA4gDJLyihAAAADklEQVQI12MoYFCAwgIACEwBYXIvChIAAAAASUVORK5CYII=)}\n#webamp .character-106 {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAGAQMAAAAxNcYIAAAABlBMVEUAAAAA4gDJLyihAAAAEElEQVQI12MQYADBCUCYAAAGnAGx9K9L/wAAAABJRU5ErkJggg==)}\n#webamp .character-107 {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAGAQMAAAAxNcYIAAAABlBMVEUAAAAA4gDJLyihAAAAE0lEQVQI12OYwLCA4QAQLmCYAAAXTAPhR2cHZQAAAABJRU5ErkJggg==)}\n#webamp .character-108 {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAGCAYAAAAL+1RLAAAAGUlEQVQYV2NkeMTwn0GOAQUw0kwQ2RqgpQBKiwwB5wSvgwAAAABJRU5ErkJggg==)}\n#webamp .character-109 {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAGCAYAAAAL+1RLAAAAIUlEQVQYV2NkeMTwn0GOAQIeMTCA2IxgQWSAXxCrdmIEAQtSEAH0ktA/AAAAAElFTkSuQmCC)}\n#webamp .character-110 {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAGAQMAAAAxNcYIAAAABlBMVEUAAAAA4gDJLyihAAAAE0lEQVQI12OYwMTAcIHpARAyAAATGAMpx84ilAAAAABJRU5ErkJggg==)}\n#webamp .character-111 {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAGAQMAAAAxNcYIAAAABlBMVEUAAAAA4gDJLyihAAAADklEQVQI12NIYJgAhQkAEgwDAakOOnUAAAAASUVORK5CYII=)}\n#webamp .character-112 {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAGAQMAAAAxNcYIAAAABlBMVEUAAAAA4gDJLyihAAAAEklEQVQI12N4wDCB4QFDAwgCABlcA9Fh/HqiAAAAAElFTkSuQmCC)}\n#webamp .character-113 {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAGAQMAAAAxNcYIAAAABlBMVEUAAAAA4gDJLyihAAAAE0lEQVQI12NIYJgAhBcYNjAUAAATvANxqBzBZwAAAABJRU5ErkJggg==)}\n#webamp .character-114 {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAGAQMAAAAxNcYIAAAABlBMVEUAAAAA4gDJLyihAAAAEklEQVQI12N4wKzA8IAJBD8AABkSBJqXbNZ9AAAAAElFTkSuQmCC)}\n#webamp .character-115 {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAGAQMAAAAxNcYIAAAABlBMVEUAAAAA4gDJLyihAAAAEklEQVQI12MoYGhgSGAQAMIHAA1cAlFD9hA9AAAAAElFTkSuQmCC)}\n#webamp .character-116 {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAGAQMAAAAxNcYIAAAABlBMVEUAAAAA4gDJLyihAAAADUlEQVQI12MoYFCAQQAH/AERspkQDgAAAABJRU5ErkJggg==)}\n#webamp .character-117 {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAGAQMAAAAxNcYIAAAABlBMVEUAAAAA4gDJLyihAAAADUlEQVQI12OYwACDCQAUHAMxvRgSGgAAAABJRU5ErkJggg==)}\n#webamp .character-118 {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAGAQMAAAAxNcYIAAAABlBMVEUAAAAA4gDJLyihAAAAD0lEQVQI12OYwACBCQwJABOMAwEw9lTJAAAAAElFTkSuQmCC)}\n#webamp .character-119 {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAGAQMAAAAxNcYIAAAABlBMVEUAAAAA4gDJLyihAAAAEElEQVQI12OYwACCH4BwAgAXTAQhMxLiQgAAAABJRU5ErkJggg==)}\n#webamp .character-120 {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAGAQMAAAAxNcYIAAAABlBMVEUAAAAA4gDJLyihAAAAEUlEQVQI12OYwDCBIQEIgTQAEgwDAb4oAK0AAAAASUVORK5CYII=)}\n#webamp .character-121 {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAGAQMAAAAxNcYIAAAABlBMVEUAAAAA4gDJLyihAAAAEUlEQVQI12OYwDCBIYFBAQQBDwwB4W/sEnMAAAAASUVORK5CYII=)}\n#webamp .character-122 {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAGAQMAAAAxNcYIAAAABlBMVEUAAAAA4gDJLyihAAAAFElEQVQIHWP4wCDAoMDgwNDA8AEAD3wC0QyxJxkAAAAASUVORK5CYII=)}\n#webamp .character-34 {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAGAQMAAAAxNcYIAAAABlBMVEUAAAAA4gDJLyihAAAADUlEQVQIHWMIYGKAAQADkABTwIHJLQAAAABJRU5ErkJggg==)}\n#webamp .character-64 {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAGAQMAAAAxNcYIAAAABlBMVEUAAAAA4gDJLyihAAAAEklEQVQI12OQYFBgiABCBQYJAAbMASFkTTvgAAAAAElFTkSuQmCC)}\n#webamp .character-32 {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAGCAYAAAAL+1RLAAAAE0lEQVQYV2NkYGD4z4AGGOklCAChpQYBD5K5XgAAAABJRU5ErkJggg==)}\n#webamp .character-8230 {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAGAQMAAAAxNcYIAAAABlBMVEUAAAAA4gDJLyihAAAAC0lEQVQIHWNAgBUAALQAqf6ZnokAAAAASUVORK5CYII=)}\n#webamp .character-46 {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAGCAYAAAAL+1RLAAAAGUlEQVQYV2NkYGD4z4AGGGki+AhqkRzCNgCztQcBQ/F5qwAAAABJRU5ErkJggg==)}\n#webamp .character-58 {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAGCAYAAAAL+1RLAAAAG0lEQVQYV2NkYGD4z4AGGHELPoIqlYPQFKoEABHUCAEa7xBFAAAAAElFTkSuQmCC)}\n#webamp .character-40 {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAGAQMAAAAxNcYIAAAABlBMVEUAAAAA4gDJLyihAAAAEklEQVQI12NgYBBgUABCAQYGAAJMAGFQC8mLAAAAAElFTkSuQmCC)}\n#webamp .character-41 {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAGAQMAAAAxNcYIAAAABlBMVEUAAAAA4gDJLyihAAAAEklEQVQI12NgYGhgcADCBgYGAAkMAYFEejkbAAAAAElFTkSuQmCC)}\n#webamp .character-45 {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAGCAYAAAAL+1RLAAAAG0lEQVQYV2NkYGD4z4AGGEkQfISmXY6BgXjtANzFBwGYHC/oAAAAAElFTkSuQmCC)}\n#webamp .character-39 {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAGAQMAAAAxNcYIAAAABlBMVEUAAAAA4gDJLyihAAAADUlEQVQIHWNQYGKAAQABgAAjjGgVVgAAAABJRU5ErkJggg==)}\n#webamp .character-33 {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAGCAYAAAAL+1RLAAAAH0lEQVQYV2NkYGD4z/CIgYFBjgEOGKkhiDAOzMJqJgAQawsBnvEUjAAAAABJRU5ErkJggg==)}\n#webamp .character-95 {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAGCAYAAAAL+1RLAAAAFklEQVQYV2NkYGD4z4AGGGki+AjTIgCyawbjsVUKxAAAAABJRU5ErkJggg==)}\n#webamp .character-43 {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAGAQMAAAAxNcYIAAAABlBMVEUAAAAA4gDJLyihAAAAEUlEQVQI12NQYGJg+MEAIhkACPABPfEgkLEAAAAASUVORK5CYII=)}\n#webamp .character-92 {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAGAQMAAAAxNcYIAAAABlBMVEUAAAAA4gDJLyihAAAAD0lEQVQI12NgYGhgZoBAAATIAI13IxiAAAAAAElFTkSuQmCC)}\n#webamp .character-47 {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAGAQMAAAAxNcYIAAAABlBMVEUAAAAA4gDJLyihAAAAFElEQVQIHWNgYOBgEGBQYHBgaAAAAqQA+cACQKYAAAAASUVORK5CYII=)}\n#webamp .character-91 {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAGCAYAAAAL+1RLAAAAHUlEQVQYV2NkYGD4z/CIAQLkIBQjXBAqQFVBJIsAMwMMAVy4DMAAAAAASUVORK5CYII=)}\n#webamp .character-93 {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAGCAYAAAAL+1RLAAAAIElEQVQYV2NkYGD4zwACj8AkA4McAwMjXBAmQU1BJIsACwMMAZBptUcAAAAASUVORK5CYII=)}\n#webamp .character-94 {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAGAQMAAAAxNcYIAAAABlBMVEUAAAAA4gDJLyihAAAAEElEQVQIHWNQYAhg6GAAAwAH9AD5R+QUOwAAAABJRU5ErkJggg==)}\n#webamp .character-38 {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAGAQMAAAAxNcYIAAAABlBMVEUAAAAA4gDJLyihAAAAEklEQVQI12NQYAhgUGCIAJIaAAfsAWHaIpwJAAAAAElFTkSuQmCC)}\n#webamp .character-37 {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAGAQMAAAAxNcYIAAAABlBMVEUAAAAA4gDJLyihAAAAFElEQVQIHWNIYMhgEGBQYIhgkAAACgQBacCaDW0AAAAASUVORK5CYII=)}\n#webamp .character-44 {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAGCAYAAAAL+1RLAAAAHklEQVQYV2NkYGD4z4AGGKkl+IiBgUEOYjjCTCRBAMu1CAHlOP+DAAAAAElFTkSuQmCC)}\n#webamp .character-61 {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAGCAYAAAAL+1RLAAAAH0lEQVQYV2NkYGD4z4AGGMGCj5BE5RgYIIIUqkTTDgA65AgBoymWoAAAAABJRU5ErkJggg==)}\n#webamp .character-36 {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAGAQMAAAAxNcYIAAAABlBMVEUAAAAA4gDJLyihAAAAEklEQVQI12NQYChgSGAwAJIKAApcAbE85GZ1AAAAAElFTkSuQmCC)}\n#webamp .character-35 {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAGAQMAAAAxNcYIAAAABlBMVEUAAAAA4gDJLyihAAAAD0lEQVQI12NIYPjAAMEMABUMAwFxUzDLAAAAAElFTkSuQmCC)}\n#webamp .character-197 {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAGAQMAAAAxNcYIAAAABlBMVEUAAAAA4gDJLyihAAAAEklEQVQI12NIYJjAAMIfGCYAABIMA2Fjj6V0AAAAAElFTkSuQmCC)}\n#webamp .character-214 {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAGAQMAAAAxNcYIAAAABlBMVEUAAAAA4gDJLyihAAAAEElEQVQI12OYwJDAMAEMEwASbAMBKm1nAQAAAABJRU5ErkJggg==)}\n#webamp .character-196 {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAGAQMAAAAxNcYIAAAABlBMVEUAAAAA4gDJLyihAAAAFElEQVQIHWOYwMDAkMAwgeEDwwQADwwDAcWvnbkAAAAASUVORK5CYII=)}\n#webamp .character-63 {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAGAQMAAAAxNcYIAAAABlBMVEUAAAAA4gDJLyihAAAAFElEQVQIHWNIYJjAIMCQwMDAkAAAC+wBwX8tiscAAAAASUVORK5CYII=)}\n#webamp .character-42 {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAGAQMAAAAxNcYIAAAABlBMVEUAAAAA4gDJLyihAAAAFElEQVQIHWNgYFBgeMBQwODAwAAACjwBsYRIp8kAAAAASUVORK5CYII=)}\n#webamp .character-60 {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAGCAYAAAAL+1RLAAAAHUlEQVQYV2NkYGD4z/CIAQLkIBQjXBAqQFVBJIsAMwMMAVy4DMAAAAAASUVORK5CYII=)}\n#webamp .character-62 {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAGCAYAAAAL+1RLAAAAIElEQVQYV2NkYGD4zwACj8AkA4McAwMjXBAmQU1BJIsACwMMAZBptUcAAAAASUVORK5CYII=)}\n#webamp .character-123 {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAGCAYAAAAL+1RLAAAAHUlEQVQYV2NkYGD4z/CIAQLkIBQjXBAqQFVBJIsAMwMMAVy4DMAAAAAASUVORK5CYII=)}\n#webamp .character-125 {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAGCAYAAAAL+1RLAAAAIElEQVQYV2NkYGD4zwACj8AkA4McAwMjXBAmQU1BJIsACwMMAZBptUcAAAAASUVORK5CYII=)}\n#webamp .gen-text-a {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAAHBAMAAADZviHeAAAAGFBMVEUpKUA3N01bW21iYnN4eIZ/f4yNjZmUlKDQ9WnQAAAAIUlEQVQIHWMAAcZyAQamdAUGVrMABnGVQgY11yKGIIZUACkrA92ildtqAAAAAElFTkSuQmCC)}\n#webamp .gen-window.selected .gen-text-a {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAAHBAMAAADZviHeAAAAGFBMVEUpKUBGRlmNjZmbm6bGxszU1Nnx8fL///8iRh7bAAAAIUlEQVQIHWMAAcZyAQamdAUGVrMABnGVQgY11yKGIIZUACkrA92ildtqAAAAAElFTkSuQmCC)}\n#webamp .gen-text-b {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAcAAAAHBAMAAAA2fErgAAAAHlBMVEUpKUAxMUdGRlliYnNqanpwcIB4eIZ/f4yNjZmUlKBMQpI+AAAAIUlEQVQI12NgAAHOmVOARIKlAgNnWyuQVRQuAOXOnMoAAFkvBehWf7S3AAAAAElFTkSuQmCC)}\n#webamp .gen-window.selected .gen-text-b {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAcAAAAHBAMAAAA2fErgAAAAHlBMVEUpKUA3N01iYnObm6apqbO4uL/GxszU1Nnx8fL////s2d+PAAAAIUlEQVQI12NgAAHOmVOARIKlAgNnWyuQVRQuAOXOnMoAAFkvBehWf7S3AAAAAElFTkSuQmCC)}\n#webamp .gen-text-c {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAcAAAAHBAMAAAA2fErgAAAAJ1BMVEUpKUAxMUc3N00/P1NGRllUVGZbW21qanpwcIB4eIaGhpONjZmUlKBrx3tvAAAAJUlEQVQI12NgAAHWNZMZGHQSdzAw5DgwgAgFBgabgk6gxJ7JDABjoQaLYu6ObAAAAABJRU5ErkJggg==)}\n#webamp .gen-window.selected .gen-text-c {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAcAAAAHBAMAAAA2fErgAAAAJ1BMVEUpKUA3N01GRllUVGZiYnN/f4yNjZmpqbO4uL/Gxszi4ubx8fL///9AK9zxAAAAJUlEQVQI12NgAAHWNZMZGHQSdzAw5DgwgAgFBgabgk6gxJ7JDABjoQaLYu6ObAAAAABJRU5ErkJggg==)}\n#webamp .gen-text-d {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAAHBAMAAADZviHeAAAAElBMVEUpKUBUVGZbW214eIaNjZmUlKBPxwelAAAAG0lEQVQI12NgAALTEAUGU6ZABlOGYAgGsUMUACkqA3OelxceAAAAAElFTkSuQmCC)}\n#webamp .gen-window.selected .gen-text-d {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAAHBAMAAADZviHeAAAAElBMVEUpKUB/f4yNjZnGxszx8fL///90u0SbAAAAG0lEQVQI12NgAALTEAUGU6ZABlOGYAgGsUMUACkqA3OelxceAAAAAElFTkSuQmCC)}\n#webamp .gen-text-e {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAAHBAMAAADZviHeAAAAHlBMVEUpKUA3N00/P1NGRllUVGZbW214eIZ/f4yNjZmUlKBpF6uKAAAAH0lEQVQI12NgAALOmVMZOBOAdJsDA2exABAbAcWmAQA4DwTidXJmqwAAAABJRU5ErkJggg==)}\n#webamp .gen-window.selected .gen-text-e {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAAHBAMAAADZviHeAAAAHlBMVEUpKUBGRllUVGZiYnN/f4yNjZnGxszU1Nnx8fL///+DgC81AAAAH0lEQVQI12NgAALOmVMZOBOAdJsDA2exABAbAcWmAQA4DwTidXJmqwAAAABJRU5ErkJggg==)}\n#webamp .gen-text-f {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAAHBAMAAADZviHeAAAAElBMVEUpKUA3N01GRllbW21qanqUlKC2H8YaAAAAGklEQVQI12NgAALT0CAGUwUg7SwAwSC2AgMAKTIC7Ms0rr0AAAAASUVORK5CYII=)}\n#webamp .gen-window.selected .gen-text-f {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAAHBAMAAADZviHeAAAAElBMVEUpKUBGRlliYnONjZmpqbP///9D5gpdAAAAGklEQVQI12NgAALT0CAGUwUg7SwAwSC2AgMAKTIC7Ms0rr0AAAAASUVORK5CYII=)}\n#webamp .gen-text-g {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAcAAAAHBAMAAAA2fErgAAAAIVBMVEUpKUA/P1NGRllUVGZbW21wcIB4eIZ/f4yGhpONjZmUlKCnwN9hAAAAJ0lEQVQIHWMAA8aqZgYGzoQoAQYtBwYGBi2XVQoMnAVeCgyMXa0KAE4GBYcb4B3nAAAAAElFTkSuQmCC)}\n#webamp .gen-window.selected .gen-text-g {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAcAAAAHBAMAAAA2fErgAAAAIVBMVEUpKUBUVGZiYnN/f4yNjZm4uL/GxszU1Nni4ubx8fL///+LwSrlAAAAJ0lEQVQIHWMAA8aqZgYGzoQoAQYtBwYGBi2XVQoMnAVeCgyMXa0KAE4GBYcb4B3nAAAAAElFTkSuQmCC)}\n#webamp .gen-text-h {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAAHBAMAAADZviHeAAAAJFBMVEUpKUBwcIBycoGCgo+hoauqqrO3t767u8O8vMPDw8nGxszKytD26YaTAAAAGElEQVQI12NgAAJphQoITl3BIO08A8YHADj6BOvV9DaxAAAAAElFTkSuQmCC)}\n#webamp .gen-window.selected .gen-text-h {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAAHBAMAAADZviHeAAAAFVBMVEUpKUCrq7TDw8no6Ovw8PH5+fr///9e3zXEAAAAFklEQVQI12NgAAIxgTQIDgFiozQYHwAqqAOv6ufnjgAAAABJRU5ErkJggg==)}\n#webamp .gen-text-i {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAHBAMAAADdS/HjAAAAFVBMVEUhITkkJDxra3xwcIBycoF6eoiCgo8pCsaXAAAAFUlEQVQI12MQEGQQCoQi4UQGERACABeTAqlm5PZ5AAAAAElFTkSuQmCC)}\n#webamp .gen-window.selected .gen-text-i {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAHBAMAAADdS/HjAAAAFVBMVEUkJDwxMULAwMfDw8ne3uHh4eXl5ehBk9l/AAAAFUlEQVQI12NgFGBgcgCjAAZmCEoAABAKAfHk6DTHAAAAAElFTkSuQmCC)}\n#webamp .gen-text-j {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAAHBAMAAADZviHeAAAAGFBMVEUpKUAxMUdGRllNTWBUVGZ4eIaNjZmUlKAAywzwAAAAE0lEQVQI12NgAIFSVCwCxOrJDAAh4QLodMJ9awAAAABJRU5ErkJggg==)}\n#webamp .gen-window.selected .gen-text-j {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAAHBAMAAADZviHeAAAAGFBMVEUpKUA3N01iYnNwcIB/f4zGxszx8fL///+/0FlwAAAAE0lEQVQI12NgAIFSVCwCxOrJDAAh4QLodMJ9awAAAABJRU5ErkJggg==)}\n#webamp .gen-text-k {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAcAAAAHBAMAAAA2fErgAAAAHlBMVEUpKUAxMUc/P1NGRllNTWBUVGZbW22GhpONjZmUlKC0yuawAAAAIklEQVQI12NgAIFM00lAIiMBSHQGAImKAiDhNhVIGLYzAABxtgda2evVPQAAAABJRU5ErkJggg==)}\n#webamp .gen-window.selected .gen-text-k {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAcAAAAHBAMAAAA2fErgAAAAHlBMVEUpKUA3N01UVGZiYnNwcIB/f4yNjZni4ubx8fL////1B4EGAAAAIklEQVQI12NgAIFM00lAIiMBSHQGAImKAiDhNhVIGLYzAABxtgda2evVPQAAAABJRU5ErkJggg==)}\n#webamp .gen-text-l {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAHBAMAAAAyiZrdAAAAElBMVEUpKUAxMUdGRll4eIZ/f4yUlKDDTNTnAAAAFUlEQVQI12NgAIJgNByiJMAQGqoAABtZAp1Ff+GZAAAAAElFTkSuQmCC)}\n#webamp .gen-window.selected .gen-text-l {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAHCAYAAADAp4fuAAAAMklEQVQYV2PU1HT4z4AGGP//////+PGzDMnJJXApaghevXqLoa9vFthMEBtsJrLlIAsBN0svzTt3mzcAAAAASUVORK5CYII=)}\n#webamp .gen-text-m {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAHBAMAAADHdxFtAAAAIVBMVEUpKUAxMUdGRllUVGZbW21iYnNwcIB4eIZ/f4yGhpOUlKBZcblpAAAAI0lEQVQI12NgAAGtJZzLGbRWaAGJrjIg4bUYSGguBBKqCcsBjp0JorkYhMsAAAAASUVORK5CYII=)}\n#webamp .gen-window.selected .gen-text-m {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAHBAMAAADHdxFtAAAAIVBMVEUpKUA3N01iYnN/f4yNjZmbm6a4uL/GxszU1Nni4ub////cS6NmAAAAI0lEQVQI12NgAAGtJZzLGbRWaAGJrjIg4bUYSGguBBKqCcsBjp0JorkYhMsAAAAASUVORK5CYII=)}\n#webamp .gen-text-n {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAAHBAMAAADZviHeAAAAHlBMVEUpKUAxMUc3N01GRllNTWBiYnNwcIB4eIaNjZmUlKCfa5y8AAAAIElEQVQI12NgAIIK5clMjA4MTP+NgPgKAxPDeiB+wwAASdwGGeDXGZQAAAAASUVORK5CYII=)}\n#webamp .gen-window.selected .gen-text-n {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAAHBAMAAADZviHeAAAAHlBMVEUpKUA3N01GRlliYnNwcICbm6a4uL/Gxszx8fL///8Fv7lnAAAAIElEQVQI12NgAIIK5clMjA4MTP+NgPgKAxPDeiB+wwAASdwGGeDXGZQAAAAASUVORK5CYII=)}\n#webamp .gen-text-o {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAAHBAMAAADZviHeAAAAHlBMVEUpKUA/P1NGRllUVGZbW214eIZ/f4yGhpONjZmUlKDmamWaAAAAHElEQVQI12NgAAKx6QYMrSwTGaYwTQFjEBsoBgBK6AZDMgIWOQAAAABJRU5ErkJggg==)}\n#webamp .gen-window.selected .gen-text-o {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAAHBAMAAADZviHeAAAAHlBMVEUpKUBUVGZiYnN/f4yNjZnGxszU1Nni4ubx8fL////xzWRAAAAAHElEQVQI12NgAAKx6QYMrSwTGaYwTQFjEBsoBgBK6AZDMgIWOQAAAABJRU5ErkJggg==)}\n#webamp .gen-text-p {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAAHBAMAAADZviHeAAAAJ1BMVEUpKUAxMUc/P1NGRllNTWBbW21iYnNqanpwcIB4eIZ/f4yGhpOUlKBLTaK7AAAAIElEQVQI12NgAIKYM5sYYgxPMMSEHGeIWZnIEGPAAMIAZzYHJUki1qIAAAAASUVORK5CYII=)}\n#webamp .gen-window.selected .gen-text-p {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAAHBAMAAADZviHeAAAAJ1BMVEUpKUA3N01UVGZiYnNwcICNjZmbm6apqbO4uL/GxszU1Nni4ub////2OqNjAAAAIElEQVQI12NgAIKYM5sYYgxPMMSEHGeIWZnIEGPAAMIAZzYHJUki1qIAAAAASUVORK5CYII=)}\n#webamp .gen-text-q {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAcAAAAHBAMAAAA2fErgAAAAJFBMVEUpKUA3N00/P1NGRllUVGZbW214eIZ/f4yGhpONjZmSkp6UlKAHPYNOAAAAI0lEQVQI12NgAAGm6hYGBs6EaAEG6wDrAAjBmdBtAJTY1QAAWmwG3UPBF3oAAAAASUVORK5CYII=)}\n#webamp .gen-window.selected .gen-text-q {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAcAAAAHBAMAAAA2fErgAAAAJ1BMVEUpKUBGRllUVGZiYnN/f4yNjZm4uMDGxszU1Nni4ubx8fL7+/v////Rx7x8AAAAI0lEQVQI12NgAAGmnikMDFwFMQIMNgE2ARCCq2COAVDidAIAYQkHOMhnyMoAAAAASUVORK5CYII=)}\n#webamp .gen-text-r {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAcAAAAHBAMAAAA2fErgAAAAJ1BMVEUpKUAxMUc3N01GRllUVGZbW21qanpwcIB4eIZ/f4yGhpONjZmUlKDditvQAAAAIklEQVQI12NgAAGbM1uARMAcILHiJJBIPwQkQo4AicCTDACHOAih1LnoFgAAAABJRU5ErkJggg==)}\n#webamp .gen-window.selected .gen-text-r {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAcAAAAHBAMAAAA2fErgAAAAJ1BMVEUpKUA3N01GRlliYnN/f4yNjZmpqbO4uL/GxszU1Nni4ubx8fL///9vCc2uAAAAIklEQVQI12NgAAGbM1uARMAcILHiJJBIPwQkQo4AicCTDACHOAih1LnoFgAAAABJRU5ErkJggg==)}\n#webamp .gen-text-s {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAAHBAMAAADZviHeAAAAJFBMVEUpKUAxMUc/P1NGRllUVGZbW21qanpwcIB4eIaGhpONjZmUlKCHjnJIAAAAIklEQVQIHWMAAY1dAQzVygoM1TsDGMRmb2IIZdvE4LnLAQBTHAco/pVKOwAAAABJRU5ErkJggg==)}\n#webamp .gen-window.selected .gen-text-s {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAAHBAMAAADZviHeAAAAJFBMVEUpKUA3N01UVGZiYnN/f4yNjZmpqbO4uL/Gxszi4ubx8fL///+qJyS0AAAAIklEQVQIHWMAAY1dAQzVygoM1TsDGMRmb2IIZdvE4LnLAQBTHAco/pVKOwAAAABJRU5ErkJggg==)}\n#webamp .gen-text-t {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAHCAYAAADAp4fuAAAALklEQVQYV2PU0XH+z4AGGCdMmIMpqKZq819FVZHBzc2eYfXqLQyvX71hYKSBIACnryn7i49aBgAAAABJRU5ErkJggg==)}\n#webamp .gen-window.selected .gen-text-t {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAHAgMAAAC9yW99AAAADFBMVEUpKUBUVGZycoH///9VDRy9AAAAE0lEQVQI12NgYGD4f4BBlwEZAQAkDAKhcYNEwQAAAABJRU5ErkJggg==)}\n#webamp .gen-text-u {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAAHBAMAAADZviHeAAAAFVBMVEUpKUAxMUdGRllUVGZbW21qanqUlKDA77WeAAAAFklEQVQI12NgAAI3hRRUHJLMIJoWAAA5UATxAlDxBQAAAABJRU5ErkJggg==)}\n#webamp .gen-window.selected .gen-text-u {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAAHBAMAAADZviHeAAAAFVBMVEUpKUA3N01iYnN/f4yNjZmpqbP///8SF7O4AAAAFklEQVQI12NgAAI3hRRUHJLMIJoWAAA5UATxAlDxBQAAAABJRU5ErkJggg==)}\n#webamp .gen-text-v {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAAHBAMAAADZviHeAAAAKlBMVEUpKUAxMUc/P1NGRllNTWBUVGZbW21iYnNqanpwcIB4eIaGhpONjZmUlKDthvA2AAAAIklEQVQIHWMAAd8EWQaeDTEMHJeWMzDfvMTAsHcDA0NtAgBSrAdcNQnv8gAAAABJRU5ErkJggg==)}\n#webamp .gen-window.selected .gen-text-v {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAAHBAMAAADZviHeAAAAKlBMVEUpKUA3N01UVGZiYnNwcIB/f4yNjZmbm6apqbO4uL/Gxszi4ubx8fL///81zHafAAAAIklEQVQIHWMAAd8EWQaeDTEMHJeWMzDfvMTAsHcDA0NtAgBSrAdcNQnv8gAAAABJRU5ErkJggg==)}\n#webamp .gen-text-w {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAHBAMAAADHdxFtAAAALVBMVEUpKUAxMUc3N00/P1NGRllNTWBUVGZbW21iYnNqanpwcIB4eIZ/f4yNjZmUlKD3PA89AAAAKUlEQVQIHWMAg3nqT/wY8rKfdzPIzXt9nIHnXd9jBo7XcRcYWJ7zLQAAwo4M1uKKXVEAAAAASUVORK5CYII=)}\n#webamp .gen-window.selected .gen-text-w {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAHBAMAAADHdxFtAAAALVBMVEUpKUA3N01GRllUVGZiYnNwcIB/f4yNjZmbm6apqbO4uL/GxszU1Nnx8fL///+8HCoLAAAAKUlEQVQIHWMAg3nqT/wY8rKfdzPIzXt9nIHnXd9jBo7XcRcYWJ7zLQAAwo4M1uKKXVEAAAAASUVORK5CYII=)}\n#webamp .gen-text-x {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAcAAAAHBAMAAAA2fErgAAAAJFBMVEUpKUAxMUc3N01GRllNTWBbW21iYnNwcIB4eIaGhpONjZmUlKDqWCJLAAAAJElEQVQI12NgAAHJiVECDMzbtwCZ2Q0gYhEDA/PWHUCJhOwAAGilBx+T4WwNAAAAAElFTkSuQmCC)}\n#webamp .gen-window.selected .gen-text-x {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAcAAAAHBAMAAAA2fErgAAAAJFBMVEUpKUA3N01GRlliYnNwcICNjZmbm6a4uL/Gxszi4ubx8fL///+x/boCAAAAJElEQVQI12NgAAHJiVECDMzbtwCZ2Q0gYhEDA/PWHUCJhOwAAGilBx+T4WwNAAAAAElFTkSuQmCC)}\n#webamp .gen-text-y {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAAHBAMAAADZviHeAAAAJFBMVEUpKUAxMUc/P1NGRllNTWBUVGZbW21iYnN4eIaGhpONjZmUlKAsqFJVAAAAHklEQVQI12NgAIIdrJsYsrMKGDh3CTCwbGNgYIZgAE8aBbSrMTxDAAAAAElFTkSuQmCC)}\n#webamp .gen-window.selected .gen-text-y {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAAHBAMAAADZviHeAAAAJFBMVEUpKUA3N01UVGZiYnNwcIB/f4yNjZmbm6bGxszi4ubx8fL///+UuWJCAAAAHklEQVQI12NgAIIdrJsYsrMKGDh3CTCwbGNgYIZgAE8aBbSrMTxDAAAAAElFTkSuQmCC)}\n#webamp .gen-text-z {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAAHBAMAAAAsQKpuAAAAIVBMVEUAAAApKUAxMUc/P1NGRllbW21qanp4eIZ/f4yGhpOUlKAeeVtyAAAAAXRSTlMAQObYZgAAACdJREFUCNdjEBQUYACCqlULQJRgVgCIElkBFtRcDKaiShxA1CqwEgClfwdsfnJFGQAAAABJRU5ErkJggg==)}\n#webamp .gen-window.selected .gen-text-z {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAAHBAMAAAAsQKpuAAAAIVBMVEUAAAApKUA3N01UVGZiYnONjZmpqbPGxszU1Nni4ub///8EpbEBAAAAAXRSTlMAQObYZgAAACdJREFUCNdjEBQUYACCqlULQJRgVgCIElkBFtRcDKaiShxA1CqwEgClfwdsfnJFGQAAAABJRU5ErkJggg==)}\n#webamp .gen-text-a {width: 6px;}\n#webamp .selected .gen-text-a {width: 6px;}\n#webamp .gen-text-b {width: 7px;}\n#webamp .selected .gen-text-b {width: 7px;}\n#webamp .gen-text-c {width: 7px;}\n#webamp .selected .gen-text-c {width: 7px;}\n#webamp .gen-text-d {width: 6px;}\n#webamp .selected .gen-text-d {width: 6px;}\n#webamp .gen-text-e {width: 6px;}\n#webamp .selected .gen-text-e {width: 6px;}\n#webamp .gen-text-f {width: 6px;}\n#webamp .selected .gen-text-f {width: 6px;}\n#webamp .gen-text-g {width: 7px;}\n#webamp .selected .gen-text-g {width: 7px;}\n#webamp .gen-text-h {width: 6px;}\n#webamp .selected .gen-text-h {width: 6px;}\n#webamp .gen-text-i {width: 4px;}\n#webamp .selected .gen-text-i {width: 4px;}\n#webamp .gen-text-j {width: 6px;}\n#webamp .selected .gen-text-j {width: 6px;}\n#webamp .gen-text-k {width: 7px;}\n#webamp .selected .gen-text-k {width: 7px;}\n#webamp .gen-text-l {width: 5px;}\n#webamp .selected .gen-text-l {width: 5px;}\n#webamp .gen-text-m {width: 8px;}\n#webamp .selected .gen-text-m {width: 8px;}\n#webamp .gen-text-n {width: 6px;}\n#webamp .selected .gen-text-n {width: 6px;}\n#webamp .gen-text-o {width: 6px;}\n#webamp .selected .gen-text-o {width: 6px;}\n#webamp .gen-text-p {width: 6px;}\n#webamp .selected .gen-text-p {width: 6px;}\n#webamp .gen-text-q {width: 7px;}\n#webamp .selected .gen-text-q {width: 7px;}\n#webamp .gen-text-r {width: 7px;}\n#webamp .selected .gen-text-r {width: 7px;}\n#webamp .gen-text-s {width: 6px;}\n#webamp .selected .gen-text-s {width: 6px;}\n#webamp .gen-text-t {width: 5px;}\n#webamp .selected .gen-text-t {width: 5px;}\n#webamp .gen-text-u {width: 6px;}\n#webamp .selected .gen-text-u {width: 6px;}\n#webamp .gen-text-v {width: 6px;}\n#webamp .selected .gen-text-v {width: 6px;}\n#webamp .gen-text-w {width: 8px;}\n#webamp .selected .gen-text-w {width: 8px;}\n#webamp .gen-text-x {width: 7px;}\n#webamp .selected .gen-text-x {width: 7px;}\n#webamp .gen-text-y {width: 6px;}\n#webamp .selected .gen-text-y {width: 6px;}\n#webamp .gen-text-z {width: 11px;}\n#webamp .selected .gen-text-z {width: 11px;}\n#webamp #title-bar #close {cursor: url(data:image/x-win-bitmap;base64,AAACAAEAICAAAAAAAADoAgAAFgAAACgAAAAgAAAAQAAAAAEABAAAAAAAgAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAACAAAAAgIAAgAAAAIAAgACAgAAAgICAAMDAwAAAAP8AAP8AAAD//wD/AAAA/wD/AP//AAD///8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB4gAAAAAAAAAAAAAAAAAAAf4AAAAAAAAAAAAAAAAAAB/gAAIgAAAAAAAAAAAAAAAf4AACAAAAAAAAAAAAAcAB/gAAAAAAAAAAAAAAAAHgAf4AAAAAAAAAAAAAAAAB/gPgAAADwAAAAAAAAAAAAf/gAAAAA8AAAAAAAAAAAAH//iIiAAPAAAAAAAAAAAAB//4iIAADwAAAAAAAAAAAAf/iIgAAA8AAAAAAAAAAAAH/4iAAAAAAAAAAAAAAAAAB/iIAAAAAAAAAAAAAAAAAAf4gAAAAAAAAAAAAAAAAAAHiAAAAAAAAAAAAAAAAAAAB4AAAAAAAAAAAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD//////////////////////////////////////////////////////////////////////j////w////8P///+HP//3hz//8w8///EP///wHz//8AE///ADP//wBz//8A8///AfP//wP///8H////D////x////8/////f////w==), auto}\n#webamp #equalizer-window .band {cursor: url(data:image/x-win-bitmap;base64,AAACAAEAICAAAAAAAADoAgAAFgAAACgAAAAgAAAAQAAAAAEABAAAAAAAgAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAACAAAAAgIAAgAAAAIAAgACAgAAAwMDAAICAgAAAAP8AAP8AAAD//wD/AAAA/wD/AP//AAD///8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPcAAAAAAAAAAAAAAAAAAA/3cAAAAAAAAAAAAACHcAAAAAAAAAAAAAAAAAAAj3AAAAAAAAAAAAAAAAAACPcAAAAAAAAAAAAAAAAAAAj3AAAA9wAAAAAAAAAAgACPcAAAAPcAAAAAAAAAAIcAj3AAAAAAAAAAAAAAAACPcPcAAAAAAAAAAAAAAAAAj/cAAAAAAAAAAAAAAAAAAI//d3dwAA/3cAAAAAAAAACP/3d3AAAA9wAAAAAAAAAAj/d3cAAAAAAAAAAAAAAAAI/3dwAAAAAAAAAAAAAAAACPd3AAAAAAAAAAAAAAAAAAj3cAAAAAAAAAAAAAAAAAAIdwAAAAAAAAAAAAAAAAAACHAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD////////////////////////////////////////////////////////////8////+H///jA///wwP//8P///+Hz//3h4f/8w+H//EPz//wH///8AED//ADA//wB4f/8A/P//Af///wP///8H////D////x////8/////f////w==), auto}\n#webamp #equalizer-window .title-bar {cursor: url(data:image/x-win-bitmap;base64,AAACAAEAICAAAAAAAADoAgAAFgAAACgAAAAgAAAAQAAAAAEABAAAAAAAgAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAACAAAAAgIAAgAAAAIAAgACAgAAAwMDAAICAgAAAAP8AAP8AAAD//wD/AAAA/wD/AP//AAD///8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD3AAAAAAAAAAAAAAAAAAAP93AAAAAAAAAAAACHcAAAAAAAAAAAAAAAAAAAj3AAAAAAAAAAAAAAAAAACPcAAHAAAAAHAAAAAAAAAAj3AAdwAHcAB3AAAAAAgACPcAAP8AD/AA/wAAAAAIcAj3AAAPAAAAAPAAAAAACPcPcAAAAAAAAAAAAAAAAAj/cAAAAAAAAAAAAAAAAAAI//d3dwAAAP93AAAAAAAACP/3d3AAAAAPcAAAAAAAAAj/d3cAAAAAAAAAAAAAAAAI/3dwAAAAAAAAAAAAAAAACPd3AAAAAAAAAAAAAAAAAAj3cAAAAAAAAAAAAAAAAAAIdwAAAAAAAAAAAAAAAAAACHAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/////////////////////////////////////////////////////////////P////h///jwP//w8D//8M/P/+GMx/3hCEP8wwhD/EOMx/wHz8/8AHA//ADwP/wB+H/8A/z//Af///wP///8H////D////x////8/////f////w==), auto}\n#webamp #equalizer-window.shade {cursor: url(data:image/x-win-bitmap;base64,AAACAAEAICAAAAAAAADoAgAAFgAAACgAAAAgAAAAQAAAAAEABAAAAAAAgAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAACAAAAAgIAAgAAAAIAAgACAgAAAwMDAAICAgAAAAP8AAP8AAAD//wD/AAAA/wD/AP//AAD///8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD3AAAAAAAAAAAAAAAAAAAP93AAAAAAAAAAAACHcAAAAAAAAAAAAAAAAAAAj3AAAAAAAAAAAAAAAAAACPcAAHAAAAAHAAAAAAAAAAj3AAdwAHcAB3AAAAAAgACPcAAP8AD/AA/wAAAAAIcAj3AAAPAAAAAPAAAAAACPcPcAAAAAAAAAAAAAAAAAj/cAAAAAAAAAAAAAAAAAAI//d3dwAAAP93AAAAAAAACP/3d3AAAAAPcAAAAAAAAAj/d3cAAAAAAAAAAAAAAAAI/3dwAAAAAAAAAAAAAAAACPd3AAAAAAAAAAAAAAAAAAj3cAAAAAAAAAAAAAAAAAAIdwAAAAAAAAAAAAAAAAAACHAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/////////////////////////////////////////////////////////////P////h///jwP//w8D//8M/P/+GMx/3hCEP8wwhD/EOMx/wHz8/8AHA//ADwP/wB+H/8A/z//Af///wP///8H////D////x////8/////f////w==), auto}\n#webamp #equalizer-window.shade input {cursor: url(data:image/x-win-bitmap;base64,AAACAAEAICAAAAAAAADoAgAAFgAAACgAAAAgAAAAQAAAAAEABAAAAAAAgAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAACAAAAAgIAAgAAAAIAAgACAgAAAwMDAAICAgAAAAP8AAP8AAAD//wD/AAAA/wD/AP//AAD///8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD3AAAAAAAAAAAAAAAAAAAP93AAAAAAAAAAAACHcAAAAAAAAAAAAAAAAAAAj3AAAAAAAAAAAAAAAAAACPcAAHAAAAAHAAAAAAAAAAj3AAdwAHcAB3AAAAAAgACPcAAP8AD/AA/wAAAAAIcAj3AAAPAAAAAPAAAAAACPcPcAAAAAAAAAAAAAAAAAj/cAAAAAAAAAAAAAAAAAAI//d3dwAAAP93AAAAAAAACP/3d3AAAAAPcAAAAAAAAAj/d3cAAAAAAAAAAAAAAAAI/3dwAAAAAAAAAAAAAAAACPd3AAAAAAAAAAAAAAAAAAj3cAAAAAAAAAAAAAAAAAAIdwAAAAAAAAAAAAAAAAAACHAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/////////////////////////////////////////////////////////////P////h///jwP//w8D//8M/P/+GMx/3hCEP8wwhD/EOMx/wHz8/8AHA//ADwP/wB+H/8A/z//Af///wP///8H////D////x////8/////f////w==), auto}\n#webamp .window {cursor: url(data:image/x-win-bitmap;base64,AAACAAEAICAAAAAAAADoAgAAFgAAACgAAAAgAAAAQAAAAAEABAAAAAAAgAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAACAAAAAgIAAgAAAAIAAgACAgAAAgICAAMDAwAAAAP8AAP8AAAD//wD/AAAA/wD/AP//AAD///8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB4gAAAAAAAAAAAAAAAAAAAf4AAAAAAAAAAAAAAAAAAB/gAAAAAAAAAAAAAAAAAAAf4AAAAAAAAAAAAAAAAcAB/gAAAAAAAAAAAAAAAAHgAf4AAAAAAAAAAAAAAAAB/gPgAAAAAAAAAAAAAAAAAf/gAAAAAAAAAAAAAAAAAAH//iIiAAAAAAAAAAAAAAAB//4iIAAAAAAAAAAAAAAAAf/iIgAAAAAAAAAAAAAAAAH/4iAAAAAAAAAAAAAAAAAB/iIAAAAAAAAAAAAAAAAAAf4gAAAAAAAAAAAAAAAAAAHiAAAAAAAAAAAAAAAAAAAB4AAAAAAAAAAAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD//////////////////////////////////////////////////////////////////////j////w////8P///+H///3h///8w////EP///wH///8AH///AD///wB///8A////Af///wP///8H////D////x////8/////f////w==), auto}\n#webamp .window input {cursor: url(data:image/x-win-bitmap;base64,AAACAAEAICAAAAAAAADoAgAAFgAAACgAAAAgAAAAQAAAAAEABAAAAAAAgAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAACAAAAAgIAAgAAAAIAAgACAgAAAgICAAMDAwAAAAP8AAP8AAAD//wD/AAAA/wD/AP//AAD///8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB4gAAAAAAAAAAAAAAAAAAAf4AAAAAAAAAAAAAAAAAAB/gAAAAAAAAAAAAAAAAAAAf4AAAAAAAAAAAAAAAAcAB/gAAAAAAAAAAAAAAAAHgAf4AAAAAAAAAAAAAAAAB/gPgAAAAAAAAAAAAAAAAAf/gAAAAAAAAAAAAAAAAAAH//iIiAAAAAAAAAAAAAAAB//4iIAAAAAAAAAAAAAAAAf/iIgAAAAAAAAAAAAAAAAH/4iAAAAAAAAAAAAAAAAAB/iIAAAAAAAAAAAAAAAAAAf4gAAAAAAAAAAAAAAAAAAHiAAAAAAAAAAAAAAAAAAAB4AAAAAAAAAAAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD//////////////////////////////////////////////////////////////////////j////w////8P///+H///3h///8w////EP///wH///8AH///AD///wB///8A////Af///wP///8H////D////x////8/////f////w==), auto}\n#webamp #main-window {cursor: url(data:image/x-win-bitmap;base64,AAACAAEAICAAAAAAAADoAgAAFgAAACgAAAAgAAAAQAAAAAEABAAAAAAAgAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAACAAAAAgIAAgAAAAIAAgACAgAAAgICAAMDAwAAAAP8AAP8AAAD//wD/AAAA/wD/AP//AAD///8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB4gAAAAAAAAAAAAAAAAAAAf4AAAAAAAAAAAAAAAAAAB/gAAAAAAAAAAAAAAAAAAAf4AAAAAAAAAAAAAAAAcAB/gAAAAAAAAAAAAAAAAHgAf4AAAAAAAAAAAAAAAAB/gPgAAAAAAAAAAAAAAAAAf/gAAAAAAAAAAAAAAAAAAH//iIiAAAAAAAAAAAAAAAB//4iIAAAAAAAAAAAAAAAAf/iIgAAAAAAAAAAAAAAAAH/4iAAAAAAAAAAAAAAAAAB/iIAAAAAAAAAAAAAAAAAAf4gAAAAAAAAAAAAAAAAAAHiAAAAAAAAAAAAAAAAAAAB4AAAAAAAAAAAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD//////////////////////////////////////////////////////////////////////j////w////8P///+H///3h///8w////EP///wH///8AH///AD///wB///8A////Af///wP///8H////D////x////8/////f////w==), auto}\n#webamp #main-window.shade #title-bar {cursor: url(data:image/x-win-bitmap;base64,AAACAAEAICAAAAAAAADoAgAAFgAAACgAAAAgAAAAQAAAAAEABAAAAAAAgAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAACAAAAAgIAAgAAAAIAAgACAgAAAgICAAMDAwAAAAP8AAP8AAAD//wD/AAAA/wD/AP//AAD///8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB4gAAAAAAAAAAAAAAAAAAAf4AAAAAAAAAAAAAAAAAAB/gAAAAAAAAAAAAAAAAAAAf4AAAAAAAAAAAAAAAAcAB/gAAAAAAAAAAAAAAAAHgAf4AAAAAAAAAAAAAAAAB/gPgAAAAAAAAAAAAAAAAAf/gAAAAAAAAAAAAAAAAAAH//iIiAAAAAAAAAAAAAAAB//4iIAAAAAAAAAAAAAAAAf/iIgAAAAAAAAAAAAAAAAH/4iAAAAAAAAAAAAAAAAAB/iIAAAAAAAAAAAAAAAAAAf4gAAAAAAAAAAAAAAAAAAHiAAAAAAAAAAAAAAAAAAAB4AAAAAAAAAAAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD//////////////////////////////////////////////////////////////////////j////w////8P///+H///3h///8w////EP///wH///8AH///AD///wB///8A////Af///wP///8H////D////x////8/////f////w==), auto}\n#webamp #playlist-window {cursor: url(data:image/x-win-bitmap;base64,AAACAAEAICAAAAAAAADoAgAAFgAAACgAAAAgAAAAQAAAAAEABAAAAAAAgAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAACAAAAAgIAAgAAAAIAAgACAgAAAgICAAMDAwAAAAP8AAP8AAAD//wD/AAAA/wD/AP//AAD///8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB4gAAAAAAAAAAAAAAAAAAAf4AAAAAAAAAAAAAAAAAAB/gAAAAAAAAAAAAAAAAAAAf4AAAAAAAAAAAAAAAAcAB/gAAAAAAAAAAAAAAAAHgAf4AAAAAAAAAAAAAAAAB/gPgAAAAAAAAAAAAAAAAAf/gAAAAAAAAAAAAAAAAAAH//iIiAAAAAAAAAAAAAAAB//4iIAAAAAAAAAAAAAAAAf/iIgAAAAAAAAAAAAAAAAH/4iAAAAAAAAAAAAAAAAAB/iIAAAAAAAAAAAAAAAAAAf4gAAAAAAAAAAAAAAAAAAHiAAAAAAAAAAAAAAAAAAAB4AAAAAAAAAAAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD//////////////////////////////////////////////////////////////////////j////w////8P///+H///3h///8w////EP///wH///8AH///AD///wB///8A////Af///wP///8H////D////x////8/////f////w==), auto}\n#webamp #playlist-window .playlist-top {cursor: url(data:image/x-win-bitmap;base64,AAACAAEAICAAAAAAAADoAgAAFgAAACgAAAAgAAAAQAAAAAEABAAAAAAAgAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAACAAAAAgIAAgAAAAIAAgACAgAAAwMDAAICAgAAAAP8AAP8AAAD//wD/AAAA/wD/AP//AAD///8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD3AAAAAAAAAAAAAAAAAAAP93AAAAAAAAAAAACHcAAAAAAAAAAAAAAAAAAAj3AAAAAAAAAAAAAAAAAACPcAAHAAAAAHAAAAAAAAAAj3AAdwAHcAB3AAAAAAgACPcAAP8AD/AA/wAAAAAIcAj3AAAPAAAAAPAAAAAACPcPcAAAAAAAAAAAAAAAAAj/cAAAAAAAAAAAAAAAAAAI//d3dwAAAP93AAAAAAAACP/3d3AAAAAPcAAAAAAAAAj/d3cAAAAAAAAAAAAAAAAI/3dwAAAAAAAAAAAAAAAACPd3AAAAAAAAAAAAAAAAAAj3cAAAAAAAAAAAAAAAAAAIdwAAAAAAAAAAAAAAAAAACHAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/////////////////////////////////////////////////////////////P////h///jwP//w8D//8M/P/+GMx/3hCEP8wwhD/EOMx/wHz8/8AHA//ADwP/wB+H/8A/z//Af///wP///8H////D////x////8/////f////w==), auto}\n#webamp #main-window #position {cursor: url(data:image/x-win-bitmap;base64,AAACAAEAICAAAAAAAADoAgAAFgAAACgAAAAgAAAAQAAAAAEABAAAAAAAgAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAACAAAAAgIAAgAAAAIAAgACAgAAAwMDAAICAgAAAAP8AAP8AAAD//wD/AAAA/wD/AP//AAD///8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACHcAAAAAAAAAAAAAAAAAAAj3AAAAAAAAAAAAAAAAAACPcAAHAAAAAHAAAAAAAAAAj3AAdwAHcAB3AAAAAAgACPcAAP8AD/AA/wAAAAAIcAj3AAAPAAAAAPAAAAAACPcPcAAAAAAAAAAAAAAAAAj/cAAAAAAAAAAAAAAAAAAI//d3dwAAAAAAAAAAAAAACP/3d3AAAAAAAAAAAAAAAAj/d3cAAAAAAAAAAAAAAAAI/3dwAAAAAAAAAAAAAAAACPd3AAAAAAAAAAAAAAAAAAj3cAAAAAAAAAAAAAAAAAAIdwAAAAAAAAAAAAAAAAAACHAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD//////////////////////////////////////////////////////////////////////j////w////8M/P/+GMx/3hCEP8wwhD/EOMx/wHz8/8AH///AD///wB///8A////Af///wP///8H////D////x////8/////f////w==), auto}\n#webamp #playlist-window #playlist-resize-target {cursor: url(data:image/x-win-bitmap;base64,AAACAAEAICAAAAAAAADoAgAAFgAAACgAAAAgAAAAQAAAAAEABAAAAAAAgAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAACAAAAAgIAAgAAAAIAAgACAgAAAwMDAAICAgAAAAP8AAP8AAAD//wD/AAAA/wD/AP//AAD///8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPcAAAAAAAAAAAAAAAAAAA/3cAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACHcAAAAAAAAAAAAAAAAAAAj3AAAAAAcAAAAAAAAAAACPcAAAdwAHcAAAAAAAAAAAj3AAAP8AD/AAAAAAAAgACPcAAAAAAA8AAAAAAAAIcAj3AAAAAAAAAAAAAAAACPcPcAAAAAAAAAAAAAAAAAj/cAAAAAAAAAAAAAAAAAAI//d3dwAAAAAAAAAAAAAACP/3d3AAAAAAAAAAAAAAAAj/d3cAAAAAAAAAAAAAAAAI/3dwAAAAAAAAAAAAAAAACPd3AAAAAAAAAAAAAAAAAAj3cAAAAAAAAAAAAAAAAAAIdwAAAAAAAAAAAAAAAAAACHAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD///////////////////////////////////////////////////////n////w////4H///iB///w/n//8OY//+HCH/3hwh/8w+Y//EP+f/wH///8AH///AD///wB///8A////Af///wP///8H////D////x////8/////f////w==), auto}\n#webamp #playlist-window .playlist-scrollbar {cursor: url(data:image/x-win-bitmap;base64,AAACAAEAICAAAAAAAADoAgAAFgAAACgAAAAgAAAAQAAAAAEABAAAAAAAgAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAACAAAAAgIAAgAAAAIAAgACAgAAAwMDAAICAgAAAAP8AAP8AAAD//wD/AAAA/wD/AP//AAD///8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPcAAAAAAAAAAAAAAAAAAA/3cAAAAAAAAAAAAACHcAAAAAAAAAAAAAAAAAAAj3AAAAAAAAAAAAAAAAAACPcAAAAAAAAAAAAAAAAAAAj3AAAA9wAAAAAAAAAAgACPcAAAAPcAAAAAAAAAAIcAj3AAAAAAAAAAAAAAAACPcPcAAAAAAAAAAAAAAAAAj/cAAAAAAAAAAAAAAAAAAI//d3dwAA/3cAAAAAAAAACP/3d3AAAA9wAAAAAAAAAAj/d3cAAAAAAAAAAAAAAAAI/3dwAAAAAAAAAAAAAAAACPd3AAAAAAAAAAAAAAAAAAj3cAAAAAAAAAAAAAAAAAAIdwAAAAAAAAAAAAAAAAAACHAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD////////////////////////////////////////////////////////////8////+H///jA///wwP//8P///+Hz//3h4f/8w+H//EPz//wH///8AED//ADA//wB4f/8A/P//Af///wP///8H////D////x////8/////f////w==), auto}\n#webamp #main-window #title-bar {cursor: url(data:image/x-win-bitmap;base64,AAACAAEAICAAAAAAAADoAgAAFgAAACgAAAAgAAAAQAAAAAEABAAAAAAAgAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAACAAAAAgIAAgAAAAIAAgACAgAAAwMDAAICAgAAAAP8AAP8AAAD//wD/AAAA/wD/AP//AAD///8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD3AAAAAAAAAAAAAAAAAAAP93AAAAAAAAAAAACHcAAAAAAAAAAAAAAAAAAAj3AAAAAAAAAAAAAAAAAACPcAAHAAAAAHAAAAAAAAAAj3AAdwAHcAB3AAAAAAgACPcAAP8AD/AA/wAAAAAIcAj3AAAPAAAAAPAAAAAACPcPcAAAAAAAAAAAAAAAAAj/cAAAAAAAAAAAAAAAAAAI//d3dwAAAP93AAAAAAAACP/3d3AAAAAPcAAAAAAAAAj/d3cAAAAAAAAAAAAAAAAI/3dwAAAAAAAAAAAAAAAACPd3AAAAAAAAAAAAAAAAAAj3cAAAAAAAAAAAAAAAAAAIdwAAAAAAAAAAAAAAAAAACHAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/////////////////////////////////////////////////////////////P////h///jwP//w8D//8M/P/+GMx/3hCEP8wwhD/EOMx/wHz8/8AHA//ADwP/wB+H/8A/z//Af///wP///8H////D////x////8/////f////w==), auto}\n#webamp #volume {cursor: url(data:image/x-win-bitmap;base64,AAACAAEAICAAAAAAAADoAgAAFgAAACgAAAAgAAAAQAAAAAEABAAAAAAAgAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAACAAAAAgIAAgAAAAIAAgACAgAAAwMDAAICAgAAAAP8AAP8AAAD//wD/AAAA/wD/AP//AAD///8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACHcAAAAAAAAAAAAAAAAAAAj3AAAAAAAAAAAAAAAAAACPcAAHAAAAAHAAAAAAAAAAj3AAdwAHcAB3AAAAAAgACPcAAP8AD/AA/wAAAAAIcAj3AAAPAAAAAPAAAAAACPcPcAAAAAAAAAAAAAAAAAj/cAAAAAAAAAAAAAAAAAAI//d3dwAAAAAAAAAAAAAACP/3d3AAAAAAAAAAAAAAAAj/d3cAAAAAAAAAAAAAAAAI/3dwAAAAAAAAAAAAAAAACPd3AAAAAAAAAAAAAAAAAAj3cAAAAAAAAAAAAAAAAAAIdwAAAAAAAAAAAAAAAAAACHAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD//////////////////////////////////////////////////////////////////////j////w////8M/P/+GMx/3hCEP8wwhD/EOMx/wHz8/8AH///AD///wB///8A////Af///wP///8H////D////x////8/////f////w==), auto}\n#webamp #volume input {cursor: url(data:image/x-win-bitmap;base64,AAACAAEAICAAAAAAAADoAgAAFgAAACgAAAAgAAAAQAAAAAEABAAAAAAAgAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAACAAAAAgIAAgAAAAIAAgACAgAAAwMDAAICAgAAAAP8AAP8AAAD//wD/AAAA/wD/AP//AAD///8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACHcAAAAAAAAAAAAAAAAAAAj3AAAAAAAAAAAAAAAAAACPcAAHAAAAAHAAAAAAAAAAj3AAdwAHcAB3AAAAAAgACPcAAP8AD/AA/wAAAAAIcAj3AAAPAAAAAPAAAAAACPcPcAAAAAAAAAAAAAAAAAj/cAAAAAAAAAAAAAAAAAAI//d3dwAAAAAAAAAAAAAACP/3d3AAAAAAAAAAAAAAAAj/d3cAAAAAAAAAAAAAAAAI/3dwAAAAAAAAAAAAAAAACPd3AAAAAAAAAAAAAAAAAAj3cAAAAAAAAAAAAAAAAAAIdwAAAAAAAAAAAAAAAAAACHAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD//////////////////////////////////////////////////////////////////////j////w////8M/P/+GMx/3hCEP8wwhD/EOMx/wHz8/8AH///AD///wB///8A////Af///wP///8H////D////x////8/////f////w==), auto}\n#webamp #balance {cursor: url(data:image/x-win-bitmap;base64,AAACAAEAICAAAAAAAADoAgAAFgAAACgAAAAgAAAAQAAAAAEABAAAAAAAgAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAACAAAAAgIAAgAAAAIAAgACAgAAAwMDAAICAgAAAAP8AAP8AAAD//wD/AAAA/wD/AP//AAD///8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACHcAAAAAAAAAAAAAAAAAAAj3AAAAAAAAAAAAAAAAAACPcAAHAAAAAHAAAAAAAAAAj3AAdwAHcAB3AAAAAAgACPcAAP8AD/AA/wAAAAAIcAj3AAAPAAAAAPAAAAAACPcPcAAAAAAAAAAAAAAAAAj/cAAAAAAAAAAAAAAAAAAI//d3dwAAAAAAAAAAAAAACP/3d3AAAAAAAAAAAAAAAAj/d3cAAAAAAAAAAAAAAAAI/3dwAAAAAAAAAAAAAAAACPd3AAAAAAAAAAAAAAAAAAj3cAAAAAAAAAAAAAAAAAAIdwAAAAAAAAAAAAAAAAAACHAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD//////////////////////////////////////////////////////////////////////j////w////8M/P/+GMx/3hCEP8wwhD/EOMx/wHz8/8AH///AD///wB///8A////Af///wP///8H////D////x////8/////f////w==), auto}\n#webamp-context-menu .context-menu {\n  left: 0px;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  user-select: none;\n  cursor: default;\n}\n#webamp-context-menu .context-menu.bottom {\n  top: 12px;\n}\n#webamp-context-menu .context-menu.top {\n  top: 0px;\n}\n#webamp-context-menu .context-menu,\n#webamp-context-menu .context-menu ul {\n  z-index: 50; /* Gross */\n  background-color: #ffffff;\n  position: absolute;\n  list-style: none;\n  padding: 0;\n  margin: 0;\n  border: 1px solid #a7a394;\n  box-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);\n}\n#webamp-context-menu .context-menu li {\n  position: relative;\n  font-family: "Tahoma";\n  font-size: 11px;\n  color: black;\n  white-space: nowrap;\n  margin: 2px;\n  padding: 1px 18px 3px 18px;\n  display: block;\n}\n#webamp-context-menu .context-menu li.checked:before {\n  float: left;\n  /* TODO: Use an image */\n  content: "\\2713";\n  margin-left: -12px;\n}\n#webamp-context-menu .context-menu li.parent:after {\n  float: right;\n  content: "\\25b8";\n  margin-right: -12px;\n}\n#webamp-context-menu .context-menu li a {\n  text-decoration: none;\n  color: black;\n  cursor: default;\n}\n#webamp-context-menu .context-menu li:hover,\n#webamp-context-menu .context-menu li:hover a {\n  background-color: #224eb7;\n  color: #ffffff;\n}\n#webamp-context-menu .context-menu li.hr {\n  padding: 2px 0;\n}\n#webamp-context-menu .context-menu li.hr:hover {\n  background-color: #ffffff;\n}\n#webamp-context-menu .context-menu li.hr hr {\n  border: none;\n  height: 1px;\n  background-color: #a7a394;\n  margin: 0;\n  padding: 0;\n}\n#webamp-context-menu .context-menu ul {\n  display: none;\n  left: 100%;\n  margin-left: -3px;\n}\n#webamp-context-menu .context-menu li:hover > ul {\n  display: block;\n}\n/* Styles */\n#webamp #equalizer-window {\n  height: 116px;\n  width: 275px;\n}\n#webamp #equalizer-window.shade {\n  height: 14px;\n}\n#webamp #equalizer-volume {\n  position: absolute;\n  left: 61px;\n  top: 4px;\n  height: 6px;\n  width: 97px;\n  background-position: 0 0;\n}\n#webamp #equalizer-volume::-webkit-slider-thumb {\n  height: 7px;\n  width: 3px;\n}\n#webamp #equalizer-volume::-moz-range-thumb {\n  height: 7px;\n  width: 3px;\n}\n#webamp #equalizer-balance {\n  position: absolute;\n  left: 164px;\n  top: 4px;\n  height: 6px;\n  width: 43px;\n  background-position: 0 0;\n}\n#webamp #equalizer-balance::-webkit-slider-thumb {\n  height: 7px;\n  width: 3px;\n}\n#webamp #equalizer-balance::-moz-range-thumb {\n  height: 7px;\n  width: 3px;\n}\n#webamp .equalizer-top {\n  height: 14px;\n  width: 275px;\n  position: relative;\n}\n#webamp #equalizer-close {\n  position: absolute;\n  height: 9px;\n  width: 9px;\n  left: 264px;\n  top: 3px;\n}\n#webamp #equalizer-shade {\n  position: absolute;\n  height: 9px;\n  width: 9px;\n  left: 254px;\n  top: 3px;\n}\n#webamp #on {\n  position: absolute;\n  width: 26px;\n  height: 12px;\n  top: 18px;\n  left: 14px;\n}\n#webamp #auto {\n  position: absolute;\n  width: 32px;\n  height: 12px;\n  top: 18px;\n  left: 40px;\n}\n#webamp #presets-context {\n  position: absolute;\n  width: 44px;\n  height: 12px;\n  top: 18px;\n  left: 217px;\n}\n#webamp #presets {\n  width: 100%;\n  height: 100%;\n}\n#webamp #eqGraph {\n  position: absolute;\n  width: 113px;\n  height: 19px;\n  top: 17px;\n  left: 86px;\n}\n#webamp #preamp {\n  position: absolute;\n  left: 21px;\n  top: 38px;\n}\n#webamp #plus12db {\n  position: absolute;\n  left: 45px;\n  top: 36px;\n  width: 22px;\n  height: 8px;\n}\n#webamp #zerodb {\n  position: absolute;\n  left: 45px;\n  top: 64px;\n  width: 22px;\n  height: 8px;\n}\n#webamp #minus12db {\n  position: absolute;\n  left: 45px;\n  top: 95px;\n  width: 22px;\n  height: 8px;\n}\n#webamp #band-60 {\n  position: absolute;\n  left: 78px;\n  top: 38px;\n}\n#webamp #band-170 {\n  position: absolute;\n  left: 96px;\n  top: 38px;\n}\n#webamp #band-310 {\n  position: absolute;\n  left: 114px;\n  top: 38px;\n}\n#webamp #band-600 {\n  position: absolute;\n  left: 132px;\n  top: 38px;\n}\n#webamp #band-1000 {\n  position: absolute;\n  left: 150px;\n  top: 38px;\n}\n#webamp #band-3000 {\n  position: absolute;\n  left: 168px;\n  top: 38px;\n}\n#webamp #band-6000 {\n  position: absolute;\n  left: 186px;\n  top: 38px;\n}\n#webamp #band-12000 {\n  position: absolute;\n  left: 204px;\n  top: 38px;\n}\n#webamp #band-14000 {\n  position: absolute;\n  left: 222px;\n  top: 38px;\n}\n#webamp #band-16000 {\n  position: absolute;\n  left: 240px;\n  top: 38px;\n}\n#webamp .gen-text-space {\n  width: 5px;\n}\n#webamp .gen-text-letter {\n  height: 7px;\n  display: inline-block;\n}\n#webamp .gen-window {\n  /* Default size */\n  width: 275px;\n  height: 116px;\n  display: flex;\n  flex-direction: column;\n}\n#webamp .gen-top {\n  height: 20px;\n  display: flex;\n  flex-direction: row;\n}\n#webamp .gen-top-left {\n  width: 25px;\n  height: 20px;\n}\n#webamp .gen-top-title {\n  line-height: 7px;\n  margin-top: 2px;\n  /* TODO: This should be a conciquence of the repeating tiles, not hard coded */\n  padding: 0 3px 0 4px;\n}\n#webamp .gen-top-left-fill {\n  flex-grow: 1;\n  height: 20px;\n  background-position: left;\n}\n#webamp .gen-top-right-fill {\n  flex-grow: 1;\n  height: 20px;\n  background-position: right;\n}\n#webamp .gen-top-left-end {\n  width: 25px;\n  height: 20px;\n}\n#webamp .gen-top-right {\n  width: 25px;\n  height: 20px;\n}\n#webamp .gen-top-right-end {\n  width: 25px;\n  height: 20px;\n}\n#webamp .gen-close {\n  width: 9px;\n  height: 9px;\n  position: absolute;\n  right: 2px;\n  top: 3px;\n}\n#webamp .gen-middle {\n  flex-grow: 1;\n  display: flex;\n  flex-direction: row;\n  position: relative;\n}\n#webamp .gen-middle-left {\n  width: 11px;\n}\n#webamp .gen-middle-left-bottom {\n  width: 11px;\n  height: 24px;\n  bottom: 0;\n  position: absolute;\n}\n#webamp .gen-middle-center {\n  flex-grow: 1;\n  position: relative;\n}\n#webamp .gen-middle-right {\n  width: 8px;\n}\n#webamp .gen-middle-right-bottom {\n  width: 8px;\n  height: 24px;\n  bottom: 0;\n  position: absolute;\n}\n#webamp .gen-bottom {\n  height: 14px;\n  background-repeat: repeat-x;\n}\n#webamp .gen-bottom-left {\n  position: absolute;\n  left: 0;\n  width: 125px;\n  height: 14px;\n}\n#webamp .gen-bottom-right {\n  position: absolute;\n  right: 0;\n  width: 125px;\n  height: 14px;\n}\n#webamp .gen-bottom-right #gen-resize-target {\n  position: absolute;\n  right: 0;\n  bottom: 0;\n  height: 20px;\n  width: 20px;\n}\n/* Styles */\n#webamp #main-window {\n  position: absolute;\n  height: 116px;\n  width: 275px;\n  /* Ask the browser to scale showing large pixels if possible */\n  image-rendering: -moz-crisp-edges; /* Firefox */\n  image-rendering: -o-crisp-edges; /* Opera */\n  image-rendering: -webkit-optimize-contrast; /* Safari */\n  image-rendering: pixelated; /* Only in Chrome > 40 */\n  -ms-interpolation-mode: nearest-neighbor; /* IE (non-standard property) */\n}\n#webamp #title-bar {\n  position: absolute;\n  top: 0;\n  left: 0;\n  height: 14px;\n  width: 275px;\n}\n#webamp #option-context,\n#webamp #minimize,\n#webamp #shade,\n#webamp #close {\n  position: absolute;\n  height: 9px;\n  width: 9px;\n  top: 3px;\n}\n#webamp #title-bar #option {\n  width: 100%;\n  height: 100%;\n}\n#webamp #title-bar #option-context {\n  left: 6px;\n}\n#webamp #title-bar #minimize {\n  left: 244px;\n}\n#webamp #title-bar #shade {\n  left: 254px;\n}\n#webamp #title-bar #close {\n  left: 264px;\n}\n#webamp #clutter-bar {\n  position: absolute;\n  top: 22px;\n  left: 10px;\n  height: 43px;\n  width: 8px;\n}\n#webamp #clutter-bar div {\n  position: absolute;\n  height: 7px;\n  width: 8px;\n  left: 0px;\n}\n#webamp #clutter-bar #button-o {\n  top: 3px;\n  height: 8px;\n}\n#webamp #clutter-bar #button-a {\n  top: 11px;\n}\n#webamp #clutter-bar #button-i {\n  top: 18px;\n}\n#webamp #clutter-bar #button-d {\n  top: 25px;\n  height: 8px;\n}\n#webamp #clutter-bar #button-v {\n  top: 33px;\n}\n#webamp #play-pause {\n  position: absolute;\n  top: 28px;\n  left: 26px;\n  height: 9px;\n  width: 9px;\n  background-repeat: no-repeat;\n}\n#webamp .play #work-indicator,\n#webamp #work-indicator.selected {\n  position: absolute;\n  top: 28px;\n  left: 24px;\n  height: 9px;\n  width: 3px;\n}\n#webamp .webamp-status #time {\n  position: absolute;\n  left: 39px;\n  top: 26px;\n  /* Just to make it clickable */\n  height: 13px;\n  width: 59px;\n}\n#webamp .stop .webamp-status #time {\n  display: none;\n}\n#webamp .pause .webamp-status #time {\n  animation: blink 2s step-start 1s infinite;\n  -webkit-animation: blink 2s step-start 1s infinite;\n}\n#webamp .webamp-status #time #minus-sign {\n  /* Note that this get\'s augmented by the skin CSS if NUM_EX.BMP is present */\n  position: absolute;\n  top: 6px;\n  left: -1px;\n  width: 5px;\n  height: 1px;\n}\n#webamp .webamp-status #time #minute-first-digit {\n  position: absolute;\n  pointer-events: none;\n  left: 9px;\n  height: 13px;\n  width: 9px;\n}\n#webamp .webamp-status #time #minute-second-digit {\n  position: absolute;\n  pointer-events: none;\n  left: 21px;\n  height: 13px;\n  width: 9px;\n}\n#webamp .webamp-status #time #second-first-digit {\n  position: absolute;\n  pointer-events: none;\n  left: 39px;\n  height: 13px;\n  width: 9px;\n}\n#webamp .webamp-status #time #second-second-digit {\n  position: absolute;\n  pointer-events: none;\n  left: 51px;\n  height: 13px;\n  width: 9px;\n}\n#webamp #main-window #visualizer {\n  position: absolute;\n  top: 43px;\n  left: 24px;\n}\n#webamp #main-window.shade #visualizer {\n  top: 5px;\n  left: 79px;\n}\n#webamp .text {\n  display: none;\n}\n#webamp #marquee {\n  position: absolute;\n  left: 111px;\n  top: 24px;\n  width: 154px;\n  height: 6px;\n  overflow: hidden;\n  display: block;\n  padding: 3px 0px; /* Ensure the target is correct for the cursor */\n}\n#webamp .media-info #kbps {\n  position: absolute;\n  left: 111px;\n  top: 43px;\n  width: 15px;\n  height: 6px;\n  overflow: hidden;\n}\n#webamp .stop .media-info #kbps {\n  display: none;\n}\n#webamp .media-info #khz {\n  position: absolute;\n  left: 156px;\n  top: 43px;\n  width: 10px;\n  height: 6px;\n  overflow: hidden;\n}\n#webamp .stop .media-info #khz {\n  display: none;\n}\n#webamp .media-info .mono-stereo {\n  position: absolute;\n  left: 212px;\n  top: 41px;\n  width: 57px;\n  height: 12px;\n}\n#webamp .media-info .mono-stereo div {\n  position: absolute;\n  height: 12px;\n}\n#webamp .media-info .mono-stereo #mono {\n  width: 27px;\n}\n#webamp .media-info .mono-stereo #stereo {\n  left: 27px;\n  width: 29px;\n}\n#webamp #volume {\n  position: absolute;\n  left: 107px;\n  top: 57px;\n  height: 13px;\n  width: 68px;\n  background-position: 0 0;\n}\n#webamp #volume input {\n  height: 13px;\n  /* The input itself, is actually 3px shorter than the background\n     * https://twitter.com/LuigiHann/status/959275940688867328\n     */\n  width: 65px;\n  display: block;\n}\n#webamp #volume input::-webkit-slider-thumb {\n  top: 1px;\n  height: 11px;\n  width: 14px;\n}\n#webamp #volume input::-moz-range-thumb {\n  top: 1px;\n  height: 11px;\n  width: 14px;\n}\n#webamp #balance {\n  position: absolute;\n  left: 177px;\n  top: 57px;\n  height: 13px;\n  width: 38px;\n  background-position: 0 0;\n}\n#webamp #balance::-webkit-slider-thumb {\n  top: 1px;\n  height: 11px;\n  width: 14px;\n}\n#webamp #balance::-moz-range-thumb {\n  top: 1px;\n  height: 11px;\n  width: 14px;\n}\n#webamp .windows {\n  position: absolute;\n  left: 219px;\n  top: 58px;\n  width: 46px;\n  height: 12px;\n}\n#webamp .windows div {\n  position: absolute;\n  width: 23px;\n  height: 12px;\n}\n#webamp .windows #equalizer-button {\n  left: 0;\n}\n#webamp .windows #playlist-button {\n  left: 23px;\n}\n#webamp #position {\n  position: absolute;\n  left: 16px;\n  top: 72px;\n  width: 248px;\n  height: 10px;\n}\n#webamp #position::-webkit-slider-thumb {\n  height: 10px;\n  width: 29px;\n  /*\n     * Fix the strange bug in Safair/mobile-chrome\n     * http://stackoverflow.com/questions/26727769/rendering-glitch-when-manipulating-range-input-value-via-javascript-in-webkit\n     */\n  -webkit-box-sizing: border-box;\n  position: relative;\n}\n#webamp #position::-moz-range-thumb {\n  height: 10px;\n  width: 29px;\n}\n/* For some reason, we can\'t use display: none here */\n#webamp .stop #position::-webkit-slider-thumb {\n  visibility: hidden;\n}\n#webamp .stop #position::-moz-range-thumb {\n  visibility: hidden;\n}\n/* For some reason this is needed for the position slider to show up now that\n * we are using React.\n */\n#webamp .play #position::-webkit-slider-thumb {\n  visibility: visible;\n}\n#webamp .actions div {\n  height: 18px;\n  width: 23px;\n  position: absolute;\n}\n#webamp .actions #previous {\n  top: 88px;\n  left: 16px;\n}\n#webamp .actions #play {\n  top: 88px;\n  left: 39px;\n}\n#webamp .actions #pause {\n  top: 88px;\n  left: 62px;\n}\n#webamp .actions #stop {\n  top: 88px;\n  left: 85px;\n}\n#webamp .actions #next {\n  top: 88px;\n  left: 108px;\n  width: 22px;\n}\n#webamp #eject {\n  position: absolute;\n  top: 89px;\n  left: 136px;\n  height: 16px;\n  width: 22px;\n}\n#webamp .shuffle-repeat {\n  position: absolute;\n  top: 89px;\n  left: 164px;\n  width: 74px;\n}\n#webamp .shuffle-repeat div {\n  position: absolute;\n  height: 15px;\n}\n#webamp .shuffle-repeat #shuffle {\n  width: 47px;\n}\n#webamp .shuffle-repeat #repeat {\n  left: 46px;\n  width: 28px;\n}\n#webamp #about {\n  position: absolute;\n  top: 91px;\n  left: 253px;\n  height: 15px;\n  width: 13px;\n}\n#webamp .digit {\n  position: absolute;\n  display: inline-block;\n  width: 9px;\n  height: 13px;\n  background-repeat: no-repeat;\n  text-indent: -9999px;\n}\n/* Shade View */\n#webamp #main-window.shade {\n  height: 14px;\n}\n#webamp .shade .media-info,\n#webamp .shade .windows,\n#webamp .shade #volume,\n#webamp .shade #balance,\n#webamp .shade .shuffle-repeat,\n#webamp .shade .webamp-status {\n  display: none;\n}\n#webamp .shade #title-bar {\n}\n#webamp .shade .actions div {\n  position: absolute;\n}\n#webamp .shade .actions #previous,\n#webamp .shade .actions #previous.winamp-active {\n  background: none;\n  height: 10px;\n  width: 7px;\n  top: 2px;\n  left: 169px;\n}\n#webamp .shade .actions #play,\n#webamp .shade .actions #play.winamp-active {\n  background: none;\n  height: 10px;\n  width: 10px;\n  top: 2px;\n  left: 176px;\n}\n#webamp .shade .actions #pause,\n#webamp .shade .actions #pause.winamp-active {\n  background: none;\n  height: 10px;\n  width: 9px;\n  top: 2px;\n  left: 186px;\n}\n#webamp .shade .actions #stop,\n#webamp .shade .actions #stop.winamp-active {\n  background: none;\n  height: 10px;\n  width: 9px;\n  top: 2px;\n  left: 195px;\n}\n#webamp .shade .actions #next,\n#webamp .shade .actions #next.winamp-active {\n  background: none;\n  height: 10px;\n  width: 10px;\n  top: 2px;\n  left: 204px;\n}\n#webamp .shade #eject,\n#webamp .shade #eject.winamp-active {\n  height: 10px;\n  width: 10px;\n  top: 2px;\n  left: 215px;\n  background: none;\n}\n#webamp .shade #position {\n  position: absolute;\n  left: 226px;\n  top: 4px;\n  width: 17px;\n  height: 7px;\n}\n#webamp .shade #position::-webkit-slider-thumb {\n  height: 7px;\n  width: 3px;\n  /* This make it appear. Not sure why */\n  background: none;\n}\n#webamp .shade #position::-moz-range-thumb {\n  height: 7px;\n  width: 3px;\n  /* This make it appear. Not sure why */\n  background: none;\n}\n#webamp #main-window .mini-time {\n  position: absolute;\n  top: 4px;\n  left: 127px;\n}\n.webamp-desktop {\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  z-index: -1;\n}\n#webamp .mini-time {\n  display: block;\n  height: 6px;\n  width: 25px;\n}\n#webamp .mini-time.blinking .character:not(.background-character) {\n  animation: blink 2s step-start 1s infinite;\n  -webkit-animation: blink 2s step-start 1s infinite;\n}\n#webamp .mini-time .background-character {\n  z-index: 1;\n}\n#webamp .mini-time .character {\n  position: absolute;\n  top: 0;\n  z-index: 2;\n}\n/* Styles */\n#webamp #playlist-window {\n  display: flex;\n  flex-direction: column;\n}\n#webamp .playlist-top {\n  width: 100%;\n  min-height: 20px;\n  max-height: 20px;\n  position: relative;\n  display: flex;\n}\n#webamp .playlist-top-left {\n  width: 25px;\n}\n#webamp .playlist-top-left-spacer {\n  width: 12px;\n}\n#webamp .playlist-top-left-fill {\n  flex-grow: 1;\n  background-position: right;\n}\n#webamp .playlist-top-right-spacer {\n  /* This goes to the right of the center */\n  width: 13px;\n}\n#webamp .playlist-top-right-fill {\n  flex-grow: 1;\n  background-position: right;\n}\n#webamp .playlist-top-title {\n  width: 100px;\n}\n#webamp .playlist-top-right {\n  width: 25px;\n}\n#webamp .playlist-middle {\n  flex-grow: 1;\n  display: flex;\n  flex-direction: row;\n  overflow: hidden;\n}\n#webamp .playlist-middle-left {\n  background-repeat: repeat-y;\n  width: 12px;\n  min-width: 12px;\n}\n#webamp .playlist-middle-center {\n  flex-grow: 1;\n  padding: 3px 0;\n  min-width: 0; /* Not sure why this is needed */\n}\n#webamp .playlist-tracks {\n  display: flex;\n  flex: 1 0 auto;\n}\n#webamp .playlist-tracks .track-cell {\n  height: 13px;\n  line-height: 13px;\n  font-size: 9px;\n  letter-spacing: 0.5px;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  user-select: none;\n}\n#webamp .playlist-track-durations > div {\n  padding-right: 3px;\n  text-align: right;\n}\n#webamp .playlist-track-titles {\n  flex: 1 1 auto;\n  overflow: hidden;\n}\n#webamp .playlist-track-titles > div {\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  overflow: hidden;\n}\n#webamp .playlist-middle-right {\n  background-repeat: repeat-y;\n  background-position: top right;\n  width: 20px;\n  min-width: 20px;\n  position: relative;\n  padding-bottom: 18px;\n}\n#webamp .playlist-bottom {\n  width: 100%;\n  height: 38px;\n  min-height: 38px;\n  max-height: 38px;\n  position: relative;\n}\n#webamp .playlist-bottom-left {\n  width: 125px;\n  height: 100%;\n  position: absolute;\n}\n#webamp .playlist-menu li {\n  list-style: none;\n  display: none;\n  width: 22px;\n  height: 18px;\n  padding: 0;\n  margin: 0;\n}\n#webamp .playlist-menu li > div {\n  height: 100%;\n}\n#webamp .playlist-menu ul {\n  padding: 0;\n  margin: 0;\n  position: absolute;\n  bottom: 0;\n}\n#webamp .playlist-menu.selected li {\n  display: block;\n}\n#webamp .playlist-menu .bar {\n  position: absolute;\n  bottom: 0;\n  left: -3px;\n  width: 3px;\n  height: 54px;\n}\n#webamp #playlist-add-menu {\n  position: absolute;\n  bottom: 12px;\n  left: 14px;\n  width: 22px;\n  height: 18px;\n}\n#webamp #playlist-remove-menu.playlist-menu .bar {\n  height: 72px;\n}\n#webamp #playlist-remove-menu {\n  position: absolute;\n  bottom: 12px;\n  left: 43px;\n  width: 22px;\n  height: 18px;\n}\n#webamp #playlist-selection-menu {\n  position: absolute;\n  bottom: 12px;\n  left: 72px;\n  width: 22px;\n  height: 18px;\n}\n#webamp #playlist-misc-menu {\n  position: absolute;\n  bottom: 12px;\n  left: 101px;\n  width: 22px;\n  height: 18px;\n}\n#webamp #playlist-list-menu {\n  position: absolute;\n  bottom: 12px;\n  right: 22px;\n  width: 22px;\n  height: 18px;\n}\n#webamp .playlist-bottom-right {\n  width: 150px;\n  height: 100%;\n  position: absolute;\n  right: 0;\n}\n#webamp .playlist-running-time-display {\n  position: absolute;\n  top: 10px;\n  left: 7px;\n  height: 10px;\n}\n#webamp .playlist-action-buttons {\n  position: absolute;\n  top: 22px;\n  left: 3px;\n  display: flex;\n}\n#webamp .playlist-action-buttons > div {\n  height: 10px;\n  width: 10px;\n}\n#webamp #playlist-window .playlist-visualizer {\n  width: 75px;\n  height: 100%;\n  position: absolute;\n  right: 150px;\n}\n#webamp #playlist-window .mini-time {\n  position: absolute;\n  top: 23px;\n  left: 66px;\n}\n#webamp #playlist-window #playlist-resize-target {\n  position: absolute;\n  right: 0;\n  bottom: 0;\n  height: 20px;\n  width: 20px;\n}\n#webamp #playlist-close-button {\n  position: absolute;\n  right: 2px;\n  height: 9px;\n  width: 9px;\n  top: 3px;\n}\n#webamp #playlist-shade-button {\n  position: absolute;\n  right: 12px;\n  height: 9px;\n  width: 9px;\n  top: 3px;\n}\n#webamp #playlist-window-shade {\n  height: 14px;\n}\n#webamp #playlist-window-shade .left {\n  height: 14px;\n  background-repeat: no-repeat;\n}\n#webamp #playlist-window-shade .right {\n  height: 14px;\n  background-repeat: no-repeat;\n  background-position-x: right;\n}\n#webamp #playlist-window #playlist-scroll-up-button,\n#webamp #playlist-window #playlist-scroll-down-button {\n  position: absolute;\n  width: 8px;\n  height: 5px;\n  right: 7px;\n}\n#webamp #playlist-window #playlist-scroll-up-button {\n  top: 2px;\n}\n#webamp #playlist-window #playlist-scroll-down-button {\n  top: 8px;\n}\n#webamp #playlist-window-shade #playlist-resize-target {\n  position: absolute;\n  right: 20px;\n  top: 3px;\n  height: 9px;\n  width: 9px;\n}\n#webamp #playlist-shade-track-title {\n  position: absolute;\n  top: 4px;\n  left: 5px;\n}\n#webamp #playlist-shade-time {\n  position: absolute;\n  top: 4px;\n  right: 30px;\n}\n#webamp #playlist-window .visualizer-wrapper {\n  position: absolute;\n  top: 12px;\n  left: 2px;\n  width: 72px;\n  overflow: hidden;\n}\n/* Rules used by all windows */\n#webamp {\n  position: absolute;\n  top: 0;\n  left: 0;\n}\n/* Prevent accidental highlighting */\n#webamp canvas {\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  user-select: none;\n}\n#webamp * {\n  /* Some environments globably change the box-sizing */\n  box-sizing: content-box;\n  -webkit-box-sizing: content-box;\n}\n#webamp *:focus {\n  outline: 0;\n}\n/* Range input css reset */\n#webamp input[type="range"] {\n  -webkit-appearance: none;\n  margin: 0;\n  padding: 0;\n  background: none;\n  border: none;\n}\n#webamp input[type="range"]::-webkit-slider-thumb {\n  -webkit-appearance: none;\n  border: none;\n  border-radius: 0;\n  background: none;\n}\n#webamp input[type="range"]::-moz-range-thumb {\n  border: none;\n  border-radius: 0;\n  background: none;\n}\n#webamp input[type="range"]::-moz-range-track {\n  border: none;\n  background: none;\n}\n#webamp input[type="range"]:focus {\n  outline: none;\n}\n#webamp input[type="range"]::-moz-focus-outer {\n  border: 0;\n}\n#webamp a:focus {\n  outline: none;\n}\n/* Animation */\n@keyframes blink {\n  0% {\n    opacity: 1;\n  }\n  50% {\n    opacity: 0;\n  }\n  100% {\n    opacity: 1;\n  }\n}\n@-webkit-keyframes blink {\n  0% {\n    opacity: 1;\n  }\n  50% {\n    opacity: 0;\n  }\n  100% {\n    opacity: 1;\n  }\n}\n#webamp .character {\n  display: inline-block;\n  vertical-align: top;\n  width: 5px;\n  height: 6px;\n  /* background-image: TEXT.BMP via Javascript */\n  text-indent: -9999px;\n}\n#webamp .window {\n  position: absolute;\n  /* Ask the browser to scale showing large pixels if possible */\n  image-rendering: -moz-crisp-edges; /* Firefox */\n  image-rendering: -o-crisp-edges; /* Opera */\n  image-rendering: -webkit-optimize-contrast; /* Safari */\n  image-rendering: pixelated; /* Only in Chrome > 40 */\n  -ms-interpolation-mode: nearest-neighbor; /* IE (non-standard property) */\n}\n#webamp .window {\n  /* Work around rendering bug with clip-path */\n  -webkit-transform: translateZ(0);\n}\n#webamp .window.doubled {\n  -moz-transform: translateZ(0) scale(2);\n  -moz-transform-origin: top left;\n  -webkit-transform: translateZ(0) scale(2);\n  -webkit-transform-origin: top left;\n}\n'; function App({ media: e, filePickers: t, onMount: n, parentDomNode: a }) { const r = useTypedSelector(getClosed), s = useTypedSelector(getGenWindows), i = useTypedSelector(getZIndex), o = useActionCreator(browserWindowSizeChanged), l = useActionCreator(setFocusedWindow), [m] = reactExports.useState(() => { const e = document.createElement("div"); return e.id = "webamp", e.role = "application", e }); reactExports.useLayoutEffect(() => { m.style.zIndex = String(i) }, [m, i]), reactExports.useLayoutEffect(() => (a.appendChild(m), () => { a.removeChild(m) }), [m, a]), reactExports.useEffect(() => { const e = () => { null != m && (m.style.right = "0", m.style.bottom = "0", m.style.overflow = "hidden", o(getWindowSize$1()), m.style.right = "auto", m.style.bottom = "auto", m.style.overflow = "visible") }; return e(), window.addEventListener("resize", e), () => { window.removeEventListener("resize", e) } }, [o, m]), reactExports.useEffect(() => { null != n && n() }, [n]); const [c, u] = reactExports.useState("osc(2, fft, 0.9).kaleid(4).out()"), A = reactExports.useCallback(() => objectMap(s, (n, a) => { if (!n.open) return null; switch (a) { case WINDOWS.MAIN: return jsxRuntimeExports.jsx(MainWindow, { analyser: e.getAnalyser(), filePickers: t }); case WINDOWS.EQUALIZER: return jsxRuntimeExports.jsx(EqualizerWindow, { code: c, setCode: u }); case WINDOWS.PLAYLIST: return jsxRuntimeExports.jsx(PlaylistWindow, { analyser: e.getAnalyser() }); case WINDOWS.MILKDROP: return jsxRuntimeExports.jsx(Milkdrop, { code: c, analyser: e.getAnalyser() }); default: throw new Error(`Tried to render an unknown window: ${a}`) } }), [e, t, s, c, u]); return r ? null : ReactDOM$2.createPortal(jsxRuntimeExports.jsxs(reactExports.StrictMode, { children: [jsxRuntimeExports.jsx(Css, { children: css_248z }), jsxRuntimeExports.jsxs("div", { onBlur: e => { e.currentTarget.contains(e.relatedTarget) || l(null) }, children: [jsxRuntimeExports.jsx(Skin, {}), jsxRuntimeExports.jsx(ContextMenuWraper, { renderContents: () => jsxRuntimeExports.jsx(MainContextMenu, { filePickers: t }), children: jsxRuntimeExports.jsx(WindowManager, { windows: A() }) })] })] }), m) } const IGNORE_EVENTS_FROM_TAGS = new Set(["input", "textarea", "select"]); function bindHotkeys(e) { let t = 0; const n = [78, 85, 76, 76, 83, 79, 70, 84], a = a => { if (!(a.target instanceof Element && IGNORE_EVENTS_FROM_TAGS.has(a.target.tagName.toLowerCase()))) { if (a.ctrlKey) switch (a.keyCode) { case 68: e(toggleDoubleSizeMode()), a.preventDefault(); break; case 76: break; case 82: e(reverseList()); break; case 84: e({ type: "TOGGLE_TIME_MODE" }) } else if (a.altKey) switch (a.keyCode) { case 87: e(toggleWindow("main")); break; case 69: e(toggleWindow("playlist")); break; case 71: e(toggleWindow("equalizer")) } else switch (a.keyCode) { case 37: case 103: e(seekBackward(5)); break; case 38: case 104: e(adjustVolume(1)); break; case 39: case 105: e(seekForward(5)); break; case 40: case 98: e(adjustVolume(-1)); break; case 66: case 102: e(next()); break; case 67: e(pause()); break; case 76: case 96: e(openMediaFileDialog()); break; case 82: e(toggleRepeat()); break; case 83: e(toggleShuffle()); break; case 86: e(stop()); break; case 88: case 101: e(play()); break; case 90: case 100: e(previous()); break; case 97: e(nextN(-10)); break; case 99: e(nextN(10)) }27 !== a.keyCode && (t = a.keyCode === n[t] ? t + 1 : 0, t === n.length && e({ type: "TOGGLE_LLAMA_MODE" })) } }; return document.addEventListener("keydown", a), () => { document.removeEventListener("keydown", a) } } class Emitter { _listeners; constructor() { this._listeners = {} } on(e, t) { const n = this._listeners[e] || []; return n.push(t), this._listeners[e] = n, () => { this._listeners[e] = n.filter(e => e !== t) } } trigger(e, ...t) { const n = this._listeners[e]; n && n.forEach(e => e(...t)) } dispose() { this._listeners = {} } } class Disposable { _teardowns = []; disposed; constructor() { this.disposed = !1 } add(...e) { if (this.disposed) throw new Error("Attempted to add a new teardown to a disposed disposable."); this._teardowns.push(...e) } dispose() { if (this.disposed) throw new Error("Attempted to dispose disposable which is already disposed."); this._teardowns.forEach(e => { "function" == typeof e ? e() : "function" == typeof e.dispose && e.dispose() }), this._teardowns = [], this.disposed = !0 } } function StereoBalanceNode(e, t = { balance: 0 }) { let n = 0; const a = e.createGain(); a.channelCount = 2, a.channelCountMode = "explicit", a.channelInterpretation = "speakers"; const r = e.createChannelSplitter(2), s = e.createGain(), i = e.createGain(), o = e.createChannelMerger(2); function l(e) { const t = Number(e); s.gain.value = t > 0 ? 1 - t : 1, i.gain.value = t > 0 ? 1 : 1 + t, n = t } a.connect(r), r.connect(s, 0), r.connect(i, 1), s.connect(o, 0, 0), i.connect(o, 0, 1); const m = {}; return Object.defineProperties(m, { value: { get: function () { return n }, set: l, enumerable: !0, configurable: !0 } }), Object.defineProperties(a, { balance: { value: m, enumerable: !0, writable: !1, configurable: !0 }, connect: { value: AudioNode.prototype.connect.bind(o), enumerable: !1, writable: !1, configurable: !0 }, disconnect: { value: AudioNode.prototype.disconnect.bind(o), enumerable: !1, writable: !1, configurable: !0 } }), n !== t.balance && l(t.balance), a } class ElementSource { _emitter; _context; _source; _destination; _audio; _stalled; _status; _disposable; on(e, t) { return this._emitter.on(e, t) } constructor(e, t) { this._emitter = new Emitter, this._context = e, this._destination = t, this._audio = document.createElement("audio"), this._audio.crossOrigin = "anonymous", this._stalled = !1, this._status = MEDIA_STATUS.STOPPED, this._disposable = new Disposable; const n = () => { this._setStalled(!0) }; this._audio.addEventListener("suspend", n), this._disposable.add(() => this._audio.removeEventListener("suspend", n)); const a = () => { this._emitter.trigger("loaded"), this._setStalled(!1) }; this._audio.addEventListener("durationchange", a), this._disposable.add(() => this._audio.removeEventListener("durationchange", a)); const r = () => { this._emitter.trigger("ended"), this._setStatus(MEDIA_STATUS.STOPPED) }; this._audio.addEventListener("ended", r), this._disposable.add(() => this._audio.removeEventListener("ended", r)); const s = () => { this._emitter.trigger("positionChange") }; this._audio.addEventListener("timeupdate", s), this._disposable.add(() => this._audio.removeEventListener("timeupdate", s)); const i = e => { this._audio.error.code, this._emitter.trigger("ended"), this._setStatus(MEDIA_STATUS.STOPPED) }; this._audio.addEventListener("error", i), this._disposable.add(() => this._audio.removeEventListener("error", i)), this._source = this._context.createMediaElementSource(this._audio), this._source.connect(t) } _setStalled(e) { this._stalled = e, this._emitter.trigger("stallChanged") } disconnect() { this._source.disconnect() } async loadUrl(e) { this._audio.src = e } async play() { this._status !== MEDIA_STATUS.PAUSED && this.seekToTime(0); try { await this._audio.play() } catch (err) { } this._setStatus(MEDIA_STATUS.PLAYING) } pause() { this._audio.pause(), this._setStatus(MEDIA_STATUS.PAUSED) } stop() { this._audio.pause(), this._audio.currentTime = 0, this._setStatus(MEDIA_STATUS.STOPPED) } seekToTime(e) { this._audio.currentTime = clamp(e, 0, this.getDuration()), this._emitter.trigger("positionChange") } getStalled() { return this._stalled } getStatus() { return this._status } getDuration() { const { duration: e } = this._audio; return isNaN(e) || e === 1 / 0 ? 0 : e } getTimeElapsed() { return this._audio.currentTime } _setStatus(e) { this._status = e, this._emitter.trigger("statusChange") } dispose() { this._disposable.dispose(), this.stop(), this._emitter.dispose() } } class Media { _emitter; _context; _balance; _staticSource; _preamp; _analyser; _gainNode; _source; _bands; _disposable; constructor() { if (this._emitter = new Emitter, this._disposable = new Disposable, this._context = new (window.AudioContext || window.webkitAudioContext), "suspended" === this._context.state) { const e = async () => { await this._context.resume(), "running" === this._context.state && (document.body.removeEventListener("touchend", e, !1), document.body.removeEventListener("click", e, !1), document.body.removeEventListener("keydown", e, !1)) }; document.body.addEventListener("touchend", e, !1), document.body.addEventListener("click", e, !1), document.body.addEventListener("keydown", e, !1), this._disposable.add(() => { document.body.removeEventListener("touchend", e, !1), document.body.removeEventListener("click", e, !1), document.body.removeEventListener("keydown", e, !1) }) } this._staticSource = this._context.createGain(), this._balance = new StereoBalanceNode(this._context), this._preamp = this._context.createGain(), this._analyser = this._context.createAnalyser(), this._analyser.fftSize = 2048, this._analyser.smoothingTimeConstant = 0, this._gainNode = this._context.createGain(), this._source = new ElementSource(this._context, this._staticSource), this._source.on("positionChange", () => { this._emitter.trigger("timeupdate") }), this._source.on("ended", () => { this._emitter.trigger("ended") }), this._source.on("statusChange", () => { this._source.getStatus() === MEDIA_STATUS.PLAYING && this._emitter.trigger("playing"), this._emitter.trigger("timeupdate") }), this._source.on("loaded", () => { this._emitter.trigger("fileLoaded") }), this._staticSource.connect(this._preamp); let e = this._preamp; this._bands = {}, BANDS.forEach((t, n) => { const a = this._context.createBiquadFilter(); this._bands[t] = a, 0 === n ? a.type = "lowshelf" : n === BANDS.length - 1 ? a.type = "highshelf" : a.type = "peaking", a.frequency.value = t, a.gain.value = 0, e.connect(a), e = a }), e.connect(this._balance), this._balance.connect(this._gainNode), this._balance.connect(this._analyser), this._gainNode.connect(this._context.destination) } getAnalyser() { return this._analyser } duration() { return this._source.getDuration() } timeElapsed() { return this._source.getTimeElapsed() } timeRemaining() { return this.duration() - this.timeElapsed() } percentComplete() { return this.timeElapsed() / this.duration() * 100 } async play() { await this._source.play() } pause() { this._source.pause() } stop() { this._source.stop() } seekToPercentComplete(e) { const t = this.duration() * (e / 100); this.seekToTime(t) } setVolume(e) { this._gainNode.gain.value = e / 100 } setPreamp(e) { const t = e / 100 * 24 - 12; this._preamp.gain.value = Math.pow(10, t / 20) } setBalance(e) { this._balance.balance.value = e / 100 } setEqBand(e, t) { const n = t / 100 * 24 - 12; this._bands[e].gain.value = n } disableEq() { this._staticSource.disconnect(), this._staticSource.connect(this._balance) } enableEq() { this._staticSource.disconnect(), this._staticSource.connect(this._preamp) } on(e, t) { this._emitter.on(e, t) } seekToTime(e) { this._source.seekToTime(e) } async loadFromUrl(e, t) { this._emitter.trigger("waiting"), await this._source.loadUrl(e), this._emitter.trigger("stopWaiting"), t && this.play() } dispose() { this._disposable.dispose(), this._source.dispose(), this._emitter.dispose() } } function enableMediaSession(e) { "mediaSession" in navigator && (e.onTrackDidChange(e => { if (null == e) return; const { metaData: { title: t, artist: n, album: a, albumArtUrl: r } } = e; navigator.mediaSession.metadata = new MediaMetadata({ title: t ?? void 0, artist: n ?? void 0, album: a ?? void 0, artwork: r ? [{ src: r }] : [] }) }), navigator.mediaSession.setActionHandler("play", () => { e.play() }), navigator.mediaSession.setActionHandler("pause", () => { e.pause() }), navigator.mediaSession.setActionHandler("seekbackward", () => { e.seekBackward(10) }), navigator.mediaSession.setActionHandler("seekforward", () => { e.seekForward(10) }), navigator.mediaSession.setActionHandler("previoustrack", () => { e.previousTrack() }), navigator.mediaSession.setActionHandler("nexttrack", () => { e.nextTrack() })) } let Webamp$1 = class { static VERSION = "2.2.0"; _actionEmitter; _root; _disposable; options; media; store; static browserIsSupported() { const e = !(!window.AudioContext && !window.webkitAudioContext), t = !!window.document.createElement("canvas").getContext; return e && t && "undefined" != typeof Promise } constructor(e) { this._root = null, this._disposable = new Disposable, this._actionEmitter = new Emitter, this.options = e; const { initialTracks: t, initialSkin: n, availableSkins: a, enableHotkeys: r = !1, zIndex: s, requireJSZip: i, requireMusicMetadata: o, requireButterchurnPresets: l, handleTrackDropEvent: m, handleAddUrlEvent: c, handleLoadListEvent: u, handleSaveListEvent: A, enableDoubleSizeMode: p, __butterchurnOptions: d, __customMediaClass: _ } = this.options, v = d; if (null != l) { if (null == v) throw new Error("You must pass `__butterchurnOptions` if you are using `requireButterchurnPresets`."); v.getPresets = l } let h = null; if (null != v) { const { importConvertPreset: e, presetConverterEndpoint: t } = v; null != e && null != t && (h = async n => { const { convertPreset: a } = await e(); return a(await genStringFromFileReference(n), t) }) } this.media = new (_ || Media), this.store = createWebampStore(this.media, this._actionEmitter, this.options.__customMiddlewares, this.options.__initialState, { requireJSZip: i, requireMusicMetadata: o, convertPreset: h, handleTrackDropEvent: m, handleAddUrlEvent: c, handleLoadListEvent: u, handleSaveListEvent: A }), e.enableMediaSession && enableMediaSession(this), p && this.store.dispatch(toggleDoubleSizeMode()), navigator.onLine ? this.store.dispatch({ type: "NETWORK_CONNECTED" }) : this.store.dispatch({ type: "NETWORK_DISCONNECTED" }), null != s && this.store.dispatch({ type: "SET_Z_INDEX", zIndex: s }), v && (this.store.dispatch({ type: "ENABLE_MILKDROP", open: v.butterchurnOpen }), this.store.dispatch(initializePresets(v))); const g = () => this.store.dispatch({ type: "NETWORK_CONNECTED" }), f = () => this.store.dispatch({ type: "NETWORK_DISCONNECTED" }); window.addEventListener("online", g), window.addEventListener("offline", f), this._disposable.add(() => { window.removeEventListener("online", g), window.removeEventListener("offline", f) }), n ? this.store.dispatch(setSkinFromUrl(n.url)) : this.store.dispatch({ type: "LOADED" }), t && this._bufferTracks(t), null != e.avaliableSkins ? this.store.dispatch({ type: "SET_AVAILABLE_SKINS", skins: e.avaliableSkins }) : null != a && this.store.dispatch({ type: "SET_AVAILABLE_SKINS", skins: a }), this.store.dispatch(setWindowLayout(e.windowLayout)), r && this._disposable.add(bindHotkeys(this.store.dispatch)) } play() { this.store.dispatch(play()) } pause() { this.store.dispatch(pause()) } stop() { this.store.dispatch(stop()) } setVolume(e) { this.store.dispatch(setVolume(e)) } seekBackward(e) { this.store.dispatch(seekBackward(e)) } seekForward(e) { this.store.dispatch(seekForward(e)) } seekToTime(e) { this.store.dispatch(seekToTime(e)) } isShuffleEnabled() { return getShuffle(this.store.getState()) } toggleShuffle() { this.store.dispatch(toggleShuffle()) } isRepeatEnabled() { return getRepeat(this.store.getState()) } toggleRepeat() { this.store.dispatch(toggleRepeat()) } nextTrack() { this.store.dispatch(next()) } previousTrack() { this.store.dispatch(previous()) } setCurrentTrack(e) { this.store.dispatch(playTrack(e)) } appendTracks(e) { const t = getTrackCount(this.store.getState()); this.store.dispatch(loadMediaFiles(e, LOAD_STYLE.NONE, t)) } setTracksToPlay(e) { this.store.dispatch(loadMediaFiles(e, LOAD_STYLE.PLAY)) } getPlaylistTracks() { return getPlaylistTracks(this.store.getState()) } getMediaStatus() { return getMediaStatus(this.store.getState()) } getPlayerMediaStatus() { return getPlayerMediaStatus(this.store.getState()) } onWillClose(e) { return this._actionEmitter.on("CLOSE_REQUESTED", t => { e(t.cancel) }) } onClose(e) { return this._actionEmitter.on("CLOSE_WINAMP", e) } close() { this.store.dispatch(close()) } reopen() { this.store.dispatch(open()) } onTrackDidChange(e) { let t = null; const n = this.store.subscribe(() => { const n = this.store.getState(), a = getCurrentlyPlayingTrackIdIfLoaded(n); a !== t && (t = a, e(null == a ? null : getCurrentTrackInfo(n))) }); return this._disposable.add(n), n } onMinimize(e) { return this._actionEmitter.on("MINIMIZE_WINAMP", e) } setSkinFromUrl(e) { this.store.dispatch(setSkinFromUrl(e)) } async skinIsLoaded() { await this.storeHas(e => !e.display.loading), await Promise.all([getPreampLineImage(this.store.getState()), getLineColorsImage(this.store.getState())]) } async renderWhenReady(e) { if (this.store.dispatch(centerWindowsInContainer(e)), await this.skinIsLoaded(), this._disposable.disposed) return; if (null != this._root) throw new Error("Cannot render a Webamp instance twice"); let t; this._root = ReactDOM.createRoot(e), this._disposable.add(() => { null != this._root && (this._root.unmount(), this._root = null) }); const n = new Promise(e => { t = e }); this._root.render(jsxRuntimeExports.jsx(Provider, { store: this.store, children: jsxRuntimeExports.jsx(App, { media: this.media, filePickers: this.options.filePickers || [], onMount: t, parentDomNode: document.body }) })), await n } dispose() { this.media.dispose(), this._actionEmitter.dispose(), this._disposable.dispose() } __loadSerializedState(e) { this.store.dispatch(loadSerializedState(e)) } __getSerializedState() { return getSerlializedState(this.store.getState()) } __onStateChange(e) { const t = this.store.subscribe(e); return this._disposable.add(t), t } storeHas(e) { let t = !1; return new Promise((n, a) => { if (e(this.store.getState())) return void n(); const r = this.store.subscribe(() => { e(this.store.getState()) && (t = !0, r(), n()) }); this._disposable.add(() => { t || (r(), a(new Error("Store was disposed before condition was met."))) }) }) } _bufferTracks(e) { const t = getTrackCount(this.store.getState()); this.store.dispatch(loadMediaFiles(e, LOAD_STYLE.BUFFER, t)) } }; window.Webamp = Webamp$1; let nextHandle = 1; const tasksByHandle = {}; let currentlyRunningATask = !1, registerImmediate; function setImmediate$1(e) { const t = new Array(arguments.length - 1); for (let a = 0; a < t.length; a++)t[a] = arguments[a + 1]; const n = { callback: e, args: t }; return tasksByHandle[nextHandle] = n, registerImmediate(nextHandle), nextHandle++ } function clearImmediate(e) { delete tasksByHandle[e] } function run(e) { const t = e.callback, n = e.args; switch (n.length) { case 0: t(); break; case 1: t(n[0]); break; case 2: t(n[0], n[1]); break; case 3: t(n[0], n[1], n[2]); break; default: t.apply(void 0, n) } } function runIfPresent(e) { if (currentlyRunningATask) setTimeout(runIfPresent, 0, e); else { const t = tasksByHandle[e]; if (t) { currentlyRunningATask = !0; try { run(t) } finally { clearImmediate(e), currentlyRunningATask = !1 } } } } function canUsePostMessage() { if (!window.importScripts) { let e = !0; const t = window.onmessage; return window.onmessage = function () { e = !1 }, window.postMessage("", "*"), window.onmessage = t, e } } function installPostMessageImplementation() { const e = `setImmediate$${Math.random()}$`; window.addEventListener("message", t => { t.source === window && "string" == typeof t.data && 0 === t.data.indexOf(e) && runIfPresent(+t.data.slice(e.length)) }, !1), registerImmediate = function (t) { window.postMessage(e + t, "*") } } function installSetTimeoutImplementation() { registerImmediate = function (e) { setTimeout(runIfPresent, 0, e) } } canUsePostMessage() ? installPostMessageImplementation() : installSetTimeoutImplementation(); var utils = {}, support = {}, global$1 = "undefined" != typeof global ? global : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {}, lookup = [], revLookup = [], Arr = "undefined" != typeof Uint8Array ? Uint8Array : Array, inited = !1; function init() { inited = !0; for (var e = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/", t = 0; t < 64; ++t)lookup[t] = e[t], revLookup[e.charCodeAt(t)] = t; revLookup["-".charCodeAt(0)] = 62, revLookup["_".charCodeAt(0)] = 63 } function toByteArray(e) { var t, n, a, r, s, i; inited || init(); var o = e.length; if (o % 4 > 0) throw new Error("Invalid string. Length must be a multiple of 4"); s = "=" === e[o - 2] ? 2 : "=" === e[o - 1] ? 1 : 0, i = new Arr(3 * o / 4 - s), a = s > 0 ? o - 4 : o; var l = 0; for (t = 0, n = 0; t < a; t += 4, n += 3)r = revLookup[e.charCodeAt(t)] << 18 | revLookup[e.charCodeAt(t + 1)] << 12 | revLookup[e.charCodeAt(t + 2)] << 6 | revLookup[e.charCodeAt(t + 3)], i[l++] = r >> 16 & 255, i[l++] = r >> 8 & 255, i[l++] = 255 & r; return 2 === s ? (r = revLookup[e.charCodeAt(t)] << 2 | revLookup[e.charCodeAt(t + 1)] >> 4, i[l++] = 255 & r) : 1 === s && (r = revLookup[e.charCodeAt(t)] << 10 | revLookup[e.charCodeAt(t + 1)] << 4 | revLookup[e.charCodeAt(t + 2)] >> 2, i[l++] = r >> 8 & 255, i[l++] = 255 & r), i } function tripletToBase64(e) { return lookup[e >> 18 & 63] + lookup[e >> 12 & 63] + lookup[e >> 6 & 63] + lookup[63 & e] } function encodeChunk(e, t, n) { for (var a, r = [], s = t; s < n; s += 3)a = (e[s] << 16) + (e[s + 1] << 8) + e[s + 2], r.push(tripletToBase64(a)); return r.join("") } function fromByteArray(e) { var t; inited || init(); for (var n = e.length, a = n % 3, r = "", s = [], i = 16383, o = 0, l = n - a; o < l; o += i)s.push(encodeChunk(e, o, o + i > l ? l : o + i)); return 1 === a ? (t = e[n - 1], r += lookup[t >> 2], r += lookup[t << 4 & 63], r += "==") : 2 === a && (t = (e[n - 2] << 8) + e[n - 1], r += lookup[t >> 10], r += lookup[t >> 4 & 63], r += lookup[t << 2 & 63], r += "="), s.push(r), s.join("") } function read(e, t, n, a, r) { var s, i, o = 8 * r - a - 1, l = (1 << o) - 1, m = l >> 1, c = -7, u = n ? r - 1 : 0, A = n ? -1 : 1, p = e[t + u]; for (u += A, s = p & (1 << -c) - 1, p >>= -c, c += o; c > 0; s = 256 * s + e[t + u], u += A, c -= 8); for (i = s & (1 << -c) - 1, s >>= -c, c += a; c > 0; i = 256 * i + e[t + u], u += A, c -= 8); if (0 === s) s = 1 - m; else { if (s === l) return i ? NaN : 1 / 0 * (p ? -1 : 1); i += Math.pow(2, a), s -= m } return (p ? -1 : 1) * i * Math.pow(2, s - a) } function write(e, t, n, a, r, s) { var i, o, l, m = 8 * s - r - 1, c = (1 << m) - 1, u = c >> 1, A = 23 === r ? Math.pow(2, -24) - Math.pow(2, -77) : 0, p = a ? 0 : s - 1, d = a ? 1 : -1, _ = t < 0 || 0 === t && 1 / t < 0 ? 1 : 0; for (t = Math.abs(t), isNaN(t) || t === 1 / 0 ? (o = isNaN(t) ? 1 : 0, i = c) : (i = Math.floor(Math.log(t) / Math.LN2), t * (l = Math.pow(2, -i)) < 1 && (i--, l *= 2), (t += i + u >= 1 ? A / l : A * Math.pow(2, 1 - u)) * l >= 2 && (i++, l /= 2), i + u >= c ? (o = 0, i = c) : i + u >= 1 ? (o = (t * l - 1) * Math.pow(2, r), i += u) : (o = t * Math.pow(2, u - 1) * Math.pow(2, r), i = 0)); r >= 8; e[n + p] = 255 & o, p += d, o /= 256, r -= 8); for (i = i << r | o, m += r; m > 0; e[n + p] = 255 & i, p += d, i /= 256, m -= 8); e[n + p - d] |= 128 * _ } var toString = {}.toString, isArray$1 = Array.isArray || function (e) { return "[object Array]" == toString.call(e) }, INSPECT_MAX_BYTES = 50; function kMaxLength() { return Buffer$1.TYPED_ARRAY_SUPPORT ? 2147483647 : 1073741823 } function createBuffer(e, t) { if (kMaxLength() < t) throw new RangeError("Invalid typed array length"); return Buffer$1.TYPED_ARRAY_SUPPORT ? (e = new Uint8Array(t)).__proto__ = Buffer$1.prototype : (null === e && (e = new Buffer$1(t)), e.length = t), e } function Buffer$1(e, t, n) { if (!(Buffer$1.TYPED_ARRAY_SUPPORT || this instanceof Buffer$1)) return new Buffer$1(e, t, n); if ("number" == typeof e) { if ("string" == typeof t) throw new Error("If encoding is specified then the first argument must be a string"); return allocUnsafe(this, e) } return from(this, e, t, n) } function from(e, t, n, a) { if ("number" == typeof t) throw new TypeError('"value" argument must not be a number'); return "undefined" != typeof ArrayBuffer && t instanceof ArrayBuffer ? fromArrayBuffer(e, t, n, a) : "string" == typeof t ? fromString(e, t, n) : fromObject(e, t) } function assertSize(e) { if ("number" != typeof e) throw new TypeError('"size" argument must be a number'); if (e < 0) throw new RangeError('"size" argument must not be negative') } function alloc(e, t, n, a) { return assertSize(t), t <= 0 ? createBuffer(e, t) : void 0 !== n ? "string" == typeof a ? createBuffer(e, t).fill(n, a) : createBuffer(e, t).fill(n) : createBuffer(e, t) } function allocUnsafe(e, t) { if (assertSize(t), e = createBuffer(e, t < 0 ? 0 : 0 | checked(t)), !Buffer$1.TYPED_ARRAY_SUPPORT) for (var n = 0; n < t; ++n)e[n] = 0; return e } function fromString(e, t, n) { if ("string" == typeof n && "" !== n || (n = "utf8"), !Buffer$1.isEncoding(n)) throw new TypeError('"encoding" must be a valid string encoding'); var a = 0 | byteLength(t, n), r = (e = createBuffer(e, a)).write(t, n); return r !== a && (e = e.slice(0, r)), e } function fromArrayLike(e, t) { var n = t.length < 0 ? 0 : 0 | checked(t.length); e = createBuffer(e, n); for (var a = 0; a < n; a += 1)e[a] = 255 & t[a]; return e } function fromArrayBuffer(e, t, n, a) { if (n < 0 || t.byteLength < n) throw new RangeError("'offset' is out of bounds"); if (t.byteLength < n + (a || 0)) throw new RangeError("'length' is out of bounds"); return t = void 0 === n && void 0 === a ? new Uint8Array(t) : void 0 === a ? new Uint8Array(t, n) : new Uint8Array(t, n, a), Buffer$1.TYPED_ARRAY_SUPPORT ? (e = t).__proto__ = Buffer$1.prototype : e = fromArrayLike(e, t), e } function fromObject(e, t) { if (internalIsBuffer(t)) { var n = 0 | checked(t.length); return 0 === (e = createBuffer(e, n)).length || t.copy(e, 0, 0, n), e } if (t) { if ("undefined" != typeof ArrayBuffer && t.buffer instanceof ArrayBuffer || "length" in t) return "number" != typeof t.length || isnan(t.length) ? createBuffer(e, 0) : fromArrayLike(e, t); if ("Buffer" === t.type && isArray$1(t.data)) return fromArrayLike(e, t.data) } throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.") } function checked(e) { if (e >= kMaxLength()) throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x" + kMaxLength().toString(16) + " bytes"); return 0 | e } function internalIsBuffer(e) { return !(null == e || !e._isBuffer) } function byteLength(e, t) { if (internalIsBuffer(e)) return e.length; if ("undefined" != typeof ArrayBuffer && "function" == typeof ArrayBuffer.isView && (ArrayBuffer.isView(e) || e instanceof ArrayBuffer)) return e.byteLength; "string" != typeof e && (e = "" + e); var n = e.length; if (0 === n) return 0; for (var a = !1; ;)switch (t) { case "ascii": case "latin1": case "binary": return n; case "utf8": case "utf-8": case void 0: return utf8ToBytes(e).length; case "ucs2": case "ucs-2": case "utf16le": case "utf-16le": return 2 * n; case "hex": return n >>> 1; case "base64": return base64ToBytes(e).length; default: if (a) return utf8ToBytes(e).length; t = ("" + t).toLowerCase(), a = !0 } } function slowToString(e, t, n) { var a = !1; if ((void 0 === t || t < 0) && (t = 0), t > this.length) return ""; if ((void 0 === n || n > this.length) && (n = this.length), n <= 0) return ""; if ((n >>>= 0) <= (t >>>= 0)) return ""; for (e || (e = "utf8"); ;)switch (e) { case "hex": return hexSlice(this, t, n); case "utf8": case "utf-8": return utf8Slice(this, t, n); case "ascii": return asciiSlice(this, t, n); case "latin1": case "binary": return latin1Slice(this, t, n); case "base64": return base64Slice(this, t, n); case "ucs2": case "ucs-2": case "utf16le": case "utf-16le": return utf16leSlice(this, t, n); default: if (a) throw new TypeError("Unknown encoding: " + e); e = (e + "").toLowerCase(), a = !0 } } function swap(e, t, n) { var a = e[t]; e[t] = e[n], e[n] = a } function bidirectionalIndexOf(e, t, n, a, r) { if (0 === e.length) return -1; if ("string" == typeof n ? (a = n, n = 0) : n > 2147483647 ? n = 2147483647 : n < -2147483648 && (n = -2147483648), n = +n, isNaN(n) && (n = r ? 0 : e.length - 1), n < 0 && (n = e.length + n), n >= e.length) { if (r) return -1; n = e.length - 1 } else if (n < 0) { if (!r) return -1; n = 0 } if ("string" == typeof t && (t = Buffer$1.from(t, a)), internalIsBuffer(t)) return 0 === t.length ? -1 : arrayIndexOf(e, t, n, a, r); if ("number" == typeof t) return t &= 255, Buffer$1.TYPED_ARRAY_SUPPORT && "function" == typeof Uint8Array.prototype.indexOf ? r ? Uint8Array.prototype.indexOf.call(e, t, n) : Uint8Array.prototype.lastIndexOf.call(e, t, n) : arrayIndexOf(e, [t], n, a, r); throw new TypeError("val must be string, number or Buffer") } function arrayIndexOf(e, t, n, a, r) { var s, i = 1, o = e.length, l = t.length; if (void 0 !== a && ("ucs2" === (a = String(a).toLowerCase()) || "ucs-2" === a || "utf16le" === a || "utf-16le" === a)) { if (e.length < 2 || t.length < 2) return -1; i = 2, o /= 2, l /= 2, n /= 2 } function m(e, t) { return 1 === i ? e[t] : e.readUInt16BE(t * i) } if (r) { var c = -1; for (s = n; s < o; s++)if (m(e, s) === m(t, -1 === c ? 0 : s - c)) { if (-1 === c && (c = s), s - c + 1 === l) return c * i } else -1 !== c && (s -= s - c), c = -1 } else for (n + l > o && (n = o - l), s = n; s >= 0; s--) { for (var u = !0, A = 0; A < l; A++)if (m(e, s + A) !== m(t, A)) { u = !1; break } if (u) return s } return -1 } function hexWrite(e, t, n, a) { n = Number(n) || 0; var r = e.length - n; a ? (a = Number(a)) > r && (a = r) : a = r; var s = t.length; if (s % 2 != 0) throw new TypeError("Invalid hex string"); a > s / 2 && (a = s / 2); for (var i = 0; i < a; ++i) { var o = parseInt(t.substr(2 * i, 2), 16); if (isNaN(o)) return i; e[n + i] = o } return i } function utf8Write(e, t, n, a) { return blitBuffer(utf8ToBytes(t, e.length - n), e, n, a) } function asciiWrite(e, t, n, a) { return blitBuffer(asciiToBytes(t), e, n, a) } function latin1Write(e, t, n, a) { return asciiWrite(e, t, n, a) } function base64Write(e, t, n, a) { return blitBuffer(base64ToBytes(t), e, n, a) } function ucs2Write(e, t, n, a) { return blitBuffer(utf16leToBytes(t, e.length - n), e, n, a) } function base64Slice(e, t, n) { return 0 === t && n === e.length ? fromByteArray(e) : fromByteArray(e.slice(t, n)) } function utf8Slice(e, t, n) { n = Math.min(e.length, n); for (var a = [], r = t; r < n;) { var s, i, o, l, m = e[r], c = null, u = m > 239 ? 4 : m > 223 ? 3 : m > 191 ? 2 : 1; if (r + u <= n) switch (u) { case 1: m < 128 && (c = m); break; case 2: 128 == (192 & (s = e[r + 1])) && (l = (31 & m) << 6 | 63 & s) > 127 && (c = l); break; case 3: s = e[r + 1], i = e[r + 2], 128 == (192 & s) && 128 == (192 & i) && (l = (15 & m) << 12 | (63 & s) << 6 | 63 & i) > 2047 && (l < 55296 || l > 57343) && (c = l); break; case 4: s = e[r + 1], i = e[r + 2], o = e[r + 3], 128 == (192 & s) && 128 == (192 & i) && 128 == (192 & o) && (l = (15 & m) << 18 | (63 & s) << 12 | (63 & i) << 6 | 63 & o) > 65535 && l < 1114112 && (c = l) }null === c ? (c = 65533, u = 1) : c > 65535 && (c -= 65536, a.push(c >>> 10 & 1023 | 55296), c = 56320 | 1023 & c), a.push(c), r += u } return decodeCodePointsArray(a) } Buffer$1.TYPED_ARRAY_SUPPORT = void 0 === global$1.TYPED_ARRAY_SUPPORT || global$1.TYPED_ARRAY_SUPPORT, Buffer$1.poolSize = 8192, Buffer$1._augment = function (e) { return e.__proto__ = Buffer$1.prototype, e }, Buffer$1.from = function (e, t, n) { return from(null, e, t, n) }, Buffer$1.TYPED_ARRAY_SUPPORT && (Buffer$1.prototype.__proto__ = Uint8Array.prototype, Buffer$1.__proto__ = Uint8Array), Buffer$1.alloc = function (e, t, n) { return alloc(null, e, t, n) }, Buffer$1.allocUnsafe = function (e) { return allocUnsafe(null, e) }, Buffer$1.allocUnsafeSlow = function (e) { return allocUnsafe(null, e) }, Buffer$1.isBuffer = isBuffer, Buffer$1.compare = function (e, t) { if (!internalIsBuffer(e) || !internalIsBuffer(t)) throw new TypeError("Arguments must be Buffers"); if (e === t) return 0; for (var n = e.length, a = t.length, r = 0, s = Math.min(n, a); r < s; ++r)if (e[r] !== t[r]) { n = e[r], a = t[r]; break } return n < a ? -1 : a < n ? 1 : 0 }, Buffer$1.isEncoding = function (e) { switch (String(e).toLowerCase()) { case "hex": case "utf8": case "utf-8": case "ascii": case "latin1": case "binary": case "base64": case "ucs2": case "ucs-2": case "utf16le": case "utf-16le": return !0; default: return !1 } }, Buffer$1.concat = function (e, t) { if (!isArray$1(e)) throw new TypeError('"list" argument must be an Array of Buffers'); if (0 === e.length) return Buffer$1.alloc(0); var n; if (void 0 === t) for (t = 0, n = 0; n < e.length; ++n)t += e[n].length; var a = Buffer$1.allocUnsafe(t), r = 0; for (n = 0; n < e.length; ++n) { var s = e[n]; if (!internalIsBuffer(s)) throw new TypeError('"list" argument must be an Array of Buffers'); s.copy(a, r), r += s.length } return a }, Buffer$1.byteLength = byteLength, Buffer$1.prototype._isBuffer = !0, Buffer$1.prototype.swap16 = function () { var e = this.length; if (e % 2 != 0) throw new RangeError("Buffer size must be a multiple of 16-bits"); for (var t = 0; t < e; t += 2)swap(this, t, t + 1); return this }, Buffer$1.prototype.swap32 = function () { var e = this.length; if (e % 4 != 0) throw new RangeError("Buffer size must be a multiple of 32-bits"); for (var t = 0; t < e; t += 4)swap(this, t, t + 3), swap(this, t + 1, t + 2); return this }, Buffer$1.prototype.swap64 = function () { var e = this.length; if (e % 8 != 0) throw new RangeError("Buffer size must be a multiple of 64-bits"); for (var t = 0; t < e; t += 8)swap(this, t, t + 7), swap(this, t + 1, t + 6), swap(this, t + 2, t + 5), swap(this, t + 3, t + 4); return this }, Buffer$1.prototype.toString = function () { var e = 0 | this.length; return 0 === e ? "" : 0 === arguments.length ? utf8Slice(this, 0, e) : slowToString.apply(this, arguments) }, Buffer$1.prototype.equals = function (e) { if (!internalIsBuffer(e)) throw new TypeError("Argument must be a Buffer"); return this === e || 0 === Buffer$1.compare(this, e) }, Buffer$1.prototype.inspect = function () { var e = "", t = INSPECT_MAX_BYTES; return this.length > 0 && (e = this.toString("hex", 0, t).match(/.{2}/g).join(" "), this.length > t && (e += " ... ")), "<Buffer " + e + ">" }, Buffer$1.prototype.compare = function (e, t, n, a, r) { if (!internalIsBuffer(e)) throw new TypeError("Argument must be a Buffer"); if (void 0 === t && (t = 0), void 0 === n && (n = e ? e.length : 0), void 0 === a && (a = 0), void 0 === r && (r = this.length), t < 0 || n > e.length || a < 0 || r > this.length) throw new RangeError("out of range index"); if (a >= r && t >= n) return 0; if (a >= r) return -1; if (t >= n) return 1; if (this === e) return 0; for (var s = (r >>>= 0) - (a >>>= 0), i = (n >>>= 0) - (t >>>= 0), o = Math.min(s, i), l = this.slice(a, r), m = e.slice(t, n), c = 0; c < o; ++c)if (l[c] !== m[c]) { s = l[c], i = m[c]; break } return s < i ? -1 : i < s ? 1 : 0 }, Buffer$1.prototype.includes = function (e, t, n) { return -1 !== this.indexOf(e, t, n) }, Buffer$1.prototype.indexOf = function (e, t, n) { return bidirectionalIndexOf(this, e, t, n, !0) }, Buffer$1.prototype.lastIndexOf = function (e, t, n) { return bidirectionalIndexOf(this, e, t, n, !1) }, Buffer$1.prototype.write = function (e, t, n, a) { if (void 0 === t) a = "utf8", n = this.length, t = 0; else if (void 0 === n && "string" == typeof t) a = t, n = this.length, t = 0; else { if (!isFinite(t)) throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported"); t |= 0, isFinite(n) ? (n |= 0, void 0 === a && (a = "utf8")) : (a = n, n = void 0) } var r = this.length - t; if ((void 0 === n || n > r) && (n = r), e.length > 0 && (n < 0 || t < 0) || t > this.length) throw new RangeError("Attempt to write outside buffer bounds"); a || (a = "utf8"); for (var s = !1; ;)switch (a) { case "hex": return hexWrite(this, e, t, n); case "utf8": case "utf-8": return utf8Write(this, e, t, n); case "ascii": return asciiWrite(this, e, t, n); case "latin1": case "binary": return latin1Write(this, e, t, n); case "base64": return base64Write(this, e, t, n); case "ucs2": case "ucs-2": case "utf16le": case "utf-16le": return ucs2Write(this, e, t, n); default: if (s) throw new TypeError("Unknown encoding: " + a); a = ("" + a).toLowerCase(), s = !0 } }, Buffer$1.prototype.toJSON = function () { return { type: "Buffer", data: Array.prototype.slice.call(this._arr || this, 0) } }; var MAX_ARGUMENTS_LENGTH = 4096; function decodeCodePointsArray(e) { var t = e.length; if (t <= MAX_ARGUMENTS_LENGTH) return String.fromCharCode.apply(String, e); for (var n = "", a = 0; a < t;)n += String.fromCharCode.apply(String, e.slice(a, a += MAX_ARGUMENTS_LENGTH)); return n } function asciiSlice(e, t, n) { var a = ""; n = Math.min(e.length, n); for (var r = t; r < n; ++r)a += String.fromCharCode(127 & e[r]); return a } function latin1Slice(e, t, n) { var a = ""; n = Math.min(e.length, n); for (var r = t; r < n; ++r)a += String.fromCharCode(e[r]); return a } function hexSlice(e, t, n) { var a = e.length; (!t || t < 0) && (t = 0), (!n || n < 0 || n > a) && (n = a); for (var r = "", s = t; s < n; ++s)r += toHex(e[s]); return r } function utf16leSlice(e, t, n) { for (var a = e.slice(t, n), r = "", s = 0; s < a.length; s += 2)r += String.fromCharCode(a[s] + 256 * a[s + 1]); return r } function checkOffset(e, t, n) { if (e % 1 != 0 || e < 0) throw new RangeError("offset is not uint"); if (e + t > n) throw new RangeError("Trying to access beyond buffer length") } function checkInt(e, t, n, a, r, s) { if (!internalIsBuffer(e)) throw new TypeError('"buffer" argument must be a Buffer instance'); if (t > r || t < s) throw new RangeError('"value" argument is out of bounds'); if (n + a > e.length) throw new RangeError("Index out of range") } function objectWriteUInt16(e, t, n, a) { t < 0 && (t = 65535 + t + 1); for (var r = 0, s = Math.min(e.length - n, 2); r < s; ++r)e[n + r] = (t & 255 << 8 * (a ? r : 1 - r)) >>> 8 * (a ? r : 1 - r) } function objectWriteUInt32(e, t, n, a) { t < 0 && (t = 4294967295 + t + 1); for (var r = 0, s = Math.min(e.length - n, 4); r < s; ++r)e[n + r] = t >>> 8 * (a ? r : 3 - r) & 255 } function checkIEEE754(e, t, n, a, r, s) { if (n + a > e.length) throw new RangeError("Index out of range"); if (n < 0) throw new RangeError("Index out of range") } function writeFloat(e, t, n, a, r) { return r || checkIEEE754(e, t, n, 4), write(e, t, n, a, 23, 4), n + 4 } function writeDouble(e, t, n, a, r) { return r || checkIEEE754(e, t, n, 8), write(e, t, n, a, 52, 8), n + 8 } Buffer$1.prototype.slice = function (e, t) { var n, a = this.length; if ((e = ~~e) < 0 ? (e += a) < 0 && (e = 0) : e > a && (e = a), (t = void 0 === t ? a : ~~t) < 0 ? (t += a) < 0 && (t = 0) : t > a && (t = a), t < e && (t = e), Buffer$1.TYPED_ARRAY_SUPPORT) (n = this.subarray(e, t)).__proto__ = Buffer$1.prototype; else { var r = t - e; n = new Buffer$1(r, void 0); for (var s = 0; s < r; ++s)n[s] = this[s + e] } return n }, Buffer$1.prototype.readUIntLE = function (e, t, n) { e |= 0, t |= 0, n || checkOffset(e, t, this.length); for (var a = this[e], r = 1, s = 0; ++s < t && (r *= 256);)a += this[e + s] * r; return a }, Buffer$1.prototype.readUIntBE = function (e, t, n) { e |= 0, t |= 0, n || checkOffset(e, t, this.length); for (var a = this[e + --t], r = 1; t > 0 && (r *= 256);)a += this[e + --t] * r; return a }, Buffer$1.prototype.readUInt8 = function (e, t) { return t || checkOffset(e, 1, this.length), this[e] }, Buffer$1.prototype.readUInt16LE = function (e, t) { return t || checkOffset(e, 2, this.length), this[e] | this[e + 1] << 8 }, Buffer$1.prototype.readUInt16BE = function (e, t) { return t || checkOffset(e, 2, this.length), this[e] << 8 | this[e + 1] }, Buffer$1.prototype.readUInt32LE = function (e, t) { return t || checkOffset(e, 4, this.length), (this[e] | this[e + 1] << 8 | this[e + 2] << 16) + 16777216 * this[e + 3] }, Buffer$1.prototype.readUInt32BE = function (e, t) { return t || checkOffset(e, 4, this.length), 16777216 * this[e] + (this[e + 1] << 16 | this[e + 2] << 8 | this[e + 3]) }, Buffer$1.prototype.readIntLE = function (e, t, n) { e |= 0, t |= 0, n || checkOffset(e, t, this.length); for (var a = this[e], r = 1, s = 0; ++s < t && (r *= 256);)a += this[e + s] * r; return a >= (r *= 128) && (a -= Math.pow(2, 8 * t)), a }, Buffer$1.prototype.readIntBE = function (e, t, n) { e |= 0, t |= 0, n || checkOffset(e, t, this.length); for (var a = t, r = 1, s = this[e + --a]; a > 0 && (r *= 256);)s += this[e + --a] * r; return s >= (r *= 128) && (s -= Math.pow(2, 8 * t)), s }, Buffer$1.prototype.readInt8 = function (e, t) { return t || checkOffset(e, 1, this.length), 128 & this[e] ? -1 * (255 - this[e] + 1) : this[e] }, Buffer$1.prototype.readInt16LE = function (e, t) { t || checkOffset(e, 2, this.length); var n = this[e] | this[e + 1] << 8; return 32768 & n ? 4294901760 | n : n }, Buffer$1.prototype.readInt16BE = function (e, t) { t || checkOffset(e, 2, this.length); var n = this[e + 1] | this[e] << 8; return 32768 & n ? 4294901760 | n : n }, Buffer$1.prototype.readInt32LE = function (e, t) { return t || checkOffset(e, 4, this.length), this[e] | this[e + 1] << 8 | this[e + 2] << 16 | this[e + 3] << 24 }, Buffer$1.prototype.readInt32BE = function (e, t) { return t || checkOffset(e, 4, this.length), this[e] << 24 | this[e + 1] << 16 | this[e + 2] << 8 | this[e + 3] }, Buffer$1.prototype.readFloatLE = function (e, t) { return t || checkOffset(e, 4, this.length), read(this, e, !0, 23, 4) }, Buffer$1.prototype.readFloatBE = function (e, t) { return t || checkOffset(e, 4, this.length), read(this, e, !1, 23, 4) }, Buffer$1.prototype.readDoubleLE = function (e, t) { return t || checkOffset(e, 8, this.length), read(this, e, !0, 52, 8) }, Buffer$1.prototype.readDoubleBE = function (e, t) { return t || checkOffset(e, 8, this.length), read(this, e, !1, 52, 8) }, Buffer$1.prototype.writeUIntLE = function (e, t, n, a) { e = +e, t |= 0, n |= 0, a || checkInt(this, e, t, n, Math.pow(2, 8 * n) - 1, 0); var r = 1, s = 0; for (this[t] = 255 & e; ++s < n && (r *= 256);)this[t + s] = e / r & 255; return t + n }, Buffer$1.prototype.writeUIntBE = function (e, t, n, a) { e = +e, t |= 0, n |= 0, a || checkInt(this, e, t, n, Math.pow(2, 8 * n) - 1, 0); var r = n - 1, s = 1; for (this[t + r] = 255 & e; --r >= 0 && (s *= 256);)this[t + r] = e / s & 255; return t + n }, Buffer$1.prototype.writeUInt8 = function (e, t, n) { return e = +e, t |= 0, n || checkInt(this, e, t, 1, 255, 0), Buffer$1.TYPED_ARRAY_SUPPORT || (e = Math.floor(e)), this[t] = 255 & e, t + 1 }, Buffer$1.prototype.writeUInt16LE = function (e, t, n) { return e = +e, t |= 0, n || checkInt(this, e, t, 2, 65535, 0), Buffer$1.TYPED_ARRAY_SUPPORT ? (this[t] = 255 & e, this[t + 1] = e >>> 8) : objectWriteUInt16(this, e, t, !0), t + 2 }, Buffer$1.prototype.writeUInt16BE = function (e, t, n) { return e = +e, t |= 0, n || checkInt(this, e, t, 2, 65535, 0), Buffer$1.TYPED_ARRAY_SUPPORT ? (this[t] = e >>> 8, this[t + 1] = 255 & e) : objectWriteUInt16(this, e, t, !1), t + 2 }, Buffer$1.prototype.writeUInt32LE = function (e, t, n) { return e = +e, t |= 0, n || checkInt(this, e, t, 4, 4294967295, 0), Buffer$1.TYPED_ARRAY_SUPPORT ? (this[t + 3] = e >>> 24, this[t + 2] = e >>> 16, this[t + 1] = e >>> 8, this[t] = 255 & e) : objectWriteUInt32(this, e, t, !0), t + 4 }, Buffer$1.prototype.writeUInt32BE = function (e, t, n) { return e = +e, t |= 0, n || checkInt(this, e, t, 4, 4294967295, 0), Buffer$1.TYPED_ARRAY_SUPPORT ? (this[t] = e >>> 24, this[t + 1] = e >>> 16, this[t + 2] = e >>> 8, this[t + 3] = 255 & e) : objectWriteUInt32(this, e, t, !1), t + 4 }, Buffer$1.prototype.writeIntLE = function (e, t, n, a) { if (e = +e, t |= 0, !a) { var r = Math.pow(2, 8 * n - 1); checkInt(this, e, t, n, r - 1, -r) } var s = 0, i = 1, o = 0; for (this[t] = 255 & e; ++s < n && (i *= 256);)e < 0 && 0 === o && 0 !== this[t + s - 1] && (o = 1), this[t + s] = (e / i | 0) - o & 255; return t + n }, Buffer$1.prototype.writeIntBE = function (e, t, n, a) { if (e = +e, t |= 0, !a) { var r = Math.pow(2, 8 * n - 1); checkInt(this, e, t, n, r - 1, -r) } var s = n - 1, i = 1, o = 0; for (this[t + s] = 255 & e; --s >= 0 && (i *= 256);)e < 0 && 0 === o && 0 !== this[t + s + 1] && (o = 1), this[t + s] = (e / i | 0) - o & 255; return t + n }, Buffer$1.prototype.writeInt8 = function (e, t, n) { return e = +e, t |= 0, n || checkInt(this, e, t, 1, 127, -128), Buffer$1.TYPED_ARRAY_SUPPORT || (e = Math.floor(e)), e < 0 && (e = 255 + e + 1), this[t] = 255 & e, t + 1 }, Buffer$1.prototype.writeInt16LE = function (e, t, n) { return e = +e, t |= 0, n || checkInt(this, e, t, 2, 32767, -32768), Buffer$1.TYPED_ARRAY_SUPPORT ? (this[t] = 255 & e, this[t + 1] = e >>> 8) : objectWriteUInt16(this, e, t, !0), t + 2 }, Buffer$1.prototype.writeInt16BE = function (e, t, n) { return e = +e, t |= 0, n || checkInt(this, e, t, 2, 32767, -32768), Buffer$1.TYPED_ARRAY_SUPPORT ? (this[t] = e >>> 8, this[t + 1] = 255 & e) : objectWriteUInt16(this, e, t, !1), t + 2 }, Buffer$1.prototype.writeInt32LE = function (e, t, n) { return e = +e, t |= 0, n || checkInt(this, e, t, 4, 2147483647, -2147483648), Buffer$1.TYPED_ARRAY_SUPPORT ? (this[t] = 255 & e, this[t + 1] = e >>> 8, this[t + 2] = e >>> 16, this[t + 3] = e >>> 24) : objectWriteUInt32(this, e, t, !0), t + 4 }, Buffer$1.prototype.writeInt32BE = function (e, t, n) { return e = +e, t |= 0, n || checkInt(this, e, t, 4, 2147483647, -2147483648), e < 0 && (e = 4294967295 + e + 1), Buffer$1.TYPED_ARRAY_SUPPORT ? (this[t] = e >>> 24, this[t + 1] = e >>> 16, this[t + 2] = e >>> 8, this[t + 3] = 255 & e) : objectWriteUInt32(this, e, t, !1), t + 4 }, Buffer$1.prototype.writeFloatLE = function (e, t, n) { return writeFloat(this, e, t, !0, n) }, Buffer$1.prototype.writeFloatBE = function (e, t, n) { return writeFloat(this, e, t, !1, n) }, Buffer$1.prototype.writeDoubleLE = function (e, t, n) { return writeDouble(this, e, t, !0, n) }, Buffer$1.prototype.writeDoubleBE = function (e, t, n) { return writeDouble(this, e, t, !1, n) }, Buffer$1.prototype.copy = function (e, t, n, a) { if (n || (n = 0), a || 0 === a || (a = this.length), t >= e.length && (t = e.length), t || (t = 0), a > 0 && a < n && (a = n), a === n) return 0; if (0 === e.length || 0 === this.length) return 0; if (t < 0) throw new RangeError("targetStart out of bounds"); if (n < 0 || n >= this.length) throw new RangeError("sourceStart out of bounds"); if (a < 0) throw new RangeError("sourceEnd out of bounds"); a > this.length && (a = this.length), e.length - t < a - n && (a = e.length - t + n); var r, s = a - n; if (this === e && n < t && t < a) for (r = s - 1; r >= 0; --r)e[r + t] = this[r + n]; else if (s < 1e3 || !Buffer$1.TYPED_ARRAY_SUPPORT) for (r = 0; r < s; ++r)e[r + t] = this[r + n]; else Uint8Array.prototype.set.call(e, this.subarray(n, n + s), t); return s }, Buffer$1.prototype.fill = function (e, t, n, a) { if ("string" == typeof e) { if ("string" == typeof t ? (a = t, t = 0, n = this.length) : "string" == typeof n && (a = n, n = this.length), 1 === e.length) { var r = e.charCodeAt(0); r < 256 && (e = r) } if (void 0 !== a && "string" != typeof a) throw new TypeError("encoding must be a string"); if ("string" == typeof a && !Buffer$1.isEncoding(a)) throw new TypeError("Unknown encoding: " + a) } else "number" == typeof e && (e &= 255); if (t < 0 || this.length < t || this.length < n) throw new RangeError("Out of range index"); if (n <= t) return this; var s; if (t >>>= 0, n = void 0 === n ? this.length : n >>> 0, e || (e = 0), "number" == typeof e) for (s = t; s < n; ++s)this[s] = e; else { var i = internalIsBuffer(e) ? e : utf8ToBytes(new Buffer$1(e, a).toString()), o = i.length; for (s = 0; s < n - t; ++s)this[s + t] = i[s % o] } return this }; var INVALID_BASE64_RE = /[^+\/0-9A-Za-z-_]/g; function base64clean(e) { if ((e = stringtrim(e).replace(INVALID_BASE64_RE, "")).length < 2) return ""; for (; e.length % 4 != 0;)e += "="; return e } function stringtrim(e) { return e.trim ? e.trim() : e.replace(/^\s+|\s+$/g, "") } function toHex(e) { return e < 16 ? "0" + e.toString(16) : e.toString(16) } function utf8ToBytes(e, t) { var n; t = t || 1 / 0; for (var a = e.length, r = null, s = [], i = 0; i < a; ++i) { if ((n = e.charCodeAt(i)) > 55295 && n < 57344) { if (!r) { if (n > 56319) { (t -= 3) > -1 && s.push(239, 191, 189); continue } if (i + 1 === a) { (t -= 3) > -1 && s.push(239, 191, 189); continue } r = n; continue } if (n < 56320) { (t -= 3) > -1 && s.push(239, 191, 189), r = n; continue } n = 65536 + (r - 55296 << 10 | n - 56320) } else r && (t -= 3) > -1 && s.push(239, 191, 189); if (r = null, n < 128) { if ((t -= 1) < 0) break; s.push(n) } else if (n < 2048) { if ((t -= 2) < 0) break; s.push(n >> 6 | 192, 63 & n | 128) } else if (n < 65536) { if ((t -= 3) < 0) break; s.push(n >> 12 | 224, n >> 6 & 63 | 128, 63 & n | 128) } else { if (!(n < 1114112)) throw new Error("Invalid code point"); if ((t -= 4) < 0) break; s.push(n >> 18 | 240, n >> 12 & 63 | 128, n >> 6 & 63 | 128, 63 & n | 128) } } return s } function asciiToBytes(e) { for (var t = [], n = 0; n < e.length; ++n)t.push(255 & e.charCodeAt(n)); return t } function utf16leToBytes(e, t) { for (var n, a, r, s = [], i = 0; i < e.length && !((t -= 2) < 0); ++i)a = (n = e.charCodeAt(i)) >> 8, r = n % 256, s.push(r), s.push(a); return s } function base64ToBytes(e) { return toByteArray(base64clean(e)) } function blitBuffer(e, t, n, a) { for (var r = 0; r < a && !(r + n >= t.length || r >= e.length); ++r)t[r + n] = e[r]; return r } function isnan(e) { return e != e } function isBuffer(e) { return null != e && (!!e._isBuffer || isFastBuffer(e) || isSlowBuffer(e)) } function isFastBuffer(e) { return !!e.constructor && "function" == typeof e.constructor.isBuffer && e.constructor.isBuffer(e) } function isSlowBuffer(e) { return "function" == typeof e.readFloatLE && "function" == typeof e.slice && isFastBuffer(e.slice(0, 0)) } function defaultSetTimout() { throw new Error("setTimeout has not been defined") } function defaultClearTimeout() { throw new Error("clearTimeout has not been defined") } var cachedSetTimeout = defaultSetTimout, cachedClearTimeout = defaultClearTimeout; function runTimeout(t) { if (cachedSetTimeout === setTimeout) return setTimeout(t, 0); if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) return cachedSetTimeout = setTimeout, setTimeout(t, 0); try { return cachedSetTimeout(t, 0) } catch (e) { try { return cachedSetTimeout.call(null, t, 0) } catch (e) { return cachedSetTimeout.call(this, t, 0) } } } function runClearTimeout(t) { if (cachedClearTimeout === clearTimeout) return clearTimeout(t); if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) return cachedClearTimeout = clearTimeout, clearTimeout(t); try { return cachedClearTimeout(t) } catch (e) { try { return cachedClearTimeout.call(null, t) } catch (e) { return cachedClearTimeout.call(this, t) } } } "function" == typeof global$1.setTimeout && (cachedSetTimeout = setTimeout), "function" == typeof global$1.clearTimeout && (cachedClearTimeout = clearTimeout); var queue = [], draining = !1, currentQueue, queueIndex = -1; function cleanUpNextTick() { draining && currentQueue && (draining = !1, currentQueue.length ? queue = currentQueue.concat(queue) : queueIndex = -1, queue.length && drainQueue()) } function drainQueue() { if (!draining) { var e = runTimeout(cleanUpNextTick); draining = !0; for (var t = queue.length; t;) { for (currentQueue = queue, queue = []; ++queueIndex < t;)currentQueue && currentQueue[queueIndex].run(); queueIndex = -1, t = queue.length } currentQueue = null, draining = !1, runClearTimeout(e) } } function nextTick(e) { var t = new Array(arguments.length - 1); if (arguments.length > 1) for (var n = 1; n < arguments.length; n++)t[n - 1] = arguments[n]; queue.push(new Item(e, t)), 1 !== queue.length || draining || runTimeout(drainQueue) } function Item(e, t) { this.fun = e, this.array = t } Item.prototype.run = function () { this.fun.apply(null, this.array) }; var title = "browser", platform = "browser", browser$2 = !0, env = {}, argv = [], version = "", versions = {}, release = {}, config = {}; function noop() { } var on = noop, addListener = noop, once = noop, off = noop, removeListener = noop, removeAllListeners = noop, emit = noop; function binding(e) { throw new Error("process.binding is not supported") } function cwd() { return "/" } function chdir(e) { throw new Error("process.chdir is not supported") } function umask() { return 0 } var performance$1 = global$1.performance || {}, performanceNow = performance$1.now || performance$1.mozNow || performance$1.msNow || performance$1.oNow || performance$1.webkitNow || function () { return (new Date).getTime() }; function hrtime(e) { var t = .001 * performanceNow.call(performance$1), n = Math.floor(t), a = Math.floor(t % 1 * 1e9); return e && (n -= e[0], (a -= e[1]) < 0 && (n--, a += 1e9)), [n, a] } var startTime = new Date; function uptime() { return (new Date - startTime) / 1e3 } var browser$1$1 = { nextTick: nextTick, title: title, browser: browser$2, env: env, argv: argv, version: version, versions: versions, on: on, addListener: addListener, once: once, off: off, removeListener: removeListener, removeAllListeners: removeAllListeners, emit: emit, binding: binding, cwd: cwd, chdir: chdir, umask: umask, hrtime: hrtime, platform: platform, release: release, config: config, uptime: uptime }, inherits; inherits = "function" == typeof Object.create ? function (e, t) { e.super_ = t, e.prototype = Object.create(t.prototype, { constructor: { value: e, enumerable: !1, writable: !0, configurable: !0 } }) } : function (e, t) { e.super_ = t; var n = function () { }; n.prototype = t.prototype, e.prototype = new n, e.prototype.constructor = e }; var formatRegExp = /%[sdj%]/g; function format(e) { if (!isString(e)) { for (var t = [], n = 0; n < arguments.length; n++)t.push(inspect(arguments[n])); return t.join(" ") } n = 1; for (var a = arguments, r = a.length, s = String(e).replace(formatRegExp, function (e) { if ("%%" === e) return "%"; if (n >= r) return e; switch (e) { case "%s": return String(a[n++]); case "%d": return Number(a[n++]); case "%j": try { return JSON.stringify(a[n++]) } catch (_) { return "[Circular]" } default: return e } }), i = a[n]; n < r; i = a[++n])isNull(i) || !isObject(i) ? s += " " + i : s += " " + inspect(i); return s } function deprecate(e, t) { if (isUndefined(global$1.process)) return function () { return deprecate(e, t).apply(this, arguments) }; if (!0 === browser$1$1.noDeprecation) return e; var n = !1; return function () { if (!n) { if (browser$1$1.throwDeprecation) throw new Error(t); browser$1$1.traceDeprecation, n = !0 } return e.apply(this, arguments) } } var debugs = {}, debugEnviron; function debuglog(e) { return isUndefined(debugEnviron) && (debugEnviron = browser$1$1.env.NODE_DEBUG || ""), e = e.toUpperCase(), debugs[e] || (new RegExp("\\b" + e + "\\b", "i").test(debugEnviron) ? debugs[e] = function () { format.apply(null, arguments) } : debugs[e] = function () { }), debugs[e] } function inspect(e, t) { var n = { seen: [], stylize: stylizeNoColor }; return arguments.length >= 3 && (n.depth = arguments[2]), arguments.length >= 4 && (n.colors = arguments[3]), isBoolean(t) ? n.showHidden = t : t && _extend(n, t), isUndefined(n.showHidden) && (n.showHidden = !1), isUndefined(n.depth) && (n.depth = 2), isUndefined(n.colors) && (n.colors = !1), isUndefined(n.customInspect) && (n.customInspect = !0), n.colors && (n.stylize = stylizeWithColor), formatValue(n, e, n.depth) } function stylizeWithColor(e, t) { var n = inspect.styles[t]; return n ? "[" + inspect.colors[n][0] + "m" + e + "[" + inspect.colors[n][1] + "m" : e } function stylizeNoColor(e, t) { return e } function arrayToHash(e) { var t = {}; return e.forEach(function (e, n) { t[e] = !0 }), t } function formatValue(e, t, n) { if (e.customInspect && t && isFunction(t.inspect) && t.inspect !== inspect && (!t.constructor || t.constructor.prototype !== t)) { var a = t.inspect(n, e); return isString(a) || (a = formatValue(e, a, n)), a } var r = formatPrimitive(e, t); if (r) return r; var s = Object.keys(t), i = arrayToHash(s); if (e.showHidden && (s = Object.getOwnPropertyNames(t)), isError(t) && (s.indexOf("message") >= 0 || s.indexOf("description") >= 0)) return formatError(t); if (0 === s.length) { if (isFunction(t)) { var o = t.name ? ": " + t.name : ""; return e.stylize("[Function" + o + "]", "special") } if (isRegExp(t)) return e.stylize(RegExp.prototype.toString.call(t), "regexp"); if (isDate(t)) return e.stylize(Date.prototype.toString.call(t), "date"); if (isError(t)) return formatError(t) } var l, m = "", c = !1, u = ["{", "}"]; return isArray(t) && (c = !0, u = ["[", "]"]), isFunction(t) && (m = " [Function" + (t.name ? ": " + t.name : "") + "]"), isRegExp(t) && (m = " " + RegExp.prototype.toString.call(t)), isDate(t) && (m = " " + Date.prototype.toUTCString.call(t)), isError(t) && (m = " " + formatError(t)), 0 !== s.length || c && 0 != t.length ? n < 0 ? isRegExp(t) ? e.stylize(RegExp.prototype.toString.call(t), "regexp") : e.stylize("[Object]", "special") : (e.seen.push(t), l = c ? formatArray(e, t, n, i, s) : s.map(function (a) { return formatProperty(e, t, n, i, a, c) }), e.seen.pop(), reduceToSingleString(l, m, u)) : u[0] + m + u[1] } function formatPrimitive(e, t) { if (isUndefined(t)) return e.stylize("undefined", "undefined"); if (isString(t)) { var n = "'" + JSON.stringify(t).replace(/^"|"$/g, "").replace(/'/g, "\\'").replace(/\\"/g, '"') + "'"; return e.stylize(n, "string") } return isNumber(t) ? e.stylize("" + t, "number") : isBoolean(t) ? e.stylize("" + t, "boolean") : isNull(t) ? e.stylize("null", "null") : void 0 } function formatError(e) { return "[" + Error.prototype.toString.call(e) + "]" } function formatArray(e, t, n, a, r) { for (var s = [], i = 0, o = t.length; i < o; ++i)hasOwnProperty(t, String(i)) ? s.push(formatProperty(e, t, n, a, String(i), !0)) : s.push(""); return r.forEach(function (r) { r.match(/^\d+$/) || s.push(formatProperty(e, t, n, a, r, !0)) }), s } function formatProperty(e, t, n, a, r, s) { var i, o, l; if ((l = Object.getOwnPropertyDescriptor(t, r) || { value: t[r] }).get ? o = l.set ? e.stylize("[Getter/Setter]", "special") : e.stylize("[Getter]", "special") : l.set && (o = e.stylize("[Setter]", "special")), hasOwnProperty(a, r) || (i = "[" + r + "]"), o || (e.seen.indexOf(l.value) < 0 ? (o = isNull(n) ? formatValue(e, l.value, null) : formatValue(e, l.value, n - 1)).indexOf("\n") > -1 && (o = s ? o.split("\n").map(function (e) { return "  " + e }).join("\n").substr(2) : "\n" + o.split("\n").map(function (e) { return "   " + e }).join("\n")) : o = e.stylize("[Circular]", "special")), isUndefined(i)) { if (s && r.match(/^\d+$/)) return o; (i = JSON.stringify("" + r)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/) ? (i = i.substr(1, i.length - 2), i = e.stylize(i, "name")) : (i = i.replace(/'/g, "\\'").replace(/\\"/g, '"').replace(/(^"|"$)/g, "'"), i = e.stylize(i, "string")) } return i + ": " + o } function reduceToSingleString(e, t, n) { return e.reduce(function (e, t) { return t.indexOf("\n"), e + t.replace(/\u001b\[\d\d?m/g, "").length + 1 }, 0) > 60 ? n[0] + ("" === t ? "" : t + "\n ") + " " + e.join(",\n  ") + " " + n[1] : n[0] + t + " " + e.join(", ") + " " + n[1] } function isArray(e) { return Array.isArray(e) } function isBoolean(e) { return "boolean" == typeof e } function isNull(e) { return null === e } function isNumber(e) { return "number" == typeof e } function isString(e) { return "string" == typeof e } function isUndefined(e) { return void 0 === e } function isRegExp(e) { return isObject(e) && "[object RegExp]" === objectToString(e) } function isObject(e) { return "object" == typeof e && null !== e } function isDate(e) { return isObject(e) && "[object Date]" === objectToString(e) } function isError(e) { return isObject(e) && ("[object Error]" === objectToString(e) || e instanceof Error) } function isFunction(e) { return "function" == typeof e } function objectToString(e) { return Object.prototype.toString.call(e) } function _extend(e, t) { if (!t || !isObject(t)) return e; for (var n = Object.keys(t), a = n.length; a--;)e[n[a]] = t[n[a]]; return e } function hasOwnProperty(e, t) { return Object.prototype.hasOwnProperty.call(e, t) } function BufferList() { this.head = null, this.tail = null, this.length = 0 } inspect.colors = { bold: [1, 22], italic: [3, 23], underline: [4, 24], inverse: [7, 27], white: [37, 39], grey: [90, 39], black: [30, 39], blue: [34, 39], cyan: [36, 39], green: [32, 39], magenta: [35, 39], red: [31, 39], yellow: [33, 39] }, inspect.styles = { special: "cyan", number: "yellow", boolean: "yellow", undefined: "grey", null: "bold", string: "green", date: "magenta", regexp: "red" }, BufferList.prototype.push = function (e) { var t = { data: e, next: null }; this.length > 0 ? this.tail.next = t : this.head = t, this.tail = t, ++this.length }, BufferList.prototype.unshift = function (e) { var t = { data: e, next: this.head }; 0 === this.length && (this.tail = t), this.head = t, ++this.length }, BufferList.prototype.shift = function () { if (0 !== this.length) { var e = this.head.data; return 1 === this.length ? this.head = this.tail = null : this.head = this.head.next, --this.length, e } }, BufferList.prototype.clear = function () { this.head = this.tail = null, this.length = 0 }, BufferList.prototype.join = function (e) { if (0 === this.length) return ""; for (var t = this.head, n = "" + t.data; t = t.next;)n += e + t.data; return n }, BufferList.prototype.concat = function (e) { if (0 === this.length) return Buffer$1.alloc(0); if (1 === this.length) return this.head.data; for (var t = Buffer$1.allocUnsafe(e >>> 0), n = this.head, a = 0; n;)n.data.copy(t, a), a += n.data.length, n = n.next; return t }; var isBufferEncoding = Buffer$1.isEncoding || function (e) { switch (e && e.toLowerCase()) { case "hex": case "utf8": case "utf-8": case "ascii": case "binary": case "base64": case "ucs2": case "ucs-2": case "utf16le": case "utf-16le": case "raw": return !0; default: return !1 } }; function assertEncoding(e) { if (e && !isBufferEncoding(e)) throw new Error("Unknown encoding: " + e) } function StringDecoder(e) { switch (this.encoding = (e || "utf8").toLowerCase().replace(/[-_]/, ""), assertEncoding(e), this.encoding) { case "utf8": this.surrogateSize = 3; break; case "ucs2": case "utf16le": this.surrogateSize = 2, this.detectIncompleteChar = utf16DetectIncompleteChar; break; case "base64": this.surrogateSize = 3, this.detectIncompleteChar = base64DetectIncompleteChar; break; default: return void (this.write = passThroughWrite) }this.charBuffer = new Buffer$1(6), this.charReceived = 0, this.charLength = 0 } function passThroughWrite(e) { return e.toString(this.encoding) } function utf16DetectIncompleteChar(e) { this.charReceived = e.length % 2, this.charLength = this.charReceived ? 2 : 0 } function base64DetectIncompleteChar(e) { this.charReceived = e.length % 3, this.charLength = this.charReceived ? 3 : 0 } StringDecoder.prototype.write = function (e) { for (var t = ""; this.charLength;) { var n = e.length >= this.charLength - this.charReceived ? this.charLength - this.charReceived : e.length; if (e.copy(this.charBuffer, this.charReceived, 0, n), this.charReceived += n, this.charReceived < this.charLength) return ""; if (e = e.slice(n, e.length), !((a = (t = this.charBuffer.slice(0, this.charLength).toString(this.encoding)).charCodeAt(t.length - 1)) >= 55296 && a <= 56319)) { if (this.charReceived = this.charLength = 0, 0 === e.length) return t; break } this.charLength += this.surrogateSize, t = "" } this.detectIncompleteChar(e); var a, r = e.length; if (this.charLength && (e.copy(this.charBuffer, 0, e.length - this.charReceived, r), r -= this.charReceived), r = (t += e.toString(this.encoding, 0, r)).length - 1, (a = t.charCodeAt(r)) >= 55296 && a <= 56319) { var s = this.surrogateSize; return this.charLength += s, this.charReceived += s, this.charBuffer.copy(this.charBuffer, s, 0, s), e.copy(this.charBuffer, 0, 0, s), t.substring(0, r) } return t }, StringDecoder.prototype.detectIncompleteChar = function (e) { for (var t = e.length >= 3 ? 3 : e.length; t > 0; t--) { var n = e[e.length - t]; if (1 == t && n >> 5 == 6) { this.charLength = 2; break } if (t <= 2 && n >> 4 == 14) { this.charLength = 3; break } if (t <= 3 && n >> 3 == 30) { this.charLength = 4; break } } this.charReceived = t }, StringDecoder.prototype.end = function (e) { var t = ""; if (e && e.length && (t = this.write(e)), this.charReceived) { var n = this.charReceived, a = this.charBuffer, r = this.encoding; t += a.slice(0, n).toString(r) } return t }, Readable.ReadableState = ReadableState; var debug$n = debuglog("stream"); function prependListener(e, t, n) { if ("function" == typeof e.prependListener) return e.prependListener(t, n); e._events && e._events[t] ? Array.isArray(e._events[t]) ? e._events[t].unshift(n) : e._events[t] = [n, e._events[t]] : e.on(t, n) } function listenerCount(e, t) { return e.listeners(t).length } function ReadableState(e, t) { e = e || {}, this.objectMode = !!e.objectMode, t instanceof Duplex && (this.objectMode = this.objectMode || !!e.readableObjectMode); var n = e.highWaterMark, a = this.objectMode ? 16 : 16384; this.highWaterMark = n || 0 === n ? n : a, this.highWaterMark = ~~this.highWaterMark, this.buffer = new BufferList, this.length = 0, this.pipes = null, this.pipesCount = 0, this.flowing = null, this.ended = !1, this.endEmitted = !1, this.reading = !1, this.sync = !0, this.needReadable = !1, this.emittedReadable = !1, this.readableListening = !1, this.resumeScheduled = !1, this.defaultEncoding = e.defaultEncoding || "utf8", this.ranOut = !1, this.awaitDrain = 0, this.readingMore = !1, this.decoder = null, this.encoding = null, e.encoding && (this.decoder = new StringDecoder(e.encoding), this.encoding = e.encoding) } function Readable(e) { if (!(this instanceof Readable)) return new Readable(e); this._readableState = new ReadableState(e, this), this.readable = !0, e && "function" == typeof e.read && (this._read = e.read), EventEmitter$1.call(this) } function readableAddChunk(e, t, n, a, r) { var s = chunkInvalid(t, n); if (s) e.emit("error", s); else if (null === n) t.reading = !1, onEofChunk(e, t); else if (t.objectMode || n && n.length > 0) if (t.ended && !r) { var i = new Error("stream.push() after EOF"); e.emit("error", i) } else if (t.endEmitted && r) { var o = new Error("stream.unshift() after end event"); e.emit("error", o) } else { var l; !t.decoder || r || a || (n = t.decoder.write(n), l = !t.objectMode && 0 === n.length), r || (t.reading = !1), l || (t.flowing && 0 === t.length && !t.sync ? (e.emit("data", n), e.read(0)) : (t.length += t.objectMode ? 1 : n.length, r ? t.buffer.unshift(n) : t.buffer.push(n), t.needReadable && emitReadable(e))), maybeReadMore(e, t) } else r || (t.reading = !1); return needMoreData(t) } function needMoreData(e) { return !e.ended && (e.needReadable || e.length < e.highWaterMark || 0 === e.length) } inherits(Readable, EventEmitter$1), Readable.prototype.push = function (e, t) { var n = this._readableState; return n.objectMode || "string" != typeof e || (t = t || n.defaultEncoding) !== n.encoding && (e = Buffer$1.from(e, t), t = ""), readableAddChunk(this, n, e, t, !1) }, Readable.prototype.unshift = function (e) { return readableAddChunk(this, this._readableState, e, "", !0) }, Readable.prototype.isPaused = function () { return !1 === this._readableState.flowing }, Readable.prototype.setEncoding = function (e) { return this._readableState.decoder = new StringDecoder(e), this._readableState.encoding = e, this }; var MAX_HWM = 8388608; function computeNewHighWaterMark(e) { return e >= MAX_HWM ? e = MAX_HWM : (e--, e |= e >>> 1, e |= e >>> 2, e |= e >>> 4, e |= e >>> 8, e |= e >>> 16, e++), e } function howMuchToRead(e, t) { return e <= 0 || 0 === t.length && t.ended ? 0 : t.objectMode ? 1 : e != e ? t.flowing && t.length ? t.buffer.head.data.length : t.length : (e > t.highWaterMark && (t.highWaterMark = computeNewHighWaterMark(e)), e <= t.length ? e : t.ended ? t.length : (t.needReadable = !0, 0)) } function chunkInvalid(e, t) { var n = null; return Buffer$1.isBuffer(t) || "string" == typeof t || null == t || e.objectMode || (n = new TypeError("Invalid non-string/buffer chunk")), n } function onEofChunk(e, t) { if (!t.ended) { if (t.decoder) { var n = t.decoder.end(); n && n.length && (t.buffer.push(n), t.length += t.objectMode ? 1 : n.length) } t.ended = !0, emitReadable(e) } } function emitReadable(e) { var t = e._readableState; t.needReadable = !1, t.emittedReadable || (debug$n("emitReadable", t.flowing), t.emittedReadable = !0, t.sync ? nextTick(emitReadable_, e) : emitReadable_(e)) } function emitReadable_(e) { debug$n("emit readable"), e.emit("readable"), flow(e) } function maybeReadMore(e, t) { t.readingMore || (t.readingMore = !0, nextTick(maybeReadMore_, e, t)) } function maybeReadMore_(e, t) { for (var n = t.length; !t.reading && !t.flowing && !t.ended && t.length < t.highWaterMark && (debug$n("maybeReadMore read 0"), e.read(0), n !== t.length);)n = t.length; t.readingMore = !1 } function pipeOnDrain(e) { return function () { var t = e._readableState; debug$n("pipeOnDrain", t.awaitDrain), t.awaitDrain && t.awaitDrain--, 0 === t.awaitDrain && e.listeners("data").length && (t.flowing = !0, flow(e)) } } function nReadingNextTick(e) { debug$n("readable nexttick read 0"), e.read(0) } function resume(e, t) { t.resumeScheduled || (t.resumeScheduled = !0, nextTick(resume_, e, t)) } function resume_(e, t) { t.reading || (debug$n("resume read 0"), e.read(0)), t.resumeScheduled = !1, t.awaitDrain = 0, e.emit("resume"), flow(e), t.flowing && !t.reading && e.read(0) } function flow(e) { var t = e._readableState; for (debug$n("flow", t.flowing); t.flowing && null !== e.read();); } function fromList(e, t) { return 0 === t.length ? null : (t.objectMode ? n = t.buffer.shift() : !e || e >= t.length ? (n = t.decoder ? t.buffer.join("") : 1 === t.buffer.length ? t.buffer.head.data : t.buffer.concat(t.length), t.buffer.clear()) : n = fromListPartial(e, t.buffer, t.decoder), n); var n } function fromListPartial(e, t, n) { var a; return e < t.head.data.length ? (a = t.head.data.slice(0, e), t.head.data = t.head.data.slice(e)) : a = e === t.head.data.length ? t.shift() : n ? copyFromBufferString(e, t) : copyFromBuffer(e, t), a } function copyFromBufferString(e, t) { var n = t.head, a = 1, r = n.data; for (e -= r.length; n = n.next;) { var s = n.data, i = e > s.length ? s.length : e; if (i === s.length ? r += s : r += s.slice(0, e), 0 === (e -= i)) { i === s.length ? (++a, n.next ? t.head = n.next : t.head = t.tail = null) : (t.head = n, n.data = s.slice(i)); break } ++a } return t.length -= a, r } function copyFromBuffer(e, t) { var n = Buffer$1.allocUnsafe(e), a = t.head, r = 1; for (a.data.copy(n), e -= a.data.length; a = a.next;) { var s = a.data, i = e > s.length ? s.length : e; if (s.copy(n, n.length - e, 0, i), 0 === (e -= i)) { i === s.length ? (++r, a.next ? t.head = a.next : t.head = t.tail = null) : (t.head = a, a.data = s.slice(i)); break } ++r } return t.length -= r, n } function endReadable(e) { var t = e._readableState; if (t.length > 0) throw new Error('"endReadable()" called on non-empty stream'); t.endEmitted || (t.ended = !0, nextTick(endReadableNT, t, e)) } function endReadableNT(e, t) { e.endEmitted || 0 !== e.length || (e.endEmitted = !0, t.readable = !1, t.emit("end")) } function forEach(e, t) { for (var n = 0, a = e.length; n < a; n++)t(e[n], n) } function indexOf(e, t) { for (var n = 0, a = e.length; n < a; n++)if (e[n] === t) return n; return -1 } function nop() { } function WriteReq(e, t, n) { this.chunk = e, this.encoding = t, this.callback = n, this.next = null } function WritableState(e, t) { Object.defineProperty(this, "buffer", { get: deprecate(function () { return this.getBuffer() }, "_writableState.buffer is deprecated. Use _writableState.getBuffer instead.") }), e = e || {}, this.objectMode = !!e.objectMode, t instanceof Duplex && (this.objectMode = this.objectMode || !!e.writableObjectMode); var n = e.highWaterMark, a = this.objectMode ? 16 : 16384; this.highWaterMark = n || 0 === n ? n : a, this.highWaterMark = ~~this.highWaterMark, this.needDrain = !1, this.ending = !1, this.ended = !1, this.finished = !1; var r = !1 === e.decodeStrings; this.decodeStrings = !r, this.defaultEncoding = e.defaultEncoding || "utf8", this.length = 0, this.writing = !1, this.corked = 0, this.sync = !0, this.bufferProcessing = !1, this.onwrite = function (e) { onwrite(t, e) }, this.writecb = null, this.writelen = 0, this.bufferedRequest = null, this.lastBufferedRequest = null, this.pendingcb = 0, this.prefinished = !1, this.errorEmitted = !1, this.bufferedRequestCount = 0, this.corkedRequestsFree = new CorkedRequest(this) } function Writable(e) { if (!(this instanceof Writable || this instanceof Duplex)) return new Writable(e); this._writableState = new WritableState(e, this), this.writable = !0, e && ("function" == typeof e.write && (this._write = e.write), "function" == typeof e.writev && (this._writev = e.writev)), EventEmitter$1.call(this) } function writeAfterEnd(e, t) { var n = new Error("write after end"); e.emit("error", n), nextTick(t, n) } function validChunk(e, t, n, a) { var r = !0, s = !1; return null === n ? s = new TypeError("May not write null values to stream") : Buffer$1.isBuffer(n) || "string" == typeof n || void 0 === n || t.objectMode || (s = new TypeError("Invalid non-string/buffer chunk")), s && (e.emit("error", s), nextTick(a, s), r = !1), r } function decodeChunk(e, t, n) { return e.objectMode || !1 === e.decodeStrings || "string" != typeof t || (t = Buffer$1.from(t, n)), t } function writeOrBuffer(e, t, n, a, r) { n = decodeChunk(t, n, a), Buffer$1.isBuffer(n) && (a = "buffer"); var s = t.objectMode ? 1 : n.length; t.length += s; var i = t.length < t.highWaterMark; if (i || (t.needDrain = !0), t.writing || t.corked) { var o = t.lastBufferedRequest; t.lastBufferedRequest = new WriteReq(n, a, r), o ? o.next = t.lastBufferedRequest : t.bufferedRequest = t.lastBufferedRequest, t.bufferedRequestCount += 1 } else doWrite(e, t, !1, s, n, a, r); return i } function doWrite(e, t, n, a, r, s, i) { t.writelen = a, t.writecb = i, t.writing = !0, t.sync = !0, n ? e._writev(r, t.onwrite) : e._write(r, s, t.onwrite), t.sync = !1 } function onwriteError(e, t, n, a, r) { --t.pendingcb, n ? nextTick(r, a) : r(a), e._writableState.errorEmitted = !0, e.emit("error", a) } function onwriteStateUpdate(e) { e.writing = !1, e.writecb = null, e.length -= e.writelen, e.writelen = 0 } function onwrite(e, t) { var n = e._writableState, a = n.sync, r = n.writecb; if (onwriteStateUpdate(n), t) onwriteError(e, n, a, t, r); else { var s = needFinish(n); s || n.corked || n.bufferProcessing || !n.bufferedRequest || clearBuffer(e, n), a ? nextTick(afterWrite, e, n, s, r) : afterWrite(e, n, s, r) } } function afterWrite(e, t, n, a) { n || onwriteDrain(e, t), t.pendingcb--, a(), finishMaybe(e, t) } function onwriteDrain(e, t) { 0 === t.length && t.needDrain && (t.needDrain = !1, e.emit("drain")) } function clearBuffer(e, t) { t.bufferProcessing = !0; var n = t.bufferedRequest; if (e._writev && n && n.next) { var a = t.bufferedRequestCount, r = new Array(a), s = t.corkedRequestsFree; s.entry = n; for (var i = 0; n;)r[i] = n, n = n.next, i += 1; doWrite(e, t, !0, t.length, r, "", s.finish), t.pendingcb++, t.lastBufferedRequest = null, s.next ? (t.corkedRequestsFree = s.next, s.next = null) : t.corkedRequestsFree = new CorkedRequest(t) } else { for (; n;) { var o = n.chunk, l = n.encoding, m = n.callback; if (doWrite(e, t, !1, t.objectMode ? 1 : o.length, o, l, m), n = n.next, t.writing) break } null === n && (t.lastBufferedRequest = null) } t.bufferedRequestCount = 0, t.bufferedRequest = n, t.bufferProcessing = !1 } function needFinish(e) { return e.ending && 0 === e.length && null === e.bufferedRequest && !e.finished && !e.writing } function prefinish(e, t) { t.prefinished || (t.prefinished = !0, e.emit("prefinish")) } function finishMaybe(e, t) { var n = needFinish(t); return n && (0 === t.pendingcb ? (prefinish(e, t), t.finished = !0, e.emit("finish")) : prefinish(e, t)), n } function endWritable(e, t, n) { t.ending = !0, finishMaybe(e, t), n && (t.finished ? nextTick(n) : e.once("finish", n)), t.ended = !0, e.writable = !1 } function CorkedRequest(e) { var t = this; this.next = null, this.entry = null, this.finish = function (n) { var a = t.entry; for (t.entry = null; a;) { var r = a.callback; e.pendingcb--, r(n), a = a.next } e.corkedRequestsFree ? e.corkedRequestsFree.next = t : e.corkedRequestsFree = t } } Readable.prototype.read = function (e) { debug$n("read", e), e = parseInt(e, 10); var t = this._readableState, n = e; if (0 !== e && (t.emittedReadable = !1), 0 === e && t.needReadable && (t.length >= t.highWaterMark || t.ended)) return debug$n("read: emitReadable", t.length, t.ended), 0 === t.length && t.ended ? endReadable(this) : emitReadable(this), null; if (0 === (e = howMuchToRead(e, t)) && t.ended) return 0 === t.length && endReadable(this), null; var a, r = t.needReadable; return debug$n("need readable", r), (0 === t.length || t.length - e < t.highWaterMark) && debug$n("length less than watermark", r = !0), t.ended || t.reading ? debug$n("reading or ended", r = !1) : r && (debug$n("do read"), t.reading = !0, t.sync = !0, 0 === t.length && (t.needReadable = !0), this._read(t.highWaterMark), t.sync = !1, t.reading || (e = howMuchToRead(n, t))), null === (a = e > 0 ? fromList(e, t) : null) ? (t.needReadable = !0, e = 0) : t.length -= e, 0 === t.length && (t.ended || (t.needReadable = !0), n !== e && t.ended && endReadable(this)), null !== a && this.emit("data", a), a }, Readable.prototype._read = function (e) { this.emit("error", new Error("not implemented")) }, Readable.prototype.pipe = function (e, t) { var n = this, a = this._readableState; switch (a.pipesCount) { case 0: a.pipes = e; break; case 1: a.pipes = [a.pipes, e]; break; default: a.pipes.push(e) }a.pipesCount += 1, debug$n("pipe count=%d opts=%j", a.pipesCount, t); var r = t && !1 === t.end ? m : i; function s(e) { debug$n("onunpipe"), e === n && m() } function i() { debug$n("onend"), e.end() } a.endEmitted ? nextTick(r) : n.once("end", r), e.on("unpipe", s); var o = pipeOnDrain(n); e.on("drain", o); var l = !1; function m() { debug$n("cleanup"), e.removeListener("close", p), e.removeListener("finish", d), e.removeListener("drain", o), e.removeListener("error", A), e.removeListener("unpipe", s), n.removeListener("end", i), n.removeListener("end", m), n.removeListener("data", u), l = !0, !a.awaitDrain || e._writableState && !e._writableState.needDrain || o() } var c = !1; function u(t) { debug$n("ondata"), c = !1, !1 !== e.write(t) || c || ((1 === a.pipesCount && a.pipes === e || a.pipesCount > 1 && -1 !== indexOf(a.pipes, e)) && !l && (debug$n("false write response, pause", n._readableState.awaitDrain), n._readableState.awaitDrain++, c = !0), n.pause()) } function A(t) { debug$n("onerror", t), _(), e.removeListener("error", A), 0 === listenerCount(e, "error") && e.emit("error", t) } function p() { e.removeListener("finish", d), _() } function d() { debug$n("onfinish"), e.removeListener("close", p), _() } function _() { debug$n("unpipe"), n.unpipe(e) } return n.on("data", u), prependListener(e, "error", A), e.once("close", p), e.once("finish", d), e.emit("pipe", n), a.flowing || (debug$n("pipe resume"), n.resume()), e }, Readable.prototype.unpipe = function (e) { var t = this._readableState; if (0 === t.pipesCount) return this; if (1 === t.pipesCount) return e && e !== t.pipes || (e || (e = t.pipes), t.pipes = null, t.pipesCount = 0, t.flowing = !1, e && e.emit("unpipe", this)), this; if (!e) { var n = t.pipes, a = t.pipesCount; t.pipes = null, t.pipesCount = 0, t.flowing = !1; for (var r = 0; r < a; r++)n[r].emit("unpipe", this); return this } var s = indexOf(t.pipes, e); return -1 === s || (t.pipes.splice(s, 1), t.pipesCount -= 1, 1 === t.pipesCount && (t.pipes = t.pipes[0]), e.emit("unpipe", this)), this }, Readable.prototype.on = function (e, t) { var n = EventEmitter$1.prototype.on.call(this, e, t); if ("data" === e) !1 !== this._readableState.flowing && this.resume(); else if ("readable" === e) { var a = this._readableState; a.endEmitted || a.readableListening || (a.readableListening = a.needReadable = !0, a.emittedReadable = !1, a.reading ? a.length && emitReadable(this) : nextTick(nReadingNextTick, this)) } return n }, Readable.prototype.addListener = Readable.prototype.on, Readable.prototype.resume = function () { var e = this._readableState; return e.flowing || (debug$n("resume"), e.flowing = !0, resume(this, e)), this }, Readable.prototype.pause = function () { return debug$n("call pause flowing=%j", this._readableState.flowing), !1 !== this._readableState.flowing && (debug$n("pause"), this._readableState.flowing = !1, this.emit("pause")), this }, Readable.prototype.wrap = function (e) { var t = this._readableState, n = !1, a = this; for (var r in e.on("end", function () { if (debug$n("wrapped end"), t.decoder && !t.ended) { var e = t.decoder.end(); e && e.length && a.push(e) } a.push(null) }), e.on("data", function (r) { debug$n("wrapped data"), t.decoder && (r = t.decoder.write(r)), t.objectMode && null == r || (t.objectMode || r && r.length) && (a.push(r) || (n = !0, e.pause())) }), e) void 0 === this[r] && "function" == typeof e[r] && (this[r] = function (t) { return function () { return e[t].apply(e, arguments) } }(r)); return forEach(["error", "close", "destroy", "pause", "resume"], function (t) { e.on(t, a.emit.bind(a, t)) }), a._read = function (t) { debug$n("wrapped _read", t), n && (n = !1, e.resume()) }, a }, Readable._fromList = fromList, Writable.WritableState = WritableState, inherits(Writable, EventEmitter$1), WritableState.prototype.getBuffer = function () { for (var e = this.bufferedRequest, t = []; e;)t.push(e), e = e.next; return t }, Writable.prototype.pipe = function () { this.emit("error", new Error("Cannot pipe, not readable")) }, Writable.prototype.write = function (e, t, n) { var a = this._writableState, r = !1; return "function" == typeof t && (n = t, t = null), Buffer$1.isBuffer(e) ? t = "buffer" : t || (t = a.defaultEncoding), "function" != typeof n && (n = nop), a.ended ? writeAfterEnd(this, n) : validChunk(this, a, e, n) && (a.pendingcb++, r = writeOrBuffer(this, a, e, t, n)), r }, Writable.prototype.cork = function () { this._writableState.corked++ }, Writable.prototype.uncork = function () { var e = this._writableState; e.corked && (e.corked--, e.writing || e.corked || e.finished || e.bufferProcessing || !e.bufferedRequest || clearBuffer(this, e)) }, Writable.prototype.setDefaultEncoding = function (e) { if ("string" == typeof e && (e = e.toLowerCase()), !(["hex", "utf8", "utf-8", "ascii", "binary", "base64", "ucs2", "ucs-2", "utf16le", "utf-16le", "raw"].indexOf((e + "").toLowerCase()) > -1)) throw new TypeError("Unknown encoding: " + e); return this._writableState.defaultEncoding = e, this }, Writable.prototype._write = function (e, t, n) { n(new Error("not implemented")) }, Writable.prototype._writev = null, Writable.prototype.end = function (e, t, n) { var a = this._writableState; "function" == typeof e ? (n = e, e = null, t = null) : "function" == typeof t && (n = t, t = null), null != e && this.write(e, t), a.corked && (a.corked = 1, this.uncork()), a.ending || a.finished || endWritable(this, a, n) }, inherits(Duplex, Readable); for (var keys = Object.keys(Writable.prototype), v$1 = 0; v$1 < keys.length; v$1++) { var method = keys[v$1]; Duplex.prototype[method] || (Duplex.prototype[method] = Writable.prototype[method]) } function Duplex(e) { if (!(this instanceof Duplex)) return new Duplex(e); Readable.call(this, e), Writable.call(this, e), e && !1 === e.readable && (this.readable = !1), e && !1 === e.writable && (this.writable = !1), this.allowHalfOpen = !0, e && !1 === e.allowHalfOpen && (this.allowHalfOpen = !1), this.once("end", onend) } function onend() { this.allowHalfOpen || this._writableState.ended || nextTick(onEndNT, this) } function onEndNT(e) { e.end() } function TransformState(e) { this.afterTransform = function (t, n) { return afterTransform(e, t, n) }, this.needTransform = !1, this.transforming = !1, this.writecb = null, this.writechunk = null, this.writeencoding = null } function afterTransform(e, t, n) { var a = e._transformState; a.transforming = !1; var r = a.writecb; if (!r) return e.emit("error", new Error("no writecb in Transform class")); a.writechunk = null, a.writecb = null, null != n && e.push(n), r(t); var s = e._readableState; s.reading = !1, (s.needReadable || s.length < s.highWaterMark) && e._read(s.highWaterMark) } function Transform(e) { if (!(this instanceof Transform)) return new Transform(e); Duplex.call(this, e), this._transformState = new TransformState(this); var t = this; this._readableState.needReadable = !0, this._readableState.sync = !1, e && ("function" == typeof e.transform && (this._transform = e.transform), "function" == typeof e.flush && (this._flush = e.flush)), this.once("prefinish", function () { "function" == typeof this._flush ? this._flush(function (e) { done(t, e) }) : done(t) }) } function done(e, t) { if (t) return e.emit("error", t); var n = e._writableState, a = e._transformState; if (n.length) throw new Error("Calling transform done when ws.length != 0"); if (a.transforming) throw new Error("Calling transform done when still transforming"); return e.push(null) } function PassThrough(e) { if (!(this instanceof PassThrough)) return new PassThrough(e); Transform.call(this, e) } function Stream() { EventEmitter$1.call(this) } inherits(Transform, Duplex), Transform.prototype.push = function (e, t) { return this._transformState.needTransform = !1, Duplex.prototype.push.call(this, e, t) }, Transform.prototype._transform = function (e, t, n) { throw new Error("Not implemented") }, Transform.prototype._write = function (e, t, n) { var a = this._transformState; if (a.writecb = n, a.writechunk = e, a.writeencoding = t, !a.transforming) { var r = this._readableState; (a.needTransform || r.needReadable || r.length < r.highWaterMark) && this._read(r.highWaterMark) } }, Transform.prototype._read = function (e) { var t = this._transformState; null !== t.writechunk && t.writecb && !t.transforming ? (t.transforming = !0, this._transform(t.writechunk, t.writeencoding, t.afterTransform)) : t.needTransform = !0 }, inherits(PassThrough, Transform), PassThrough.prototype._transform = function (e, t, n) { n(null, e) }, inherits(Stream, EventEmitter$1), Stream.Readable = Readable, Stream.Writable = Writable, Stream.Duplex = Duplex, Stream.Transform = Transform, Stream.PassThrough = PassThrough, Stream.Stream = Stream, Stream.prototype.pipe = function (e, t) { var n = this; function a(t) { e.writable && !1 === e.write(t) && n.pause && n.pause() } function r() { n.readable && n.resume && n.resume() } n.on("data", a), e.on("drain", r), e._isStdio || t && !1 === t.end || (n.on("end", i), n.on("close", o)); var s = !1; function i() { s || (s = !0, e.end()) } function o() { s || (s = !0, "function" == typeof e.destroy && e.destroy()) } function l(e) { if (m(), 0 === EventEmitter$1.listenerCount(this, "error")) throw e } function m() { n.removeListener("data", a), e.removeListener("drain", r), n.removeListener("end", i), n.removeListener("close", o), n.removeListener("error", l), e.removeListener("error", l), n.removeListener("end", m), n.removeListener("close", m), e.removeListener("close", m) } return n.on("error", l), e.on("error", l), n.on("end", m), n.on("close", m), e.on("close", m), e.emit("pipe", n), e }; var _polyfillNode_stream = Object.freeze({ __proto__: null, Duplex: Duplex, PassThrough: PassThrough, Readable: Readable, Stream: Stream, Transform: Transform, Writable: Writable, default: Stream }), require$$0 = getAugmentedNamespace(_polyfillNode_stream), readableStreamBrowser, hasRequiredReadableStreamBrowser; function requireReadableStreamBrowser() { return hasRequiredReadableStreamBrowser ? readableStreamBrowser : (hasRequiredReadableStreamBrowser = 1, readableStreamBrowser = require$$0) } if (support.base64 = !0, support.array = !0, support.string = !0, support.arraybuffer = "undefined" != typeof ArrayBuffer && "undefined" != typeof Uint8Array, support.nodebuffer = "undefined" != typeof Buffer, support.uint8array = "undefined" != typeof Uint8Array, "undefined" == typeof ArrayBuffer) support.blob = !1; else { var buffer = new ArrayBuffer(0); try { support.blob = 0 === new Blob([buffer], { type: "application/zip" }).size } catch (e) { try { var Builder = self.BlobBuilder || self.WebKitBlobBuilder || self.MozBlobBuilder || self.MSBlobBuilder, builder = new Builder; builder.append(buffer), support.blob = 0 === builder.getBlob("application/zip").size } catch (e) { support.blob = !1 } } } try { support.nodestream = !!requireReadableStreamBrowser().Readable } catch (e) { support.nodestream = !1 } var base64 = {}, hasRequiredBase64; function requireBase64() { if (hasRequiredBase64) return base64; hasRequiredBase64 = 1; var e = requireUtils(), t = support, n = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="; return base64.encode = function (t) { for (var a, r, s, i, o, l, m, c = [], u = 0, A = t.length, p = A, d = "string" !== e.getTypeOf(t); u < t.length;)p = A - u, d ? (a = t[u++], r = u < A ? t[u++] : 0, s = u < A ? t[u++] : 0) : (a = t.charCodeAt(u++), r = u < A ? t.charCodeAt(u++) : 0, s = u < A ? t.charCodeAt(u++) : 0), i = a >> 2, o = (3 & a) << 4 | r >> 4, l = p > 1 ? (15 & r) << 2 | s >> 6 : 64, m = p > 2 ? 63 & s : 64, c.push(n.charAt(i) + n.charAt(o) + n.charAt(l) + n.charAt(m)); return c.join("") }, base64.decode = function (e) { var a, r, s, i, o, l, m = 0, c = 0; if ("data:" === e.substr(0, 5)) throw new Error("Invalid base64 input, it looks like a data url."); var u, A = 3 * (e = e.replace(/[^A-Za-z0-9+/=]/g, "")).length / 4; if (e.charAt(e.length - 1) === n.charAt(64) && A--, e.charAt(e.length - 2) === n.charAt(64) && A--, A % 1 != 0) throw new Error("Invalid base64 input, bad content length."); for (u = t.uint8array ? new Uint8Array(0 | A) : new Array(0 | A); m < e.length;)a = n.indexOf(e.charAt(m++)) << 2 | (i = n.indexOf(e.charAt(m++))) >> 4, r = (15 & i) << 4 | (o = n.indexOf(e.charAt(m++))) >> 2, s = (3 & o) << 6 | (l = n.indexOf(e.charAt(m++))), u[c++] = a, 64 !== o && (u[c++] = r), 64 !== l && (u[c++] = s); return u }, base64 } var nodejsUtils = { isNode: "undefined" != typeof Buffer, newBufferFrom: function (e, t) { if (Buffer.from && Buffer.from !== Uint8Array.from) return Buffer.from(e, t); if ("number" == typeof e) throw new Error('The "data" argument must not be a number'); return new Buffer(e, t) }, allocBuffer: function (e) { if (Buffer.alloc) return Buffer.alloc(e); var t = new Buffer(e); return t.fill(0), t }, isBuffer: function (e) { return Buffer.isBuffer(e) }, isStream: function (e) { return e && "function" == typeof e.on && "function" == typeof e.pause && "function" == typeof e.resume } }, browser$1, hasRequiredBrowser$1, browser, hasRequiredBrowser; function requireBrowser$1() { if (hasRequiredBrowser$1) return browser$1; hasRequiredBrowser$1 = 1; var e, t, n = commonjsGlobal.MutationObserver || commonjsGlobal.WebKitMutationObserver; if (n) { var a = 0, r = new n(l), s = commonjsGlobal.document.createTextNode(""); r.observe(s, { characterData: !0 }), e = function () { s.data = a = ++a % 2 } } else if (commonjsGlobal.setImmediate || void 0 === commonjsGlobal.MessageChannel) e = "document" in commonjsGlobal && "onreadystatechange" in commonjsGlobal.document.createElement("script") ? function () { var e = commonjsGlobal.document.createElement("script"); e.onreadystatechange = function () { l(), e.onreadystatechange = null, e.parentNode.removeChild(e), e = null }, commonjsGlobal.document.documentElement.appendChild(e) } : function () { setTimeout(l, 0) }; else { var i = new commonjsGlobal.MessageChannel; i.port1.onmessage = l, e = function () { i.port2.postMessage(0) } } var o = []; function l() { var e, n; t = !0; for (var a = o.length; a;) { for (n = o, o = [], e = -1; ++e < a;)n[e](); a = o.length } t = !1 } return browser$1 = function (n) { 1 !== o.push(n) || t || e() } } function requireBrowser() { if (hasRequiredBrowser) return browser; hasRequiredBrowser = 1; var t = requireBrowser$1(); function n() { } var a = {}, r = ["REJECTED"], s = ["FULFILLED"], i = ["PENDING"]; function o(e) { if ("function" != typeof e) throw new TypeError("resolver must be a function"); this.state = i, this.queue = [], this.outcome = void 0, e !== n && u(this, e) } function l(e, t, n) { this.promise = e, "function" == typeof t && (this.onFulfilled = t, this.callFulfilled = this.otherCallFulfilled), "function" == typeof n && (this.onRejected = n, this.callRejected = this.otherCallRejected) } function m(n, r, s) { t(function () { var t; try { t = r(s) } catch (e) { return a.reject(n, e) } t === n ? a.reject(n, new TypeError("Cannot resolve promise with itself")) : a.resolve(n, t) }) } function c(e) { var t = e && e.then; if (e && ("object" == typeof e || "function" == typeof e) && "function" == typeof t) return function () { t.apply(e, arguments) } } function u(e, t) { var n = !1; function r(t) { n || (n = !0, a.reject(e, t)) } function s(t) { n || (n = !0, a.resolve(e, t)) } var i = A(function () { t(s, r) }); "error" === i.status && r(i.value) } function A(t, n) { var a = {}; try { a.value = t(n), a.status = "success" } catch (e) { a.status = "error", a.value = e } return a } return browser = o, o.prototype.finally = function (e) { if ("function" != typeof e) return this; var t = this.constructor; return this.then(function (n) { return t.resolve(e()).then(function () { return n }) }, function (n) { return t.resolve(e()).then(function () { throw n }) }) }, o.prototype.catch = function (e) { return this.then(null, e) }, o.prototype.then = function (e, t) { if ("function" != typeof e && this.state === s || "function" != typeof t && this.state === r) return this; var a = new this.constructor(n); return this.state !== i ? m(a, this.state === s ? e : t, this.outcome) : this.queue.push(new l(a, e, t)), a }, l.prototype.callFulfilled = function (e) { a.resolve(this.promise, e) }, l.prototype.otherCallFulfilled = function (e) { m(this.promise, this.onFulfilled, e) }, l.prototype.callRejected = function (e) { a.reject(this.promise, e) }, l.prototype.otherCallRejected = function (e) { m(this.promise, this.onRejected, e) }, a.resolve = function (e, t) { var n = A(c, t); if ("error" === n.status) return a.reject(e, n.value); var r = n.value; if (r) u(e, r); else { e.state = s, e.outcome = t; for (var i = -1, o = e.queue.length; ++i < o;)e.queue[i].callFulfilled(t) } return e }, a.reject = function (e, t) { e.state = r, e.outcome = t; for (var n = -1, a = e.queue.length; ++n < a;)e.queue[n].callRejected(t); return e }, o.resolve = function (e) { return e instanceof this ? e : a.resolve(new this(n), e) }, o.reject = function (e) { var t = new this(n); return a.reject(t, e) }, o.all = function (e) { var t = this; if ("[object Array]" !== Object.prototype.toString.call(e)) return this.reject(new TypeError("must be an array")); var r = e.length, s = !1; if (!r) return this.resolve([]); for (var i = new Array(r), o = 0, l = -1, m = new this(n); ++l < r;)c(e[l], l); return m; function c(e, n) { t.resolve(e).then(function (e) { i[n] = e, ++o !== r || s || (s = !0, a.resolve(m, i)) }, function (e) { s || (s = !0, a.reject(m, e)) }) } }, o.race = function (e) { var t = this; if ("[object Array]" !== Object.prototype.toString.call(e)) return this.reject(new TypeError("must be an array")); var r = e.length, s = !1; if (!r) return this.resolve([]); for (var i = -1, o = new this(n); ++i < r;)l(e[i]); return o; function l(e) { t.resolve(e).then(function (e) { s || (s = !0, a.resolve(o, e)) }, function (e) { s || (s = !0, a.reject(o, e)) }) } }, browser } var ES6Promise = null; ES6Promise = "undefined" != typeof Promise ? Promise : requireBrowser(); var external = { Promise: ES6Promise }, hasRequiredUtils; function requireUtils() { return hasRequiredUtils || (hasRequiredUtils = 1, function (t) { var n = support, a = requireBase64(), r = nodejsUtils, s = external; function i(e) { return e } function o(e, t) { for (var n = 0; n < e.length; ++n)t[n] = 255 & e.charCodeAt(n); return t } t.newBlob = function (n, a) { t.checkSupport("blob"); try { return new Blob([n], { type: a }) } catch (e) { try { var r = new (self.BlobBuilder || self.WebKitBlobBuilder || self.MozBlobBuilder || self.MSBlobBuilder); return r.append(n), r.getBlob(a) } catch (e) { throw new Error("Bug : can't construct the Blob.") } } }; var l = { stringifyByChunk: function (e, t, n) { var a = [], r = 0, s = e.length; if (s <= n) return String.fromCharCode.apply(null, e); for (; r < s;)"array" === t || "nodebuffer" === t ? a.push(String.fromCharCode.apply(null, e.slice(r, Math.min(r + n, s)))) : a.push(String.fromCharCode.apply(null, e.subarray(r, Math.min(r + n, s)))), r += n; return a.join("") }, stringifyByChar: function (e) { for (var t = "", n = 0; n < e.length; n++)t += String.fromCharCode(e[n]); return t }, applyCanBeUsed: { uint8array: function () { try { return n.uint8array && 1 === String.fromCharCode.apply(null, new Uint8Array(1)).length } catch (e) { return !1 } }(), nodebuffer: function () { try { return n.nodebuffer && 1 === String.fromCharCode.apply(null, r.allocBuffer(1)).length } catch (e) { return !1 } }() } }; function m(n) { var a = 65536, r = t.getTypeOf(n), s = !0; if ("uint8array" === r ? s = l.applyCanBeUsed.uint8array : "nodebuffer" === r && (s = l.applyCanBeUsed.nodebuffer), s) for (; a > 1;)try { return l.stringifyByChunk(n, r, a) } catch (e) { a = Math.floor(a / 2) } return l.stringifyByChar(n) } function c(e, t) { for (var n = 0; n < e.length; n++)t[n] = e[n]; return t } t.applyFromCharCode = m; var u = {}; u.string = { string: i, array: function (e) { return o(e, new Array(e.length)) }, arraybuffer: function (e) { return u.string.uint8array(e).buffer }, uint8array: function (e) { return o(e, new Uint8Array(e.length)) }, nodebuffer: function (e) { return o(e, r.allocBuffer(e.length)) } }, u.array = { string: m, array: i, arraybuffer: function (e) { return new Uint8Array(e).buffer }, uint8array: function (e) { return new Uint8Array(e) }, nodebuffer: function (e) { return r.newBufferFrom(e) } }, u.arraybuffer = { string: function (e) { return m(new Uint8Array(e)) }, array: function (e) { return c(new Uint8Array(e), new Array(e.byteLength)) }, arraybuffer: i, uint8array: function (e) { return new Uint8Array(e) }, nodebuffer: function (e) { return r.newBufferFrom(new Uint8Array(e)) } }, u.uint8array = { string: m, array: function (e) { return c(e, new Array(e.length)) }, arraybuffer: function (e) { return e.buffer }, uint8array: i, nodebuffer: function (e) { return r.newBufferFrom(e) } }, u.nodebuffer = { string: m, array: function (e) { return c(e, new Array(e.length)) }, arraybuffer: function (e) { return u.nodebuffer.uint8array(e).buffer }, uint8array: function (e) { return c(e, new Uint8Array(e.length)) }, nodebuffer: i }, t.transformTo = function (e, n) { if (n || (n = ""), !e) return n; t.checkSupport(e); var a = t.getTypeOf(n); return u[a][e](n) }, t.resolve = function (e) { for (var t = e.split("/"), n = [], a = 0; a < t.length; a++) { var r = t[a]; "." === r || "" === r && 0 !== a && a !== t.length - 1 || (".." === r ? n.pop() : n.push(r)) } return n.join("/") }, t.getTypeOf = function (e) { return "string" == typeof e ? "string" : "[object Array]" === Object.prototype.toString.call(e) ? "array" : n.nodebuffer && r.isBuffer(e) ? "nodebuffer" : n.uint8array && e instanceof Uint8Array ? "uint8array" : n.arraybuffer && e instanceof ArrayBuffer ? "arraybuffer" : void 0 }, t.checkSupport = function (e) { if (!n[e.toLowerCase()]) throw new Error(e + " is not supported by this platform") }, t.MAX_VALUE_16BITS = 65535, t.MAX_VALUE_32BITS = -1, t.pretty = function (e) { var t, n, a = ""; for (n = 0; n < (e || "").length; n++)a += "\\x" + ((t = e.charCodeAt(n)) < 16 ? "0" : "") + t.toString(16).toUpperCase(); return a }, t.delay = function (e, t, n) { setImmediate(function () { e.apply(n || null, t || []) }) }, t.inherits = function (e, t) { var n = function () { }; n.prototype = t.prototype, e.prototype = new n }, t.extend = function () { var e, t, n = {}; for (e = 0; e < arguments.length; e++)for (t in arguments[e]) Object.prototype.hasOwnProperty.call(arguments[e], t) && void 0 === n[t] && (n[t] = arguments[e][t]); return n }, t.prepareContent = function (e, r, i, l, m) { var c = s.Promise.resolve(r).then(function (e) { return n.blob && (e instanceof Blob || -1 !== ["[object File]", "[object Blob]"].indexOf(Object.prototype.toString.call(e))) && "undefined" != typeof FileReader ? new s.Promise(function (t, n) { var a = new FileReader; a.onload = function (e) { t(e.target.result) }, a.onerror = function (e) { n(e.target.error) }, a.readAsArrayBuffer(e) }) : e }); return c.then(function (r) { var c, u = t.getTypeOf(r); return u ? ("arraybuffer" === u ? r = t.transformTo("uint8array", r) : "string" === u && (m ? r = a.decode(r) : i && !0 !== l && (r = o(c = r, n.uint8array ? new Uint8Array(c.length) : new Array(c.length)))), r) : s.Promise.reject(new Error("Can't read the data of '" + e + "'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?")) }) } }(utils)), utils } var utilsExports = requireUtils(), Utils = getDefaultExportFromCjs(utilsExports); Utils.delay = function (e, t, n) { setImmediate$1(() => { e.apply(n || null, t || []) }) }; class Webamp extends Webamp$1 { constructor(e) { super({ ...e, requireJSZip: async () => JSZip, requireMusicMetadata: async () => musicMetadata }) } } window.Webamp = Webamp; { const e = (e, t) => { var n = "function" == typeof t, a = "function" == typeof t, r = "function" == typeof t; Object.defineProperty(Math, e, { configurable: n, enumerable: r, writable: a, value: t }) }; e("DEG_PER_RAD", Math.PI / 180), e("RAD_PER_DEG", 180 / Math.PI); const t = new Float32Array(1); e("scale", function (e, t, n, a, r) { return 0 === arguments.length || Number.isNaN(e) || Number.isNaN(t) || Number.isNaN(n) || Number.isNaN(a) || Number.isNaN(r) ? NaN : e === 1 / 0 || e === -1 / 0 ? e : (e - t) * (r - a) / (n - t) + a }), e("fscale", function (e, n, a, r, s) { return t[0] = Math.scale(e, n, a, r, s), t[0] }), e("clamp", function (e, t, n) { return Math.min(n, Math.max(t, e)) }), e("radians", function (e) { return e * Math.DEG_PER_RAD }), e("degrees", function (e) { return e * Math.RAD_PER_DEG }) } var t = 1e-5; window.sqr = function (e) { return e * e }, window.sqrt = function (e) { return Math.sqrt(Math.abs(e)) }, window.log10 = function (e) { return Math.log(e) * Math.LOG10E }, window.sign = function (e) { return e > 0 ? 1 : e < 0 ? -1 : 0 }, window.rand = function (e) { var t = Math.floor(e); return t < 1 ? Math.random() : Math.random() * t }, window.randint = function (e) { return Math.floor(rand(e)) }, window.bnot = function (e) { return Math.abs(e) < t ? 1 : 0 }, window.pow = function (e, t) { var n, a = Math.pow(e, t); return n = a, !isFinite(n) || isNaN(n) ? 0 : a }, window.div = function (e, t) { return 0 === t ? 0 : e / t }, window.mod = function (e, t) { return 0 === t ? 0 : Math.floor(e) % Math.floor(t) }, window.bitor = function (e, t) { return Math.floor(e) | Math.floor(t) }, window.bitand = function (e, t) { return Math.floor(e) & Math.floor(t) }, window.sigmoid = function (e, n) { var a = 1 + Math.exp(-e * n); return Math.abs(a) > t ? 1 / a : 0 }, window.bor = function (e, n) { return Math.abs(e) > t || Math.abs(n) > t ? 1 : 0 }, window.band = function (e, n) { return Math.abs(e) > t && Math.abs(n) > t ? 1 : 0 }, window.equal = function (e, n) { return Math.abs(e - n) < t ? 1 : 0 }, window.above = function (e, t) { return e > t ? 1 : 0 }, window.below = function (e, t) { return e < t ? 1 : 0 }, window.ifcond = function (e, n, a) { return Math.abs(e) > t ? n : a }, window.memcpy = function (e, t, n, a) { let r = t, s = n, i = a; return s < 0 && (i += s, r -= s, s = 0), r < 0 && (i += r, s -= r, r = 0), i > 0 && e.copyWithin(r, s, i), t }; var e, i = {}, s = {}, r = {}; function a$1(e) { throw new Error('Could not dynamically require "' + e + '". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.') } var o, h, A, n = {}; function l() { return o || (o = 1, function (e) { var t = function () { var e = function (e, t, n, a) { for (n = n || {}, a = e.length; a--; n[e[a]] = t); return n }, t = [1, 18], n = [1, 7], a = [1, 19], r = [1, 20], s = [1, 14], i = [1, 15], o = [1, 16], l = [1, 33], m = [1, 31], c = [1, 23], u = [1, 22], A = [1, 24], p = [1, 25], d = [1, 26], _ = [1, 27], v = [1, 28], h = [1, 29], g = [1, 30], f = [5, 8, 15, 18, 20, 28, 29, 32, 33, 34, 35, 36, 37, 38], b = [5, 15, 18], x = [5, 12, 15, 17, 18, 24, 25, 28, 29, 30], y = [1, 57], w = [5, 8, 12, 15, 17, 18, 24, 25, 28, 29, 30], E = [15, 18], S = [5, 8, 15, 18, 28, 29, 38], z = [5, 8, 15, 18, 28, 29, 32, 33, 38], q = [5, 8, 15, 18, 28, 29, 32, 33, 34, 37, 38], k = [5, 8, 15, 18, 28, 29, 32, 33, 34, 35, 36, 37, 38], T = [5, 8, 15, 18], I = [5, 8, 15, 18, 20, 22, 28, 29, 32, 33, 34, 35, 36, 37, 38], C = { trace: function () { }, yy: {}, symbols_: { error: 2, SCRIPT: 3, expression: 4, EOF: 5, expressionsOptionalTrailingSemi: 6, separator: 7, ";": 8, expressions: 9, EXPRESSION_BLOCK: 10, IDENTIFIER: 11, IDENTIFIER_TOKEN: 12, argument: 13, arguments: 14, ",": 15, FUNCTION_CALL: 16, "(": 17, ")": 18, LOGICAL_EXPRESSION: 19, LOGICAL_OPERATOR_TOKEN: 20, ASSIGNMENT: 21, ASSIGNMENT_OPERATOR_TOKEN: 22, number: 23, DIGITS_TOKEN: 24, ".": 25, NUMBER_LITERAL: 26, UNARY_EXPRESSION: 27, "-": 28, "+": 29, "!": 30, BINARY_EXPRESSION: 31, "*": 32, "/": 33, "%": 34, "&": 35, "|": 36, "^": 37, COMPARISON_TOKEN: 38, $accept: 0, $end: 1 }, terminals_: { 2: "error", 5: "EOF", 8: ";", 12: "IDENTIFIER_TOKEN", 15: ",", 17: "(", 18: ")", 20: "LOGICAL_OPERATOR_TOKEN", 22: "ASSIGNMENT_OPERATOR_TOKEN", 24: "DIGITS_TOKEN", 25: ".", 28: "-", 29: "+", 30: "!", 32: "*", 33: "/", 34: "%", 35: "&", 36: "|", 37: "^", 38: "COMPARISON_TOKEN" }, productions_: [0, [3, 2], [3, 2], [3, 1], [7, 1], [7, 2], [9, 2], [9, 3], [6, 1], [6, 2], [10, 1], [11, 1], [13, 1], [13, 1], [14, 1], [14, 3], [16, 3], [16, 4], [19, 3], [21, 3], [21, 3], [23, 1], [23, 2], [23, 3], [23, 2], [23, 1], [26, 1], [27, 2], [27, 2], [27, 2], [31, 3], [31, 3], [31, 3], [31, 3], [31, 3], [31, 3], [31, 3], [31, 3], [31, 3], [4, 1], [4, 1], [4, 3], [4, 1], [4, 1], [4, 1], [4, 1], [4, 1], [4, 3]], performAction: function (e, t, n, a, r, s, i) { var o = s.length - 1; switch (r) { case 1: return { type: "SCRIPT", body: [s[o - 1]], loc: this._$ }; case 2: return { type: "SCRIPT", body: s[o - 1], loc: this._$ }; case 3: return { type: "SCRIPT", body: [], loc: this._$ }; case 6: this.$ = [s[o - 1]]; break; case 7: this.$ = s[o - 2].concat([s[o - 1]]); break; case 8: this.$ = s[o]; break; case 9: this.$ = s[o - 1].concat([s[o]]); break; case 10: this.$ = { type: "EXPRESSION_BLOCK", body: s[o], loc: this._$ }; break; case 11: this.$ = { type: "IDENTIFIER", value: s[o].toLowerCase(), loc: this._$ }; break; case 14: this.$ = [s[o]]; break; case 15: this.$ = s[o - 2].concat([s[o]]); break; case 16: this.$ = { type: "CALL_EXPRESSION", callee: s[o - 2], arguments: [], loc: this._$ }; break; case 17: this.$ = { type: "CALL_EXPRESSION", callee: s[o - 3], arguments: s[o - 1], loc: this._$ }; break; case 18: this.$ = { type: "LOGICAL_EXPRESSION", left: s[o - 2], right: s[o], operator: s[o - 1], loc: this._$ }; break; case 19: case 20: this.$ = { type: "ASSIGNMENT_EXPRESSION", left: s[o - 2], operator: s[o - 1], right: s[o], loc: this._$ }; break; case 21: this.$ = Number(s[o]); break; case 22: this.$ = Number(s[o - 1]); break; case 23: this.$ = Number(s[o - 2] + s[o - 1] + s[o]); break; case 24: this.$ = Number("0" + s[o - 1] + s[o]); break; case 25: this.$ = 0; break; case 26: this.$ = { type: "NUMBER_LITERAL", value: s[o], loc: this._$ }; break; case 27: case 28: case 29: this.$ = { type: "UNARY_EXPRESSION", value: s[o], operator: s[o - 1], loc: this._$ }; break; case 30: case 31: case 32: case 33: case 34: case 35: case 36: case 37: case 38: this.$ = { type: "BINARY_EXPRESSION", left: s[o - 2], right: s[o], operator: s[o - 1], loc: this._$ }; break; case 41: case 47: this.$ = s[o - 1] } }, table: [{ 3: 1, 4: 2, 5: [1, 4], 6: 3, 9: 13, 11: 11, 12: t, 16: 10, 17: n, 19: 12, 21: 9, 23: 17, 24: a, 25: r, 26: 8, 27: 6, 28: s, 29: i, 30: o, 31: 5 }, { 1: [3] }, { 5: [1, 21], 7: 32, 8: l, 20: m, 28: c, 29: u, 32: A, 33: p, 34: d, 35: _, 36: v, 37: h, 38: g }, { 5: [1, 34] }, { 1: [2, 3] }, e(f, [2, 39]), e(f, [2, 40]), { 4: 35, 6: 37, 9: 13, 10: 36, 11: 11, 12: t, 16: 10, 17: n, 19: 12, 21: 9, 23: 17, 24: a, 25: r, 26: 8, 27: 6, 28: s, 29: i, 30: o, 31: 5 }, e(f, [2, 42]), e(f, [2, 43]), e(f, [2, 44], { 22: [1, 38] }), e(f, [2, 45], { 17: [1, 40], 22: [1, 39] }), e(f, [2, 46]), e(b, [2, 8], { 31: 5, 27: 6, 26: 8, 21: 9, 16: 10, 11: 11, 19: 12, 23: 17, 4: 41, 12: t, 17: n, 24: a, 25: r, 28: s, 29: i, 30: o }), { 4: 42, 11: 11, 12: t, 16: 10, 17: n, 19: 12, 21: 9, 23: 17, 24: a, 25: r, 26: 8, 27: 6, 28: s, 29: i, 30: o, 31: 5 }, { 4: 43, 11: 11, 12: t, 16: 10, 17: n, 19: 12, 21: 9, 23: 17, 24: a, 25: r, 26: 8, 27: 6, 28: s, 29: i, 30: o, 31: 5 }, { 4: 44, 11: 11, 12: t, 16: 10, 17: n, 19: 12, 21: 9, 23: 17, 24: a, 25: r, 26: 8, 27: 6, 28: s, 29: i, 30: o, 31: 5 }, e(f, [2, 26]), e([5, 8, 15, 17, 18, 20, 22, 28, 29, 32, 33, 34, 35, 36, 37, 38], [2, 11]), e(f, [2, 21], { 25: [1, 45] }), e(f, [2, 25], { 24: [1, 46] }), { 1: [2, 1] }, { 4: 47, 11: 11, 12: t, 16: 10, 17: n, 19: 12, 21: 9, 23: 17, 24: a, 25: r, 26: 8, 27: 6, 28: s, 29: i, 30: o, 31: 5 }, { 4: 48, 11: 11, 12: t, 16: 10, 17: n, 19: 12, 21: 9, 23: 17, 24: a, 25: r, 26: 8, 27: 6, 28: s, 29: i, 30: o, 31: 5 }, { 4: 49, 11: 11, 12: t, 16: 10, 17: n, 19: 12, 21: 9, 23: 17, 24: a, 25: r, 26: 8, 27: 6, 28: s, 29: i, 30: o, 31: 5 }, { 4: 50, 11: 11, 12: t, 16: 10, 17: n, 19: 12, 21: 9, 23: 17, 24: a, 25: r, 26: 8, 27: 6, 28: s, 29: i, 30: o, 31: 5 }, { 4: 51, 11: 11, 12: t, 16: 10, 17: n, 19: 12, 21: 9, 23: 17, 24: a, 25: r, 26: 8, 27: 6, 28: s, 29: i, 30: o, 31: 5 }, { 4: 52, 11: 11, 12: t, 16: 10, 17: n, 19: 12, 21: 9, 23: 17, 24: a, 25: r, 26: 8, 27: 6, 28: s, 29: i, 30: o, 31: 5 }, { 4: 53, 11: 11, 12: t, 16: 10, 17: n, 19: 12, 21: 9, 23: 17, 24: a, 25: r, 26: 8, 27: 6, 28: s, 29: i, 30: o, 31: 5 }, { 4: 54, 11: 11, 12: t, 16: 10, 17: n, 19: 12, 21: 9, 23: 17, 24: a, 25: r, 26: 8, 27: 6, 28: s, 29: i, 30: o, 31: 5 }, { 4: 55, 11: 11, 12: t, 16: 10, 17: n, 19: 12, 21: 9, 23: 17, 24: a, 25: r, 26: 8, 27: 6, 28: s, 29: i, 30: o, 31: 5 }, { 4: 56, 11: 11, 12: t, 16: 10, 17: n, 19: 12, 21: 9, 23: 17, 24: a, 25: r, 26: 8, 27: 6, 28: s, 29: i, 30: o, 31: 5 }, e(x, [2, 6], { 8: y }), e(w, [2, 4]), { 1: [2, 2] }, { 7: 32, 8: l, 18: [1, 58], 20: m, 28: c, 29: u, 32: A, 33: p, 34: d, 35: _, 36: v, 37: h, 38: g }, { 18: [1, 59] }, e(E, [2, 10]), { 4: 60, 11: 11, 12: t, 16: 10, 17: n, 19: 12, 21: 9, 23: 17, 24: a, 25: r, 26: 8, 27: 6, 28: s, 29: i, 30: o, 31: 5 }, { 4: 61, 11: 11, 12: t, 16: 10, 17: n, 19: 12, 21: 9, 23: 17, 24: a, 25: r, 26: 8, 27: 6, 28: s, 29: i, 30: o, 31: 5 }, { 4: 65, 6: 37, 9: 13, 10: 66, 11: 11, 12: t, 13: 64, 14: 63, 16: 10, 17: n, 18: [1, 62], 19: 12, 21: 9, 23: 17, 24: a, 25: r, 26: 8, 27: 6, 28: s, 29: i, 30: o, 31: 5 }, e(b, [2, 9], { 7: 67, 8: l, 20: m, 28: c, 29: u, 32: A, 33: p, 34: d, 35: _, 36: v, 37: h, 38: g }), e(S, [2, 27], { 20: m, 32: A, 33: p, 34: d, 35: _, 36: v, 37: h }), e(S, [2, 28], { 20: m, 32: A, 33: p, 34: d, 35: _, 36: v, 37: h }), e(S, [2, 29], { 20: m, 32: A, 33: p, 34: d, 35: _, 36: v, 37: h }), e(f, [2, 22], { 24: [1, 68] }), e(f, [2, 24]), e(S, [2, 30], { 20: m, 32: A, 33: p, 34: d, 35: _, 36: v, 37: h }), e(S, [2, 31], { 20: m, 32: A, 33: p, 34: d, 35: _, 36: v, 37: h }), e(z, [2, 32], { 20: m, 34: d, 35: _, 36: v, 37: h }), e(z, [2, 33], { 20: m, 34: d, 35: _, 36: v, 37: h }), e(q, [2, 34], { 20: m, 35: _, 36: v }), e(k, [2, 35], { 20: m }), e(k, [2, 36], { 20: m }), e(q, [2, 37], { 20: m, 35: _, 36: v }), e(T, [2, 38], { 20: m, 28: c, 29: u, 32: A, 33: p, 34: d, 35: _, 36: v, 37: h, 38: g }), e(f, [2, 18]), e(w, [2, 5]), e(f, [2, 41]), e(f, [2, 47]), e(T, [2, 20], { 20: m, 28: c, 29: u, 32: A, 33: p, 34: d, 35: _, 36: v, 37: h, 38: g }), e(T, [2, 19], { 20: m, 28: c, 29: u, 32: A, 33: p, 34: d, 35: _, 36: v, 37: h, 38: g }), e(I, [2, 16]), { 15: [1, 70], 18: [1, 69] }, e(E, [2, 14]), e(E, [2, 12], { 7: 32, 8: l, 20: m, 28: c, 29: u, 32: A, 33: p, 34: d, 35: _, 36: v, 37: h, 38: g }), e(E, [2, 13]), e(x, [2, 7], { 8: y }), e(f, [2, 23]), e(I, [2, 17]), { 4: 65, 6: 37, 9: 13, 10: 66, 11: 11, 12: t, 13: 71, 16: 10, 17: n, 19: 12, 21: 9, 23: 17, 24: a, 25: r, 26: 8, 27: 6, 28: s, 29: i, 30: o, 31: 5 }, e(E, [2, 15])], defaultActions: { 4: [2, 3], 21: [2, 1], 34: [2, 2] }, parseError: function (e, t) { if (!t.recoverable) { var n = new Error(e); throw n.hash = t, n } this.trace(e) }, parse: function (e) { var t = this, n = [0], a = [null], r = [], s = this.table, i = "", o = 0, l = 0, m = r.slice.call(arguments, 1), c = Object.create(this.lexer), u = { yy: {} }; for (var A in this.yy) Object.prototype.hasOwnProperty.call(this.yy, A) && (u.yy[A] = this.yy[A]); c.setInput(e, u.yy), u.yy.lexer = c, u.yy.parser = this, void 0 === c.yylloc && (c.yylloc = {}); var p = c.yylloc; r.push(p); var d = c.options && c.options.ranges; "function" == typeof u.yy.parseError ? this.parseError = u.yy.parseError : this.parseError = Object.getPrototypeOf(this).parseError; for (var _, v, h, g, f, b, x, y, w = function () { var e; return "number" != typeof (e = c.lex() || 1) && (e = t.symbols_[e] || e), e }, E = {}; ;) { if (v = n[n.length - 1], this.defaultActions[v] ? h = this.defaultActions[v] : (null == _ && (_ = w()), h = s[v] && s[v][_]), void 0 === h || !h.length || !h[0]) { var S; for (f in y = [], s[v]) this.terminals_[f] && f > 2 && y.push("'" + this.terminals_[f] + "'"); S = c.showPosition ? "Parse error on line " + (o + 1) + ":\n" + c.showPosition() + "\nExpecting " + y.join(", ") + ", got '" + (this.terminals_[_] || _) + "'" : "Parse error on line " + (o + 1) + ": Unexpected " + (1 == _ ? "end of input" : "'" + (this.terminals_[_] || _) + "'"), this.parseError(S, { text: c.match, token: this.terminals_[_] || _, line: c.yylineno, loc: p, expected: y }) } if (h[0] instanceof Array && h.length > 1) throw new Error("Parse Error: multiple actions possible at state: " + v + ", token: " + _); switch (h[0]) { case 1: n.push(_), a.push(c.yytext), r.push(c.yylloc), n.push(h[1]), _ = null, l = c.yyleng, i = c.yytext, o = c.yylineno, p = c.yylloc; break; case 2: if (b = this.productions_[h[1]][1], E.$ = a[a.length - b], E._$ = { first_line: r[r.length - (b || 1)].first_line, last_line: r[r.length - 1].last_line, first_column: r[r.length - (b || 1)].first_column, last_column: r[r.length - 1].last_column }, d && (E._$.range = [r[r.length - (b || 1)].range[0], r[r.length - 1].range[1]]), void 0 !== (g = this.performAction.apply(E, [i, l, o, u.yy, h[1], a, r].concat(m)))) return g; b && (n = n.slice(0, -1 * b * 2), a = a.slice(0, -1 * b), r = r.slice(0, -1 * b)), n.push(this.productions_[h[1]][0]), a.push(E.$), r.push(E._$), x = s[n[n.length - 2]][n[n.length - 1]], n.push(x); break; case 3: return !0 } } return !0 } }, R = { EOF: 1, parseError: function (e, t) { if (!this.yy.parser) throw new Error(e); this.yy.parser.parseError(e, t) }, setInput: function (e, t) { return this.yy = t || this.yy || {}, this._input = e, this._more = this._backtrack = this.done = !1, this.yylineno = this.yyleng = 0, this.yytext = this.matched = this.match = "", this.conditionStack = ["INITIAL"], this.yylloc = { first_line: 1, first_column: 0, last_line: 1, last_column: 0 }, this.options.ranges && (this.yylloc.range = [0, 0]), this.offset = 0, this }, input: function () { var e = this._input[0]; return this.yytext += e, this.yyleng++, this.offset++, this.match += e, this.matched += e, e.match(/(?:\r\n?|\n).*/g) ? (this.yylineno++, this.yylloc.last_line++) : this.yylloc.last_column++, this.options.ranges && this.yylloc.range[1]++, this._input = this._input.slice(1), e }, unput: function (e) { var t = e.length, n = e.split(/(?:\r\n?|\n)/g); this._input = e + this._input, this.yytext = this.yytext.substr(0, this.yytext.length - t), this.offset -= t; var a = this.match.split(/(?:\r\n?|\n)/g); this.match = this.match.substr(0, this.match.length - 1), this.matched = this.matched.substr(0, this.matched.length - 1), n.length - 1 && (this.yylineno -= n.length - 1); var r = this.yylloc.range; return this.yylloc = { first_line: this.yylloc.first_line, last_line: this.yylineno + 1, first_column: this.yylloc.first_column, last_column: n ? (n.length === a.length ? this.yylloc.first_column : 0) + a[a.length - n.length].length - n[0].length : this.yylloc.first_column - t }, this.options.ranges && (this.yylloc.range = [r[0], r[0] + this.yyleng - t]), this.yyleng = this.yytext.length, this }, more: function () { return this._more = !0, this }, reject: function () { return this.options.backtrack_lexer ? (this._backtrack = !0, this) : this.parseError("Lexical error on line " + (this.yylineno + 1) + ". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n" + this.showPosition(), { text: "", token: null, line: this.yylineno }) }, less: function (e) { this.unput(this.match.slice(e)) }, pastInput: function () { var e = this.matched.substr(0, this.matched.length - this.match.length); return (e.length > 20 ? "..." : "") + e.substr(-20).replace(/\n/g, "") }, upcomingInput: function () { var e = this.match; return e.length < 20 && (e += this._input.substr(0, 20 - e.length)), (e.substr(0, 20) + (e.length > 20 ? "..." : "")).replace(/\n/g, "") }, showPosition: function () { var e = this.pastInput(), t = new Array(e.length + 1).join("-"); return e + this.upcomingInput() + "\n" + t + "^" }, test_match: function (e, t) { var n, a, r; if (this.options.backtrack_lexer && (r = { yylineno: this.yylineno, yylloc: { first_line: this.yylloc.first_line, last_line: this.last_line, first_column: this.yylloc.first_column, last_column: this.yylloc.last_column }, yytext: this.yytext, match: this.match, matches: this.matches, matched: this.matched, yyleng: this.yyleng, offset: this.offset, _more: this._more, _input: this._input, yy: this.yy, conditionStack: this.conditionStack.slice(0), done: this.done }, this.options.ranges && (r.yylloc.range = this.yylloc.range.slice(0))), (a = e[0].match(/(?:\r\n?|\n).*/g)) && (this.yylineno += a.length), this.yylloc = { first_line: this.yylloc.last_line, last_line: this.yylineno + 1, first_column: this.yylloc.last_column, last_column: a ? a[a.length - 1].length - a[a.length - 1].match(/\r?\n?/)[0].length : this.yylloc.last_column + e[0].length }, this.yytext += e[0], this.match += e[0], this.matches = e, this.yyleng = this.yytext.length, this.options.ranges && (this.yylloc.range = [this.offset, this.offset += this.yyleng]), this._more = !1, this._backtrack = !1, this._input = this._input.slice(e[0].length), this.matched += e[0], n = this.performAction.call(this, this.yy, this, t, this.conditionStack[this.conditionStack.length - 1]), this.done && this._input && (this.done = !1), n) return n; if (this._backtrack) { for (var s in r) this[s] = r[s]; return !1 } return !1 }, next: function () { if (this.done) return this.EOF; var e, t, n, a; this._input || (this.done = !0), this._more || (this.yytext = "", this.match = ""); for (var r = this._currentRules(), s = 0; s < r.length; s++)if ((n = this._input.match(this.rules[r[s]])) && (!t || n[0].length > t[0].length)) { if (t = n, a = s, this.options.backtrack_lexer) { if (!1 !== (e = this.test_match(n, r[s]))) return e; if (this._backtrack) { t = !1; continue } return !1 } if (!this.options.flex) break } return t ? !1 !== (e = this.test_match(t, r[a])) && e : "" === this._input ? this.EOF : this.parseError("Lexical error on line " + (this.yylineno + 1) + ". Unrecognized text.\n" + this.showPosition(), { text: "", token: null, line: this.yylineno }) }, lex: function () { return this.next() || this.lex() }, begin: function (e) { this.conditionStack.push(e) }, popState: function () { return this.conditionStack.length - 1 > 0 ? this.conditionStack.pop() : this.conditionStack[0] }, _currentRules: function () { return this.conditionStack.length && this.conditionStack[this.conditionStack.length - 1] ? this.conditions[this.conditionStack[this.conditionStack.length - 1]].rules : this.conditions.INITIAL.rules }, topState: function (e) { return (e = this.conditionStack.length - 1 - Math.abs(e || 0)) >= 0 ? this.conditionStack[e] : "INITIAL" }, pushState: function (e) { this.begin(e) }, stateStackSize: function () { return this.conditionStack.length }, options: {}, performAction: function (e, t, n, a) { switch (n) { case 0: break; case 1: return 24; case 2: return 38; case 3: return 22; case 4: return 20; case 5: return 12; case 6: return 5; case 7: return t.yytext[0] } }, rules: [/^(?:\s+)/, /^(?:[0-9]+)/, /^(?:(==|!=|<=|>=|<|>))/, /^(?:[+\-*/%]?=)/, /^(?:(\&\&)|\|\|)/, /^(?:[a-zA-Z_][a-zA-Z0-9._]*)/, /^(?:$)/, /^(?:.)/], conditions: { INITIAL: { rules: [0, 1, 2, 3, 4, 5, 6, 7], inclusive: !0 } } }; function P() { this.yy = {} } return C.lexer = R, P.prototype = C, C.Parser = P, new P }(); void 0 !== a$1 && (e.parser = t, e.Parser = t.Parser, e.parse = function () { return t.parse.apply(t, arguments) }, e.main = () => { }) }(n)), n } var c, g = {}, m, u, f, d = {}, p = {}; function _() { return m || (m = 1, Object.defineProperty(p, "__esModule", { value: !0 }), p.arrayJoin = function (e, t) { const n = []; for (let a = 0; a < e.length; a++)n.push(e[a]), a === e.length - 1 || n.push(t); return n }, p.flatten = function (e) { return [].concat.apply([], e) }, p.times = function (e, t) { return new Array(e).fill(null).map((e, n) => t(n)) }, p.repeat = function (e, t) { return new Array(e).fill(t).join("") }, p.ScopedIdMap = class { constructor() { this._map = new Map } get(e, t) { const n = null == e ? t : `${e}::${t}`; return this._map.has(n) || this._map.set(n, this._map.size), this._map.get(n) } size() { return this._map.size } }, p.formatList = function (e) { if (0 === e.length) throw new Error("Cannot format an empty list"); if (1 === e.length) return e[0]; const t = e.map(e => `"${e}"`), n = t.pop(); return t.join(", ") + ` and ${n}` }), p } function E() { if (u) return d; u = 1, Object.defineProperty(d, "__esModule", { value: !0 }); const e = _(); function t(t, n, a = 1) { const r = Math.max(t.first_line - 1 - a, 0), s = t.last_line + a, i = n.split("\n").slice(r, s).map((e, n) => { const a = n + r + 1; return `${a >= t.first_line && a <= t.last_line ? ">" : " "} ${a} | ${e}` }); if (t.first_line === t.last_line) { const n = e.repeat(t.first_column, " "), a = e.repeat(t.last_column - t.first_column, "^"), s = t.first_line - r; i.splice(s, 0, `    | ${n}${a}`) } return i.join("\n") } d.printLoc = t; class n extends Error { constructor(e, n, a) { super(e), this.sourceContext = t(n, a), this.loc = n } } class a extends n { } return d.createUserError = function (e, t, n) { return new a(e, t, n) }, d.createCompilerError = function (e, t, a) { return new n(e, t, a) }, d } function b() { if (f) return s; f = 1, Object.defineProperty(s, "__esModule", { value: !0 }); const t = (e || (e = 1, Object.defineProperty(r, "__esModule", { value: !0 }), r.getLoc = function (e, t) { let n = { destCol: 1, srcCol: 1, srcLine: 1 }; e.forEach(e => { e.destCol > t || (n = e) }); const a = t - n.destCol; return { column: n.srcCol + a, line: n.srcLine } }, r.preProcess = function (e) { const t = []; let n = 1, a = "", r = 0, s = !1, i = !1, o = !1; for (let l = 0; l < e.length; l++) { const m = e[l]; if (o) { const e = a.length + 1, s = l - r + 1; t.push({ destCol: e, srcCol: s, srcLine: n }), o = !1 } "\n" === m ? (s = !1, n++, r = l + 1, o = !0) : "\r" === m && "\n" === e[l + 1] ? (l++, s = !1, n++, r = l + 1, o = !0) : i && "*" === m && "/" === e[l + 1] ? (i = !1, l++, o = !0) : "\\" === m && "\\" === e[l + 1] || "/" === m && "/" === e[l + 1] ? (s = !0, l++) : "/" === m && "*" === e[l + 1] ? (i = !0, l++) : s || i || (a += m) } return [a, t] }), r), n = function () { if (A) return h; A = 1; let e = l(); return h = { parse: e.parse } }(), a = function () { if (c) return g; c = 1, Object.defineProperty(g, "__esModule", { value: !0 }); const e = { ASSIGNMENT_EXPRESSION: [{ type: "NODE", key: "right" }], SCRIPT: [{ type: "ARRAY", key: "body" }], EXPRESSION_BLOCK: [{ type: "ARRAY", key: "body" }], UNARY_EXPRESSION: [{ type: "NODE", key: "value" }], NUMBER_LITERAL: [], IDENTIFIER: [], CALL_EXPRESSION: [{ type: "ARRAY", key: "arguments" }, { type: "NODE", key: "callee" }], BINARY_EXPRESSION: [{ type: "NODE", key: "left" }, { type: "NODE", key: "right" }], LOGICAL_EXPRESSION: [{ type: "NODE", key: "left" }, { type: "NODE", key: "right" }] }; return g.mapAst = function t(n, a) { const r = e[n.type]; let s = n; if (null == r) throw new Error(`Unknown children definition for ${n.type}`); return r.forEach(e => { if ("NODE" === e.type) { const r = n[e.key], i = t(r, a); i !== r && (s = Object.assign(Object.assign({}, s), { [e.key]: i })) } else if ("ARRAY" === e.type) { const r = n[e.key], i = r.map(e => t(e, a)), o = r.some((e, t) => e !== i[t]); o && (s = Object.assign(Object.assign({}, s), { [e.key]: i })) } }), a(s) }, g }(), i = E(); function o(e, n) { const a = t.getLoc(n, e.first_column), r = t.getLoc(n, e.last_column); return { first_column: a.column, last_column: r.column, first_line: a.line, last_line: r.line } } return s.parse = function (e) { const [r, s] = t.preProcess(e); try { const t = n.parse(r); return a.mapAst(t, t => { if (1 !== t.loc.first_line || 1 != t.loc.last_line) throw i.createCompilerError("Unexpected multiline", t.loc, e); return Object.assign(Object.assign({}, t), { loc: o(t.loc, s) }) }) } catch (t) { if (null == t.hash) throw t; throw i.createUserError(`Parse Error: ${t.message.split("\n")[3]}`, o(t.hash.loc, s), e) } }, s } var x$1, v, T = {}, S = {}, P = {}, w = {}; function I() { return x$1 || (x$1 = 1, Object.defineProperty(w, "__esModule", { value: !0 }), w.write = function (e, t) { let n = 52; var a, r, s, i = 64 - n - 1, o = (1 << i) - 1, l = o >> 1, m = 23 === n ? Math.pow(2, -24) - Math.pow(2, -77) : 0, c = 0, u = t < 0 || 0 === t && 1 / t < 0 ? 1 : 0; for (t = Math.abs(t), isNaN(t) || t === 1 / 0 ? (r = isNaN(t) ? 1 : 0, a = o) : (a = Math.floor(Math.log(t) / Math.LN2), t * (s = Math.pow(2, -a)) < 1 && (a--, s *= 2), (t += a + l >= 1 ? m / s : m * Math.pow(2, 1 - l)) * s >= 2 && (a++, s /= 2), a + l >= o ? (r = 0, a = o) : a + l >= 1 ? (r = (t * s - 1) * Math.pow(2, n), a += l) : (r = t * Math.pow(2, l - 1) * Math.pow(2, n), a = 0)); n >= 8; e[0 + c] = 255 & r, c += 1, r /= 256, n -= 8); for (a = a << n | r, i += n; i > 0; e[0 + c] = 255 & a, c += 1, a /= 256, i -= 8); e[0 + c - 1] |= 128 * u }), w } function R() { return v || (v = 1, function (e) { var t = P && P.__importStar || function (e) { if (e && e.__esModule) return e; var t = {}; if (null != e) for (var n in e) Object.hasOwnProperty.call(e, n) && (t[n] = e[n]); return t.default = e, t }; Object.defineProperty(e, "__esModule", { value: !0 }); const n = t(I()), a = _(); function r(e) { const t = new Uint8Array(8); return n.write(t, e), t } function s(e) { const t = []; do { let n = 127 & e; 0 != (e >>>= 7) && (n |= 128), t.push(n) } while (0 !== e); return t } function i(e) { let t = [], n = 0, a = Math.ceil(Math.log2(Math.abs(e))), r = e < 0, s = !0; for (; s;)n = 127 & e, e >>= 7, r && (e |= -(1 << a - 7)), (0 != e || 64 & n) && (-1 != e || 64 & ~n) ? n |= 128 : s = !1, t.push(n); return t } e.MAGIC = [0, 97, 115, 109], e.WASM_VERSION = [1, 0, 0, 0], e.EPSILON = 1e-5, e.SECTION = { TYPE: 1, IMPORT: 2, FUNC: 3, MEMORY: 5, GLOBAL: 6, EXPORT: 7, CODE: 10 }, e.EXPORT_TYPE = { FUNC: 0, TABLE: 1, MEMORY: 2, GLOBAL: 3 }, e.op = { block: e => [2, e], loop: e => [3, e], if: e => [4, e], else: 5, end: 11, br_if: e => [13, ...s(e)], call: e => [16, ...s(e)], drop: 26, select: 27, local_get: e => [32, ...s(e)], local_set: e => [33, ...s(e)], local_tee: e => [34, ...s(e)], global_get: e => [35, ...s(e)], global_set: e => [36, ...s(e)], f64_load: (e, t) => [43, ...s(e), ...s(t)], f64_store: (e, t) => [57, ...s(e), ...s(t)], i32_const: e => [65, ...i(e)], f64_const: e => [68, ...r(e)], i32_eqz: 69, i32_ne: 71, i32_lt_s: 72, i32_lt_u: 73, i32_gt_s: 74, i32_le_s: 76, i32_le_u: 77, i32_ge_s: 78, f64_eq: 97, f64_ne: 98, f64_lt: 99, f64_gt: 100, f64_le: 101, f64_ge: 102, i32_add: 106, i32_sub: 107, i32_mul: 108, i32_rem_s: 111, i32_and: 113, i32_or: 114, i64_rem_s: 129, i64_and: 131, i64_or: 132, f64_abs: 153, f64_neg: 154, f64_ceil: 155, f64_floor: 156, f64_sqrt: 159, f64_add: 160, f64_sub: 161, f64_mul: 162, f64_div: 163, f64_min: 164, f64_max: 165, i32_trunc_f64_s: 170, i32_trunc_f64_u: 171, i64_trunc_s_f64: 176, f64_convert_i64_s: 185, f64_convert_i32_s: 183 }, e.VAL_TYPE = { i32: 127, i64: 126, f32: 125, f64: 124 }, e.MUTABILITY = { const: 0, var: 1 }, e.BLOCK = { void: 64, i32: 127, i64: 126, f32: 125, f64: 124 }, e.FUNCTION_TYPE = 96, e.MEMORY_IDX = 2, e.GLOBAL_TYPE = 3, e.TYPE_IDX = 0, e.IS_ZEROISH = [e.op.f64_abs, ...e.op.f64_const(e.EPSILON), e.op.f64_lt], e.IS_NOT_ZEROISH = [e.op.f64_abs, ...e.op.f64_const(e.EPSILON), e.op.f64_gt], e.encodef64 = r, e.encodeString = e => [e.length].concat(e.split("").map(e => e.charCodeAt(0))), e.unsignedLEB128 = s, e.signedLEB128 = i, e.encodeFlatVector = e => s(e.length).concat(e), e.encodeNestedVector = e => s(e.length).concat(a.flatten(e)), e.encodeSection = function (t, n) { if (0 === n.length) return []; const a = e.encodeFlatVector(e.encodeNestedVector(n)); return a.unshift(t), a } }(P)), P } var y, B = {}; function L() { if (y) return B; y = 1, Object.defineProperty(B, "__esModule", { value: !0 }); const e = { sin: Math.sin, cos: Math.cos, tan: Math.tan, asin: Math.asin, acos: Math.acos, atan: Math.atan, atan2: Math.atan2, rand: e => Math.random() * e, pow: Math.pow, log: Math.log, log10: Math.log10, exp: Math.exp, sigmoid: function (e, t) { const n = 1 + Math.exp(-e * t); return Math.abs(n) > 1e-5 ? 1 / n : 0 } }; return B.default = e, B } var C, U, M, F, Q = {}, V = {}; function D() { return C || (C = 1, function (e) { Object.defineProperty(e, "__esModule", { value: !0 }), e.MAX_LOOP_COUNT = 1048576, e.BUFFER_SIZE = 8388608, e.WASM_MEMORY_SIZE = Math.ceil(8 * e.BUFFER_SIZE * 2 / 65536) }(V)), V } function q() { if (U) return Q; U = 1, Object.defineProperty(Q, "__esModule", { value: !0 }); const e = R(), t = D(); return Q.localFuncMap = { sqr: { args: [e.VAL_TYPE.f64], returns: [e.VAL_TYPE.f64], binary: [...e.op.local_get(0), ...e.op.local_get(0), e.op.f64_mul] }, bor: { args: [e.VAL_TYPE.f64, e.VAL_TYPE.f64], returns: [e.VAL_TYPE.f64], binary: [...e.op.local_get(0), ...e.IS_NOT_ZEROISH, ...e.op.local_get(1), ...e.IS_NOT_ZEROISH, e.op.i32_or, ...e.op.i32_const(0), e.op.i32_ne, e.op.f64_convert_i32_s] }, band: { args: [e.VAL_TYPE.f64, e.VAL_TYPE.f64], returns: [e.VAL_TYPE.f64], binary: [...e.op.local_get(0), ...e.IS_NOT_ZEROISH, ...e.op.local_get(1), ...e.IS_NOT_ZEROISH, e.op.i32_and, ...e.op.i32_const(0), e.op.i32_ne, e.op.f64_convert_i32_s] }, sign: { args: [e.VAL_TYPE.f64], returns: [e.VAL_TYPE.f64], binary: [...e.op.f64_const(0), ...e.op.local_get(0), e.op.f64_lt, ...e.op.local_get(0), ...e.op.f64_const(0), e.op.f64_lt, e.op.i32_sub, e.op.f64_convert_i32_s] }, mod: { args: [e.VAL_TYPE.f64, e.VAL_TYPE.f64], returns: [e.VAL_TYPE.f64], localVariables: [e.VAL_TYPE.i32], binary: [...e.op.local_get(1), e.op.i32_trunc_f64_s, ...e.op.local_tee(2), ...e.op.i32_const(0), e.op.i32_ne, ...e.op.if(e.BLOCK.f64), ...e.op.local_get(0), e.op.i32_trunc_f64_s, ...e.op.local_get(2), e.op.i32_rem_s, e.op.f64_convert_i32_s, e.op.else, ...e.op.f64_const(0), e.op.end] }, bitwiseOr: { args: [e.VAL_TYPE.f64, e.VAL_TYPE.f64], returns: [e.VAL_TYPE.f64], binary: [...e.op.local_get(0), e.op.i64_trunc_s_f64, ...e.op.local_get(1), e.op.i64_trunc_s_f64, e.op.i64_or, e.op.f64_convert_i64_s] }, bitwiseAnd: { args: [e.VAL_TYPE.f64, e.VAL_TYPE.f64], returns: [e.VAL_TYPE.f64], binary: [...e.op.local_get(0), e.op.i64_trunc_s_f64, ...e.op.local_get(1), e.op.i64_trunc_s_f64, e.op.i64_and, e.op.f64_convert_i64_s] }, div: { args: [e.VAL_TYPE.f64, e.VAL_TYPE.f64], returns: [e.VAL_TYPE.f64], localVariables: [e.VAL_TYPE.i32], binary: [...e.op.local_get(1), ...e.op.f64_const(0), e.op.f64_ne, ...e.op.if(e.BLOCK.f64), ...e.op.local_get(0), ...e.op.local_get(1), e.op.f64_div, e.op.else, ...e.op.f64_const(0), e.op.end] }, _getBufferIndex: { args: [e.VAL_TYPE.f64], returns: [e.VAL_TYPE.i32], localVariables: [e.VAL_TYPE.f64, e.VAL_TYPE.i32], binary: [...e.op.f64_const(e.EPSILON), ...e.op.local_get(0), e.op.f64_add, ...e.op.local_tee(1), e.op.i32_trunc_f64_s, ...e.op.local_set(2), ...e.op.i32_const(-1), ...e.op.local_get(2), ...e.op.i32_const(8), e.op.i32_mul, ...e.op.local_get(2), ...e.op.i32_const(0), e.op.i32_lt_s, ...e.op.local_get(2), ...e.op.i32_const(t.BUFFER_SIZE - 1), e.op.i32_gt_s, e.op.i32_or, e.op.select] } }, Q } function z() { if (M) return S; M = 1; var e = S && S.__importDefault || function (e) { return e && e.__esModule ? e : { default: e } }; Object.defineProperty(S, "__esModule", { value: !0 }); const t = R(), n = e(L()), a = E(), r = q(), s = _(), i = D(); function o(e, c) { var u, A, p; switch (e.type) { case "SCRIPT": { const n = e.body.map((e, n) => [...o(e, c), t.op.drop]); return s.flatten(n) } case "EXPRESSION_BLOCK": return l(e.body, c); case "BINARY_EXPRESSION": { const n = o(e.left, c), r = o(e.right, c), s = { "+": [t.op.f64_add], "-": [t.op.f64_sub], "*": [t.op.f64_mul], "/": c.resolveFunc("div"), "%": c.resolveFunc("mod"), "|": c.resolveFunc("bitwiseOr"), "&": c.resolveFunc("bitwiseAnd"), "^": c.resolveFunc("pow"), "==": [t.op.f64_sub, ...t.IS_ZEROISH, t.op.f64_convert_i32_s], "!=": [t.op.f64_sub, ...t.IS_NOT_ZEROISH, t.op.f64_convert_i32_s], "<": [t.op.f64_lt, t.op.f64_convert_i32_s], ">": [t.op.f64_gt, t.op.f64_convert_i32_s], "<=": [t.op.f64_le, t.op.f64_convert_i32_s], ">=": [t.op.f64_ge, t.op.f64_convert_i32_s] }[e.operator]; if (null == s) throw a.createCompilerError(`Unknown binary expression operator ${e.operator}`, e.loc, c.rawSource); return [...n, ...r, ...s] } case "CALL_EXPRESSION": { const A = e.callee.value, p = e.arguments, d = t => { if (p.length < t) throw a.createUserError(`Too few arguments passed to \`${A}()\`. Expected ${t} but only got ${p.length}.`, e.loc, c.rawSource); if (p.length > t) throw a.createUserError(`Too many arguments passed to \`${A}()\`. Expected ${t} but got ${p.length}.`, p[t].loc, c.rawSource) }; switch (A) { case "exec2": return d(2), l(e.arguments, c); case "exec3": return d(3), l(e.arguments, c); case "if": d(3); const [n, r, s] = e.arguments; return function (e, n, a, r) { return [...o(e, r), ...t.IS_NOT_ZEROISH, ...t.op.if(t.BLOCK.f64), ...o(n, r), t.op.else, ...o(a, r), t.op.end] }(n, r, s, c); case "while": return d(1), function (e, n) { const a = o(e, n), r = n.resolveLocal(t.VAL_TYPE.i32); return [...t.op.i32_const(0), ...t.op.local_set(r), ...t.op.loop(t.BLOCK.void), ...t.op.local_get(r), ...t.op.i32_const(1), t.op.i32_add, ...t.op.local_tee(r), ...t.op.i32_const(i.MAX_LOOP_COUNT), t.op.i32_lt_u, ...a, ...t.IS_NOT_ZEROISH, t.op.i32_and, ...t.op.br_if(0), t.op.end, ...t.op.f64_const(0)] }(e.arguments[0], c); case "loop": return d(2), function (e, n, a) { const r = o(n, a), s = a.resolveLocal(t.VAL_TYPE.i32); return [...t.op.block(t.BLOCK.void), ...o(e, a), t.op.i32_trunc_f64_s, ...t.op.local_tee(s), ...t.op.i32_const(0), t.op.i32_le_s, ...t.op.br_if(1), ...t.op.loop(t.BLOCK.void), ...r, t.op.drop, ...t.op.local_get(s), ...t.op.i32_const(1), t.op.i32_sub, ...t.op.local_tee(s), ...t.op.i32_const(0), t.op.i32_ne, ...t.op.br_if(0), t.op.end, t.op.end, ...t.op.f64_const(0)] }(e.arguments[0], e.arguments[1], c); case "megabuf": case "gmegabuf": d(1); const p = c.resolveLocal(t.VAL_TYPE.i32); return [...o(e.arguments[0], c), ...null !== (u = c.resolveFunc("_getBufferIndex")) && void 0 !== u ? u : [], ...t.op.local_tee(p), ...t.op.i32_const(-1), t.op.i32_ne, ...t.op.if(t.BLOCK.f64), ...t.op.local_get(p), ...t.op.f64_load(3, m(A)), t.op.else, ...t.op.f64_const(0), t.op.end]; case "assign": d(2); const _ = e.arguments[0]; if ("IDENTIFIER" != _.type) throw a.createUserError("Expected the first argument of `assign()` to be an identifier.", _.loc, c.rawSource); const v = c.resolveVar(_.value); return [...o(e.arguments[1], c), ...t.op.global_set(v), ...t.op.global_get(v)] }const _ = s.flatten(e.arguments.map(e => o(e, c))); switch (A) { case "abs": return d(1), [..._, t.op.f64_abs]; case "sqrt": return d(1), [..._, t.op.f64_abs, t.op.f64_sqrt]; case "int": case "floor": return d(1), [..._, t.op.f64_floor]; case "min": return d(2), [..._, t.op.f64_min]; case "max": return d(2), [..._, t.op.f64_max]; case "above": return d(2), [..._, t.op.f64_gt, t.op.f64_convert_i32_s]; case "below": return d(2), [..._, t.op.f64_lt, t.op.f64_convert_i32_s]; case "equal": return d(2), [..._, t.op.f64_sub, ...t.IS_ZEROISH, t.op.f64_convert_i32_s]; case "bnot": return d(1), [..._, ...t.IS_ZEROISH, t.op.f64_convert_i32_s]; case "ceil": return d(1), [..._, t.op.f64_ceil] }const v = c.resolveFunc(A); if (null == v || A.startsWith("_")) throw a.createUserError(`"${A}" is not defined.`, e.callee.loc, c.rawSource); if (null != n.default[A]) d(n.default[A].length); else { if (null == r.localFuncMap[A]) throw a.createCompilerError(`Missing arity information for the function \`${A}()\``, e.callee.loc, c.rawSource); d(r.localFuncMap[A].args.length) } return [..._, ...v] } case "ASSIGNMENT_EXPRESSION": { const { left: n } = e, r = o(e.right, c), s = function (e, n) { const r = { "+=": [t.op.f64_add], "-=": [t.op.f64_sub], "*=": [t.op.f64_mul], "/=": [t.op.f64_div], "%=": n.resolveFunc("mod"), "=": null }[e.operator]; if (void 0 === r) throw a.createCompilerError(`Unknown assignment operator "${e.operator}"`, e.loc, n.rawSource); return r }(e, c); if ("IDENTIFIER" === n.type) { const e = c.resolveVar(n.value), a = t.op.global_get(e), i = t.op.global_set(e); return null === s ? [...r, ...i, ...a] : [...a, ...r, ...s, ...i, ...a] } if ("CALL_EXPRESSION" !== n.type) throw a.createCompilerError(`Unexpected left hand side type for assignment: ${n.type}`, e.loc, c.rawSource); const i = c.resolveLocal(t.VAL_TYPE.i32); if (1 !== n.arguments.length) throw a.createUserError(`Expected 1 argument when assinging to a buffer but got ${n.arguments.length}.`, 0 === n.arguments.length ? n.loc : n.arguments[1].loc, c.rawSource); const l = n.callee.value; if ("gmegabuf" !== l && "megabuf" !== l) throw a.createUserError("The only function calls which may be assigned to are `gmegabuf()` and `megabuf()`.", n.callee.loc, c.rawSource); const u = m(l); if (null === s) { const e = c.resolveLocal(t.VAL_TYPE.i32), a = c.resolveLocal(t.VAL_TYPE.f64); return [...r, ...t.op.local_set(a), ...o(n.arguments[0], c), ...null !== (A = c.resolveFunc("_getBufferIndex")) && void 0 !== A ? A : [], ...t.op.local_tee(e), ...t.op.i32_const(0), t.op.i32_lt_s, ...t.op.if(t.BLOCK.f64), ...t.op.f64_const(0), t.op.else, ...t.op.local_get(e), ...t.op.local_tee(i), ...t.op.local_get(a), ...t.op.f64_store(3, u), ...t.op.local_get(a), t.op.end] } const d = c.resolveLocal(t.VAL_TYPE.i32), _ = c.resolveLocal(t.VAL_TYPE.i32), v = c.resolveLocal(t.VAL_TYPE.f64), h = c.resolveLocal(t.VAL_TYPE.f64); return [...r, ...t.op.local_set(v), ...o(n.arguments[0], c), ...null !== (p = c.resolveFunc("_getBufferIndex")) && void 0 !== p ? p : [], ...t.op.local_tee(d), ...t.op.i32_const(-1), t.op.i32_ne, ...t.op.local_tee(_), ...t.op.if(t.BLOCK.f64), ...t.op.local_get(d), ...t.op.f64_load(3, u), t.op.else, ...t.op.f64_const(0), t.op.end, ...t.op.local_get(v), ...s, ...t.op.local_tee(h), ...t.op.local_get(_), ...t.op.if(t.BLOCK.void), ...t.op.local_get(d), ...t.op.local_get(h), ...t.op.f64_store(3, u), t.op.end] } case "LOGICAL_EXPRESSION": { const n = o(e.left, c), r = o(e.right, c), s = { "&&": { comparison: t.IS_ZEROISH, shortCircutValue: 0 }, "||": { comparison: t.IS_NOT_ZEROISH, shortCircutValue: 1 } }[e.operator]; if (null == s) throw a.createCompilerError(`Unknown logical expression operator ${e.operator}`, e.loc, c.rawSource); const { comparison: i, shortCircutValue: l } = s; return [...n, ...i, ...t.op.if(t.BLOCK.f64), ...t.op.f64_const(l), t.op.else, ...r, ...t.IS_NOT_ZEROISH, t.op.f64_convert_i32_s, t.op.end] } case "UNARY_EXPRESSION": { const n = o(e.value, c), r = { "-": [t.op.f64_neg], "+": [], "!": [...t.IS_ZEROISH, t.op.f64_convert_i32_s] }[e.operator]; if (null == r) throw a.createCompilerError(`Unknown logical unary operator ${e.operator}`, e.loc, c.rawSource); return [...n, ...r] } case "IDENTIFIER": const d = e.value; return t.op.global_get(c.resolveVar(d)); case "NUMBER_LITERAL": return t.op.f64_const(e.value); default: throw a.createCompilerError(`Unknown AST node type ${e.type}`, e.loc, c.rawSource) } } function l(e, n) { const a = e.map((e, t) => o(e, n)); return s.flatten(s.arrayJoin(a, [t.op.drop])) } function m(e) { switch (e) { case "gmegabuf": return 8 * i.BUFFER_SIZE; case "megabuf": return 0 } } return S.emit = o, S } function N() { if (F) return T; F = 1; var e = T && T.__importDefault || function (e) { return e && e.__esModule ? e : { default: e } }, t = T && T.__importStar || function (e) { if (e && e.__esModule) return e; var t = {}; if (null != e) for (var n in e) Object.hasOwnProperty.call(e, n) && (t[n] = e[n]); return t.default = e, t }; Object.defineProperty(T, "__esModule", { value: !0 }); const n = b(), a = z(), r = R(), s = e(L()), i = t(_()), o = q(), l = D(); return T.compileModule = function ({ pools: e, functions: t, eelVersion: m = 2, preParsed: c = !1 }) { if (Object.keys(e).includes("shims")) throw new Error('You may not name a pool "shims". "shims" is reserved for injected JavaScript functions.'); const u = []; Object.entries(e).forEach(([e, t]) => { t.forEach(t => { u.push([e, t]) }) }); const A = new i.ScopedIdMap; u.forEach(([e, t]) => { A.get(e, t) }); const p = Object.entries(s.default).map(([e, t]) => ({ args: new Array(t.length).fill(null).map(e => r.VAL_TYPE.f64), returns: [r.VAL_TYPE.f64], name: e })), d = [], _ = []; Object.entries(t).forEach(([t, { pool: s, code: l }]) => { if (null == e[s]) { const n = Object.keys(e); if (0 === n.length) throw new Error(`The function "${t}" was declared as using a variable pool named "${s}" but no pools were defined.`); throw new Error(`The function "${t}" was declared as using a variable pool named "${s}" which is not among the variable pools defined. The defined variable pools are: ${i.formatList(n)}.`) } const u = c ? l : n.parse(l); if ("string" == typeof u) throw new Error("Got passed unparsed code without setting the preParsed flag"); if ("SCRIPT" !== u.type) throw new Error("Invalid AST"); if (0 === u.body.length) return; const v = [], h = { resolveVar: e => /^reg\d\d$/.test(e) ? A.get(null, e) : A.get(s, e), resolveLocal: e => (v.push(e), v.length - 1), resolveFunc: e => { const t = p.findIndex(t => t.name === e); if (-1 !== t) { const n = r.op.call(t); return "rand" === e && 1 === m ? [...n, r.op.f64_floor] : n } if (null == o.localFuncMap[e]) return null; let n = d.indexOf(e); return -1 === n && (d.push(e), n = d.length - 1), r.op.call(n + p.length) }, rawSource: l }, g = a.emit(u, h); _.push({ binary: g, exportName: t, args: [], returns: [], localVariables: v }) }); const v = d.map(e => { const t = o.localFuncMap[e]; if (null == t) throw new Error(`Undefined local function "${e}"`); return t }), h = e => [...e.args, "|", ...e.returns].join("-"), g = [], f = new Map; function b(e) { const t = h(e), n = f.get(t); if (null == n) throw new Error(`Failed to get a type index for key ${t}`); return n } [...p, ...v, ..._].forEach(e => { const t = h(e); f.has(t) || (g.push([r.FUNCTION_TYPE, ...r.encodeFlatVector(e.args), ...r.encodeFlatVector(e.returns)]), f.set(t, g.length - 1)) }); const x = [...u.map(([e, t]) => [...r.encodeString(e), ...r.encodeString(t), r.GLOBAL_TYPE, r.VAL_TYPE.f64, r.MUTABILITY.var]), ...p.map((e, t) => { const n = b(e); return [...r.encodeString("shims"), ...r.encodeString(e.name), r.TYPE_IDX, ...r.unsignedLEB128(n)] })], y = [...v, ..._].map(e => { const t = b(e); return r.unsignedLEB128(t) }), w = [[1, ...r.unsignedLEB128(l.WASM_MEMORY_SIZE), ...r.unsignedLEB128(l.WASM_MEMORY_SIZE)]], E = A.size() - u.length, S = i.times(E, () => [r.VAL_TYPE.f64, r.MUTABILITY.var, ...r.op.f64_const(0), r.op.end]), z = [..._].map((e, t) => { const n = t + p.length + v.length; return [...r.encodeString(e.exportName), r.EXPORT_TYPE.FUNC, ...r.unsignedLEB128(n)] }), q = [...v, ..._].map(e => { var t; const n = (null !== (t = e.localVariables) && void 0 !== t ? t : []).map(e => [...r.unsignedLEB128(1), e]); return r.encodeFlatVector([...r.encodeNestedVector(n), ...e.binary, r.op.end]) }); return new Uint8Array([...r.MAGIC, ...r.WASM_VERSION, ...r.encodeSection(r.SECTION.TYPE, g), ...r.encodeSection(r.SECTION.IMPORT, x), ...r.encodeSection(r.SECTION.FUNC, y), ...r.encodeSection(r.SECTION.MEMORY, w), ...r.encodeSection(r.SECTION.GLOBAL, S), ...r.encodeSection(r.SECTION.EXPORT, z), ...r.encodeSection(r.SECTION.CODE, q)]) }, T } var X, O, k = {}, G = function () { if (O) return i; O = 1; var e = i && i.__importDefault || function (e) { return e && e.__esModule ? e : { default: e } }; Object.defineProperty(i, "__esModule", { value: !0 }); const t = b(); i.parse = t.parse; const n = N(); i.compileModule = n.compileModule; const a = e(L()); i.shims = a.default; const r = function () { if (X) return k; X = 1; var e = k && k.__importDefault || function (e) { return e && e.__esModule ? e : { default: e } }; Object.defineProperty(k, "__esModule", { value: !0 }); const t = e(L()), n = N(); return k.loadModule = async function ({ pools: e, functions: a, eelVersion: r = 2 }) { let s = {}; Object.entries(e).forEach(([e, t]) => { s[e] = new Set(Object.keys(t)) }); const i = n.compileModule({ pools: s, functions: a, eelVersion: r }), o = await WebAssembly.compile(i); var l = Object.assign(Object.assign({}, e), { shims: t.default }); return await WebAssembly.instantiate(o, l) }, k }(); return i.loadModule = r.loadModule, i }(); const Y = "undefined" != typeof BigUint64Array, W = Symbol(), J = new TextDecoder("utf-16le"); function K(e, t) { const n = new Uint32Array(e)[t + -4 >>> 2] >>> 1, a = new Uint16Array(e, t, n); return n <= 32 ? String.fromCharCode.apply(String, a) : J.decode(a) } function j(e) { const t = {}; function n(e, t) { return e ? K(e.buffer, t) : "<yet unknown>" } const a = e.env = e.env || {}; return a.abort = a.abort || function (e, r, s, i) { const o = t.memory || a.memory; throw Error(`abort: ${n(o, e)} at ${n(o, r)}:${s}:${i}`) }, a.trace = a.trace || function (e, n, ...r) { t.memory || a.memory }, a.seed = a.seed || Date.now, e.Math = e.Math || Math, e.Date = e.Date || Date, t } function H(e, t) { const n = t.exports, a = n.memory, r = n.table, s = n.__new, i = n.__retain, o = n.__rtti_base || -1; function l(e) { const t = function (e) { const t = new Uint32Array(a.buffer); if ((e >>>= 0) >= t[o >>> 2]) throw Error(`invalid id: ${e}`); return t[(o + 4 >>> 2) + 2 * e] }(e); if (!(7 & t)) throw Error(`not an array: ${e}, flags=${t}`); return t } function m(e) { const t = new Uint32Array(a.buffer); if ((e >>>= 0) >= t[o >>> 2]) throw Error(`invalid id: ${e}`); return t[(o + 4 >>> 2) + 2 * e + 1] } function c(e) { return 31 - Math.clz32(e >>> 6 & 31) } function u(e, t, n) { const r = a.buffer; if (n) switch (e) { case 2: return new Float32Array(r); case 3: return new Float64Array(r) } else switch (e) { case 0: return new (t ? Int8Array : Uint8Array)(r); case 1: return new (t ? Int16Array : Uint16Array)(r); case 2: return new (t ? Int32Array : Uint32Array)(r); case 3: return new (t ? BigInt64Array : BigUint64Array)(r) }throw Error(`unsupported align: ${e}`) } function A(e) { const t = new Uint32Array(a.buffer), n = l(t[e + -8 >>> 2]), r = c(n); let s = 4 & n ? e : t[e + 4 >>> 2]; const i = 2 & n ? t[e + 12 >>> 2] : t[s + -4 >>> 2] >>> r; return u(r, 2048 & n, 4096 & n).subarray(s >>>= r, s + i) } function p(e, t, n) { return new e(d(e, t, n)) } function d(e, t, n) { const r = a.buffer, s = new Uint32Array(r), i = s[n + 4 >>> 2]; return new e(r, i, s[i + -4 >>> 2] >>> t) } function _(t, n, a) { e[`__get${n}`] = p.bind(null, t, a), e[`__get${n}View`] = d.bind(null, t, a) } return e.__newString = function (e) { if (null == e) return 0; const t = e.length, n = s(t << 1, 1), r = new Uint16Array(a.buffer); for (var i = 0, o = n >>> 1; i < t; ++i)r[o + i] = e.charCodeAt(i); return n }, e.__getString = function (e) { if (!e) return null; const t = a.buffer; if (1 !== new Uint32Array(t)[e + -8 >>> 2]) throw Error(`not a string: ${e}`); return K(t, e) }, e.__newArray = function (e, t) { const n = l(e), r = c(n), o = t.length, m = s(o << r, 4 & n ? e : 0); let A; if (4 & n) A = m; else { const t = s(2 & n ? 16 : 12, e), l = new Uint32Array(a.buffer); l[t + 0 >>> 2] = i(m), l[t + 4 >>> 2] = m, l[t + 8 >>> 2] = o << r, 2 & n && (l[t + 12 >>> 2] = o), A = t } const p = u(r, 2048 & n, 4096 & n); if (16384 & n) for (let a = 0; a < o; ++a)p[(m >>> r) + a] = i(t[a]); else p.set(t, m >>> r); return A }, e.__getArrayView = A, e.__getArray = function (e) { const t = A(e), n = t.length, a = new Array(n); for (let r = 0; r < n; r++)a[r] = t[r]; return a }, e.__getArrayBuffer = function (e) { const t = a.buffer, n = new Uint32Array(t)[e + -4 >>> 2]; return t.slice(e, e + n) }, [Int8Array, Uint8Array, Uint8ClampedArray, Int16Array, Uint16Array, Int32Array, Uint32Array, Float32Array, Float64Array].forEach(e => { _(e, e.name, 31 - Math.clz32(e.BYTES_PER_ELEMENT)) }), Y && [BigUint64Array, BigInt64Array].forEach(e => { _(e, e.name.slice(3), 3) }), e.__instanceof = function (e, t) { const n = new Uint32Array(a.buffer); let r = n[e + -8 >>> 2]; if (r <= n[o >>> 2]) do { if (r == t) return !0; r = m(r) } while (r); return !1 }, e.memory = e.memory || a, e.table = e.table || r, it(n, e) } function Z(e) { return "undefined" != typeof Response && e instanceof Response } function $(e) { return e instanceof WebAssembly.Module } async function tt(e, t = {}) { if (Z(e = await e)) return et(e, t); const n = $(e) ? e : await WebAssembly.compile(e), a = j(t), r = await WebAssembly.instantiate(n, t); return { module: n, instance: r, exports: H(a, r) } } async function et(e, t = {}) { if (!WebAssembly.instantiateStreaming) return tt(Z(e = await e) ? e.arrayBuffer() : e, t); const n = j(t), a = await WebAssembly.instantiateStreaming(e, t), r = H(n, a.instance); return { ...a, exports: r } } function it(e, t = {}) { const n = e.__argumentsLength ? t => { e.__argumentsLength.value = t } : e.__setArgumentsLength || e.__setargc || (() => { }); for (let a in e) { if (!Object.prototype.hasOwnProperty.call(e, a)) continue; const r = e[a]; let s = a.split("."), i = t; for (; s.length > 1;) { let e = s.shift(); Object.prototype.hasOwnProperty.call(i, e) || (i[e] = {}), i = i[e] } let o = s[0], l = o.indexOf("#"); if (l >= 0) { const t = o.substring(0, l), s = i[t]; if (void 0 === s || !s.prototype) { const e = function (...t) { return e.wrap(e.prototype.constructor(0, ...t)) }; e.prototype = { valueOf() { return this[W] } }, e.wrap = function (t) { return Object.create(e.prototype, { [W]: { value: t, writable: !1 } }) }, s && Object.getOwnPropertyNames(s).forEach(t => Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(s, t))), i[t] = e } if (o = o.substring(l + 1), i = i[t].prototype, /^(get|set):/.test(o)) { if (!Object.prototype.hasOwnProperty.call(i, o = o.substring(4))) { let t = e[a.replace("set:", "get:")], n = e[a.replace("get:", "set:")]; Object.defineProperty(i, o, { get() { return t(this[W]) }, set(e) { n(this[W], e) }, enumerable: !0 }) } } else "constructor" === o ? (i[o] = (...e) => (n(e.length), r(...e))).original = r : (i[o] = function (...e) { return n(e.length), r(this[W], ...e) }).original = r } else /^(get|set):/.test(o) ? Object.prototype.hasOwnProperty.call(i, o = o.substring(4)) || Object.defineProperty(i, o, { get: e[a.replace("set:", "get:")], set: e[a.replace("get:", "set:")], enumerable: !0 }) : "function" == typeof r && r !== n ? (i[o] = (...e) => (n(e.length), r(...e))).original = r : i[o] = r } return t } var st = { instantiate: tt, instantiateSync: function (e, t = {}) { const n = $(e) ? e : new WebAssembly.Module(e), a = j(t), r = new WebAssembly.Instance(n, t); return { module: n, instance: r, exports: H(a, r) } }, instantiateStreaming: et, demangle: it }; class rt { constructor(e, t, n = !1) { this.samplesIn = e, this.samplesOut = t, this.equalize = n, this.NFREQ = 2 * t, this.equalize && this.initEqualizeTable(), this.initBitRevTable(), this.initCosSinTable() } initEqualizeTable() { this.equalizeArr = new Float32Array(this.samplesOut); const e = 1 / this.samplesOut; for (let t = 0; t < this.samplesOut; t++)this.equalizeArr[t] = -.02 * Math.log((this.samplesOut - t) * e) } initBitRevTable() { this.bitrevtable = new Uint16Array(this.NFREQ); for (let t = 0; t < this.NFREQ; t++)this.bitrevtable[t] = t; let e = 0; for (let t = 0; t < this.NFREQ; t++) { if (e > t) { const n = this.bitrevtable[t]; this.bitrevtable[t] = this.bitrevtable[e], this.bitrevtable[e] = n } let n = this.NFREQ >> 1; for (; n >= 1 && e >= n;)e -= n, n >>= 1; e += n } } initCosSinTable() { let e = 2, t = 0; for (; e <= this.NFREQ;)t += 1, e <<= 1; this.cossintable = [new Float32Array(t), new Float32Array(t)], e = 2; let n = 0; for (; e <= this.NFREQ;) { const t = -2 * Math.PI / e; this.cossintable[0][n] = Math.cos(t), this.cossintable[1][n] = Math.sin(t), n += 1, e <<= 1 } } timeToFrequencyDomain(e) { const t = new Float32Array(this.NFREQ), n = new Float32Array(this.NFREQ); for (let i = 0; i < this.NFREQ; i++) { const a = this.bitrevtable[i]; a < this.samplesIn ? t[i] = e[a] : t[i] = 0, n[i] = 0 } let a = 2, r = 0; for (; a <= this.NFREQ;) { const e = this.cossintable[0][r], s = this.cossintable[1][r]; let i = 1, o = 0; const l = a >> 1; for (let r = 0; r < l; r++) { for (let e = r; e < this.NFREQ; e += a) { const a = e + l, r = i * t[a] - o * n[a], s = i * n[a] + o * t[a]; t[a] = t[e] - r, n[a] = n[e] - s, t[e] += r, n[e] += s } const m = i; i = m * e - o * s, o = o * e + m * s } a <<= 1, r += 1 } const s = new Float32Array(this.samplesOut); if (this.equalize) for (let i = 0; i < this.samplesOut; i++)s[i] = this.equalizeArr[i] * Math.sqrt(t[i] * t[i] + n[i] * n[i]); else for (let i = 0; i < this.samplesOut; i++)s[i] = Math.sqrt(t[i] * t[i] + n[i] * n[i]); return s } } class at { constructor(e) { this.numSamps = 512, this.fftSize = 2 * this.numSamps, this.fft = new rt(this.fftSize, 512, !0), e && (this.audioContext = e, this.audible = e.createDelay(), this.analyser = e.createAnalyser(), this.analyser.smoothingTimeConstant = 0, this.analyser.fftSize = this.fftSize, this.audible.connect(this.analyser), this.analyserL = e.createAnalyser(), this.analyserL.smoothingTimeConstant = 0, this.analyserL.fftSize = this.fftSize, this.analyserR = e.createAnalyser(), this.analyserR.smoothingTimeConstant = 0, this.analyserR.fftSize = this.fftSize, this.splitter = e.createChannelSplitter(2), this.audible.connect(this.splitter), this.splitter.connect(this.analyserL, 0), this.splitter.connect(this.analyserR, 1)), this.timeByteArray = new Uint8Array(this.fftSize), this.timeByteArrayL = new Uint8Array(this.fftSize), this.timeByteArrayR = new Uint8Array(this.fftSize), this.timeArray = new Int8Array(this.fftSize), this.timeByteArraySignedL = new Int8Array(this.fftSize), this.timeByteArraySignedR = new Int8Array(this.fftSize), this.tempTimeArrayL = new Int8Array(this.fftSize), this.tempTimeArrayR = new Int8Array(this.fftSize), this.timeArrayL = new Int8Array(this.numSamps), this.timeArrayR = new Int8Array(this.numSamps) } sampleAudio() { this.analyser.getByteTimeDomainData(this.timeByteArray), this.analyserL.getByteTimeDomainData(this.timeByteArrayL), this.analyserR.getByteTimeDomainData(this.timeByteArrayR), this.processAudio() } updateAudio(e, t, n) { this.timeByteArray.set(e), this.timeByteArrayL.set(t), this.timeByteArrayR.set(n), this.processAudio() } processAudio() { for (let e = 0, t = 0, n = 0; e < this.fftSize; e++)this.timeArray[e] = this.timeByteArray[e] - 128, this.timeByteArraySignedL[e] = this.timeByteArrayL[e] - 128, this.timeByteArraySignedR[e] = this.timeByteArrayR[e] - 128, this.tempTimeArrayL[e] = .5 * (this.timeByteArraySignedL[e] + this.timeByteArraySignedL[n]), this.tempTimeArrayR[e] = .5 * (this.timeByteArraySignedR[e] + this.timeByteArraySignedR[n]), e % 2 == 0 && (this.timeArrayL[t] = this.tempTimeArrayL[e], this.timeArrayR[t] = this.tempTimeArrayR[e], t += 1), n = e; this.freqArray = this.fft.timeToFrequencyDomain(this.timeArray), this.freqArrayL = this.fft.timeToFrequencyDomain(this.timeByteArraySignedL), this.freqArrayR = this.fft.timeToFrequencyDomain(this.timeByteArraySignedR) } connectAudio(e) { e.connect(this.audible) } disconnectAudio(e) { e.disconnect(this.audible) } } class ot { constructor(e) { let t; this.audio = e, t = this.audio.audioContext ? this.audio.audioContext.sampleRate : 44100; const n = t / this.audio.fftSize, a = Math.clamp(Math.round(20 / n) - 1, 0, this.audio.numSamps - 1), r = Math.clamp(Math.round(320 / n) - 1, 0, this.audio.numSamps - 1), s = Math.clamp(Math.round(2800 / n) - 1, 0, this.audio.numSamps - 1), i = Math.clamp(Math.round(11025 / n) - 1, 0, this.audio.numSamps - 1); this.starts = [a, r, s], this.stops = [r, s, i], this.val = new Float32Array(3), this.imm = new Float32Array(3), this.att = new Float32Array(3), this.avg = new Float32Array(3), this.longAvg = new Float32Array(3), this.att.fill(1), this.avg.fill(1), this.longAvg.fill(1) } get bass() { return this.val[0] } get bass_att() { return this.att[0] } get mid() { return this.val[1] } get mid_att() { return this.att[1] } get treb() { return this.val[2] } get treb_att() { return this.att[2] } static isFiniteNumber(e) { return Number.isFinite(e) && !Number.isNaN(e) } static adjustRateToFPS(e, t, n) { return e ** (t / n) } updateAudioLevels(e, t) { if (this.audio.freqArray.length > 0) { let n = e; !ot.isFiniteNumber(n) || n < 15 ? n = 15 : n > 144 && (n = 144), this.imm.fill(0); for (let e = 0; e < 3; e++)for (let t = this.starts[e]; t < this.stops[e]; t++)this.imm[e] += this.audio.freqArray[t]; for (let e = 0; e < 3; e++) { let a; a = this.imm[e] > this.avg[e] ? .2 : .5, a = ot.adjustRateToFPS(a, 30, n), this.avg[e] = this.avg[e] * a + this.imm[e] * (1 - a), a = t < 50 ? .9 : .992, a = ot.adjustRateToFPS(a, 30, n), this.longAvg[e] = this.longAvg[e] * a + this.imm[e] * (1 - a), this.longAvg[e] < .001 ? (this.val[e] = 1, this.att[e] = 1) : (this.val[e] = this.imm[e] / this.longAvg[e], this.att[e] = this.avg[e] / this.longAvg[e]) } } } } const ht = { baseVals: { gammaadj: 1.25, wave_g: .5, mv_x: 12, warpscale: 1, brighten: 0, mv_y: 9, wave_scale: 1, echo_alpha: 0, additivewave: 0, sx: 1, sy: 1, warp: .01, red_blue: 0, wave_mode: 0, wave_brighten: 0, wrap: 0, zoomexp: 1, fshader: 0, wave_r: .5, echo_zoom: 1, wave_smoothing: .75, warpanimspeed: 1, wave_dots: 0, wave_x: .5, wave_y: .5, zoom: 1, solarize: 0, modwavealphabyvolume: 0, dx: 0, cx: .5, dy: 0, darken_center: 0, cy: .5, invert: 0, bmotionvectorson: 0, rot: 0, modwavealphaend: .95, wave_mystery: -.2, decay: .9, wave_a: 1, wave_b: .5, rating: 5, modwavealphastart: .75, darken: 0, echo_orient: 0, ib_r: .5, ib_g: .5, ib_b: .5, ib_a: 0, ib_size: 0, ob_r: .5, ob_g: .5, ob_b: .5, ob_a: 0, ob_size: 0, mv_dx: 0, mv_dy: 0, mv_a: 0, mv_r: .5, mv_g: .5, mv_b: .5, mv_l: 0 }, init_eqs: function () { return {} }, frame_eqs: function (e) { return e.rkeys = ["warp"], e.zoom = 1.01 + .02 * e.treb_att, e.warp = .15 + .25 * e.bass_att, e }, pixel_eqs: function (e) { return e.warp = e.warp + .15 * e.rad, e }, waves: [{ baseVals: { a: 1, enabled: 0, b: 1, g: 1, scaling: 1, samples: 512, additive: 0, usedots: 0, spectrum: 0, r: 1, smoothing: .5, thick: 0, sep: 0 }, init_eqs: function (e) { return e.rkeys = [], e }, frame_eqs: function (e) { return e }, point_eqs: "" }, { baseVals: { a: 1, enabled: 0, b: 1, g: 1, scaling: 1, samples: 512, additive: 0, usedots: 0, spectrum: 0, r: 1, smoothing: .5, thick: 0, sep: 0 }, init_eqs: function (e) { return e.rkeys = [], e }, frame_eqs: function (e) { return e }, point_eqs: "" }, { baseVals: { a: 1, enabled: 0, b: 1, g: 1, scaling: 1, samples: 512, additive: 0, usedots: 0, spectrum: 0, r: 1, smoothing: .5, thick: 0, sep: 0 }, init_eqs: function (e) { return e.rkeys = [], e }, frame_eqs: function (e) { return e }, point_eqs: "" }, { baseVals: { a: 1, enabled: 0, b: 1, g: 1, scaling: 1, samples: 512, additive: 0, usedots: 0, spectrum: 0, r: 1, smoothing: .5, thick: 0, sep: 0 }, init_eqs: function (e) { return e.rkeys = [], e }, frame_eqs: function (e) { return e }, point_eqs: "" }], shapes: [{ baseVals: { r2: 0, a: 1, enabled: 0, b: 0, tex_ang: 0, thickoutline: 0, g: 0, textured: 0, g2: 1, tex_zoom: 1, additive: 0, border_a: .1, border_b: 1, b2: 0, a2: 0, r: 1, border_g: 1, rad: .1, x: .5, y: .5, ang: 0, sides: 4, border_r: 1 }, init_eqs: function (e) { return e.rkeys = [], e }, frame_eqs: function (e) { return e } }, { baseVals: { r2: 0, a: 1, enabled: 0, b: 0, tex_ang: 0, thickoutline: 0, g: 0, textured: 0, g2: 1, tex_zoom: 1, additive: 0, border_a: .1, border_b: 1, b2: 0, a2: 0, r: 1, border_g: 1, rad: .1, x: .5, y: .5, ang: 0, sides: 4, border_r: 1 }, init_eqs: function (e) { return e.rkeys = [], e }, frame_eqs: function (e) { return e } }, { baseVals: { r2: 0, a: 1, enabled: 0, b: 0, tex_ang: 0, thickoutline: 0, g: 0, textured: 0, g2: 1, tex_zoom: 1, additive: 0, border_a: .1, border_b: 1, b2: 0, a2: 0, r: 1, border_g: 1, rad: .1, x: .5, y: .5, ang: 0, sides: 4, border_r: 1 }, init_eqs: function (e) { return e.rkeys = [], e }, frame_eqs: function (e) { return e } }, { baseVals: { r2: 0, a: 1, enabled: 0, b: 0, tex_ang: 0, thickoutline: 0, g: 0, textured: 0, g2: 1, tex_zoom: 1, additive: 0, border_a: .1, border_b: 1, b2: 0, a2: 0, r: 1, border_g: 1, rad: .1, x: .5, y: .5, ang: 0, sides: 4, border_r: 1 }, init_eqs: function (e) { return e.rkeys = [], e }, frame_eqs: function (e) { return e } }], warp: "shader_body {\nret = texture2D(sampler_main, uv).rgb;\nret -= 0.004;\n}\n", comp: "shader_body {\nret = texture2D(sampler_main, uv).rgb;\nret *= hue_shader;\n}\n" }; class At { static atan2(e, t) { let n = Math.atan2(e, t); return n < 0 && (n += 2 * Math.PI), n } static cloneVars(e) { return Object.assign({}, e) } static range(e, t) { return void 0 === t ? [...Array(e).keys()] : Array.from({ length: t - e }, (t, n) => n + e) } static pick(e, t) { const n = {}; for (let a = 0; a < t.length; a++) { const r = t[a]; n[r] = e[r] || 0 } return n } static omit(e, t) { const n = Object.assign({}, e); for (let a = 0; a < t.length; a++)delete n[t[a]]; return n } static setWasm(e, t, n) { for (let a = 0; a < n.length; a++) { const r = n[a]; e[r].value = t[r] } } static pickWasm(e, t) { const n = {}; for (let a = 0; a < t.length; a++) { const r = t[a]; n[r] = e[r].value } return n } } class nt { constructor(e = 1) { this.state = new Uint32Array(4), nt.initializeState(this.state, e), this.warmUp() } static initializeState(e, t) { e[0] = t, e[1] = 2654435769 ^ t, e[2] = 1779033703 ^ t, e[3] = 3144134277 ^ t } warmUp() { for (let e = 0; e < 10; e++)this.next() } next() { let e = this.state[3], t = this.state[0]; return this.state[3] = this.state[2], this.state[2] = this.state[1], this.state[1] = t, e ^= e << 11, e ^= e >>> 8, this.state[0] = e ^ t ^ t >>> 19, (this.state[0] >>> 0) / 4294967296 } nextInt(e) { return Math.floor(this.next() * e) } rand(e) { return e < 1 ? this.next() : Math.floor(this.next() * Math.floor(e)) } reset(e) { nt.initializeState(this.state, e), this.warmUp() } } function lt() { return { random: Math.random, rand: e => e < 1 ? Math.random() : Math.random() * Math.floor(e), randint: e => Math.floor((e < 1 ? Math.random() : Math.random() * Math.floor(e)) + 1), getRNG: () => null, reset: () => { } } } let ct = null; function gt(e = {}) { return ct = e.deterministic || e.testMode ? function (e = 1) { const t = new nt(e); return { random: () => t.next(), rand: e => t.rand(e), randint: e => Math.floor(t.rand(e) + 1), getRNG: () => t, reset: n => { void 0 !== n ? t.reset(n) : t.reset(e) } } }(e.seed || 12345) : lt(), (e.deterministic || e.testMode) && (window.rand = e => ct.rand(e), window.randint = e => ct.randint(e), Math.random = () => ct.random()), ct } function mt() { return ct || (ct = lt()), ct } class ut { constructor(e, t, n) { this.rng = mt(), this.preset = e, this.texsizeX = n.texsizeX, this.texsizeY = n.texsizeY, this.mesh_width = n.mesh_width, this.mesh_height = n.mesh_height, this.aspectx = n.aspectx, this.aspecty = n.aspecty, this.invAspectx = 1 / this.aspectx, this.invAspecty = 1 / this.aspecty, this.qs = At.range(1, 33).map(e => `q${e}`), this.ts = At.range(1, 9).map(e => `t${e}`), this.regs = At.range(100).map(e => e < 10 ? `reg0${e}` : `reg${e}`), this.initializeEquations(t) } initializeEquations(e) { this.runVertEQs = "" !== this.preset.pixel_eqs, this.mdVSQInit = null, this.mdVSRegs = null, this.mdVSFrame = null, this.mdVSUserKeys = null, this.mdVSFrameMap = null, this.mdVSShapes = null, this.mdVSUserKeysShapes = null, this.mdVSFrameMapShapes = null, this.mdVSWaves = null, this.mdVSUserKeysWaves = null, this.mdVSFrameMapWaves = null, this.mdVSQAfterFrame = null, this.gmegabuf = new Array(1048576).fill(0); const t = { frame: e.frame, time: e.time, fps: e.fps, bass: e.bass, bass_att: e.bass_att, mid: e.mid, mid_att: e.mid_att, treb: e.treb, treb_att: e.treb_att, meshx: this.mesh_width, meshy: this.mesh_height, aspectx: this.invAspectx, aspecty: this.invAspecty, pixelsx: this.texsizeX, pixelsy: this.texsizeY, gmegabuf: this.gmegabuf }; this.mdVS = Object.assign({}, this.preset.baseVals, t), this.mdVS.megabuf = new Array(1048576).fill(0), this.mdVS.rand_start = new Float32Array([this.rng.random(), this.rng.random(), this.rng.random(), this.rng.random()]), this.mdVS.rand_preset = new Float32Array([this.rng.random(), this.rng.random(), this.rng.random(), this.rng.random()]); const n = this.qs.concat(this.regs, Object.keys(this.mdVS)), a = this.preset.init_eqs(At.cloneVars(this.mdVS)); this.mdVSQInit = At.pick(a, this.qs), this.mdVSRegs = At.pick(a, this.regs); const r = At.pick(a, Object.keys(At.omit(a, n))); if (r.megabuf = a.megabuf, r.gmegabuf = a.gmegabuf, this.mdVSFrame = this.preset.frame_eqs(Object.assign({}, this.mdVS, this.mdVSQInit, this.mdVSRegs, r)), this.mdVSUserKeys = Object.keys(At.omit(this.mdVSFrame, n)), this.mdVSFrameMap = At.pick(this.mdVSFrame, this.mdVSUserKeys), this.mdVSQAfterFrame = At.pick(this.mdVSFrame, this.qs), this.mdVSRegs = At.pick(this.mdVSFrame, this.regs), this.mdVSWaves = [], this.mdVSTWaveInits = [], this.mdVSUserKeysWaves = [], this.mdVSFrameMapWaves = [], this.preset.waves && this.preset.waves.length > 0) for (let s = 0; s < this.preset.waves.length; s++) { const e = this.preset.waves[s], n = e.baseVals; if (0 !== n.enabled) { let a = Object.assign({}, n, t); const r = this.qs.concat(this.ts, this.regs, Object.keys(a)); Object.assign(a, this.mdVSQAfterFrame, this.mdVSRegs), a.megabuf = new Array(1048576).fill(0), e.init_eqs && (a = e.init_eqs(a), this.mdVSRegs = At.pick(a, this.regs), Object.assign(a, n)), this.mdVSWaves.push(a), this.mdVSTWaveInits.push(At.pick(a, this.ts)), this.mdVSUserKeysWaves.push(Object.keys(At.omit(a, r))), this.mdVSFrameMapWaves.push(At.pick(a, this.mdVSUserKeysWaves[s])) } else this.mdVSWaves.push({}), this.mdVSTWaveInits.push({}), this.mdVSUserKeysWaves.push([]), this.mdVSFrameMapWaves.push({}) } if (this.mdVSShapes = [], this.mdVSTShapeInits = [], this.mdVSUserKeysShapes = [], this.mdVSFrameMapShapes = [], this.preset.shapes && this.preset.shapes.length > 0) for (let s = 0; s < this.preset.shapes.length; s++) { const e = this.preset.shapes[s], n = e.baseVals; if (0 !== n.enabled) { let a = Object.assign({}, n, t); const r = this.qs.concat(this.ts, this.regs, Object.keys(a)); Object.assign(a, this.mdVSQAfterFrame, this.mdVSRegs), a.megabuf = new Array(1048576).fill(0), e.init_eqs && (a = e.init_eqs(a), this.mdVSRegs = At.pick(a, this.regs), Object.assign(a, n)), this.mdVSShapes.push(a), this.mdVSTShapeInits.push(At.pick(a, this.ts)), this.mdVSUserKeysShapes.push(Object.keys(At.omit(a, r))), this.mdVSFrameMapShapes.push(At.pick(a, this.mdVSUserKeysShapes[s])) } else this.mdVSShapes.push({}), this.mdVSTShapeInits.push({}), this.mdVSUserKeysShapes.push([]), this.mdVSFrameMapShapes.push({}) } } updatePreset(e, t) { this.preset = e, this.initializeEquations(t) } updateGlobals(e) { this.texsizeX = e.texsizeX, this.texsizeY = e.texsizeY, this.mesh_width = e.mesh_width, this.mesh_height = e.mesh_height, this.aspectx = e.aspectx, this.aspecty = e.aspecty, this.invAspectx = 1 / this.aspectx, this.invAspecty = 1 / this.aspecty } runFrameEquations(e) { return this.mdVSFrame = Object.assign({}, this.mdVS, this.mdVSQInit, this.mdVSFrameMap, e), this.mdVSFrame = this.preset.frame_eqs(this.mdVSFrame), this.mdVSFrameMap = At.pick(this.mdVSFrame, this.mdVSUserKeys), this.mdVSQAfterFrame = At.pick(this.mdVSFrame, this.qs), this.mdVSFrame } runPixelEquations(e) { return this.preset.pixel_eqs(e) } runShapeFrameEquations(e, t) { return this.preset.shapes[e].frame_eqs(t) } runWaveFrameEquations(e, t) { return this.preset.waves[e].frame_eqs(t) } runWavePointEquations(e, t) { return this.preset.waves[e].point_eqs(t) } } class ft { constructor(e, t, n) { this.rng = mt(), this.preset = e, this.texsizeX = n.texsizeX, this.texsizeY = n.texsizeY, this.mesh_width = n.mesh_width, this.mesh_height = n.mesh_height, this.aspectx = n.aspectx, this.aspecty = n.aspecty, this.invAspectx = 1 / this.aspectx, this.invAspecty = 1 / this.aspecty, this.qs = At.range(1, 33).map(e => `q${e}`), this.ts = At.range(1, 9).map(e => `t${e}`), this.regs = At.range(100).map(e => e < 10 ? `reg0${e}` : `reg${e}`), this.globalKeys = ["frame", "time", "fps", "bass", "bass_att", "mid", "mid_att", "treb", "treb_att", "meshx", "meshy", "aspectx", "aspecty", "pixelsx", "pixelsy"], this.frameKeys = ["decay", "wave_a", "wave_r", "wave_g", "wave_b", "wave_x", "wave_y", "wave_scale", "wave_smoothing", "wave_mode", "old_wave_mode", "wave_mystery", "ob_size", "ob_r", "ob_g", "ob_b", "ob_a", "ib_size", "ib_r", "ib_g", "ib_b", "ib_a", "mv_x", "mv_y", "mv_dx", "mv_dy", "mv_l", "mv_r", "mv_g", "mv_b", "mv_a", "echo_zoom", "echo_alpha", "echo_orient", "wave_dots", "wave_thick", "additivewave", "wave_brighten", "modwavealphabyvolume", "modwavealphastart", "modwavealphaend", "darken_center", "gammaadj", "warp", "warpanimspeed", "warpscale", "zoom", "zoomexp", "rot", "cx", "cy", "dx", "dy", "sx", "sy", "fshader", "wrap", "invert", "brighten", "darken", "solarize", "bmotionvectorson", "b1n", "b2n", "b3n", "b1x", "b2x", "b3x", "b1ed"], this.waveFrameKeys = ["samples", "sep", "scaling", "spectrum", "smoothing", "r", "g", "b", "a"], this.waveFrameInputKeys = ["samples", "r", "g", "b", "a"], this.initializeEquations(t) } getQVars(e) { return At.pickWasm(this.preset.globalPools[e], this.qs) } getTVars(e) { return At.pickWasm(this.preset.globalPools[e], this.ts) } initializeEquations(e) { this.runVertEQs = !!this.preset.pixel_eqs, this.mdVSQInit = null, this.mdVSQAfterFrame = null; const t = { frame: e.frame, time: e.time, fps: e.fps, bass: e.bass, bass_att: e.bass_att, mid: e.mid, mid_att: e.mid_att, treb: e.treb, treb_att: e.treb_att, meshx: this.mesh_width, meshy: this.mesh_height, aspectx: this.invAspectx, aspecty: this.invAspecty, pixelsx: this.texsizeX, pixelsy: this.texsizeY }; if (this.mdVS = Object.assign({}, this.preset.baseVals, t), At.setWasm(this.preset.globalPools.perFrame, this.mdVS, Object.keys(this.mdVS)), this.rand_start = new Float32Array([this.rng.random(), this.rng.random(), this.rng.random(), this.rng.random()]), this.rand_preset = new Float32Array([this.rng.random(), this.rng.random(), this.rng.random(), this.rng.random()]), this.preset.init_eqs(), this.mdVSQInit = this.getQVars("perFrame"), this.preset.frame_eqs(), this.mdVSQAfterFrame = this.getQVars("perFrame"), this.mdVSTWaveInits = [], this.preset.waves && this.preset.waves.length > 0) for (let n = 0; n < this.preset.waves.length; n++) { const e = this.preset.waves[n], t = e.baseVals; 0 !== t.enabled ? (At.setWasm(this.preset.globalPools[`wavePerFrame${n}`], t, Object.keys(t)), e.init_eqs && (e.init_eqs(), At.setWasm(this.preset.globalPools[`wavePerFrame${n}`], t, Object.keys(t))), this.mdVSTWaveInits.push(this.getTVars(`wavePerFrame${n}`))) : this.mdVSTWaveInits.push({}) } if (this.mdVSTShapeInits = [], this.preset.shapes && this.preset.shapes.length > 0) for (let n = 0; n < this.preset.shapes.length; n++) { const e = this.preset.shapes[n], t = e.baseVals; 0 !== t.enabled ? (At.setWasm(this.preset.globalPools[`shapePerFrame${n}`], t, Object.keys(t)), e.init_eqs && (e.init_eqs(), At.setWasm(this.preset.globalPools[`shapePerFrame${n}`], t, Object.keys(t))), this.mdVSTShapeInits.push(this.getTVars(`shapePerFrame${n}`))) : this.mdVSTShapeInits.push({}) } } updatePreset(e, t) { this.preset = e, this.initializeEquations(t) } updateGlobals(e) { this.texsizeX = e.texsizeX, this.texsizeY = e.texsizeY, this.mesh_width = e.mesh_width, this.mesh_height = e.mesh_height, this.aspectx = e.aspectx, this.aspecty = e.aspecty, this.invAspectx = 1 / this.aspectx, this.invAspecty = 1 / this.aspecty } runFrameEquations(e) { At.setWasm(this.preset.globalPools.perFrame, this.mdVS, this.frameKeys), At.setWasm(this.preset.globalPools.perFrame, this.mdVSQInit, this.qs), At.setWasm(this.preset.globalPools.perFrame, e, this.globalKeys), this.preset.frame_eqs(), this.preset.save_qs(), this.mdVSQAfterFrame = this.getQVars("perFrame"); const t = At.pickWasm(this.preset.globalPools.perFrame, [...this.frameKeys, ...this.globalKeys]); return t.rand_preset = this.rand_preset, t.rand_start = this.rand_start, t } runWaveFrameEquations(e, t) { const n = this.preset.waves[e].baseVals; return At.setWasm(this.preset.globalPools[`wavePerFrame${e}`], n, this.waveFrameInputKeys), At.setWasm(this.preset.globalPools[`wavePerFrame${e}`], this.mdVSQAfterFrame, this.qs), At.setWasm(this.preset.globalPools[`wavePerFrame${e}`], this.mdVSTWaveInits[e], this.ts), At.setWasm(this.preset.globalPools[`wavePerFrame${e}`], t, this.globalKeys), this.preset.waves[e].frame_eqs(), At.pickWasm(this.preset.globalPools[`wavePerFrame${e}`], this.waveFrameKeys) } } const dt = /uniform sampler2D sampler_(?:.+?);/g, pt = /uniform sampler2D sampler_(.+?);/; class _t { static getShaderParts(e) { const t = e.indexOf("shader_body"); if (e && t > -1) { const n = e.substring(0, t), a = e.substring(t), r = a.indexOf("{"), s = a.lastIndexOf("}"); return [n, a.substring(r + 1, s)] } return ["", e] } static getFragmentFloatPrecision(e) { return e.getShaderPrecisionFormat(e.FRAGMENT_SHADER, e.HIGH_FLOAT).precision > 0 ? "highp" : e.getShaderPrecisionFormat(e.FRAGMENT_SHADER, e.MEDIUM_FLOAT).precision > 0 ? "mediump" : "lowp" } static getUserSamplers(e) { const t = [], n = e.match(dt); if (n && n.length > 0) for (let a = 0; a < n.length; a++) { const e = n[a].match(pt); if (e && e.length > 0) { const n = e[1]; t.push({ sampler: n }) } } return t } } class Et { static smoothWave(e, t, n, a = !1) { let r, s = 0, i = 0, o = 1; for (let l = 0; l < n - 1; l++) { r = o, o = Math.min(n - 1, l + 2); for (let n = 0; n < 3; n++)t[3 * s + n] = e[3 * l + n]; if (a) for (let n = 0; n < 3; n++)t[3 * (s + 1) + n] = .5 * (-.15 * e[3 * i + n] + 1.15 * e[3 * l + n] + 1.15 * e[3 * r + n] + -.15 * e[3 * o + n]); else { for (let n = 0; n < 2; n++)t[3 * (s + 1) + n] = .5 * (-.15 * e[3 * i + n] + 1.15 * e[3 * l + n] + 1.15 * e[3 * r + n] + -.15 * e[3 * o + n]); t[3 * (s + 1) + 2] = 0 } i = l, s += 2 } for (let l = 0; l < 3; l++)t[3 * s + l] = e[3 * (n - 1) + l] } static smoothWaveAndColor(e, t, n, a, r, s = !1) { let i, o = 0, l = 0, m = 1; for (let c = 0; c < r - 1; c++) { i = m, m = Math.min(r - 1, c + 2); for (let t = 0; t < 3; t++)n[3 * o + t] = e[3 * c + t]; if (s) for (let t = 0; t < 3; t++)n[3 * (o + 1) + t] = .5 * (-.15 * e[3 * l + t] + 1.15 * e[3 * c + t] + 1.15 * e[3 * i + t] + -.15 * e[3 * m + t]); else { for (let t = 0; t < 2; t++)n[3 * (o + 1) + t] = .5 * (-.15 * e[3 * l + t] + 1.15 * e[3 * c + t] + 1.15 * e[3 * i + t] + -.15 * e[3 * m + t]); n[3 * (o + 1) + 2] = 0 } for (let e = 0; e < 4; e++)a[4 * o + e] = t[4 * c + e], a[4 * (o + 1) + e] = t[4 * c + e]; l = c, o += 2 } for (let c = 0; c < 3; c++)n[3 * o + c] = e[3 * (r - 1) + c]; for (let c = 0; c < 4; c++)a[4 * o + c] = t[4 * (r - 1) + c] } } class bt { constructor(e, t = {}) { this.gl = e, this.positions = new Float32Array(1536), this.positions2 = new Float32Array(1536), this.oldPositions = new Float32Array(1536), this.oldPositions2 = new Float32Array(1536), this.smoothedPositions = new Float32Array(3069), this.smoothedPositions2 = new Float32Array(3069), this.color = [0, 0, 0, 1], this.texsizeX = t.texsizeX, this.texsizeY = t.texsizeY, this.aspectx = t.aspectx, this.aspecty = t.aspecty, this.invAspectx = 1 / this.aspectx, this.invAspecty = 1 / this.aspecty, this.floatPrecision = _t.getFragmentFloatPrecision(this.gl), this.createShader(), this.vertexBuf = this.gl.createBuffer() } updateGlobals(e) { this.texsizeX = e.texsizeX, this.texsizeY = e.texsizeY, this.aspectx = e.aspectx, this.aspecty = e.aspecty, this.invAspectx = 1 / this.aspectx, this.invAspecty = 1 / this.aspecty } createShader() { this.shaderProgram = this.gl.createProgram(); const e = this.gl.createShader(this.gl.VERTEX_SHADER); this.gl.shaderSource(e, "\n      #version 300 es\n      in vec3 aPos;\n      uniform vec2 thickOffset;\n      void main(void) {\n        gl_Position = vec4(aPos + vec3(thickOffset, 0.0), 1.0);\n      }\n      ".trim()), this.gl.compileShader(e); const t = this.gl.createShader(this.gl.FRAGMENT_SHADER); this.gl.shaderSource(t, `\n      #version 300 es\n      precision ${this.floatPrecision} float;\n      precision highp int;\n      precision mediump sampler2D;\n      out vec4 fragColor;\n      uniform vec4 u_color;\n      void main(void) {\n        fragColor = u_color;\n      }\n      `.trim()), this.gl.compileShader(t), this.gl.attachShader(this.shaderProgram, e), this.gl.attachShader(this.shaderProgram, t), this.gl.linkProgram(this.shaderProgram), this.aPosLoc = this.gl.getAttribLocation(this.shaderProgram, "aPos"), this.colorLoc = this.gl.getUniformLocation(this.shaderProgram, "u_color"), this.thickOffsetLoc = this.gl.getUniformLocation(this.shaderProgram, "thickOffset") } static processWaveform(e, t) { const n = [], a = t.wave_scale / 128, r = t.wave_smoothing, s = a * (1 - r); n.push(e[0] * a); for (let i = 1; i < e.length; i++)n.push(e[i] * s + n[i - 1] * r); return n } generateWaveform(e, t, n, a, r) { let s = r.wave_a; const i = (r.bass + r.mid + r.treb) / 3; if (i > -.01 && s > .001 && n.length > 0) { const o = bt.processWaveform(n, r), l = bt.processWaveform(a, r), m = Math.floor(r.wave_mode) % 8, c = Math.floor(r.old_wave_mode) % 8, u = 2 * r.wave_x - 1, A = 2 * r.wave_y - 1; this.numVert = 0, this.oldNumVert = 0; const p = e && m !== c ? 2 : 1; for (let e = 0; e < p; e++) { const t = 0 === e ? m : c; let n, a, p, d = r.wave_mystery; if (0 !== t && 1 !== t && 4 !== t || !(d < -1 || d > 1) || (d = .5 * d + .5, d -= Math.floor(d), d = Math.abs(d), d = 2 * d - 1), 0 === e ? (a = this.positions, p = this.positions2) : (a = this.oldPositions, p = this.oldPositions2), s = r.wave_a, 0 === t) { if (r.modwavealphabyvolume > 0) { const e = r.modwavealphaend - r.modwavealphastart; s *= (i - r.modwavealphastart) / e } s = Math.clamp(s, 0, 1), n = Math.floor(o.length / 2) + 1; const e = 1 / (n - 1), t = Math.floor((o.length - n) / 2); for (let s = 0; s < n - 1; s++) { let i = .5 + .4 * l[s + t] + d; const o = s * e * 2 * Math.PI + .2 * r.time; if (s < n / 10) { let e = s / (.1 * n); e = .5 - .5 * Math.cos(e * Math.PI), i = (1 - e) * (.5 + .4 * l[s + n + t] + d) + i * e } a[3 * s + 0] = i * Math.cos(o) * this.aspecty + u, a[3 * s + 1] = i * Math.sin(o) * this.aspectx + A, a[3 * s + 2] = 0 } a[3 * (n - 1) + 0] = a[0], a[3 * (n - 1) + 1] = a[1], a[3 * (n - 1) + 2] = 0 } else if (1 === t) { if (s *= 1.25, r.modwavealphabyvolume > 0) { const e = r.modwavealphaend - r.modwavealphastart; s *= (i - r.modwavealphastart) / e } s = Math.clamp(s, 0, 1), n = Math.floor(o.length / 2); for (let e = 0; e < n; e++) { const t = .53 + .43 * l[e] + d, n = .5 * o[e + 32] * Math.PI + 2.3 * r.time; a[3 * e + 0] = t * Math.cos(n) * this.aspecty + u, a[3 * e + 1] = t * Math.sin(n) * this.aspectx + A, a[3 * e + 2] = 0 } } else if (2 === t) { if (this.texsizeX < 1024 ? s *= .09 : this.texsizeX >= 1024 && this.texsizeX < 2048 ? s *= .11 : s *= .13, r.modwavealphabyvolume > 0) { const e = r.modwavealphaend - r.modwavealphastart; s *= (i - r.modwavealphastart) / e } s = Math.clamp(s, 0, 1), n = o.length; for (let e = 0; e < o.length; e++)a[3 * e + 0] = l[e] * this.aspecty + u, a[3 * e + 1] = o[(e + 32) % o.length] * this.aspectx + A, a[3 * e + 2] = 0 } else if (3 === t) { if (this.texsizeX < 1024 ? s *= .15 : this.texsizeX >= 1024 && this.texsizeX < 2048 ? s *= .22 : s *= .33, s *= 1.3, s *= r.treb * r.treb, r.modwavealphabyvolume > 0) { const e = r.modwavealphaend - r.modwavealphastart; s *= (i - r.modwavealphastart) / e } s = Math.clamp(s, 0, 1), n = o.length; for (let e = 0; e < o.length; e++)a[3 * e + 0] = l[e] * this.aspecty + u, a[3 * e + 1] = o[(e + 32) % o.length] * this.aspectx + A, a[3 * e + 2] = 0 } else if (4 === t) { if (r.modwavealphabyvolume > 0) { const e = r.modwavealphaend - r.modwavealphastart; s *= (i - r.modwavealphastart) / e } s = Math.clamp(s, 0, 1), n = o.length, n > this.texsizeX / 3 && (n = Math.floor(this.texsizeX / 3)); const e = 1 / n, t = Math.floor((o.length - n) / 2), m = .45 + .5 * (.5 * d + .5), c = 1 - m; for (let r = 0; r < n; r++) { let n = 2 * r * e + (u - 1) + .44 * l[(r + 25 + t) % o.length], s = .47 * o[r + t] + A; r > 1 && (n = n * c + m * (2 * a[3 * (r - 1) + 0] - a[3 * (r - 2) + 0]), s = s * c + m * (2 * a[3 * (r - 1) + 1] - a[3 * (r - 2) + 1])), a[3 * r + 0] = n, a[3 * r + 1] = s, a[3 * r + 2] = 0 } } else if (5 === t) { if (this.texsizeX < 1024 ? s *= .09 : this.texsizeX >= 1024 && this.texsizeX < 2048 ? s *= .11 : s *= .13, r.modwavealphabyvolume > 0) { const e = r.modwavealphaend - r.modwavealphastart; s *= (i - r.modwavealphastart) / e } s = Math.clamp(s, 0, 1); const e = Math.cos(.3 * r.time), t = Math.sin(.3 * r.time); n = o.length; for (let n = 0; n < o.length; n++) { const r = (n + 32) % o.length, s = l[n] * o[r] + o[n] * l[r], i = l[n] * l[n] - o[r] * o[r]; a[3 * n + 0] = (s * e - i * t) * (this.aspecty + u), a[3 * n + 1] = (s * t + i * e) * (this.aspectx + A), a[3 * n + 2] = 0 } } else if (6 === t || 7 === t) { if (r.modwavealphabyvolume > 0) { const e = r.modwavealphaend - r.modwavealphastart; s *= (i - r.modwavealphastart) / e } s = Math.clamp(s, 0, 1), n = Math.floor(o.length / 2), n > this.texsizeX / 3 && (n = Math.floor(this.texsizeX / 3)); const e = Math.floor((o.length - n) / 2), m = .5 * Math.PI * d; let c = Math.cos(m), _ = Math.sin(m); const v = [u * Math.cos(m + .5 * Math.PI) - 3 * c, u * Math.cos(m + .5 * Math.PI) + 3 * c], h = [u * Math.sin(m + .5 * Math.PI) - 3 * _, u * Math.sin(m + .5 * Math.PI) + 3 * _]; for (let t = 0; t < 2; t++)for (let e = 0; e < 4; e++) { let n, a = !1; switch (e) { case 0: v[t] > 1.1 && (n = (1.1 - v[1 - t]) / (v[t] - v[1 - t]), a = !0); break; case 1: v[t] < -1.1 && (n = (-1.1 - v[1 - t]) / (v[t] - v[1 - t]), a = !0); break; case 2: h[t] > 1.1 && (n = (1.1 - h[1 - t]) / (h[t] - h[1 - t]), a = !0); break; case 3: h[t] < -1.1 && (n = (-1.1 - h[1 - t]) / (h[t] - h[1 - t]), a = !0) }if (a) { const e = v[t] - v[1 - t], a = h[t] - h[1 - t]; v[t] = v[1 - t] + e * n, h[t] = h[1 - t] + a * n } } c = (v[1] - v[0]) / n, _ = (h[1] - h[0]) / n; const g = Math.atan2(_, c), f = Math.cos(g + .5 * Math.PI), b = Math.sin(g + .5 * Math.PI); if (6 === t) for (let t = 0; t < n; t++) { const n = o[t + e]; a[3 * t + 0] = v[0] + c * t + .25 * f * n, a[3 * t + 1] = h[0] + _ * t + .25 * b * n, a[3 * t + 2] = 0 } else if (7 === t) { const t = (.5 * A + .5) ** 2; for (let r = 0; r < n; r++) { const n = o[r + e]; a[3 * r + 0] = v[0] + c * r + f * (.25 * n + t), a[3 * r + 1] = h[0] + _ * r + b * (.25 * n + t), a[3 * r + 2] = 0 } for (let a = 0; a < n; a++) { const n = l[a + e]; p[3 * a + 0] = v[0] + c * a + f * (.25 * n - t), p[3 * a + 1] = h[0] + _ * a + b * (.25 * n - t), p[3 * a + 2] = 0 } } } 0 === e ? (this.positions = a, this.positions2 = p, this.numVert = n, this.alpha = s) : (this.oldPositions = a, this.oldPositions2 = p, this.oldNumVert = n, this.oldAlpha = s) } const d = .5 - .5 * Math.cos(t * Math.PI), _ = 1 - d; this.oldNumVert > 0 && (s = d * this.alpha + _ * this.oldAlpha); let v = Math.clamp(r.wave_r, 0, 1), h = Math.clamp(r.wave_g, 0, 1), g = Math.clamp(r.wave_b, 0, 1); if (0 !== r.wave_brighten) { const e = Math.max(v, h, g); e > .01 && (v /= e, h /= e, g /= e) } if (this.color = [v, h, g, s], this.oldNumVert > 0) if (7 === m) { const e = (this.oldNumVert - 1) / (2 * this.numVert); for (let t = 0; t < this.numVert; t++) { const n = t * e, a = Math.floor(n), r = n - a, s = this.oldPositions[3 * a + 0] * (1 - r) + this.oldPositions[3 * (a + 1) + 0] * r, i = this.oldPositions[3 * a + 1] * (1 - r) + this.oldPositions[3 * (a + 1) + 1] * r; this.positions[3 * t + 0] = this.positions[3 * t + 0] * d + s * _, this.positions[3 * t + 1] = this.positions[3 * t + 1] * d + i * _, this.positions[3 * t + 2] = 0 } for (let t = 0; t < this.numVert; t++) { const n = (t + this.numVert) * e, a = Math.floor(n), r = n - a, s = this.oldPositions[3 * a + 0] * (1 - r) + this.oldPositions[3 * (a + 1) + 0] * r, i = this.oldPositions[3 * a + 1] * (1 - r) + this.oldPositions[3 * (a + 1) + 1] * r; this.positions2[3 * t + 0] = this.positions2[3 * t + 0] * d + s * _, this.positions2[3 * t + 1] = this.positions2[3 * t + 1] * d + i * _, this.positions2[3 * t + 2] = 0 } } else if (7 === c) { const e = this.numVert / 2, t = (this.oldNumVert - 1) / e; for (let n = 0; n < e; n++) { const e = n * t, a = Math.floor(e), r = e - a, s = this.oldPositions[3 * a + 0] * (1 - r) + this.oldPositions[3 * (a + 1) + 0] * r, i = this.oldPositions[3 * a + 1] * (1 - r) + this.oldPositions[3 * (a + 1) + 1] * r; this.positions[3 * n + 0] = this.positions[3 * n + 0] * d + s * _, this.positions[3 * n + 1] = this.positions[3 * n + 1] * d + i * _, this.positions[3 * n + 2] = 0 } for (let n = 0; n < e; n++) { const a = n * t, r = Math.floor(a), s = a - r, i = this.oldPositions2[3 * r + 0] * (1 - s) + this.oldPositions2[3 * (r + 1) + 0] * s, o = this.oldPositions2[3 * r + 1] * (1 - s) + this.oldPositions2[3 * (r + 1) + 1] * s; this.positions2[3 * n + 0] = this.positions[3 * (n + e) + 0] * d + i * _, this.positions2[3 * n + 1] = this.positions[3 * (n + e) + 1] * d + o * _, this.positions2[3 * n + 2] = 0 } } else { const e = (this.oldNumVert - 1) / this.numVert; for (let t = 0; t < this.numVert; t++) { const n = t * e, a = Math.floor(n), r = n - a, s = this.oldPositions[3 * a + 0] * (1 - r) + this.oldPositions[3 * (a + 1) + 0] * r, i = this.oldPositions[3 * a + 1] * (1 - r) + this.oldPositions[3 * (a + 1) + 1] * r; this.positions[3 * t + 0] = this.positions[3 * t + 0] * d + s * _, this.positions[3 * t + 1] = this.positions[3 * t + 1] * d + i * _, this.positions[3 * t + 2] = 0 } } for (let e = 0; e < this.numVert; e++)this.positions[3 * e + 1] = -this.positions[3 * e + 1]; if (this.smoothedNumVert = 2 * this.numVert - 1, Et.smoothWave(this.positions, this.smoothedPositions, this.numVert), 7 === m || 7 === c) { for (let e = 0; e < this.numVert; e++)this.positions2[3 * e + 1] = -this.positions2[3 * e + 1]; Et.smoothWave(this.positions2, this.smoothedPositions2, this.numVert) } return !0 } return !1 } drawBasicWaveform(e, t, n, a, r) { if (this.generateWaveform(e, t, n, a, r)) { this.gl.useProgram(this.shaderProgram), this.gl.bindBuffer(this.gl.ARRAY_BUFFER, this.vertexBuf), this.gl.bufferData(this.gl.ARRAY_BUFFER, this.smoothedPositions, this.gl.STATIC_DRAW), this.gl.vertexAttribPointer(this.aPosLoc, 3, this.gl.FLOAT, !1, 0, 0), this.gl.enableVertexAttribArray(this.aPosLoc), this.gl.uniform4fv(this.colorLoc, this.color); let e = 1; 0 === r.wave_thick && 0 === r.wave_dots || (e = 4), 0 !== r.additivewave ? this.gl.blendFunc(this.gl.SRC_ALPHA, this.gl.ONE) : this.gl.blendFunc(this.gl.SRC_ALPHA, this.gl.ONE_MINUS_SRC_ALPHA); const t = 0 !== r.wave_dots ? this.gl.POINTS : this.gl.LINE_STRIP; for (let n = 0; n < e; n++) { const e = 2; 0 === n ? this.gl.uniform2fv(this.thickOffsetLoc, [0, 0]) : 1 === n ? this.gl.uniform2fv(this.thickOffsetLoc, [e / this.texsizeX, 0]) : 2 === n ? this.gl.uniform2fv(this.thickOffsetLoc, [0, e / this.texsizeY]) : 3 === n && this.gl.uniform2fv(this.thickOffsetLoc, [e / this.texsizeX, e / this.texsizeY]), this.gl.drawArrays(t, 0, this.smoothedNumVert) } if (7 == Math.floor(r.wave_mode) % 8) { this.gl.bindBuffer(this.gl.ARRAY_BUFFER, this.vertexBuf), this.gl.bufferData(this.gl.ARRAY_BUFFER, this.smoothedPositions2, this.gl.STATIC_DRAW), this.gl.vertexAttribPointer(this.aPosLoc, 3, this.gl.FLOAT, !1, 0, 0), this.gl.enableVertexAttribArray(this.aPosLoc); for (let n = 0; n < e; n++) { const e = 2; 0 === n ? this.gl.uniform2fv(this.thickOffsetLoc, [0, 0]) : 1 === n ? this.gl.uniform2fv(this.thickOffsetLoc, [e / this.texsizeX, 0]) : 2 === n ? this.gl.uniform2fv(this.thickOffsetLoc, [0, e / this.texsizeY]) : 3 === n && this.gl.uniform2fv(this.thickOffsetLoc, [e / this.texsizeX, e / this.texsizeY]), this.gl.drawArrays(t, 0, this.smoothedNumVert) } } } } } class xt { constructor(e, t, n) { this.index = e, this.gl = t, this.pointsData = [new Float32Array(512), new Float32Array(512)], this.positions = new Float32Array(1536), this.colors = new Float32Array(2048), this.smoothedPositions = new Float32Array(3069), this.smoothedColors = new Float32Array(4092), this.texsizeX = n.texsizeX, this.texsizeY = n.texsizeY, this.mesh_width = n.mesh_width, this.mesh_height = n.mesh_height, this.aspectx = n.aspectx, this.aspecty = n.aspecty, this.invAspectx = 1 / this.aspectx, this.invAspecty = 1 / this.aspecty, this.positionVertexBuf = this.gl.createBuffer(), this.colorVertexBuf = this.gl.createBuffer(), this.floatPrecision = _t.getFragmentFloatPrecision(this.gl), this.createShader() } updateGlobals(e) { this.texsizeX = e.texsizeX, this.texsizeY = e.texsizeY, this.mesh_width = e.mesh_width, this.mesh_height = e.mesh_height, this.aspectx = e.aspectx, this.aspecty = e.aspecty, this.invAspectx = 1 / this.aspectx, this.invAspecty = 1 / this.aspecty } createShader() { this.shaderProgram = this.gl.createProgram(); const e = this.gl.createShader(this.gl.VERTEX_SHADER); this.gl.shaderSource(e, "\n      #version 300 es\n      uniform float uSize;\n      uniform vec2 thickOffset;\n      in vec3 aPos;\n      in vec4 aColor;\n      out vec4 vColor;\n      void main(void) {\n        vColor = aColor;\n        gl_PointSize = uSize;\n        gl_Position = vec4(aPos + vec3(thickOffset, 0.0), 1.0);\n      }\n      ".trim()), this.gl.compileShader(e); const t = this.gl.createShader(this.gl.FRAGMENT_SHADER); this.gl.shaderSource(t, `\n      #version 300 es\n      precision ${this.floatPrecision} float;\n      precision highp int;\n      precision mediump sampler2D;\n      in vec4 vColor;\n      out vec4 fragColor;\n      void main(void) {\n        fragColor = vColor;\n      }\n      `.trim()), this.gl.compileShader(t), this.gl.attachShader(this.shaderProgram, e), this.gl.attachShader(this.shaderProgram, t), this.gl.linkProgram(this.shaderProgram), this.aPosLocation = this.gl.getAttribLocation(this.shaderProgram, "aPos"), this.aColorLocation = this.gl.getAttribLocation(this.shaderProgram, "aColor"), this.sizeLoc = this.gl.getUniformLocation(this.shaderProgram, "uSize"), this.thickOffsetLoc = this.gl.getUniformLocation(this.shaderProgram, "thickOffset") } generateWaveform(e, t, n, a, r, s, i, o) { if (0 !== i.baseVals.enabled && e.length > 0) { let l; if (s.preset.useWASM) l = s.runWaveFrameEquations(this.index, r); else { const e = Object.assign({}, s.mdVSWaves[this.index], s.mdVSFrameMapWaves[this.index], s.mdVSQAfterFrame, s.mdVSTWaveInits[this.index], r); l = s.runWaveFrameEquations(this.index, e) } const m = 512; Object.prototype.hasOwnProperty.call(l, "samples") ? this.samples = l.samples : this.samples = m, this.samples > m && (this.samples = m), this.samples = Math.floor(this.samples); const c = s.preset.waves[this.index].baseVals, u = Math.floor(l.sep), A = l.scaling, p = l.spectrum, d = l.smoothing, _ = c.usedots, v = l.r, h = l.g, g = l.b, f = l.a, b = s.preset.baseVals.wave_scale; if (this.samples -= u, this.samples >= 2 || 0 !== _ && this.samples >= 1) { const r = 0 !== p, x = (r ? .15 : .004) * A * b, y = r ? n : e, w = r ? a : t, E = r ? 0 : Math.floor((m - this.samples) / 2 - u / 2), S = r ? 0 : Math.floor((m - this.samples) / 2 + u / 2), z = r ? (m - u) / this.samples : 1, q = (.98 * d) ** .5, k = 1 - q; this.pointsData[0][0] = y[E], this.pointsData[1][0] = w[S]; for (let e = 1; e < this.samples; e++) { const t = y[Math.floor(e * z + E)], n = w[Math.floor(e * z + S)]; this.pointsData[0][e] = t * k + this.pointsData[0][e - 1] * q, this.pointsData[1][e] = n * k + this.pointsData[1][e - 1] * q } for (let e = this.samples - 2; e >= 0; e--)this.pointsData[0][e] = this.pointsData[0][e] * k + this.pointsData[0][e + 1] * q, this.pointsData[1][e] = this.pointsData[1][e] * k + this.pointsData[1][e + 1] * q; for (let e = 0; e < this.samples; e++)this.pointsData[0][e] *= x, this.pointsData[1][e] *= x; if (s.preset.useWASM) { const e = s.preset.globalPools[`wavePerFrame${this.index}`]; for (let t = 0; t < this.samples; t++) { const n = this.pointsData[0][t], a = this.pointsData[1][t]; e.sample.value = t / (this.samples - 1), e.value1.value = n, e.value2.value = a, e.x.value = .5 + n, e.y.value = .5 + a, e.r.value = v, e.g.value = h, e.b.value = g, e.a.value = f, i.point_eqs && s.preset.waves[this.index].point_eqs(); const r = (2 * e.x.value - 1) * this.invAspectx, l = (-2 * e.y.value + 1) * this.invAspecty, m = e.r.value, c = e.g.value, u = e.b.value, A = e.a.value; this.positions[3 * t + 0] = r, this.positions[3 * t + 1] = l, this.positions[3 * t + 2] = 0, this.colors[4 * t + 0] = m, this.colors[4 * t + 1] = c, this.colors[4 * t + 2] = u, this.colors[4 * t + 3] = A * o } } else for (let e = 0; e < this.samples; e++) { const t = this.pointsData[0][e], n = this.pointsData[1][e]; l.sample = e / (this.samples - 1), l.value1 = t, l.value2 = n, l.x = .5 + t, l.y = .5 + n, l.r = v, l.g = h, l.b = g, l.a = f, "" !== i.point_eqs && (l = s.runWavePointEquations(this.index, l)); const a = (2 * l.x - 1) * this.invAspectx, r = (-2 * l.y + 1) * this.invAspecty, m = l.r, c = l.g, u = l.b, A = l.a; this.positions[3 * e + 0] = a, this.positions[3 * e + 1] = r, this.positions[3 * e + 2] = 0, this.colors[4 * e + 0] = m, this.colors[4 * e + 1] = c, this.colors[4 * e + 2] = u, this.colors[4 * e + 3] = A * o } if (s.preset.useWASM) l.usedots = _, l.thick = c.thick, l.additive = c.additive; else { const e = s.mdVSUserKeysWaves[this.index], t = At.pick(l, e); s.mdVSFrameMapWaves[this.index] = t } return this.mdVSWaveFrame = l, 0 === _ && Et.smoothWaveAndColor(this.positions, this.colors, this.smoothedPositions, this.smoothedColors, this.samples), !0 } } return !1 } drawCustomWaveform(e, t, n, a, r, s, i, o) { if (o && this.generateWaveform(t, n, a, r, s, i, o, e)) { this.gl.useProgram(this.shaderProgram); const e = 0 !== this.mdVSWaveFrame.usedots, t = 0 !== this.mdVSWaveFrame.thick, n = 0 !== this.mdVSWaveFrame.additive; let a, r, s; e ? (a = this.positions, r = this.colors, s = this.samples) : (a = this.smoothedPositions, r = this.smoothedColors, s = 2 * this.samples - 1), this.gl.bindBuffer(this.gl.ARRAY_BUFFER, this.positionVertexBuf), this.gl.bufferData(this.gl.ARRAY_BUFFER, a, this.gl.STATIC_DRAW), this.gl.vertexAttribPointer(this.aPosLocation, 3, this.gl.FLOAT, !1, 0, 0), this.gl.enableVertexAttribArray(this.aPosLocation), this.gl.bindBuffer(this.gl.ARRAY_BUFFER, this.colorVertexBuf), this.gl.bufferData(this.gl.ARRAY_BUFFER, r, this.gl.STATIC_DRAW), this.gl.vertexAttribPointer(this.aColorLocation, 4, this.gl.FLOAT, !1, 0, 0), this.gl.enableVertexAttribArray(this.aColorLocation); let i = 1; e ? t ? this.gl.uniform1f(this.sizeLoc, 2 + (this.texsizeX >= 1024 ? 1 : 0)) : this.gl.uniform1f(this.sizeLoc, 1 + (this.texsizeX >= 1024 ? 1 : 0)) : (this.gl.uniform1f(this.sizeLoc, 1), t && (i = 4)), n ? this.gl.blendFunc(this.gl.SRC_ALPHA, this.gl.ONE) : this.gl.blendFunc(this.gl.SRC_ALPHA, this.gl.ONE_MINUS_SRC_ALPHA); const o = e ? this.gl.POINTS : this.gl.LINE_STRIP; for (let l = 0; l < i; l++) { const e = 2; 0 === l ? this.gl.uniform2fv(this.thickOffsetLoc, [0, 0]) : 1 === l ? this.gl.uniform2fv(this.thickOffsetLoc, [e / this.texsizeX, 0]) : 2 === l ? this.gl.uniform2fv(this.thickOffsetLoc, [0, e / this.texsizeY]) : 3 === l && this.gl.uniform2fv(this.thickOffsetLoc, [e / this.texsizeX, e / this.texsizeY]), this.gl.drawArrays(o, 0, s) } } } } let vt = class { constructor(e, t, n) { this.index = e, this.gl = t, this.positions = new Float32Array(309), this.colors = new Float32Array(412), this.uvs = new Float32Array(206), this.borderPositions = new Float32Array(306), this.texsizeX = n.texsizeX, this.texsizeY = n.texsizeY, this.mesh_width = n.mesh_width, this.mesh_height = n.mesh_height, this.aspectx = n.aspectx, this.aspecty = n.aspecty, this.invAspectx = 1 / this.aspectx, this.invAspecty = 1 / this.aspecty, this.positionVertexBuf = this.gl.createBuffer(), this.colorVertexBuf = this.gl.createBuffer(), this.uvVertexBuf = this.gl.createBuffer(), this.borderPositionVertexBuf = this.gl.createBuffer(), this.floatPrecision = _t.getFragmentFloatPrecision(this.gl), this.createShader(), this.createBorderShader(), this.mainSampler = this.gl.createSampler(), t.samplerParameteri(this.mainSampler, t.TEXTURE_MIN_FILTER, t.LINEAR_MIPMAP_LINEAR), t.samplerParameteri(this.mainSampler, t.TEXTURE_MAG_FILTER, t.LINEAR), t.samplerParameteri(this.mainSampler, t.TEXTURE_WRAP_S, t.REPEAT), t.samplerParameteri(this.mainSampler, t.TEXTURE_WRAP_T, t.REPEAT) } updateGlobals(e) { this.texsizeX = e.texsizeX, this.texsizeY = e.texsizeY, this.mesh_width = e.mesh_width, this.mesh_height = e.mesh_height, this.aspectx = e.aspectx, this.aspecty = e.aspecty, this.invAspectx = 1 / this.aspectx, this.invAspecty = 1 / this.aspecty } createShader() { this.shaderProgram = this.gl.createProgram(); const e = this.gl.createShader(this.gl.VERTEX_SHADER); this.gl.shaderSource(e, "\n      #version 300 es\n      in vec3 aPos;\n      in vec4 aColor;\n      in vec2 aUv;\n      out vec4 vColor;\n      out vec2 vUv;\n      void main(void) {\n        vColor = aColor;\n        vUv = aUv;\n        gl_Position = vec4(aPos, 1.0);\n      }\n      ".trim()), this.gl.compileShader(e); const t = this.gl.createShader(this.gl.FRAGMENT_SHADER); this.gl.shaderSource(t, `\n      #version 300 es\n      precision ${this.floatPrecision} float;\n      precision highp int;\n      precision mediump sampler2D;\n      uniform sampler2D uTexture;\n      uniform float uTextured;\n      in vec4 vColor;\n      in vec2 vUv;\n      out vec4 fragColor;\n      void main(void) {\n        if (uTextured != 0.0) {\n          fragColor = texture(uTexture, vUv) * vColor;\n        } else {\n          fragColor = vColor;\n        }\n      }\n      `.trim()), this.gl.compileShader(t), this.gl.attachShader(this.shaderProgram, e), this.gl.attachShader(this.shaderProgram, t), this.gl.linkProgram(this.shaderProgram), this.aPosLocation = this.gl.getAttribLocation(this.shaderProgram, "aPos"), this.aColorLocation = this.gl.getAttribLocation(this.shaderProgram, "aColor"), this.aUvLocation = this.gl.getAttribLocation(this.shaderProgram, "aUv"), this.texturedLoc = this.gl.getUniformLocation(this.shaderProgram, "uTextured"), this.textureLoc = this.gl.getUniformLocation(this.shaderProgram, "uTexture") } createBorderShader() { this.borderShaderProgram = this.gl.createProgram(); const e = this.gl.createShader(this.gl.VERTEX_SHADER); this.gl.shaderSource(e, "\n      #version 300 es\n      in vec3 aBorderPos;\n      uniform vec2 thickOffset;\n      void main(void) {\n        gl_Position = vec4(aBorderPos +\n                            vec3(thickOffset, 0.0), 1.0);\n      }\n      ".trim()), this.gl.compileShader(e); const t = this.gl.createShader(this.gl.FRAGMENT_SHADER); this.gl.shaderSource(t, `\n      #version 300 es\n      precision ${this.floatPrecision} float;\n      precision highp int;\n      precision mediump sampler2D;\n      out vec4 fragColor;\n      uniform vec4 uBorderColor;\n      void main(void) {\n        fragColor = uBorderColor;\n      }\n      `.trim()), this.gl.compileShader(t), this.gl.attachShader(this.borderShaderProgram, e), this.gl.attachShader(this.borderShaderProgram, t), this.gl.linkProgram(this.borderShaderProgram), this.aBorderPosLoc = this.gl.getAttribLocation(this.borderShaderProgram, "aBorderPos"), this.uBorderColorLoc = this.gl.getUniformLocation(this.borderShaderProgram, "uBorderColor"), this.thickOffsetLoc = this.gl.getUniformLocation(this.shaderProgram, "thickOffset") } drawCustomShape(e, t, n, a, r) { if (0 !== a.baseVals.enabled) if (n.preset.useWASM) { this.setupShapeBuffers(n.preset.globalPools.perFrame.wrap.value); const a = n.preset.shapes[this.index].baseVals, s = n.preset.globalPools[`shapePerFrame${this.index}`]; At.setWasm(s, t, n.globalKeys), n.preset.shapes[this.index].frame_eqs || n.preset.restore_qs(), At.setWasm(s, n.mdVSTShapeInits[this.index], n.ts), n.preset.save_ts(), s.x.value = a.x, s.y.value = a.y, s.rad.value = a.rad, s.ang.value = a.ang, s.r.value = a.r, s.g.value = a.g, s.b.value = a.b, s.a.value = a.a, s.r2.value = a.r2, s.g2.value = a.g2, s.b2.value = a.b2, s.a2.value = a.a2, s.border_r.value = a.border_r, s.border_g.value = a.border_g, s.border_b.value = a.border_b, s.border_a.value = a.border_a, s.thickoutline.value = a.thickoutline, s.textured.value = a.textured, s.tex_zoom.value = a.tex_zoom, s.tex_ang.value = a.tex_ang, s.additive.value = a.additive, n.preset.shapes[this.index].frame_eqs_save(); const i = Math.clamp(a.num_inst, 1, 1024); for (let t = 0; t < i; t++) { s.instance.value = t, n.preset.shapes[this.index].frame_eqs && (n.preset.shapes[this.index].frame_eqs_restore(), n.preset.restore_qs(), n.preset.restore_ts(), n.preset.shapes[this.index].frame_eqs()); let a = s.sides.value; a = Math.clamp(a, 3, 100), a = Math.floor(a); const i = s.rad.value, o = s.ang.value, l = 2 * s.x.value - 1, m = -2 * s.y.value + 1, c = s.r.value, u = s.g.value, A = s.b.value, p = s.a.value, d = s.r2.value, _ = s.g2.value, v = s.b2.value, h = s.a2.value, g = s.border_r.value, f = s.border_g.value, b = s.border_b.value, x = s.border_a.value; this.borderColor = [g, f, b, x * e]; const y = s.thickoutline.value, w = s.textured.value, E = s.tex_zoom.value, S = s.tex_ang.value, z = s.additive.value, q = this.borderColor[3] > 0, k = Math.abs(w) >= 1, T = Math.abs(y) >= 1, I = Math.abs(z) >= 1; this.positions[0] = l, this.positions[1] = m, this.positions[2] = 0, this.colors[0] = c, this.colors[1] = u, this.colors[2] = A, this.colors[3] = p * e, k && (this.uvs[0] = .5, this.uvs[1] = .5); const C = .25 * Math.PI; for (let t = 1; t <= a + 1; t++) { const n = (t - 1) / a * 2 * Math.PI, r = n + o + C; if (this.positions[3 * t + 0] = l + i * Math.cos(r) * this.aspecty, this.positions[3 * t + 1] = m + i * Math.sin(r), this.positions[3 * t + 2] = 0, this.colors[4 * t + 0] = d, this.colors[4 * t + 1] = _, this.colors[4 * t + 2] = v, this.colors[4 * t + 3] = h * e, k) { const e = n + S + C; this.uvs[2 * t + 0] = .5 + .5 * Math.cos(e) / E * this.aspecty, this.uvs[2 * t + 1] = .5 + .5 * Math.sin(e) / E } q && (this.borderPositions[3 * (t - 1) + 0] = this.positions[3 * t + 0], this.borderPositions[3 * (t - 1) + 1] = this.positions[3 * t + 1], this.borderPositions[3 * (t - 1) + 2] = this.positions[3 * t + 2]) } this.drawCustomShapeInstance(r, a, k, q, T, I) } } else { this.setupShapeBuffers(n.mdVSFrame.wrap); let a = Object.assign({}, n.mdVSShapes[this.index], n.mdVSFrameMapShapes[this.index], t); "" === n.preset.shapes[this.index].frame_eqs_str && (a = Object.assign(a, n.mdVSQAfterFrame, n.mdVSTShapeInits[this.index])); const s = n.preset.shapes[this.index].baseVals, i = Math.clamp(s.num_inst, 1, 1024); for (let t = 0; t < i; t++) { let i; a.instance = t, a.x = s.x, a.y = s.y, a.rad = s.rad, a.ang = s.ang, a.r = s.r, a.g = s.g, a.b = s.b, a.a = s.a, a.r2 = s.r2, a.g2 = s.g2, a.b2 = s.b2, a.a2 = s.a2, a.border_r = s.border_r, a.border_g = s.border_g, a.border_b = s.border_b, a.border_a = s.border_a, a.thickoutline = s.thickoutline, a.textured = s.textured, a.tex_zoom = s.tex_zoom, a.tex_ang = s.tex_ang, a.additive = s.additive, "" !== n.preset.shapes[this.index].frame_eqs_str ? (a = Object.assign(a, n.mdVSQAfterFrame, n.mdVSTShapeInits[this.index]), i = n.runShapeFrameEquations(this.index, a)) : i = a; let o = i.sides; o = Math.clamp(o, 3, 100), o = Math.floor(o); const l = i.rad, m = i.ang, c = 2 * i.x - 1, u = -2 * i.y + 1, A = i.r, p = i.g, d = i.b, _ = i.a, v = i.r2, h = i.g2, g = i.b2, f = i.a2, b = i.border_r, x = i.border_g, y = i.border_b, w = i.border_a; this.borderColor = [b, x, y, w * e]; const E = i.thickoutline, S = i.textured, z = i.tex_zoom, q = i.tex_ang, k = i.additive, T = this.borderColor[3] > 0, I = Math.abs(S) >= 1, C = Math.abs(E) >= 1, R = Math.abs(k) >= 1; this.positions[0] = c, this.positions[1] = u, this.positions[2] = 0, this.colors[0] = A, this.colors[1] = p, this.colors[2] = d, this.colors[3] = _ * e, I && (this.uvs[0] = .5, this.uvs[1] = .5); const P = .25 * Math.PI; for (let t = 1; t <= o + 1; t++) { const n = (t - 1) / o * 2 * Math.PI, a = n + m + P; if (this.positions[3 * t + 0] = c + l * Math.cos(a) * this.aspecty, this.positions[3 * t + 1] = u + l * Math.sin(a), this.positions[3 * t + 2] = 0, this.colors[4 * t + 0] = v, this.colors[4 * t + 1] = h, this.colors[4 * t + 2] = g, this.colors[4 * t + 3] = f * e, I) { const e = n + q + P; this.uvs[2 * t + 0] = .5 + .5 * Math.cos(e) / z * this.aspecty, this.uvs[2 * t + 1] = .5 + .5 * Math.sin(e) / z } T && (this.borderPositions[3 * (t - 1) + 0] = this.positions[3 * t + 0], this.borderPositions[3 * (t - 1) + 1] = this.positions[3 * t + 1], this.borderPositions[3 * (t - 1) + 2] = this.positions[3 * t + 2]) } this.mdVSShapeFrame = i, this.drawCustomShapeInstance(r, o, I, T, C, R) } const o = n.mdVSUserKeysShapes[this.index], l = At.pick(this.mdVSShapeFrame, o); n.mdVSFrameMapShapes[this.index] = l } } setupShapeBuffers(e) { this.gl.bindBuffer(this.gl.ARRAY_BUFFER, this.positionVertexBuf), this.gl.bufferData(this.gl.ARRAY_BUFFER, this.positions, this.gl.DYNAMIC_DRAW), this.gl.vertexAttribPointer(this.aPosLocation, 3, this.gl.FLOAT, !1, 0, 0), this.gl.enableVertexAttribArray(this.aPosLocation), this.gl.bindBuffer(this.gl.ARRAY_BUFFER, this.colorVertexBuf), this.gl.bufferData(this.gl.ARRAY_BUFFER, this.colors, this.gl.DYNAMIC_DRAW), this.gl.vertexAttribPointer(this.aColorLocation, 4, this.gl.FLOAT, !1, 0, 0), this.gl.enableVertexAttribArray(this.aColorLocation), this.gl.bindBuffer(this.gl.ARRAY_BUFFER, this.uvVertexBuf), this.gl.bufferData(this.gl.ARRAY_BUFFER, this.uvs, this.gl.DYNAMIC_DRAW), this.gl.vertexAttribPointer(this.aUvLocation, 2, this.gl.FLOAT, !1, 0, 0), this.gl.enableVertexAttribArray(this.aUvLocation), this.gl.bindBuffer(this.gl.ARRAY_BUFFER, this.borderPositionVertexBuf), this.gl.bufferData(this.gl.ARRAY_BUFFER, this.borderPositions, this.gl.DYNAMIC_DRAW), this.gl.vertexAttribPointer(this.aBorderPosLoc, 3, this.gl.FLOAT, !1, 0, 0), this.gl.enableVertexAttribArray(this.aBorderPosLoc); const t = 0 !== e ? this.gl.REPEAT : this.gl.CLAMP_TO_EDGE; this.gl.samplerParameteri(this.mainSampler, this.gl.TEXTURE_WRAP_S, t), this.gl.samplerParameteri(this.mainSampler, this.gl.TEXTURE_WRAP_T, t) } drawCustomShapeInstance(e, t, n, a, r, s) { if (this.gl.useProgram(this.shaderProgram), this.gl.bindBuffer(this.gl.ARRAY_BUFFER, this.positionVertexBuf), this.gl.bufferSubData(this.gl.ARRAY_BUFFER, 0, this.positions, 0, 3 * (t + 2)), this.gl.vertexAttribPointer(this.aPosLocation, 3, this.gl.FLOAT, !1, 0, 0), this.gl.enableVertexAttribArray(this.aPosLocation), this.gl.bindBuffer(this.gl.ARRAY_BUFFER, this.colorVertexBuf), this.gl.bufferSubData(this.gl.ARRAY_BUFFER, 0, this.colors, 0, 4 * (t + 2)), this.gl.vertexAttribPointer(this.aColorLocation, 4, this.gl.FLOAT, !1, 0, 0), this.gl.enableVertexAttribArray(this.aColorLocation), n && (this.gl.bindBuffer(this.gl.ARRAY_BUFFER, this.uvVertexBuf), this.gl.bufferSubData(this.gl.ARRAY_BUFFER, 0, this.uvs, 0, 2 * (t + 2)), this.gl.vertexAttribPointer(this.aUvLocation, 2, this.gl.FLOAT, !1, 0, 0), this.gl.enableVertexAttribArray(this.aUvLocation)), this.gl.uniform1f(this.texturedLoc, n ? 1 : 0), this.gl.activeTexture(this.gl.TEXTURE0), this.gl.bindTexture(this.gl.TEXTURE_2D, e), this.gl.bindSampler(0, this.mainSampler), this.gl.uniform1i(this.textureLoc, 0), s ? this.gl.blendFunc(this.gl.SRC_ALPHA, this.gl.ONE) : this.gl.blendFunc(this.gl.SRC_ALPHA, this.gl.ONE_MINUS_SRC_ALPHA), this.gl.drawArrays(this.gl.TRIANGLE_FAN, 0, t + 2), a) { this.gl.useProgram(this.borderShaderProgram), this.gl.bindBuffer(this.gl.ARRAY_BUFFER, this.borderPositionVertexBuf), this.gl.bufferSubData(this.gl.ARRAY_BUFFER, 0, this.borderPositions, 0, 3 * (t + 1)), this.gl.vertexAttribPointer(this.aBorderPosLoc, 3, this.gl.FLOAT, !1, 0, 0), this.gl.enableVertexAttribArray(this.aBorderPosLoc), this.gl.uniform4fv(this.uBorderColorLoc, this.borderColor); const e = r ? 4 : 1; for (let n = 0; n < e; n++) { const e = 2; 0 === n ? this.gl.uniform2fv(this.thickOffsetLoc, [0, 0]) : 1 === n ? this.gl.uniform2fv(this.thickOffsetLoc, [e / this.texsizeX, 0]) : 2 === n ? this.gl.uniform2fv(this.thickOffsetLoc, [0, e / this.texsizeY]) : 3 === n && this.gl.uniform2fv(this.thickOffsetLoc, [e / this.texsizeX, e / this.texsizeY]), this.gl.drawArrays(this.gl.LINE_STRIP, 0, t + 1) } } } }; class Tt { constructor(e, t = {}) { this.gl = e, this.positions = new Float32Array(72), this.aspectx = t.aspectx, this.aspecty = t.aspecty, this.invAspectx = 1 / this.aspectx, this.invAspecty = 1 / this.aspecty, this.floatPrecision = _t.getFragmentFloatPrecision(this.gl), this.createShader(), this.vertexBuf = this.gl.createBuffer() } updateGlobals(e) { this.aspectx = e.aspectx, this.aspecty = e.aspecty, this.invAspectx = 1 / this.aspectx, this.invAspecty = 1 / this.aspecty } createShader() { this.shaderProgram = this.gl.createProgram(); const e = this.gl.createShader(this.gl.VERTEX_SHADER); this.gl.shaderSource(e, "\n      #version 300 es\n      in vec3 aPos;\n      void main(void) {\n        gl_Position = vec4(aPos, 1.0);\n      }\n      ".trim()), this.gl.compileShader(e); const t = this.gl.createShader(this.gl.FRAGMENT_SHADER); this.gl.shaderSource(t, `\n      #version 300 es\n      precision ${this.floatPrecision} float;\n      precision highp int;\n      precision mediump sampler2D;\n      out vec4 fragColor;\n      uniform vec4 u_color;\n      void main(void) {\n        fragColor = u_color;\n      }\n      `.trim()), this.gl.compileShader(t), this.gl.attachShader(this.shaderProgram, e), this.gl.attachShader(this.shaderProgram, t), this.gl.linkProgram(this.shaderProgram), this.aPosLoc = this.gl.getAttribLocation(this.shaderProgram, "aPos"), this.colorLoc = this.gl.getUniformLocation(this.shaderProgram, "u_color") } addTriangle(e, t, n, a) { this.positions[e + 0] = t[0], this.positions[e + 1] = t[1], this.positions[e + 2] = t[2], this.positions[e + 3] = n[0], this.positions[e + 4] = n[1], this.positions[e + 5] = n[2], this.positions[e + 6] = a[0], this.positions[e + 7] = a[1], this.positions[e + 8] = a[2] } generateBorder(e, t, n) { if (t > 0 && e[3] > 0) { const e = 2, a = 2, r = e / 2, s = a / 2, i = n / 2, o = t / 2 + i, l = i * e, m = i * a, c = o * e, u = o * a; let A = [-r + l, -s + u, 0], p = [-r + l, s - u, 0], d = [-r + c, s - u, 0], _ = [-r + c, -s + u, 0]; return this.addTriangle(0, _, p, A), this.addTriangle(9, _, d, p), A = [r - l, -s + u, 0], p = [r - l, s - u, 0], d = [r - c, s - u, 0], _ = [r - c, -s + u, 0], this.addTriangle(18, A, p, _), this.addTriangle(27, p, d, _), A = [-r + l, -s + m, 0], p = [-r + l, u - s, 0], d = [r - l, u - s, 0], _ = [r - l, -s + m, 0], this.addTriangle(36, _, p, A), this.addTriangle(45, _, d, p), A = [-r + l, s - m, 0], p = [-r + l, s - u, 0], d = [r - l, s - u, 0], _ = [r - l, s - m, 0], this.addTriangle(54, A, p, _), this.addTriangle(63, p, d, _), !0 } return !1 } drawBorder(e, t, n) { this.generateBorder(e, t, n) && (this.gl.useProgram(this.shaderProgram), this.gl.bindBuffer(this.gl.ARRAY_BUFFER, this.vertexBuf), this.gl.bufferData(this.gl.ARRAY_BUFFER, this.positions, this.gl.STATIC_DRAW), this.gl.vertexAttribPointer(this.aPosLoc, 3, this.gl.FLOAT, !1, 0, 0), this.gl.enableVertexAttribArray(this.aPosLoc), this.gl.uniform4fv(this.colorLoc, e), this.gl.blendFunc(this.gl.SRC_ALPHA, this.gl.ONE_MINUS_SRC_ALPHA), this.gl.drawArrays(this.gl.TRIANGLES, 0, this.positions.length / 3)) } } class St { constructor(e, t) { this.gl = e, this.aspectx = t.aspectx, this.aspecty = t.aspecty, this.invAspectx = 1 / this.aspectx, this.invAspecty = 1 / this.aspecty, this.generatePositions(), this.colors = new Float32Array([0, 0, 0, 3 / 32, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]), this.positionVertexBuf = this.gl.createBuffer(), this.colorVertexBuf = this.gl.createBuffer(), this.floatPrecision = _t.getFragmentFloatPrecision(this.gl), this.createShader() } updateGlobals(e) { this.aspectx = e.aspectx, this.aspecty = e.aspecty, this.invAspectx = 1 / this.aspectx, this.invAspecty = 1 / this.aspecty, this.generatePositions() } generatePositions() { this.positions = new Float32Array([0, 0, 0, -.05 * this.aspecty, 0, 0, 0, -.05, 0, .05 * this.aspecty, 0, 0, 0, .05, 0, -.05 * this.aspecty, 0, 0]) } createShader() { this.shaderProgram = this.gl.createProgram(); const e = this.gl.createShader(this.gl.VERTEX_SHADER); this.gl.shaderSource(e, "\n      #version 300 es\n      in vec3 aPos;\n      in vec4 aColor;\n      out vec4 vColor;\n      void main(void) {\n        vColor = aColor;\n        gl_Position = vec4(aPos, 1.0);\n      }\n      ".trim()), this.gl.compileShader(e); const t = this.gl.createShader(this.gl.FRAGMENT_SHADER); this.gl.shaderSource(t, `\n      #version 300 es\n      precision ${this.floatPrecision} float;\n      precision highp int;\n      precision mediump sampler2D;\n      in vec4 vColor;\n      out vec4 fragColor;\n      void main(void) {\n        fragColor = vColor;\n      }\n      `.trim()), this.gl.compileShader(t), this.gl.attachShader(this.shaderProgram, e), this.gl.attachShader(this.shaderProgram, t), this.gl.linkProgram(this.shaderProgram), this.aPosLocation = this.gl.getAttribLocation(this.shaderProgram, "aPos"), this.aColorLocation = this.gl.getAttribLocation(this.shaderProgram, "aColor") } drawDarkenCenter(e) { 0 !== e.darken_center && (this.gl.useProgram(this.shaderProgram), this.gl.bindBuffer(this.gl.ARRAY_BUFFER, this.positionVertexBuf), this.gl.bufferData(this.gl.ARRAY_BUFFER, this.positions, this.gl.STATIC_DRAW), this.gl.vertexAttribPointer(this.aPosLocation, 3, this.gl.FLOAT, !1, 0, 0), this.gl.enableVertexAttribArray(this.aPosLocation), this.gl.bindBuffer(this.gl.ARRAY_BUFFER, this.colorVertexBuf), this.gl.bufferData(this.gl.ARRAY_BUFFER, this.colors, this.gl.STATIC_DRAW), this.gl.vertexAttribPointer(this.aColorLocation, 4, this.gl.FLOAT, !1, 0, 0), this.gl.enableVertexAttribArray(this.aColorLocation), this.gl.blendFunc(this.gl.SRC_ALPHA, this.gl.ONE_MINUS_SRC_ALPHA), this.gl.drawArrays(this.gl.TRIANGLE_FAN, 0, this.positions.length / 3)) } } class Pt { constructor(e, t) { this.gl = e, this.maxX = 64, this.maxY = 48, this.positions = new Float32Array(this.maxX * this.maxY * 2 * 3), this.texsizeX = t.texsizeX, this.texsizeY = t.texsizeY, this.mesh_width = t.mesh_width, this.mesh_height = t.mesh_height, this.positionVertexBuf = this.gl.createBuffer(), this.floatPrecision = _t.getFragmentFloatPrecision(this.gl), this.createShader() } updateGlobals(e) { this.texsizeX = e.texsizeX, this.texsizeY = e.texsizeY, this.mesh_width = e.mesh_width, this.mesh_height = e.mesh_height } createShader() { this.shaderProgram = this.gl.createProgram(); const e = this.gl.createShader(this.gl.VERTEX_SHADER); this.gl.shaderSource(e, "\n      #version 300 es\n      in vec3 aPos;\n      void main(void) {\n        gl_Position = vec4(aPos, 1.0);\n      }\n      ".trim()), this.gl.compileShader(e); const t = this.gl.createShader(this.gl.FRAGMENT_SHADER); this.gl.shaderSource(t, `\n      #version 300 es\n      precision ${this.floatPrecision} float;\n      precision highp int;\n      precision mediump sampler2D;\n      out vec4 fragColor;\n      uniform vec4 u_color;\n      void main(void) {\n        fragColor = u_color;\n      }\n      `.trim()), this.gl.compileShader(t), this.gl.attachShader(this.shaderProgram, e), this.gl.attachShader(this.shaderProgram, t), this.gl.linkProgram(this.shaderProgram), this.aPosLoc = this.gl.getAttribLocation(this.shaderProgram, "aPos"), this.colorLoc = this.gl.getUniformLocation(this.shaderProgram, "u_color") } getMotionDir(e, t, n) { const a = Math.floor(n * this.mesh_height), r = n * this.mesh_height - a, s = Math.floor(t * this.mesh_width), i = t * this.mesh_width - s, o = s + 1, l = a + 1, m = this.mesh_width + 1; let c, u; return c = e[2 * (a * m + s) + 0] * (1 - i) * (1 - r), u = e[2 * (a * m + s) + 1] * (1 - i) * (1 - r), c += e[2 * (a * m + o) + 0] * i * (1 - r), u += e[2 * (a * m + o) + 1] * i * (1 - r), c += e[2 * (l * m + s) + 0] * (1 - i) * r, u += e[2 * (l * m + s) + 1] * (1 - i) * r, c += e[2 * (l * m + o) + 0] * i * r, u += e[2 * (l * m + o) + 1] * i * r, [c, 1 - u] } generateMotionVectors(e, t) { const n = 0 === e.bmotionvectorson ? 0 : e.mv_a; let a = Math.floor(e.mv_x), r = Math.floor(e.mv_y); if (n > .001 && a > 0 && r > 0) { let s = e.mv_x - a, i = e.mv_y - r; a > this.maxX && (a = this.maxX, s = 0), r > this.maxY && (r = this.maxY, i = 0); const o = e.mv_dx, l = e.mv_dy, m = e.mv_l, c = 1 / this.texsizeX; this.numVecVerts = 0; for (let e = 0; e < r; e++) { let n = (e + .25) / (r + i + .25 - 1); if (n -= l, n > 1e-4 && n < .9999) for (let e = 0; e < a; e++) { let r = (e + .25) / (a + s + .25 - 1); if (r += o, r > 1e-4 && r < .9999) { const e = this.getMotionDir(t, r, n); let a = e[0], s = e[1], i = a - r, o = s - n; i *= m, o *= m; let l = Math.sqrt(i * i + o * o); l < c && l > 1e-8 ? (l = c / l, i *= l, o *= l) : (i = c, i = c), a = r + i, s = n + o; const u = 2 * r - 1, A = 2 * n - 1, p = 2 * a - 1, d = 2 * s - 1; this.positions[3 * this.numVecVerts + 0] = u, this.positions[3 * this.numVecVerts + 1] = A, this.positions[3 * this.numVecVerts + 2] = 0, this.positions[3 * (this.numVecVerts + 1) + 0] = p, this.positions[3 * (this.numVecVerts + 1) + 1] = d, this.positions[3 * (this.numVecVerts + 1) + 2] = 0, this.numVecVerts += 2 } } } if (this.numVecVerts > 0) return this.color = [e.mv_r, e.mv_g, e.mv_b, n], !0 } return !1 } drawMotionVectors(e, t) { this.generateMotionVectors(e, t) && (this.gl.useProgram(this.shaderProgram), this.gl.bindBuffer(this.gl.ARRAY_BUFFER, this.positionVertexBuf), this.gl.bufferData(this.gl.ARRAY_BUFFER, this.positions, this.gl.STATIC_DRAW), this.gl.vertexAttribPointer(this.aPosLoc, 3, this.gl.FLOAT, !1, 0, 0), this.gl.enableVertexAttribArray(this.aPosLoc), this.gl.uniform4fv(this.colorLoc, this.color), this.gl.lineWidth(1), this.gl.blendFunc(this.gl.SRC_ALPHA, this.gl.ONE_MINUS_SRC_ALPHA), this.gl.drawArrays(this.gl.LINES, 0, this.numVecVerts)) } } class wt { constructor(e, t, n, a = {}) { this.gl = e, this.noise = t, this.image = n, this.rng = mt(), this.texsizeX = a.texsizeX, this.texsizeY = a.texsizeY, this.mesh_width = a.mesh_width, this.mesh_height = a.mesh_height, this.aspectx = a.aspectx, this.aspecty = a.aspecty, this.invAspectx = 1 / this.aspectx, this.invAspecty = 1 / this.aspecty, this.buildPositions(), this.indexBuf = e.createBuffer(), this.positionVertexBuf = this.gl.createBuffer(), this.warpUvVertexBuf = this.gl.createBuffer(), this.warpColorVertexBuf = this.gl.createBuffer(), this.floatPrecision = _t.getFragmentFloatPrecision(this.gl), this.createShader(), this.mainSampler = this.gl.createSampler(), this.mainSamplerFW = this.gl.createSampler(), this.mainSamplerFC = this.gl.createSampler(), this.mainSamplerPW = this.gl.createSampler(), this.mainSamplerPC = this.gl.createSampler(), e.samplerParameteri(this.mainSampler, e.TEXTURE_MIN_FILTER, e.LINEAR_MIPMAP_LINEAR), e.samplerParameteri(this.mainSampler, e.TEXTURE_MAG_FILTER, e.LINEAR), e.samplerParameteri(this.mainSampler, e.TEXTURE_WRAP_S, e.REPEAT), e.samplerParameteri(this.mainSampler, e.TEXTURE_WRAP_T, e.REPEAT), e.samplerParameteri(this.mainSamplerFW, e.TEXTURE_MIN_FILTER, e.LINEAR_MIPMAP_LINEAR), e.samplerParameteri(this.mainSamplerFW, e.TEXTURE_MAG_FILTER, e.LINEAR), e.samplerParameteri(this.mainSamplerFW, e.TEXTURE_WRAP_S, e.REPEAT), e.samplerParameteri(this.mainSamplerFW, e.TEXTURE_WRAP_T, e.REPEAT), e.samplerParameteri(this.mainSamplerFC, e.TEXTURE_MIN_FILTER, e.LINEAR_MIPMAP_LINEAR), e.samplerParameteri(this.mainSamplerFC, e.TEXTURE_MAG_FILTER, e.LINEAR), e.samplerParameteri(this.mainSamplerFC, e.TEXTURE_WRAP_S, e.CLAMP_TO_EDGE), e.samplerParameteri(this.mainSamplerFC, e.TEXTURE_WRAP_T, e.CLAMP_TO_EDGE), e.samplerParameteri(this.mainSamplerPW, e.TEXTURE_MIN_FILTER, e.NEAREST_MIPMAP_NEAREST), e.samplerParameteri(this.mainSamplerPW, e.TEXTURE_MAG_FILTER, e.NEAREST), e.samplerParameteri(this.mainSamplerPW, e.TEXTURE_WRAP_S, e.REPEAT), e.samplerParameteri(this.mainSamplerPW, e.TEXTURE_WRAP_T, e.REPEAT), e.samplerParameteri(this.mainSamplerPC, e.TEXTURE_MIN_FILTER, e.NEAREST_MIPMAP_NEAREST), e.samplerParameteri(this.mainSamplerPC, e.TEXTURE_MAG_FILTER, e.NEAREST), e.samplerParameteri(this.mainSamplerPC, e.TEXTURE_WRAP_S, e.CLAMP_TO_EDGE), e.samplerParameteri(this.mainSamplerPC, e.TEXTURE_WRAP_T, e.CLAMP_TO_EDGE) } buildPositions() { const e = this.mesh_width, t = this.mesh_height, n = e + 1, a = t + 1, r = 2 / e, s = 2 / t, i = []; for (let l = 0; l < a; l++) { const e = l * s - 1; for (let t = 0; t < n; t++) { const n = t * r - 1; i.push(n, -e, 0) } } const o = []; for (let l = 0; l < t; l++)for (let t = 0; t < e; t++) { const e = t + n * l, a = t + n * (l + 1), r = t + 1 + n * (l + 1), s = t + 1 + n * l; o.push(e, a, s), o.push(a, r, s) } this.vertices = new Float32Array(i), this.indices = new Uint16Array(o) } updateGlobals(e) { this.texsizeX = e.texsizeX, this.texsizeY = e.texsizeY, this.mesh_width = e.mesh_width, this.mesh_height = e.mesh_height, this.aspectx = e.aspectx, this.aspecty = e.aspecty, this.invAspectx = 1 / this.aspectx, this.invAspecty = 1 / this.aspecty, this.buildPositions() } createShader(e = "") { let t, n; if (0 === e.length) t = "ret = texture(sampler_main, uv).rgb * decay;", n = ""; else { const a = _t.getShaderParts(e); n = a[0], t = a[1] } t = t.replace(/texture2D/g, "texture"), t = t.replace(/texture3D/g, "texture"), this.userTextures = _t.getUserSamplers(n), this.shaderProgram = this.gl.createProgram(); const a = this.gl.createShader(this.gl.VERTEX_SHADER); this.gl.shaderSource(a, `\n      #version 300 es\n      precision ${this.floatPrecision} float;\n      const vec2 halfmad = vec2(0.5);\n      in vec2 aPos;\n      in vec2 aWarpUv;\n      in vec4 aWarpColor;\n      out vec2 uv;\n      out vec2 uv_orig;\n      out vec4 vColor;\n      void main(void) {\n        gl_Position = vec4(aPos, 0.0, 1.0);\n        uv_orig = aPos * halfmad + halfmad;\n        uv = aWarpUv;\n        vColor = aWarpColor;\n      }\n      `.trim()), this.gl.compileShader(a); const r = this.gl.createShader(this.gl.FRAGMENT_SHADER); this.gl.shaderSource(r, `\n      #version 300 es\n      precision ${this.floatPrecision} float;\n      precision highp int;\n      precision mediump sampler2D;\n      precision mediump sampler3D;\n\n      in vec2 uv;\n      in vec2 uv_orig;\n      in vec4 vColor;\n      out vec4 fragColor;\n      uniform sampler2D sampler_main;\n      uniform sampler2D sampler_fw_main;\n      uniform sampler2D sampler_fc_main;\n      uniform sampler2D sampler_pw_main;\n      uniform sampler2D sampler_pc_main;\n      uniform sampler2D sampler_blur1;\n      uniform sampler2D sampler_blur2;\n      uniform sampler2D sampler_blur3;\n      uniform sampler2D sampler_noise_lq;\n      uniform sampler2D sampler_noise_lq_lite;\n      uniform sampler2D sampler_noise_mq;\n      uniform sampler2D sampler_noise_hq;\n      uniform sampler2D sampler_pw_noise_lq;\n      uniform sampler3D sampler_noisevol_lq;\n      uniform sampler3D sampler_noisevol_hq;\n      uniform float time;\n      uniform float decay;\n      uniform vec2 resolution;\n      uniform vec4 aspect;\n      uniform vec4 texsize;\n      uniform vec4 texsize_noise_lq;\n      uniform vec4 texsize_noise_mq;\n      uniform vec4 texsize_noise_hq;\n      uniform vec4 texsize_noise_lq_lite;\n      uniform vec4 texsize_noisevol_lq;\n      uniform vec4 texsize_noisevol_hq;\n\n      uniform float bass;\n      uniform float mid;\n      uniform float treb;\n      uniform float vol;\n      uniform float bass_att;\n      uniform float mid_att;\n      uniform float treb_att;\n      uniform float vol_att;\n\n      uniform float frame;\n      uniform float fps;\n\n      uniform vec4 _qa;\n      uniform vec4 _qb;\n      uniform vec4 _qc;\n      uniform vec4 _qd;\n      uniform vec4 _qe;\n      uniform vec4 _qf;\n      uniform vec4 _qg;\n      uniform vec4 _qh;\n\n      #define q1 _qa.x\n      #define q2 _qa.y\n      #define q3 _qa.z\n      #define q4 _qa.w\n      #define q5 _qb.x\n      #define q6 _qb.y\n      #define q7 _qb.z\n      #define q8 _qb.w\n      #define q9 _qc.x\n      #define q10 _qc.y\n      #define q11 _qc.z\n      #define q12 _qc.w\n      #define q13 _qd.x\n      #define q14 _qd.y\n      #define q15 _qd.z\n      #define q16 _qd.w\n      #define q17 _qe.x\n      #define q18 _qe.y\n      #define q19 _qe.z\n      #define q20 _qe.w\n      #define q21 _qf.x\n      #define q22 _qf.y\n      #define q23 _qf.z\n      #define q24 _qf.w\n      #define q25 _qg.x\n      #define q26 _qg.y\n      #define q27 _qg.z\n      #define q28 _qg.w\n      #define q29 _qh.x\n      #define q30 _qh.y\n      #define q31 _qh.z\n      #define q32 _qh.w\n\n      uniform vec4 slow_roam_cos;\n      uniform vec4 roam_cos;\n      uniform vec4 slow_roam_sin;\n      uniform vec4 roam_sin;\n\n      uniform float blur1_min;\n      uniform float blur1_max;\n      uniform float blur2_min;\n      uniform float blur2_max;\n      uniform float blur3_min;\n      uniform float blur3_max;\n\n      uniform float scale1;\n      uniform float scale2;\n      uniform float scale3;\n      uniform float bias1;\n      uniform float bias2;\n      uniform float bias3;\n\n      uniform vec4 rand_frame;\n      uniform vec4 rand_preset;\n\n      float PI = ${Math.PI};\n\n      ${n}\n\n      void main(void) {\n        vec3 ret;\n        float rad = length(uv_orig - 0.5);\n        float ang = atan(uv_orig.x - 0.5, uv_orig.y - 0.5);\n\n        ${t}\n\n        fragColor = vec4(ret, 1.0) * vColor;\n      }\n      `.trim()), this.gl.compileShader(r), this.gl.attachShader(this.shaderProgram, a), this.gl.attachShader(this.shaderProgram, r), this.gl.linkProgram(this.shaderProgram), this.positionLocation = this.gl.getAttribLocation(this.shaderProgram, "aPos"), this.warpUvLocation = this.gl.getAttribLocation(this.shaderProgram, "aWarpUv"), this.warpColorLocation = this.gl.getAttribLocation(this.shaderProgram, "aWarpColor"), this.textureLoc = this.gl.getUniformLocation(this.shaderProgram, "sampler_main"), this.textureFWLoc = this.gl.getUniformLocation(this.shaderProgram, "sampler_fw_main"), this.textureFCLoc = this.gl.getUniformLocation(this.shaderProgram, "sampler_fc_main"), this.texturePWLoc = this.gl.getUniformLocation(this.shaderProgram, "sampler_pw_main"), this.texturePCLoc = this.gl.getUniformLocation(this.shaderProgram, "sampler_pc_main"), this.blurTexture1Loc = this.gl.getUniformLocation(this.shaderProgram, "sampler_blur1"), this.blurTexture2Loc = this.gl.getUniformLocation(this.shaderProgram, "sampler_blur2"), this.blurTexture3Loc = this.gl.getUniformLocation(this.shaderProgram, "sampler_blur3"), this.noiseLQLoc = this.gl.getUniformLocation(this.shaderProgram, "sampler_noise_lq"), this.noiseMQLoc = this.gl.getUniformLocation(this.shaderProgram, "sampler_noise_mq"), this.noiseHQLoc = this.gl.getUniformLocation(this.shaderProgram, "sampler_noise_hq"), this.noiseLQLiteLoc = this.gl.getUniformLocation(this.shaderProgram, "sampler_noise_lq_lite"), this.noisePointLQLoc = this.gl.getUniformLocation(this.shaderProgram, "sampler_pw_noise_lq"), this.noiseVolLQLoc = this.gl.getUniformLocation(this.shaderProgram, "sampler_noisevol_lq"), this.noiseVolHQLoc = this.gl.getUniformLocation(this.shaderProgram, "sampler_noisevol_hq"), this.decayLoc = this.gl.getUniformLocation(this.shaderProgram, "decay"), this.texsizeLoc = this.gl.getUniformLocation(this.shaderProgram, "texsize"), this.texsizeNoiseLQLoc = this.gl.getUniformLocation(this.shaderProgram, "texsize_noise_lq"), this.texsizeNoiseMQLoc = this.gl.getUniformLocation(this.shaderProgram, "texsize_noise_mq"), this.texsizeNoiseHQLoc = this.gl.getUniformLocation(this.shaderProgram, "texsize_noise_hq"), this.texsizeNoiseLQLiteLoc = this.gl.getUniformLocation(this.shaderProgram, "texsize_noise_lq_lite"), this.texsizeNoiseVolLQLoc = this.gl.getUniformLocation(this.shaderProgram, "texsize_noisevol_lq"), this.texsizeNoiseVolHQLoc = this.gl.getUniformLocation(this.shaderProgram, "texsize_noisevol_hq"), this.resolutionLoc = this.gl.getUniformLocation(this.shaderProgram, "resolution"), this.aspectLoc = this.gl.getUniformLocation(this.shaderProgram, "aspect"), this.bassLoc = this.gl.getUniformLocation(this.shaderProgram, "bass"), this.midLoc = this.gl.getUniformLocation(this.shaderProgram, "mid"), this.trebLoc = this.gl.getUniformLocation(this.shaderProgram, "treb"), this.volLoc = this.gl.getUniformLocation(this.shaderProgram, "vol"), this.bassAttLoc = this.gl.getUniformLocation(this.shaderProgram, "bass_att"), this.midAttLoc = this.gl.getUniformLocation(this.shaderProgram, "mid_att"), this.trebAttLoc = this.gl.getUniformLocation(this.shaderProgram, "treb_att"), this.volAttLoc = this.gl.getUniformLocation(this.shaderProgram, "vol_att"), this.timeLoc = this.gl.getUniformLocation(this.shaderProgram, "time"), this.frameLoc = this.gl.getUniformLocation(this.shaderProgram, "frame"), this.fpsLoc = this.gl.getUniformLocation(this.shaderProgram, "fps"), this.blur1MinLoc = this.gl.getUniformLocation(this.shaderProgram, "blur1_min"), this.blur1MaxLoc = this.gl.getUniformLocation(this.shaderProgram, "blur1_max"), this.blur2MinLoc = this.gl.getUniformLocation(this.shaderProgram, "blur2_min"), this.blur2MaxLoc = this.gl.getUniformLocation(this.shaderProgram, "blur2_max"), this.blur3MinLoc = this.gl.getUniformLocation(this.shaderProgram, "blur3_min"), this.blur3MaxLoc = this.gl.getUniformLocation(this.shaderProgram, "blur3_max"), this.scale1Loc = this.gl.getUniformLocation(this.shaderProgram, "scale1"), this.scale2Loc = this.gl.getUniformLocation(this.shaderProgram, "scale2"), this.scale3Loc = this.gl.getUniformLocation(this.shaderProgram, "scale3"), this.bias1Loc = this.gl.getUniformLocation(this.shaderProgram, "bias1"), this.bias2Loc = this.gl.getUniformLocation(this.shaderProgram, "bias2"), this.bias3Loc = this.gl.getUniformLocation(this.shaderProgram, "bias3"), this.randPresetLoc = this.gl.getUniformLocation(this.shaderProgram, "rand_preset"), this.randFrameLoc = this.gl.getUniformLocation(this.shaderProgram, "rand_frame"), this.qaLoc = this.gl.getUniformLocation(this.shaderProgram, "_qa"), this.qbLoc = this.gl.getUniformLocation(this.shaderProgram, "_qb"), this.qcLoc = this.gl.getUniformLocation(this.shaderProgram, "_qc"), this.qdLoc = this.gl.getUniformLocation(this.shaderProgram, "_qd"), this.qeLoc = this.gl.getUniformLocation(this.shaderProgram, "_qe"), this.qfLoc = this.gl.getUniformLocation(this.shaderProgram, "_qf"), this.qgLoc = this.gl.getUniformLocation(this.shaderProgram, "_qg"), this.qhLoc = this.gl.getUniformLocation(this.shaderProgram, "_qh"), this.slowRoamCosLoc = this.gl.getUniformLocation(this.shaderProgram, "slow_roam_cos"), this.roamCosLoc = this.gl.getUniformLocation(this.shaderProgram, "roam_cos"), this.slowRoamSinLoc = this.gl.getUniformLocation(this.shaderProgram, "slow_roam_sin"), this.roamSinLoc = this.gl.getUniformLocation(this.shaderProgram, "roam_sin"); for (let s = 0; s < this.userTextures.length; s++) { const e = this.userTextures[s]; e.textureLoc = this.gl.getUniformLocation(this.shaderProgram, `sampler_${e.sampler}`) } } updateShader(e) { this.createShader(e) } bindBlurVals(e, t) { const n = e[0], a = e[1], r = e[2], s = t[0], i = t[1], o = t[2], l = s - n, m = n, c = i - a, u = a, A = o - r, p = r; this.gl.uniform1f(this.blur1MinLoc, n), this.gl.uniform1f(this.blur1MaxLoc, s), this.gl.uniform1f(this.blur2MinLoc, a), this.gl.uniform1f(this.blur2MaxLoc, i), this.gl.uniform1f(this.blur3MinLoc, r), this.gl.uniform1f(this.blur3MaxLoc, o), this.gl.uniform1f(this.scale1Loc, l), this.gl.uniform1f(this.scale2Loc, c), this.gl.uniform1f(this.scale3Loc, A), this.gl.uniform1f(this.bias1Loc, m), this.gl.uniform1f(this.bias2Loc, u), this.gl.uniform1f(this.bias3Loc, p) } renderQuadTexture(e, t, n, a, r, s, i, o, l, m, c) { this.gl.useProgram(this.shaderProgram), this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER, this.indexBuf), this.gl.bufferData(this.gl.ELEMENT_ARRAY_BUFFER, this.indices, this.gl.STATIC_DRAW), this.gl.bindBuffer(this.gl.ARRAY_BUFFER, this.positionVertexBuf), this.gl.bufferData(this.gl.ARRAY_BUFFER, this.vertices, this.gl.STATIC_DRAW), this.gl.vertexAttribPointer(this.positionLocation, 3, this.gl.FLOAT, !1, 0, 0), this.gl.enableVertexAttribArray(this.positionLocation), this.gl.bindBuffer(this.gl.ARRAY_BUFFER, this.warpUvVertexBuf), this.gl.bufferData(this.gl.ARRAY_BUFFER, m, this.gl.STATIC_DRAW), this.gl.vertexAttribPointer(this.warpUvLocation, 2, this.gl.FLOAT, !1, 0, 0), this.gl.enableVertexAttribArray(this.warpUvLocation), this.gl.bindBuffer(this.gl.ARRAY_BUFFER, this.warpColorVertexBuf), this.gl.bufferData(this.gl.ARRAY_BUFFER, c, this.gl.STATIC_DRAW), this.gl.vertexAttribPointer(this.warpColorLocation, 4, this.gl.FLOAT, !1, 0, 0), this.gl.enableVertexAttribArray(this.warpColorLocation); const u = 0 !== o.wrap ? this.gl.REPEAT : this.gl.CLAMP_TO_EDGE; this.gl.samplerParameteri(this.mainSampler, this.gl.TEXTURE_WRAP_S, u), this.gl.samplerParameteri(this.mainSampler, this.gl.TEXTURE_WRAP_T, u), this.gl.activeTexture(this.gl.TEXTURE0), this.gl.bindTexture(this.gl.TEXTURE_2D, t), this.gl.bindSampler(0, this.mainSampler), this.gl.uniform1i(this.textureLoc, 0), this.gl.activeTexture(this.gl.TEXTURE1), this.gl.bindTexture(this.gl.TEXTURE_2D, t), this.gl.bindSampler(1, this.mainSamplerFW), this.gl.uniform1i(this.textureFWLoc, 1), this.gl.activeTexture(this.gl.TEXTURE2), this.gl.bindTexture(this.gl.TEXTURE_2D, t), this.gl.bindSampler(2, this.mainSamplerFC), this.gl.uniform1i(this.textureFCLoc, 2), this.gl.activeTexture(this.gl.TEXTURE3), this.gl.bindTexture(this.gl.TEXTURE_2D, t), this.gl.bindSampler(3, this.mainSamplerPW), this.gl.uniform1i(this.texturePWLoc, 3), this.gl.activeTexture(this.gl.TEXTURE4), this.gl.bindTexture(this.gl.TEXTURE_2D, t), this.gl.bindSampler(4, this.mainSamplerPC), this.gl.uniform1i(this.texturePCLoc, 4), this.gl.activeTexture(this.gl.TEXTURE5), this.gl.bindTexture(this.gl.TEXTURE_2D, n), this.gl.uniform1i(this.blurTexture1Loc, 5), this.gl.activeTexture(this.gl.TEXTURE6), this.gl.bindTexture(this.gl.TEXTURE_2D, a), this.gl.uniform1i(this.blurTexture2Loc, 6), this.gl.activeTexture(this.gl.TEXTURE7), this.gl.bindTexture(this.gl.TEXTURE_2D, r), this.gl.uniform1i(this.blurTexture3Loc, 7), this.gl.activeTexture(this.gl.TEXTURE8), this.gl.bindTexture(this.gl.TEXTURE_2D, this.noise.noiseTexLQ), this.gl.uniform1i(this.noiseLQLoc, 8), this.gl.activeTexture(this.gl.TEXTURE9), this.gl.bindTexture(this.gl.TEXTURE_2D, this.noise.noiseTexMQ), this.gl.uniform1i(this.noiseMQLoc, 9), this.gl.activeTexture(this.gl.TEXTURE10), this.gl.bindTexture(this.gl.TEXTURE_2D, this.noise.noiseTexHQ), this.gl.uniform1i(this.noiseHQLoc, 10), this.gl.activeTexture(this.gl.TEXTURE11), this.gl.bindTexture(this.gl.TEXTURE_2D, this.noise.noiseTexLQLite), this.gl.uniform1i(this.noiseLQLiteLoc, 11), this.gl.activeTexture(this.gl.TEXTURE12), this.gl.bindTexture(this.gl.TEXTURE_2D, this.noise.noiseTexLQ), this.gl.bindSampler(12, this.noise.noiseTexPointLQ), this.gl.uniform1i(this.noisePointLQLoc, 12), this.gl.activeTexture(this.gl.TEXTURE13), this.gl.bindTexture(this.gl.TEXTURE_3D, this.noise.noiseTexVolLQ), this.gl.uniform1i(this.noiseVolLQLoc, 13), this.gl.activeTexture(this.gl.TEXTURE14), this.gl.bindTexture(this.gl.TEXTURE_3D, this.noise.noiseTexVolHQ), this.gl.uniform1i(this.noiseVolHQLoc, 14); for (let A = 0; A < this.userTextures.length; A++) { const e = this.userTextures[A]; this.gl.activeTexture(this.gl.TEXTURE15 + A), this.gl.bindTexture(this.gl.TEXTURE_2D, this.image.getTexture(e.sampler)), this.gl.uniform1i(e.textureLoc, 15 + A) } this.gl.uniform1f(this.decayLoc, o.decay), this.gl.uniform2fv(this.resolutionLoc, [this.texsizeX, this.texsizeY]), this.gl.uniform4fv(this.aspectLoc, [this.aspectx, this.aspecty, this.invAspectx, this.invAspecty]), this.gl.uniform4fv(this.texsizeLoc, [this.texsizeX, this.texsizeY, 1 / this.texsizeX, 1 / this.texsizeY]), this.gl.uniform4fv(this.texsizeNoiseLQLoc, [256, 256, 1 / 256, 1 / 256]), this.gl.uniform4fv(this.texsizeNoiseMQLoc, [256, 256, 1 / 256, 1 / 256]), this.gl.uniform4fv(this.texsizeNoiseHQLoc, [256, 256, 1 / 256, 1 / 256]), this.gl.uniform4fv(this.texsizeNoiseLQLiteLoc, [32, 32, 1 / 32, 1 / 32]), this.gl.uniform4fv(this.texsizeNoiseVolLQLoc, [32, 32, 1 / 32, 1 / 32]), this.gl.uniform4fv(this.texsizeNoiseVolHQLoc, [32, 32, 1 / 32, 1 / 32]), this.gl.uniform1f(this.bassLoc, o.bass), this.gl.uniform1f(this.midLoc, o.mid), this.gl.uniform1f(this.trebLoc, o.treb), this.gl.uniform1f(this.volLoc, (o.bass + o.mid + o.treb) / 3), this.gl.uniform1f(this.bassAttLoc, o.bass_att), this.gl.uniform1f(this.midAttLoc, o.mid_att), this.gl.uniform1f(this.trebAttLoc, o.treb_att), this.gl.uniform1f(this.volAttLoc, (o.bass_att + o.mid_att + o.treb_att) / 3), this.gl.uniform1f(this.timeLoc, o.time), this.gl.uniform1f(this.frameLoc, o.frame), this.gl.uniform1f(this.fpsLoc, o.fps), this.gl.uniform4fv(this.randPresetLoc, o.rand_preset), this.gl.uniform4fv(this.randFrameLoc, new Float32Array([this.rng.random(), this.rng.random(), this.rng.random(), this.rng.random()])), this.gl.uniform4fv(this.qaLoc, new Float32Array([l.q1 || 0, l.q2 || 0, l.q3 || 0, l.q4 || 0])), this.gl.uniform4fv(this.qbLoc, new Float32Array([l.q5 || 0, l.q6 || 0, l.q7 || 0, l.q8 || 0])), this.gl.uniform4fv(this.qcLoc, new Float32Array([l.q9 || 0, l.q10 || 0, l.q11 || 0, l.q12 || 0])), this.gl.uniform4fv(this.qdLoc, new Float32Array([l.q13 || 0, l.q14 || 0, l.q15 || 0, l.q16 || 0])), this.gl.uniform4fv(this.qeLoc, new Float32Array([l.q17 || 0, l.q18 || 0, l.q19 || 0, l.q20 || 0])), this.gl.uniform4fv(this.qfLoc, new Float32Array([l.q21 || 0, l.q22 || 0, l.q23 || 0, l.q24 || 0])), this.gl.uniform4fv(this.qgLoc, new Float32Array([l.q25 || 0, l.q26 || 0, l.q27 || 0, l.q28 || 0])), this.gl.uniform4fv(this.qhLoc, new Float32Array([l.q29 || 0, l.q30 || 0, l.q31 || 0, l.q32 || 0])), this.gl.uniform4fv(this.slowRoamCosLoc, [.5 + .5 * Math.cos(.005 * o.time), .5 + .5 * Math.cos(.008 * o.time), .5 + .5 * Math.cos(.013 * o.time), .5 + .5 * Math.cos(.022 * o.time)]), this.gl.uniform4fv(this.roamCosLoc, [.5 + .5 * Math.cos(.3 * o.time), .5 + .5 * Math.cos(1.3 * o.time), .5 + .5 * Math.cos(5 * o.time), .5 + .5 * Math.cos(20 * o.time)]), this.gl.uniform4fv(this.slowRoamSinLoc, [.5 + .5 * Math.sin(.005 * o.time), .5 + .5 * Math.sin(.008 * o.time), .5 + .5 * Math.sin(.013 * o.time), .5 + .5 * Math.sin(.022 * o.time)]), this.gl.uniform4fv(this.roamSinLoc, [.5 + .5 * Math.sin(.3 * o.time), .5 + .5 * Math.sin(1.3 * o.time), .5 + .5 * Math.sin(5 * o.time), .5 + .5 * Math.sin(20 * o.time)]), this.bindBlurVals(s, i), e ? this.gl.blendFunc(this.gl.SRC_ALPHA, this.gl.ONE_MINUS_SRC_ALPHA) : this.gl.disable(this.gl.BLEND), this.gl.drawElements(this.gl.TRIANGLES, this.indices.length, this.gl.UNSIGNED_SHORT, 0), e || this.gl.enable(this.gl.BLEND) } } class It { constructor(e, t, n, a = {}) { this.gl = e, this.noise = t, this.image = n, this.rng = mt(), this.mesh_width = a.mesh_width, this.mesh_height = a.mesh_height, this.texsizeX = a.texsizeX, this.texsizeY = a.texsizeY, this.aspectx = a.aspectx, this.aspecty = a.aspecty, this.invAspectx = 1 / this.aspectx, this.invAspecty = 1 / this.aspecty, this.compWidth = 32, this.compHeight = 24, this.buildPositions(), this.indexBuf = e.createBuffer(), this.positionVertexBuf = this.gl.createBuffer(), this.compColorVertexBuf = this.gl.createBuffer(), this.floatPrecision = _t.getFragmentFloatPrecision(this.gl), this.createShader(), this.mainSampler = this.gl.createSampler(), this.mainSamplerFW = this.gl.createSampler(), this.mainSamplerFC = this.gl.createSampler(), this.mainSamplerPW = this.gl.createSampler(), this.mainSamplerPC = this.gl.createSampler(), e.samplerParameteri(this.mainSampler, e.TEXTURE_MIN_FILTER, e.LINEAR_MIPMAP_LINEAR), e.samplerParameteri(this.mainSampler, e.TEXTURE_MAG_FILTER, e.LINEAR), e.samplerParameteri(this.mainSampler, e.TEXTURE_WRAP_S, e.REPEAT), e.samplerParameteri(this.mainSampler, e.TEXTURE_WRAP_T, e.REPEAT), e.samplerParameteri(this.mainSamplerFW, e.TEXTURE_MIN_FILTER, e.LINEAR_MIPMAP_LINEAR), e.samplerParameteri(this.mainSamplerFW, e.TEXTURE_MAG_FILTER, e.LINEAR), e.samplerParameteri(this.mainSamplerFW, e.TEXTURE_WRAP_S, e.REPEAT), e.samplerParameteri(this.mainSamplerFW, e.TEXTURE_WRAP_T, e.REPEAT), e.samplerParameteri(this.mainSamplerFC, e.TEXTURE_MIN_FILTER, e.LINEAR_MIPMAP_LINEAR), e.samplerParameteri(this.mainSamplerFC, e.TEXTURE_MAG_FILTER, e.LINEAR), e.samplerParameteri(this.mainSamplerFC, e.TEXTURE_WRAP_S, e.CLAMP_TO_EDGE), e.samplerParameteri(this.mainSamplerFC, e.TEXTURE_WRAP_T, e.CLAMP_TO_EDGE), e.samplerParameteri(this.mainSamplerPW, e.TEXTURE_MIN_FILTER, e.NEAREST_MIPMAP_NEAREST), e.samplerParameteri(this.mainSamplerPW, e.TEXTURE_MAG_FILTER, e.NEAREST), e.samplerParameteri(this.mainSamplerPW, e.TEXTURE_WRAP_S, e.REPEAT), e.samplerParameteri(this.mainSamplerPW, e.TEXTURE_WRAP_T, e.REPEAT), e.samplerParameteri(this.mainSamplerPC, e.TEXTURE_MIN_FILTER, e.NEAREST_MIPMAP_NEAREST), e.samplerParameteri(this.mainSamplerPC, e.TEXTURE_MAG_FILTER, e.NEAREST), e.samplerParameteri(this.mainSamplerPC, e.TEXTURE_WRAP_S, e.CLAMP_TO_EDGE), e.samplerParameteri(this.mainSamplerPC, e.TEXTURE_WRAP_T, e.CLAMP_TO_EDGE) } buildPositions() { const e = this.compWidth, t = this.compHeight, n = e + 1, a = t + 1, r = 2 / e, s = 2 / t, i = []; for (let l = 0; l < a; l++) { const e = l * s - 1; for (let t = 0; t < n; t++) { const n = t * r - 1; i.push(n, -e, 0) } } const o = []; for (let l = 0; l < t; l++)for (let t = 0; t < e; t++) { const e = t + n * l, a = t + n * (l + 1), r = t + 1 + n * (l + 1), s = t + 1 + n * l; o.push(e, a, s), o.push(a, r, s) } this.vertices = new Float32Array(i), this.indices = new Uint16Array(o) } updateGlobals(e) { this.mesh_width = e.mesh_width, this.mesh_height = e.mesh_height, this.texsizeX = e.texsizeX, this.texsizeY = e.texsizeY, this.aspectx = e.aspectx, this.aspecty = e.aspecty, this.invAspectx = 1 / this.aspectx, this.invAspecty = 1 / this.aspecty, this.buildPositions() } createShader(e = "") { let t, n; if (0 === e.length) t = "float orient_horiz = mod(echo_orientation, 2.0);\n                        float orient_x = (orient_horiz != 0.0) ? -1.0 : 1.0;\n                        float orient_y = (echo_orientation >= 2.0) ? -1.0 : 1.0;\n                        vec2 uv_echo = ((uv - 0.5) *\n                                        (1.0 / echo_zoom) *\n                                        vec2(orient_x, orient_y)) + 0.5;\n\n                        ret = mix(texture(sampler_main, uv).rgb,\n                                  texture(sampler_main, uv_echo).rgb,\n                                  echo_alpha);\n\n                        ret *= gammaAdj;\n\n                        if(fShader >= 1.0) {\n                          ret *= hue_shader;\n                        } else if(fShader > 0.001) {\n                          ret *= (1.0 - fShader) + (fShader * hue_shader);\n                        }\n\n                        if(brighten != 0) ret = sqrt(ret);\n                        if(darken != 0) ret = ret*ret;\n                        if(solarize != 0) ret = ret * (1.0 - ret) * 4.0;\n                        if(invert != 0) ret = 1.0 - ret;", n = ""; else { const a = _t.getShaderParts(e); n = a[0], t = a[1] } t = t.replace(/texture2D/g, "texture"), t = t.replace(/texture3D/g, "texture"), this.userTextures = _t.getUserSamplers(n), this.shaderProgram = this.gl.createProgram(); const a = this.gl.createShader(this.gl.VERTEX_SHADER); this.gl.shaderSource(a, "\n      #version 300 es\n      const vec2 halfmad = vec2(0.5);\n      in vec2 aPos;\n      in vec4 aCompColor;\n      out vec2 vUv;\n      out vec4 vColor;\n      void main(void) {\n        gl_Position = vec4(aPos, 0.0, 1.0);\n        vUv = aPos * halfmad + halfmad;\n        vColor = aCompColor;\n      }\n      ".trim()), this.gl.compileShader(a); const r = this.gl.createShader(this.gl.FRAGMENT_SHADER); this.gl.shaderSource(r, `\n      #version 300 es\n      precision ${this.floatPrecision} float;\n      precision highp int;\n      precision mediump sampler2D;\n      precision mediump sampler3D;\n\n      vec3 lum(vec3 v){\n          return vec3(dot(v, vec3(0.32,0.49,0.29)));\n      }\n\n      in vec2 vUv;\n      in vec4 vColor;\n      out vec4 fragColor;\n      uniform sampler2D sampler_main;\n      uniform sampler2D sampler_fw_main;\n      uniform sampler2D sampler_fc_main;\n      uniform sampler2D sampler_pw_main;\n      uniform sampler2D sampler_pc_main;\n      uniform sampler2D sampler_blur1;\n      uniform sampler2D sampler_blur2;\n      uniform sampler2D sampler_blur3;\n      uniform sampler2D sampler_noise_lq;\n      uniform sampler2D sampler_noise_lq_lite;\n      uniform sampler2D sampler_noise_mq;\n      uniform sampler2D sampler_noise_hq;\n      uniform sampler2D sampler_pw_noise_lq;\n      uniform sampler3D sampler_noisevol_lq;\n      uniform sampler3D sampler_noisevol_hq;\n\n      uniform float time;\n      uniform float gammaAdj;\n      uniform float echo_zoom;\n      uniform float echo_alpha;\n      uniform float echo_orientation;\n      uniform int invert;\n      uniform int brighten;\n      uniform int darken;\n      uniform int solarize;\n      uniform vec2 resolution;\n      uniform vec4 aspect;\n      uniform vec4 texsize;\n      uniform vec4 texsize_noise_lq;\n      uniform vec4 texsize_noise_mq;\n      uniform vec4 texsize_noise_hq;\n      uniform vec4 texsize_noise_lq_lite;\n      uniform vec4 texsize_noisevol_lq;\n      uniform vec4 texsize_noisevol_hq;\n\n      uniform float bass;\n      uniform float mid;\n      uniform float treb;\n      uniform float vol;\n      uniform float bass_att;\n      uniform float mid_att;\n      uniform float treb_att;\n      uniform float vol_att;\n\n      uniform float frame;\n      uniform float fps;\n\n      uniform vec4 _qa;\n      uniform vec4 _qb;\n      uniform vec4 _qc;\n      uniform vec4 _qd;\n      uniform vec4 _qe;\n      uniform vec4 _qf;\n      uniform vec4 _qg;\n      uniform vec4 _qh;\n\n      #define q1 _qa.x\n      #define q2 _qa.y\n      #define q3 _qa.z\n      #define q4 _qa.w\n      #define q5 _qb.x\n      #define q6 _qb.y\n      #define q7 _qb.z\n      #define q8 _qb.w\n      #define q9 _qc.x\n      #define q10 _qc.y\n      #define q11 _qc.z\n      #define q12 _qc.w\n      #define q13 _qd.x\n      #define q14 _qd.y\n      #define q15 _qd.z\n      #define q16 _qd.w\n      #define q17 _qe.x\n      #define q18 _qe.y\n      #define q19 _qe.z\n      #define q20 _qe.w\n      #define q21 _qf.x\n      #define q22 _qf.y\n      #define q23 _qf.z\n      #define q24 _qf.w\n      #define q25 _qg.x\n      #define q26 _qg.y\n      #define q27 _qg.z\n      #define q28 _qg.w\n      #define q29 _qh.x\n      #define q30 _qh.y\n      #define q31 _qh.z\n      #define q32 _qh.w\n\n      uniform vec4 slow_roam_cos;\n      uniform vec4 roam_cos;\n      uniform vec4 slow_roam_sin;\n      uniform vec4 roam_sin;\n\n      uniform float blur1_min;\n      uniform float blur1_max;\n      uniform float blur2_min;\n      uniform float blur2_max;\n      uniform float blur3_min;\n      uniform float blur3_max;\n\n      uniform float scale1;\n      uniform float scale2;\n      uniform float scale3;\n      uniform float bias1;\n      uniform float bias2;\n      uniform float bias3;\n\n      uniform vec4 rand_frame;\n      uniform vec4 rand_preset;\n\n      uniform float fShader;\n\n      float PI = ${Math.PI};\n\n      ${n}\n\n      void main(void) {\n        vec3 ret;\n        vec2 uv = vUv;\n        vec2 uv_orig = vUv;\n        uv.y = 1.0 - uv.y;\n        uv_orig.y = 1.0 - uv_orig.y;\n        float rad = length(uv - 0.5);\n        float ang = atan(uv.x - 0.5, uv.y - 0.5);\n        vec3 hue_shader = vColor.rgb;\n\n        ${t}\n\n        fragColor = vec4(ret, vColor.a);\n      }\n      `.trim()), this.gl.compileShader(r), this.gl.attachShader(this.shaderProgram, a), this.gl.attachShader(this.shaderProgram, r), this.gl.linkProgram(this.shaderProgram), this.positionLocation = this.gl.getAttribLocation(this.shaderProgram, "aPos"), this.compColorLocation = this.gl.getAttribLocation(this.shaderProgram, "aCompColor"), this.textureLoc = this.gl.getUniformLocation(this.shaderProgram, "sampler_main"), this.textureFWLoc = this.gl.getUniformLocation(this.shaderProgram, "sampler_fw_main"), this.textureFCLoc = this.gl.getUniformLocation(this.shaderProgram, "sampler_fc_main"), this.texturePWLoc = this.gl.getUniformLocation(this.shaderProgram, "sampler_pw_main"), this.texturePCLoc = this.gl.getUniformLocation(this.shaderProgram, "sampler_pc_main"), this.blurTexture1Loc = this.gl.getUniformLocation(this.shaderProgram, "sampler_blur1"), this.blurTexture2Loc = this.gl.getUniformLocation(this.shaderProgram, "sampler_blur2"), this.blurTexture3Loc = this.gl.getUniformLocation(this.shaderProgram, "sampler_blur3"), this.noiseLQLoc = this.gl.getUniformLocation(this.shaderProgram, "sampler_noise_lq"), this.noiseMQLoc = this.gl.getUniformLocation(this.shaderProgram, "sampler_noise_mq"), this.noiseHQLoc = this.gl.getUniformLocation(this.shaderProgram, "sampler_noise_hq"), this.noiseLQLiteLoc = this.gl.getUniformLocation(this.shaderProgram, "sampler_noise_lq_lite"), this.noisePointLQLoc = this.gl.getUniformLocation(this.shaderProgram, "sampler_pw_noise_lq"), this.noiseVolLQLoc = this.gl.getUniformLocation(this.shaderProgram, "sampler_noisevol_lq"), this.noiseVolHQLoc = this.gl.getUniformLocation(this.shaderProgram, "sampler_noisevol_hq"), this.timeLoc = this.gl.getUniformLocation(this.shaderProgram, "time"), this.gammaAdjLoc = this.gl.getUniformLocation(this.shaderProgram, "gammaAdj"), this.echoZoomLoc = this.gl.getUniformLocation(this.shaderProgram, "echo_zoom"), this.echoAlphaLoc = this.gl.getUniformLocation(this.shaderProgram, "echo_alpha"), this.echoOrientationLoc = this.gl.getUniformLocation(this.shaderProgram, "echo_orientation"), this.invertLoc = this.gl.getUniformLocation(this.shaderProgram, "invert"), this.brightenLoc = this.gl.getUniformLocation(this.shaderProgram, "brighten"), this.darkenLoc = this.gl.getUniformLocation(this.shaderProgram, "darken"), this.solarizeLoc = this.gl.getUniformLocation(this.shaderProgram, "solarize"), this.texsizeLoc = this.gl.getUniformLocation(this.shaderProgram, "texsize"), this.texsizeNoiseLQLoc = this.gl.getUniformLocation(this.shaderProgram, "texsize_noise_lq"), this.texsizeNoiseMQLoc = this.gl.getUniformLocation(this.shaderProgram, "texsize_noise_mq"), this.texsizeNoiseHQLoc = this.gl.getUniformLocation(this.shaderProgram, "texsize_noise_hq"), this.texsizeNoiseLQLiteLoc = this.gl.getUniformLocation(this.shaderProgram, "texsize_noise_lq_lite"), this.texsizeNoiseVolLQLoc = this.gl.getUniformLocation(this.shaderProgram, "texsize_noisevol_lq"), this.texsizeNoiseVolHQLoc = this.gl.getUniformLocation(this.shaderProgram, "texsize_noisevol_hq"), this.resolutionLoc = this.gl.getUniformLocation(this.shaderProgram, "resolution"), this.aspectLoc = this.gl.getUniformLocation(this.shaderProgram, "aspect"), this.bassLoc = this.gl.getUniformLocation(this.shaderProgram, "bass"), this.midLoc = this.gl.getUniformLocation(this.shaderProgram, "mid"), this.trebLoc = this.gl.getUniformLocation(this.shaderProgram, "treb"), this.volLoc = this.gl.getUniformLocation(this.shaderProgram, "vol"), this.bassAttLoc = this.gl.getUniformLocation(this.shaderProgram, "bass_att"), this.midAttLoc = this.gl.getUniformLocation(this.shaderProgram, "mid_att"), this.trebAttLoc = this.gl.getUniformLocation(this.shaderProgram, "treb_att"), this.volAttLoc = this.gl.getUniformLocation(this.shaderProgram, "vol_att"), this.frameLoc = this.gl.getUniformLocation(this.shaderProgram, "frame"), this.fpsLoc = this.gl.getUniformLocation(this.shaderProgram, "fps"), this.blur1MinLoc = this.gl.getUniformLocation(this.shaderProgram, "blur1_min"), this.blur1MaxLoc = this.gl.getUniformLocation(this.shaderProgram, "blur1_max"), this.blur2MinLoc = this.gl.getUniformLocation(this.shaderProgram, "blur2_min"), this.blur2MaxLoc = this.gl.getUniformLocation(this.shaderProgram, "blur2_max"), this.blur3MinLoc = this.gl.getUniformLocation(this.shaderProgram, "blur3_min"), this.blur3MaxLoc = this.gl.getUniformLocation(this.shaderProgram, "blur3_max"), this.scale1Loc = this.gl.getUniformLocation(this.shaderProgram, "scale1"), this.scale2Loc = this.gl.getUniformLocation(this.shaderProgram, "scale2"), this.scale3Loc = this.gl.getUniformLocation(this.shaderProgram, "scale3"), this.bias1Loc = this.gl.getUniformLocation(this.shaderProgram, "bias1"), this.bias2Loc = this.gl.getUniformLocation(this.shaderProgram, "bias2"), this.bias3Loc = this.gl.getUniformLocation(this.shaderProgram, "bias3"), this.randPresetLoc = this.gl.getUniformLocation(this.shaderProgram, "rand_preset"), this.randFrameLoc = this.gl.getUniformLocation(this.shaderProgram, "rand_frame"), this.fShaderLoc = this.gl.getUniformLocation(this.shaderProgram, "fShader"), this.qaLoc = this.gl.getUniformLocation(this.shaderProgram, "_qa"), this.qbLoc = this.gl.getUniformLocation(this.shaderProgram, "_qb"), this.qcLoc = this.gl.getUniformLocation(this.shaderProgram, "_qc"), this.qdLoc = this.gl.getUniformLocation(this.shaderProgram, "_qd"), this.qeLoc = this.gl.getUniformLocation(this.shaderProgram, "_qe"), this.qfLoc = this.gl.getUniformLocation(this.shaderProgram, "_qf"), this.qgLoc = this.gl.getUniformLocation(this.shaderProgram, "_qg"), this.qhLoc = this.gl.getUniformLocation(this.shaderProgram, "_qh"), this.slowRoamCosLoc = this.gl.getUniformLocation(this.shaderProgram, "slow_roam_cos"), this.roamCosLoc = this.gl.getUniformLocation(this.shaderProgram, "roam_cos"), this.slowRoamSinLoc = this.gl.getUniformLocation(this.shaderProgram, "slow_roam_sin"), this.roamSinLoc = this.gl.getUniformLocation(this.shaderProgram, "roam_sin"); for (let s = 0; s < this.userTextures.length; s++) { const e = this.userTextures[s]; e.textureLoc = this.gl.getUniformLocation(this.shaderProgram, `sampler_${e.sampler}`) } } updateShader(e) { this.createShader(e) } bindBlurVals(e, t) { const n = e[0], a = e[1], r = e[2], s = t[0], i = t[1], o = t[2], l = s - n, m = n, c = i - a, u = a, A = o - r, p = r; this.gl.uniform1f(this.blur1MinLoc, n), this.gl.uniform1f(this.blur1MaxLoc, s), this.gl.uniform1f(this.blur2MinLoc, a), this.gl.uniform1f(this.blur2MaxLoc, i), this.gl.uniform1f(this.blur3MinLoc, r), this.gl.uniform1f(this.blur3MaxLoc, o), this.gl.uniform1f(this.scale1Loc, l), this.gl.uniform1f(this.scale2Loc, c), this.gl.uniform1f(this.scale3Loc, A), this.gl.uniform1f(this.bias1Loc, m), this.gl.uniform1f(this.bias2Loc, u), this.gl.uniform1f(this.bias3Loc, p) } static generateHueBase(e) { const t = new Float32Array([1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1]); for (let n = 0; n < 4; n++) { t[3 * n + 0] = .6 + .3 * Math.sin(30 * e.time * .0143 + 3 + 21 * n + e.rand_start[3]), t[3 * n + 1] = .6 + .3 * Math.sin(30 * e.time * .0107 + 1 + 13 * n + e.rand_start[1]), t[3 * n + 2] = .6 + .3 * Math.sin(30 * e.time * .0129 + 6 + 9 * n + e.rand_start[2]); const a = Math.max(t[3 * n], t[3 * n + 1], t[3 * n + 2]); for (let e = 0; e < 3; e++)t[3 * n + e] = t[3 * n + e] / a, t[3 * n + e] = .5 + .5 * t[3 * n + e] } return t } generateCompColors(e, t, n) { const a = It.generateHueBase(t), r = this.compWidth + 1, s = this.compHeight + 1, i = new Float32Array(r * s * 4); let o = 0; for (let l = 0; l < s; l++)for (let t = 0; t < r; t++) { let r = t / this.compWidth, s = l / this.compHeight; const m = [1, 1, 1]; for (let e = 0; e < 3; e++)m[e] = a[0 + e] * r * s + a[3 + e] * (1 - r) * s + a[6 + e] * r * (1 - s) + a[9 + e] * (1 - r) * (1 - s); let c = 1; if (e) { r *= this.mesh_width + 1, s *= this.mesh_height + 1, r = Math.clamp(r, 0, this.mesh_width - 1), s = Math.clamp(s, 0, this.mesh_height - 1); const e = Math.floor(r), t = Math.floor(s), a = r - e, i = s - t; c = n[4 * (t * (this.mesh_width + 1) + e) + 3] * (1 - a) * (1 - i) + n[4 * (t * (this.mesh_width + 1) + (e + 1)) + 3] * a * (1 - i) + n[4 * ((t + 1) * (this.mesh_width + 1) + e) + 3] * (1 - a) * i + n[4 * ((t + 1) * (this.mesh_width + 1) + (e + 1)) + 3] * a * i } i[o + 0] = m[0], i[o + 1] = m[1], i[o + 2] = m[2], i[o + 3] = c, o += 4 } return i } renderQuadTexture(e, t, n, a, r, s, i, o, l, m) { const c = this.generateCompColors(e, o, m); this.gl.useProgram(this.shaderProgram), this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER, this.indexBuf), this.gl.bufferData(this.gl.ELEMENT_ARRAY_BUFFER, this.indices, this.gl.STATIC_DRAW), this.gl.bindBuffer(this.gl.ARRAY_BUFFER, this.positionVertexBuf), this.gl.bufferData(this.gl.ARRAY_BUFFER, this.vertices, this.gl.STATIC_DRAW), this.gl.vertexAttribPointer(this.positionLocation, 3, this.gl.FLOAT, !1, 0, 0), this.gl.enableVertexAttribArray(this.positionLocation), this.gl.bindBuffer(this.gl.ARRAY_BUFFER, this.compColorVertexBuf), this.gl.bufferData(this.gl.ARRAY_BUFFER, c, this.gl.STATIC_DRAW), this.gl.vertexAttribPointer(this.compColorLocation, 4, this.gl.FLOAT, !1, 0, 0), this.gl.enableVertexAttribArray(this.compColorLocation); const u = 0 !== o.wrap ? this.gl.REPEAT : this.gl.CLAMP_TO_EDGE; this.gl.samplerParameteri(this.mainSampler, this.gl.TEXTURE_WRAP_S, u), this.gl.samplerParameteri(this.mainSampler, this.gl.TEXTURE_WRAP_T, u), this.gl.activeTexture(this.gl.TEXTURE0), this.gl.bindTexture(this.gl.TEXTURE_2D, t), this.gl.bindSampler(0, this.mainSampler), this.gl.uniform1i(this.textureLoc, 0), this.gl.activeTexture(this.gl.TEXTURE1), this.gl.bindTexture(this.gl.TEXTURE_2D, t), this.gl.bindSampler(1, this.mainSamplerFW), this.gl.uniform1i(this.textureFWLoc, 1), this.gl.activeTexture(this.gl.TEXTURE2), this.gl.bindTexture(this.gl.TEXTURE_2D, t), this.gl.bindSampler(2, this.mainSamplerFC), this.gl.uniform1i(this.textureFCLoc, 2), this.gl.activeTexture(this.gl.TEXTURE3), this.gl.bindTexture(this.gl.TEXTURE_2D, t), this.gl.bindSampler(3, this.mainSamplerPW), this.gl.uniform1i(this.texturePWLoc, 3), this.gl.activeTexture(this.gl.TEXTURE4), this.gl.bindTexture(this.gl.TEXTURE_2D, t), this.gl.bindSampler(4, this.mainSamplerPC), this.gl.uniform1i(this.texturePCLoc, 4), this.gl.activeTexture(this.gl.TEXTURE5), this.gl.bindTexture(this.gl.TEXTURE_2D, n), this.gl.uniform1i(this.blurTexture1Loc, 5), this.gl.activeTexture(this.gl.TEXTURE6), this.gl.bindTexture(this.gl.TEXTURE_2D, a), this.gl.uniform1i(this.blurTexture2Loc, 6), this.gl.activeTexture(this.gl.TEXTURE7), this.gl.bindTexture(this.gl.TEXTURE_2D, r), this.gl.uniform1i(this.blurTexture3Loc, 7), this.gl.activeTexture(this.gl.TEXTURE8), this.gl.bindTexture(this.gl.TEXTURE_2D, this.noise.noiseTexLQ), this.gl.uniform1i(this.noiseLQLoc, 8), this.gl.activeTexture(this.gl.TEXTURE9), this.gl.bindTexture(this.gl.TEXTURE_2D, this.noise.noiseTexMQ), this.gl.uniform1i(this.noiseMQLoc, 9), this.gl.activeTexture(this.gl.TEXTURE10), this.gl.bindTexture(this.gl.TEXTURE_2D, this.noise.noiseTexHQ), this.gl.uniform1i(this.noiseHQLoc, 10), this.gl.activeTexture(this.gl.TEXTURE11), this.gl.bindTexture(this.gl.TEXTURE_2D, this.noise.noiseTexLQLite), this.gl.uniform1i(this.noiseLQLiteLoc, 11), this.gl.activeTexture(this.gl.TEXTURE12), this.gl.bindTexture(this.gl.TEXTURE_2D, this.noise.noiseTexLQ), this.gl.bindSampler(12, this.noise.noiseTexPointLQ), this.gl.uniform1i(this.noisePointLQLoc, 12), this.gl.activeTexture(this.gl.TEXTURE13), this.gl.bindTexture(this.gl.TEXTURE_3D, this.noise.noiseTexVolLQ), this.gl.uniform1i(this.noiseVolLQLoc, 13), this.gl.activeTexture(this.gl.TEXTURE14), this.gl.bindTexture(this.gl.TEXTURE_3D, this.noise.noiseTexVolHQ), this.gl.uniform1i(this.noiseVolHQLoc, 14); for (let A = 0; A < this.userTextures.length; A++) { const e = this.userTextures[A]; this.gl.activeTexture(this.gl.TEXTURE15 + A), this.gl.bindTexture(this.gl.TEXTURE_2D, this.image.getTexture(e.sampler)), this.gl.uniform1i(e.textureLoc, 15 + A) } this.gl.uniform1f(this.timeLoc, o.time), this.gl.uniform1f(this.gammaAdjLoc, o.gammaadj), this.gl.uniform1f(this.echoZoomLoc, o.echo_zoom), this.gl.uniform1f(this.echoAlphaLoc, o.echo_alpha), this.gl.uniform1f(this.echoOrientationLoc, o.echo_orient), this.gl.uniform1i(this.invertLoc, o.invert), this.gl.uniform1i(this.brightenLoc, o.brighten), this.gl.uniform1i(this.darkenLoc, o.darken), this.gl.uniform1i(this.solarizeLoc, o.solarize), this.gl.uniform2fv(this.resolutionLoc, [this.texsizeX, this.texsizeY]), this.gl.uniform4fv(this.aspectLoc, [this.aspectx, this.aspecty, this.invAspectx, this.invAspecty]), this.gl.uniform4fv(this.texsizeLoc, new Float32Array([this.texsizeX, this.texsizeY, 1 / this.texsizeX, 1 / this.texsizeY])), this.gl.uniform4fv(this.texsizeNoiseLQLoc, [256, 256, 1 / 256, 1 / 256]), this.gl.uniform4fv(this.texsizeNoiseMQLoc, [256, 256, 1 / 256, 1 / 256]), this.gl.uniform4fv(this.texsizeNoiseHQLoc, [256, 256, 1 / 256, 1 / 256]), this.gl.uniform4fv(this.texsizeNoiseLQLiteLoc, [32, 32, 1 / 32, 1 / 32]), this.gl.uniform4fv(this.texsizeNoiseVolLQLoc, [32, 32, 1 / 32, 1 / 32]), this.gl.uniform4fv(this.texsizeNoiseVolHQLoc, [32, 32, 1 / 32, 1 / 32]), this.gl.uniform1f(this.bassLoc, o.bass), this.gl.uniform1f(this.midLoc, o.mid), this.gl.uniform1f(this.trebLoc, o.treb), this.gl.uniform1f(this.volLoc, (o.bass + o.mid + o.treb) / 3), this.gl.uniform1f(this.bassAttLoc, o.bass_att), this.gl.uniform1f(this.midAttLoc, o.mid_att), this.gl.uniform1f(this.trebAttLoc, o.treb_att), this.gl.uniform1f(this.volAttLoc, (o.bass_att + o.mid_att + o.treb_att) / 3), this.gl.uniform1f(this.frameLoc, o.frame), this.gl.uniform1f(this.fpsLoc, o.fps), this.gl.uniform4fv(this.randPresetLoc, o.rand_preset), this.gl.uniform4fv(this.randFrameLoc, new Float32Array([this.rng.random(), this.rng.random(), this.rng.random(), this.rng.random()])), this.gl.uniform1f(this.fShaderLoc, o.fshader), this.gl.uniform4fv(this.qaLoc, new Float32Array([l.q1 || 0, l.q2 || 0, l.q3 || 0, l.q4 || 0])), this.gl.uniform4fv(this.qbLoc, new Float32Array([l.q5 || 0, l.q6 || 0, l.q7 || 0, l.q8 || 0])), this.gl.uniform4fv(this.qcLoc, new Float32Array([l.q9 || 0, l.q10 || 0, l.q11 || 0, l.q12 || 0])), this.gl.uniform4fv(this.qdLoc, new Float32Array([l.q13 || 0, l.q14 || 0, l.q15 || 0, l.q16 || 0])), this.gl.uniform4fv(this.qeLoc, new Float32Array([l.q17 || 0, l.q18 || 0, l.q19 || 0, l.q20 || 0])), this.gl.uniform4fv(this.qfLoc, new Float32Array([l.q21 || 0, l.q22 || 0, l.q23 || 0, l.q24 || 0])), this.gl.uniform4fv(this.qgLoc, new Float32Array([l.q25 || 0, l.q26 || 0, l.q27 || 0, l.q28 || 0])), this.gl.uniform4fv(this.qhLoc, new Float32Array([l.q29 || 0, l.q30 || 0, l.q31 || 0, l.q32 || 0])), this.gl.uniform4fv(this.slowRoamCosLoc, [.5 + .5 * Math.cos(.005 * o.time), .5 + .5 * Math.cos(.008 * o.time), .5 + .5 * Math.cos(.013 * o.time), .5 + .5 * Math.cos(.022 * o.time)]), this.gl.uniform4fv(this.roamCosLoc, [.5 + .5 * Math.cos(.3 * o.time), .5 + .5 * Math.cos(1.3 * o.time), .5 + .5 * Math.cos(5 * o.time), .5 + .5 * Math.cos(20 * o.time)]), this.gl.uniform4fv(this.slowRoamSinLoc, [.5 + .5 * Math.sin(.005 * o.time), .5 + .5 * Math.sin(.008 * o.time), .5 + .5 * Math.sin(.013 * o.time), .5 + .5 * Math.sin(.022 * o.time)]), this.gl.uniform4fv(this.roamSinLoc, [.5 + .5 * Math.sin(.3 * o.time), .5 + .5 * Math.sin(1.3 * o.time), .5 + .5 * Math.sin(5 * o.time), .5 + .5 * Math.sin(20 * o.time)]), this.bindBlurVals(s, i), e ? this.gl.blendFunc(this.gl.SRC_ALPHA, this.gl.ONE_MINUS_SRC_ALPHA) : this.gl.disable(this.gl.BLEND), this.gl.drawElements(this.gl.TRIANGLES, this.indices.length, this.gl.UNSIGNED_SHORT, 0), e || this.gl.enable(this.gl.BLEND) } } class Rt { constructor(e, t) { this.gl = e, this.textureRatio = t.textureRatio, this.texsizeX = t.texsizeX, this.texsizeY = t.texsizeY, this.positions = new Float32Array([-1, -1, 1, -1, -1, 1, 1, 1]), this.vertexBuf = this.gl.createBuffer(), this.floatPrecision = _t.getFragmentFloatPrecision(this.gl), this.useFXAA() ? this.createFXAAShader() : this.createShader() } useFXAA() { return this.textureRatio <= 1 } updateGlobals(e) { this.textureRatio = e.textureRatio, this.texsizeX = e.texsizeX, this.texsizeY = e.texsizeY, this.gl.deleteProgram(this.shaderProgram), this.useFXAA() ? this.createFXAAShader() : this.createShader() } createFXAAShader() { this.shaderProgram = this.gl.createProgram(); const e = this.gl.createShader(this.gl.VERTEX_SHADER); this.gl.shaderSource(e, "#version 300 es\n       const vec2 halfmad = vec2(0.5);\n       in vec2 aPos;\n       out vec2 v_rgbM;\n       out vec2 v_rgbNW;\n       out vec2 v_rgbNE;\n       out vec2 v_rgbSW;\n       out vec2 v_rgbSE;\n       uniform vec4 texsize;\n       void main(void) {\n         gl_Position = vec4(aPos, 0.0, 1.0);\n\n         v_rgbM = aPos * halfmad + halfmad;\n         v_rgbNW = v_rgbM + (vec2(-1.0, -1.0) * texsize.zx);\n         v_rgbNE = v_rgbM + (vec2(1.0, -1.0) * texsize.zx);\n         v_rgbSW = v_rgbM + (vec2(-1.0, 1.0) * texsize.zx);\n         v_rgbSE = v_rgbM + (vec2(1.0, 1.0) * texsize.zx);\n       }"), this.gl.compileShader(e); const t = this.gl.createShader(this.gl.FRAGMENT_SHADER); this.gl.shaderSource(t, `#version 300 es\n       precision ${this.floatPrecision} float;\n       precision highp int;\n       precision mediump sampler2D;\n\n       in vec2 v_rgbM;\n       in vec2 v_rgbNW;\n       in vec2 v_rgbNE;\n       in vec2 v_rgbSW;\n       in vec2 v_rgbSE;\n       out vec4 fragColor;\n       uniform vec4 texsize;\n       uniform sampler2D uTexture;\n\n       #ifndef FXAA_REDUCE_MIN\n         #define FXAA_REDUCE_MIN   (1.0/ 128.0)\n       #endif\n       #ifndef FXAA_REDUCE_MUL\n         #define FXAA_REDUCE_MUL   (1.0 / 8.0)\n       #endif\n       #ifndef FXAA_SPAN_MAX\n         #define FXAA_SPAN_MAX     8.0\n       #endif\n\n       void main(void) {\n         vec4 color;\n         vec3 rgbNW = textureLod(uTexture, v_rgbNW, 0.0).xyz;\n         vec3 rgbNE = textureLod(uTexture, v_rgbNE, 0.0).xyz;\n         vec3 rgbSW = textureLod(uTexture, v_rgbSW, 0.0).xyz;\n         vec3 rgbSE = textureLod(uTexture, v_rgbSE, 0.0).xyz;\n         vec3 rgbM  = textureLod(uTexture, v_rgbM, 0.0).xyz;\n         vec3 luma = vec3(0.299, 0.587, 0.114);\n         float lumaNW = dot(rgbNW, luma);\n         float lumaNE = dot(rgbNE, luma);\n         float lumaSW = dot(rgbSW, luma);\n         float lumaSE = dot(rgbSE, luma);\n         float lumaM  = dot(rgbM,  luma);\n         float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));\n         float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));\n\n         mediump vec2 dir;\n         dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));\n         dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));\n\n         float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *\n                               (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);\n\n         float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);\n         dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),\n                   max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),\n                   dir * rcpDirMin)) * texsize.zw;\n\n         vec3 rgbA = 0.5 * (\n             textureLod(uTexture, v_rgbM + dir * (1.0 / 3.0 - 0.5), 0.0).xyz +\n             textureLod(uTexture, v_rgbM + dir * (2.0 / 3.0 - 0.5), 0.0).xyz);\n         vec3 rgbB = rgbA * 0.5 + 0.25 * (\n             textureLod(uTexture, v_rgbM + dir * -0.5, 0.0).xyz +\n             textureLod(uTexture, v_rgbM + dir * 0.5, 0.0).xyz);\n\n         float lumaB = dot(rgbB, luma);\n         if ((lumaB < lumaMin) || (lumaB > lumaMax))\n           color = vec4(rgbA, 1.0);\n         else\n           color = vec4(rgbB, 1.0);\n\n         fragColor = color;\n       }`), this.gl.compileShader(t), this.gl.attachShader(this.shaderProgram, e), this.gl.attachShader(this.shaderProgram, t), this.gl.linkProgram(this.shaderProgram), this.positionLocation = this.gl.getAttribLocation(this.shaderProgram, "aPos"), this.textureLoc = this.gl.getUniformLocation(this.shaderProgram, "uTexture"), this.texsizeLoc = this.gl.getUniformLocation(this.shaderProgram, "texsize") } createShader() { this.shaderProgram = this.gl.createProgram(); const e = this.gl.createShader(this.gl.VERTEX_SHADER); this.gl.shaderSource(e, "#version 300 es\n       const vec2 halfmad = vec2(0.5);\n       in vec2 aPos;\n       out vec2 uv;\n       void main(void) {\n         gl_Position = vec4(aPos, 0.0, 1.0);\n         uv = aPos * halfmad + halfmad;\n       }"), this.gl.compileShader(e); const t = this.gl.createShader(this.gl.FRAGMENT_SHADER); this.gl.shaderSource(t, `#version 300 es\n       precision ${this.floatPrecision} float;\n       precision highp int;\n       precision mediump sampler2D;\n\n       in vec2 uv;\n       out vec4 fragColor;\n       uniform sampler2D uTexture;\n\n       void main(void) {\n         fragColor = vec4(texture(uTexture, uv).rgb, 1.0);\n       }`), this.gl.compileShader(t), this.gl.attachShader(this.shaderProgram, e), this.gl.attachShader(this.shaderProgram, t), this.gl.linkProgram(this.shaderProgram), this.positionLocation = this.gl.getAttribLocation(this.shaderProgram, "aPos"), this.textureLoc = this.gl.getUniformLocation(this.shaderProgram, "uTexture") } renderQuadTexture(e) { this.gl.useProgram(this.shaderProgram), this.gl.bindBuffer(this.gl.ARRAY_BUFFER, this.vertexBuf), this.gl.bufferData(this.gl.ARRAY_BUFFER, this.positions, this.gl.STATIC_DRAW), this.gl.vertexAttribPointer(this.positionLocation, 2, this.gl.FLOAT, !1, 0, 0), this.gl.enableVertexAttribArray(this.positionLocation), this.gl.activeTexture(this.gl.TEXTURE0), this.gl.bindTexture(this.gl.TEXTURE_2D, e), this.gl.uniform1i(this.textureLoc, 0), this.useFXAA() && this.gl.uniform4fv(this.texsizeLoc, new Float32Array([this.texsizeX, this.texsizeY, 1 / this.texsizeX, 1 / this.texsizeY])), this.gl.blendFunc(this.gl.SRC_ALPHA, this.gl.ONE_MINUS_SRC_ALPHA), this.gl.drawArrays(this.gl.TRIANGLE_STRIP, 0, 4) } } class yt { constructor(e) { this.gl = e, this.positions = new Float32Array([-1, -1, 1, -1, -1, 1, 1, 1]), this.vertexBuf = this.gl.createBuffer(), this.floatPrecision = _t.getFragmentFloatPrecision(this.gl), this.createShader() } createShader() { this.shaderProgram = this.gl.createProgram(); const e = this.gl.createShader(this.gl.VERTEX_SHADER); this.gl.shaderSource(e, "#version 300 es\n       const vec2 halfmad = vec2(0.5);\n       in vec2 aPos;\n       out vec2 uv;\n       void main(void) {\n         gl_Position = vec4(aPos, 0.0, 1.0);\n         uv = aPos * halfmad + halfmad;\n       }"), this.gl.compileShader(e); const t = this.gl.createShader(this.gl.FRAGMENT_SHADER); this.gl.shaderSource(t, `#version 300 es\n       precision ${this.floatPrecision} float;\n       precision highp int;\n       precision mediump sampler2D;\n\n       in vec2 uv;\n       out vec4 fragColor;\n       uniform sampler2D uTexture;\n\n       void main(void) {\n         fragColor = vec4(texture(uTexture, uv).rgb, 1.0);\n       }`), this.gl.compileShader(t), this.gl.attachShader(this.shaderProgram, e), this.gl.attachShader(this.shaderProgram, t), this.gl.linkProgram(this.shaderProgram), this.positionLocation = this.gl.getAttribLocation(this.shaderProgram, "aPos"), this.textureLoc = this.gl.getUniformLocation(this.shaderProgram, "uTexture") } renderQuadTexture(e) { this.gl.useProgram(this.shaderProgram), this.gl.bindBuffer(this.gl.ARRAY_BUFFER, this.vertexBuf), this.gl.bufferData(this.gl.ARRAY_BUFFER, this.positions, this.gl.STATIC_DRAW), this.gl.vertexAttribPointer(this.positionLocation, 2, this.gl.FLOAT, !1, 0, 0), this.gl.enableVertexAttribArray(this.positionLocation), this.gl.activeTexture(this.gl.TEXTURE0), this.gl.bindTexture(this.gl.TEXTURE_2D, e), this.gl.generateMipmap(this.gl.TEXTURE_2D), this.gl.uniform1i(this.textureLoc, 0), this.gl.blendFunc(this.gl.SRC_ALPHA, this.gl.ONE_MINUS_SRC_ALPHA), this.gl.drawArrays(this.gl.TRIANGLE_STRIP, 0, 4) } } class Bt { constructor(e, t) { this.gl = e, this.blurLevel = t; const n = [4, 3.8, 3.5, 2.9, 1.9, 1.2, .7, .3], a = n[0] + n[1] + n[2] + n[3], r = n[4] + n[5] + n[6] + n[7], s = 0 + (n[2] + n[3]) / a * 2, i = 2 + (n[6] + n[7]) / r * 2; this.wds = new Float32Array([a, r, s, i]), this.wDiv = 1 / (2 * (a + r)), this.positions = new Float32Array([-1, -1, 1, -1, -1, 1, 1, 1]), this.vertexBuf = this.gl.createBuffer(), this.floatPrecision = _t.getFragmentFloatPrecision(this.gl), this.createShader() } createShader() { this.shaderProgram = this.gl.createProgram(); const e = this.gl.createShader(this.gl.VERTEX_SHADER); this.gl.shaderSource(e, "\n      #version 300 es\n      const vec2 halfmad = vec2(0.5);\n      in vec2 aPos;\n      out vec2 uv;\n      void main(void) {\n        gl_Position = vec4(aPos, 0.0, 1.0);\n        uv = aPos * halfmad + halfmad;\n      }\n      ".trim()), this.gl.compileShader(e); const t = this.gl.createShader(this.gl.FRAGMENT_SHADER); this.gl.shaderSource(t, `#version 300 es\n       precision ${this.floatPrecision} float;\n       precision highp int;\n       precision mediump sampler2D;\n\n       in vec2 uv;\n       out vec4 fragColor;\n       uniform sampler2D uTexture;\n       uniform vec4 texsize;\n       uniform float ed1;\n       uniform float ed2;\n       uniform float ed3;\n       uniform vec4 wds;\n       uniform float wdiv;\n\n       void main(void) {\n         float w1 = wds[0];\n         float w2 = wds[1];\n         float d1 = wds[2];\n         float d2 = wds[3];\n\n         vec2 uv2 = uv.xy;\n\n         vec3 blur =\n           ( texture(uTexture, uv2 + vec2(0.0, d1 * texsize.w) ).xyz\n           + texture(uTexture, uv2 + vec2(0.0,-d1 * texsize.w) ).xyz) * w1 +\n           ( texture(uTexture, uv2 + vec2(0.0, d2 * texsize.w) ).xyz\n           + texture(uTexture, uv2 + vec2(0.0,-d2 * texsize.w) ).xyz) * w2;\n\n         blur.xyz *= wdiv;\n\n         float t = min(min(uv.x, uv.y), 1.0 - max(uv.x, uv.y));\n         t = sqrt(t);\n         t = ed1 + ed2 * clamp(t * ed3, 0.0, 1.0);\n         blur.xyz *= t;\n\n         fragColor = vec4(blur, 1.0);\n       }`), this.gl.compileShader(t), this.gl.attachShader(this.shaderProgram, e), this.gl.attachShader(this.shaderProgram, t), this.gl.linkProgram(this.shaderProgram), this.positionLocation = this.gl.getAttribLocation(this.shaderProgram, "aPos"), this.textureLoc = this.gl.getUniformLocation(this.shaderProgram, "uTexture"), this.texsizeLocation = this.gl.getUniformLocation(this.shaderProgram, "texsize"), this.ed1Loc = this.gl.getUniformLocation(this.shaderProgram, "ed1"), this.ed2Loc = this.gl.getUniformLocation(this.shaderProgram, "ed2"), this.ed3Loc = this.gl.getUniformLocation(this.shaderProgram, "ed3"), this.wdsLocation = this.gl.getUniformLocation(this.shaderProgram, "wds"), this.wdivLoc = this.gl.getUniformLocation(this.shaderProgram, "wdiv") } renderQuadTexture(e, t, n) { this.gl.useProgram(this.shaderProgram), this.gl.bindBuffer(this.gl.ARRAY_BUFFER, this.vertexBuf), this.gl.bufferData(this.gl.ARRAY_BUFFER, this.positions, this.gl.STATIC_DRAW), this.gl.vertexAttribPointer(this.positionLocation, 2, this.gl.FLOAT, !1, 0, 0), this.gl.enableVertexAttribArray(this.positionLocation), this.gl.activeTexture(this.gl.TEXTURE0), this.gl.bindTexture(this.gl.TEXTURE_2D, e), this.gl.uniform1i(this.textureLoc, 0); const a = 0 === this.blurLevel ? t.b1ed : 0; this.gl.uniform4fv(this.texsizeLocation, [n[0], n[1], 1 / n[0], 1 / n[1]]), this.gl.uniform1f(this.ed1Loc, 1 - a), this.gl.uniform1f(this.ed2Loc, a), this.gl.uniform1f(this.ed3Loc, 5), this.gl.uniform4fv(this.wdsLocation, this.wds), this.gl.uniform1f(this.wdivLoc, this.wDiv), this.gl.blendFunc(this.gl.SRC_ALPHA, this.gl.ONE_MINUS_SRC_ALPHA), this.gl.drawArrays(this.gl.TRIANGLE_STRIP, 0, 4) } } class Lt { constructor(e, t) { this.gl = e, this.blurLevel = t; const n = [4, 3.8, 3.5, 2.9, 1.9, 1.2, .7, .3], a = n[0] + n[1], r = n[2] + n[3], s = n[4] + n[5], i = n[6] + n[7], o = 0 + 2 * n[1] / a, l = 2 + 2 * n[3] / r, m = 4 + 2 * n[5] / s, c = 6 + 2 * n[7] / i; this.ws = new Float32Array([a, r, s, i]), this.ds = new Float32Array([o, l, m, c]), this.wDiv = .5 / (a + r + s + i), this.positions = new Float32Array([-1, -1, 1, -1, -1, 1, 1, 1]), this.vertexBuf = this.gl.createBuffer(), this.floatPrecision = _t.getFragmentFloatPrecision(this.gl), this.createShader() } createShader() { this.shaderProgram = this.gl.createProgram(); const e = this.gl.createShader(this.gl.VERTEX_SHADER); this.gl.shaderSource(e, "\n      #version 300 es\n      const vec2 halfmad = vec2(0.5);\n      in vec2 aPos;\n      out vec2 uv;\n      void main(void) {\n        gl_Position = vec4(aPos, 0.0, 1.0);\n        uv = aPos * halfmad + halfmad;\n      }\n      ".trim()), this.gl.compileShader(e); const t = this.gl.createShader(this.gl.FRAGMENT_SHADER); this.gl.shaderSource(t, `#version 300 es\n       precision ${this.floatPrecision} float;\n       precision highp int;\n       precision mediump sampler2D;\n\n       in vec2 uv;\n       out vec4 fragColor;\n       uniform sampler2D uTexture;\n       uniform vec4 texsize;\n       uniform float scale;\n       uniform float bias;\n       uniform vec4 ws;\n       uniform vec4 ds;\n       uniform float wdiv;\n\n       void main(void) {\n         float w1 = ws[0];\n         float w2 = ws[1];\n         float w3 = ws[2];\n         float w4 = ws[3];\n         float d1 = ds[0];\n         float d2 = ds[1];\n         float d3 = ds[2];\n         float d4 = ds[3];\n\n         vec2 uv2 = uv.xy;\n\n         vec3 blur =\n           ( texture(uTexture, uv2 + vec2( d1 * texsize.z,0.0) ).xyz\n           + texture(uTexture, uv2 + vec2(-d1 * texsize.z,0.0) ).xyz) * w1 +\n           ( texture(uTexture, uv2 + vec2( d2 * texsize.z,0.0) ).xyz\n           + texture(uTexture, uv2 + vec2(-d2 * texsize.z,0.0) ).xyz) * w2 +\n           ( texture(uTexture, uv2 + vec2( d3 * texsize.z,0.0) ).xyz\n           + texture(uTexture, uv2 + vec2(-d3 * texsize.z,0.0) ).xyz) * w3 +\n           ( texture(uTexture, uv2 + vec2( d4 * texsize.z,0.0) ).xyz\n           + texture(uTexture, uv2 + vec2(-d4 * texsize.z,0.0) ).xyz) * w4;\n\n         blur.xyz *= wdiv;\n         blur.xyz = blur.xyz * scale + bias;\n\n         fragColor = vec4(blur, 1.0);\n       }`), this.gl.compileShader(t), this.gl.attachShader(this.shaderProgram, e), this.gl.attachShader(this.shaderProgram, t), this.gl.linkProgram(this.shaderProgram), this.positionLocation = this.gl.getAttribLocation(this.shaderProgram, "aPos"), this.textureLoc = this.gl.getUniformLocation(this.shaderProgram, "uTexture"), this.texsizeLocation = this.gl.getUniformLocation(this.shaderProgram, "texsize"), this.scaleLoc = this.gl.getUniformLocation(this.shaderProgram, "scale"), this.biasLoc = this.gl.getUniformLocation(this.shaderProgram, "bias"), this.wsLoc = this.gl.getUniformLocation(this.shaderProgram, "ws"), this.dsLocation = this.gl.getUniformLocation(this.shaderProgram, "ds"), this.wdivLoc = this.gl.getUniformLocation(this.shaderProgram, "wdiv") } getScaleAndBias(e, t) { const n = [1, 1, 1], a = [0, 0, 0]; let r, s; return n[0] = 1 / (t[0] - e[0]), a[0] = -e[0] * n[0], r = (e[1] - e[0]) / (t[0] - e[0]), s = (t[1] - e[0]) / (t[0] - e[0]), n[1] = 1 / (s - r), a[1] = -r * n[1], r = (e[2] - e[1]) / (t[1] - e[1]), s = (t[2] - e[1]) / (t[1] - e[1]), n[2] = 1 / (s - r), a[2] = -r * n[2], { scale: n[this.blurLevel], bias: a[this.blurLevel] } } renderQuadTexture(e, t, n, a, r) { this.gl.useProgram(this.shaderProgram), this.gl.bindBuffer(this.gl.ARRAY_BUFFER, this.vertexBuf), this.gl.bufferData(this.gl.ARRAY_BUFFER, this.positions, this.gl.STATIC_DRAW), this.gl.vertexAttribPointer(this.positionLocation, 2, this.gl.FLOAT, !1, 0, 0), this.gl.enableVertexAttribArray(this.positionLocation), this.gl.activeTexture(this.gl.TEXTURE0), this.gl.bindTexture(this.gl.TEXTURE_2D, e), this.gl.uniform1i(this.textureLoc, 0); const { scale: s, bias: i } = this.getScaleAndBias(n, a); this.gl.uniform4fv(this.texsizeLocation, [r[0], r[1], 1 / r[0], 1 / r[1]]), this.gl.uniform1f(this.scaleLoc, s), this.gl.uniform1f(this.biasLoc, i), this.gl.uniform4fv(this.wsLoc, this.ws), this.gl.uniform4fv(this.dsLocation, this.ds), this.gl.uniform1f(this.wdivLoc, this.wDiv), this.gl.blendFunc(this.gl.SRC_ALPHA, this.gl.ONE_MINUS_SRC_ALPHA), this.gl.drawArrays(this.gl.TRIANGLE_STRIP, 0, 4) } } class Ct { constructor(e, t, n, a = {}) { this.blurLevel = e, this.blurRatios = t, this.gl = n, this.texsizeX = a.texsizeX, this.texsizeY = a.texsizeY, this.anisoExt = this.gl.getExtension("EXT_texture_filter_anisotropic") || this.gl.getExtension("MOZ_EXT_texture_filter_anisotropic") || this.gl.getExtension("WEBKIT_EXT_texture_filter_anisotropic"), this.blurHorizontalFrameBuffer = this.gl.createFramebuffer(), this.blurVerticalFrameBuffer = this.gl.createFramebuffer(), this.blurHorizontalTexture = this.gl.createTexture(), this.blurVerticalTexture = this.gl.createTexture(), this.setupFrameBufferTextures(), this.blurHorizontal = new Lt(n, this.blurLevel, a), this.blurVertical = new Bt(n, this.blurLevel, a) } updateGlobals(e) { this.texsizeX = e.texsizeX, this.texsizeY = e.texsizeY, this.setupFrameBufferTextures() } getTextureSize(e) { let t = Math.max(this.texsizeX * e, 16); t = 16 * Math.floor((t + 3) / 16); let n = Math.max(this.texsizeY * e, 16); return n = 4 * Math.floor((n + 3) / 4), [t, n] } setupFrameBufferTextures() { const e = this.blurLevel > 0 ? this.blurRatios[this.blurLevel - 1] : [1, 1], t = this.blurRatios[this.blurLevel], n = this.getTextureSize(e[1]), a = this.getTextureSize(t[0]); this.bindFrameBufferTexture(this.blurHorizontalFrameBuffer, this.blurHorizontalTexture, a); const r = a, s = this.getTextureSize(t[1]); this.bindFrameBufferTexture(this.blurVerticalFrameBuffer, this.blurVerticalTexture, s), this.horizontalTexsizes = [n, a], this.verticalTexsizes = [r, s] } bindFrambufferAndSetViewport(e, t) { this.gl.bindFramebuffer(this.gl.FRAMEBUFFER, e), this.gl.viewport(0, 0, t[0], t[1]) } bindFrameBufferTexture(e, t, n) { if (this.gl.bindTexture(this.gl.TEXTURE_2D, t), this.gl.pixelStorei(this.gl.UNPACK_ALIGNMENT, 1), this.gl.texImage2D(this.gl.TEXTURE_2D, 0, this.gl.RGBA, n[0], n[1], 0, this.gl.RGBA, this.gl.UNSIGNED_BYTE, new Uint8Array(n[0] * n[1] * 4)), this.gl.generateMipmap(this.gl.TEXTURE_2D), this.gl.texParameteri(this.gl.TEXTURE_2D, this.gl.TEXTURE_WRAP_S, this.gl.CLAMP_TO_EDGE), this.gl.texParameteri(this.gl.TEXTURE_2D, this.gl.TEXTURE_WRAP_T, this.gl.CLAMP_TO_EDGE), this.gl.texParameteri(this.gl.TEXTURE_2D, this.gl.TEXTURE_MIN_FILTER, this.gl.LINEAR_MIPMAP_LINEAR), this.gl.texParameteri(this.gl.TEXTURE_2D, this.gl.TEXTURE_MAG_FILTER, this.gl.LINEAR), this.anisoExt) { const e = this.gl.getParameter(this.anisoExt.MAX_TEXTURE_MAX_ANISOTROPY_EXT); this.gl.texParameterf(this.gl.TEXTURE_2D, this.anisoExt.TEXTURE_MAX_ANISOTROPY_EXT, e) } this.gl.bindFramebuffer(this.gl.FRAMEBUFFER, e), this.gl.framebufferTexture2D(this.gl.FRAMEBUFFER, this.gl.COLOR_ATTACHMENT0, this.gl.TEXTURE_2D, t, 0) } renderBlurTexture(e, t, n, a) { this.bindFrambufferAndSetViewport(this.blurHorizontalFrameBuffer, this.horizontalTexsizes[1]), this.blurHorizontal.renderQuadTexture(e, t, n, a, this.horizontalTexsizes[0]), this.gl.bindTexture(this.gl.TEXTURE_2D, this.blurHorizontalTexture), this.gl.generateMipmap(this.gl.TEXTURE_2D), this.bindFrambufferAndSetViewport(this.blurVerticalFrameBuffer, this.verticalTexsizes[1]), this.blurVertical.renderQuadTexture(this.blurHorizontalTexture, t, this.verticalTexsizes[0]), this.gl.bindTexture(this.gl.TEXTURE_2D, this.blurVerticalTexture), this.gl.generateMipmap(this.gl.TEXTURE_2D) } } class Ut { constructor(e) { this.gl = e, this.randomFn = mt().random, this.anisoExt = this.gl.getExtension("EXT_texture_filter_anisotropic") || this.gl.getExtension("MOZ_EXT_texture_filter_anisotropic") || this.gl.getExtension("WEBKIT_EXT_texture_filter_anisotropic"), this.noiseTexLQ = this.gl.createTexture(), this.noiseTexLQLite = this.gl.createTexture(), this.noiseTexMQ = this.gl.createTexture(), this.noiseTexHQ = this.gl.createTexture(), this.noiseTexVolLQ = this.gl.createTexture(), this.noiseTexVolHQ = this.gl.createTexture(), this.nTexArrLQ = Ut.createNoiseTex(256, 1, this.randomFn), this.nTexArrLQLite = Ut.createNoiseTex(32, 1, this.randomFn), this.nTexArrMQ = Ut.createNoiseTex(256, 4, this.randomFn), this.nTexArrHQ = Ut.createNoiseTex(256, 8, this.randomFn), this.nTexArrVolLQ = Ut.createNoiseVolTex(32, 1, this.randomFn), this.nTexArrVolHQ = Ut.createNoiseVolTex(32, 4, this.randomFn), this.bindTexture(this.noiseTexLQ, this.nTexArrLQ, 256, 256), this.bindTexture(this.noiseTexLQLite, this.nTexArrLQLite, 32, 32), this.bindTexture(this.noiseTexMQ, this.nTexArrMQ, 256, 256), this.bindTexture(this.noiseTexHQ, this.nTexArrHQ, 256, 256), this.bindTexture3D(this.noiseTexVolLQ, this.nTexArrVolLQ, 32, 32, 32), this.bindTexture3D(this.noiseTexVolHQ, this.nTexArrVolHQ, 32, 32, 32), this.noiseTexPointLQ = this.gl.createSampler(), e.samplerParameteri(this.noiseTexPointLQ, e.TEXTURE_MIN_FILTER, e.NEAREST_MIPMAP_NEAREST), e.samplerParameteri(this.noiseTexPointLQ, e.TEXTURE_MAG_FILTER, e.NEAREST), e.samplerParameteri(this.noiseTexPointLQ, e.TEXTURE_WRAP_S, e.REPEAT), e.samplerParameteri(this.noiseTexPointLQ, e.TEXTURE_WRAP_T, e.REPEAT) } bindTexture(e, t, n, a) { if (this.gl.bindTexture(this.gl.TEXTURE_2D, e), this.gl.pixelStorei(this.gl.UNPACK_ALIGNMENT, 1), this.gl.texImage2D(this.gl.TEXTURE_2D, 0, this.gl.RGBA, n, a, 0, this.gl.RGBA, this.gl.UNSIGNED_BYTE, t), this.gl.generateMipmap(this.gl.TEXTURE_2D), this.gl.texParameteri(this.gl.TEXTURE_2D, this.gl.TEXTURE_WRAP_S, this.gl.REPEAT), this.gl.texParameteri(this.gl.TEXTURE_2D, this.gl.TEXTURE_WRAP_T, this.gl.REPEAT), this.gl.texParameteri(this.gl.TEXTURE_2D, this.gl.TEXTURE_MIN_FILTER, this.gl.LINEAR_MIPMAP_LINEAR), this.gl.texParameteri(this.gl.TEXTURE_2D, this.gl.TEXTURE_MAG_FILTER, this.gl.LINEAR), this.anisoExt) { const e = this.gl.getParameter(this.anisoExt.MAX_TEXTURE_MAX_ANISOTROPY_EXT); this.gl.texParameterf(this.gl.TEXTURE_2D, this.anisoExt.TEXTURE_MAX_ANISOTROPY_EXT, e) } } bindTexture3D(e, t, n, a, r) { if (this.gl.bindTexture(this.gl.TEXTURE_3D, e), this.gl.pixelStorei(this.gl.UNPACK_ALIGNMENT, 1), this.gl.texImage3D(this.gl.TEXTURE_3D, 0, this.gl.RGBA, n, a, r, 0, this.gl.RGBA, this.gl.UNSIGNED_BYTE, t), this.gl.generateMipmap(this.gl.TEXTURE_3D), this.gl.texParameteri(this.gl.TEXTURE_3D, this.gl.TEXTURE_WRAP_S, this.gl.REPEAT), this.gl.texParameteri(this.gl.TEXTURE_3D, this.gl.TEXTURE_WRAP_T, this.gl.REPEAT), this.gl.texParameteri(this.gl.TEXTURE_3D, this.gl.TEXTURE_WRAP_R, this.gl.REPEAT), this.gl.texParameteri(this.gl.TEXTURE_3D, this.gl.TEXTURE_MIN_FILTER, this.gl.LINEAR_MIPMAP_LINEAR), this.gl.texParameteri(this.gl.TEXTURE_3D, this.gl.TEXTURE_MAG_FILTER, this.gl.LINEAR), this.anisoExt) { const e = this.gl.getParameter(this.anisoExt.MAX_TEXTURE_MAX_ANISOTROPY_EXT); this.gl.texParameterf(this.gl.TEXTURE_3D, this.anisoExt.TEXTURE_MAX_ANISOTROPY_EXT, e) } } static fCubicInterpolate(e, t, n, a, r) { const s = r * r, i = a - n - e + t; return i * (r * s) + (e - t - i) * s + (n - e) * r + t } static dwCubicInterpolate(e, t, n, a, r) { const s = []; for (let i = 0; i < 4; i++) { let o = Ut.fCubicInterpolate(e[i] / 255, t[i] / 255, n[i] / 255, a[i] / 255, r); o = Math.clamp(o, 0, 1), s[i] = 255 * o } return s } static createNoiseVolTex(e, t, n) { const a = e * e * e, r = new Uint8Array(4 * a), s = t > 1 ? 216 : 256, i = .5 * s; for (let m = 0; m < a; m++)r[4 * m + 0] = Math.floor(n() * s + i), r[4 * m + 1] = Math.floor(n() * s + i), r[4 * m + 2] = Math.floor(n() * s + i), r[4 * m + 3] = Math.floor(n() * s + i); const o = e * e, l = e; if (t > 1) { for (let n = 0; n < e; n += t)for (let a = 0; a < e; a += t)for (let s = 0; s < e; s++)if (s % t !== 0) { const i = Math.floor(s / t) * t + e, m = n * o + a * l, c = [], u = [], A = [], p = []; for (let n = 0; n < 4; n++)c[n] = r[4 * m + (i - t) % e * 4 + n], u[n] = r[4 * m + i % e * 4 + n], A[n] = r[4 * m + (i + t) % e * 4 + n], p[n] = r[4 * m + (i + 2 * t) % e * 4 + n]; const d = s % t / t, _ = Ut.dwCubicInterpolate(c, u, A, p, d); for (let e = 0; e < 4; e++)r[n * o * 4 + a * l * 4 + (4 * s + e)] = _[e] } for (let n = 0; n < e; n += t)for (let a = 0; a < e; a++)for (let s = 0; s < e; s++)if (s % t !== 0) { const i = Math.floor(s / t) * t + e, m = n * o, c = [], u = [], A = [], p = []; for (let n = 0; n < 4; n++) { const s = 4 * a + 4 * m + n; c[n] = r[(i - t) % e * l * 4 + s], u[n] = r[i % e * l * 4 + s], A[n] = r[(i + t) % e * l * 4 + s], p[n] = r[(i + 2 * t) % e * l * 4 + s] } const d = s % t / t, _ = Ut.dwCubicInterpolate(c, u, A, p, d); for (let e = 0; e < 4; e++)r[s * l * 4 + (4 * a + 4 * m + e)] = _[e] } for (let n = 0; n < e; n++)for (let a = 0; a < e; a++)for (let s = 0; s < e; s++)if (s % t !== 0) { const i = a * l, m = Math.floor(s / t) * t + e, c = [], u = [], A = [], p = []; for (let a = 0; a < 4; a++) { const s = 4 * n + 4 * i + a; c[a] = r[(m - t) % e * o * 4 + s], u[a] = r[m % e * o * 4 + s], A[a] = r[(m + t) % e * o * 4 + s], p[a] = r[(m + 2 * t) % e * o * 4 + s] } const d = a % t / t, _ = Ut.dwCubicInterpolate(c, u, A, p, d); for (let e = 0; e < 4; e++)r[s * o * 4 + (4 * n + 4 * i + e)] = _[e] } } return r } static createNoiseTex(e, t, n) { const a = e * e, r = new Uint8Array(4 * a), s = t > 1 ? 216 : 256, i = .5 * s; for (let o = 0; o < a; o++)r[4 * o + 0] = Math.floor(n() * s + i), r[4 * o + 1] = Math.floor(n() * s + i), r[4 * o + 2] = Math.floor(n() * s + i), r[4 * o + 3] = Math.floor(n() * s + i); if (t > 1) { for (let n = 0; n < e; n += t)for (let a = 0; a < e; a++)if (a % t !== 0) { const s = Math.floor(a / t) * t + e, i = n * e, o = [], l = [], m = [], c = []; for (let n = 0; n < 4; n++)o[n] = r[4 * i + (s - t) % e * 4 + n], l[n] = r[4 * i + s % e * 4 + n], m[n] = r[4 * i + (s + t) % e * 4 + n], c[n] = r[4 * i + (s + 2 * t) % e * 4 + n]; const u = a % t / t, A = Ut.dwCubicInterpolate(o, l, m, c, u); for (let t = 0; t < 4; t++)r[n * e * 4 + 4 * a + t] = A[t] } for (let n = 0; n < e; n++)for (let a = 0; a < e; a++)if (a % t !== 0) { const s = Math.floor(a / t) * t + e, i = [], o = [], l = [], m = []; for (let a = 0; a < 4; a++)i[a] = r[(s - t) % e * e * 4 + 4 * n + a], o[a] = r[s % e * e * 4 + 4 * n + a], l[a] = r[(s + t) % e * e * 4 + 4 * n + a], m[a] = r[(s + 2 * t) % e * e * 4 + 4 * n + a]; const c = a % t / t, u = Ut.dwCubicInterpolate(i, o, l, m, c); for (let t = 0; t < 4; t++)r[a * e * 4 + 4 * n + t] = u[t] } } return r } } class Mt { constructor(e) { this.gl = e, this.anisoExt = this.gl.getExtension("EXT_texture_filter_anisotropic") || this.gl.getExtension("MOZ_EXT_texture_filter_anisotropic") || this.gl.getExtension("WEBKIT_EXT_texture_filter_anisotropic"), this.samplers = {}, this.clouds2Image = new Image, this.clouds2Image.onload = () => { this.samplers.clouds2 = this.gl.createTexture(), this.bindTexture(this.samplers.clouds2, this.clouds2Image, 128, 128) }, this.clouds2Image.src = "data:image/jpeg;base64,/9j/4AAQSkZJRgABAQEASABIAAD/4RP+RXhpZgAASUkqAAgAAAAJAA8BAgAGAAAAegAAABABAgAVAAAAgAAAABIBAwABAAAAAQAAABoBBQABAAAAoAAAABsBBQABAAAAqAAAACgBAwABAAAAAgAAADIBAgAUAAAAsAAAABMCAwABAAAAAQAAAGmHBAABAAAAxAAAAGYFAABDYW5vbgBDYW5vbiBQb3dlclNob3QgUzExMAAAAAAAAAAAAAAAAEgAAAABAAAASAAAAAEAAAAyMDAyOjAxOjE5IDE3OjMzOjIwABsAmoIFAAEAAABWAwAAnYIFAAEAAABeAwAAAJAHAAQAAAAwMjEwA5ACABQAAAAOAgAABJACABQAAAAiAgAAAZEHAAQAAAABAgMAApEFAAEAAAA+AwAAAZIKAAEAAABGAwAAApIFAAEAAABOAwAABJIKAAEAAABmAwAABZIFAAEAAABuAwAABpIFAAEAAAB2AwAAB5IDAAEAAAAFAAAACZIDAAEAAAAAAAAACpIFAAEAAAB+AwAAfJIHAJoBAACGAwAAhpIHAAgBAAA2AgAAAKAHAAQAAAAwMTAwAaADAAEAAAABAAAAAqAEAAEAAACAAAAAA6AEAAEAAACAAAAABaAEAAEAAAAwBQAADqIFAAEAAAAgBQAAD6IFAAEAAAAoBQAAEKIDAAEAAAACAAAAF6IDAAEAAAACAAAAAKMHAAEAAAADAAAAAAAAADIwMDI6MDE6MTkgMTc6MzM6MjAAMjAwMjowMToxOSAxNzozMzoyMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAQAAACoBAAAgAAAAuAAAACAAAAABAAAAgAIAAEgAAAAKAAAA/////wMAAACK+AIAAAABAL8BAADoAwAArQAAACAAAAAMAAEAAwAmAAAAHAQAAAIAAwAEAAAAaAQAAAMAAwAEAAAAcAQAAAQAAwAaAAAAeAQAAAAAAwAGAAAArAQAAAAAAwAEAAAAuAQAAAYAAgAgAAAAwAQAAAcAAgAYAAAA4AQAAAgABAABAAAAkc4UAAkAAgAgAAAA+AQAABAABAABAAAAAAAJAQ0AAwAEAAAAGAUAAAAAAABMAAIAAAAFAAAAAAAAAAQAAAABAAAAAQAAAAAAAAAAAAAAAwABAAEwAAD/////WgGtACAAYgC4AP//AAAAAAAAAAAAAP//SABABkAGAgCtANMAngAAAAAAAAAAADQAAACPAEYBtQAqAfT/AgABAAEAAAAAAAAAAAAEMAAAAAAAAAAAvwEAALgAJwEAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAElNRzpQb3dlclNob3QgUzExMCBKUEVHAAAAAAAAAAAARmlybXdhcmUgVmVyc2lvbiAxLjAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADAMgAuQC5AABqGADOAAAAgE8SAJsAAAAEAAEAAgAEAAAAUjk4AAIABwAEAAAAMDEwMAEQAwABAAAAQAYAAAIQAwABAAAAsAQAAAAAAAAGAAMBAwABAAAABgAAABoBBQABAAAAtAUAABsBBQABAAAAvAUAACgBAwABAAAAAgAAAAECBAABAAAA9AUAAAICBAABAAAAuA0AAAAAAAC0AAAAAQAAALQAAAABAAAAaM5qp6ps7vXbS52etpVdo/tuYZ2wtrDFXnrx1HK+braKpineV1+3VFWVteo72Poc/9j/2wCEAAkGBggGBQkIBwgKCQkLDRYPDQwMDRwTFRAWIR0jIiEcIB8kKTQsJCcxJx4fLT0tMTY3Ojo6Iio/RD44QjM3OTYBCQkJDAoMFAwMFA8KCgoPGhoKChoaTxoaGhoaT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT//AABEIAHgAoAMBIQACEQEDEQH/xAGiAAABBQEBAQEBAQAAAAAAAAAAAQIDBAUGBwgJCgsQAAIBAwMCBAMFBQQEAAABfQECAwAEEQUSITFBBhNRYQcicRQygZGhCCNCscEVUtHwJDNicoIJChYXGBkaJSYnKCkqNDU2Nzg5OkNERUZHSElKU1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6g4SFhoeIiYqSk5SVlpeYmZqio6Slpqeoqaqys7S1tre4ubrCw8TFxsfIycrS09TV1tfY2drh4uPk5ebn6Onq8fLz9PX29/j5+gEAAwEBAQEBAQEBAQAAAAAAAAECAwQFBgcICQoLEQACAQIEBAMEBwUEBAABAncAAQIDEQQFITEGEkFRB2FxEyIygQgUQpGhscEJIzNS8BVictEKFiQ04SXxFxgZGiYnKCkqNTY3ODk6Q0RFRkdISUpTVFVWV1hZWmNkZWZnaGlqc3R1dnd4eXqCg4SFhoeIiYqSk5SVlpeYmZqio6Slpqeoqaqys7S1tre4ubrCw8TFxsfIycrS09TV1tfY2dri4+Tl5ufo6ery8/T19vf4+fr/2gAMAwEAAhEDEQA/AOdCcU4R11HMSLHTxFTAXy6PLxQIUJTglIDo9KtbWzjScNvnK/gtao1FkycjaO1ebWvOWvyR307RjZfM5zXoraacTW3DtkyD1PrWathui39q66cmoK+60OacU5O2xA8ZQlT2qBkrdfmYsiZMUwpxVCImXNRMntTERlaaRg0CN5Y8iniOszUlWOniOgQhj5o2UwDZS7KBFmAuoCnIAq69wUjIHPHWuaok5HTBtIqrbzXCMyAEDqCarPvGV6Yqlbb+Xch337kBTOd1RNHxgCrc+xKgNWAPxyD2qCWMAY7g81UJ83yJlGxCy4qJlzWqMyMpTClAjoxCUbDCniP2rK5qOVKkEdMA8ummPmgA2Vd0m1S4vMTIXjUEtjtUzdotrdLQcFeSXQfcQqJ2y/GaZL5fkhE5Y9TXPFt2Zu7K6IUinVWVW+XvjvSNCsceScsa0k1067kRT69NisY8mnC2YoWA4qL2KtcglyjcVVdd78daqnK3zImr/IheFgTkdKiZK6ou6MJKxGyUwrTJOxmjaS2WYqwjLHbnp9KBaeeB5MbZxzXLGVlfotzpcdbdXsQiKniOtSBfLppjoTE0NMdPiYxElSRmiSurAnZiSMTzmmKSDmpUdCpS1NvT0TUoHEjpGQcYC8n3qM6MJdxgYuF46VyyfI2ui6nQlzJPq+hDPo0qcKNz/wB0U54Es7co/wAzkcgdAamU01ZbtjUWnrsjDn+dzxiqpjYHK1aZDHJGQmM9ahe2zk+lbU5WZlOOhWZKjKV1nOddYTPLpptjztbcB2NTBXibaSUOOma4IWt+h2y3/Uj8rmlEdbJmLQpTjpTNlNCYnl00x1RI0x00x4oARd6tmPIPtW1o+uf2fGd+GORlcdffNZVaaqRt1NKc+R36HQxWsWoqbmGQ/MMkg4rL1bSdi5UV5fM4ys9LHfZNXXU599Lkd+FNMbSzGPmHNb85lyFaS32HgUx8pGcqK2g72M5aGY8fPSomSvRRwndafZfYtRCzL8rHFaPiPTTHKlxHGEjKhTj1ryKU/wB4uzR6dSPuPujF2YIzTxHxXamtuxyNPfuIY+KYY6okDHg4pHQIMsQKLhYhV0dtq8mr6aQ8loZRy390DNZVKqgr92aQpczKcd8+nXefLHAwVI6028nt7mTzIY/KJ5IB4qI3UuZO6fxIuSTjy21WzLmjXs9rKFidgM/dzxXTJeRECC5ZN5XPWscVTTlePxM0oS0s9kUriaIEiIKAPzrFup/3uBzmopU3fUqc0isTEQWftVWZ0dPlWuqNNr0RhKafqzOlh6mq7x12RZytHqssMcwSfy0wwyDuxRq2oCew8gxjdx1HT3rx6Uby9GenUdkc/wCSpPzdaV4WVeFJru226nLv8iFVc/eXFKYsCqi7omSIjHzS3EKSRZBJbHNOWwRMp4WjO/O0Z4NWUubuGParnafSsXFS0ZonYRo/Pwzcmk8gL0FbQgkjOUncfFK9sSU4JpkkzO+7Jz9atRV7mbk7WHpczAcOT9aUqzgu3Ud6lxSd1oylJvRkMgDZJJzVSTK9KqKJbIGJqJlzWiViG7nfW1/ZK8XJUDqT0q9q08V2sRiL5HAG35SD3Bryaalzps9KduWyKt1pjWoXzG2uRnkcCs+8ee2YKJUbIzx0Iq/bXemiRPs7IY15Ey7m+TA5BrPuNUDIyCMDnhs81rz3SsZ8tmXbFDe2DTKVzHwyk8n6Vl3944Zo04A7jvT9pp5oOTX1Mp5GVsnmtG21aEQKkikFRj604SFKJOmpWrHAYr9RUjMGXKcg9xW0WmYyTREwNN281qZkqphQRwacCMYPHvUPUpCPGhXORmqU0fNEXqEkV2j9qjKVoQa+GAALE47VPDezRYUOdo7V5CkelY0pb+eayOJt4PG1uSKxpEkQkkmp0T9StX8hnm5GCM1GUBzVXsIj+deFYge1NMTueuapyJURr2jMvTmqclq4PK4ohMJRIhGwNadgLolUjDMvcVtz217GfLc2PsuSQQdw7Uw2pU/MCK6FU6eWhg4afmWLeKFkZJcg9mFRzac8MSyMRhumKnns7PZvQOS6utLblaRMLyR9KhkhVVBDZzV21TFeysVXWoiK1MjttV8O/YWyXVgegFZRsTu4FeHdp2e63PWSvqupZtrbadpHFPnst4xgVDlqUkUX03ax7VEbNd3ByapSbFYDYKw4PPpTv7LdT0wRVq703J0XkBtlU7Sy7qje1yMMtJpoaaZWbTCZOB+FdVo+n/ZrRXaEh/pwacptxEo2ZZfRBLmQNskY8g1lXmm3VsS4IZaaxDvZ9NifZK35mUZbp7odD6jGK3jcotogmgUrWsp3tZ2sTGO+nqZr3Flco6JEEdc7eetLDoElxEH81Vz0FbQrOEby9530MZUlJ+7ppqOOgRxDMrqcdumaqz6Xa55YJnphqaxE5PRadgdGKWr17nd+cl4VFzGHAq0NEspRuRNp9K5vYxm3e6b2ZvzuK027CroNsPvLz6iql7oICFkOQO1RPCuMbp3a3Q41ruzWj2MG604xZJrInQoSVHPrXPB3NZEYlm6bM0gup0+SQttPXmt42W25DuRTW7ht6qXX1qxZSSSttZcqPWrjJPfXuiWrbGgFiADHBxW9p1z5dv8AvW3J2B7VbUeXuQnK/kM+0SyTt5GSg/ic8VUv7xpodrDn26Gs5wj0+LqXGT67dDFWLEhfkGo5nklyrE4qlC9vwJcrFRbJVl3GtO1njhTqQR61u4StYyU1civ7sSLtAJ981kSLnPJrelHlRhVlzM7yLTdTtJuu9Qe3NdBbGUorMFJxz2NcFPnUrWO2XK4lsdKCARg13bmBSurCGU4aMtn0qjJ4Xt3YnP0GK4pYbmk+X3bGyq2WvvFKTw5IpIRAR61Fc+Gttvvfn1GOlYeynHVq1uprzxfzKcCW1mdroXU8YIqQR2KA7AxPUgDGKiz3TKutjPnjic74jtB9TzT4p58Bc7yOm6tItrfoQ0mWEubtZf367l7DtUqq1w24gKg6kDpW0FFrm7Gc207dynKqqzAoOehFVmhLdFJ/CumKtuYN9gGnzuPlibmoXs5VJBXkH1qlVjtdEezlvYimtJEXLow/CqErIDWkZp7WZEotbnrsTkjrmphz1rGDutdToloxaK0EMkU9VGSKRDIQd4A9MVm+ZS0+F7selvPoNDuHw3T2oJWUlWH50r3Vn1HtqjG1LSmVS6DdzxxWQ+nTSTcghjXBKPs3Z/I6IvmV/vK7aWYptsp2jua0LG3tllLQZkK8dO9C95227g9FfcmuFnnUrtyF9BUthHhfLkjO0n14zXToo2WhiruV2JqFtFGNyxoSPUVztzrdzBJhdoVewFZJ8zs3dLY0a5dVu9yCTxLKUPyDd2NZE+tXDyF84J74rSMEiJSbKFxqFxMpDyuQe2azpN3dj+dbRlbYzkr7nvCJkYxsP95eDUqxyA584t7EVnTi+j5fLoaSa66+ZOM45orqMgooAYwqNhis5DQ0yMBio2Zm7ZrNu+5VrDNizPsdFI9CKjNrDCuEiCZ6kcVlKEd7fMtSe34DY2jV8YKknvzTLqUQcs+PwqJuyuVHU5TWtVeaX5coq/dGaxpLxpUw4zjvRFKwSepAF85SUGcdRVeaJh/DiqvZ2JsZ86sDz0qBo2xu/hq0yLHvy9KeK2pkvcdRWogpM0AIaYwqJAhNq1FcPKoHlIHHesZNqPu6vsWtXrou5HuK5YLzjjNZ1/c3YiIUZX+8vauec36LqbRivV9DNivriYlWOdo6HmrxleWIBgDx3HSpaugvZmDqFuWYgwKSPQVlsjxIym3BUgjmoXa+xT7lSOzd3PkAq3YZpby8vVASeNendBzWukt+nUz22Jo7S2v4A3lFGxzg1Rm0l4m+UMVPqKlSa03Q2k9T/9n4qqwQ2C6FUcJKhVwpbQ1vCsihOUlK0km1lS0VoSE2qiF4TrpDJE0aZJK5EgBF7pQGeoyWHrHyLxlrwklpeaZbWWmyFkkIa43/2P/bAEMAAgEBAQEBAgEBAQICAgICBAMCAgICBQQEAwQGBQYGBgUGBgYHCQgGBwkHBgYICwgJCgoKCgoGCAsMCwoMCQoKCv/bAEMBAgICAgICBQMDBQoHBgcKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCv/AABEIAIAAgAMBIgACEQEDEQH/xAAeAAACAwEAAwEBAAAAAAAAAAAGBwQFCAMBAgkACv/EADcQAAEDAwMDAgUDAgYCAwAAAAECAwQFBhEAEiEHMUETUQgiMmFxFIGRFaEjQlKxwdEW8ReCov/EABsBAAICAwEAAAAAAAAAAAAAAAUGAwQBAgcA/8QAMREAAgEDAwMCBQMDBQAAAAAAAQIDAAQRBRIhMUFRE3EiYYGRwaHR4QYU8BUjMnKx/9oADAMBAAIRAxEAPwDNEamJCR8v9tT4dJ3Zwn+2rSHStzaVBvOrSDShnBTpvDYpbIBqsi0QKRn0+QO2uwpJQQCjRFEpR8D+2uj1LIXjb/bWwfmtNvFDqaWE/LsHfXZFNB/y6uVU75uUjj7a6NwMfMEfjWd3Fa0f/DB0mtK7KpIum8KgUxqQ+0pmE2EqMlzOQFA/5MgZ/J1q2L1glUxsPtIbbitNpW80EgbwSO+PGsWWjUqhRZy/0Tqkh1OFgH78aaKLzm0i28SnlLddYwk+wGdJH9QafJd3QLtkdh4802aNeRwWxCjBHU+aA/iosex//ktysdPnN8SpAOymM/M1IUo7/wD6k8jS8uTpxPthCJL3yuJSFKGOwPY50wavS7gnU3+vro7i4QXkyA3naoc86FrhnVGqpQl1SvTI5QVZzycHR6zkmiiSMvkLwSevtQe7WJ5HcLyeRS/q0BHqLc9NIKjyB50Pz6cEkkj+2j2qUlDRWfrJSQEgdjqqRbKKkVMJe2uBO5KSngn20SW9t1OC1DjaTsMhaBKhBCWt23A841QVGnBaiQ3n86O67TGWigR1bsg7hjkHPnVFNiJSgpIyc8DRBDxVRhjigmVAAP041CcaW2rcgYI9tE82n5PCedVkqAUkgJ1uQDUXfFaZplIUMsqb2kHke2rGNSylf0g8+2j2rWvRZtbjvxXY7EV14tuymdxzknCiD9hnge+oU+110+WtoLS4hKylDiBwoe/+2gkVysgB80akhZCQao4lMCk528jXRykKJ3bfxq8jUopABT31KXSRn6NS7sVFjihNVM+Y5T24zr1FPIVt26I3aUoEkA9+2uCqaUuDKdShs1oQM0bVvpPAtizaDUKLKVIVUYaZcxTrQSpl4jBQPOE/7k6rK1QUU213PUmJVLeWG4zTSgoff8Ht/Op1239WbjjNqqMgKDLKW0hCQkAJAHYceNC8aprVNbW+nKErG7nxnnGlyG3vJcvIckHP8f4KNyz20QCxjqP4rlFq98KoZs5ptxmKuQQ4kZBK/PPtjx21U3NbopREMhKlgfOQex9taAhdK3uofT7/AMo6eUh2PBElXqOyn0bFKT9XJOQRuHccg6BKn0RvByUUyqI+pxbZWnCchSQcZyOMZxzqs97E5IwFweR3z86nS0dFByWyOD2x8qULduuOOfIwVcZOBquqaEUV9t1EMBQz3HjTz6c9OpUibLl1aKGIsMelIekfKncoHAB8nj9tK/qfDpiqu9Hp3KWyQCR3++q7XStcel4FSiAiLf5pTVmEhcl1aOQok8e+h2bTVBZJGD99HAYnQZKxCYSXHRt3LQFAZ+x17XBbjT0VpLURKNqcFwJ5Ufvpms9VUuEfvQC609gpZaWMqAcnjzxqslQwBx+2jGr0ZyI6WHmsKx/OqaXTu4KfxjxpgBDDNBDuU1t2HUKReHSW0yqB6D9NEhh+Q0jIWvcFBC/bgkhX3I8al1mQ5ULdj0gUeKw2zIW6hbKDuJICeSSf9I0c/Bn0Pi3xcL1o1iSmP6chKz6qcjaPlPB78Ej99D9etp63K1OtySfUMSU4zuAwCUqIz++Nc70q8huB6SHLJz9yaeNQt3hbe3Rhj7AUJMUc8fJru5S0+n9HI99EcOkFxO5ScY9hr2k0hIbPy+PbTCX3UEA2mg1ym7gfl51Hk0rCdwbOilVLUkkFGvC6SVEkI/IOrAkAqBlNBbkJQQQnODxqK7TFIPKNGTtFZS4d+AAMnOvU2dPqEN6bAhuuMxwPWdbbJSjPbJ8aw9xFEMk4FeSOSQ4UZqNY/V26LLpj1qR5CjT5K8uhP1oJKclJJ4+ka2DZLVgdROlbVDtKII9wohsKeDxG8Mn/AD4BI2naPPdWsxdOennSm511K27kulcCqlgKpUpxQ9FSwPpV7A++ovTq+Lw6IdUGJcSWmQuG56DjbUrc082T9IUONvn/AI0rana2msB1tjtlX4vG79x2/wDaYLO4udM2mcZjbjzinj1f6PXNEtfDtIYjts8+nETj1FEY3qz3JwNZJvGw566u4n0FbiTu419Ird6o2r18oaWnIiYr8mKlT0dXdteSCArGCMAY/wCNKq8ehtl2tMcl1LY8+SpSGkjsOcE/9aRrbULm0maKZfiHamiW1huI1dDxWGHOmU9tkPyIpSM5STqGKHBTIEea2VJB5GtFXzCob812AkIbUjgADHGgWo9OY7Sf1jrjYDhJQpRxxpktbidjlxig08MSjC81nbqPSKe3Wj/Twop9IbwrsFew0HzaeE8lPfTav+22WqissELUSd2DxjQRVKQGx8qPyddMsJA1qgz2pDvEK3LH519dunnRiPZfXiDc8OoxUU1x8IdUy6NqwrIBx3wSM6B/jNsG2aZ1fdlW5LbWJ0Rtx5pAyW1425J7HIAOmjYxrN8yqTb9UoEanKXT0h+ey8lTrxGcKScZRn2PnzpWdXKVKYvqo0559+U7EfLSJMiOW3HAnspSTnx57Ec65F/TyYuid3IGDjx710nV2zAo28Z/X2pVU+2JMJrZIVk9xrg6xDkLWww8lS0n5kA8jRo7NtiAwpF0SVNEK+YIQdwGq9u16ImOzWqO8l1qWne24MHI/wCD9jpvhugGEakEDrzS/Lb7gXYYJ+VCS6c5HUHkJ+dJyCR2OudJpEya86zGirce27m/TTnGOSSPbV7dM2FRkw0uOMqEuQWfkeSVIUMd0jkdxqM4HqK8qR6oZ9MEOlRxgeQdXBcJIp2HmqZt3jcFhxShvufX6ZWQuS84SlZJaSOMZ9tMzpz8RVmUmy5do120UuNPJBSyklG5eACSR3yB2++ll1F6rW69WZKItHTIUUFDD7rpGxefqwO478atrNtyFeVoR6o84gPeotC1NEDJB4PbQie3W/X02PGc9aKRTf2R3gVUXJRH59xuVSgRzGZcXuQ2CcIB8DXWHClMOIdlLKlA5yfHPfRk1bbkOElp9e5aBtzjwO2qmpNMxspTjPuPGjVnZpGB5FCLq7eQkY4o+HXyRYtowaBY4ALMlt5ySpeVhSQNwPH0nAI9hka6TPiakXWt2Rcqn23HUkrDaApJXwMjz7/zpRyWSpzcPOplOghLaHZLSi2VYCgNYk0PT2G5kyx79+awurXoOA3HjtVjWqgqq1FdVUVqbWCGyDhQOPOhK6KnV3VoVJdWG0AhAHkaNJUQrpbcVLSAVnd6iOVHuMaFrnp0tpKv1BJUgYIOpLeKFTtA6cVFNNKRknrzQLV5sV1agWjz/mPfQjVYSFLUWxx4zorqsBwun5cA6qJEEkH7edGIY1iHw0NkdpDzWvLB+KW9rXr0OpN1x55tbXpTQtsbkoOAQkqBwQBweccadHTfrT0wrFz1K5ruuWfOcl00x4s2SylTsde0JCl+OEgpBHP2GsvVG0ajCfUw7CIKDjKRqw6eyKjb9cbdMcPNKc2vMujhSc9jri6Tw+myrhdwwSPFdSaNyyk84OaPut/WO1oTkuzG6PFmul8LYrDBO5SMHIVu5UVcfg9u+l1Gvup0+lLRb0v/AA8ENtvEkNk8naNEd4dNl1J1+tNx0oU4srS0Owz4GfGltMo1VgTDGfWpKEqzwO+orW8WIARtgit5oC+d65BoaqIqqpSprkle71crKlHg50fdVevFq31ZdPt+NbyoU+PT249RloUNstaCT6pAAwo55P2Gh1+lSnt7CmS5nJScarUWstThbciFWOT8vYaIJqWcFjyPzVVrME4A4oErdLE1tamV5JOQfY6pqZeN22Sp1mkVd5lLowtKF8HTjh2HBfaSEIBJByPbQ/cnRhLzS5cTJOSSlQ7a2ttYEUmCaxNp5kTIFD1rfEHekScluoTjKaUseo2/yQnzg+NNinTqPdba36FN9cJA9RJGFJJ5wRpNW/02nTa81SGYpLrrwQkbfJONao6f/C3UunPTxd5Sn1LefdQlUb0+R3IP8aY7bW0jnRC3/LigdxpfqRMwHSl2/RH23Ni2SD7EauaRa1RlUaRLjxS4iMAp7YeQCcZx5AP8Z0aVyg0RgNvSZxafWfodSBzjjj+PxrzRK43aFX/Rwq9CccqLKmlNMvhRJIKcKT7j799GG1ZJIvhI3ePahY0x1k+LO3zS+juvtOBpvCcqHJAONV931CVP+R2GhWVY3oRjb/Gn51R6ET0Uin1i0LUHomIgyW2RvWF4PJH1DPck+4xxxpS3ZR61Zlddi16gNtnaU+m4nKT9xrW3vYL0BoSN3jIzxWJbSazOJQdv1xSlrFLbSokg5OqWRBSXDuIH50dVKmVCrOLMOEpz8J7aoa9Z1w0Vaf6tRZLBcA9NLjJG7PI/9aPRyDAVjzQhkJOQOK+lfxU/DzTVXM2enFkf4D6C4+7FbKxu85OcD8AaTUH4erjaeLrNGcSsKwpBbP8AbWtOiV5zKnVG00SptyUrOFpS8FA/YjPGnW3QrdrITOcpLaXQQTubwQR7++uKLok12zehIBz0I4x8iD+mK6h/qKQKokQnjrnmsCu9MJ8ajpZqNLWktpwoKTpe3TZtDZlrUI+1e3JCm+M6+md1dN7VuuCqPPpTW8NkNrQkAg447ayz1t6Ff0FMh5qlrKjnZhPnGhGqaZe6RIDL8St0I/Pir9nfW98pAGCOx/FZFbpkB2oKQ5BbbU2rAUrhK/tqxj2pa8qQp+tPMw1hISyMEpd57HGcHnPtgak3h0/uKbP/AEkeI6CFH6UEYOqef0lvNcb1XZDoWk7kJUrnOtreSHgsRXnVyOBXpd67Jst8xKdHMtfqAKLY+VQ8lKh3/OuUe2oVxRjPpAzv5LDn1t/Y++ulF6e1y9YZtp9paKgw5hlwpJ9XOePznU/p70tvqgXO8K3EfZEMFBTggLXgkDH7dtEi9hM2w4WqoFzGu5cmudk9B4NWvmImcoRGluBTkoJ4SnI5/OtnMdO2rdZgVKt1mNJgtsJERQQPTkYCRtxyO2SSeTu1nqk3TETV4dKVFTGUtwpkGQsJSnHPCjxp41S9alWbWVY1syI7UVhLf6mXJeAbYHOTvP8AqHAAz286llsrV1TEmfwKhW5uFZspj8mqjq58PfTe6KC7Vo8KNGU2hS1ORlggr5OMDkcax3UulMFfUVuO5MUhppe5DxPbHOONa2u2NVKBSlMUCVNkMuR0plPvpAaWvn6M4OPzpL1C3pcOovOymwXSFbVBOdufI/71pY288UpEDllPT81m5nieMGVQDUTqj1OrNm2221bF3PrdRGLLxaePJ5899DvTLqJROq9VpznVGC++mG2WnGwCQ8rOAT5z7/jXpUbcW+46mpI3kqyk9+NelvvtWe4h2nx0ZQ4CpJT3HnTFp2n3CpvHXnnoaDXt/AW2k8ccdRTerNsdGbepiq7SbPZSQz6qmxFUSkHt4IHP99KK7OtdlxnltsUKS4VEpfadOAMdsfcHVldvVKtVOkriQ3VRy4r/ABdijhQHYY8aUldil1TinkBSl87jotpmj78tdkk/9iaGX+rCMhbYAD2FfTe1PgzqHT+7UXJatwF6M1IC22ivDm0HI5Hn99Puh0+RTssKqLzzeMpTJBKk/bJ1CtaWzMbJizUOBBIWE5BB/BAP76vmySnn++hul6faxH14iefnkfT5e+aLXl1O/wDtv2+VedVdx04TlMtoajFS1FCvXZ3ZSe+PY41aaj1GK7LjlEd703ByheOx0VuohNAVxmqcTbJAaD698P3TisQZDDVDbZfeOQ+ngpP/AFoJY+Du3xUkzKrLalsDOWcFOD+f402Y9MqzVLdaqNS9V8kltxJIIGOBqPGl1OBGcDzO9RPClL57HQKXR9JkZXaDZx24+4HFEEvrxAVWTPv+M1k7qf03c6UXG5Kt+2W3S0slmSpsgd+/PfA/31VT+rw5XV7Tgxqi9HLzsh5IWXMA4wk8Jz/61qfqf0ypfUSkqnMtgzWo69iSTySOBrOVT+Fy8H6k2xVqTIbS4fmf2ZShOlG+0xrOUqyZU9CBnj+KN214J1BBwR1FI+5axbN0SRL9L0pTqgXGkNYQhWPA0QWv0pvrqJRAqgz5amow/wAJv1fkGMnsfHJ0Vv8ASGj9La+5Vbzt+XLisglpLUc7XecABXj8nTHoTFTdsaIbcguUlh0BSWW1J3ZcAyFecD/nWbRTI/pxnbjz+1YuJPTTe4z7UtbWoF2XPOYtepy1L/TIUpwOOhKUJQMq559j/Oqu+qXW4tYcRS6bMQzKQENMrQcqTjgcDkeR9tN+2enl4Wncypj8OO+AMu5SpaCnIzyPOrvrrU6bS7f/AFKKm1FfWgpSoqSTvxnA9iNMM+orZlSoDADH17mg8Nm90DklST+nYVmdfQq/6q4hX9CDKXRu3PvISEjPcjOf7Z1X3T0BlW/SHKtU7jhD0nQhxDIUoJ9yTjxnwNBV/dYep9r3K8+xXpYCuEoWtQBTnjH2Ol31P+IPqddDCI8utO7UIx6bR2p/cDv++rKanqbspVlA9v3qBtPsVBDBif8APFMWtWPSqdTnahIuultpwfSbmv8ApKUARhQye2Of20lbs6o2bDkriqrsJWxW0rbVuSr99ANzXLXZ29dSlur+XlS3CdLyvRW1rWsOg55I76MWupyoT6jbvpihtxp8LD4Bj61/RJHoRq8ZmNWFvJWyrcxIjultxP7juNXdEoJouRFqT7rSvqTJXuOffOvaIT6YBJOBxnU9ogpwBjVbTrSDAkxyMc9/5q7NcSOSvbxXtr9r9r920ZqrXhYBSQdQJjQIJx+dTVup7ajSNqknPtqCcAx1lTg5qllPvxcltwj8agSnqpIQSEuqB7nB51dqYjlRLo75BP2xquu+ZckWnoNqw0StqgH2lOYUUeQPzoHM/pRM7E4HYDJ+1EEw7hRxnueB96rabFcqrkmPJa9UNoBLK+x+bng9+NU9woj0+Utb1vtObAMteiR6ae+5I8du+plWqFah0t5VKbEV1xW4uuIO5IA4Bz986z71mvbqpRbmTUaqX429sNhyO4r03BnIWOfIxn8aA3N9CsigDnyen3olFayFDk0665W4Eq1v69HlyC00raWmlBSkKzwSPtwceQdYw+L3rDWLhqggJQ41FiI2RcnBWc/MtQAABJ8eO2tAWXcl2/p3WX3S4pwpVuWySl3I/wD1pQ9erfrM2c+0i3I8sFBcQtMTkI7c7e3PvoZNcPHcCQjj371aiCPGUB5rLNfviqyKYiTU2VrbQdiXHBnIz21CqNq1WpwUzaPDMhtxsLCmkZwD747aOLwgXNHt522avZjQiLWHEEp+dsDcBt9uSM/jVFRLZ6vWBSZF2dNHZSIzzKm5jbRStSRzwUkHgZznHfVxLkyLxgH9DVdo1j6nIpK31QaoylfqMEEDCgBoHl0OU7HVUm2VpS3wpvGc8d9ak6WVGL1IdnW51Ht6NMmuO+ozMGGHMEYKSBhJAPIOO5OfGqC//h1doNVcnUOnThGUopKS0HAoc9iO/wDHjUqak0bGNxz+lQtbK3xrX//Z", this.emptyImage = new Image, this.emptyImage.onload = () => { this.samplers.empty = this.gl.createTexture(), this.bindTexture(this.samplers.empty, this.emptyImage, 1, 1) }, this.emptyImage.src = "data:image/gif;base64,R0lGODlhAQABAIAAAAUEBAAAACwAAAAAAQABAAACAkQBADs=" } bindTexture(e, t, n, a) { if (this.gl.bindTexture(this.gl.TEXTURE_2D, e), this.gl.pixelStorei(this.gl.UNPACK_ALIGNMENT, 1), this.gl.texImage2D(this.gl.TEXTURE_2D, 0, this.gl.RGBA, n, a, 0, this.gl.RGBA, this.gl.UNSIGNED_BYTE, t), this.gl.generateMipmap(this.gl.TEXTURE_2D), this.gl.texParameteri(this.gl.TEXTURE_2D, this.gl.TEXTURE_WRAP_S, this.gl.REPEAT), this.gl.texParameteri(this.gl.TEXTURE_2D, this.gl.TEXTURE_WRAP_T, this.gl.REPEAT), this.gl.texParameteri(this.gl.TEXTURE_2D, this.gl.TEXTURE_MIN_FILTER, this.gl.LINEAR_MIPMAP_LINEAR), this.gl.texParameteri(this.gl.TEXTURE_2D, this.gl.TEXTURE_MAG_FILTER, this.gl.LINEAR), this.anisoExt) { const e = this.gl.getParameter(this.anisoExt.MAX_TEXTURE_MAX_ANISOTROPY_EXT); this.gl.texParameterf(this.gl.TEXTURE_2D, this.anisoExt.TEXTURE_MAX_ANISOTROPY_EXT, e) } } loadExtraImages(e) { Object.keys(e).forEach(t => { const { data: n, width: a, height: r } = e[t]; if (!this.samplers[t]) { const e = new Image; e.onload = () => { this.samplers[t] = this.gl.createTexture(), this.bindTexture(this.samplers[t], e, a, r) }, e.src = n } }) } getTexture(e) { return this.samplers[e] || this.samplers.clouds2 } } class Ft { constructor(e, t = {}) { this.gl = e, this.texsizeX = t.texsizeX, this.texsizeY = t.texsizeY, this.aspectx = t.aspectx, this.aspecty = t.aspecty, this.invAspectx = 1 / this.aspectx, this.invAspecty = 1 / this.aspecty, this.buildPositions(), this.textTexture = this.gl.createTexture(), this.indexBuf = e.createBuffer(), this.positionVertexBuf = this.gl.createBuffer(), this.vertexBuf = this.gl.createBuffer(), this.canvas = document.createElement("canvas"), this.canvas.width = this.texsizeX, this.canvas.height = this.texsizeY, this.context2D = this.canvas.getContext("2d", { willReadFrequently: !1 }), this.floatPrecision = _t.getFragmentFloatPrecision(this.gl), this.createShader() } generateTitleTexture(e) { this.context2D.clearRect(0, 0, this.texsizeX, this.texsizeY), this.fontSize = Math.floor(this.texsizeX / 256 * 16), this.fontSize = Math.max(this.fontSize, 6), this.context2D.font = `italic ${this.fontSize}px Times New Roman`; let t = e, n = this.context2D.measureText(t).width; if (n > this.texsizeX) { const e = this.texsizeX / n * .91; t = `${t.substring(0, Math.floor(t.length * e))}...`, n = this.context2D.measureText(t).width } this.context2D.fillStyle = "#FFFFFF", this.context2D.fillText(t, (this.texsizeX - n) / 2, this.texsizeY / 2); const a = new Uint8Array(this.context2D.getImageData(0, 0, this.texsizeX, this.texsizeY).data.buffer); this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL, !0), this.gl.bindTexture(this.gl.TEXTURE_2D, this.textTexture), this.gl.texImage2D(this.gl.TEXTURE_2D, 0, this.gl.RGBA, this.texsizeX, this.texsizeY, 0, this.gl.RGBA, this.gl.UNSIGNED_BYTE, a), this.gl.texParameteri(this.gl.TEXTURE_2D, this.gl.TEXTURE_MAG_FILTER, this.gl.LINEAR), this.gl.texParameteri(this.gl.TEXTURE_2D, this.gl.TEXTURE_MIN_FILTER, this.gl.LINEAR_MIPMAP_LINEAR), this.gl.texParameteri(this.gl.TEXTURE_2D, this.gl.TEXTURE_WRAP_S, this.gl.CLAMP_TO_EDGE), this.gl.texParameteri(this.gl.TEXTURE_2D, this.gl.TEXTURE_WRAP_T, this.gl.CLAMP_TO_EDGE), this.gl.generateMipmap(this.gl.TEXTURE_2D), this.gl.bindTexture(this.gl.TEXTURE_2D, null) } updateGlobals(e) { this.texsizeX = e.texsizeX, this.texsizeY = e.texsizeY, this.aspectx = e.aspectx, this.aspecty = e.aspecty, this.invAspectx = 1 / this.aspectx, this.invAspecty = 1 / this.aspecty, this.canvas.width = this.texsizeX, this.canvas.height = this.texsizeY } buildPositions() { const e = 2 / 15, t = 2 / 7, n = []; for (let r = 0; r < 8; r++) { const a = r * t - 1; for (let t = 0; t < 16; t++) { const r = t * e - 1; n.push(r, -a, 0) } } const a = []; for (let r = 0; r < 7; r++)for (let e = 0; e < 15; e++) { const t = e + 16 * r, n = e + 16 * (r + 1), s = e + 1 + 16 * (r + 1), i = e + 1 + 16 * r; a.push(t, n, i), a.push(n, s, i) } this.vertices = new Float32Array(n), this.indices = new Uint16Array(a) } createShader() { this.shaderProgram = this.gl.createProgram(); const e = this.gl.createShader(this.gl.VERTEX_SHADER); this.gl.shaderSource(e, "#version 300 es\n       const vec2 halfmad = vec2(0.5);\n       in vec2 aPos;\n       in vec2 aUv;\n       out vec2 uv_orig;\n       out vec2 uv;\n       void main(void) {\n         gl_Position = vec4(aPos, 0.0, 1.0);\n         uv_orig = aPos * halfmad + halfmad;\n         uv = aUv;\n       }"), this.gl.compileShader(e); const t = this.gl.createShader(this.gl.FRAGMENT_SHADER); this.gl.shaderSource(t, `#version 300 es\n       precision ${this.floatPrecision} float;\n       precision highp int;\n       precision mediump sampler2D;\n\n       in vec2 uv_orig;\n       in vec2 uv;\n       out vec4 fragColor;\n       uniform sampler2D uTexture;\n       uniform float textColor;\n\n       void main(void) {\n         fragColor = texture(uTexture, uv) * vec4(textColor);\n       }`), this.gl.compileShader(t), this.gl.attachShader(this.shaderProgram, e), this.gl.attachShader(this.shaderProgram, t), this.gl.linkProgram(this.shaderProgram), this.positionLocation = this.gl.getAttribLocation(this.shaderProgram, "aPos"), this.uvLocation = this.gl.getAttribLocation(this.shaderProgram, "aUv"), this.textureLoc = this.gl.getUniformLocation(this.shaderProgram, "uTexture"), this.textColorLoc = this.gl.getUniformLocation(this.shaderProgram, "textColor") } generateUvs(e, t, n) { const a = []; for (let i = 0; i < 8; i++)for (let n = 0; n < 16; n++) { const r = n / 15 * 2 - 1; let s = 2 * (.75 * (i / 7 - .5) + .5) - 1; e >= 1 && (s += 1 / this.texsizeY), a.push(r, t ? s : -s) } const r = Math.max(0, 1 - 1.5 * e) ** 1.8 * 1.3; for (let i = 0; i < 8; i++)for (let e = 0; e < 16; e++) { const t = 16 * i + e; a[t] += .07 * r * Math.sin(.31 * n.time + .39 * a[t] - 1.94 * a[t + 1]), a[t] += .044 * r * Math.sin(.81 * n.time - 1.91 * a[t] + .27 * a[t + 1]), a[t] += .061 * r * Math.sin(1.31 * n.time + .61 * a[t] + .74 * a[t + 1]), a[t + 1] += .061 * r * Math.sin(.37 * n.time + 1.83 * a[t] + .69 * a[t + 1]), a[t + 1] += .07 * r * Math.sin(.67 * n.time + .42 * a[t] - 1.39 * a[t + 1]), a[t + 1] += .087 * r * Math.sin(1.07 * n.time + 3.55 * a[t] + .89 * a[t + 1]) } const s = 1.01 / (e ** .21 + .01); for (let i = 0; i < a.length / 2; i++)a[2 * i] *= s, a[2 * i + 1] *= s * this.invAspecty, a[2 * i] = (a[2 * i] + 1) / 2, a[2 * i + 1] = (a[2 * i + 1] + 1) / 2; return new Float32Array(a) } renderTitle(e, t, n) { this.gl.useProgram(this.shaderProgram); const a = this.generateUvs(e, t, n); this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER, this.indexBuf), this.gl.bufferData(this.gl.ELEMENT_ARRAY_BUFFER, this.indices, this.gl.STATIC_DRAW), this.gl.bindBuffer(this.gl.ARRAY_BUFFER, this.positionVertexBuf), this.gl.bufferData(this.gl.ARRAY_BUFFER, this.vertices, this.gl.STATIC_DRAW), this.gl.vertexAttribPointer(this.positionLocation, 3, this.gl.FLOAT, !1, 0, 0), this.gl.enableVertexAttribArray(this.positionLocation), this.gl.bindBuffer(this.gl.ARRAY_BUFFER, this.vertexBuf), this.gl.bufferData(this.gl.ARRAY_BUFFER, a, this.gl.STATIC_DRAW), this.gl.vertexAttribPointer(this.uvLocation, 2, this.gl.FLOAT, !1, 0, 0), this.gl.enableVertexAttribArray(this.uvLocation), this.gl.activeTexture(this.gl.TEXTURE0), this.gl.bindTexture(this.gl.TEXTURE_2D, this.textTexture), this.gl.uniform1i(this.textureLoc, 0), this.gl.uniform1f(this.textColorLoc, e ** .3), this.gl.blendFunc(this.gl.SRC_ALPHA, this.gl.ONE_MINUS_SRC_ALPHA), this.gl.drawElements(this.gl.TRIANGLES, this.indices.length, this.gl.UNSIGNED_SHORT, 0) } } class Qt { constructor(e) { this.rng = mt(), this.mesh_width = e.mesh_width, this.mesh_height = e.mesh_height, this.aspectx = e.aspectx, this.aspecty = e.aspecty, this.vertInfoA = new Float32Array((this.mesh_width + 1) * (this.mesh_height + 1)), this.vertInfoC = new Float32Array((this.mesh_width + 1) * (this.mesh_height + 1)), this.createBlendPattern() } static resizeMatrixValues(e, t, n, a, r) { const s = new Float32Array((a + 1) * (r + 1)); let i = 0; for (let o = 0; o < r + 1; o++)for (let l = 0; l < a + 1; l++) { let m = l / r, c = o / a; m *= t + 1, c *= n + 1, m = Math.clamp(m, 0, t - 1), c = Math.clamp(c, 0, n - 1); const u = Math.floor(m), A = Math.floor(c), p = m - u, d = c - A, _ = e[A * (t + 1) + u], v = e[A * (t + 1) + (u + 1)], h = e[(A + 1) * (t + 1) + u], g = e[(A + 1) * (t + 1) + (u + 1)]; s[i] = _ * (1 - p) * (1 - d) + v * p * (1 - d) + h * (1 - p) * d + g * p * d, i += 1 } return s } updateGlobals(e) { const t = this.mesh_width, n = this.mesh_height; this.mesh_width = e.mesh_width, this.mesh_height = e.mesh_height, this.aspectx = e.aspectx, this.aspecty = e.aspecty, this.mesh_width === t && this.mesh_height === n || (this.vertInfoA = Qt.resizeMatrixValues(this.vertInfoA, t, n, this.mesh_width, this.mesh_height), this.vertInfoC = Qt.resizeMatrixValues(this.vertInfoC, t, n, this.mesh_width, this.mesh_height)) } genPlasma(e, t, n, a, r) { const s = Math.floor((e + t) / 2), i = Math.floor((n + a) / 2); let o = this.vertInfoC[n * (this.mesh_width + 1) + e], l = this.vertInfoC[n * (this.mesh_width + 1) + t], m = this.vertInfoC[a * (this.mesh_width + 1) + e], c = this.vertInfoC[a * (this.mesh_width + 1) + t]; a - n >= 2 && (0 === e && (this.vertInfoC[i * (this.mesh_width + 1) + e] = .5 * (o + m) + (2 * this.rng.random() - 1) * r * this.aspecty), this.vertInfoC[i * (this.mesh_width + 1) + t] = .5 * (l + c) + (2 * this.rng.random() - 1) * r * this.aspecty), t - e >= 2 && (0 === n && (this.vertInfoC[n * (this.mesh_width + 1) + s] = .5 * (o + l) + (2 * this.rng.random() - 1) * r * this.aspectx), this.vertInfoC[a * (this.mesh_width + 1) + s] = .5 * (m + c) + (2 * this.rng.random() - 1) * r * this.aspectx), a - n >= 2 && t - e >= 2 && (o = this.vertInfoC[i * (this.mesh_width + 1) + e], l = this.vertInfoC[i * (this.mesh_width + 1) + t], m = this.vertInfoC[n * (this.mesh_width + 1) + s], c = this.vertInfoC[a * (this.mesh_width + 1) + s], this.vertInfoC[i * (this.mesh_width + 1) + s] = .25 * (m + c + o + l) + (2 * this.rng.random() - 1) * r, this.genPlasma(e, s, n, i, .5 * r), this.genPlasma(s, t, n, i, .5 * r), this.genPlasma(e, s, i, a, .5 * r), this.genPlasma(s, t, i, a, .5 * r)) } createBlendPattern() { const e = 1 + Math.floor(3 * this.rng.random()); if (0 === e) { let e = 0; for (let t = 0; t <= this.mesh_height; t++)for (let n = 0; n <= this.mesh_width; n++)this.vertInfoA[e] = 1, this.vertInfoC[e] = 0, e += 1 } else if (1 === e) { const e = 6.28 * this.rng.random(), t = Math.cos(e), n = Math.sin(e), a = .1 + .2 * this.rng.random(), r = 1 / a; let s = 0; for (let i = 0; i <= this.mesh_height; i++) { const e = i / this.mesh_height * this.aspecty; for (let i = 0; i <= this.mesh_width; i++) { let o = (i / this.mesh_width * this.aspectx - .5) * t + (e - .5) * n + .5; o = (o - .5) / Math.sqrt(2) + .5, this.vertInfoA[s] = r * (1 + a), this.vertInfoC[s] = r * o - r, s += 1 } } } else if (2 === e) { const e = .12 + .13 * this.rng.random(), t = 1 / e; this.vertInfoC[0] = this.rng.random(), this.vertInfoC[this.mesh_width] = this.rng.random(), this.vertInfoC[this.mesh_height * (this.mesh_width + 1)] = this.rng.random(), this.vertInfoC[this.mesh_height * (this.mesh_width + 1) + this.mesh_width] = this.rng.random(), this.genPlasma(0, this.mesh_width, 0, this.mesh_height, .25); let n = this.vertInfoC[0], a = this.vertInfoC[0], r = 0; for (let i = 0; i <= this.mesh_height; i++)for (let e = 0; e <= this.mesh_width; e++)n > this.vertInfoC[r] && (n = this.vertInfoC[r]), a < this.vertInfoC[r] && (a = this.vertInfoC[r]), r += 1; const s = 1 / (a - n); r = 0; for (let i = 0; i <= this.mesh_height; i++)for (let a = 0; a <= this.mesh_width; a++) { const a = (this.vertInfoC[r] - n) * s; this.vertInfoA[r] = t * (1 + e), this.vertInfoC[r] = t * a - t, r += 1 } } else if (3 === e) { const e = .02 + .14 * this.rng.random() + .34 * this.rng.random(), t = 1 / e, n = 2 * Math.floor(2 * this.rng.random()) - 1; let a = 0; for (let r = 0; r <= this.mesh_height; r++) { const s = (r / this.mesh_height - .5) * this.aspecty; for (let r = 0; r <= this.mesh_width; r++) { const i = (r / this.mesh_width - .5) * this.aspectx; let o = 1.41421 * Math.sqrt(i * i + s * s); -1 === n && (o = 1 - o), this.vertInfoA[a] = t * (1 + e), this.vertInfoC[a] = t * o - t, a += 1 } } } } } class Vt { constructor(e, t, n) { this.gl = e, this.audio = t, this.frameNum = 0, this.fps = 30, this.time = 0, this.presetTime = 0, this.lastTime = performance.now(), this.timeHist = [0], this.timeHistMax = 120, this.blending = !1, this.blendStartTime = 0, this.blendProgress = 0, this.blendDuration = 0, this.width = n.width || 1200, this.height = n.height || 900, this.mesh_width = n.meshWidth || 48, this.mesh_height = n.meshHeight || 36, this.pixelRatio = n.pixelRatio || window.devicePixelRatio || 1, this.textureRatio = n.textureRatio || 1, this.outputFXAA = n.outputFXAA || !1, this.texsizeX = this.width * this.pixelRatio * this.textureRatio, this.texsizeY = this.height * this.pixelRatio * this.textureRatio, this.aspectx = this.texsizeY > this.texsizeX ? this.texsizeX / this.texsizeY : 1, this.aspecty = this.texsizeX > this.texsizeY ? this.texsizeY / this.texsizeX : 1, this.invAspectx = 1 / this.aspectx, this.invAspecty = 1 / this.aspecty, this.qs = At.range(1, 33).map(e => `q${e}`), this.ts = At.range(1, 9).map(e => `t${e}`), this.regs = At.range(0, 100).map(e => e < 10 ? `reg0${e}` : `reg${e}`), this.blurRatios = [[.5, .25], [.125, .125], [.0625, .0625]], this.audioLevels = new ot(this.audio), this.prevFrameBuffer = this.gl.createFramebuffer(), this.targetFrameBuffer = this.gl.createFramebuffer(), this.prevTexture = this.gl.createTexture(), this.targetTexture = this.gl.createTexture(), this.compFrameBuffer = this.gl.createFramebuffer(), this.compTexture = this.gl.createTexture(), this.anisoExt = this.gl.getExtension("EXT_texture_filter_anisotropic") || this.gl.getExtension("MOZ_EXT_texture_filter_anisotropic") || this.gl.getExtension("WEBKIT_EXT_texture_filter_anisotropic"), this.bindFrameBufferTexture(this.prevFrameBuffer, this.prevTexture), this.bindFrameBufferTexture(this.targetFrameBuffer, this.targetTexture), this.bindFrameBufferTexture(this.compFrameBuffer, this.compTexture); const a = { pixelRatio: this.pixelRatio, textureRatio: this.textureRatio, texsizeX: this.texsizeX, texsizeY: this.texsizeY, mesh_width: this.mesh_width, mesh_height: this.mesh_height, aspectx: this.aspectx, aspecty: this.aspecty }; this.noise = new Ut(e), this.image = new Mt(e), this.warpShader = new wt(e, this.noise, this.image, a), this.compShader = new It(e, this.noise, this.image, a), this.outputShader = new Rt(e, a), this.prevWarpShader = new wt(e, this.noise, this.image, a), this.prevCompShader = new It(e, this.noise, this.image, a), this.numBlurPasses = 0, this.blurShader1 = new Ct(0, this.blurRatios, e, a), this.blurShader2 = new Ct(1, this.blurRatios, e, a), this.blurShader3 = new Ct(2, this.blurRatios, e, a), this.blurTexture1 = this.blurShader1.blurVerticalTexture, this.blurTexture2 = this.blurShader2.blurVerticalTexture, this.blurTexture3 = this.blurShader3.blurVerticalTexture, this.basicWaveform = new bt(e, a), this.customWaveforms = At.range(4).map(t => new xt(t, e, a)), this.customShapes = At.range(4).map(t => new vt(t, e, a)), this.prevCustomWaveforms = At.range(4).map(t => new xt(t, e, a)), this.prevCustomShapes = At.range(4).map(t => new vt(t, e, a)), this.darkenCenter = new St(e, a), this.innerBorder = new Tt(e, a), this.outerBorder = new Tt(e, a), this.motionVectors = new Pt(e, a), this.titleText = new Ft(e, a), this.blendPattern = new Qt(a), this.resampleShader = new yt(e), this.supertext = { startTime: -1 }, this.warpUVs = new Float32Array((this.mesh_width + 1) * (this.mesh_height + 1) * 2), this.warpColor = new Float32Array((this.mesh_width + 1) * (this.mesh_height + 1) * 4), this.gl.clearColor(0, 0, 0, 1), this.blankPreset = ht; const r = { frame: 0, time: 0, fps: 45, bass: 1, bass_att: 1, mid: 1, mid_att: 1, treb: 1, treb_att: 1 }; this.preset = ht, this.prevPreset = this.preset, this.presetEquationRunner = new ut(this.preset, r, a), this.prevPresetEquationRunner = new ut(this.prevPreset, r, a), this.preset.useWASM || (this.regVars = this.presetEquationRunner.mdVSRegs) } static getHighestBlur(e) { return /sampler_blur3/.test(e) ? 3 : /sampler_blur2/.test(e) ? 2 : /sampler_blur1/.test(e) ? 1 : 0 } loadPreset(e, t) { this.blendPattern.createBlendPattern(), this.blending = !0, this.blendStartTime = this.time, this.blendDuration = t, this.blendProgress = 0, this.prevPresetEquationRunner = this.presetEquationRunner, this.prevPreset = this.preset, this.preset = e, this.presetTime = this.time; const n = { frame: this.frameNum, time: this.time, fps: this.fps, bass: this.audioLevels.bass, bass_att: this.audioLevels.bass_att, mid: this.audioLevels.mid, mid_att: this.audioLevels.mid_att, treb: this.audioLevels.treb, treb_att: this.audioLevels.treb_att }, a = { pixelRatio: this.pixelRatio, textureRatio: this.textureRatio, texsizeX: this.texsizeX, texsizeY: this.texsizeY, mesh_width: this.mesh_width, mesh_height: this.mesh_height, aspectx: this.aspectx, aspecty: this.aspecty }; e.useWASM ? (this.preset.globalPools.perFrame.old_wave_mode.value = this.prevPreset.baseVals.wave_mode, this.preset.baseVals.old_wave_mode = this.prevPreset.baseVals.wave_mode, this.presetEquationRunner = new ft(this.preset, n, a), this.preset.pixel_eqs_initialize_array && this.preset.pixel_eqs_initialize_array(this.mesh_width, this.mesh_height)) : (this.preset.baseVals.old_wave_mode = this.prevPreset.baseVals.wave_mode, this.presetEquationRunner = new ut(this.preset, n, a), this.regVars = this.presetEquationRunner.mdVSRegs); const r = this.prevWarpShader; this.prevWarpShader = this.warpShader, this.warpShader = r; const s = this.prevCompShader; this.prevCompShader = this.compShader, this.compShader = s; const i = this.preset.warp.trim(), o = this.preset.comp.trim(); this.warpShader.updateShader(i), this.compShader.updateShader(o), 0 === i.length ? this.numBlurPasses = 0 : this.numBlurPasses = Vt.getHighestBlur(i), 0 !== o.length && (this.numBlurPasses = Math.max(this.numBlurPasses, Vt.getHighestBlur(o))) } loadExtraImages(e) { this.image.loadExtraImages(e) } setRendererSize(e, t, n) { const a = this.texsizeX, r = this.texsizeY; if (this.width = e, this.height = t, this.mesh_width = n.meshWidth || this.mesh_width, this.mesh_height = n.meshHeight || this.mesh_height, this.pixelRatio = n.pixelRatio || this.pixelRatio, this.textureRatio = n.textureRatio || this.textureRatio, this.texsizeX = e * this.pixelRatio * this.textureRatio, this.texsizeY = t * this.pixelRatio * this.textureRatio, this.aspectx = this.texsizeY > this.texsizeX ? this.texsizeX / this.texsizeY : 1, this.aspecty = this.texsizeX > this.texsizeY ? this.texsizeY / this.texsizeX : 1, this.texsizeX !== a || this.texsizeY !== r) { const e = this.gl.createTexture(); this.bindFrameBufferTexture(this.targetFrameBuffer, e), this.bindFrambufferAndSetViewport(this.targetFrameBuffer, this.texsizeX, this.texsizeY), this.resampleShader.renderQuadTexture(this.targetTexture), this.targetTexture = e, this.bindFrameBufferTexture(this.prevFrameBuffer, this.prevTexture), this.bindFrameBufferTexture(this.compFrameBuffer, this.compTexture) } this.updateGlobals(), this.frameNum > 0 && this.renderToScreen() } setInternalMeshSize(e, t) { this.mesh_width = e, this.mesh_height = t, this.updateGlobals() } setOutputAA(e) { this.outputFXAA = e } updateGlobals() { const e = { pixelRatio: this.pixelRatio, textureRatio: this.textureRatio, texsizeX: this.texsizeX, texsizeY: this.texsizeY, mesh_width: this.mesh_width, mesh_height: this.mesh_height, aspectx: this.aspectx, aspecty: this.aspecty }; this.presetEquationRunner.updateGlobals(e), this.prevPresetEquationRunner.updateGlobals(e), this.warpShader.updateGlobals(e), this.prevWarpShader.updateGlobals(e), this.compShader.updateGlobals(e), this.prevCompShader.updateGlobals(e), this.outputShader.updateGlobals(e), this.blurShader1.updateGlobals(e), this.blurShader2.updateGlobals(e), this.blurShader3.updateGlobals(e), this.basicWaveform.updateGlobals(e), this.customWaveforms.forEach(t => t.updateGlobals(e)), this.customShapes.forEach(t => t.updateGlobals(e)), this.prevCustomWaveforms.forEach(t => t.updateGlobals(e)), this.prevCustomShapes.forEach(t => t.updateGlobals(e)), this.darkenCenter.updateGlobals(e), this.innerBorder.updateGlobals(e), this.outerBorder.updateGlobals(e), this.motionVectors.updateGlobals(e), this.titleText.updateGlobals(e), this.blendPattern.updateGlobals(e), this.warpUVs = new Float32Array((this.mesh_width + 1) * (this.mesh_height + 1) * 2), this.warpColor = new Float32Array((this.mesh_width + 1) * (this.mesh_height + 1) * 4), this.preset.pixel_eqs_initialize_array && this.preset.pixel_eqs_initialize_array(this.mesh_width, this.mesh_height) } calcTimeAndFPS(e) { let t; if (e) t = e; else { const e = performance.now(); t = (e - this.lastTime) / 1e3, (t > 1 || t < 0 || this.frame < 2) && (t = 1 / 30), this.lastTime = e } this.time += 1 / this.fps, this.blending && (this.blendProgress = (this.time - this.blendStartTime) / this.blendDuration, this.blendProgress > 1 && (this.blending = !1)); const n = this.timeHist[this.timeHist.length - 1] + t; this.timeHist.push(n), this.timeHist.length > this.timeHistMax && this.timeHist.shift(); const a = this.timeHist.length / (n - this.timeHist[0]); if (Math.abs(a - this.fps) > 3 && this.frame > this.timeHistMax) this.fps = a; else { const e = .93; this.fps = e * this.fps + (1 - e) * a } } runPixelEquations(e, t, n, a) { const r = this.mesh_width, s = this.mesh_height, i = r + 1, o = s + 1, l = this.time * t.warpanimspeed, m = 1 / t.warpscale, c = 11.68 + 4 * Math.cos(1.413 * l + 10), u = 8.77 + 3 * Math.cos(1.113 * l + 7), A = 10.54 + 3 * Math.cos(1.233 * l + 3), p = 11.49 + 4 * Math.cos(.933 * l + 5), d = 0 / this.texsizeX, _ = 0 / this.texsizeY, v = this.aspectx, h = this.aspecty; let g = 0, f = 0; if (e.preset.useWASM) { const r = e.preset.globalPools.perVertex; if (At.setWasm(r, n, e.globalKeys), At.setWasm(r, e.mdVSQAfterFrame, e.qs), r.zoom.value = t.zoom, r.zoomexp.value = t.zoomexp, r.rot.value = t.rot, r.warp.value = t.warp, r.cx.value = t.cx, r.cy.value = t.cy, r.dx.value = t.dx, r.dy.value = t.dy, r.sx.value = t.sx, r.sy.value = t.sy, e.preset.pixel_eqs_wasm(e.runVertEQs, this.mesh_width, this.mesh_height, this.time, t.warpanimspeed, t.warpscale, this.aspectx, this.aspecty), a) { const t = e.preset.pixel_eqs_get_array(); let n = 0, a = 0; for (let e = 0; e < o; e++)for (let r = 0; r < i; r++) { const e = t[n], r = t[n + 1]; let s = this.blendPattern.vertInfoA[n / 2] * this.blendProgress + this.blendPattern.vertInfoC[n / 2]; s = Math.clamp(s, 0, 1), this.warpUVs[n] = this.warpUVs[n] * s + e * (1 - s), this.warpUVs[n + 1] = this.warpUVs[n + 1] * s + r * (1 - s), this.warpColor[a + 0] = 1, this.warpColor[a + 1] = 1, this.warpColor[a + 2] = 1, this.warpColor[a + 3] = s, n += 2, a += 4 } } else this.warpUVs = e.preset.pixel_eqs_get_array(), this.warpColor.fill(1) } else { let n = At.cloneVars(t), b = n.warp, x = n.zoom, y = n.zoomexp, w = n.cx, E = n.cy, S = n.sx, z = n.sy, q = n.dx, k = n.dy, T = n.rot; for (let I = 0; I < o; I++)for (let o = 0; o < i; o++) { const i = o / r * 2 - 1, C = I / s * 2 - 1, R = Math.sqrt(i * i * v * v + C * C * h * h); if (e.runVertEQs) { let a; a = I === s / 2 && o === r / 2 ? 0 : At.atan2(C * h, i * v), n.x = .5 * i * v + .5, n.y = -.5 * C * h + .5, n.rad = R, n.ang = a, n.zoom = t.zoom, n.zoomexp = t.zoomexp, n.rot = t.rot, n.warp = t.warp, n.cx = t.cx, n.cy = t.cy, n.dx = t.dx, n.dy = t.dy, n.sx = t.sx, n.sy = t.sy, n = e.runPixelEquations(n), b = n.warp, x = n.zoom, y = n.zoomexp, w = n.cx, E = n.cy, S = n.sx, z = n.sy, q = n.dx, k = n.dy, T = n.rot } const P = 1 / x ** (y ** (2 * R - 1)); let B = .5 * i * v * P + .5, M = .5 * -C * h * P + .5; B = (B - w) / S + w, M = (M - E) / z + E, 0 !== b && (B += .0035 * b * Math.sin(.333 * l + m * (i * c - C * p)), M += .0035 * b * Math.cos(.375 * l - m * (i * A + C * u)), B += .0035 * b * Math.cos(.753 * l - m * (i * u - C * A)), M += .0035 * b * Math.sin(.825 * l + m * (i * c + C * p))); const U = B - w, D = M - E, L = Math.cos(T), N = Math.sin(T); if (B = U * L - D * N + w, M = U * N + D * L + E, B -= q, M -= k, B = (B - .5) / v + .5, M = (M - .5) / h + .5, B += d, M += _, a) { let e = this.blendPattern.vertInfoA[g / 2] * this.blendProgress + this.blendPattern.vertInfoC[g / 2]; e = Math.clamp(e, 0, 1), this.warpUVs[g] = this.warpUVs[g] * e + B * (1 - e), this.warpUVs[g + 1] = this.warpUVs[g + 1] * e + M * (1 - e), this.warpColor[f + 0] = 1, this.warpColor[f + 1] = 1, this.warpColor[f + 2] = 1, this.warpColor[f + 3] = e } else this.warpUVs[g] = B, this.warpUVs[g + 1] = M, this.warpColor[f + 0] = 1, this.warpColor[f + 1] = 1, this.warpColor[f + 2] = 1, this.warpColor[f + 3] = 1; g += 2, f += 4 } this.mdVSVertex = n } } static mixFrameEquations(e, t, n) { const a = .5 - .5 * Math.cos(e * Math.PI), r = 1 - a, s = .5, i = At.cloneVars(t); return i.decay = a * t.decay + r * n.decay, i.wave_a = a * t.wave_a + r * n.wave_a, i.wave_r = a * t.wave_r + r * n.wave_r, i.wave_g = a * t.wave_g + r * n.wave_g, i.wave_b = a * t.wave_b + r * n.wave_b, i.wave_x = a * t.wave_x + r * n.wave_x, i.wave_y = a * t.wave_y + r * n.wave_y, i.wave_mystery = a * t.wave_mystery + r * n.wave_mystery, i.ob_size = a * t.ob_size + r * n.ob_size, i.ob_r = a * t.ob_r + r * n.ob_r, i.ob_g = a * t.ob_g + r * n.ob_g, i.ob_b = a * t.ob_b + r * n.ob_b, i.ob_a = a * t.ob_a + r * n.ob_a, i.ib_size = a * t.ib_size + r * n.ib_size, i.ib_r = a * t.ib_r + r * n.ib_r, i.ib_g = a * t.ib_g + r * n.ib_g, i.ib_b = a * t.ib_b + r * n.ib_b, i.ib_a = a * t.ib_a + r * n.ib_a, i.mv_x = a * t.mv_x + r * n.mv_x, i.mv_y = a * t.mv_y + r * n.mv_y, i.mv_dx = a * t.mv_dx + r * n.mv_dx, i.mv_dy = a * t.mv_dy + r * n.mv_dy, i.mv_l = a * t.mv_l + r * n.mv_l, i.mv_r = a * t.mv_r + r * n.mv_r, i.mv_g = a * t.mv_g + r * n.mv_g, i.mv_b = a * t.mv_b + r * n.mv_b, i.mv_a = a * t.mv_a + r * n.mv_a, i.echo_zoom = a * t.echo_zoom + r * n.echo_zoom, i.echo_alpha = a * t.echo_alpha + r * n.echo_alpha, i.echo_orient = a * t.echo_orient + r * n.echo_orient, i.wave_dots = a < s ? n.wave_dots : t.wave_dots, i.wave_thick = a < s ? n.wave_thick : t.wave_thick, i.additivewave = a < s ? n.additivewave : t.additivewave, i.wave_brighten = a < s ? n.wave_brighten : t.wave_brighten, i.darken_center = a < s ? n.darken_center : t.darken_center, i.gammaadj = a < s ? n.gammaadj : t.gammaadj, i.wrap = a < s ? n.wrap : t.wrap, i.invert = a < s ? n.invert : t.invert, i.brighten = a < s ? n.brighten : t.brighten, i.darken = a < s ? n.darken : t.darken, i.solarize = a < s ? n.brighten : t.solarize, i.b1n = a * t.b1n + r * n.b1n, i.b2n = a * t.b2n + r * n.b2n, i.b3n = a * t.b3n + r * n.b3n, i.b1x = a * t.b1x + r * n.b1x, i.b2x = a * t.b2x + r * n.b2x, i.b3x = a * t.b3x + r * n.b3x, i.b1ed = a * t.b1ed + r * n.b1ed, i } static getBlurValues(e) { let t = e.b1n, n = e.b2n, a = e.b3n, r = e.b1x, s = e.b2x, i = e.b3x; if (r - t < .1) { const e = .5 * (t + r); t = e - .05, r = e - .05 } if (s = Math.min(r, s), n = Math.max(t, n), s - n < .1) { const e = .5 * (n + s); n = e - .05, s = e - .05 } if (i = Math.min(s, i), a = Math.max(n, a), i - a < .1) { const e = .5 * (a + i); a = e - .05, i = e - .05 } return { blurMins: [t, n, a], blurMaxs: [r, s, i] } } bindFrambufferAndSetViewport(e, t, n) { this.gl.bindFramebuffer(this.gl.FRAMEBUFFER, e), this.gl.viewport(0, 0, t, n) } bindFrameBufferTexture(e, t) { if (this.gl.bindTexture(this.gl.TEXTURE_2D, t), this.gl.pixelStorei(this.gl.UNPACK_ALIGNMENT, 1), this.gl.texImage2D(this.gl.TEXTURE_2D, 0, this.gl.RGBA, this.texsizeX, this.texsizeY, 0, this.gl.RGBA, this.gl.UNSIGNED_BYTE, new Uint8Array(this.texsizeX * this.texsizeY * 4)), this.gl.generateMipmap(this.gl.TEXTURE_2D), this.gl.texParameteri(this.gl.TEXTURE_2D, this.gl.TEXTURE_WRAP_S, this.gl.CLAMP_TO_EDGE), this.gl.texParameteri(this.gl.TEXTURE_2D, this.gl.TEXTURE_WRAP_T, this.gl.CLAMP_TO_EDGE), this.gl.texParameteri(this.gl.TEXTURE_2D, this.gl.TEXTURE_MIN_FILTER, this.gl.LINEAR_MIPMAP_LINEAR), this.gl.texParameteri(this.gl.TEXTURE_2D, this.gl.TEXTURE_MAG_FILTER, this.gl.LINEAR), this.anisoExt) { const e = this.gl.getParameter(this.anisoExt.MAX_TEXTURE_MAX_ANISOTROPY_EXT); this.gl.texParameterf(this.gl.TEXTURE_2D, this.anisoExt.TEXTURE_MAX_ANISOTROPY_EXT, e) } this.gl.bindFramebuffer(this.gl.FRAMEBUFFER, e), this.gl.framebufferTexture2D(this.gl.FRAMEBUFFER, this.gl.COLOR_ATTACHMENT0, this.gl.TEXTURE_2D, t, 0) } render({ audioLevels: e, elapsedTime: t } = {}) { this.calcTimeAndFPS(t), this.frameNum += 1, e ? this.audio.updateAudio(e.timeByteArray, e.timeByteArrayL, e.timeByteArrayR) : this.audio.sampleAudio(), this.audioLevels.updateAudioLevels(this.fps, this.frameNum); const n = { frame: this.frameNum, time: this.time, fps: this.fps, bass: this.audioLevels.bass, bass_att: this.audioLevels.bass_att, mid: this.audioLevels.mid, mid_att: this.audioLevels.mid_att, treb: this.audioLevels.treb, treb_att: this.audioLevels.treb_att, meshx: this.mesh_width, meshy: this.mesh_height, aspectx: this.invAspectx, aspecty: this.invAspecty, pixelsx: this.texsizeX, pixelsy: this.texsizeY }, a = Object.assign({}, n); this.prevPreset.useWASM || (a.gmegabuf = this.prevPresetEquationRunner.gmegabuf), this.preset.useWASM || (n.gmegabuf = this.presetEquationRunner.gmegabuf, Object.assign(n, this.regVars)); const r = this.presetEquationRunner.runFrameEquations(n); let s; this.runPixelEquations(this.presetEquationRunner, r, n, !1), this.preset.useWASM || (Object.assign(this.regVars, At.pick(this.mdVSVertex, this.regs)), Object.assign(n, this.regVars)), this.blending ? (this.prevMDVSFrame = this.prevPresetEquationRunner.runFrameEquations(a), this.runPixelEquations(this.prevPresetEquationRunner, this.prevMDVSFrame, a, !0), s = Vt.mixFrameEquations(this.blendProgress, r, this.prevMDVSFrame)) : s = r; const i = this.targetTexture; this.targetTexture = this.prevTexture, this.prevTexture = i; const o = this.targetFrameBuffer; this.targetFrameBuffer = this.prevFrameBuffer, this.prevFrameBuffer = o, this.gl.bindTexture(this.gl.TEXTURE_2D, this.prevTexture), this.gl.generateMipmap(this.gl.TEXTURE_2D), this.bindFrambufferAndSetViewport(this.targetFrameBuffer, this.texsizeX, this.texsizeY), this.gl.clear(this.gl.COLOR_BUFFER_BIT), this.gl.enable(this.gl.BLEND), this.gl.blendEquation(this.gl.FUNC_ADD), this.gl.blendFunc(this.gl.SRC_ALPHA, this.gl.ONE_MINUS_SRC_ALPHA); const { blurMins: l, blurMaxs: m } = Vt.getBlurValues(s); this.blending ? (this.prevWarpShader.renderQuadTexture(!1, this.prevTexture, this.blurTexture1, this.blurTexture2, this.blurTexture3, l, m, this.prevMDVSFrame, this.prevPresetEquationRunner.mdVSQAfterFrame, this.warpUVs, this.warpColor), this.warpShader.renderQuadTexture(!0, this.prevTexture, this.blurTexture1, this.blurTexture2, this.blurTexture3, l, m, s, this.presetEquationRunner.mdVSQAfterFrame, this.warpUVs, this.warpColor)) : this.warpShader.renderQuadTexture(!1, this.prevTexture, this.blurTexture1, this.blurTexture2, this.blurTexture3, l, m, r, this.presetEquationRunner.mdVSQAfterFrame, this.warpUVs, this.warpColor), this.numBlurPasses > 0 && (this.blurShader1.renderBlurTexture(this.targetTexture, r, l, m), this.numBlurPasses > 1 && (this.blurShader2.renderBlurTexture(this.blurTexture1, r, l, m), this.numBlurPasses > 2 && this.blurShader3.renderBlurTexture(this.blurTexture2, r, l, m)), this.bindFrambufferAndSetViewport(this.targetFrameBuffer, this.texsizeX, this.texsizeY)), this.motionVectors.drawMotionVectors(s, this.warpUVs), this.preset.shapes && this.preset.shapes.length > 0 && this.customShapes.forEach((e, t) => { e.drawCustomShape(this.blending ? this.blendProgress : 1, n, this.presetEquationRunner, this.preset.shapes[t], this.prevTexture) }), this.preset.waves && this.preset.waves.length > 0 && this.customWaveforms.forEach((e, t) => { e.drawCustomWaveform(this.blending ? this.blendProgress : 1, this.audio.timeArrayL, this.audio.timeArrayR, this.audio.freqArrayL, this.audio.freqArrayR, n, this.presetEquationRunner, this.preset.waves[t]) }), this.blending && (this.prevPreset.shapes && this.prevPreset.shapes.length > 0 && this.prevCustomShapes.forEach((e, t) => { e.drawCustomShape(1 - this.blendProgress, a, this.prevPresetEquationRunner, this.prevPreset.shapes[t], this.prevTexture) }), this.prevPreset.waves && this.prevPreset.waves.length > 0 && this.prevCustomWaveforms.forEach((e, t) => { e.drawCustomWaveform(1 - this.blendProgress, this.audio.timeArrayL, this.audio.timeArrayR, this.audio.freqArrayL, this.audio.freqArrayR, a, this.prevPresetEquationRunner, this.prevPreset.waves[t]) })), this.basicWaveform.drawBasicWaveform(this.blending, this.blendProgress, this.audio.timeArrayL, this.audio.timeArrayR, s), this.darkenCenter.drawDarkenCenter(s); const c = [s.ob_r, s.ob_g, s.ob_b, s.ob_a]; this.outerBorder.drawBorder(c, s.ob_size, 0); const u = [s.ib_r, s.ib_g, s.ib_b, s.ib_a]; if (this.innerBorder.drawBorder(u, s.ib_size, s.ob_size), this.supertext.startTime >= 0) { const e = (this.time - this.supertext.startTime) / this.supertext.duration; e >= 1 && this.titleText.renderTitle(e, !0, n) } this.globalVars = n, this.mdVSFrame = r, this.mdVSFrameMixed = s, this.renderToScreen() } renderToScreen() { this.outputFXAA ? this.bindFrambufferAndSetViewport(this.compFrameBuffer, this.texsizeX, this.texsizeY) : this.bindFrambufferAndSetViewport(null, this.width, this.height), this.gl.clear(this.gl.COLOR_BUFFER_BIT), this.gl.enable(this.gl.BLEND), this.gl.blendEquation(this.gl.FUNC_ADD), this.gl.blendFunc(this.gl.SRC_ALPHA, this.gl.ONE_MINUS_SRC_ALPHA); const { blurMins: e, blurMaxs: t } = Vt.getBlurValues(this.mdVSFrameMixed); if (this.blending ? (this.prevCompShader.renderQuadTexture(!1, this.targetTexture, this.blurTexture1, this.blurTexture2, this.blurTexture3, e, t, this.prevMDVSFrame, this.prevPresetEquationRunner.mdVSQAfterFrame, this.warpColor), this.compShader.renderQuadTexture(!0, this.targetTexture, this.blurTexture1, this.blurTexture2, this.blurTexture3, e, t, this.mdVSFrameMixed, this.presetEquationRunner.mdVSQAfterFrame, this.warpColor)) : this.compShader.renderQuadTexture(!1, this.targetTexture, this.blurTexture1, this.blurTexture2, this.blurTexture3, e, t, this.mdVSFrame, this.presetEquationRunner.mdVSQAfterFrame, this.warpColor), this.supertext.startTime >= 0) { const e = (this.time - this.supertext.startTime) / this.supertext.duration; this.titleText.renderTitle(e, !1, this.globalVars), e >= 1 && (this.supertext.startTime = -1) } this.outputFXAA && (this.gl.bindTexture(this.gl.TEXTURE_2D, this.compTexture), this.gl.generateMipmap(this.gl.TEXTURE_2D), this.bindFrambufferAndSetViewport(null, this.width, this.height), this.outputShader.renderQuadTexture(this.compTexture)) } launchSongTitleAnim(e) { this.supertext = { startTime: this.time, duration: 1.7 }, this.titleText.generateTitleTexture(e) } toDataURL() { const e = new Uint8Array(this.texsizeX * this.texsizeY * 4), t = this.gl.createFramebuffer(), n = this.gl.createTexture(); this.bindFrameBufferTexture(t, n); const { blurMins: a, blurMaxs: r } = Vt.getBlurValues(this.mdVSFrameMixed); this.compShader.renderQuadTexture(!1, this.targetTexture, this.blurTexture1, this.blurTexture2, this.blurTexture3, a, r, this.mdVSFrame, this.presetEquationRunner.mdVSQAfterFrame, this.warpColor), this.gl.readPixels(0, 0, this.texsizeX, this.texsizeY, this.gl.RGBA, this.gl.UNSIGNED_BYTE, e), Array.from({ length: this.texsizeY }, (t, n) => e.slice(n * this.texsizeX * 4, (n + 1) * this.texsizeX * 4)).forEach((t, n) => e.set(t, (this.texsizeY - n - 1) * this.texsizeX * 4)); const s = document.createElement("canvas"); s.width = this.texsizeX, s.height = this.texsizeY; const i = s.getContext("2d", { willReadFrequently: !1 }), o = i.createImageData(this.texsizeX, this.texsizeY); return o.data.set(e), i.putImageData(o, 0, 0), this.gl.deleteTexture(n), this.gl.deleteFramebuffer(t), s.toDataURL() } warpBufferToDataURL() { const e = new Uint8Array(this.texsizeX * this.texsizeY * 4); this.gl.bindFramebuffer(this.gl.FRAMEBUFFER, this.targetFrameBuffer), this.gl.readPixels(0, 0, this.texsizeX, this.texsizeY, this.gl.RGBA, this.gl.UNSIGNED_BYTE, e); const t = document.createElement("canvas"); t.width = this.texsizeX, t.height = this.texsizeY; const n = t.getContext("2d", { willReadFrequently: !1 }), a = n.createImageData(this.texsizeX, this.texsizeY); return a.data.set(e), n.putImageData(a, 0, 0), t.toDataURL() } } class Dt { constructor(e, t, n) { this.opts = n, this.rng = gt(n), this.deterministicMode = n.deterministic || n.testMode, this.audio = new at(e); const a = n.width || 1200, r = n.height || 900; window.OffscreenCanvas ? this.internalCanvas = new OffscreenCanvas(a, r) : (this.internalCanvas = document.createElement("canvas"), this.internalCanvas.width = a, this.internalCanvas.height = r), this.gl = this.internalCanvas.getContext("webgl2", { alpha: !1, antialias: !1, depth: !1, stencil: !1, premultipliedAlpha: !1 }), this.outputGl = t.getContext("2d", { willReadFrequently: !1 }), this.baseValsDefaults = { decay: .98, gammaadj: 2, echo_zoom: 2, echo_alpha: 0, echo_orient: 0, red_blue: 0, brighten: 0, darken: 0, wrap: 1, darken_center: 0, solarize: 0, invert: 0, bmotionvectorson: 1, fshader: 0, b1n: 0, b2n: 0, b3n: 0, b1x: 1, b2x: 1, b3x: 1, b1ed: .25, wave_mode: 0, additivewave: 0, wave_dots: 0, wave_thick: 0, wave_a: .8, wave_scale: 1, wave_smoothing: .75, wave_mystery: 0, modwavealphabyvolume: 0, modwavealphastart: .75, modwavealphaend: .95, wave_r: 1, wave_g: 1, wave_b: 1, wave_x: .5, wave_y: .5, wave_brighten: 1, mv_x: 12, mv_y: 9, mv_dx: 0, mv_dy: 0, mv_l: .9, mv_r: 1, mv_g: 1, mv_b: 1, mv_a: 1, warpanimspeed: 1, warpscale: 1, zoomexp: 1, zoom: 1, rot: 0, cx: .5, cy: .5, dx: 0, dy: 0, warp: 1, sx: 1, sy: 1, ob_size: .01, ob_r: 0, ob_g: 0, ob_b: 0, ob_a: 0, ib_size: .01, ib_r: .25, ib_g: .25, ib_b: .25, ib_a: 0 }, this.shapeBaseValsDefaults = { enabled: 0, sides: 4, additive: 0, thickoutline: 0, textured: 0, num_inst: 1, tex_zoom: 1, tex_ang: 0, x: .5, y: .5, rad: .1, ang: 0, r: 1, g: 0, b: 0, a: 1, r2: 0, g2: 1, b2: 0, a2: 0, border_r: 1, border_g: 1, border_b: 1, border_a: .1 }, this.waveBaseValsDefaults = { enabled: 0, samples: 512, sep: 0, scaling: 1, smoothing: .5, r: 1, g: 1, b: 1, a: 1, spectrum: 0, usedots: 0, thick: 0, additive: 0 }, this.qs = At.range(1, 33).map(e => `q${e}`), this.ts = At.range(1, 9).map(e => `t${e}`), this.globalPerFrameVars = ["old_wave_mode", "frame", "time", "fps", "bass", "bass_att", "mid", "mid_att", "treb", "treb_att", "meshx", "meshy", "aspectx", "aspecty", "pixelsx", "pixelsy", "rand_start", "rand_preset"], this.globalPerPixelVars = ["frame", "time", "fps", "bass", "bass_att", "mid", "mid_att", "treb", "treb_att", "meshx", "meshy", "aspectx", "aspecty", "pixelsx", "pixelsy", "rand_start", "rand_preset", "x", "y", "rad", "ang"], this.globalShapeVars = ["frame", "time", "fps", "bass", "bass_att", "mid", "mid_att", "treb", "treb_att", "meshx", "meshy", "aspectx", "aspecty", "pixelsx", "pixelsy", "rand_start", "rand_preset", "instance"], this.shapeBaseVars = ["x", "y", "rad", "ang", "r", "g", "b", "a", "r2", "g2", "b2", "a2", "border_r", "border_g", "border_b", "border_a", "thickoutline", "textured", "tex_zoom", "tex_ang", "additive"], this.globalWaveVars = ["frame", "time", "fps", "bass", "bass_att", "mid", "mid_att", "treb", "treb_att", "meshx", "meshy", "aspectx", "aspecty", "pixelsx", "pixelsy", "rand_start", "rand_preset", "x", "y", "sample", "value1", "value2"], this.renderer = new Vt(this.gl, this.audio, n) } loseGLContext() { this.gl.getExtension("WEBGL_lose_context").loseContext(), this.outputGl = null } connectAudio(e) { this.audioNode = e, this.audio.connectAudio(e) } disconnectAudio(e) { this.audio.disconnectAudio(e) } static overrideDefaultVars(e, t) { const n = {}; return Object.keys(e).forEach(a => { Object.prototype.hasOwnProperty.call(t, a) ? n[a] = t[a] : n[a] = e[a] }), n } createQVars() { const e = {}; return this.qs.forEach(t => { e[t] = new WebAssembly.Global({ value: "f64", mutable: !0 }, 0) }), e } createTVars() { const e = {}; return this.ts.forEach(t => { e[t] = new WebAssembly.Global({ value: "f64", mutable: !0 }, 0) }), e } createPerFramePool(e) { const t = {}; return Object.keys(this.baseValsDefaults).forEach(n => { t[n] = new WebAssembly.Global({ value: "f64", mutable: !0 }, e[n]) }), this.globalPerFrameVars.forEach(e => { t[e] = new WebAssembly.Global({ value: "f64", mutable: !0 }, 0) }), t } createPerPixelPool(e) { const t = {}; return Object.keys(this.baseValsDefaults).forEach(n => { t[n] = new WebAssembly.Global({ value: "f64", mutable: !0 }, e[n]) }), this.globalPerPixelVars.forEach(e => { t[e] = new WebAssembly.Global({ value: "f64", mutable: !0 }, 0) }), t } createCustomShapePerFramePool(e) { const t = {}; return Object.keys(this.shapeBaseValsDefaults).forEach(n => { t[n] = new WebAssembly.Global({ value: "f64", mutable: !0 }, e[n]) }), this.globalShapeVars.forEach(e => { t[e] = new WebAssembly.Global({ value: "f64", mutable: !0 }, 0) }), t } createCustomWavePerFramePool(e) { const t = {}; return Object.keys(this.waveBaseValsDefaults).forEach(n => { t[n] = new WebAssembly.Global({ value: "f64", mutable: !0 }, e[n]) }), this.globalWaveVars.forEach(e => { t[e] = new WebAssembly.Global({ value: "f64", mutable: !0 }, 0) }), t } static makeShapeResetPool(e, t, n) { return t.reduce((t, a) => ({ ...t, [`${a}_${n}`]: e[a] }), {}) } static base64ToArrayBuffer(e) { for (var t = window.atob(e), n = t.length, a = new Uint8Array(n), r = 0; r < n; r++)a[r] = t.charCodeAt(r); return a.buffer } async loadPreset(e, t = 0) { const n = JSON.parse(JSON.stringify(e)); n.baseVals = Dt.overrideDefaultVars(this.baseValsDefaults, n.baseVals); for (let r = 0; r < n.shapes.length; r++)n.shapes[r].baseVals = Dt.overrideDefaultVars(this.shapeBaseValsDefaults, n.shapes[r].baseVals); for (let r = 0; r < n.waves.length; r++)n.waves[r].baseVals = Dt.overrideDefaultVars(this.waveBaseValsDefaults, n.waves[r].baseVals); const a = n.useJS && !this.opts.onlyUseWASM; Object.prototype.hasOwnProperty.call(n, "init_eqs_eel") && !a ? (n.useWASM = !0, await this.loadWASMPreset(n, t)) : this.opts.onlyUseWASM || Object.prototype.hasOwnProperty.call(n, "init_eqs_str") && this.loadJSPreset(n, t) } async loadWASMPreset(e, t) { const n = this.createQVars(), a = this.createTVars(), r = { perFrame: { ...n, ...this.createPerFramePool(e.baseVals) }, perVertex: { ...n, ...this.createPerPixelPool(e.baseVals) } }, s = { presetInit: { pool: "perFrame", code: e.init_eqs_eel }, perFrame: { pool: "perFrame", code: e.frame_eqs_eel } }; "" !== e.pixel_eqs_eel && (s.perPixel = { pool: "perVertex", code: e.pixel_eqs_eel }); for (let m = 0; m < e.shapes.length; m++)r[`shapePerFrame${m}`] = { ...n, ...a, ...this.createCustomShapePerFramePool(e.shapes[m].baseVals) }, 0 !== e.shapes[m].baseVals.enabled && (s[`shapes_${m}_init_eqs`] = { pool: `shapePerFrame${m}`, code: e.shapes[m].init_eqs_eel }, s[`shapes_${m}_frame_eqs`] = { pool: `shapePerFrame${m}`, code: e.shapes[m].frame_eqs_eel }); for (let m = 0; m < e.waves.length; m++)0 !== e.waves[m].baseVals.enabled && (r[`wavePerFrame${m}`] = { ...n, ...a, ...this.createCustomWavePerFramePool(e.waves[m].baseVals) }, s[`waves_${m}_init_eqs`] = { pool: `wavePerFrame${m}`, code: e.waves[m].init_eqs_eel }, s[`waves_${m}_frame_eqs`] = { pool: `wavePerFrame${m}`, code: e.waves[m].frame_eqs_eel }, e.waves[m].point_eqs_eel && "" !== e.waves[m].point_eqs_eel && (s[`waves_${m}_point_eqs`] = { pool: `wavePerFrame${m}`, code: e.waves[m].point_eqs_eel })); const i = await G.loadModule({ pools: r, functions: s, eelVersion: e.version || 2 }), o = e => e || (() => { }), l = await st.instantiate(Dt.base64ToArrayBuffer("AGFzbQEAAAABPQpgAABgAXwBfGACfHwBfGACf38AYAR/f39/AGAJf39/f3x8fHx8AGADf399AGABfwF/YAJ/fwF/YAF+AX8CuBWMAQNlbnYFYWJvcnQABAhwaXhlbEVxcwtwZXJQaXhlbEVxcwAADHBpeGVsVmFyUG9vbAR3YXJwA3wBDHBpeGVsVmFyUG9vbAR6b29tA3wBDHBpeGVsVmFyUG9vbAd6b29tZXhwA3wBDHBpeGVsVmFyUG9vbAJjeAN8AQxwaXhlbFZhclBvb2wCY3kDfAEMcGl4ZWxWYXJQb29sAnN4A3wBDHBpeGVsVmFyUG9vbAJzeQN8AQxwaXhlbFZhclBvb2wCZHgDfAEMcGl4ZWxWYXJQb29sAmR5A3wBDHBpeGVsVmFyUG9vbANyb3QDfAEMcGl4ZWxWYXJQb29sA3JhZAN8AQxwaXhlbFZhclBvb2wDYW5nA3wBDHBpeGVsVmFyUG9vbAF4A3wBDHBpeGVsVmFyUG9vbAF5A3wBCHFWYXJQb29sAnExA3wBCHFWYXJQb29sAnEyA3wBCHFWYXJQb29sAnEzA3wBCHFWYXJQb29sAnE0A3wBCHFWYXJQb29sAnE1A3wBCHFWYXJQb29sAnE2A3wBCHFWYXJQb29sAnE3A3wBCHFWYXJQb29sAnE4A3wBCHFWYXJQb29sAnE5A3wBCHFWYXJQb29sA3ExMAN8AQhxVmFyUG9vbANxMTEDfAEIcVZhclBvb2wDcTEyA3wBCHFWYXJQb29sA3ExMwN8AQhxVmFyUG9vbANxMTQDfAEIcVZhclBvb2wDcTE1A3wBCHFWYXJQb29sA3ExNgN8AQhxVmFyUG9vbANxMTcDfAEIcVZhclBvb2wDcTE4A3wBCHFWYXJQb29sA3ExOQN8AQhxVmFyUG9vbANxMjADfAEIcVZhclBvb2wDcTIxA3wBCHFWYXJQb29sA3EyMgN8AQhxVmFyUG9vbANxMjMDfAEIcVZhclBvb2wDcTI0A3wBCHFWYXJQb29sA3EyNQN8AQhxVmFyUG9vbANxMjYDfAEIcVZhclBvb2wDcTI3A3wBCHFWYXJQb29sA3EyOAN8AQhxVmFyUG9vbANxMjkDfAEIcVZhclBvb2wDcTMwA3wBCHFWYXJQb29sA3EzMQN8AQhxVmFyUG9vbANxMzIDfAEIdFZhclBvb2wCdDEDfAEIdFZhclBvb2wCdDIDfAEIdFZhclBvb2wCdDMDfAEIdFZhclBvb2wCdDQDfAEIdFZhclBvb2wCdDUDfAEIdFZhclBvb2wCdDYDfAEIdFZhclBvb2wCdDcDfAEIdFZhclBvb2wCdDgDfAEKc2hhcGVQb29sMAN4XzADfAEKc2hhcGVQb29sMAN5XzADfAEKc2hhcGVQb29sMAVyYWRfMAN8AQpzaGFwZVBvb2wwBWFuZ18wA3wBCnNoYXBlUG9vbDADcl8wA3wBCnNoYXBlUG9vbDADZ18wA3wBCnNoYXBlUG9vbDADYl8wA3wBCnNoYXBlUG9vbDADYV8wA3wBCnNoYXBlUG9vbDAEcjJfMAN8AQpzaGFwZVBvb2wwBGcyXzADfAEKc2hhcGVQb29sMARiMl8wA3wBCnNoYXBlUG9vbDAEYTJfMAN8AQpzaGFwZVBvb2wwCmJvcmRlcl9yXzADfAEKc2hhcGVQb29sMApib3JkZXJfZ18wA3wBCnNoYXBlUG9vbDAKYm9yZGVyX2JfMAN8AQpzaGFwZVBvb2wwCmJvcmRlcl9hXzADfAEKc2hhcGVQb29sMA50aGlja291dGxpbmVfMAN8AQpzaGFwZVBvb2wwCnRleHR1cmVkXzADfAEKc2hhcGVQb29sMAp0ZXhfem9vbV8wA3wBCnNoYXBlUG9vbDAJdGV4X2FuZ18wA3wBCnNoYXBlUG9vbDAKYWRkaXRpdmVfMAN8AQpzaGFwZVBvb2wxA3hfMQN8AQpzaGFwZVBvb2wxA3lfMQN8AQpzaGFwZVBvb2wxBXJhZF8xA3wBCnNoYXBlUG9vbDEFYW5nXzEDfAEKc2hhcGVQb29sMQNyXzEDfAEKc2hhcGVQb29sMQNnXzEDfAEKc2hhcGVQb29sMQNiXzEDfAEKc2hhcGVQb29sMQNhXzEDfAEKc2hhcGVQb29sMQRyMl8xA3wBCnNoYXBlUG9vbDEEZzJfMQN8AQpzaGFwZVBvb2wxBGIyXzEDfAEKc2hhcGVQb29sMQRhMl8xA3wBCnNoYXBlUG9vbDEKYm9yZGVyX3JfMQN8AQpzaGFwZVBvb2wxCmJvcmRlcl9nXzEDfAEKc2hhcGVQb29sMQpib3JkZXJfYl8xA3wBCnNoYXBlUG9vbDEKYm9yZGVyX2FfMQN8AQpzaGFwZVBvb2wxDnRoaWNrb3V0bGluZV8xA3wBCnNoYXBlUG9vbDEKdGV4dHVyZWRfMQN8AQpzaGFwZVBvb2wxCnRleF96b29tXzEDfAEKc2hhcGVQb29sMQl0ZXhfYW5nXzEDfAEKc2hhcGVQb29sMQphZGRpdGl2ZV8xA3wBCnNoYXBlUG9vbDIDeF8yA3wBCnNoYXBlUG9vbDIDeV8yA3wBCnNoYXBlUG9vbDIFcmFkXzIDfAEKc2hhcGVQb29sMgVhbmdfMgN8AQpzaGFwZVBvb2wyA3JfMgN8AQpzaGFwZVBvb2wyA2dfMgN8AQpzaGFwZVBvb2wyA2JfMgN8AQpzaGFwZVBvb2wyA2FfMgN8AQpzaGFwZVBvb2wyBHIyXzIDfAEKc2hhcGVQb29sMgRnMl8yA3wBCnNoYXBlUG9vbDIEYjJfMgN8AQpzaGFwZVBvb2wyBGEyXzIDfAEKc2hhcGVQb29sMgpib3JkZXJfcl8yA3wBCnNoYXBlUG9vbDIKYm9yZGVyX2dfMgN8AQpzaGFwZVBvb2wyCmJvcmRlcl9iXzIDfAEKc2hhcGVQb29sMgpib3JkZXJfYV8yA3wBCnNoYXBlUG9vbDIOdGhpY2tvdXRsaW5lXzIDfAEKc2hhcGVQb29sMgp0ZXh0dXJlZF8yA3wBCnNoYXBlUG9vbDIKdGV4X3pvb21fMgN8AQpzaGFwZVBvb2wyCXRleF9hbmdfMgN8AQpzaGFwZVBvb2wyCmFkZGl0aXZlXzIDfAEKc2hhcGVQb29sMwN4XzMDfAEKc2hhcGVQb29sMwN5XzMDfAEKc2hhcGVQb29sMwVyYWRfMwN8AQpzaGFwZVBvb2wzBWFuZ18zA3wBCnNoYXBlUG9vbDMDcl8zA3wBCnNoYXBlUG9vbDMDZ18zA3wBCnNoYXBlUG9vbDMDYl8zA3wBCnNoYXBlUG9vbDMDYV8zA3wBCnNoYXBlUG9vbDMEcjJfMwN8AQpzaGFwZVBvb2wzBGcyXzMDfAEKc2hhcGVQb29sMwRiMl8zA3wBCnNoYXBlUG9vbDMEYTJfMwN8AQpzaGFwZVBvb2wzCmJvcmRlcl9yXzMDfAEKc2hhcGVQb29sMwpib3JkZXJfZ18zA3wBCnNoYXBlUG9vbDMKYm9yZGVyX2JfMwN8AQpzaGFwZVBvb2wzCmJvcmRlcl9hXzMDfAEKc2hhcGVQb29sMw50aGlja291dGxpbmVfMwN8AQpzaGFwZVBvb2wzCnRleHR1cmVkXzMDfAEKc2hhcGVQb29sMwp0ZXhfem9vbV8zA3wBCnNoYXBlUG9vbDMJdGV4X2FuZ18zA3wBCnNoYXBlUG9vbDMKYWRkaXRpdmVfMwN8AQMZGAgDBwkBAQICAQYFAAAAAAAAAAAAAAAAAAUDAQABBuwMigF8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt8AUQAAAAAAAAAAAt/AUEAC3wBRAAAAAAAAAAAC3wBRAAAAAAAAAAAC34BQgALB9kBDwZtZW1vcnkCABJjcmVhdGVGbG9hdDMyQXJyYXkABBFydW5QaXhlbEVxdWF0aW9ucwAMBnNhdmVRcwANCXJlc3RvcmVRcwAOBnNhdmVUcwAPCXJlc3RvcmVUcwAQC3NoYXBlMF9zYXZlABEOc2hhcGUwX3Jlc3RvcmUAEgtzaGFwZTFfc2F2ZQATDnNoYXBlMV9yZXN0b3JlABQLc2hhcGUyX3NhdmUAFQ5zaGFwZTJfcmVzdG9yZQAWC3NoYXBlM19zYXZlABcOc2hhcGUzX3Jlc3RvcmUAGAgBGQraQRi0AQEGfyAAQez///8DSwRAAAsgAEEQaiICQfz///8DSwRAAAsjkAIhBiOQAkEEaiIEIAJBE2pBcHFBBGsiB2oiAj8AIgVBEHRBD2pBcHEiA0sEQCAFIAIgA2tB//8DakGAgHxxQRB2IgMgAyAFSBtAAEEASARAIANAAEEASARAAAsLCyACJJACIAYgBzYCACAEQQRrIgJBADYCBCACQQA2AgggAiABNgIMIAIgADYCECAEQRBqC7sCAQF/AkAgAUUNACAAQQA6AAAgACABakEEayICQQA6AAMgAUECTQ0AIABBADoAASAAQQA6AAIgAkEAOgACIAJBADoAASABQQZNDQAgAEEAOgADIAJBADoAACABQQhNDQAgAEEAIABrQQNxIgJqIgBBADYCACAAIAEgAmtBfHEiAmpBHGsiAUEANgIYIAJBCE0NACAAQQA2AgQgAEEANgIIIAFBADYCECABQQA2AhQgAkEYTQ0AIABBADYCDCAAQQA2AhAgAEEANgIUIABBADYCGCABQQA2AgAgAUEANgIEIAFBADYCCCABQQA2AgwgACAAQQRxQRhqIgFqIQAgAiABayEBA0AgAUEgTwRAIABCADcDACAAQgA3AwggAEIANwMQIABCADcDGCABQSBrIQEgAEEgaiEADAELCwsLdwECfwJ/QQxBAxACIgFFBEBBDEECEAIhAQsgAQtBADYCACABQQA2AgQgAUEANgIIIABB/////wBLBEBBoAhB0AhBEkE5EAAACyAAQQJ0IgBBABACIgIgABADIAEoAgAaIAEgAjYCACABIAI2AgQgASAANgIIIAELuwQDAX8KfgF8IABC////////////AINCNIhClQh9IgVCBoenQQN0QYAJaiIBKQMAIQcgASkDCCEEIAEpAxAhAiAFQj+DIgVCAFIEQAJ+IAcgBYYgBELAACAFfSIDiIQhByAEIAWGIAIgA4iEIQQgAiAFhiABKQMYIAOIhAshAgsgAEL/////////B4NCgICAgICAgAiEIgVC/////w+DIgMgBEIgiCIIfiAEQv////8PgyIGIAN+IglCIIh8IQQgBiAFQiCIIgZ+IARC/////w+DfCEDIAYgCH4gBEIgiHwgA0IgiHwkkwIgBUIghyACQiCIfiIEIAlC/////w+DIANCIIZ8fCECIAIgBFStI5MCIAUgB358fCIIQgKGIAJCPoiEIgdCP4ciBUIBhyAHhSIDeSEEIAMgBIYgBSACQgKGhSIGQsAAIAR9iIQiAkL/////D4MhAyACQiCIIglCtISjiwJ+IANCorW/yAx+IANCtISjiwJ+IgpCIIh8IgtC/////w+DfCEDIAlCorW/yAx+IAtCIIh8IANCIIh8JJMCIApC/////w+DIANCIIZ8IgMgArpEhBtwUcyYOD+iIAYgBIa6RBgtRFT7ITk/oqCxIgJUrSOTAiIGQguIfLokkQIgAiAGQjWGIANCC4iEfLpEAAAAAAAA8DuiJJICI5ECQoCAgICAgIDYPCAEQjSGfSAAIAeFQoCAgICAgICAgH+DhL8iDKIkkQIjkgIgDKIkkgIgCEI+hyAFfacLlQYDAn8BfgR8IAC9IgNCIIinIgFBH3YhAiABQf////8HcSIBQfvDpP8DTQRAIAFBnsGa8gNJBEBEAAAAAAAA8D8PC0QAAAAAAADwPyAAIACiIgVEAAAAAAAA4D+iIgahIgREAAAAAAAA8D8gBKEgBqEgBSAFIAUgBUSQFcsZoAH6PqJEd1HBFmzBVr+gokRMVVVVVVWlP6CiIAUgBaIiBiAGoiAFIAVE1DiIvun6qL2iRMSxtL2e7iE+oKJErVKcgE9+kr6goqCiIABEAAAAAAAAAACioaCgDwsgAUGAgMD/B08EQCAAIAChDwsCfyADQiCIp0H/////B3EiAUH7w+SJBEkEQAJ8IAFBFHYiAiAAIABEg8jJbTBf5D+iniIFRAAAQFT7Ifk/oqEiACAFRDFjYhphtNA9oiIGoSIEvUIgiKdBFHZB/w9xa0EQSwRAAnwgBURzcAMuihmjO6IgACAAIAVEAABgGmG00D2iIgahIgChIAahoSEGIAIgACAGoSIEvUIgiKdBFHZB/w9xa0ExSwR8IAVEwUkgJZqDezmiIAAgACAFRAAAAC6KGaM7oiIGoSIAoSAGoaEhBiAAIAahBSAECwshBAsgBAskkQIgACAEoSAGoSSSAiAFqgwBC0EAIAMQBSIBayABIAIbCyECI5ECIQUjkgIhBiACQQFxBHwgBSAFoiIAIAWiIQQgBSAAIAZEAAAAAAAA4D+iIAQgACAARH3+sVfjHcc+okTVYcEZoAEqv6CiRKb4EBEREYE/oCAAIAAgAKKiIABEfNXPWjrZ5T2iROucK4rm5Vq+oKKgoqGiIAahIARESVVVVVVVxb+ioaEFRAAAAAAAAPA/IAUgBaIiAEQAAAAAAADgP6IiBKEiB0QAAAAAAADwPyAHoSAEoSAAIAAgACAARJAVyxmgAfo+okR3UcEWbMFWv6CiRExVVVVVVaU/oKIgACAAoiIEIASiIAAgAETUOIi+6fqovaJExLG0vZ7uIT6gokStUpyAT36SvqCioKIgBSAGoqGgoAsiAJogACACQQFqQQJxGwu8BAICfwN8IAAhAyAAvUIgiKdB/////wdxIgFBgIDAoARPBEAgACAAYgRAIAAPC0QYLURU+yH5PyADpg8LIAFBgIDw/gNJBEAgAUGAgIDyA0kEQCAADwtBfyECBSAAmSEAIAFBgIDM/wNJBHwgAUGAgJj/A0kEfCAAIACgRAAAAAAAAPA/oSAARAAAAAAAAABAoKMFQQEhAiAARAAAAAAAAPA/oSAARAAAAAAAAPA/oKMLBSABQYCAjoAESQR8QQIhAiAARAAAAAAAAPg/oSAARAAAAAAAAPg/okQAAAAAAADwP6CjBUEDIQJEAAAAAAAA8L8gAKMLCyEACyAAIACiIgUgBaIhBCAAIAUgBCAEIAQgBCAERBHaIuM6rZA/okTrDXYkS3upP6CiRFE90KBmDbE/oKJEbiBMxc1Ftz+gokT/gwCSJEnCP6CiRA1VVVVVVdU/oKIgBCAEIAQgBCAERC9saixEtKK/okSa/d5SLd6tv6CiRG2adK/ysLO/oKJEcRYj/sZxvL+gokTE65iZmZnJv6CioKIhBCACQQBIBEAgACAEoQ8LAkACQAJAAkACQAJAIAIOBAABAgMEC0RPu2EFZ6zdPyAEROJlLyJ/K3o8oSAAoaEhAAwEC0QYLURU+yHpPyAERAdcFDMmpoE8oSAAoaEhAAwDC0Sb9oHSC3PvPyAERL3L8HqIB3A8oSAAoaEhAAwCC0QYLURU+yH5PyAERAdcFDMmppE8oSAAoaEhAAwBCwALIAAgA6YLvgMCBX8BfkEBIAAgAGIgASABYhsEQCABIACgDwsgAL0iB0IgiKchBCAHpyEDIAG9IgenIgYgB0IgiKciBUGAgMD/A2tyRQRAIAAQBw8LIAVBHnZBAnEgBEEfdnIhAiAFQf////8HcSEFIARB/////wdxIgQgA3JFBEACQAJAAkACQCACRQ0AAkAgAkEBaw4DAQIDAAsMAwsgAA8LRBgtRFT7IQlADwtEGC1EVPshCcAPCwsCQCAFIAZyRQ0AIAVBgIDA/wdGBEBE0iEzf3zZAkBEGC1EVPsh6T8gAkECcRtEGC1EVPshCUBEAAAAAAAAAAAgAkECcRsgBEGAgMD/B0YbIgCaIAAgAkEBcRsPC0EBIARBgIDA/wdGIAQgBUGAgIAgaksbDQAgBSAEQYCAgCBqS0EAIAJBAnEbBHxEAAAAAAAAAAAFIAAgAaOZEAcLIQACQAJAAkACQCACIgMEQCADQQFrDgMBAgMECyAADwsgAJoPC0QYLURU+yEJQCAARAdcFDMmpqE8oaEPCyAARAdcFDMmpqE8oUQYLURU+yEJQKEPCwALRBgtRFT7Ifm/RBgtRFT7Ifk/IAJBAXEbC4ESAwl/AX4IfAJAAkACQAJAIAGZRAAAAAAAAABAZQRAIAFEAAAAAAAAAEBhDQEgAUQAAAAAAADgP2EEQCAAn5lEAAAAAAAA8H8gAEQAAAAAAADw/2IbDwsgAUQAAAAAAADwv2ENAiABRAAAAAAAAPA/YQRAIAAPCyABRAAAAAAAAAAAYQRARAAAAAAAAPA/DwsLIAC9IgunIQcgC0IgiKciBkH/////B3EhBCABvSILQiCIpyIDQf////8HcSIFIAunIghyRQRARAAAAAAAAPA/DwtBASAIQQAgBUGAgMD/B0YbQQEgBUGAgMD/B0tBASAHQQAgBEGAgMD/B0YbIARBgIDA/wdKGxsbBEAgACABoA8LIAZBAEgEfyAFQYCAgJoETwR/QQIFIAVBgIDA/wNPBH9BAiAIIAUgBUEUdkH/B2siAkEUSiIJGyIKQTRBFCAJGyACayICdiIJQQFxa0EAIAogCSACdEYbBUEACwsFQQALIQIgCEUEQCAFQYCAwP8HRgRAIAcgBEGAgMD/A2tyBEAgBEGAgMD/A04EQCABRAAAAAAAAAAAIANBAE4bDwVEAAAAAAAAAAAgAZogA0EAThsPCwAFRAAAAAAAAPh/DwsACyAFQYCAwP8DRgRAIANBAE4EQCAADwsMAwsgA0GAgICABEYNASADQYCAgP8DRgRAIAZBAE4EQCAAnw8LCwsgAJkhDCAHRQRAQQEgBEGAgMD/A0YgBEGAgMD/B0ZBASAEGxsEQEQAAAAAAADwPyAMoyAMIANBAEgbIQAgBkEASAR8IAIgBEGAgMD/A2tyBHwgAJogACACQQFGGwUgACAAoSIAIACjCwUgAAsPCwsgBkEASAR8IAJFBEAgACAAoSIAIACjDwtEAAAAAAAA8L9EAAAAAAAA8D8gAkEBRhsFRAAAAAAAAPA/CyEOIAVBgICAjwRLBHwgBUGAgMCfBEsEQCAEQf//v/8DTARARAAAAAAAAPB/RAAAAAAAAAAAIANBAEgbDwsgBEGAgMD/A04EQEQAAAAAAADwf0QAAAAAAAAAACADQQBKGw8LCyAEQf//v/8DSARAIA5EnHUAiDzkN36iRJx1AIg85Dd+oiAORFnz+MIfbqUBokRZ8/jCH26lAaIgA0EASBsPCyAEQYCAwP8DSgRAIA5EnHUAiDzkN36iRJx1AIg85Dd+oiAORFnz+MIfbqUBokRZ8/jCH26lAaIgA0EAShsPCyAMRAAAAAAAAPA/oSIARAAAAGBHFfc/oiIMIABERN9d+AuuVD6iIAAgAKJEAAAAAAAA4D8gAERVVVVVVVXVPyAARAAAAAAAANA/oqGioaJE/oIrZUcV9z+ioSINoL1CgICAgHCDvyEAIA0gACAMoaEFIARBgIDAAEgEfyAMRAAAAAAAAEBDoiIMvUIgiKchBEFLBUEACyAEQRR1Qf8Ha2ohAyAEQf//P3EiAkGAgMD/A3IhBCACQY6xDkwEf0EABSACQfrsLkgEf0EBBSADQQFqIQMgBEGAgEBqIQRBAAsLIQIgDL1C/////w+DIASsQiCGhL8iD0QAAAAAAAD4P0QAAAAAAADwPyACGyIQoSISRAAAAAAAAPA/IA8gEKCjIhOiIg29QoCAgIBwg78iDCAMoiERIAwgEUQAAAAAAAAIQKAgDSANoiIAIACiIAAgACAAIAAgAETvTkVKKH7KP6JEZdvJk0qGzT+gokQBQR2pYHTRP6CiRE0mj1FVVdU/oKJE/6tv27Zt2z+gokQDMzMzMzPjP6CiIBMgEiAMIARBAXVBgICAgAJyQYCAIGogAkESdGqsQiCGvyIAoqEgDCAPIAAgEKGhoqGiIg8gDCANoKKgIgygvUKAgICAcIO/IgCiIhAgDyAAoiAMIABEAAAAAAAACEChIBGhoSANoqAiDKC9QoCAgIBwg78iAEQAAADgCcfuP6IiDSAARPUBWxTgLz6+oiAMIAAgEKGhRP0DOtwJx+4/oqBEBtDPQ+v9TD5EAAAAAAAAAAAgAhugIgygRAAAAEADuOI/RAAAAAAAAAAAIAIbIg+gIAO3IhCgvUKAgICAcIO/IQAgDCAAIBChIA+hIA2hoQshDCABIAG9QoCAgIBwg78iDaEgAKIgASAMoqAiASANIACiIgCgIgy9IgunIQMgC0IgiKciAkGAgMCEBE4EQCADIAJBgIDAhARrciABRP6CK2VHFZc8oCAMIAChZHINAwUgAkH/////B3FBgJjDhARPQQAgAyACQYCYw4R8a3IgASAMIAChZXIbDQQLIAJB/////wdxIgRBFHZB/wdrIQVBACEDIAECfCAEQYCAgP8DSgRAAnwgAkGAgMAAIAVBAWp1aiIEQf////8HcUEUdkH/B2shBUEAIARB//8/cUGAgMAAckEUIAVrdSIDayADIAJBAEgbIQMgACAEQf//PyAFdUF/c3GsQiCGv6ELIQALIAALoL1CgICAgHCDvyIMRAAAAABDLuY/oiINIAEgDCAAoaFE7zn6/kIu5j+iIAxEOWyoDGFcIL6ioCIMoCIAIACiIQEgDkQAAAAAAADwPyAAIAAgASABIAEgASABRNCkvnJpN2Y+okTxa9LFQb27vqCiRCzeJa9qVhE/oKJEk72+FmzBZr+gokQ+VVVVVVXFP6CioSIBoiABRAAAAAAAAABAoaMgDCAAIA2hoSIBIAAgAaKgoSAAoaEiAL1CIIinIANBFHRqIgJBFHVBAEwEfCADIgJB/wdKBHwgAEQAAAAAAADgf6IhACACQf8HayICQf8HSgR8IAJB/wdrIgJB/wcgAkH/B0gbIQIgAEQAAAAAAADgf6IFIAALBSACQYJ4SAR8IABEAAAAAAAAYAOiIQAgAkHJB2oiAkGCeEgEfCACQckHaiICQYJ4IAJBgnhKGyECIABEAAAAAAAAYAOiBSAACwUgAAsLIAKsQv8HfEI0hr+iBSAAvUL/////D4MgAqxCIIaEvwuiDwsgACAAog8LRAAAAAAAAPA/IACjDwsgDkScdQCIPOQ3fqJEnHUAiDzkN36iDwsgDkRZ8/jCH26lAaJEWfP4wh9upQGiC9QFAwJ/AX4EfCAAvSIDQiCIpyIBQR92IQIgAUH/////B3EiAUH7w6T/A00EQCABQYCAwPIDSQRAIAAPCyAAIAAgAKIiBSAAoiAFIAUgBUR9/rFX4x3HPqJE1WHBGaABKr+gokSm+BARERGBP6AgBSAFIAWioiAFRHzVz1o62eU9okTrnCuK5uVavqCioKJESVVVVVVVxb+goqAPCyABQYCAwP8HTwRAIAAgAKEPCwJ/IANCIIinQf////8HcSIBQfvD5IkESQRAAnwgAUEUdiICIAAgAESDyMltMF/kP6KeIgVEAABAVPsh+T+ioSIAIAVEMWNiGmG00D2iIgahIgS9QiCIp0EUdkH/D3FrQRBLBEACfCAFRHNwAy6KGaM7oiAAIAAgBUQAAGAaYbTQPaIiBqEiAKEgBqGhIQYgAiAAIAahIgS9QiCIp0EUdkH/D3FrQTFLBHwgBUTBSSAlmoN7OaIgACAAIAVEAAAALooZozuiIgahIgChIAahoSEGIAAgBqEFIAQLCyEECyAECySRAiAAIAShIAahJJICIAWqDAELQQAgAxAFIgFrIAEgAhsLIQIjkQIhBSOSAiEGIAJBAXEEfEQAAAAAAADwPyAFIAWiIgBEAAAAAAAA4D+iIgShIgdEAAAAAAAA8D8gB6EgBKEgACAAIAAgAESQFcsZoAH6PqJEd1HBFmzBVr+gokRMVVVVVVWlP6CiIAAgAKIiBCAEoiAAIABE1DiIvun6qL2iRMSxtL2e7iE+oKJErVKcgE9+kr6goqCiIAUgBqKhoKAFIAUgBaIiACAFoiEEIAUgACAGRAAAAAAAAOA/oiAEIAAgAER9/rFX4x3HPqJE1WHBGaABKr+gokSm+BARERGBP6AgACAAIACioiAARHzVz1o62eU9okTrnCuK5uVavqCioKKhoiAGoSAERElVVVVVVcW/oqGhCyIAmiAAIAJBAnEbCxIAIAAoAgQgAUECdGogAjgCAAuTCAIFfwl8IAJBAWohDCADQQFqIQ1EAAAAAAAA8D8gBqMhECAEIAWiIgVEz/dT46Wb9j+iRAAAAAAAACRAoBAGRAAAAAAAABBAokRcj8L1KFwnQKAhFCAFRAIrhxbZzvE/okQAAAAAAAAcQKAQBkQAAAAAAAAIQKJECtejcD2KIUCgIRIgBUTufD81XrrzP6JEAAAAAAAACECgEAZEAAAAAAAACECiRBSuR+F6FCVAoCETIAVEQmDl0CLb7T+iRAAAAAAAABRAoBAGRAAAAAAAABBAokR7FK5H4fomQKAhFSMAJIoBIwEkiwEjAiSMASMDJI0BIwQkjgEjBSSPASMGJJABIwckkQEjCCSSASMJJJMBA0AgCiANSARAQQAhCQNAIAkgDEgEQCAJtyACt6MiBCAEoEQAAAAAAADwP6EiBiAGoiAHoiAHoiAKtyADt6MiBCAEoEQAAAAAAADwP6EiDyAPoiAIoiAIoqCfJAogAQRAIAm3IAK3RAAAAAAAAOA/omFBACAKtyADt0QAAAAAAADgP6JhGwRARAAAAAAAAAAAJAsFIA8gCKIgBiAHohAIIgREAAAAAAAAAABjBHwgBEQYLURU+yEZQKAFIAQLJAsLIAZEAAAAAAAA4D+iIAeiRAAAAAAAAOA/oCQMIA9EAAAAAAAA4L+iIAiiRAAAAAAAAOA/oCQNI4oBJAAjiwEkASOMASQCI40BJAMjjgEkBCOPASQFI5ABJAYjkQEkByOSASQII5MBJAkQAQsgBkQAAAAAAADgP6IgB6JEAAAAAAAA8D8jASMCIwoiBCAEoEQAAAAAAADwP6EQCRAJoyIOokQAAAAAAADgP6AjA6EjBaMjA6AhBCAPRAAAAAAAAOC/oiAIoiAOokQAAAAAAADgP6AjBKEjBqMjBKAhDiMARAAAAAAAAAAAYgRAAnwgBCMARHnpJjEIrGw/oiAFRB1aZDvfT9U/oiAQIAYgFKIiESAPIBWiIhahoqAQCqKgIQQgDiMARHnpJjEIrGw/oiAFRAAAAAAAANg/oiAQIAYgE6IgDyASoqCioRAGoqAhDiAEIwBEeekmMQisbD+iIAVEf2q8dJMY6D+iIBAgBiASoiAPIBOioaKhEAaioCEEIA4jAER56SYxCKxsP6IgBURmZmZmZmbqP6IgECARIBagoqAQCqKgCyEOCyAEIwOhIQQgDiMEoSEGIwkQBiEPIAQjCRAKIg6iIAYgD6KgIwSgIwihRAAAAAAAAOA/oSAIo0QAAAAAAADgP6AhESAAIAsgBCAPoiAGIA6ioSMDoCMHoUQAAAAAAADgP6EgB6NEAAAAAAAA4D+gthALIAAgC0EBaiARthALIAtBAmohCyAJQQFqIQkMAQsLIApBAWohCgwBCwsLogEAIw4klAEjDySVASMQJJYBIxEklwEjEiSYASMTJJkBIxQkmgEjFSSbASMWJJwBIxcknQEjGCSeASMZJJ8BIxokoAEjGyShASMcJKIBIx0kowEjHiSkASMfJKUBIyAkpgEjISSnASMiJKgBIyMkqQEjJCSqASMlJKsBIyYkrAEjJyStASMoJK4BIykkrwEjKiSwASMrJLEBIywksgEjLSSzAQuiAQAjlAEkDiOVASQPI5YBJBAjlwEkESOYASQSI5kBJBMjmgEkFCObASQVI5wBJBYjnQEkFyOeASQYI58BJBkjoAEkGiOhASQbI6IBJBwjowEkHSOkASQeI6UBJB8jpgEkICOnASQhI6gBJCIjqQEkIyOqASQkI6sBJCUjrAEkJiOtASQnI64BJCgjrwEkKSOwASQqI7EBJCsjsgEkLCOzASQtCyoAIy4ktAEjLyS1ASMwJLYBIzEktwEjMiS4ASMzJLkBIzQkugEjNSS7AQsqACO0ASQuI7UBJC8jtgEkMCO3ASQxI7gBJDIjuQEkMyO6ASQ0I7sBJDULawAjNiS8ASM3JL0BIzgkvgEjOSS/ASM6JMABIzskwQEjPCTCASM9JMMBIz4kxAEjPyTFASNAJMYBI0EkxwEjQiTIASNDJMkBI0QkygEjRSTLASNGJMwBI0ckzQEjSCTOASNJJM8BI0ok0AELawAjvAEkNiO9ASQ3I74BJDgjvwEkOSPAASQ6I8EBJDsjwgEkPCPDASQ9I8QBJD4jxQEkPyPGASRAI8cBJEEjyAEkQiPJASRDI8oBJEQjywEkRSPMASRGI80BJEcjzgEkSCPPASRJI9ABJEoLawAjSyTRASNMJNIBI00k0wEjTiTUASNPJNUBI1Ak1gEjUSTXASNSJNgBI1Mk2QEjVCTaASNVJNsBI1Yk3AEjVyTdASNYJN4BI1kk3wEjWiTgASNbJOEBI1wk4gEjXSTjASNeJOQBI18k5QELawAj0QEkSyPSASRMI9MBJE0j1AEkTiPVASRPI9YBJFAj1wEkUSPYASRSI9kBJFMj2gEkVCPbASRVI9wBJFYj3QEkVyPeASRYI98BJFkj4AEkWiPhASRbI+IBJFwj4wEkXSPkASReI+UBJF8LawAjYCTmASNhJOcBI2Ik6AEjYyTpASNkJOoBI2Uk6wEjZiTsASNnJO0BI2gk7gEjaSTvASNqJPABI2sk8QEjbCTyASNtJPMBI24k9AEjbyT1ASNwJPYBI3Ek9wEjciT4ASNzJPkBI3Qk+gELawAj5gEkYCPnASRhI+gBJGIj6QEkYyPqASRkI+sBJGUj7AEkZiPtASRnI+4BJGgj7wEkaSPwASRqI/EBJGsj8gEkbCPzASRtI/QBJG4j9QEkbyP2ASRwI/cBJHEj+AEkciP5ASRzI/oBJHQLdQAjdST7ASN2JPwBI3ck/QEjeCT+ASN5JP8BI3okgAIjeySBAiN8JIICI30kgwIjfiSEAiN/JIUCI4ABJIYCI4EBJIcCI4IBJIgCI4MBJIkCI4QBJIoCI4UBJIsCI4YBJIwCI4cBJI0CI4gBJI4CI4kBJI8CC3UAI/sBJHUj/AEkdiP9ASR3I/4BJHgj/wEkeSOAAiR6I4ECJHsjggIkfCODAiR9I4QCJH4jhQIkfyOGAiSAASOHAiSBASOIAiSCASOJAiSDASOKAiSEASOLAiSFASOMAiSGASONAiSHASOOAiSIASOPAiSJAQsIAEHMCiSQAgsLvAIDAEGMCAsvLAAAAAEAAAAAAAAAAQAAABwAAABJAG4AdgBhAGwAaQBkACAAbABlAG4AZwB0AGgAQbwICzk8AAAAAQAAAAAAAAABAAAAJgAAAH4AbABpAGIALwBhAHIAcgBhAHkAYgB1AGYAZgBlAHIALgB0AHMAQYAJC8ABboP5ogAAAADRVyf8KRVETpmVYtvA3TT1q2NR/kGQQzw6biS3YcW73uouSQbg0k1CHOsd/hyS0Qn1NYLoPqcpsSZwnOmERLsuOdaROUF+X7SLX4Sc9DlTg/+X+B87KPm9ixEv7w+YBd7PfjZtH20KWmY/Rk+3Ccsnx7ondS3qX573OQc9e/Hl67Ff+2vqklKKRjADVghdjR8gvM/wq2t7/GGR46kdNvSaX4WZZQgb5l6A2P+NQGigFFcVBgYxJ3NN"), { pixelEqs: { perPixelEqs: o(i.exports.perPixel) }, pixelVarPool: { warp: r.perVertex.warp, zoom: r.perVertex.zoom, zoomexp: r.perVertex.zoomexp, cx: r.perVertex.cx, cy: r.perVertex.cy, sx: r.perVertex.sx, sy: r.perVertex.sy, dx: r.perVertex.dx, dy: r.perVertex.dy, rot: r.perVertex.rot, x: r.perVertex.x, y: r.perVertex.y, ang: r.perVertex.ang, rad: r.perVertex.rad }, qVarPool: n, tVarPool: a, shapePool0: Dt.makeShapeResetPool(r.shapePerFrame0, this.shapeBaseVars, 0), shapePool1: Dt.makeShapeResetPool(r.shapePerFrame1, this.shapeBaseVars, 1), shapePool2: Dt.makeShapeResetPool(r.shapePerFrame2, this.shapeBaseVars, 2), shapePool3: Dt.makeShapeResetPool(r.shapePerFrame3, this.shapeBaseVars, 3), console: { logi: e => { }, logf: e => { } }, env: { abort: () => { } } }); e.globalPools = r, e.init_eqs = o(i.exports.presetInit), e.frame_eqs = o(i.exports.perFrame), e.save_qs = l.exports.saveQs, e.restore_qs = l.exports.restoreQs, e.save_ts = l.exports.saveTs, e.restore_ts = l.exports.restoreTs, i.exports.perPixel && (e.pixel_eqs = i.exports.perPixel), e.pixel_eqs_initialize_array = (t, n) => { const a = l.exports.createFloat32Array((t + 1) * (n + 1) * 2); e.pixel_eqs_array = a }, e.pixel_eqs_get_array = () => l.exports.__getFloat32ArrayView(e.pixel_eqs_array), e.pixel_eqs_wasm = (...t) => l.exports.runPixelEquations(e.pixel_eqs_array, ...t); for (let m = 0; m < e.shapes.length; m++)0 !== e.shapes[m].baseVals.enabled && (e.shapes[m].init_eqs = o(i.exports[`shapes_${m}_init_eqs`]), e.shapes[m].frame_eqs = i.exports[`shapes_${m}_frame_eqs`], e.shapes[m].frame_eqs_save = () => l.exports[`shape${m}_save`](), e.shapes[m].frame_eqs_restore = () => l.exports[`shape${m}_restore`]()); for (let m = 0; m < e.waves.length; m++)if (0 !== e.waves[m].baseVals.enabled) { const t = { init_eqs: o(i.exports[`waves_${m}_init_eqs`]), frame_eqs: o(i.exports[`waves_${m}_frame_eqs`]) }; e.waves[m].point_eqs_eel && "" !== e.waves[m].point_eqs_eel ? t.point_eqs = i.exports[`waves_${m}_point_eqs`] : t.point_eqs = "", e.waves[m] = Object.assign({}, e.waves[m], t) } this.renderer.loadPreset(e, t) } loadJSPreset(e, t) { if ("function" != typeof e.init_eqs) { e.init_eqs = new Function("a", `${e.init_eqs_str} return a;`), e.frame_eqs = new Function("a", `${e.frame_eqs_str} return a;`), e.pixel_eqs_str && "" !== e.pixel_eqs_str ? e.pixel_eqs = new Function("a", `${e.pixel_eqs_str} return a;`) : e.pixel_eqs = ""; for (let t = 0; t < e.shapes.length; t++)0 !== e.shapes[t].baseVals.enabled && (e.shapes[t] = Object.assign({}, e.shapes[t], { init_eqs: new Function("a", `${e.shapes[t].init_eqs_str} return a;`), frame_eqs: new Function("a", `${e.shapes[t].frame_eqs_str} return a;`) })); for (let t = 0; t < e.waves.length; t++)if (0 !== e.waves[t].baseVals.enabled) { const n = { init_eqs: new Function("a", `${e.waves[t].init_eqs_str} return a;`), frame_eqs: new Function("a", `${e.waves[t].frame_eqs_str} return a;`) }; e.waves[t].point_eqs_str && "" !== e.waves[t].point_eqs_str ? n.point_eqs = new Function("a", `${e.waves[t].point_eqs_str} return a;`) : n.point_eqs = "", e.waves[t] = Object.assign({}, e.waves[t], n) } } this.renderer.loadPreset(e, t) } loadExtraImages(e) { this.renderer.loadExtraImages(e) } setRendererSize(e, t, n = {}) { this.internalCanvas.width = e, this.internalCanvas.height = t, this.renderer.setRendererSize(e, t, n) } setInternalMeshSize(e, t) { this.renderer.setInternalMeshSize(e, t) } setOutputAA(e) { this.renderer.setOutputAA(e) } setCanvas(e) { this.outputGl = e.getContext("2d", { willReadFrequently: !1 }) } render(e) { const t = this.renderer.render(e); return this.outputGl && this.outputGl.drawImage(this.internalCanvas, 0, 0), t } launchSongTitleAnim(e) { this.renderer.launchSongTitleAnim(e) } toDataURL() { return this.renderer.toDataURL() } warpBufferToDataURL() { return this.renderer.warpBufferToDataURL() } } class qt { static createVisualizer(e, t, n) { return new Dt(e, t, n) } } var base = { exports: {} }, factory; self, factory = function () { return (() => { var e = { "./base.js": (e, t, n) => { n.r(t), n.d(t, { default: () => r }); var a = {}; a["_Aderrasi - Wanderer in Curved Space - mash0000 - faclempt kibitzing meshuggana schmaltz (Geiss color mix)"] = n("./presets/converted/_Aderrasi - Wanderer in Curved Space - mash0000 - faclempt kibitzing meshuggana schmaltz (Geiss color mix).json"), a["_Geiss - Artifact 01"] = n("./presets/converted/_Geiss - Artifact 01.json"), a["_Geiss - Desert Rose 2"] = n("./presets/converted/_Geiss - Desert Rose 2.json"), a["_Geiss - untitled"] = n("./presets/converted/_Geiss - untitled.json"), a._Mig_049 = n("./presets/converted/_Mig_049.json"), a._Mig_085 = n("./presets/converted/_Mig_085.json"), a["_Rovastar + Geiss - Hurricane Nightmare (Posterize Mix)"] = n("./presets/converted/_Rovastar + Geiss - Hurricane Nightmare (Posterize Mix).json"), a["$$$ Royal - Mashup (197)"] = n("./presets/converted/$$$ Royal - Mashup (197).json"), a["$$$ Royal - Mashup (220)"] = n("./presets/converted/$$$ Royal - Mashup (220).json"), a["$$$ Royal - Mashup (431)"] = n("./presets/converted/$$$ Royal - Mashup (431).json"), a["AdamFx 2 Geiss, Zylot and Flexi - Reaction Diffusion 3 (Overload Mix 2) EATIT4 hypno"] = n("./presets/converted/AdamFx 2 Geiss, Zylot and Flexi - Reaction Diffusion 3 (Overload Mix 2) EATIT4 hypno.json"), a["Aderrasi - Potion of Spirits"] = n("./presets/converted/Aderrasi - Potion of Spirits.json"), a["Aderrasi - Storm of the Eye (Thunder) - mash0000 - quasi pseudo meta concentrics"] = n("./presets/converted/Aderrasi - Storm of the Eye (Thunder) - mash0000 - quasi pseudo meta concentrics.json"), a["Aderrasi + Geiss - Airhandler (Kali Mix) - Canvas Mix"] = n("./presets/converted/Aderrasi + Geiss - Airhandler (Kali Mix) - Canvas Mix.json"), a["An AdamFX n Martin Infusion 2 flexi - Why The Sky Looks Diffrent Today - AdamFx n Martin Infusion - Tack Tile Disfunction B"] = n("./presets/converted/An AdamFX n Martin Infusion 2 flexi - Why The Sky Looks Diffrent Today - AdamFx n Martin Infusion - Tack Tile Disfunction B.json"), a["Cope - The Neverending Explosion of Red Liquid Fire"] = n("./presets/converted/Cope - The Neverending Explosion of Red Liquid Fire.json"), a["cope + flexi - colorful marble (ghost mix)"] = n("./presets/converted/cope + flexi - colorful marble (ghost mix).json"), a["cope + martin - mother-of-pearl"] = n("./presets/converted/cope + martin - mother-of-pearl.json"), a["Eo.S. - glowsticks v2 05 and proton lights (+Krashs beat code) _Phat_remix02b"] = n("./presets/converted/Eo.S. - glowsticks v2 05 and proton lights (+Krashs beat code) _Phat_remix02b.json"), a["Eo.S. + Zylot - skylight (Stained Glass Majesty mix)"] = n("./presets/converted/Eo.S. + Zylot - skylight (Stained Glass Majesty mix).json"), a["fiShbRaiN + Flexi - witchcraft 2.0"] = n("./presets/converted/fiShbRaiN + Flexi - witchcraft 2.0.json"), a["Flexi - alien fish pond"] = n("./presets/converted/Flexi - alien fish pond.json"), a["Flexi - area 51"] = n("./presets/converted/Flexi - area 51.json"), a["flexi - bouncing balls [double mindblob neon mix]"] = n("./presets/converted/flexi - bouncing balls [double mindblob neon mix].json"), a["Flexi - infused with the spiral"] = n("./presets/converted/Flexi - infused with the spiral.json"), a["Flexi - mindblob [shiny mix]"] = n("./presets/converted/Flexi - mindblob [shiny mix].json"), a["Flexi - mindblob mix"] = n("./presets/converted/Flexi - mindblob mix.json"), a["flexi - mom, why the sky looks different today"] = n("./presets/converted/flexi - mom, why the sky looks different today.json"), a["flexi - patternton, district of media, capitol of the united abstractions of fractopia"] = n("./presets/converted/flexi - patternton, district of media, capitol of the united abstractions of fractopia.json"), a["Flexi - predator-prey-spirals"] = n("./presets/converted/Flexi - predator-prey-spirals.json"), a["Flexi - smashing fractals [acid etching mix]"] = n("./presets/converted/Flexi - smashing fractals [acid etching mix].json"), a["flexi - swing out on the spiral"] = n("./presets/converted/flexi - swing out on the spiral.json"), a["Flexi - truly soft piece of software - this is generic texturing (Jelly) "] = n("./presets/converted/Flexi - truly soft piece of software - this is generic texturing (Jelly) .json"), a["flexi - what is the matrix"] = n("./presets/converted/flexi - what is the matrix.json"), a["flexi + amandio c - organic [random mashup]"] = n("./presets/converted/flexi + amandio c - organic [random mashup].json"), a["flexi + amandio c - organic12-3d-2.milk"] = n("./presets/converted/flexi + amandio c - organic12-3d-2.json"), a["Flexi + amandio c - piercing 05 - Kopie (2) - Kopie"] = n("./presets/converted/Flexi + amandio c - piercing 05 - Kopie (2) - Kopie.json"), a["flexi + fishbrain - neon mindblob grafitti"] = n("./presets/converted/flexi + fishbrain - neon mindblob grafitti.json"), a["flexi + geiss - pogo cubes vs. tokamak vs. game of life [stahls jelly 4.5 finish]"] = n("./presets/converted/flexi + geiss - pogo cubes vs. tokamak vs. game of life [stahls jelly 4.5 finish].json"), a["Flexi + Martin - astral projection"] = n("./presets/converted/Flexi + Martin - astral projection.json"), a["Flexi + Martin - cascading decay swing"] = n("./presets/converted/Flexi + Martin - cascading decay swing.json"), a["Flexi + stahlregen - jelly showoff parade"] = n("./presets/converted/Flexi + stahlregen - jelly showoff parade.json"), a["Flexi, fishbrain, Geiss + Martin - tokamak witchery"] = n("./presets/converted/Flexi, fishbrain, Geiss + Martin - tokamak witchery.json"), a["Flexi, martin + geiss - dedicated to the sherwin maxawow"] = n("./presets/converted/Flexi, martin + geiss - dedicated to the sherwin maxawow.json"), a["Fumbling_Foo + En D & Martin - Mandelverse"] = n("./presets/converted/Fumbling_Foo + En D & Martin - Mandelverse.json"), a["Geiss - Cauldron - painterly 2 (saturation remix)"] = n("./presets/converted/Geiss - Cauldron - painterly 2 (saturation remix).json"), a["Geiss - Reaction Diffusion 2"] = n("./presets/converted/Geiss - Reaction Diffusion 2.json"), a["Geiss - Spiral Artifact"] = n("./presets/converted/Geiss - Spiral Artifact.json"), a["Geiss - Thumb Drum"] = n("./presets/converted/Geiss - Thumb Drum.json"), a["Geiss + Flexi + Martin - disconnected"] = n("./presets/converted/Geiss + Flexi + Martin - disconnected.json"), a["Geiss, Flexi + Stahlregen - Thumbdrum Tokamak [crossfiring aftermath jelly mashup]"] = n("./presets/converted/Geiss, Flexi + Stahlregen - Thumbdrum Tokamak [crossfiring aftermath jelly mashup].json"), a["Goody - The Wild Vort"] = n("./presets/converted/Goody - The Wild Vort.json"), a["gunthry is out back bloodying up the pine trees - adm atomising (v) the disintigrate (n)"] = n("./presets/converted/gunthry is out back bloodying up the pine trees - adm atomising (v) the disintigrate (n).json"), a["Halfbreak - Funny Madness"] = n("./presets/converted/Halfbreak - Funny Madness.json"), a["Halfbreak - Light of Breakers"] = n("./presets/converted/Halfbreak - Light of Breakers.json"), a["Hexcollie, Pieturp, Orb, Flexi, Geiss n Demon Lord - Premeditative Urination Clause"] = n("./presets/converted/Hexcollie, Pieturp, Orb, Flexi, Geiss n Demon Lord - Premeditative Urination Clause.json"), a["high-altitude basket unraveling - singh grooves nitrogen argon nz+"] = n("./presets/converted/high-altitude basket unraveling - singh grooves nitrogen argon nz+.json"), a["LuxXx - Play v3 (the war within all of us)"] = n("./presets/converted/LuxXx - Play v3 (the war within all of us).json"), a["Martin - acid wiring"] = n("./presets/converted/Martin - acid wiring.json"), a["martin - angel flight"] = n("./presets/converted/martin - angel flight.json"), a["martin - another kind of groove"] = n("./presets/converted/martin - another kind of groove.json"), a["martin - bombyx mori"] = n("./presets/converted/martin - bombyx mori.json"), a["martin - castle in the air"] = n("./presets/converted/martin - castle in the air.json"), a["martin - chain breaker"] = n("./presets/converted/martin - chain breaker.json"), a["Martin - charisma"] = n("./presets/converted/Martin - charisma.json"), a["martin - disco mix 4"] = n("./presets/converted/martin - disco mix 4.json"), a["martin - extreme heat"] = n("./presets/converted/martin - extreme heat.json"), a["martin - frosty caves 2"] = n("./presets/converted/martin - frosty caves 2.json"), a["martin - fruit machine"] = n("./presets/converted/martin - fruit machine.json"), a["martin - glass corridor"] = n("./presets/converted/martin - glass corridor.json"), a["Martin - liquid arrows"] = n("./presets/converted/Martin - liquid arrows.json"), a["martin - mandelbox explorer - high speed demo version"] = n("./presets/converted/martin - mandelbox explorer - high speed demo version.json"), a["martin - mucus cervix"] = n("./presets/converted/martin - mucus cervix.json"), a["martin - reflections on black tiles"] = n("./presets/converted/martin - reflections on black tiles.json"), a["martin - stormy sea (2010 update)"] = n("./presets/converted/martin - stormy sea (2010 update).json"), a["martin - The Bridge of Khazad-Dum"] = n("./presets/converted/martin - The Bridge of Khazad-Dum.json"), a["martin - witchcraft reloaded"] = n("./presets/converted/martin - witchcraft reloaded.json"), a["martin [shadow harlequins shape code] - fata morgana"] = n("./presets/converted/martin [shadow harlequins shape code] - fata morgana.json"), a["martin + flexi - diamond cutter [prismaticvortex.com] - camille - i wish i wish i wish i was constrained"] = n("./presets/converted/martin + flexi - diamond cutter [prismaticvortex.com] - camille - i wish i wish i wish i was constrained.json"), a["martin, flexi, fishbrain + sto - enterstate [random mashup]"] = n("./presets/converted/martin, flexi, fishbrain + sto - enterstate [random mashup].json"), a["Milk Artist At our Best - FED - SlowFast Ft AdamFX n Martin - HD CosmoFX"] = n("./presets/converted/Milk Artist At our Best - FED - SlowFast Ft AdamFX n Martin - HD CosmoFX.json"), a["MilkDrop2077.R002"] = n("./presets/converted/MilkDrop2077.R002.json"), a["MilkDrop2077.R033"] = n("./presets/converted/MilkDrop2077.R033.json"), a["ORB - Waaa"] = n("./presets/converted/ORB - Waaa.json"), a["Phat+fiShbRaiN+Eo.S_Mandala_Chasers_remix"] = n("./presets/converted/Phat+fiShbRaiN+Eo.S_Mandala_Chasers_remix.json"), a["Rovastar - Oozing Resistance"] = n("./presets/converted/Rovastar - Oozing Resistance.json"), a["Rovastar + Loadus + Geiss - FractalDrop (Triple Mix)"] = n("./presets/converted/Rovastar + Loadus + Geiss - FractalDrop (Triple Mix).json"), a["sawtooth grin roam"] = n("./presets/converted/sawtooth grin roam.json"), a["ShadowHarlequin - LovelyShinySquares [ liquid starburst rmx ] - unchained + rovaster - luckless - martin - starfield sector"] = n("./presets/converted/ShadowHarlequin - LovelyShinySquares [ liquid starburst rmx ] - unchained + rovaster - luckless - martin - starfield sector.json"), a["shifter - dark tides bdrv mix 2"] = n("./presets/converted/shifter - dark tides bdrv mix 2.json"), a["shifter - escape (sigur ros)"] = n("./presets/converted/shifter - escape (sigur ros).json"), a["shifter - liquid circuitry - conjugoth"] = n("./presets/converted/shifter - liquid circuitry - conjugoth.json"), a["suksma - ed geining hateops - squeakers"] = n("./presets/converted/suksma - ed geining hateops - squeakers.json"), a["suksma - heretical crosscut playpen"] = n("./presets/converted/suksma - heretical crosscut playpen.json"), a["suksma - Hexcollie - Julian Carnival - shimmy dumb grid"] = n("./presets/converted/suksma - Hexcollie - Julian Carnival - shimmy dumb grid.json"), a["suksma - Rovastar - Sunflower Passion (Enlightment Mix)_Phat_edit + flexi und martin shaders - circumflex in character classes in regular expression"] = n("./presets/converted/suksma - Rovastar - Sunflower Passion (Enlightment Mix)_Phat_edit + flexi und martin shaders - circumflex in character classes in regular expression.json"), a["suksma - uninitialized variabowl (hydroponic chronic)"] = n("./presets/converted/suksma - uninitialized variabowl (hydroponic chronic).json"), a["suksma - vector exp 1 - couldnt not"] = n("./presets/converted/suksma - vector exp 1 - couldnt not.json"), a["TonyMilkdrop - Leonardo Da Vinci's Balloon [Flexi - merry-go-round + techstyle]"] = n("./presets/converted/TonyMilkdrop - Leonardo Da Vinci's Balloon [Flexi - merry-go-round + techstyle].json"), a["TonyMilkdrop - Magellan's Nebula [Flexi - you enter first + multiverse]"] = n("./presets/converted/TonyMilkdrop - Magellan's Nebula [Flexi - you enter first + multiverse].json"), a["Unchained - Rewop"] = n("./presets/converted/Unchained - Rewop.json"), a["Unchained - Unified Drag 2"] = n("./presets/converted/Unchained - Unified Drag 2.json"), a["yin - 191 - Temporal singularities"] = n("./presets/converted/yin - 191 - Temporal singularities.json"), a["yin - 393 - Artificial Inspiration (music driven - outward)"] = n("./presets/converted/yin - 393 - Artificial Inspiration (music driven - outward).json"), a["Zylot - Paint Spill (Music Reactive Paint Mix)"] = n("./presets/converted/Zylot - Paint Spill (Music Reactive Paint Mix).json"), a["Zylot - Star Ornament"] = n("./presets/converted/Zylot - Star Ornament.json"), a["Zylot - True Visionary (Final Mix)"] = n("./presets/converted/Zylot - True Visionary (Final Mix).json"); const r = a }, "./presets/converted/$$$ Royal - Mashup (197).json": e => { e.exports = JSON.parse('{"version":2,"baseVals":{"rating":3,"decay":0.5,"echo_zoom":1,"echo_alpha":0.5,"echo_orient":3,"wrap":0,"darken_center":1,"solarize":1,"wave_a":0.001,"zoom":0.97,"rot":-6.27999,"warp":0.00052,"wave_r":0,"wave_g":0,"wave_b":0,"ob_r":1,"ob_g":1,"ob_b":1,"mv_r":0.8,"mv_a":0},"shapes":[{"baseVals":{"textured":1,"x":0.75,"y":0.75,"rad":0.7417,"tex_zoom":0.22746,"g":1,"b":1,"r2":1,"b2":1,"a2":0.1,"border_r":0,"border_g":0,"border_a":0,"enabled":0},"init_eqs_eel":"tex_saw = 0.4;","frame_eqs_eel":"ang = q1*0.2;\\n\\ntex_capture = above(q3,1);\\ntex_zoom = 0.6;"},{"baseVals":{"enabled":1,"textured":1,"x":0.25,"y":0.75,"rad":4.44708,"tex_zoom":0.22746,"r":0,"a":0.1,"g2":0,"a2":0.2,"border_r":0,"border_g":0,"border_a":0},"init_eqs_eel":"tex_saw = 0.4;","frame_eqs_eel":"ang = q1*0.2;\\n//x = 0.5 + 0.2*sin(q2);\\n//y = 0.5 + (0.3*sin(q2));\\n\\ntex_capture = above(q3,1);\\ntex_zoom = 0.6;"},{"baseVals":{"textured":1,"rad":6.621,"tex_zoom":0.22746,"g":1,"b":1,"a":0.2,"r2":1,"b2":1,"border_r":0,"border_g":0,"border_a":0,"enabled":0},"init_eqs_eel":"tex_saw = 0.4;","frame_eqs_eel":"ang = q1*0.2;\\n//x = 0.5 + 0.2*sin(q2);\\n//y = 0.5 + (0.3*sin(q2));\\n\\ntex_capture = above(q3,2);\\ntex_zoom = 0.6;"},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""}],"waves":[{"baseVals":{"enabled":1,"thick":1,"smoothing":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":"//q1 = state;\\n//q2 = basstime;\\n\\nq1 = 0;\\nspeed = bass_att*0.8;\\nv = sample*1000000 + value2*bass*0.1;\\n\\n//state 0 elipse\\nxs = xs + sin(v)*speed*atan(v*1.51);\\nys = ys + sin(v)*speed*atan((v*10));\\n\\nx = 0.5 + 0.5*sin(xs*0.1)*cos(time*0.2 + xs);\\ny = 0.5 + 0.5*sin(ys*0.12)*cos(time*0.1 + xs);\\n\\nx = x*0.8 + 0.1;\\ny = y*0.8 + 0.1;\\n\\nr = 0.5 + 0.5*sin(time*1.22) + 0.1;\\ng = 0.4 + 0.4*sin(time*1.307 + 2*y);\\nb = 0.4 + 0.4*sin(time*1.959 + x*2);\\n\\nxs = if(above(xs,1000),0 ,xs);\\nys = if(above(ys,1000),0 ,ys);"},{"baseVals":{"enabled":1,"thick":1,"smoothing":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":"//q1 = state;\\n//q2 = basstime;\\n\\nq1 = 0;\\nspeed = bass_att*0.8;\\nv = sample*1000000 + value2*bass*0.1;\\n\\n//state 0 elipse\\nxs = xs + sin(v)*speed*atan(v*1.51);\\nys = ys + sin(v)*speed*atan((v*10));\\n\\nx = 0.5 + 0.5*sin(xs*0.1)*cos(time*0.2 + xs);\\ny = 0.5 + 0.5*sin(ys*0.14)*cos(time*0.1 + xs);\\n\\nx = x*0.8 + 0.1;\\ny = y*0.8 + 0.1;\\nx = x*0.6 + 0.2;\\ny = y*0.6 + 0.2;\\n\\nr = 0.5 + 0.5*sin(time*1.322) + 0.1;\\ng = 0.4 + 0.4*sin(time*1.5407 + 2*y);\\nb = 0.4 + 0.4*sin(time*1.759 + x*2);\\n\\nxs = if(above(xs,1000),0 ,xs);\\nys = if(above(ys,1000),0 ,ys);"},{"baseVals":{"enabled":1,"thick":1,"smoothing":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":"//q1 = state;\\n//q2 = basstime;\\n\\nq1 = 0;\\nspeed = bass_att*0.8;\\nv = sample*1000000 + value2*bass*0.1;\\n\\n//state 0 elipse\\nxs = xs + sin(v)*speed*atan(v*1.51);\\nys = ys + sin(v)*speed*atan((v*10));\\n\\nx = 0.5 + 0.5*sin(xs*0.1)*cos(time*0.2 + xs);\\ny = 0.5 + 0.5*sin(ys*0.14)*cos(time*0.1 + xs);\\n\\nx = x*0.8 + 0.1;\\ny = y*0.8 + 0.1;\\nx = x*0.25 + 0.375;\\ny = y*0.25 + 0.375;\\n\\nr = 0.5 + 0.5*sin(time*1.622) + 0.1;\\ng = 0.4 + 0.4*sin(time*1.2407 + 2*y);\\nb = 0.4 + 0.4*sin(time*1.359 + x*2);\\n\\nxs = if(above(xs,1000),0 ,xs);\\nys = if(above(ys,1000),0 ,ys);"},{"baseVals":{"thick":1,"additive":1,"smoothing":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":"//q1 = state;\\n//q2 = basstime;\\n\\nq1 = 0;\\nspeed = bass_att*0.8;\\nv = sample*10000 + value2*bass*0.1;\\n\\n//state 0 elipse\\nxs = xs + (equal(0,q1))*sin(v*1)*speed*atan(v*1.51);\\nys = ys + (equal(0,q1))*sin(v*1)*speed;\\n\\n\\nx = 0.5 + 0.5*sin(xs*0.1)*cos(time*2 + xs);\\ny = 0.5 + 0.5*sin(ys*0.1)*cos(time*2.1 + xs);\\n\\nx = -x*0.6 + 1;\\ny = y*0.9 + 0.05 + bass*0.08;\\ny = y*0.8;\\n\\nr = 0.5 + 0.5*sin(time*1.789) + 0.1;\\ng = 0.4 + 0.4*sin(time*1.478);\\nb = 0.4 + 0.4*sin(time*1.125);\\n\\nxs = if(above(xs,1000),0 ,xs);\\nys = if(above(ys,1000),0 ,ys);"}],"init_eqs_eel":"","frame_eqs_eel":"basstime = basstime + bass*0.03;\\nq1 = basstime*4;\\n\\n//start in most active range\\nbasstime = if(below(basstime,1000),1000,basstime);\\n//basstime = if(above(basstime,495),450,basstime);\\n\\nbasstime = basstime + bass_att*0.03;\\nvol = pow(bass+mid+treb,2);\\nbasssum = vol;\\n\\nstickybit = time%2;\\n\\n//avg vol\\n//buffer 1\\nvolAvg = volAvg + vol*equal(stickybit,1);\\n//number of samples 1 or framerate\\nsample1 = sample1 + equal(stickybit,1);\\n//buffer 2\\nvolAvg2 = volAvg2 + vol*equal(stickybit,0);\\n//number of samples 2\\nsample2 = sample2 + equal(stickybit,0);\\n\\n//transision\\nedge = bnot(equal(bit2,stickybit));\\n\\nvolAvg = volAvg - volAvg*edge*stickybit;\\nvolAvg2 = volAvg2 - volAvg2*edge*equal(stickybit,0);\\n\\nsample1 = sample1  - sample1*edge*stickybit;\\nsample2 = sample2  - sample2*edge*equal(stickybit,0);\\n\\n//test vol against avg buffer lvl\\ndiff = if(equal(stickybit,1), (basssum/(volAvg2/sample2)) , 0);\\ndiff = if(equal(stickybit,0), (basssum/(volAvg/sample1)), diff);\\n\\nq3 = diff;\\n\\nbit2 = time%2;\\n\\ndifftime = difftime + diff*0.03;\\nq2 = difftime;\\n\\n//fix a strange error\\ndifftime = if(above(difftime,2000),0, difftime);\\n\\nmonitor = abs(cos(time))*3.14;\\n\\n\\nmv_a = above(diff,10);","pixel_eqs_eel":"zoom = 1 + 0.05*q3*rad;\\n\\ndecay_r = 0.2*rad*sin(q2*0.35) + 0.85 + 0.1*sin(q2);\\ndecay_g = 0.2*rad*sin(q2*0.5) + 0.85 + 0.1*sin(0.7*q2);\\ndecay_b = 0.2*rad*sin(q2*0.4) + 0.85 + 0.1*sin(0.8*q2);\\n\\nrot = 0;","warp":" shader_body { \\n  vec3 ret_1;\\n  vec2 tmpvar_2;\\n  tmpvar_2 = (vec2(1.0, 0.0) * texsize.z);\\n  vec2 tmpvar_3;\\n  tmpvar_3 = (vec2(0.0, 1.0) * texsize.z);\\n  ret_1 = (((\\n    (texture (sampler_main, (uv + tmpvar_2)).xyz + texture (sampler_main, (uv + tmpvar_2)).xyz)\\n   * 0.5) + (\\n    (texture (sampler_main, (uv + tmpvar_3)).xyz + texture (sampler_main, (uv + tmpvar_3)).xyz)\\n   * 0.5)) - texture (sampler_main, ((\\n    (uv - 0.5)\\n   * 0.9) + 0.5)).xyz);\\n  ret_1 = (ret_1 - 0.4);\\n  vec4 tmpvar_4;\\n  tmpvar_4.w = 1.0;\\n  tmpvar_4.xyz = ret_1;\\n  ret = tmpvar_4.xyz;\\n }","comp":" shader_body { \\n  vec3 ret_1;\\n  vec2 tmpvar_2;\\n  tmpvar_2 = ((0.5 - uv) + 0.5);\\n  ret_1 = (mix (texture (sampler_main, uv).xyz, texture (sampler_main, tmpvar_2).xyz, vec3(0.5, 0.5, 0.5)) * 2.0);\\n  ret_1 = (((\\n    ((texture (sampler_blur3, uv).xyz * scale3) + bias3)\\n   * 2.0) + (\\n    ((texture (sampler_blur3, tmpvar_2).xyz * scale3) + bias3)\\n   * 2.0)) + ret_1);\\n  vec4 tmpvar_3;\\n  tmpvar_3.w = 1.0;\\n  tmpvar_3.xyz = ret_1;\\n  ret = tmpvar_3.xyz;\\n }"}') }, "./presets/converted/$$$ Royal - Mashup (220).json": e => { e.exports = JSON.parse('{"version":2,"baseVals":{"rating":3,"gammaadj":1.07,"decay":0.95,"echo_zoom":1,"echo_alpha":0.5,"echo_orient":1,"wave_mode":7,"additivewave":1,"modwavealphabyvolume":1,"wave_brighten":0,"wrap":0,"brighten":1,"darken":1,"invert":1,"wave_a":4.1,"wave_scale":1.286,"wave_smoothing":0.63,"modwavealphastart":0.71,"modwavealphaend":1.3,"warpscale":1.331,"zoom":0.99951,"warp":0.01,"wave_r":0.65,"wave_g":0.65,"wave_b":0.65,"ob_size":0.5,"ob_r":0.01,"ib_size":0.26,"mv_a":0},"shapes":[{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""}],"waves":[{"baseVals":{"enabled":1,"spectrum":1,"thick":1},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":"sp = sample*6.28*8*8*4;\\nvol = (bass_att + mid_att + treb_att)*0.33;\\nvol = 0.2 + 0.5*(value1 + value2);\\nvol = .2;\\n\\nmod = if(below(mid_att,1.8),mid_att+.2,2);\\n\\nox = 0.5*sin(sp)*sin(sample*3.14)*vol;\\noy = (sample - 0)*mod;\\noz = 0.5*cos(sp)*sin(sample*3.14)*vol;\\n\\nxang = time*0.672;\\naxang = 0;\\nyang = time*-1.351;\\nayang = 0;\\nzang = time*-0.401;\\nazang = 0;\\nfov = 0.6 + 0.2*sin(time);\\nfov = .5;\\n\\nmx = ox*cos(zang) - oy*sin(zang);\\nmy = ox*sin(zang) + oy*cos(zang);\\nox = mx;\\noy = my;\\nmx = ox*cos(yang) + oz*sin(yang);\\nmz = - ox*sin(yang) + oz*cos(yang);\\nox = mx;\\noz = mz;\\nmy = oy*cos(xang) - oz*sin(xang);\\nmz = oy*sin(xang) + oz*cos(xang);\\noy = my;\\noz = mz;\\n\\noz = abs(oz) - 2;\\nx = ox*fov/oz + 0.5;\\nx = (x-.5)*0.75 + 0.5;\\ny = oy*fov/oz + 0.5;\\n\\nr = 1 + sin(sp);\\nb = 0.5 + 0.5*sin(sample*1.57);\\ng = 0.5 + 0.5*cos(sample*1.57);\\na = 0.5 + (oz + 2)*0.25;"},{"baseVals":{"enabled":1,"spectrum":1,"thick":1},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":"sp = sample*6.28*8*8*4;\\nvol = (bass_att + mid_att + treb_att)*0.33;\\nvol = 0.2 + 0.5*(value1 + value2);\\nvol = .2;\\n\\nmod = if(below(bass_att,1.8),bass_att+.2,2);\\n\\nox = 0.5*sin(sp)*sin(sample*3.14)*vol;\\noy = (sample - 0)*mod;\\noz = 0.5*cos(sp)*sin(sample*3.14)*vol;\\n\\nxang = time*-0.321;\\naxang = 0;\\nyang = time*1.531;\\nayang = 0;\\nzang = time*-0.101;\\nazang = 0;\\nfov = 0.6 + 0.2*sin(time);\\nfov = .5;\\n\\nmx = ox*cos(zang) - oy*sin(zang);\\nmy = ox*sin(zang) + oy*cos(zang);\\nox = mx;\\noy = my;\\nmx = ox*cos(yang) + oz*sin(yang);\\nmz = - ox*sin(yang) + oz*cos(yang);\\nox = mx;\\noz = mz;\\nmy = oy*cos(xang) - oz*sin(xang);\\nmz = oy*sin(xang) + oz*cos(xang);\\noy = my;\\noz = mz;\\n\\noz = abs(oz) - 2;\\nx = ox*fov/oz + 0.5;\\nx = (x-.5)*0.75 + 0.5;\\ny = oy*fov/oz + 0.5;\\n\\ng = 1 + sin(sp);\\nr = 0.5 + 0.5*sin(sample*1.57);\\nb = 0.5 + 0.5*cos(sample*1.57);\\na = 0.5 + (oz + 2)*0.25;"},{"baseVals":{"enabled":1,"spectrum":1,"thick":1},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":"sp = sample*6.28*8*8*4;\\nvol = (bass_att + mid_att + treb_att)*0.33;\\nvol = 0.2 + 0.5*(value1 + value2);\\nvol = .2;\\n\\nmod = if(below(treb_att,1.8),treb_att+.2,2);\\n\\nox = 0.5*sin(sp)*sin(sample*3.14)*vol;\\noy = (sample - 0)*mod;\\noz = 0.5*cos(sp)*sin(sample*3.14)*vol;\\n\\nxang = time*0.221;\\naxang = 0;\\nyang = time*-0.411;\\nayang = 0;\\nzang = time*1.201;\\nazang = 0;\\nfov = 0.6 + 0.2*sin(time);\\nfov = .5;\\n\\nmx = ox*cos(zang) - oy*sin(zang);\\nmy = ox*sin(zang) + oy*cos(zang);\\nox = mx;\\noy = my;\\nmx = ox*cos(yang) + oz*sin(yang);\\nmz = - ox*sin(yang) + oz*cos(yang);\\nox = mx;\\noz = mz;\\nmy = oy*cos(xang) - oz*sin(xang);\\nmz = oy*sin(xang) + oz*cos(xang);\\noy = my;\\noz = mz;\\n\\noz = abs(oz) - 2;\\nx = ox*fov/oz + 0.5;\\nx = (x-.5)*0.75 + 0.5;\\ny = oy*fov/oz + 0.5;\\n\\nb = 1+sin(sp);\\ng = 0.5 + 0.5*sin(sample*1.57);\\nr = 0.5 + 0.5*cos(sample*1.57);\\na = 0.5 + (oz + 2)*0.25;"},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""}],"init_eqs_eel":"","frame_eqs_eel":"wave_a = 0;","pixel_eqs_eel":"it = 0.3*sin(time*0.2);\\nradm = rad*0.5;\\nrot = 0.02*sin((radm+it)*20);\\nmod = sin(ang*5);\\nmod = mod*mod*mod*mod*mod;\\nzoom = 1 + abs(0.01*mod);\\n\\nzoom *= min(1.05,max(1,max(bass,treb)));","warp":" shader_body { \\n  vec3 xfer_1;\\n  vec3 ret_2;\\n  vec4 tmpvar_3;\\n  vec2 tmpvar_4;\\n  tmpvar_4 = (uv - 0.5);\\n  tmpvar_3 = texture (sampler_main, (tmpvar_4 + 0.5));\\n  ret_2 = (tmpvar_3.xyz / ((tmpvar_3.x + tmpvar_3.y) + tmpvar_3.z));\\n  ret_2 = texture (sampler_main, ((tmpvar_4 * dot (ret_2, vec3(1.0, 0.975, 0.95))) + 0.5)).xyz;\\n  vec3 tmpvar_5;\\n  tmpvar_5 = clamp (((ret_2 - 0.05) * 99.0), 0.0, 1.0);\\n  xfer_1.x = tmpvar_5.x;\\n  xfer_1.yz = (tmpvar_5.yz * clamp ((\\n    (0.1 - ret_2.xy)\\n   * 99.0), 0.0, 1.0));\\n  ret_2 = (ret_2 + (vec3(-0.014, 0.014, 0.0) * tmpvar_5.xxx));\\n  ret_2 = (ret_2 + (vec3(0.0, -0.08, 0.08) * xfer_1.yyy));\\n  ret_2 = (ret_2 + (vec3(0.0, 0.0, -0.02) * xfer_1.zzz));\\n  ret_2 = (ret_2 + (vec3(5.0, 15.0, 40.0) * (\\n    (texture (sampler_noise_lq, (((uv_orig * texsize.xy) * texsize_noise_lq.zw) + rand_frame.xy)).xyz - 0.5)\\n   / 256.0)));\\n  vec4 tmpvar_6;\\n  tmpvar_6.w = 1.0;\\n  tmpvar_6.xyz = ret_2;\\n  ret = tmpvar_6.xyz;\\n }","comp":""}') }, "./presets/converted/$$$ Royal - Mashup (431).json": e => { e.exports = JSON.parse('{"version":2,"baseVals":{"rating":2,"gammaadj":1,"wave_mode":7,"additivewave":1,"wave_thick":1,"modwavealphabyvolume":1,"wave_brighten":0,"wave_a":0.001,"wave_scale":0.958,"wave_smoothing":0.45,"modwavealphastart":0,"modwavealphaend":1.32,"warpanimspeed":30.965,"warpscale":2.572,"zoom":1.00901,"warp":0.00054,"wave_r":0,"wave_g":0,"wave_b":0,"mv_x":25.6,"mv_y":9.6,"mv_l":0,"mv_r":0.5,"mv_g":0.5,"mv_b":0.5,"mv_a":0},"shapes":[{"baseVals":{"textured":1,"x":0.09,"y":0.9,"rad":0.22437,"tex_zoom":1.76002,"r2":1,"g2":0,"a2":0.6,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"sides":100,"additive":1,"x":0.26,"y":0.2,"rad":0.39317,"tex_zoom":6.19589,"r":0,"g":0.55,"b":0.5,"g2":0.4,"b2":0.4,"a2":0.07,"border_r":0.3,"border_g":0.7,"border_b":0.8,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"sides":44,"additive":1,"x":0.503,"rad":0.03886,"tex_zoom":0.60986,"g":0.1,"a":0.9,"r2":1,"b2":1,"border_r":0.5,"border_g":0.5,"border_b":0.5,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"sides":100,"rad":0.01,"tex_zoom":0.49981,"r":0,"g2":0,"border_r":0.2,"border_g":0.7,"border_b":0.5,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""}],"waves":[{"baseVals":{"samples":282,"sep":20,"usedots":1,"thick":1,"additive":1,"scaling":3.91581,"smoothing":0.1,"r":0.2,"g":0.3,"a":0.6,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"usedots":1,"thick":1,"scaling":0.89152,"smoothing":0.82,"a":0.1,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"thick":1,"scaling":0.89152,"smoothing":0.82,"r":0,"g":0.2,"b":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"spectrum":1,"usedots":1,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""}],"init_eqs_eel":"","frame_eqs_eel":"wave_r = 0.85 + 0.25*sin(0.437*time+1);\\nwave_g = 0.85 + 0.25*sin(0.544*time+2);\\nwave_b = 0.85 + 0.25*sin(0.751*time+3);\\nrot = rot + 0.010*( 0.60*sin(0.381*time) + 0.40*sin(0.579*time) );\\ncx = cx + 0.210*( 0.60*sin(0.374*time) + 0.40*sin(0.294*time) );\\ncy = cy + 0.210*( 0.60*sin(0.393*time) + 0.40*sin(0.223*time) );\\ndx = dx + 0.003*( 0.60*sin(0.234*time) + 0.40*sin(0.277*time) );\\ndy = dy + 0.003*( 0.60*sin(0.284*time) + 0.40*sin(0.247*time) );\\ndecay = decay - 0.01*equal(frame%6,0);\\ndx = dx + dx_residual;\\ndy = dy + dy_residual;\\nbass_thresh = above(bass_att,bass_thresh)*2 + (1-above(bass_att,bass_thresh))*((bass_thresh-1.3)*0.96+1.3);\\ndx_residual = equal(bass_thresh,2.13)*0.016*sin(time*7) + (1-equal(bass_thresh,2.13))*dx_residual;\\ndy_residual = equal(bass_thresh,2.13)*0.012*sin(time*9) + (1-equal(bass_thresh,2.13))*dy_residual;\\nwave_x = wave_x - dx_residual*7;\\nwave_y = wave_y - dy_residual*7;\\nwave_mystery = time*0.03;\\n\\n//zoom = zoom + 0.005*( 0.60*sin(0.1934*time+3) + 0.40*sin(0.307*time+9) );\\n//zoom = zoom + max(0,bass_att-1.1)*0.2;\\n//warp = warp + max(0,treb_att-1.1)*1.0;\\n\\n// this is a great way to respond to beats:\\n// once you get one, let it decay at a constant rate!!\\nrg = max(rg*0.77, 0.02 + 0.5*min(2,max(0,mid_att-1)*1.3));\\nq9 = rg;\\n\\nzoom = zoom + q9*0.1;","pixel_eqs_eel":"","warp":" shader_body { \\n  vec3 ret_1;\\n  ret_1 = texture (sampler_main, uv).xyz;\\n  ret_1 = (ret_1 + ((ret_1 - \\n    ((((\\n      (texture (sampler_blur1, uv).xyz * scale1)\\n     + bias1) * 0.3) + ((\\n      (texture (sampler_blur2, uv).xyz * scale2)\\n     + bias2) * 0.4)) + (((texture (sampler_blur3, uv).xyz * scale3) + bias3) * 0.3))\\n  ) * 0.3));\\n  ret_1 = (ret_1 * 0.9);\\n  ret_1 = (ret_1 + ((\\n    ((texture (sampler_noise_lq, ((\\n      (uv_orig * texsize.xy)\\n     * \\n      (texsize_noise_lq.zw * 0.4)\\n    ) + rand_frame.xy)).xyz - 0.5) / 256.0)\\n   * 122.0) * (\\n    (clamp ((treb_att - 1.0), 0.0, 1.0) * 0.4)\\n   + 0.3)));\\n  ret_1 = mix (ret_1, vec3(dot (ret_1, vec3(0.32, 0.49, 0.29))), vec3(0.2, 0.2, 0.2));\\n  vec4 tmpvar_2;\\n  tmpvar_2.w = 1.0;\\n  tmpvar_2.xyz = ret_1;\\n  ret = tmpvar_2.xyz;\\n }","comp":"vec2 xlat_mutabledz;\\nvec3 xlat_mutableret1;\\nvec2 xlat_mutableuv3;\\n shader_body { \\n  vec2 tmpvar_1;\\n  tmpvar_1.y = 0.0;\\n  tmpvar_1.x = texsize.z;\\n  vec2 tmpvar_2;\\n  tmpvar_2.x = 0.0;\\n  tmpvar_2.y = texsize.w;\\n  vec2 uv_3;\\n  float inten_4;\\n  float dist_5;\\n  vec2 uv1_6;\\n  vec3 ret_7;\\n  vec2 tmpvar_8;\\n  tmpvar_8 = ((uv - 0.5) * aspect.xy);\\n  float tmpvar_9;\\n  tmpvar_9 = (time / 18.0);\\n  dist_5 = (1.0 - fract((0.25 + tmpvar_9)));\\n  inten_4 = ((sqrt(dist_5) * (1.0 - dist_5)) * 4.0);\\n  uv_3 = (tmpvar_8 * aspect.yx);\\n  xlat_mutableuv3 = (vec2(0.51, 0.55) + (uv_3 * dist_5));\\n  xlat_mutabledz.x = (inten_4 * ((2.0 * \\n    dot (texture (sampler_main, (xlat_mutableuv3 + tmpvar_1)).xyz, vec3(0.32, 0.49, 0.29))\\n  ) - (2.0 * \\n    dot (texture (sampler_main, (xlat_mutableuv3 - tmpvar_1)).xyz, vec3(0.32, 0.49, 0.29))\\n  )));\\n  xlat_mutabledz.y = (inten_4 * ((2.0 * \\n    dot (texture (sampler_main, (xlat_mutableuv3 + tmpvar_2)).xyz, vec3(0.32, 0.49, 0.29))\\n  ) - (2.0 * \\n    dot (texture (sampler_main, (xlat_mutableuv3 - tmpvar_2)).xyz, vec3(0.32, 0.49, 0.29))\\n  )));\\n  xlat_mutableret1 = max (vec3(0.0, 0.0, 0.0), (texture (sampler_main, xlat_mutableuv3).xyz * inten_4));\\n  dist_5 = (1.0 - fract((0.5 + tmpvar_9)));\\n  inten_4 = ((sqrt(dist_5) * (1.0 - dist_5)) * 4.0);\\n  uv_3 = (tmpvar_8 * aspect.yx);\\n  xlat_mutableuv3 = (vec2(0.49, 0.55) + (uv_3 * dist_5));\\n  xlat_mutabledz.x = (xlat_mutabledz.x + (inten_4 * (\\n    (2.0 * dot (texture (sampler_main, (xlat_mutableuv3 + tmpvar_1)).xyz, vec3(0.32, 0.49, 0.29)))\\n   - \\n    (2.0 * dot (texture (sampler_main, (xlat_mutableuv3 - tmpvar_1)).xyz, vec3(0.32, 0.49, 0.29)))\\n  )));\\n  xlat_mutabledz.y = (xlat_mutabledz.y + (inten_4 * (\\n    (2.0 * dot (texture (sampler_main, (xlat_mutableuv3 + tmpvar_2)).xyz, vec3(0.32, 0.49, 0.29)))\\n   - \\n    (2.0 * dot (texture (sampler_main, (xlat_mutableuv3 - tmpvar_2)).xyz, vec3(0.32, 0.49, 0.29)))\\n  )));\\n  xlat_mutableret1 = max (xlat_mutableret1, (texture (sampler_main, xlat_mutableuv3).xyz * inten_4));\\n  dist_5 = (1.0 - fract((0.75 + tmpvar_9)));\\n  inten_4 = ((sqrt(dist_5) * (1.0 - dist_5)) * 4.0);\\n  uv_3 = (tmpvar_8 * aspect.yx);\\n  xlat_mutableuv3 = (vec2(0.51, 0.55) + (uv_3 * dist_5));\\n  xlat_mutabledz.x = (xlat_mutabledz.x + (inten_4 * (\\n    (2.0 * dot (texture (sampler_main, (xlat_mutableuv3 + tmpvar_1)).xyz, vec3(0.32, 0.49, 0.29)))\\n   - \\n    (2.0 * dot (texture (sampler_main, (xlat_mutableuv3 - tmpvar_1)).xyz, vec3(0.32, 0.49, 0.29)))\\n  )));\\n  xlat_mutabledz.y = (xlat_mutabledz.y + (inten_4 * (\\n    (2.0 * dot (texture (sampler_main, (xlat_mutableuv3 + tmpvar_2)).xyz, vec3(0.32, 0.49, 0.29)))\\n   - \\n    (2.0 * dot (texture (sampler_main, (xlat_mutableuv3 - tmpvar_2)).xyz, vec3(0.32, 0.49, 0.29)))\\n  )));\\n  xlat_mutableret1 = max (xlat_mutableret1, (texture (sampler_main, xlat_mutableuv3).xyz * inten_4));\\n  dist_5 = (1.0 - fract((1.0 + tmpvar_9)));\\n  inten_4 = ((sqrt(dist_5) * (1.0 - dist_5)) * 4.0);\\n  uv_3 = (tmpvar_8 * aspect.yx);\\n  xlat_mutableuv3 = (vec2(0.49, 0.55) + (uv_3 * dist_5));\\n  xlat_mutabledz.x = (xlat_mutabledz.x + (inten_4 * (\\n    (2.0 * dot (texture (sampler_main, (xlat_mutableuv3 + tmpvar_1)).xyz, vec3(0.32, 0.49, 0.29)))\\n   - \\n    (2.0 * dot (texture (sampler_main, (xlat_mutableuv3 - tmpvar_1)).xyz, vec3(0.32, 0.49, 0.29)))\\n  )));\\n  xlat_mutabledz.y = (xlat_mutabledz.y + (inten_4 * (\\n    (2.0 * dot (texture (sampler_main, (xlat_mutableuv3 + tmpvar_2)).xyz, vec3(0.32, 0.49, 0.29)))\\n   - \\n    (2.0 * dot (texture (sampler_main, (xlat_mutableuv3 - tmpvar_2)).xyz, vec3(0.32, 0.49, 0.29)))\\n  )));\\n  xlat_mutableret1 = max (xlat_mutableret1, (texture (sampler_main, xlat_mutableuv3).xyz * inten_4));\\n  xlat_mutabledz = (xlat_mutabledz * (0.5 + rand_preset.z));\\n  vec2 tmpvar_10;\\n  tmpvar_10 = (2.0 * (rand_preset.xy - 0.5));\\n  uv1_6 = (4.0 * tmpvar_8);\\n  vec2 tmpvar_11;\\n  tmpvar_11 = sin(((uv1_6 + xlat_mutabledz) + tmpvar_10));\\n  vec2 tmpvar_12;\\n  tmpvar_12 = sin(((uv1_6 + \\n    (xlat_mutabledz * 1.4)\\n  ) + tmpvar_10));\\n  vec2 tmpvar_13;\\n  tmpvar_13 = sin(((uv1_6 + \\n    (xlat_mutabledz * 1.8)\\n  ) + tmpvar_10));\\n  vec3 tmpvar_14;\\n  tmpvar_14.x = inversesqrt(dot (tmpvar_11, tmpvar_11));\\n  tmpvar_14.y = inversesqrt(dot (tmpvar_12, tmpvar_12));\\n  tmpvar_14.z = inversesqrt(dot (tmpvar_13, tmpvar_13));\\n  ret_7 = (((\\n    (tmpvar_14 * ((vec3(0.01, 0.01, 0.01) * (1.0 + \\n      (rand_preset.xyz / 2.0)\\n    )) * (0.5 + rand_preset.y)))\\n   * \\n    ((((rand_preset.x - 0.5) * 4.0) * xlat_mutableret1) + (8.0 * (1.0 + rand_preset)).xyz)\\n  ) - (xlat_mutableret1.x * 0.5)) + ((xlat_mutableret1.y + xlat_mutableret1.z) / 3.0));\\n  ret_7 = (ret_7 - ((slow_roam_sin.wzy * roam_cos.zxy) * 0.4));\\n  ret_7 = (ret_7 * (1.0 + ret_7));\\n  vec4 tmpvar_15;\\n  tmpvar_15.w = 1.0;\\n  tmpvar_15.xyz = ret_7;\\n  ret = tmpvar_15.xyz;\\n }"}') }, "./presets/converted/AdamFx 2 Geiss, Zylot and Flexi - Reaction Diffusion 3 (Overload Mix 2) EATIT4 hypno.json": e => { e.exports = JSON.parse('{"version":2,"baseVals":{"rating":1,"gammaadj":1.9,"echo_zoom":1.169,"wave_a":0.001,"warpanimspeed":30.965,"warpscale":2.572,"zoomexp":1.94773,"zoom":1.00901,"warp":0.00054,"wave_r":0,"wave_g":0,"wave_b":0,"mv_a":0},"shapes":[{"baseVals":{"textured":1,"x":0.75,"y":0.75,"rad":0.7418,"tex_zoom":0.22746,"g":1,"b":1,"r2":1,"b2":1,"border_r":0,"border_g":0,"border_a":0,"enabled":0},"init_eqs_eel":"tex_saw = 0.4;","frame_eqs_eel":"ang = q1*0.2;\\n\\ntex_capture = above(q3,2);\\ntex_zoom = 0.6;"},{"baseVals":{"enabled":1,"additive":1,"rad":0.0444,"tex_zoom":0.22746,"r":0,"g":0.3,"g2":0,"border_r":0,"border_g":0,"border_a":0},"init_eqs_eel":"tex_saw = 0.4;","frame_eqs_eel":""},{"baseVals":{"sides":100,"rad":0.22167,"border_a":1,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"border_r = 0.5 + 0.5*sin(q1*10);"},{"baseVals":{"sides":100,"g":1,"b":1,"r2":1,"b2":1,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"a = above(q3,2);\\na2 = above(q3,2)*0.8;\\n\\nxx = if(above(q3,6),xx,int(rand(100))*0.01);\\nyy = if(above(q3,6),yy,int(rand(100))*0.01);\\nradi = if(above(q3,5),radi,int(rand(100))*0.01);\\n\\nrad = radi;\\n\\nx = xx;\\ny = yy;\\n\\n\\nr = 0.5 + 0.5*sin(q1*1.22) + 0.1;\\ng = 0.4 + 0.4*sin(q1*1.307);\\nb = 0.4 + 0.4*sin(q1*1.959);\\n\\n\\nr2 = 0.5 + 0.5*sin(q1*1.622) + 0.1;\\ng2 = 0.4 + 0.4*sin(q1*1.507);\\nb2 = 0.4 + 0.4*sin(q1*1.6559);"}],"waves":[{"baseVals":{"enabled":1,"a":0.5},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":"//init\\nzs = if(below(zs,1),9,zs);\\n\\nzs = if(above(zs, 1100),1, zs);\\n\\nspeed = bass*0.002;\\n\\n//sum\\nzs = zs + tan(q1*0.015)*speed;\\n\\nzd = zd + 2;\\n\\n\\n\\n//project\\nx = 0.5 + 0.1*cos(q1*zs);\\ny = 0.5 + 0.1*sin(q1*zs);\\n\\nr = 0.5 + 0.5*sin(q1*1.2 + x + x);\\ng = 0.5 + 0.5*sin(q1*1.5 + x + y);\\nb = 0.5 + 0.5*sin(q1*1.36 + y + y);"},{"baseVals":{"thick":1,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"thick":1,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""}],"init_eqs_eel":"","frame_eqs_eel":"rot = -0.001;\\n//rot = rot + 0.010*( 0.60*sin(0.381*time) + 0.40*sin(0.579*time) );\\n\\nzoom =1.01;// + bass*0.05 - treb*0.015;","pixel_eqs_eel":"","warp":" shader_body { \\n  vec2 uv_1;\\n  vec3 ret_2;\\n  uv_1 = (uv + (vec2(1.0, 0.0) * texsize.zw));\\n  ret_2 = texture (sampler_main, uv_1).xyz;\\n  ret_2.xz = (ret_2.xz + ((\\n    (ret_2.xz - mix (((texture (sampler_blur2, uv_1).xyz * scale2) + bias2), ((texture (sampler_blur1, uv_1).xyz * scale1) + bias1), uv_orig.xxx).xz)\\n   * 0.3) - (0.00666 * \\n    (((bass + treb) + mid) - 0.5)\\n  )));\\n  ret_2.xz = (ret_2.xz * 0.95);\\n  ret_2.xz = (ret_2.xz + ((\\n    ((texture (sampler_noise_lq, ((\\n      (uv_orig * texsize.xy)\\n     * \\n      (texsize_noise_lq.zw * 0.4)\\n    ) + rand_frame.xy)).xz - 0.5) / 256.0)\\n   * 122.0) * clamp (\\n    (treb_att - 1.0)\\n  , 0.0, 1.0)));\\n  ret_2.x = mix (ret_2.x, dot (ret_2.xxx, vec3(0.32, 0.49, 0.29)), 0.2);\\n  vec2 tmpvar_3;\\n  tmpvar_3 = (texsize.zw * 12.0);\\n  vec3 tmpvar_4;\\n  tmpvar_4 = (((texture (sampler_blur2, \\n    (uv_orig + (vec2(1.0, 0.0) * tmpvar_3))\\n  ).xyz * scale2) + bias2) - ((texture (sampler_blur2, \\n    (uv_orig - (vec2(1.0, 0.0) * tmpvar_3))\\n  ).xyz * scale2) + bias2));\\n  vec3 tmpvar_5;\\n  tmpvar_5 = (((texture (sampler_blur2, \\n    (uv_orig + (vec2(0.0, 1.0) * tmpvar_3))\\n  ).xyz * scale2) + bias2) - ((texture (sampler_blur2, \\n    (uv_orig - (vec2(0.0, 1.0) * tmpvar_3))\\n  ).xyz * scale2) + bias2));\\n  vec2 tmpvar_6;\\n  tmpvar_6.x = tmpvar_4.x;\\n  tmpvar_6.y = tmpvar_5.x;\\n  vec2 tmpvar_7;\\n  tmpvar_7.x = tmpvar_4.y;\\n  tmpvar_7.y = tmpvar_5.y;\\n  vec2 tmpvar_8;\\n  tmpvar_8.x = tmpvar_4.z;\\n  tmpvar_8.y = tmpvar_5.z;\\n  vec2 tmpvar_9;\\n  tmpvar_9 = (((uv_orig + \\n    (tmpvar_6 * 0.005)\\n  ) + (tmpvar_7 * 0.005)) - (tmpvar_8 * 0.005));\\n  ret_2.y = (texture (sampler_main, tmpvar_9).y - 0.04);\\n  ret_2.y = (ret_2.y + ((\\n    (ret_2.y - (((texture (sampler_blur1, tmpvar_9).xyz * scale1) + bias1).y * 1.5))\\n   + 0.4) * 0.1));\\n  vec4 tmpvar_10;\\n  tmpvar_10.w = 1.0;\\n  tmpvar_10.xyz = ret_2;\\n  ret = tmpvar_10.xyz;\\n }","comp":" shader_body { \\n  float ang2_1;\\n  vec2 uv2_2;\\n  ang2_1 = ((ang * 0.1591549) + (time * 0.025));\\n  ang2_1 = (fract((ang2_1 * 9.0)) / 9.0);\\n  ang2_1 = (abs((ang2_1 - 0.05555556)) * 6.283185);\\n  vec2 tmpvar_3;\\n  tmpvar_3.x = cos(ang2_1);\\n  tmpvar_3.y = sin(ang2_1);\\n  uv2_2 = (0.5 + ((\\n    (0.4 * (rad * sqrt(dot (texsize.xy, texsize.xy))))\\n   * tmpvar_3) * texsize.zw));\\n  vec4 tmpvar_4;\\n  tmpvar_4.w = 1.0;\\n  tmpvar_4.xyz = (((texture (sampler_main, uv2_2).y * vec3(0.6, 0.2, 1.5)) + (texture (sampler_fw_main, uv2_2).x * vec3(1.0, 0.66, 0.0))) - (texture (sampler_main, uv2_2).z * vec3(-0.6, 1.0, 2.0)));\\n  ret = tmpvar_4.xyz;\\n }"}') }, "./presets/converted/Aderrasi + Geiss - Airhandler (Kali Mix) - Canvas Mix.json": e => { e.exports = JSON.parse('{"version":2,"baseVals":{"rating":5,"gammaadj":2.001,"decay":0.95,"echo_zoom":0.9996,"wave_mode":1,"wrap":0,"wave_a":3.072644,"wave_scale":1.285746,"wave_smoothing":0,"modwavealphastart":0.71,"modwavealphaend":1.3,"warpscale":1.331,"zoom":0.999513,"warp":0.0101,"wave_r":0.65,"wave_g":0.65,"wave_b":0.65,"ob_size":0.005,"ob_a":0.8,"ib_size":0,"mv_a":0},"shapes":[{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""}],"waves":[{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""}],"init_eqs_eel":"","frame_eqs_eel":"wave_r = wave_r + 0.5*sin(time*1.13);\\nwave_g = wave_g + 0.5*sin(time*1.23);\\nwave_b = wave_b + 0.5*sin(time*1.33);","pixel_eqs_eel":"zoom = zoom + 0.05*(sin(6*ang) + sin(sin(time*2*sin(time)*rad))*0.3 - cos(rad)*0.1);\\nrot = rot + 0.5*sin(0.5-rad)*cos(0.02*(0.5-rad)+time);\\nsx = sx + 0.01*(0.99*1-rad)*sin(0.733*time)*below(sin(time),0);\\nsy = sy + 0.01*(0.99*1-rad)*cos(0.953*time)*above(sin(time),0);\\nzoom = zoom - 0.05*(1-rad)*below(rad,0.5);","warp":" shader_body { \\n  vec4 tmpvar_1;\\n  tmpvar_1.w = 1.0;\\n  tmpvar_1.xyz = (texture (sampler_main, (uv + (\\n    (texture (sampler_main, (uv + texsize.zw)).xy - 0.37)\\n   * 0.03))).xyz - 0.004);\\n  ret = tmpvar_1.xyz;\\n }","comp":" shader_body { \\n  vec2 uv_1;\\n  vec3 ret_2;\\n  uv_1 = (0.03 + (0.94 * uv));\\n  vec2 tmpvar_3;\\n  tmpvar_3 = (texsize.zw * 0.7);\\n  ret_2 = (texture (sampler_main, (uv_1 + (tmpvar_3 * vec2(3.5, 0.0)))).xyz * 3.0);\\n  ret_2 = (ret_2 + (texture (sampler_main, (uv_1 + \\n    (tmpvar_3 * vec2(0.0, 3.5))\\n  )).xyz * 3.0));\\n  ret_2 = (ret_2 + (texture (sampler_main, (uv_1 + \\n    (tmpvar_3 * vec2(0.0, -3.5))\\n  )).xyz * -2.0));\\n  ret_2 = (ret_2 + (texture (sampler_main, (uv_1 + \\n    (tmpvar_3 * vec2(-3.5, 0.0))\\n  )).xyz * -2.0));\\n  ret_2 = (ret_2 / 2.0);\\n  ret_2 = (ret_2 * (1.0 + (0.15 * \\n    ((texture (sampler_noise_lq, (rand_frame.xy + (\\n      (uv_1 * texsize.xy)\\n     * texsize_noise_lq.zw))).xxx * 2.0) - 1.0)\\n  )));\\n  vec3 tmpvar_4;\\n  tmpvar_4 = pow (ret_2, vec3(0.5, 0.8, 1.0));\\n  ret_2 = tmpvar_4;\\n  vec4 tmpvar_5;\\n  tmpvar_5.w = 1.0;\\n  tmpvar_5.xyz = tmpvar_4;\\n  ret = tmpvar_5.xyz;\\n }"}') }, "./presets/converted/Aderrasi - Potion of Spirits.json": e => { e.exports = JSON.parse('{"version":1,"baseVals":{"rating":5,"gammaadj":1.42,"decay":1,"echo_zoom":0.999823,"echo_alpha":0.5,"echo_orient":1,"wave_mode":5,"wave_thick":1,"wave_brighten":0,"wrap":0,"darken":1,"wave_a":0.001185,"wave_scale":0.325446,"wave_smoothing":0.9,"modwavealphastart":0.5,"modwavealphaend":1,"warpanimspeed":2.630064,"warpscale":3.209168,"zoomexp":1.000158,"dx":0.00001,"dy":0.00001,"warp":0.01,"wave_r":0.5,"wave_g":0.5,"wave_b":0.5,"ob_size":0.005,"ob_a":0.5,"ib_size":0,"ib_r":0,"ib_g":0,"ib_b":0,"ib_a":0.1,"mv_x":6.4,"mv_y":4.8,"mv_l":5,"mv_a":0},"shapes":[{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""}],"waves":[{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""}],"init_eqs_eel":"","frame_eqs_eel":"wave_r = 0.5 + 0.5*sin(1.6*time);\\nwave_g = 0.5 + 0.5*sin(4.1*time);\\nwave_b = -1 + (1-wave_r + 1-wave_g);\\nwarp = 2;\\n\\nob_r = ob_r+wave_b*above(sin(0.1*time),0);\\nob_b = ob_b+wave_g*above(sin(0.1*time),0);\\nob_g = ob_g+wave_r*above(sin(0.1*time),0);\\nob_r = ob_r+wave_g*below(sin(0.1*time),0);\\nob_b = ob_b+wave_r*below(sin(0.1*time),0);\\nob_g = ob_g+wave_b*below(sin(0.1*time),0);","pixel_eqs_eel":"thresh = above(bass_att,thresh)*2+(1-above(bass_att,thresh))*((thresh-1.3)*0.96+1.3);\\ndx_r = equal(thresh,2)*0.05*sin(5*time)+(1-equal(thresh,2))*dx_r;\\ndy_r = equal(thresh,2)*0.056*sin(6*time)+(1-equal(thresh,2))*dy_r;\\ntg1 = abs(sin(time));\\ntg2 = 22*above(tg1,0.75) + 12*below(tg1,0.25) + 18*above(tg1,0.25)*below(tg1,0.5)+\\n12*above(tg1,0.5)*below(tg1,0.75);\\ntg3 = if(equal(thresh,2),tg2,tg3);\\n\\nsix = sin(x);\\n\\ndx = dx + dx_r*sin(abs(tg3*y))*sin(time);\\ndy = dy + dy_r*sin(abs(tg3*x))*cos(time);\\ndx = dx + dx_r*pow(rad,y*2)*sin(time);\\ndy = dy + dy_r*pow(rad,x*2)*sin(time);\\nzoom = zoom - 0.0825*pow(rad,x*6)*cos(ang*6);\\nrot = rot - 0.0525*(0.75*sin(1.25*time)*pow(rad,x)*sin(1.45*time))*sin(time);","warp":"","comp":""}') }, "./presets/converted/Aderrasi - Storm of the Eye (Thunder) - mash0000 - quasi pseudo meta concentrics.json": e => { e.exports = JSON.parse('{"version":2,"baseVals":{"rating":0,"gammaadj":1,"decay":0.97,"echo_zoom":1,"echo_alpha":0.5,"echo_orient":3,"wave_mode":2,"wave_brighten":0,"wrap":0,"wave_a":100,"wave_scale":0.797,"wave_smoothing":0.5,"modwavealphastart":0.5,"modwavealphaend":1,"dx":0.00001,"dy":0.00001,"warp":0.01,"wave_r":0.5,"wave_g":0.5,"wave_b":0.5,"ob_size":0.005,"ob_a":1,"ib_r":0,"ib_g":0,"ib_b":0,"ib_a":0.1,"mv_x":0,"mv_y":0,"mv_l":1,"mv_a":0},"shapes":[{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""}],"waves":[{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""}],"init_eqs_eel":"","frame_eqs_eel":"warp = 0;\\n\\nob_r = ob_r + 0.8*sin(1.1*time) + 1.1*cos(2*time);\\nob_b = ob_b + 0.9*sin(1.2*time) + cos(1.5*time);\\nob_g = ob_g + 0.7*sin(time) + sin(0.4*time);\\nwave_r = abs(ob_r+0.2);\\nwave_g = abs(ob_g+0.2);\\nwave_b = abs(ob_b+0.2);\\nib_b = ib_b + 0.44*cos(1.5*time) + 0.7*tan(time);\\nib_g = ib_g + 2*sin(time*bass_att);\\nib_r = ib_r + 0.8*sin(1.2*time) + 1.3*cos(1.8*time);","pixel_eqs_eel":"thresh = above(bass_att,thresh)*2+(1-above(bass_att,thresh))*((thresh-1.3)*0.96+1.3);\\ndx_r = equal(thresh,2)*0.015*sin(5*time)+(1-equal(thresh,2))*dx_r;\\ndy_r = equal(thresh,2)*0.015*sin(6*time)+(1-equal(thresh,2))*dy_r;\\nzoom = zoom + 0.07*treb*(abs(sin(time*rad)))*(0.3-rad);\\ndy = dy + dy_r*below(rad,0.5 - (0.2*time));\\ndx = dx + dx_r*below(rad,0.5 - (0.2*time));\\nrot = rot + (0.7*bass_att*sin(abs(dx_r*(1-rad)*2*time+cos(rad*12))))*0.2;","warp":" shader_body { \\n  vec3 ret_1;\\n  vec4 tmpvar_2;\\n  tmpvar_2 = texture (sampler_main, uv);\\n  ret_1 = (tmpvar_2.xyz + ((tmpvar_2.xyz - \\n    ((texture (sampler_blur1, uv).xyz * scale1) + bias1)\\n  ) * 0.3));\\n  ret_1 = (ret_1 * 0.9);\\n  ret_1 = (ret_1 + ((\\n    (texture (sampler_noise_lq, ((uv_orig * texsize.xy) * (texsize_noise_lq.zw * 0.1))).xyz - 0.5)\\n   / 256.0) * 28.0));\\n  vec3 tmpvar_3;\\n  tmpvar_3 = mix (ret_1, vec3(dot (ret_1, vec3(0.32, 0.49, 0.29))), vec3(0.04, 0.04, 0.04));\\n  ret_1 = tmpvar_3;\\n  vec4 tmpvar_4;\\n  tmpvar_4.w = 1.0;\\n  tmpvar_4.xyz = tmpvar_3;\\n  ret = tmpvar_4.xyz;\\n }","comp":""}') }, "./presets/converted/An AdamFX n Martin Infusion 2 flexi - Why The Sky Looks Diffrent Today - AdamFx n Martin Infusion - Tack Tile Disfunction B.json": e => { e.exports = JSON.parse('{"version":2,"baseVals":{"rating":4,"gammaadj":1,"decay":1,"echo_zoom":1,"echo_alpha":0.5,"additivewave":1,"modwavealphabyvolume":1,"wave_a":0.009,"wave_scale":2.713,"wave_smoothing":0,"modwavealphastart":1.2,"modwavealphaend":1.2,"warpanimspeed":1.459,"warpscale":2.007,"zoom":0.9999,"warp":0.01,"sx":0.9999,"wave_r":0.44,"wave_g":0.4,"ob_size":0.015,"ob_b":1,"ib_size":0.26,"mv_x":64,"mv_y":48,"mv_l":0.85,"mv_r":0.5,"mv_g":0.5,"mv_b":0.5,"mv_a":0,"b1ed":0},"shapes":[{"baseVals":{"enabled":1,"sides":3,"additive":1,"num_inst":175,"rad":0.20065,"ang":0.75398,"tex_ang":3.14159,"tex_zoom":0.99979,"r":0,"g2":0,"border_r":0.01,"border_g":0,"border_a":1},"init_eqs_eel":"","frame_eqs_eel":"//lorenz-attractor calc\\nxx1 = if(equal(instance,0),q11,xx1);\\nyy1 = if(equal(instance,0),q12,yy1);\\nzz1 = if(equal(instance,0),q13,zz1);\\n\\ndx1 = q14*(yy1-xx1);\\ndy1 = xx1*(q15-zz1)-yy1;\\ndz1 = xx1*yy1-q16*zz1;\\ndd = sqrt(dx1*dx1+dy1*dy1+dz1*dz1);\\nxx1 = xx1 + q17*dx1/dd;\\nyy1 = yy1 + q17*dy1/dd;\\nzz1 = zz1 + q17*dz1/dd;\\n\\n\\n// 3D object model coordinates\\nmy_x = xx1*0.1;\\nmy_y = yy1*0.1;\\nmy_z = zz1*0.1 - 3;\\n\\n\\nd = 4.75; // camera distance\\nzoom = .55+0.25*sin(.5*q32);\\n\\n// solid angles\\nw1 = q3;\\nw2 = q4;\\nw3 = q5;\\n\\n// 3D rotation\\nx1 = cos(w1)*my_x + sin(w1)*my_y;\\ny1 = -sin(w1)*my_x + cos(w1)*my_y;\\nz1 = my_z;\\n\\nx2 = cos(w2)*x1 + sin(w2)*z1;\\nz2 = -sin(w2)*x1 + cos(w2)*z1;\\ny2 = y1;\\n\\ny3 = cos(w3)*y2 + sin(w3)*z2;\\nz3 = -sin(w3)*y2 + cos(w3)*z2;\\nx3 = x2;\\n\\n// perspective calculation\\n\\nl = sqrt(x3*x3 + y3*y3);\\nw = atan2(x3,y3);\\np = tan(asin(1) + atan2(d+z3,l));\\nd = sqrt(x3*x3 + y3*y3 + (z3+d)*(z3+d));\\n\\nmy_x = zoom*sin(w)*p;\\nmy_y = zoom*cos(w)*p;\\n\\nx = 0.5 + my_x;\\ny = 0.5 + my_y;\\n\\nrad = rad/d;\\nang = ang-instance/num_inst*asin(1)*8;"},{"baseVals":{"sides":12,"additive":1,"num_inst":512,"y":0.55,"rad":0.0986,"tex_zoom":0.7874,"r":0.2,"g":0.03,"b":0.55,"g2":0,"border_a":0,"enabled":0},"init_eqs_eel":"started = 0;\\nt1 = 0.412; //seeds for pseudo random generator\\nt2 = 0.4563;\\nt3 = 0.6452;\\nt4 = 0.2565;","frame_eqs_eel":"rnd1 = if(equal(instance,0),t1,rnd1);\\nrnd2 = if(equal(instance,0),t2,rnd2);\\nrnd3 = if(equal(instance,0),t3,rnd3);\\nrnd4 = if(equal(instance,0),t4,rnd4);\\nrnd1 = 4*rnd1*(1-rnd1);\\nrnd2 = 4*rnd2*(1-rnd2);\\nrnd3 = 4*rnd3*(1-rnd3);\\nrnd4 = 4*rnd4*(1-rnd4);\\nt = .6;\\nt =  (rnd1+time*t) - int(rnd1+time*t);\\nt = t + rnd2*0.1;\\nwh = rnd4*asin(1)*4;\\nwv = 0.25 + rnd3*0.1;\\n\\nd = 6; // makes the perspective impact\\nzoom = 1;\\nl = 1;\\n\\n// Kardan angles\\n\\nw1 = q3; // first rotation: clockwise in the desktop pane\\nw2 = q4; // rotation around vertical axis\\nw3 = q5; // rotation around horizontal axis\\n\\n\\n// definition of the 3D shape\\n\\ni = instance;\\n\\nmy_x = t *(cos(wh)*sin(wv)*l)*2;\\nmy_z = -(-0.5 +(t-0.75)*(t-0.75))*cos(wv)*l*2;\\nmy_y = t*(sin(wh)*sin(wv)*l)*2;\\n\\n\\n\\n// 3D rotations\\n\\nx1 = cos(w1)*my_x + sin(w1)*my_y;\\ny1 = -sin(w1)*my_x + cos(w1)*my_y;\\nz1 = my_z;\\n\\nx2 = cos(w2)*x1 + sin(w2)*z1;\\nz2 = -sin(w2)*x1 + cos(w2)*z1;\\ny2 = y1;\\n\\ny3 = cos(w3)*y2 + sin(w3)*z2;\\nz3 = -sin(w3)*y2 + cos(w3)*z2;\\nx3 = x2;\\n\\n// perspective calculation\\n\\np = tan(asin(1) + atan2(d+z3,sqrt(x3*x3 + y3*y3)));\\nd = sqrt(x3*x3 + y3*y3 + (z3+d)*(z3+d));\\n\\nrad = rad/d;\\nmy_x = zoom*sin(atan2(x3,y3))*p;\\nmy_y = zoom*cos(atan2(x3,y3))*p;\\n\\nx = 0.5 + my_x;\\ny = 0.5 + my_y;\\n\\nx = 0.5 + (x-0.5)/q2;\\ny = 0.5 + (y-0.5)/q1;"},{"baseVals":{"sides":12,"additive":1,"num_inst":512,"y":0.55,"rad":0.2667,"tex_zoom":0.7874,"r":0,"g":0.1,"b":0.55,"g2":0,"border_a":0,"enabled":0},"init_eqs_eel":"started = 0;\\nt1 = 0.412; //seeds for pseudo random generator\\nt2 = 0.4563;\\nt3 = 0.6452;\\nt4 = 0.2565;","frame_eqs_eel":"rnd1 = if(equal(instance,0),t1,rnd1);\\nrnd2 = if(equal(instance,0),t2,rnd2);\\nrnd3 = if(equal(instance,0),t3,rnd3);\\nrnd4 = if(equal(instance,0),t4,rnd4);\\nrnd1 = 4*rnd1*(1-rnd1);\\nrnd2 = 4*rnd2*(1-rnd2);\\nrnd3 = 4*rnd3*(1-rnd3);\\nrnd4 = 4*rnd4*(1-rnd4);\\nt = .6;\\nt =  (rnd1+time*t) - int(rnd1+time*t);\\nt = t + rnd2*0.1;\\nwh = rnd4*asin(1)*4;\\nwv = 0.25 + rnd3*0.1;\\n\\nd = 6; // makes the perspective impact\\nzoom = 1;\\nl = 1;\\n\\n// Kardan angles\\n\\nw1 = q3; // first rotation: clockwise in the desktop pane\\nw2 = q4; // rotation around vertical axis\\nw3 = q5; // rotation around horizontal axis\\n\\n\\n// definition of the 3D shape\\n\\ni = instance;\\n\\nmy_x = t *(cos(wh)*sin(wv)*l)*4;\\nmy_z = (-0.5 +(t-0.75)*(t-0.75))*cos(wv)*l*4;\\nmy_y = t*(sin(wh)*sin(wv)*l)*4;\\n\\n\\n// 3D rotations\\n\\nx1 = cos(w1)*my_x + sin(w1)*my_y;\\ny1 = -sin(w1)*my_x + cos(w1)*my_y;\\nz1 = my_z;\\n\\nx2 = cos(w2)*x1 + sin(w2)*z1;\\nz2 = -sin(w2)*x1 + cos(w2)*z1;\\ny2 = y1;\\n\\ny3 = cos(w3)*y2 + sin(w3)*z2;\\nz3 = -sin(w3)*y2 + cos(w3)*z2;\\nx3 = x2;\\n\\n// perspective calculation\\n\\np = tan(asin(1) + atan2(d+z3,sqrt(x3*x3 + y3*y3)));\\nd = sqrt(x3*x3 + y3*y3 + (z3+d)*(z3+d));\\n\\nrad = rad/d;\\nmy_x = zoom*sin(atan2(x3,y3))*p;\\nmy_y = zoom*cos(atan2(x3,y3))*p;\\n\\nx = 0.5 + my_x;\\ny = 0.5 + my_y;\\n\\nx = 0.5 + (x-0.5)/q2;\\ny = 0.5 + (y-0.5)/q1;"},{"baseVals":{"sides":12,"additive":1,"num_inst":512,"y":0.55,"rad":0.05012,"tex_zoom":0.7874,"r":0,"g":0.02,"b":0.11,"g2":0,"border_a":0,"enabled":0},"init_eqs_eel":"started = 0;\\nt1 = 0.412; //seeds for pseudo random generator\\nt2 = 0.4563;\\nt3 = 0.6452;\\nt4 = 0.2565;","frame_eqs_eel":"rnd1 = if(equal(instance,0),t1,rnd1);\\nrnd2 = if(equal(instance,0),t2,rnd2);\\nrnd3 = if(equal(instance,0),t3,rnd3);\\nrnd4 = if(equal(instance,0),t4,rnd4);\\nrnd1 = 4*rnd1*(1-rnd1);\\nrnd2 = 4*rnd2*(1-rnd2);\\nrnd3 = 4*rnd3*(1-rnd3);\\nrnd4 = 4*rnd4*(1-rnd4);\\nt = .6;\\nt =  (rnd1+time*t) - int(rnd1+time*t);\\nt = t + rnd2*0.1;\\nwh = rnd4*asin(1)*4;\\nwv = 0.25 + rnd3*0.1;\\n\\nd = 1.4; // makes the perspective impact\\nzoom = 1;\\nl = 1;\\n\\n// Kardan angles\\n\\nw1 = q3; // first rotation: clockwise in the desktop pane\\nw2 = q4; // rotation around vertical axis\\nw3 = q5; // rotation around horizontal axis\\n\\n\\n// definition of the 3D shape\\n\\ni = instance;\\n\\nmy_x = t *(cos(wh)*sin(wv)*l);\\nmy_y = (-0.5 +(t-0.75)*(t-0.75))*cos(wv)*l;\\nmy_z = t*(sin(wh)*sin(wv)*l);\\n\\n\\n// 3D rotations\\n\\nx1 = cos(w1)*my_x + sin(w1)*my_y;\\ny1 = -sin(w1)*my_x + cos(w1)*my_y;\\nz1 = my_z;\\n\\nx2 = cos(w2)*x1 + sin(w2)*z1;\\nz2 = -sin(w2)*x1 + cos(w2)*z1;\\ny2 = y1;\\n\\ny3 = cos(w3)*y2 + sin(w3)*z2;\\nz3 = -sin(w3)*y2 + cos(w3)*z2;\\nx3 = x2;\\n\\n// perspective calculation\\n\\np = tan(asin(1) + atan2(d+z3,sqrt(x3*x3 + y3*y3)));\\nd = sqrt(x3*x3 + y3*y3 + (z3+d)*(z3+d));\\n\\nrad = rad/d;\\nmy_x = zoom*sin(atan2(x3,y3))*p;\\nmy_y = zoom*cos(atan2(x3,y3))*p;\\n\\nx = 0.5 + my_x;\\ny = 0.5 + my_y;\\n\\nx = 0.5 + (x-0.5)/q2;\\ny = 0.5 + (y-0.5)/q1;"}],"waves":[{"baseVals":{"samples":495,"sep":4,"spectrum":1,"thick":1,"additive":1,"scaling":100,"smoothing":1,"a":0.21,"enabled":0},"init_eqs_eel":"t2 = 0;\\nt3 = 0;\\nt4 = 0;\\nab = 1;","frame_eqs_eel":"","point_eqs_eel":"// lorenz-attractor calc\\nxx1 = if(equal(sample,0),q11,xx1);\\nyy1 = if(equal(sample,0),q12,yy1);\\nzz1 = if(equal(sample,0),q13,zz1);\\ndx1 = q14*(yy1-xx1);\\ndy1 = xx1*(q15-zz1)-yy1;\\ndz1 = xx1*yy1-q16*zz1;\\nxx1 = xx1 + q17*dx1;\\nyy1 = yy1 + q17*dy1;\\nzz1 = zz1 + q17*dz1;\\n\\n// 3D model coordinates\\nmy_x = xx1*0.1;\\nmy_y = yy1*0.1;\\nmy_z = zz1*0.1 - 3;\\n\\n\\nd = 5; // distance of the camera (on the z-axis) to the origin\\nzoom = 0.4;\\n\\n// solid angles\\nw1 = q2;\\nw2 = q3;\\nw3 = q4;\\n\\n// rotations\\nx1 = cos(w1)*my_x + sin(w1)*my_y;\\ny1 = -sin(w1)*my_x + cos(w1)*my_y;\\nz1 = my_z;\\n\\nx2 = cos(w2)*x1 + sin(w2)*z1;\\nz2 = -sin(w2)*x1 + cos(w2)*z1;\\ny2 = y1;\\n\\ny3 = cos(w3)*y2 + sin(w3)*z2;\\nz3 = -sin(w3)*y2 + cos(w3)*z2;\\nx3 = x2;\\n\\n// perspective calculation\\n\\nl = sqrt(x3*x3 + y3*y3);\\nw = atan2(x3,y3);\\np = tan(asin(1) + atan2(d+z3,l));\\nd = sqrt(x3*x3 + y3*y3 + (z3+d)*(z3+d));\\n\\nmy_x = zoom*sin(w)*p;\\nmy_y = zoom*cos(w)*p;\\n\\nx = 0.5 + my_x;\\ny = 0.5 + my_y;"},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":"xx1 = if(equal(sample,0),q11,xx1);\\nyy1 = if(equal(sample,0),q12,yy1);\\nzz1 = if(equal(sample,0),q13,zz1);\\n\\ndx1 = q14*(yy1-xx1);\\ndy1 = xx1*(q15-zz1)-yy1;\\ndz1 = xx1*yy1-q16*zz1;\\nxx1 = xx1 + q17*dx1;\\nyy1 = yy1 + q17*dy1;\\nzz1 = zz1 + q17*dz1;\\n\\nmy_x = xx1*0.02;\\nmy_y = yy1*0.02;\\nmy_z = zz1*0.02;\\n\\nx = 0.5 + my_x;\\ny = 0.5 + my_y;"},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""}],"init_eqs_eel":"step = 0;","frame_eqs_eel":"dec_med = pow (0.9, 30/fps);\\ndec_slow = pow (0.96, 30/fps);\\ndec_fast = pow (0.6, 30/fps);\\nbeat = max (max (bass, mid), treb); \\navg = avg*dec_slow + beat*(1-dec_slow);\\nis_beat = above(beat, 0+avg+peak) * above (time, t0+.1);\\nt0 = is_beat*time + (1-is_beat)*t0;\\npeak = is_beat * beat + (1-is_beat)*peak*dec_med;\\nindex = (index + is_beat) %16;\\nindex2 = (index2 + is_beat*bnot(index))%8;\\n\\nq20 = avg;\\nq21 = beat;\\nq22 = peak;\\nq24 = is_beat;\\nvol = bass_att + mid_att + treb_att;\\nvol_ = dec_med * vol_ + (1-dec_med)* vol;\\nvol__ = dec_med * vol__ + (1-dec_med)* vol_;\\nq27 = index + 1;\\nq28 = index2 + 1;\\nq23 = q22 -0.1/q22;\\nq23 = max(q23,1);\\n\\nk1 =  is_beat*equal(index%8,0);\\np1 =  k1*(p1+1) + (1-k1)*p1;\\np2 = dec_fast * p2+ (1-dec_fast)*p1;\\nrott = p2 * 3.1416/4;\\n\\nq1 = cos(rott);\\nq2 = sin(rott);\\nq3 = -q2;\\nq4 = q1;\\n\\ntrig = q24 * bnot(index%2);\\nvx = vx*bnot(trig) + trig* (int(rand(100))/100-.5);\\nvy = vy*bnot(trig) + trig* (int(rand(100))/100-.5);\\nq10 = 0.2+vy*vy*2;\\nq11 = sin(time/9)/2+.4;\\nmovz = movz-1/fps*(.3+vx);\\nq9 = movz;\\n\\nq12 = min(q22,6)*2;\\nq13 = min(2,1+abs(8*vy*vx));\\n//dir_ = dec_med*dir_ + (1-dec_med)*(index2%2-.5);\\ndir_ =  bass-1;\\n\\ntrig = bnot(index%4) * q24;\\ndir = bnot(trig)*dir + trig*(int(rand(10))-5);\\n\\ntrel = trel + .1/fps*dir;\\ntrel_ = dec_med*trel_ + (1-dec_med)*trel;\\n\\nq5 = cos(trel_);\\nq6 = sin(trel_+0*q27*(q28%2));\\nq7 = -q6;\\nq8 = q5;\\n\\nzoom = 1.02;\\nrot = .5*sin(bnot(q28%2)*q28) ;\\nrot = .0*sin(time/3);\\ndx = .0;\\n\\nmonitor = q11;","pixel_eqs_eel":"","warp":" shader_body { \\n  vec2 tmpvar_1;\\n  tmpvar_1 = ((uv * texsize.xy) * 0.08);\\n  vec3 tmpvar_2;\\n  tmpvar_2 = (texture (sampler_main, (uv - (\\n    ((sin(tmpvar_1) / cos(tmpvar_1)) * texsize.zw)\\n   * 3.0))).xyz + (vec3(dot (texture (sampler_noise_lq, \\n    ((((texsize.xy * texsize_noise_lq.zw).x * uv) * 0.02) + (0.1 * rand_frame).xy)\\n  ), vec4(0.32, 0.49, 0.29, 0.0))) / 30.0));\\n  vec4 tmpvar_3;\\n  tmpvar_3.w = 1.0;\\n  tmpvar_3.xyz = ((mix (tmpvar_2, \\n    (1.0 - tmpvar_2.zyx)\\n  , vec3(0.01, 0.01, 0.01)) - 0.03) - (0.2 * pow (\\n    (1.0 - rad)\\n  , 18.0)));\\n  ret = tmpvar_3.xyz;\\n }","comp":"vec3 xlat_mutableneu;\\nvec2 xlat_mutablers0;\\nvec2 xlat_mutablerss;\\nvec2 xlat_mutableuv2;\\n shader_body { \\n  vec2 uv_1;\\n  vec2 ofs_2;\\n  vec3 ret1_3;\\n  uv_1 = ((uv - 0.5) * aspect.xy);\\n  vec2 tmpvar_4;\\n  tmpvar_4.x = q5;\\n  tmpvar_4.y = q6;\\n  uv_1 = (uv_1 + (tmpvar_4 / 4.0));\\n  mat2 tmpvar_5;\\n  tmpvar_5[uint(0)] = _qb.xy;\\n  tmpvar_5[1u] = _qb.zw;\\n  uv_1 = (uv_1 * tmpvar_5);\\n  float tmpvar_6;\\n  float tmpvar_7;\\n  tmpvar_7 = (min (abs(\\n    (uv_1.y / uv_1.x)\\n  ), 1.0) / max (abs(\\n    (uv_1.y / uv_1.x)\\n  ), 1.0));\\n  float tmpvar_8;\\n  tmpvar_8 = (tmpvar_7 * tmpvar_7);\\n  tmpvar_8 = (((\\n    ((((\\n      ((((-0.01213232 * tmpvar_8) + 0.05368138) * tmpvar_8) - 0.1173503)\\n     * tmpvar_8) + 0.1938925) * tmpvar_8) - 0.3326756)\\n   * tmpvar_8) + 0.9999793) * tmpvar_7);\\n  tmpvar_8 = (tmpvar_8 + (float(\\n    (abs((uv_1.y / uv_1.x)) > 1.0)\\n  ) * (\\n    (tmpvar_8 * -2.0)\\n   + 1.570796)));\\n  tmpvar_6 = (tmpvar_8 * sign((uv_1.y / uv_1.x)));\\n  if ((abs(uv_1.x) > (1e-08 * abs(uv_1.y)))) {\\n    if ((uv_1.x < 0.0)) {\\n      if ((uv_1.y >= 0.0)) {\\n        tmpvar_6 += 3.141593;\\n      } else {\\n        tmpvar_6 = (tmpvar_6 - 3.141593);\\n      };\\n    };\\n  } else {\\n    tmpvar_6 = (sign(uv_1.y) * 1.570796);\\n  };\\n  xlat_mutablers0.x = (((tmpvar_6 / 3.1416) * 6.0) * q28);\\n  xlat_mutablers0.y = inversesqrt(dot (uv_1, uv_1));\\n  vec2 tmpvar_9;\\n  tmpvar_9.x = (xlat_mutablers0.x + (q9 * 8.0));\\n  tmpvar_9.y = (xlat_mutablers0.y + ((q9 * q28) * 4.0));\\n  xlat_mutablerss = (tmpvar_9 / 12.0);\\n  vec2 tmpvar_10;\\n  tmpvar_10.x = q5;\\n  tmpvar_10.y = q6;\\n  ofs_2 = (0.1 * tmpvar_10.yx);\\n  float tmpvar_11;\\n  float tmpvar_12;\\n  tmpvar_12 = -(q9);\\n  tmpvar_11 = fract(tmpvar_12);\\n  mat2 tmpvar_13;\\n  tmpvar_13[uint(0)].x = 1.0;\\n  tmpvar_13[uint(0)].y = -0.0;\\n  tmpvar_13[1u].x = 0.0;\\n  tmpvar_13[1u].y = 1.0;\\n  xlat_mutableuv2 = ((uv_1 * (\\n    (q13 * tmpvar_11)\\n   * tmpvar_13)) * aspect.yx);\\n  vec2 tmpvar_14;\\n  tmpvar_14 = fract(((xlat_mutableuv2 + 0.5) + ofs_2));\\n  xlat_mutableneu = (texture (sampler_main, tmpvar_14).xyz + ((texture (sampler_blur1, tmpvar_14).xyz * scale1) + bias1));\\n  ret1_3 = max (vec3(0.0, 0.0, 0.0), ((xlat_mutableneu * \\n    (1.0 - (tmpvar_11 * tmpvar_11))\\n  ) * 2.0));\\n  float tmpvar_15;\\n  tmpvar_15 = fract((tmpvar_12 + 0.3333333));\\n  mat2 tmpvar_16;\\n  tmpvar_16[uint(0)].x = -0.4990803;\\n  tmpvar_16[uint(0)].y = -0.8665558;\\n  tmpvar_16[1u].x = 0.8665558;\\n  tmpvar_16[1u].y = -0.4990803;\\n  xlat_mutableuv2 = ((uv_1 * (\\n    (q13 * tmpvar_15)\\n   * tmpvar_16)) * aspect.yx);\\n  vec2 tmpvar_17;\\n  tmpvar_17 = fract(((xlat_mutableuv2 + 0.5) + ofs_2));\\n  xlat_mutableneu = (texture (sampler_main, tmpvar_17).xyz + ((texture (sampler_blur1, tmpvar_17).xyz * scale1) + bias1));\\n  ret1_3 = max (ret1_3, ((xlat_mutableneu * \\n    (1.0 - (tmpvar_15 * tmpvar_15))\\n  ) * 2.0));\\n  float tmpvar_18;\\n  tmpvar_18 = fract((tmpvar_12 + 0.6666667));\\n  mat2 tmpvar_19;\\n  tmpvar_19[uint(0)].x = -0.5018377;\\n  tmpvar_19[uint(0)].y = 0.8649619;\\n  tmpvar_19[1u].x = -0.8649619;\\n  tmpvar_19[1u].y = -0.5018377;\\n  xlat_mutableuv2 = ((uv_1 * (\\n    (q13 * tmpvar_18)\\n   * tmpvar_19)) * aspect.yx);\\n  vec2 tmpvar_20;\\n  tmpvar_20 = fract(((xlat_mutableuv2 + 0.5) + ofs_2));\\n  xlat_mutableneu = (texture (sampler_main, tmpvar_20).xyz + ((texture (sampler_blur1, tmpvar_20).xyz * scale1) + bias1));\\n  ret1_3 = max (ret1_3, ((xlat_mutableneu * \\n    (1.0 - (tmpvar_18 * tmpvar_18))\\n  ) * 2.0));\\n  float tmpvar_21;\\n  tmpvar_21 = fract((tmpvar_12 + 1.0));\\n  mat2 tmpvar_22;\\n  tmpvar_22[uint(0)].x = 0.9999949;\\n  tmpvar_22[uint(0)].y = 0.003185092;\\n  tmpvar_22[1u].x = -0.003185092;\\n  tmpvar_22[1u].y = 0.9999949;\\n  xlat_mutableuv2 = ((uv_1 * (\\n    (q13 * tmpvar_21)\\n   * tmpvar_22)) * aspect.yx);\\n  vec2 tmpvar_23;\\n  tmpvar_23 = fract(((xlat_mutableuv2 + 0.5) + ofs_2));\\n  xlat_mutableneu = (texture (sampler_main, tmpvar_23).xyz + ((texture (sampler_blur1, tmpvar_23).xyz * scale1) + bias1));\\n  ret1_3 = max (ret1_3, ((xlat_mutableneu * \\n    (1.0 - (tmpvar_21 * tmpvar_21))\\n  ) * 2.0));\\n  vec2 tmpvar_24;\\n  tmpvar_24.x = (ret1_3.x + ret1_3.z);\\n  tmpvar_24.y = (ret1_3.x - ret1_3.y);\\n  vec4 tmpvar_25;\\n  tmpvar_25.w = 1.0;\\n  tmpvar_25.xyz = ((ret1_3 + (\\n    ((bass_att * 0.004) / sqrt(dot (uv_1, uv_1)))\\n   * roam_sin).xyz) + ((2.0 * \\n    (bass_att * ((texture (sampler_blur1, fract(\\n      (xlat_mutablerss + (tmpvar_24 / 2.0))\\n    )).xyz * scale1) + bias1).zxy)\\n  ) * clamp (\\n    (1.0 - (ret1_3 * 4.0))\\n  , 0.0, 1.0)));\\n  ret = tmpvar_25.xyz;\\n }"}') }, "./presets/converted/Cope - The Neverending Explosion of Red Liquid Fire.json": e => { e.exports = JSON.parse('{"version":2,"baseVals":{"rating":0,"gammaadj":1.14,"decay":1,"echo_zoom":1,"wave_mode":1,"wave_thick":1,"modwavealphabyvolume":1,"wave_brighten":0,"wrap":0,"darken":1,"wave_a":0.001,"wave_scale":0.179,"wave_smoothing":0,"wave_mystery":0.3,"modwavealphastart":0.71,"modwavealphaend":1.3,"warpscale":1.331,"zoomexp":0.8195,"zoom":1.0697,"dy":0.006,"warp":0.01,"sx":0.9996,"wave_g":0,"wave_b":0,"ob_a":0.8,"ib_size":0,"ib_r":0,"ib_g":0,"ib_b":0,"ib_a":1,"mv_x":0,"mv_y":0,"mv_l":1,"mv_g":0.91,"mv_b":0.71,"mv_a":0},"shapes":[{"baseVals":{"sides":63,"rad":0.01,"ang":3.4054,"tex_ang":3.1415,"tex_zoom":1.6446,"r":0,"a":0.4,"g2":0,"border_g":0,"border_b":0,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"rad = rad + 0.1*q3;"},{"baseVals":{"sides":34,"textured":1,"rad":0.18167,"tex_ang":3.1415,"tex_zoom":5.42789,"g":1,"b":1,"r2":1,"b2":1,"a2":1,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"sides":54,"x":0,"y":0.6,"rad":0.13478,"r":0.7,"g":0.6,"b":0.7,"r2":0.6,"g2":0.6,"b2":0.6,"a2":1,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"//r = r + 0.3*(0.6*sin(time*1.87) + 0.4*sin(1.98*time));\\n//b = b + 0.3*(0.6*sin(time*1.3434) + 0.4*sin(1.78*time));\\n//g = g + 0.3*(0.6*sin(time*1.9887) + 0.4*sin(1.6*time));\\nr=0;\\nb=0;\\ng=0;\\nr2=r;\\nb2=b;\\ng2=g;"},{"baseVals":{"x":0,"y":0.2,"rad":0.20068,"r":0,"g2":0,"a2":1,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""}],"waves":[{"baseVals":{"scaling":0.3696,"r":0,"g":0,"b":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""}],"init_eqs_eel":"","frame_eqs_eel":"bass_thresh = above(bass_att,bass_thresh)*2 + (1-above(bass_att,bass_thresh))*((bass_thresh-1.3)*0.91+1.3);\\n\\nwave_r = 0.5 + 0.5*(0.6*sin(time*1.3) + 0.4*sin(0.98*time));\\nwave_b = 0.5 + 0.5*(0.6*sin(time*1.1) + 0.4*sin(0.78*time));\\nwave_g = 0.5 + 0.5*(0.6*sin(time*1.2) + 0.4*sin(0.6*time));\\n\\nq8=wave_r;\\nq7=wave_b;\\nq6=wave_g;\\n\\nwr = 0.5+0.4*(0.6*sin(time*0.2) + 0.4*sin(0.8*time));\\nwb = 0.5+0.4*(0.6*sin(time*0.377) + 0.4*sin(0.5*time));\\nwg = 0.5+0.4*(0.6*sin(time*0.7) + 0.4*sin(0.4*time));\\n\\nq10=wr;//*above(bass_thresh, 1.9)*1;\\nq11=wb;//*above(bass_thresh, 1.9)*1;\\nq12=wg;//*above(bass_thresh, 1.9)*1;\\n\\nq10=0.8;\\nq11=0.2;\\nq12=0.1;\\n\\n\\nq18 = 0.01*sin(mtime*0.1);\\nq17 = -0.01*sin(mtime*0.254);\\nq2=bass_thresh;\\n\\nvol=(bass+mid+treb)*0.25;\\nvol=vol*vol;\\nq3=vol;\\nq5=vol*0.5;\\nmtime=mtime+vol*0.01;\\nq2=mtime*0.25;","pixel_eqs_eel":"","warp":" shader_body { \\n  vec3 noise2_1;\\n  vec3 ret_2;\\n  vec3 tmpvar_3;\\n  tmpvar_3 = (((texture (sampler_blur1, uv).xyz * scale1) + bias1) + texture (sampler_main, uv).xyz);\\n  vec2 tmpvar_4;\\n  tmpvar_4 = (0.5 + ((uv - 0.5) * (1.0 + \\n    (tmpvar_3.y * 0.05)\\n  )));\\n  vec2 tmpvar_5;\\n  tmpvar_5.x = (tmpvar_4.x + pow (tmpvar_3.x, q17));\\n  tmpvar_5.y = (tmpvar_4.y + pow (tmpvar_3.x, q18));\\n  vec4 tmpvar_6;\\n  tmpvar_6 = texture (sampler_fc_main, fract(tmpvar_5));\\n  vec3 tmpvar_7;\\n  tmpvar_7.x = q10;\\n  tmpvar_7.y = q11;\\n  tmpvar_7.z = q12;\\n  noise2_1 = (texture (sampler_noise_lq, ((\\n    (uv_orig * texsize.xy)\\n   * texsize_noise_lq.zw) + rand_frame.xy)).xyz + ((tmpvar_7 * vec3(rad)) * vol));\\n  vec3 a_8;\\n  a_8 = (1.0 - tmpvar_6.xyz);\\n  ret_2 = (tmpvar_6.xyz + (0.3 * clamp (\\n    ((a_8.yzx * noise2_1.zxy) - (a_8.zxy * noise2_1.yzx))\\n  , 0.0, 1.0)));\\n  ret_2 = (ret_2 * 0.97);\\n  vec4 tmpvar_9;\\n  tmpvar_9.w = 1.0;\\n  tmpvar_9.xyz = ret_2;\\n  ret = tmpvar_9.xyz;\\n }","comp":" shader_body { \\n  vec3 ret_1;\\n  ret_1 = (texture (sampler_main, uv).xyz * vec3(0.9, 0.3, 0.5));\\n  ret_1 = (ret_1 * 1.34);\\n  ret_1 = (ret_1 * ret_1);\\n  vec4 tmpvar_2;\\n  tmpvar_2.w = 1.0;\\n  tmpvar_2.xyz = ret_1;\\n  ret = tmpvar_2.xyz;\\n }"}') }, "./presets/converted/Eo.S. + Zylot - skylight (Stained Glass Majesty mix).json": e => { e.exports = JSON.parse('{"version":1,"baseVals":{"rating":5,"decay":0.95,"echo_zoom":1.006596,"echo_orient":1,"wave_mode":2,"wave_dots":1,"wave_brighten":0,"wave_a":0.019788,"wave_scale":0.011726,"wave_smoothing":0.9,"warpanimspeed":0.010284,"warpscale":0.01,"fshader":1,"warp":0.01,"wave_r":0.5,"wave_g":0.4,"wave_b":0.3,"ob_size":0,"ob_r":0.11,"ob_b":0.1,"ib_size":0.005,"ib_r":0,"ib_g":0,"ib_b":0,"ib_a":1,"mv_x":31.999994,"mv_y":24.000004,"mv_dx":0.02,"mv_dy":-0.02,"mv_l":1,"mv_r":0.49,"mv_g":0.48,"mv_b":0.300001,"mv_a":0},"shapes":[{"baseVals":{"enabled":1,"textured":1,"rad":1.670888,"tex_ang":0.942478,"tex_zoom":0.534261,"g":1,"b":1,"r2":1,"b2":1,"a2":1,"border_a":0.17},"init_eqs_eel":"","frame_eqs_eel":"flux=q5*9;\\nfluxs=max(flux,0);\\nfluxs=min(fluxs,1);\\nadvflux=(q3*fluxs) + (-q3 * (1-fluxs));\\nadv=adv+advflux;\\nadvs=adv/256;\\n\\n\\nang=advs;\\nrad=1.671 + q3/25"},{"baseVals":{"sides":3,"x":0.35,"g":1,"b":1,"g2":0,"b2":0.1,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"y=0.1 + q2*0.4;\\nrad=q2/2;\\nang=-q2*2"},{"baseVals":{"enabled":1,"sides":3,"x":0.59,"rad":0.444842,"r":0,"r2":0.1,"g2":0.05,"border_a":0},"init_eqs_eel":"dir = 3;\\nmover = 0;\\nrotator = .255","frame_eqs_eel":"ang = rotator;\\nx = if(equal(dir,1),1 - mover,if(equal(dir,1.5),.15,if(equal(dir,2),0,if(equal(dir,2.5),0, if(equal(dir,3),0+mover,if(equal(dir,3.5),1,if(equal(dir,4),1,1)))))));\\ny = if(equal(dir,1),1,if(equal(dir,1.5),1,if(equal(dir,2),1 - mover,if(equal(dir,2.5),0, if(equal(dir,3),0,if(equal(dir,3.5),0,if(equal(dir,4),0+mover,1)))))));\\nmover = if(equal(dir,1),mover + .005,if(equal(dir,1.5),0,if(equal(dir,2),mover + .005,if(equal(dir,2.5),0, if(equal(dir,3),mover+.005,if(equal(dir,3.5),0,if(equal(dir,4),mover+.005,0)))))));\\ndir = if(equal(dir,1),if(above(mover,.995),1.5,dir),if(equal(dir,1.5),if(below(rotator,-1.29),2,dir), if(equal(dir,2),if(above(mover,.995),2.5,dir),if(equal(dir,2.5),if(below(rotator,-2.85),3,dir), if(equal(dir,3),if(above(mover,.995),3.5,dir),if(equal(dir,3.5),if(below(rotator,-4.44),4,dir), if(equal(dir,4),if(above(mover,.995),4.5,dir),if(equal(dir,4.5),if(below(rotator,-5.94),1,dir),dir))))))));\\nrotator = if(equal(dir,1.5),if(above(rotator,-1.31),rotator - .05,rotator),if(equal(dir,2),-1.3, if(equal(dir,2.5),if(above(rotator,-2.87),rotator-.05,rotator),if(equal(dir,3),-2.86, if(equal(dir,3.5),if(above(rotator,-4.46),rotator-.05,rotator),if(equal(dir,4),-4.45, if(equal(dir,4.5),if(above(rotator,-5.97),rotator-.05,rotator),if(equal(dir,4),-5.96,.26))))))));\\n\\n//Ok, enough with the crazy ifs, we got our tram moving, now for some reaction.\\n\\nb = above(mid,1.5);\\nr2 = above(mid,1.5);\\ng2 = above(mid,1.5);\\nb2 = above(mid,1.5);"},{"baseVals":{"enabled":1,"sides":3,"additive":1,"x":0.84,"r":0.98,"g":1,"b":0.98,"a":0.3,"g2":0.09,"border_a":0},"init_eqs_eel":"","frame_eqs_eel":"x=sin(time/2)*0.4 + 0.5;\\ny=sin(time)*0.4+0.5;\\nrad=(q1*q1)/2;;\\nang=q1*4;\\n\\nr=0.70 + (sin(time/2))*0.50;\\ng=0.70 + (sin(time/2 + 2)) * 0.50;\\nb=0.70 + (sin(time/2 + 4)) * 0.5"}],"waves":[{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""}],"init_eqs_eel":"mv_x=64;mv_y=48;\\nnut=0;\\nstp=0;stq=0;\\nrtp=0;rtq=0;\\nwvr=0;\\ndecay=0;\\ndcsp=0;\\nq1=0;q2=0;q3=0","frame_eqs_eel":"decay=1;\\nzoom=1.000;\\nspeed=0.80;\\nspeedinv=1-speed;\\nq1=(qa*speed + bass*speedinv);\\nq2=(qb*speed + mid *speedinv);\\nq3=(qc*speed + treb*speedinv);\\nqa=q1;\\nqb=q2;\\nqc=q3;\\nflux=sin(time/2);\\nq4=flux * 0.5 + 0.5;\\nq5=flux","pixel_eqs_eel":"","warp":"","comp":""}') }, "./presets/converted/Eo.S. - glowsticks v2 05 and proton lights (+Krashs beat code) _Phat_remix02b.json": e => { e.exports = JSON.parse('{"version":1,"baseVals":{"rating":0,"gammaadj":1.21,"decay":0.96,"echo_zoom":0.99663,"echo_orient":1,"wave_mode":2,"wave_dots":1,"wave_brighten":0,"brighten":1,"invert":1,"wave_a":0.001,"wave_scale":0.011726,"wave_smoothing":0.9,"warpanimspeed":0.037492,"warpscale":0.014889,"warp":0.033004,"wave_r":0.5,"wave_g":0.4,"wave_b":0.3,"ob_size":0.055,"ob_r":1,"ob_g":1,"ob_b":1,"ob_a":1,"ib_size":0,"ib_r":0,"ib_g":0,"ib_b":0,"mv_x":0,"mv_y":43.199997,"mv_l":1,"mv_g":0.91,"mv_b":0.71,"mv_a":0},"shapes":[{"baseVals":{"sides":5,"textured":1,"rad":1.06779,"ang":0.753982,"tex_zoom":0.779769,"g":1,"b":1,"r2":1,"b2":1,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"ang=sin(q1*0.15);\\nx=sin(q1*0.5) * 0.05 + 0.5;\\ny=cos(q1*0.63)* 0.05 + 0.5"},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"sides":5,"additive":1,"rad":0.038091,"g":1,"b":1,"g2":0.6,"b2":1,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"tm=q1;\\n\\nxp=0;\\nyp=0.1;\\nzp=0;\\n\\n//wrist movement;\\nang=sin(tm*2 )*0.5 +0.5;\\n\\nxq=xp;\\nsinang=sin(ang);cosang=cos(ang);\\nyq=yp*sinang + zp*cosang;\\nzq=yp*cosang - zp*sinang;\\nyq=yp;\\nzq=zp;\\n\\nang=tm*8;\\nsinang=sin(ang);cosang=cos(ang);\\nxp=xq*sinang + yq*cosang;\\nyp=xq*cosang - yq*sinang;\\nzp=zq;\\n\\n//forearm movement;\\nzp=zp-0.3;\\nang=3.14 + sin(tm*2 - 0.5)*1.5;\\nsinang=sin(ang);cosang=cos(ang);\\nxq=xp;\\nyq=yp*sinang + zp*cosang;\\nzq=yp*cosang - zp*sinang;\\n\\n//upper arm twist\\nang=-1.0 + cos(tm*3.1 + 0.5);\\nsinang=sin(ang);cosang=cos(ang);\\nxp=xq*sinang + yq*cosang;\\nyp=xq*cosang - yq*sinang;\\nzp=zq;\\n\\n//upper arm outward;\\nzp=zp-0.35;\\nang=cos(tm*2.3)*1.75 - 1.05;\\nsinang=sin(ang);cosang=cos(ang);\\nxq=xp*sinang + zp*cosang;\\nyq=yp;\\nzq=xp*cosang - zp*sinang;\\n\\n//upper arm up down;\\nang=cos(tm)*0.5 - 0.5;\\nsinang=sin(ang);cosang=cos(ang);\\nxp=xq;\\nyp=yq*cosang - zq*sinang;\\nzp=yq*sinang + zq*cosang;\\n\\n//xp=xq;yp=yq;zp=zq;\\n\\n\\n//project into screenspace and draw on screen\\nzp=zp+2;\\nxs=xp/zp;\\nys=yp/zp;\\n\\nx=xs+0.5;\\ny=ys*1.3+0.5;\\n\\n\\n\\n"}],"waves":[{"baseVals":{"enabled":1,"r":0.1,"b":0.7},"init_eqs_eel":"","frame_eqs_eel":"t1=sin(time)*0.5+0.5;\\nt2=sin(time+2.1)*0.5+0.5;\\nt3=sin(time+4.2)*0.5+0.5;\\n\\nt4=sin(time+1.1)*0.5+0.5;\\nt5=sin(time+3.1)*0.5+0.5;\\nt6=sin(time+5.2)*0.5+0.5;","point_eqs_eel":"n=sample*6.283;\\nphs=-sample * 0.2;\\ntm=q1 + phs;\\n\\nflip=flip+1;\\nflip=flip*below(flip,2);\\n\\nxp=0;\\nyp=flip*0.1 + (sin(tm)*0.5 + 0.5)*0.2;\\nzp=0;\\n\\n//wrist movement;\\nang=sin(tm*2 )*0.5 +0.5;\\n\\nxq=xp;\\nsinang=sin(ang);cosang=cos(ang);\\nyq=yp*sinang + zp*cosang;\\nzq=yp*cosang - zp*sinang;\\nyq=yp;\\nzq=zp;\\n\\nang=tm*8;\\nsinang=sin(ang);cosang=cos(ang);\\nxp=xq*sinang + yq*cosang;\\nyp=xq*cosang - yq*sinang;\\nzp=zq;\\n\\n//forearm movement;\\nzp=zp-0.3;\\nang=3.14 + sin(tm*2 - 0.5)*1.5;\\nsinang=sin(ang);cosang=cos(ang);\\nxq=xp;\\nyq=yp*sinang + zp*cosang;\\nzq=yp*cosang - zp*sinang;\\n\\n//upper arm twist\\nang=-1.0 + cos(tm*3.1 + 0.5);\\nsinang=sin(ang);cosang=cos(ang);\\nxp=xq*sinang + yq*cosang;\\nyp=xq*cosang - yq*sinang;\\nzp=zq;\\n\\n//upper arm outward;\\nzp=zp-0.35;\\nang=cos(tm*2.3)*1.75 - 1.05;\\nsinang=sin(ang);cosang=cos(ang);\\nxq=xp*sinang + zp*cosang;\\nyq=yp;\\nzq=xp*cosang - zp*sinang;\\n\\n//upper arm up down;\\nang=cos(tm)*0.5 - 0.5;\\nsinang=sin(ang);cosang=cos(ang);\\nxp=xq;\\nyp=yq*cosang - zq*sinang;\\nzp=yq*sinang + zq*cosang;\\n\\n//xp=xq;yp=yq;zp=zq;\\n\\n\\n//project into screenspace and draw on screen\\nzp=zp+2;\\nxs=xp/zp;\\nys=yp/zp;\\n\\nx=xs+0.5;\\ny=ys*1.3+0.5;\\n\\n\\na=if( equal(q8,1) , (1-sample) , sample);\\na=a*a;\\n\\nb=b+pow(1-sample,2)*0.3;\\n\\n\\n\\nr1=t1;\\ng1=t2;\\nb1=t3;\\nr2=t4;\\ng2=t5;\\nb2=t6;\\n\\nr=r1*flip + r2*(1-flip);\\ng=g1*flip + g2*(1-flip);\\nb=b1*flip + b2*(1-flip);"},{"baseVals":{"enabled":1,"r":0.2,"b":0.6},"init_eqs_eel":"","frame_eqs_eel":"t1=sin(time)*0.5+0.5;\\nt2=sin(time+2.1)*0.5+0.5;\\nt3=sin(time+4.2)*0.5+0.5;\\n\\nt4=sin(time+1.1)*0.5+0.5;\\nt5=sin(time+3.1)*0.5+0.5;\\nt6=sin(time+5.2)*0.5+0.5;","point_eqs_eel":"n=sample*6.283;\\nphs=-sample * 0.2;\\ntm=q1 + phs;\\n\\nflip=flip+1;\\nflip=flip*below(flip,2);\\n\\nxp=0;\\nyp=flip*0.1 + (sin(tm)*0.5 + 0.5)*0.2 +0.1;\\nyp=-yp;\\nzp=0;\\n\\n//wrist movement;\\nang=sin(tm*2)*0.5 +0.5;\\n\\nsinang=sin(ang);cosang=cos(ang);\\nxq=xp;\\nyq=yp*sinang + zp*cosang;\\nzq=yp*cosang - zp*sinang;\\nyq=yp;\\nzq=zp;\\n\\nang=tm*8;\\nsinang=sin(ang);cosang=cos(ang);\\nxp=xq*sinang + yq*cosang;\\nyp=xq*cosang - yq*sinang;\\nzp=zq;\\n\\n//forearm movement;\\nzp=zp-0.3;\\nang=3.14 + sin(tm*2 - 0.5)*1.5;\\nsinang=sin(ang);cosang=cos(ang);\\nxq=xp;\\nyq=yp*sinang + zp*cosang;\\nzq=yp*cosang - zp*sinang;\\n\\n//upper arm twist\\nang=-1.0 + cos(tm*3.1 + 0.5);\\nsinang=sin(ang);cosang=cos(ang);\\nxp=xq*sinang + yq*cosang;\\nyp=xq*cosang - yq*sinang;\\nzp=zq;\\n\\n//upper arm outward;\\nzp=zp-0.35;\\nang=cos(tm*2.3)*1.75 - 1.05;\\nsinang=sin(ang);cosang=cos(ang);\\nxq=xp*sinang + zp*cosang;\\nyq=yp;\\nzq=xp*cosang - zp*sinang;\\n\\n//upper arm up down;\\nang=cos(tm)*0.5 - 0.5;\\nsinang=sin(ang);cosang=cos(ang);\\nxp=xq;\\nyp=yq*cosang - zq*sinang;\\nzp=yq*sinang + zq*cosang;\\n\\n//xp=xq;yp=yq;zp=zq;\\n\\n\\n//project into screenspace and draw on screen\\nzp=zp+2;\\nxs=xp/zp;\\nys=yp/zp;\\n\\nx=xs+0.5;\\ny=ys*1.3+0.5;\\n\\n\\na=if( equal(q8,1) , (1-sample) , sample);\\na=a*a;\\n\\n\\nb=b+pow(1-sample,2)*0.3;\\n\\nr1=t1;\\ng1=t2;\\nb1=t3;\\nr2=t4;\\ng2=t5;\\nb2=t6;\\n\\nr=r1*flip + r2*(1-flip);\\ng=g1*flip + g2*(1-flip);\\nb=b1*flip + b2*(1-flip);"},{"baseVals":{"enabled":1,"usedots":1,"thick":1,"additive":1,"g":0.6,"b":0.1},"init_eqs_eel":"","frame_eqs_eel":"t1=sin(time)*0.5+0.5;\\nt2=sin(time+2.1)*0.5+0.5;\\nt3=sin(time+4.2)*0.5+0.5;\\n\\nt4=sin(time+1.1)*0.5+0.5;\\nt5=sin(time+3.1)*0.5+0.5;\\nt6=sin(time+5.2)*0.5+0.5;\\n\\n\\nt8= int( sin(time*2)*2 + 3);","point_eqs_eel":"n=sample*6.283;\\nphs=-sample * 0.2;\\ntm=q1 + phs;\\n\\nflip=flip+1;\\nflip=flip*below(flip,2);\\n\\nxp=0;\\nyp=flip*0.1 + (sin(tm)*0.5 + 0.5)*0.2;\\nzp=0;\\n\\n//wrist movement;\\nang=sin(tm*2)*0.5 +0.5;\\n\\nxq=xp;\\nsinang=sin(ang);cosang=cos(ang);\\nyq=yp*sinang + zp*cosang;\\nzq=yp*cosang - zp*sinang;\\nyq=yp;\\nzq=zp;\\n\\nang=tm*8 + 1;\\nsinang=sin(ang);cosang=cos(ang);\\nxp=xq*sinang + yq*cosang;\\nyp=xq*cosang - yq*sinang;\\nzp=zq;\\n\\n//forearm movement;\\nzp=zp-0.3;\\nang=3.14 + sin(tm*2 - 0.5)*1.5;\\nsinang=sin(ang);cosang=cos(ang);\\nxq=xp;\\nyq=yp*sinang + zp*cosang;\\nzq=yp*cosang - zp*sinang;\\n\\n//upper arm twist\\nang=-1.0 + cos(tm*3.1 + 0.5);\\nsinang=sin(ang);cosang=cos(ang);\\nxp=xq*sinang + yq*cosang;\\nyp=xq*cosang - yq*sinang;\\nzp=zq;\\n\\n//upper arm outward;\\nzp=zp-0.35;\\nang=cos(tm*2.3)*1.75 - 1.05;\\nsinang=sin(ang);cosang=cos(ang);\\nxq=xp*sinang + zp*cosang;\\nyq=yp;\\nzq=xp*cosang - zp*sinang;\\n\\n//upper arm up down;\\nang=cos(tm)*0.5 - 0.5;\\nsinang=sin(ang);cosang=cos(ang);\\nxp=xq;\\nyp=yq*cosang - zq*sinang;\\nzp=yq*sinang + zq*cosang;\\n\\n//xp=xq;yp=yq;zp=zq;\\n\\n\\n//project into screenspace and draw on screen\\nzp=zp+2;\\nxs=xp/zp;\\nys=yp/zp;\\n\\nx=xs+0.5;\\ny=ys*1.3+0.5;\\n\\na=if( equal(q8,1) , (1-sample) , sample);\\n\\n\\na=a* above( sin(tm*128*t8) , 0 );\\n\\n\\nr=t4;\\ng=t5;\\nb=t6;\\n"},{"baseVals":{"enabled":1,"usedots":1,"thick":1,"additive":1,"g":0.3,"b":0.1},"init_eqs_eel":"","frame_eqs_eel":"t1=sin(time)*0.5+0.5;\\nt2=sin(time+2.1)*0.5+0.5;\\nt3=sin(time+4.2)*0.5+0.5;\\n\\nt4=sin(time+1.1)*0.5+0.5;\\nt5=sin(time+3.1)*0.5+0.5;\\nt6=sin(time+5.2)*0.5+0.5;\\n\\n\\nt8= int( sin(time*2)*2 + 3);","point_eqs_eel":"n=sample*6.283;\\nphs=-sample * 0.2;\\ntm=q1 + phs;\\n\\nflip=flip+1;\\nflip=flip*below(flip,2);\\n\\nxp=0;\\nyp=flip*0.1 + (sin(tm)*0.5 + 0.5)*0.2 +0.1;\\nyp=-yp;\\nzp=0;\\n\\n//wrist movement;\\nang=sin(tm*2)*0.5 +0.5;\\n\\nsinang=sin(ang);cosang=cos(ang);\\nxq=xp;\\nyq=yp*sinang + zp*cosang;\\nzq=yp*cosang - zp*sinang;\\nyq=yp;\\nzq=zp;\\n\\nang=tm*8+1;\\nsinang=sin(ang);cosang=cos(ang);\\nxp=xq*sinang + yq*cosang;\\nyp=xq*cosang - yq*sinang;\\nzp=zq;\\n\\n//forearm movement;\\nzp=zp-0.3;\\nang=3.14 + sin(tm*2 - 0.5)*1.5;\\nsinang=sin(ang);cosang=cos(ang);\\nxq=xp;\\nyq=yp*sinang + zp*cosang;\\nzq=yp*cosang - zp*sinang;\\n\\n//upper arm twist\\nang=-1.0 + cos(tm*3.1 + 0.5);\\nsinang=sin(ang);cosang=cos(ang);\\nxp=xq*sinang + yq*cosang;\\nyp=xq*cosang - yq*sinang;\\nzp=zq;\\n\\n//upper arm outward;\\nzp=zp-0.35;\\nang=cos(tm*2.3)*1.75 - 1.05;\\nsinang=sin(ang);cosang=cos(ang);\\nxq=xp*sinang + zp*cosang;\\nyq=yp;\\nzq=xp*cosang - zp*sinang;\\n\\n//upper arm up down;\\nang=cos(tm)*0.5 - 0.5;\\nsinang=sin(ang);cosang=cos(ang);\\nxp=xq;\\nyp=yq*cosang - zq*sinang;\\nzp=yq*sinang + zq*cosang;\\n\\n//xp=xq;yp=yq;zp=zq;\\n\\n\\n//project into screenspace and draw on screen\\nzp=zp+2;\\nxs=xp/zp;\\nys=yp/zp;\\n\\nx=xs+0.5;\\ny=ys*1.3+0.5;\\n\\n\\na=if( equal(q8,1) , (1-sample) , sample);\\na=a*a;\\n\\na=a* above( sin(tm*128*t8) , 0 );\\n\\n\\nr=t4;\\ng=t5;\\nb=t6;"}],"init_eqs_eel":"mv_x=64;mv_y=48;\\nnut=0;\\nstp=0;stq=0;\\nrtp=0;rtq=0;\\nwvr=0;\\ndecay=0;\\ndcsp=0;\\nwarp=0","frame_eqs_eel":"//krash\'s beat detection code\\nvolume = 0.3*(bass+mid+att);\\nbeatrate = equal(beatrate,0) + (1-equal(beatrate,0))*(below(volume,0.01) + (1-below(volume,0.01))*beatrate);\\nlastbeat = lastbeat + equal(lastbeat,0)*time;\\nmeanbass_att = 0.1*(meanbass_att*9 + bass_att);\\npeakbass_att = max(bass_att,peakbass_att);\\nbeatrate = max(if(beat,if(below(time-lastbeat,2*beatrate),0.1*(beatrate*9 + time - lastbeat),beatrate),beatrate),0.1);\\npeakbass_att = beat*bass_att + (1-beat)*peakbass_att*(above(time - lastbeat, 2*beatrate)*0.95 + (1-above(time - lastbeat, 2*beatrate))*0.995);\\nlastbeat = beat*time + (1-beat)*lastbeat;\\npeakbass_att = max(peakbass_att,1.1*meanbass_att);\\nbeat = above(volume,0.8)*below(peakbass_att - bass_att, 0.05*peakbass_att)*above(time - lastbeat, 0.1 + 0.5*(beatrate - 0.1));\\nbeatcounter = beatcounter + beat;\\nmode = if(beat*equal(beatcounter%2,0),1-mode,mode);\\nflip = 2*mode-1;\\nmonitor=flip;\\nq8=flip;\\n\\n\\ndecay=1;\\nzoom=1.002;\\n\\nvol=(bass_att+mid_att+treb_att)*0.25;\\nvol=vol*vol;\\nmtime=mtime+vol*0.1*flip*(55/fps);\\n\\nq1=mtime*0.4;\\n\\nwarp=0.0","pixel_eqs_eel":"//tm=time+(sin(time)*rad);\\nvar=tan(time)*treb*treb;\\n\\nzoom=1+(rad/40)+(var/40);\\n//rot=((rad/100)*var)*sin(time);","warp":"","comp":""}') }, "./presets/converted/Flexi + Martin - astral projection.json": e => { e.exports = JSON.parse('{"version":2,"baseVals":{"rating":4,"gammaadj":1,"decay":0.9,"echo_zoom":1,"wave_brighten":0,"wrap":0,"wave_a":0.001,"wave_scale":5.715,"wave_smoothing":0.9,"modwavealphastart":1,"modwavealphaend":1,"warpanimspeed":0.162,"warpscale":5.582,"zoomexp":0.32104,"zoom":0.9901,"warp":0.11563,"wave_r":0,"wave_g":0,"wave_b":0,"ob_size":0,"ib_size":0,"ib_r":0,"ib_g":0,"ib_b":0,"ib_a":1,"mv_x":64,"mv_y":48,"mv_l":0,"mv_b":0,"mv_a":0},"shapes":[{"baseVals":{"enabled":1,"sides":100,"thickoutline":1,"textured":1,"rad":0.05343,"tex_zoom":12.77228,"g":1,"b":1,"a":0,"r2":1,"b2":1,"a2":1,"border_g":0,"border_a":0},"init_eqs_eel":"vx = 0;\\nvy = 0;","frame_eqs_eel":""},{"baseVals":{"enabled":1,"sides":100,"textured":1,"y":0.75,"rad":0.46753,"g":1,"b":1,"r2":1,"b2":1,"border_a":0},"init_eqs_eel":"","frame_eqs_eel":"w = -atan2(0.5,q1)*4+asin(1)*4;\\nang = w;\\nx = 0.5 +sin(w)*0.19;\\ny = 0.5 +cos(w)*0.26;"},{"baseVals":{"enabled":1,"sides":100,"textured":1,"y":0.75,"rad":0.46753,"g":1,"b":1,"r2":1,"b2":1,"border_a":0},"init_eqs_eel":"","frame_eqs_eel":"w = -atan2(0.5,q1)*4+asin(1)*4 + asin(1)*2/3;\\nang = w;\\nx = 0.5 +sin(w)*0.19;\\ny = 0.5 +cos(w)*0.26;"},{"baseVals":{"enabled":1,"sides":100,"textured":1,"y":0.75,"rad":0.46753,"g":1,"b":1,"r2":1,"b2":1,"border_a":0},"init_eqs_eel":"","frame_eqs_eel":"w = -atan2(0.5,q1)*4+asin(1)*4 - asin(1)*2/3;\\nang = w;\\nx = 0.5 +sin(w)*0.19;\\ny = 0.5 +cos(w)*0.26;"}],"waves":[{"baseVals":{"enabled":1,"usedots":1,"thick":1,"additive":1,"scaling":2.44415,"smoothing":0},"init_eqs_eel":"t2 = 0;\\nt3 = 0;\\nt4 = 0;\\ncl = 0;","frame_eqs_eel":"t1 = 0;\\nv = 0.01;\\nj = j + (bass)*0.01;\\nj2 = j2 + (mid_att)*0.01;\\nj3 = j3 + (treb_att)*0.01;\\nt2 = j;\\nt3 = j2;\\nt4 = j3;\\n//t5 = 0;\\nk = k*0.99 + 10*mid/fps;\\nt5 = -k;\\n\\ncl1 = cl1 - 0.0005 - bass*0.003;\\ncl1 = if(above(cl1,1),0,cl1);\\ncl1 = if(below(cl1,0),1,cl1);\\nt8 = cl1;\\n\\ncl2 = cl2 +0.0001 + mid*0.001 - bass*0.0005 -treb*0.0005;\\ncl2 = if(above(cl2,1),0,cl2);\\ncl2 = if(below(cl2,0),1,cl2);\\nt7 = cl2;\\n\\ncl3 = cl3 +0.0001+ treb*0.001 - bass*0.0005 - mid*0.0005;\\ncl3 = if(above(cl3,1),0,cl3);\\ncl3 = if(below(cl3,0),1,cl3);\\nt6 = cl3;","point_eqs_eel":"xx = ((sample*0983624912364)%10000000+100)/10000000;\\nyy = ((xx*1896575575)%10000000+100)/10000000;\\nzz = ((yy*58652340875)%10000000+100)/10000000;\\n\\n\\nd = sqrt(sqr(xx)+sqr(yy)+sqr(zz));\\n\\nzz = zz + t8 - if(above(zz+t8,1),1,0) - 0.5;\\nxx = xx + t7 - if(above(xx+t7,1),1,0) - 0.5;\\nyy = yy + t6 - if(above(yy+t6,1),1,0) - 0.5;\\n\\nv = 0.001;\\n\\nw = 1;// (sample*sin(time*0.3)*0.01-1);\\nbb = d*d*0.5;\\nn= 0.3;\\ns1 = sin(sin(t2*w+bb)*n);\\ns2 = sin(sin(t3*w+bb)*n);\\ns3 = sin(sin(t4*w+bb)*n);\\nc1 = cos(sin(t2*w+bb)*n);\\nc2 = cos(sin(t3*w+bb)*n);\\nc3 = cos(sin(t4*w+bb)*n);\\n\\nz = (c3*s1*c2 + s3*s2)*xx - (c3*s1*s2-s3*c2)*yy + c3*c1*zz;\\nx1 = (c1*c2*xx + c1*s2*yy - s1*zz);\\ny1 = ((s3*s1*c2 - c3*s2)*xx + (s3*s1*s2+c3*c2)*yy + s3*c1*zz);\\n\\nzoom = .5*(1/(z+0.5));\\nx = 0.5 + zoom*x1 + sin(time*0.1)*0;;\\ny = 0.5 + zoom*y1 + cos(time*0.16801)*0;\\n\\npi3 = 3.1415*2*0.3333;\\nt = z*2+t2*1;\\nc=3;\\nr = sin(t)*c;\\n\\ng = sin(t+pi3)*c;\\n\\nb = sin(t-pi3)*c;\\n\\n\\nr = if(above(r,1),1,r);\\nr = if(below(r,0),0,r);\\ng = if(above(g,1),1,g);\\ng = if(below(g,0),0,g);\\nb = if(above(b,1),1,b);\\nb = if(below(b,0),0,b);\\n\\na = -z+0.7;"},{"baseVals":{"enabled":1,"thick":1,"scaling":2.44415,"smoothing":0,"a":0.05},"init_eqs_eel":"t2 = 0;\\nt3 = 0;\\nt4 = 0;\\ncl = 0;","frame_eqs_eel":"t8 = 1;","point_eqs_eel":"t8 = -t8;\\ny = sample*0.48;\\nx = 0.5 + t8*0.04 - t8*sample*0.02 + (sqr(sample*2-1)-1)*q1*0.5;\\n\\npi3 = 3.1415*2*0.3333;\\nt = -(q4-q6)*10+sample*asin(1)*4.01;\\nc=9;\\nr = sin(t)*c;\\n\\ng = sin(t+pi3)*c;\\n\\nb = sin(t-pi3)*c;\\n\\n\\nr = if(above(r,1),1,r);\\nr = if(below(r,0),0,r);\\ng = if(above(g,1),1,g);\\ng = if(below(g,0),0,g);\\nb = if(above(b,1),1,b);\\nb = if(below(b,0),0,b);\\n"},{"baseVals":{"enabled":1,"samples":49,"scaling":2.44415,"smoothing":0,"r":0,"g":0,"b":0},"init_eqs_eel":"t2 = 0;\\nt3 = 0;\\nt4 = 0;\\ncl = 0;","frame_eqs_eel":"t8 = 1;","point_eqs_eel":"t8 = -1;\\ny = sample*0.48;\\nx = 0.5 + t8*0.04 - t8*sample*0.02 + (sqr(sample*2-1)-1)*q1*0.5;"},{"baseVals":{"enabled":1,"samples":49,"scaling":2.44415,"smoothing":0,"r":0,"g":0,"b":0},"init_eqs_eel":"t2 = 0;\\nt3 = 0;\\nt4 = 0;\\ncl = 0;","frame_eqs_eel":"t8 = 1;","point_eqs_eel":"t8 = 1;\\ny = sample*0.48;\\nx = 0.5 + t8*0.04 - t8*sample*0.02 + (sqr(sample*2-1)-1)*q1*0.5;"}],"init_eqs_eel":"x1 = 0;\\ny1 = 0;","frame_eqs_eel":"zoom = 1.0;\\n\\nq1 = .1*(bass-treb);\\n\\nvvb = if(below(vvb,0),0,vvb);\\nvvm = if(below(vvm,0),0,vvm);\\nvvt = if(below(vvt,0),0,vvt);\\nvb = vb*0.85 + (1-vb)*pow(bass,2)*0.001;\\nvvb = vvb*0.95 + (1-vvb)*vb*0.2;\\nvm = vm*0.85 + (1-vm)*pow(mid,2)*0.01;\\nvvm = vvm*0.95 + (1-vvm)*vm*0.2;\\nvt = vt*0.85 + (1-vt)*pow(treb,2)*0.001;\\nvvt = vvt*0.95 + (1-vvt)*vt*0.2;\\n\\nq1 = (vvb-vvt)*vvm;//0.5 + vb - vvb;\\nq2 = vvm;//0.5 + vm - vvm;\\nq3 = vvt;//0.5 + vt - vvt;\\n\\nv=0.2;\\nd = 0;//v*0.2;\\nbb = bb + vvb*v - d;\\nmm = mm + vvm*v - d;\\ntt = tt + vvt*v - d;\\nq4 = bb;\\nq5 = mm;\\nq6 = tt;\\n\\n\\nq4 = if(above(abs(q1),0.02),0.99,1);\\nq9 = 0.5 + 0.5*sin(time*0.14);","pixel_eqs_eel":"","warp":" shader_body { \\n  vec4 tmpvar_1;\\n  tmpvar_1.w = 1.0;\\n  tmpvar_1.xyz = (texture (sampler_fc_main, uv) * q4).xyz;\\n  ret = tmpvar_1.xyz;\\n }","comp":" shader_body { \\n  vec2 tmpvar_1;\\n  tmpvar_1.x = 0.5;\\n  tmpvar_1.y = (1.0 - q9);\\n  vec2 tmpvar_2;\\n  tmpvar_2 = (uv_orig - tmpvar_1);\\n  float tmpvar_3;\\n  tmpvar_3 = (3.0 / tmpvar_2.y);\\n  vec2 tmpvar_4;\\n  tmpvar_4.x = ((tmpvar_2.x * tmpvar_3) * q9);\\n  tmpvar_4.y = (tmpvar_3 * q9);\\n  vec4 tmpvar_5;\\n  tmpvar_5 = texture (sampler_main, fract(((1.0 - \\n    abs(((fract(\\n      ((tmpvar_2 + vec2(0.5, 1.0)) * 0.5)\\n    ) * 2.0) - 1.0))\\n  ) - (\\n    ((texture (sampler_noise_hq, ((tmpvar_4 * 0.05) + (vec2(0.1, -0.05) * time))) - 0.5) * float(int((tmpvar_2.y > 0.0))))\\n  .xy * 0.025))));\\n  vec4 tmpvar_6;\\n  tmpvar_6.w = 1.0;\\n  tmpvar_6.xyz = (((tmpvar_5.xyz * tmpvar_5.xyz) * 1.4) - 0.04);\\n  ret = tmpvar_6.xyz;\\n }"}') }, "./presets/converted/Flexi + Martin - cascading decay swing.json": e => { e.exports = JSON.parse('{"version":2,"baseVals":{"rating":5,"gammaadj":1.56,"decay":1,"echo_zoom":0.362,"echo_orient":1,"wave_thick":1,"wave_brighten":0,"darken":1,"wave_a":0.001,"wave_scale":1.599,"wave_smoothing":0,"wave_mystery":-0.5,"modwavealphastart":2,"modwavealphaend":2,"warpscale":0.107,"zoomexp":0.1584,"fshader":1,"warp":0.01,"wave_r":0.51,"wave_g":0.5,"ob_size":0,"ob_a":1,"ib_r":0,"ib_g":0,"ib_b":0,"ib_a":1,"mv_x":64,"mv_y":48,"mv_l":0.5,"mv_r":0,"mv_g":0,"mv_b":0,"mv_a":0},"shapes":[{"baseVals":{"sides":100,"thickoutline":1,"rad":0.50126,"tex_zoom":0.99996,"g":1,"b":1,"r2":1,"g2":0,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"x = 0.5+sin(time*0.618)*0.2;\\ny = 0.5+cos(time*1.618)*0.2;\\nrad = bass*0.05;\\nborder_r = 1-(sin(time*1.25)*0.3+0.7);\\nborder_g = 1-(sin(time)*0.3+0.3);\\nborder_b = 1-(sin(time/3)*0.5+0.5);"},{"baseVals":{"sides":100,"thickoutline":1,"rad":0.50126,"g":1,"b":1,"g2":0,"b2":1,"border_g":0,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"x = 0.5+sin(time*2.618)*0.3;\\ny = 0.5+cos(time*3.14)*0.3;\\nrad = bass*0.05;\\nborder_r = 1-(sin(time*1.25)*0.3+0.7);\\nborder_g = 1-(sin(time)*0.3+0.3);\\nborder_b = 1-(sin(time/3)*0.5+0.5);\\n"},{"baseVals":{"sides":100,"thickoutline":1,"rad":0.50126,"tex_zoom":0.9998,"g":1,"b":1,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"x = 0.5+sin(-time*2.618)*0.4;\\ny = 0.5+cos(-time*1.14)*0.4;\\nrad = bass*0.05;\\nborder_r = 1-(sin(time*1.25)*0.3+0.7);\\nborder_g = 1-(sin(time)*0.3+0.3);\\nborder_b = 1-(sin(time/3)*0.5+0.5);"},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""}],"waves":[{"baseVals":{"scaling":0.16188,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"thick":1,"additive":1,"scaling":25.12601,"smoothing":1,"a":0.1,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""}],"init_eqs_eel":"","frame_eqs_eel":"//zoom = 0.99;\\nib_r = sin(time*1.25*4)*0.3+0.7;\\nib_g = sin(time*4)*0.3+0.3;\\nib_b = sin(time/3*4)*0.5+0.5;\\n\\nxx1 = xx1*0.9 + (bass)*0.01;\\nxx2 = xx2*0.9 + (treb)*0.01;\\nyy1 = yy1*0.94 + (treb+bass)*0.0075;\\n\\nx1 = 0.5 + (xx1-xx2)*2;\\ny1 = 0.4 + yy1;\\n\\nx1 = max(0,min(1,x1)); y1 = max(0,min(1,y1));\\n\\nspring = 10;\\ngrav = .5;\\nresist = 1;\\nbounce = 0.75;\\ndt = 0.0002*(60/fps);\\n\\nvx2 = vx2*(1-resist*dt) + dt*((x1+x3-2*x2)*spring);\\nvy2 = vy2*(1-resist*dt) + dt*((y1+y3-2*y2)*spring-grav);\\nvx3 = vx3*(1-resist*dt) + dt*((x2+x4-2*x3)*spring);\\nvy3 = vy3*(1-resist*dt) + dt*((y2+y4-2*y3)*spring-grav);\\nvx4 = vx4*(1-resist*dt) + dt*((x3-x4)*spring);\\nvy4 = vy4*(1-resist*dt) + dt*((y3-y4)*spring-grav);\\n\\nx2 = x2 + vx2;\\ny2 = y2 + vy2;\\nx3 = x3 + vx3;\\ny3 = y3 + vy3;\\nx4 = x4 + vx4;\\ny4 = y4 + vy4;\\n\\nvx2 = if(above(x2,0),vx2,abs(vx2)*bounce);\\nvx2 = if(below(x2,1),vx2,-abs(vx2)*bounce);\\nvx3 = if(above(x3,0),vx3,abs(vx3)*bounce);\\nvx3 = if(below(x3,1),vx3,-abs(vx3)*bounce);\\nvx4 = if(above(x4,0),vx4,abs(vx4)*bounce);\\nvx4 = if(below(x4,1),vx4,-abs(vx4)*bounce);\\nvy2 = if(above(y2,0),vy2,abs(vy2)*bounce);\\nvy2 = if(below(y2,1),vy2,-abs(vy2)*bounce);\\nvy3 = if(above(y3,0),vy3,abs(vy3)*bounce);\\nvy3 = if(below(y3,1),vy3,-abs(vy3)*bounce);\\nvy4 = if(above(y4,0),vy4,abs(vy4)*bounce);\\nvy4 = if(below(y4,1),vy4,-abs(vy4)*bounce);\\nq4 = x4;\\nq8 = y4;\\n\\nq1 = aspectx;\\nq2 = aspecty;\\n\\nzoom = 1;\\nwarp = 0;\\nbb = bb*0.99 + bass*0.02;\\nmm = mm*0.99 + mid*0.02;\\ntt = tt*0.99 + treb*0.02;\\n\\nmx = max(max(bb,mm),tt);\\nmn = min(min(bb,mm),tt);\\n\\nob_r = (bb-mn)/(mx-mn);\\nob_b = (mm-mn)/(mx-mn);\\nob_g = (tt-mn)/(mx-mn);\\nq6 = atan2(vx4,vy4);\\nq5 = sqrt(vx4*vx4 + vy4*vy4);\\n\\na = a*0.95 + q5;\\n\\ns = s*0.9 + a;\\nq3 = s*0.1;\\nmonitor = s;\\n\\nwave_a = 0;","pixel_eqs_eel":"x = 0.5 + (x-0.5)*q1;\\ny = 0.5 + (y-0.5)*q2;\\n\\ndir = -q6*1 + asin(1)*0;\\n\\nb1 = 0.1; // distance\\nm1 = q5*25;//-0.6 + q5*200; // size\\nt1 = 0.05; // velocity\\n\\nxx = q4;\\nyy = 1-q8;\\n\\ndx = 0; dy = 0;\\n\\nd = sqrt((x-xx)*(x-xx)+(y-yy)*(y-yy));\\n\\nr = 0.05;\\nv = -35*q5;\\ndx = v*sin(dir)*(r-d)*(1-sigmoid(d-r,200))*q2;\\ndy = v*cos(dir)*(r-d)*(1-sigmoid(d-r,200))*q1;","warp":" shader_body { \\n  vec4 tmpvar_1;\\n  tmpvar_1.w = 1.0;\\n  vec4 tmpvar_2;\\n  tmpvar_2 = texture (sampler_main, uv);\\n  tmpvar_1.xyz = ((texture (sampler_main, clamp (\\n    (uv - (((vec2(0.0, 32.0) * texsize.zw) * dot (\\n      (tmpvar_2.xyz - 0.35)\\n    , vec3(0.32, 0.49, 0.29))) * (dot (tmpvar_2.xyz, vec3(0.32, 0.49, 0.29)) - 0.4)))\\n  , 0.0, 1.0)).xyz - 0.0011) + ((texture (sampler_noise_lq, \\n    (((uv_orig * texsize.xy) * (texsize_noise_lq.zw * 1.5)) + rand_frame.xy)\\n  ) - 0.5) * 0.0038).xyz);\\n  ret = tmpvar_1.xyz;\\n }","comp":" shader_body { \\n  vec2 uv1_1;\\n  vec2 tmpvar_2;\\n  tmpvar_2.y = 0.0;\\n  tmpvar_2.x = texsize.z;\\n  vec2 tmpvar_3;\\n  tmpvar_3.x = 0.0;\\n  tmpvar_3.y = texsize.w;\\n  vec2 tmpvar_4;\\n  tmpvar_4.x = (texture (sampler_main, (uv - tmpvar_2)).xyz - texture (sampler_main, (uv + tmpvar_2)).xyz).x;\\n  tmpvar_4.y = (texture (sampler_main, (uv - tmpvar_3)).xyz - texture (sampler_main, (uv + tmpvar_3)).xyz).x;\\n  uv1_1 = ((0.3 * cos(\\n    ((uv - 0.5) * 2.0)\\n  )) - tmpvar_4);\\n  float tmpvar_5;\\n  tmpvar_5 = clamp ((0.04 / sqrt(\\n    dot (uv1_1, uv1_1)\\n  )), 0.0, 1.0);\\n  uv1_1 = ((0.3 * cos(\\n    (uv1_1 * 12.0)\\n  )) - (9.0 * tmpvar_4));\\n  vec4 tmpvar_6;\\n  tmpvar_6.w = 1.0;\\n  tmpvar_6.xyz = (tmpvar_5 + ((texture (sampler_main, uv).xyz * 12.0) * vec3(clamp (\\n    (0.04 / sqrt(dot (uv1_1, uv1_1)))\\n  , 0.0, 1.0))));\\n  ret = tmpvar_6.xyz;\\n }"}') }, "./presets/converted/Flexi + amandio c - piercing 05 - Kopie (2) - Kopie.json": e => { e.exports = JSON.parse('{"version":2,"baseVals":{"rating":4,"gammaadj":1.9,"echo_zoom":1.169,"echo_orient":1,"wave_mode":5,"additivewave":1,"wave_a":0,"wave_scale":0.9,"wave_smoothing":0.63,"wave_mystery":1,"modwavealphastart":2,"modwavealphaend":2,"warpscale":2.853,"rot":0.006,"warp":0,"wave_r":0.65,"wave_g":0.65,"wave_b":0.65,"ob_size":0.005,"mv_x":0,"mv_y":48,"mv_dx":-0.941,"mv_dy":0.426,"mv_l":5,"mv_r":0.316,"mv_g":0.078,"mv_b":0.942,"mv_a":0,"b1ed":0},"shapes":[{"baseVals":{"enabled":1,"sides":100,"textured":1,"rad":0.78903,"ang":0.62832,"tex_zoom":1.02009,"r":0,"g":1,"b":1,"r2":0.7,"b2":1,"border_a":0},"init_eqs_eel":"vx = 0;\\nvy = 0;","frame_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""}],"waves":[{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""}],"init_eqs_eel":"c_x = 0.5;\\nc_y = 0.5;","frame_eqs_eel":"sx=1+.01*(8*bass%8)*equal(time%(int(24-2*bass)),0);\\nsy=1+.01*(8*mid%8) *equal(time%(12+int(24-2*bass)),0);\\n\\nq1 = aspectx;\\nq2 = aspecty;\\nrot = 0;\\nzoom = 1;\\nwarp = 0;\\n\\n\\nvol = bass*8 + mid*4 + treb*2;\\nvol = vol*above(vol,17);\\nmonitor = vol;\\nbeat = above(vol,res);\\ndiff = (1-beat)*diff + beat*(vol-res);\\nres = beat*(vol+2*diff) + (1-beat)*(res - (diff*0.04 + 0.12)*60/fps);\\nres = max(0,res);\\nmonitor = res;\\n\\nr = if(beat, 0.01*(rand(200)-100)*0.01,r);\\nrot = r;\\n\\nc_x = if(beat,0.5 + 0.5*(rand(200)-100)*0.01, c_x);\\nc_y = if(beat,0.5 + 0.5*(rand(200)-100)*0.01, c_y);\\n\\n\\nq23 = c_x;\\nq24 = c_y;\\n\\n// elastic thread code by Flexi\\n\\nxx1 = xx1*0.9 + (bass)*0.01;\\nxx2 = xx2*0.9 + (treb)*0.01;\\nyy1 = yy1*0.94 + (treb+bass)*0.0075;\\nx1 = 0.5 + (xx1-xx2)*2;\\ny1 = 0.4 + yy1*1.5;\\ndt = 0.03/fps;\\nvx2 = vx2*(1-2*dt) + dt*((x1+x3-2*x2)*10);\\nvy2 = vy2*(1-2*dt) + dt*((y1+y3-2*y2)*10-0.5);\\nvx3 = vx3*(1-2*dt) + dt*((x2+x4-2*x3)*10);\\nvy3 = vy3*(1-2*dt) + dt*((y2+y4-2*y3)*10-0.5);\\nvx4 = vx4*(1-2*dt) + dt*((x3-x4)*10);\\nvy4 = vy4*(1-2*dt) + dt*((y3-y4)*10-0.5);\\nx2 = x2 + vx2; y2 = y2 + vy2;\\nx3 = x3 + vx3; y3 = y3 + vy3;\\nx4 = x4 + vx4; y4 = y4 + vy4;\\nvx2 = if(above(x2,0),vx2,abs(vx2)*0.5);\\nvx2 = if(below(x2,1),vx2,-abs(vx2)*0.5);\\nvx3 = if(above(x3,0),vx3,abs(vx3)*0.5);\\nvx3 = if(below(x3,1),vx3,-abs(vx3)*0.5);\\nvx4 = if(above(x4,0),vx4,abs(vx4)*0.5);\\nvx4 = if(below(x4,1),vx4,-abs(vx4)*0.5);\\nvy2 = if(above(y2,0),vy2,abs(vy2)*0.5);\\nvy2 = if(below(y2,1),vy2,-abs(vy2)*0.5);\\nvy3 = if(above(y3,0),vy3,abs(vy3)*0.5);\\nvy3 = if(below(y3,1),vy3,-abs(vy3)*0.5);\\nvy4 = if(above(y4,0),vy4,abs(vy4)*0.5);\\nvy4 = if(below(y4,1),vy4,-abs(vy4)*0.5);\\nq1 = x1;q2 = x2;q3 = x3;q4 = x4;\\nq5 = y1;q6 = y2;q7 = y3;q8 = y4;\\nq9 = 1/aspectx;\\nq10 = 1/aspecty;\\nq11 = aspectx;\\nq12 = aspecty;\\nq13 = sqrt(vx4*vx4 + vy4*vy4)*0.8;\\nq14 = atan2(vx4,vy4);","pixel_eqs_eel":"d = (pow(sqrt(sqr(x-q3)+sqr(y-q4)),2)-0);\\nv = 0.03;\\ndx = v*(x-q23)*d;\\ndy = v*(y-q24)*d;\\n\\n\\nx = 0.5 + (x-0.5)*q11;\\ny = 0.5 + (y-0.5)*q12;\\ndir = -q14*1 + asin(1)*1;\\n\\nvelocity = q13;\\nstrength = 100;\\nsize = 0.07;\\n\\nxx = q4;\\nyy = 1-q8;\\n\\n\\nx1 = xx   +cos(dir+1.5708)*size;\\ny1 = yy -sin(dir+1.5708)*size;\\n\\nx2 = xx   -cos(dir+1.5708)*size;\\ny2 = yy +sin(dir+1.5708)*size;\\n\\nd1 = sqrt((x1-x)*(x1-x)+(y1-y)*(y1-y))-size*2;\\nsi1 = 1- 1/(1+pow(2,-d1*100));\\n\\nd2 = sqrt((x2-x)*(x2-x)+(y2-y)*(y2-y))-size*2;\\nsi2 = 1- 1/(1+pow(2,-d2*100));\\n\\ndx += (si1*sin(y1-y)*d1  - si2*sin(y2-y)*d2)*strength*velocity;\\ndy += (-si1*sin(x1-x)*d1 + si2*sin(x2-x)*d2)*strength*velocity;","warp":"vec2 xlat_mutabled;\\nvec3 xlat_mutabledx;\\nvec3 xlat_mutabledy;\\n shader_body { \\n  vec3 ret_1;\\n  vec3 tmpvar_2;\\n  tmpvar_2 = (texture (sampler_noise_lq, ((\\n    (uv_orig * texsize.xy)\\n   * texsize_noise_lq.zw) + rand_frame.xy)).xyz - 0.5);\\n  xlat_mutabled = (texsize.zw * 4.0);\\n  xlat_mutabledx = (((texture (sampler_blur1, \\n    (uv_orig + (vec2(1.0, 0.0) * xlat_mutabled))\\n  ).xyz * scale1) + bias1) - ((texture (sampler_blur1, \\n    (uv_orig - (vec2(1.0, 0.0) * xlat_mutabled))\\n  ).xyz * scale1) + bias1));\\n  xlat_mutabledy = (((texture (sampler_blur1, \\n    (uv_orig + (vec2(0.0, 1.0) * xlat_mutabled))\\n  ).xyz * scale1) + bias1) - ((texture (sampler_blur1, \\n    (uv_orig - (vec2(0.0, 1.0) * xlat_mutabled))\\n  ).xyz * scale1) + bias1));\\n  xlat_mutabled = uv;\\n  vec2 tmpvar_3;\\n  tmpvar_3.x = xlat_mutabledx.y;\\n  tmpvar_3.y = xlat_mutabledy.y;\\n  vec2 tmpvar_4;\\n  tmpvar_4.x = xlat_mutabledx.z;\\n  tmpvar_4.y = xlat_mutabledy.z;\\n  vec4 tmpvar_5;\\n  tmpvar_5 = texture (sampler_main, uv_orig);\\n  ret_1.y = ((texture (sampler_main, (uv - \\n    ((tmpvar_3 * texsize.zw) * 6.0)\\n  )).y - 0.008) + ((1.0 - tmpvar_5.x) * 0.018));\\n  ret_1.z = ((texture (sampler_main, (uv - \\n    ((tmpvar_4 * texsize.zw) * 6.0)\\n  )).z - 0.008) + (tmpvar_5.x * 0.018));\\n  ret_1.x = texture (sampler_fc_main, (uv + ((tmpvar_2.xy * texsize.zw) * 0.5))).x;\\n  ret_1.x = (ret_1.x + ((\\n    (ret_1.x - ((texture (sampler_blur3, uv).xyz * scale3) + bias3).x)\\n   * 0.15) + (tmpvar_2 * 0.0042)).x);\\n  vec4 tmpvar_6;\\n  tmpvar_6.w = 1.0;\\n  tmpvar_6.xyz = ret_1;\\n  ret = tmpvar_6.xyz;\\n }","comp":" shader_body { \\n  vec2 tmpvar_1;\\n  tmpvar_1.x = q3;\\n  tmpvar_1.y = q4;\\n  vec2 tmpvar_2;\\n  tmpvar_2.x = q6;\\n  tmpvar_2.y = q7;\\n  vec2 tmpvar_3;\\n  tmpvar_3.x = q9;\\n  tmpvar_3.y = q10;\\n  vec2 tmpvar_4;\\n  tmpvar_4.x = q12;\\n  tmpvar_4.y = q13;\\n  vec2 tmpvar_5;\\n  tmpvar_5 = (texsize.zw * 1.25);\\n  vec3 tmpvar_6;\\n  tmpvar_6 = (texture (sampler_main, (uv + (vec2(1.0, 0.0) * tmpvar_5))).xyz - texture (sampler_main, (uv - (vec2(1.0, 0.0) * tmpvar_5))).xyz);\\n  vec3 tmpvar_7;\\n  tmpvar_7 = (texture (sampler_main, (uv + (vec2(0.0, 1.0) * tmpvar_5))).xyz - texture (sampler_main, (uv - (vec2(0.0, 1.0) * tmpvar_5))).xyz);\\n  vec2 tmpvar_8;\\n  tmpvar_8.x = dot (tmpvar_6, vec3(0.32, 0.49, 0.29));\\n  tmpvar_8.y = dot (tmpvar_7, vec3(0.32, 0.49, 0.29));\\n  vec2 x_9;\\n  x_9 = ((uv - (tmpvar_8 * 8.0)) - tmpvar_1);\\n  vec2 tmpvar_10;\\n  tmpvar_10.x = dot (tmpvar_6, vec3(0.32, 0.49, 0.29));\\n  tmpvar_10.y = dot (tmpvar_7, vec3(0.32, 0.49, 0.29));\\n  vec2 x_11;\\n  x_11 = ((uv - (tmpvar_10 * 8.0)) - tmpvar_2);\\n  vec2 tmpvar_12;\\n  tmpvar_12.x = dot (tmpvar_6, vec3(0.32, 0.49, 0.29));\\n  tmpvar_12.y = dot (tmpvar_7, vec3(0.32, 0.49, 0.29));\\n  vec2 x_13;\\n  x_13 = ((uv - (tmpvar_12 * 8.0)) - tmpvar_3);\\n  vec2 tmpvar_14;\\n  tmpvar_14.x = dot (tmpvar_6, vec3(0.32, 0.49, 0.29));\\n  tmpvar_14.y = dot (tmpvar_7, vec3(0.32, 0.49, 0.29));\\n  vec2 x_15;\\n  x_15 = ((uv - (tmpvar_14 * 8.0)) - tmpvar_4);\\n  vec4 tmpvar_16;\\n  tmpvar_16.w = 1.0;\\n  tmpvar_16.xyz = mix (texture (sampler_main, uv).xyz, max (max (\\n    (vec3((1.0 - pow (sqrt(\\n      dot (x_9, x_9)\\n    ), 0.2))) * vec3(2.0, 1.0, -1.0))\\n  , \\n    (vec3((1.0 - pow (sqrt(\\n      dot (x_11, x_11)\\n    ), 0.2))) * vec3(2.0, -1.0, 1.0))\\n  ), max (\\n    (vec3((1.0 - pow (sqrt(\\n      dot (x_13, x_13)\\n    ), 0.2))) * vec3(-1.0, 1.0, 2.0))\\n  , \\n    (vec3((1.0 - pow (sqrt(\\n      dot (x_15, x_15)\\n    ), 0.2))) * vec3(1.0, -1.0, 2.0))\\n  )), vec3(0.5, 0.5, 0.5));\\n  ret = tmpvar_16.xyz;\\n }"}') }, "./presets/converted/Flexi + stahlregen - jelly showoff parade.json": e => { e.exports = JSON.parse('{"version":2,"baseVals":{"rating":5,"gammaadj":1,"decay":1,"modwavealphabyvolume":1,"wave_a":0.207,"wave_scale":0.397,"wave_smoothing":0,"wave_mystery":0.24,"modwavealphaend":1.17,"warpscale":16.016,"zoomexp":11.56276,"zoom":1.05971,"warp":0.13126,"ob_size":0.005,"ob_a":1,"ib_size":0,"mv_x":64,"mv_y":48,"mv_l":0,"mv_r":0.35,"mv_g":0.35,"mv_b":0.35,"mv_a":0},"shapes":[{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""}],"waves":[{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""}],"init_eqs_eel":"","frame_eqs_eel":"decay = 1;\\nxx1 = xx1*0.9 + (bass)*0.01;\\nxx2 = xx2*0.9 + (treb)*0.01;\\nyy1 = yy1*0.94 + (treb+bass)*0.0075;\\n\\nx1 = 0.5 + (xx1-xx2)*1.5;\\ny1 = 0.5 + yy1;\\n\\n//x2 = 0;y2 = 0;x3 = 0;y3 = 0;x4 = 0;y4 = 0;\\n\\nspring = 18;\\ngrav = 1;\\nresist = 5;\\nbounce = 0.9;\\ndt = 0.0003;\\n\\nvx2 = vx2*(1-resist*dt) + dt*((x1+x3-2*x2)*spring);\\nvy2 = vy2*(1-resist*dt) + dt*((y1+y3-2*y2)*spring-grav);\\nvx3 = vx3*(1-resist*dt) + dt*((x2+x4-2*x3)*spring);\\nvy3 = vy3*(1-resist*dt) + dt*((y2+y4-2*y3)*spring-grav);\\nvx4 = vx4*(1-resist*dt) + dt*((x3-x4)*spring);\\nvy4 = vy4*(1-resist*dt) + dt*((y3-y4)*spring-grav);\\n\\nx2 = x2 + vx2;\\ny2 = y2 + vy2;\\nx3 = x3 + vx3;\\ny3 = y3 + vy3;\\nx4 = x4 + vx4;\\ny4 = y4 + vy4;\\n\\nvx2 = if(above(x2,0),vx2,abs(vx2)*bounce);\\nvx2 = if(below(x2,1),vx2,-abs(vx2)*bounce);\\nvx3 = if(above(x3,0),vx3,abs(vx3)*bounce);\\nvx3 = if(below(x3,1),vx3,-abs(vx3)*bounce);\\nvx4 = if(above(x4,0),vx4,abs(vx4)*bounce);\\nvx4 = if(below(x4,1),vx4,-abs(vx4)*bounce);\\n\\nvy2 = if(above(y2,0),vy2,abs(vy2)*bounce);\\nvy2 = if(below(y2,1),vy2,-abs(vy2)*bounce);\\nvy3 = if(above(y3,0),vy3,abs(vy3)*bounce);\\nvy3 = if(below(y3,1),vy3,-abs(vy3)*bounce);\\nvy4 = if(above(y4,0),vy4,abs(vy4)*bounce);\\nvy4 = if(below(y4,1),vy4,-abs(vy4)*bounce);\\n\\n\\nq1 = x1;\\nq2 = x2;\\nq3 = x3;\\nq4 = x4;\\n\\nq5 = y1;\\nq6 = y2;\\nq7 = y3;\\nq8 = y4;\\n\\nq6 = atan2(vx4,vy4);\\nq5 = sqrt(vx4*vx4 + vy4*vy4);\\n\\nzoom = 1.001;\\nrot = 0.00;\\nwarp = 0.2;\\nwave_a = 0;","pixel_eqs_eel":"r = 0.2;\\ncx1 = q4;\\ncy1 = q5;\\nd = sqrt((x-cx1)*(x-cx1)+(y-cy1)*(y-cy1));\\ndir = -(r*r-d*d)*q3;\\nx1 = if( above(d,r),0,  sin(y-cy1)*dir);\\ny1 = if( above(d,r),0, -sin(x-cx1)*dir);\\nv = 1;\\ndx = (x1)*v;\\ndy = (y1)*v;","warp":" shader_body { \\n  vec2 uv_1;\\n  vec3 ret_2;\\n  uv_1 = (0.5 + ((uv - 0.5) * 1.002));\\n  vec2 tmpvar_3;\\n  tmpvar_3 = (texsize.zw * 8.0);\\n  vec3 tmpvar_4;\\n  tmpvar_4 = (((texture (sampler_blur1, \\n    (uv_1 + (vec2(1.0, 0.0) * tmpvar_3))\\n  ).xyz * scale1) + bias1) - ((texture (sampler_blur1, \\n    (uv_1 - (vec2(1.0, 0.0) * tmpvar_3))\\n  ).xyz * scale1) + bias1));\\n  vec3 tmpvar_5;\\n  tmpvar_5 = (((texture (sampler_blur1, \\n    (uv_1 + (vec2(0.0, 1.0) * tmpvar_3))\\n  ).xyz * scale1) + bias1) - ((texture (sampler_blur1, \\n    (uv_1 - (vec2(0.0, 1.0) * tmpvar_3))\\n  ).xyz * scale1) + bias1));\\n  vec2 tmpvar_6;\\n  tmpvar_6.x = tmpvar_4.x;\\n  tmpvar_6.y = tmpvar_5.x;\\n  vec2 tmpvar_7;\\n  tmpvar_7 = fract(((0.5 + \\n    (uv_1 - 0.5)\\n  ) - (tmpvar_6 * texsize.zw)));\\n  ret_2.x = texture (sampler_main, tmpvar_7).x;\\n  ret_2.x = (ret_2.x + ((\\n    (ret_2.x - ((texture (sampler_blur2, tmpvar_7).xyz * scale2) + bias2))\\n  .x * 0.4) + 0.006));\\n  vec2 tmpvar_8;\\n  tmpvar_8.x = tmpvar_5.x;\\n  tmpvar_8.y = -(tmpvar_4.x);\\n  vec2 tmpvar_9;\\n  tmpvar_9.x = tmpvar_4.z;\\n  tmpvar_9.y = tmpvar_5.z;\\n  ret_2.z = max ((clamp (\\n    (((texture (sampler_blur1, uv_1).xyz * scale1) + bias1).x - 0.3)\\n  , 0.0, 1.0) * 2.0), (texture (sampler_fc_main, (\\n    (uv_1 - ((tmpvar_8 * texsize.zw) * 8.0))\\n   + \\n    ((tmpvar_9 * texsize.zw) * 4.0)\\n  )).z - 0.008));\\n  vec2 tmpvar_10;\\n  tmpvar_10.x = tmpvar_4.y;\\n  tmpvar_10.y = tmpvar_5.y;\\n  ret_2.y = max (ret_2.x, (texture (sampler_fc_main, (uv_1 + \\n    (tmpvar_10 * texsize.zw)\\n  )).y - 0.016));\\n  vec4 tmpvar_11;\\n  tmpvar_11.w = 1.0;\\n  tmpvar_11.xyz = ret_2;\\n  ret = tmpvar_11.xyz;\\n }","comp":" shader_body { \\n  vec3 ret_1;\\n  vec2 tmpvar_2;\\n  tmpvar_2 = (texsize.zw * 6.0);\\n  vec3 tmpvar_3;\\n  tmpvar_3 = (((texture (sampler_blur1, \\n    (uv + (vec2(1.0, 0.0) * tmpvar_2))\\n  ).xyz * scale1) + bias1) - ((texture (sampler_blur1, \\n    (uv - (vec2(1.0, 0.0) * tmpvar_2))\\n  ).xyz * scale1) + bias1));\\n  vec3 tmpvar_4;\\n  tmpvar_4 = (((texture (sampler_blur1, \\n    (uv + (vec2(0.0, 1.0) * tmpvar_2))\\n  ).xyz * scale1) + bias1) - ((texture (sampler_blur1, \\n    (uv - (vec2(0.0, 1.0) * tmpvar_2))\\n  ).xyz * scale1) + bias1));\\n  vec2 tmpvar_5;\\n  tmpvar_5.x = dot (tmpvar_3, vec3(0.32, 0.49, 0.29));\\n  tmpvar_5.y = dot (tmpvar_4, vec3(0.32, 0.49, 0.29));\\n  vec2 tmpvar_6;\\n  tmpvar_6 = (uv - (0.25 * tmpvar_5));\\n  vec2 tmpvar_7;\\n  tmpvar_7.x = dot (tmpvar_3, vec3(0.32, 0.49, 0.29));\\n  tmpvar_7.y = dot (tmpvar_4, vec3(0.32, 0.49, 0.29));\\n  vec2 tmpvar_8;\\n  tmpvar_8 = (uv + (0.25 * tmpvar_7));\\n  ret_1 = ((0.8 * (\\n    (texture (sampler_blur3, tmpvar_6).xyz * scale3)\\n   + bias3)) - ((texture (sampler_blur1, tmpvar_6).xyz * scale1) + bias1));\\n  ret_1 = (ret_1 + (0.6 * (\\n    (texture (sampler_blur1, uv).xyz * scale1)\\n   + bias1)));\\n  ret_1 = (ret_1 - ((\\n    (texture (sampler_blur2, tmpvar_8).xyz * scale2)\\n   + bias2) - (\\n    (texture (sampler_blur1, tmpvar_8).xyz * scale1)\\n   + bias1)));\\n  ret_1 = (ret_1 + ((1.2 * texture (sampler_main, tmpvar_8).xyz) + (0.15 * \\n    ((texture (sampler_blur1, tmpvar_8).xyz * scale1) + bias1)\\n  )));\\n  ret_1 = (ret_1 + 1.0);\\n  float tmpvar_9;\\n  tmpvar_9 = dot (ret_1, vec3(0.32, 0.49, 0.29));\\n  ret_1 = (mix (vec3(tmpvar_9), (\\n    (0.75 * vec3(tmpvar_9))\\n   * \\n    dot ((((0.6 * \\n      ((texture (sampler_blur3, tmpvar_6).xyz * scale3) + bias3)\\n    ) - (0.7 * texture (sampler_main, uv).xyz)) - (0.3 * (\\n      (texture (sampler_blur1, tmpvar_8).xyz * scale1)\\n     + bias1))), vec3(0.32, 0.49, 0.29))\\n  ), pow (hue_shader, vec3(tmpvar_9))) * 0.9);\\n  ret_1 = (ret_1 * ret_1);\\n  vec3 tmpvar_10;\\n  tmpvar_10 = sqrt(ret_1);\\n  ret_1 = tmpvar_10;\\n  vec4 tmpvar_11;\\n  tmpvar_11.w = 1.0;\\n  tmpvar_11.xyz = tmpvar_10;\\n  ret = tmpvar_11.xyz;\\n }"}') }, "./presets/converted/Flexi - alien fish pond.json": e => { e.exports = JSON.parse('{"version":2,"baseVals":{"rating":4,"gammaadj":1,"wave_thick":1,"wrap":0,"wave_a":0.004,"wave_scale":9.731,"wave_smoothing":0,"wave_mystery":1,"modwavealphastart":1,"modwavealphaend":1,"warpanimspeed":0.442,"warpscale":7.315,"zoomexp":1.50374,"warp":0.08563,"wave_y":0.04,"ob_size":0,"ob_g":1,"ob_a":1,"ib_size":0,"ib_r":1,"ib_g":0,"ib_b":0.75,"ib_a":1,"mv_x":64,"mv_y":48,"mv_l":0,"mv_b":0,"mv_a":0,"b1ed":0},"shapes":[{"baseVals":{"sides":41,"additive":1,"num_inst":50,"rad":0.01,"ang":3.20442,"tex_zoom":6.23873,"g":1,"b":1,"a":0,"r2":1,"b2":1,"border_a":1,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"index = instance*q32;\\n\\nx = gmegabuf(index);\\ny = gmegabuf(index+1);\\n\\nang = gmegabuf(index+9);\\nrad = gmegabuf(index+4)*2;\\n\\nr = gmegabuf(index+5);\\ng = gmegabuf(index+6);\\nb = gmegabuf(index+7);\\n\\nr2 = r; g2 = g; b2 = b;\\n\\n\\nx = 0.5 + (x-0.5)/q2;"},{"baseVals":{"sides":23,"additive":1,"num_inst":50,"x":0.74,"y":0.27,"rad":0.01,"tex_zoom":0.81948,"g":1,"b":1,"g2":0,"border_a":0,"enabled":0},"init_eqs_eel":"vx = 0","frame_eqs_eel":"sample = instance/(num_inst-1);\\n\\nx1 = 0.5;\\ny1 = 0.5 + (q3-0.5)*0.01;\\ny2 = 0.5;\\nx = x1 + (sample-0.5)*0.2;\\ny = y2*sample + y1*(1-sample);"},{"baseVals":{"sides":100,"additive":1,"rad":0.0999,"tex_zoom":0.73458,"r":0,"g":1,"a":0,"border_a":1,"enabled":0},"init_eqs_eel":"vx = 0","frame_eqs_eel":""},{"baseVals":{"enabled":1,"sides":3,"additive":1,"num_inst":400,"rad":0.16283,"tex_zoom":0.73458,"g":1,"b":1,"a":0.5,"g2":0,"border_a":0},"init_eqs_eel":"i3 = 0;\\ni4 = 0;","frame_eqs_eel":"i3 = if(equal(instance,0),0,i3);\\ni4 = if(equal(instance,0),0,i4);\\nppo = 8;\\nindex = i4*q32;\\nsample = i3 % ppo;\\n\\nsize = gmegabuf(index+4)*40;\\n\\nx = gmegabuf(index);\\ny = gmegabuf(index+1);\\n\\nang = gmegabuf(index+9);\\nrad = size*0.05;\\n\\nr = gmegabuf(index+5);\\ng = gmegabuf(index+6);\\nb = gmegabuf(index+7);\\n\\n\\nsample = sample/ppo;\\nbending = gmegabuf(index + 12)*5 + gmegabuf(index + 10)*5;\\ndir = -ang + (sample-0.4)*bending;\\n\\n ang =  asin(1)*1.5 - dir + bending*0.05;\\n\\nx = x + ((sample-0.3)*0.06*cos(dir)*size + sin(dir)*size*bending*0.01);\\ny = y + ((sample-0.3)*0.06*sin(dir)*size - cos(dir)*size*bending*0.01);\\n\\nx = 0.5 + (x-0.5)/q2;\\n\\nrad = rad*1.5 - sample*0.05*size;\\n\\ni3 = i3 + 1;\\ni4 = if( equal(i3%ppo,0), i4 +1, i4);"}],"waves":[{"baseVals":{"samples":452,"additive":1,"scaling":2.44415,"smoothing":0,"a":0.15,"enabled":0},"init_eqs_eel":"t2 = 0;\\nt3 = 0;\\nt4 = 0;\\ncl = 0;","frame_eqs_eel":"t1 = 0;\\nt2 = 0;","point_eqs_eel":"ppo = 9;\\nindex = t2*q32;\\nsample = t1 % ppo;\\n\\nnindex = gmegabuf(index + q30); // the next neighbor\'s index\\nnnindex = gmegabuf(index + q30+1); // the next neighbor\'s index\\nnnnindex = gmegabuf(index + q30+2); // the next neighbor\'s index\\n\\nx = gmegabuf(index);\\ny = gmegabuf(index+1);\\nr = 0.5 + gmegabuf(index+5)*0.5;\\ng = 0.5 + gmegabuf(index+6)*0.5;\\nb = 0.5 + gmegabuf(index+7)*0.5;\\n\\nnx = gmegabuf(nindex);\\nny = gmegabuf(nindex+1);\\nnnx = gmegabuf(nnindex);\\nnny = gmegabuf(nnindex+1);\\nnnnx = gmegabuf(nnnindex);\\nnnny = gmegabuf(nnnindex+1);\\n\\nx = 0.5 + (x-0.5)/q2;\\ny = 0.5 + (y-0.5)/q2;\\nnx = 0.5 + (nx-0.5)/q2;\\nny = 0.5 + (ny-0.5)/q2;\\nnnx = 0.5 + (nnx-0.5)/q2;\\nnny = 0.5 + (nny-0.5)/q2;\\nnnnx = 0.5 + (nnnx-0.5)/q2;\\nnnny = 0.5 + (nnny-0.5)/q2;\\n\\nx = if( equal(sample,2), nx, x);\\ny = if( equal(sample,2), ny, y);\\nx = if( equal(sample,4), nnx, x);\\ny = if( equal(sample,4), nny, y);\\nx = if( equal(sample,6), nnnx, x);\\ny = if( equal(sample,6), nnny, y);\\n\\na = above(sample,1)*below(sample,ppo-1)*a;\\n\\nt1 = t1 + 1;\\nt2 = if( equal(t1%ppo,0), t2 +1, t2);"},{"baseVals":{"enabled":1,"samples":65,"spectrum":1,"usedots":1,"thick":1,"additive":1,"scaling":0.33408,"smoothing":0,"a":0},"init_eqs_eel":"t2 = 0;\\nt3 = 0;\\nt4 = 0;\\ncl = 0;","frame_eqs_eel":"t8 = 1;\\n\\nt1 = 0.5;\\nt2 = 0.9;","point_eqs_eel":"d = 0;//d*0.85 + (value1)*1;\\n\\ny = 0.2 + value1+value2;\\nx = 0.9 - sample*0.8;\\n\\ngmegabuf((sample*64-1)*q32 + 14) = value1 + value2;"},{"baseVals":{"samples":280,"additive":1,"scaling":5.92556,"smoothing":0,"a":0.5,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"t1 = 0;\\nt2 = 0;\\n\\n","point_eqs_eel":"// q32 number of attributes\\n// q31 number of objects\\n\\nppo = 7; // number of points used for each object\\nindex = t2*q32; // object\'s index\\n\\nx = 0.5 +(gmegabuf(index)-0.5)/q2;\\ny = 0.5 + (gmegabuf(index+1)-0.5)/q2;\\n\\n// collecting pairs of index and distance to the current object in a local buffer\\ni = 0;\\nj = 0;\\nloop(q31,\\n     d = sqrt( sqr(gmegabuf(index)-gmegabuf(i)) + sqr(gmegabuf(index+1)-gmegabuf(i+1)));\\n     d = if( equal(d,0), 1, d);\\n     megabuf(j)   = i; // store index/distance pairs\\n     megabuf(j+1) = d;\\n     j = j+2;\\n     i = i+q32;\\n    );\\n\\n// sort that buffer, but only 5 cycles for the 5 nearest objects\\ni = 0;\\nloop( 5,\\n      j = i;\\n      smallestfind = 100;\\n      findindex = 0;\\n      loop( q31-j,\\n            distance =megabuf(j*2+1);\\n            smaller = above( smallestfind, distance);\\n            smallestfind = if(smaller, distance, smallestfind);\\n            findindex = if( smaller, j*2, findindex);\\n            j = j + 1;\\n          );\\n\\n      // now that the nearest object was found, swap it to the buffer\'s top\\n\\n      j = megabuf(i);\\n      d = megabuf(i+1);\\n\\n      megabuf(i)   = megabuf(findindex);\\n      megabuf(i+1) = megabuf(findindex+1);\\n      megabuf(findindex)   = j;\\n      megabuf(findindex+1) = d;\\n\\n      i = i+1;\\n    );\\n\\n\\nindex2 = (t1)%ppo;\\ni = megabuf(index2-2);\\nxx = 0.5 + (gmegabuf(i)-0.5)/q2;\\nyy = 0.5 + (gmegabuf(i+1)-0.5)/q2;\\nw = asin(1)*index2/4;\\n//xx = x + sin(w)*0.1;\\n//yy = y + cos(w)*0.1;\\nx = if( equal(index2%2,0), x, xx);\\ny = if( equal(index2%2,0), y, yy);\\n\\n\\na = below(index2,ppo-1)*above(index2,1)*a;\\nr = 0.5 + gmegabuf(index + 5)*0.5;\\ng = 0.5 + gmegabuf(index + 6)*0.5;\\nb = 0.5 + gmegabuf(index + 7)*0.5;\\n\\n\\nt2 = t2 + equal(t1%ppo,ppo-1);\\nt1 = t1 + 1;\\n\\n//a = above(t1,128);"},{"baseVals":{"samples":15,"thick":1,"additive":1,"scaling":5.92556,"smoothing":0,"a":0.4,"enabled":0},"init_eqs_eel":"t2 = 0","frame_eqs_eel":"t1 = 0;\\nt2 = 0;\\nt3 = 0;\\nt4 = 0.5;","point_eqs_eel":"ppo = 5;\\n\\nindex = t2*q32;\\nneighbor = 1;\\nneighbor = gmegabuf(index+10+neighbor);\\nx = 0.5 + (gmegabuf(index)-0.5)/q2;\\ny = 0.5 + (gmegabuf(index+1)-0.5)/q2;\\nxx = 0.5 + ( gmegabuf(neighbor) - 0.5)/q2;\\nyy = 0.5 + ( gmegabuf(neighbor+1) - 0.5)/q2;\\n\\nx = if( equal(t1 % 2, 0), x, xx);\\ny = if( equal(t1 % 2, 0), y, yx);\\n\\n\\nt2 = t2 + equal(t1,ppo);\\nt1 = if(above(t1,ppo),t1-ppo,t1) + 1;\\n"}],"init_eqs_eel":"// clear buffer\\ni = 0; loop(1024*1024, gmegabuf(i) = 0; i = i+1;);\\n\\ncount = 50;\\nattributes = 32;\\nnListStart = 24; // starting index of neighbor list\\n\\nminradius = 0.004;\\nmaxradius = 0.04;\\nv = 0.0;\\n\\n// randomize initial coordinates\\nindex = 0;\\nloop(count,\\n     gmegabuf(index*attributes) = rand(1000)/1000;\\n     gmegabuf(index*attributes+1) = rand(1000)/1000;\\n     gmegabuf(index*attributes+2) = v*(rand(1000)/1000-0.5);\\n     gmegabuf(index*attributes+3) = v*(rand(1000)/1000-0.5);\\n     gmegabuf(index*attributes+4) = minradius + (maxradius-minradius)*(index+1)/count;\\n     gmegabuf(index*attributes+5) = 0;\\n     gmegabuf(index*attributes+6) = 1;\\n     gmegabuf(index*attributes+7) = 1;\\n     gmegabuf(index*attributes+8) = pow(gmegabuf(index*attributes+4),3) ;\\n     gmegabuf(index*attributes+9) = 4*asin(1)*rand(1000)/1000;\\n     gmegabuf(index*attributes+10) = 0;\\n     gmegabuf(index*attributes+13) = index/(count-1);\\n     gmegabuf(index*attributes+14) = 0;\\n     index = index+1;\\n    );\\n\\nq30 = nListStart;\\nq31 = count;\\nq32 = attributes;\\n\\n// 0, x\\n// 1, y\\n// 2, vx\\n// 3, vy\\n// 4, radius\\n// 5, red\\n// 6, green\\n// 7, blue\\n// 8, mass\\n// 9, angle\\n// 10, rotation\\n// 11, bend force\\n// 12, bending\\n// 13, sample\\n// 14, spectrum","frame_eqs_eel":"dt = 1/fps;\\n\\nwarp = 0;\\nzoom = 1;\\nwave_a = 0;\\n\\ngravity = 0.0015*dt*0;\\ndampening = 0;\\nfriction = 2048*dt;\\nshock = 0.002;\\npi2 = asin(1);\\n\\nnn = 3; // number of nearest neighbors to search, reduce if not needed\\n        // provide enough attributes, otherwise the next object\'s coordinate will be overwritten\\n        // collision detection is based on nearest neighbors, so keep it at least at 1.\\n\\ncheck = 2; // how many neighbors will be checked for a possible collision. may not be above nn.\\n           // raise to avoid odd behavior in clusters of touching objects.\\n\\nbouncefactor = 0.1;\\nrotatefactor = 0; // relation between angular and translative momentum, when object hits a border. this is an empirical value for a convincing impression\\n\\n\\n\\nh = (aspecty-1)*0.5; w = (aspectx-1)*0.5;\\nindex = 0; index2 = 0;\\nloop(count,\\n\\n     random = rand(1000)/1000;\\n     sample = gmegabuf(index+13);\\n\\n     // bend force\\n     gmegabuf(index + 11) = gmegabuf(index + 11)*0.92 - 4*gmegabuf(index+12)*dt + 2*(random-0.5)*dt*gmegabuf(index+14);\\n\\n     // bend\\n     gmegabuf(index + 12) += 60*gmegabuf(index + 11)*dt;\\n\\n     v = sqrt( sqr( gmegabuf(index + 2) ) + sqr( gmegabuf(index + 3) ) );\\n\\n     // apply friction\\n     fric = max(0,1 - sqr(v*friction) - v*2);\\n     gmegabuf(index + 2) *= fric;\\n     gmegabuf(index + 3) *= fric;\\n\\n     // apply direction change\\n     gmegabuf(index + 10) = gmegabuf(index + 10)*fric +  v*gmegabuf(index +12)*0;\\n\\n     // apply acceleration force\\n     acceleration = random*0.000 + abs(gmegabuf(index+11))*0.003;\\n     direction = gmegabuf(index + 9) - pi2;\\n     gmegabuf(index + 2) += sin(direction)*acceleration;\\n     gmegabuf(index + 3) += cos(direction)*acceleration;\\n\\n     // adding velocity vectors\\n     gmegabuf(index) = gmegabuf(index) + gmegabuf(index+2)*60*dt;\\n     gmegabuf(index+1) = gmegabuf(index+1) + gmegabuf(index+3)*60*dt;\\n     gmegabuf(index+9) = gmegabuf(index+9) + gmegabuf(index+10)*0.5;\\n\\n     // applying gravity\\n     gmegabuf(index+3) = gmegabuf(index+3) - gravity;\\n\\n     vr = sin(gmegabuf(index+10))*gmegabuf(index+4); // rotation speed at the surface\\n\\n     // bounce off ceiling\\n     bounce = above( gmegabuf(index+1), 1 - gmegabuf(index+4) + w);\\n     gmegabuf(index+2) = if( bounce, gmegabuf(index+2) + (vr+gmegabuf(index+2))*rotatefactor, gmegabuf(index+2));\\n     gmegabuf(index+3) = if( bounce, -abs(gmegabuf(index+3))*dampening - shock, gmegabuf(index+3));\\n     vr = if( bounce, vr - (gmegabuf(index+2) + vr)*(1-rotatefactor), vr);\\n\\n     // bounce off floor\\n     bounce = below( gmegabuf(index+1), gmegabuf(index+4) - w);\\n     gmegabuf(index+2) = if( bounce, gmegabuf(index+2) + (vr-gmegabuf(index+2))*rotatefactor, gmegabuf(index+2));\\n     gmegabuf(index+3) = if( bounce, abs(gmegabuf(index+3))*dampening + shock, gmegabuf(index+3));\\n     vr = if( bounce, vr + (gmegabuf(index+2) - vr)*(1-rotatefactor), vr);\\n\\n     // bounce off right border\\n     bounce = above( gmegabuf(index), 1 - gmegabuf(index+4) + h);\\n     gmegabuf(index+2) = if( bounce, -abs(gmegabuf(index+2))*dampening - shock, gmegabuf(index+2));\\n     gmegabuf(index+3) = if( bounce, gmegabuf(index+3) + (vr-gmegabuf(index+3))*rotatefactor, gmegabuf(index+3));\\n     vr = if( bounce, vr + (gmegabuf(index+3) - vr)*(1-rotatefactor), vr);\\n\\n     // bounce off left border\\n     bounce = below( gmegabuf(index), gmegabuf(index+4) - h);\\n     gmegabuf(index+2) = if( bounce, abs(gmegabuf(index+2))*dampening + shock, gmegabuf(index+2));\\n     gmegabuf(index+3) = if( bounce, gmegabuf(index+3) - (vr+gmegabuf(index+3))*rotatefactor, gmegabuf(index+3));\\n     vr = if( bounce, vr - (gmegabuf(index+3) + vr)*(1-rotatefactor), vr);\\n\\n     gmegabuf(index+10) = asin(vr/gmegabuf(index+4));\\n\\n     i = 0; j = 0; // collecting pairs of index and distance to the current object in a local buffer\\n     loop( count,\\n           d = sqrt( sqr(gmegabuf(index)-gmegabuf(i)) + sqr(gmegabuf(index+1)-gmegabuf(i+1)));\\n           d = if( equal(d,0), 10, d); // leave out comparison with itself (where d == 0, set d to a high value)\\n           d = d - (gmegabuf(index+4)+gmegabuf(i+4))*0.5; // subtract radius (surface to surface distance)\\n           megabuf(j)   = i; // store index/distance pairs\\n           megabuf(j+1) = d;\\n           j = j+2;\\n           i = i+attributes; );\\n     i = 0; // sort that buffer, but only as many cycles as needed for the _nn_ nearest neighbors\\n     loop( nn,\\n           j = i; smallestfind = 10; findindex = -1;\\n           loop( count-j,\\n                 distance =megabuf(j*2+1);\\n                 smaller = above( smallestfind, distance);\\n                 smallestfind = if(smaller, distance, smallestfind);\\n                 findindex = if( smaller, j*2, findindex);\\n                 j = j + 1; );\\n           j = megabuf(i*2); d = megabuf(i*2+1);\\n           megabuf(i*2)   = megabuf(findindex);\\n           megabuf(i*2+1) = megabuf(findindex+1);\\n           megabuf(findindex)   = j;\\n           megabuf(findindex+1) = d;\\n           i = i+1;\\n         );\\n     i = 0; // storing the indexes of the nearest neighbors in the list\\n     loop( nn,\\n           gmegabuf(index + nListStart + i) = megabuf(i*2);\\n           i = i +1;\\n         );\\n     i = 0; // collision detection and impulse transmission below\\n     loop( check,\\n           index2 = megabuf(i);\\n           hit = below( sqrt( sqr( gmegabuf(index) - gmegabuf(index2)) +\\n                              sqr( gmegabuf(index+1) - gmegabuf(index2+1))),\\n                        gmegabuf(index + 4) + gmegabuf(index2 + 4)\\n                      )\\n                 *\\n                 above( sqrt( sqr( gmegabuf(index)   - gmegabuf(index2))+\\n                        sqr( gmegabuf(index+1) - gmegabuf(index2+1))),\\n                        sqrt( sqr( gmegabuf(index+0) - gmegabuf(index2+0)+\\n                                   gmegabuf(index+2) - gmegabuf(index2+2))+\\n                              sqr( gmegabuf(index+1) - gmegabuf(index2+1)+\\n                                   gmegabuf(index+3) - gmegabuf(index2+3)) ) );\\n           ref_ang = atan2( gmegabuf(index2)-gmegabuf(index), // calculating the angle of the common tangent\\n                            gmegabuf(index2 + 1)-gmegabuf(index + 1)) + pi2;\\n           v1 = sqrt(sqr( gmegabuf(index + 2)) + sqr( gmegabuf(index + 3))); // velocity of object1\\n           v2 = sqrt(sqr( gmegabuf(index2 + 2)) + sqr( gmegabuf(index2 + 3)));  // velocity of object2\\n           w1 = atan2( gmegabuf(index + 2), gmegabuf(index + 3));   // object1 motion angle\\n           w2 = atan2( gmegabuf(index2 + 2), gmegabuf(index2 + 3)); // object2 motion angle\\n           vr2 = sin(gmegabuf(index2 + 10))*gmegabuf(index2+4); // the other object\'s surface velocity\\n           m1 = gmegabuf(index + 8); m2 = gmegabuf(index2 + 8);\\n           vv1 = ((m1-m2)*v1 + 2*m2*v2)/(m1+m2); vv2 = ((m2-m1)*v2 + 2*m1*v1)/(m1+m2);\\n           vrr = ((m1-m2)*vr + 2*m2*vr2)/(m1+m2); vrr2 = ((m2-m1)*vr2 + 2*m1*vr)/(m1+m2);\\n\\n           gmegabuf( index + 2) = if( hit, sin(ref_ang)*v1*cos(w1-ref_ang) + ((vr-vr2)-sin(ref_ang)*v1*cos(w1-ref_ang))*0.1\\n                                         + cos(ref_ang)*vv1*sin(w2-ref_ang),\\n                                                  gmegabuf( index + 2) );\\n\\n           gmegabuf( index + 3) = if( hit, cos(ref_ang)*v1*cos(w1-ref_ang) + ((vr-vr2)-cos(ref_ang)*v1*cos(w1-ref_ang))*0.1\\n                                         - sin(ref_ang)*vv1*sin(w2-ref_ang),\\n                                                 gmegabuf( index + 3) );\\n\\n           gmegabuf( index2 + 2) = if( hit, sin(ref_ang)*v2*cos(w2-ref_ang) + ((vr2-vr)-sin(ref_ang)*v2*cos(w2-ref_ang))*0.1\\n                                          + cos(ref_ang)*vv2*sin(w1-ref_ang),\\n                                                  gmegabuf( index2 + 2) );\\n\\n           gmegabuf( index2 + 3) = if( hit, cos(ref_ang)*v2*cos(w2-ref_ang) + ((vr2-vr)-cos(ref_ang)*v2*cos(w2-ref_ang))*0.1\\n                                          - sin(ref_ang)*vv2*sin(w1-ref_ang),\\n                                                  gmegabuf( index2 + 3) );\\n\\n           vr = if( hit, vr + (cos(w1-ref_ang)*(v1-v2)-vr) , vr);\\n           gmegabuf( index + 10) = asin( vr / gmegabuf(index+4) );\\n\\n           vr2 = if( hit, vr2 + (cos(w2-ref_ang)*(v2-v1)-vr2) , vr2);\\n           gmegabuf( index2 + 10) = asin( vr2 / gmegabuf(index2+4) );\\n\\n           i=i+2;\\n         );\\n     index = index+attributes;\\n    );\\n\\n\\nq1 = aspectx;\\nq2 = aspecty;","pixel_eqs_eel":"","warp":" shader_body { \\n  vec3 ret_1;\\n  ret_1.z = (texture (sampler_main, uv).z * 0.5);\\n  vec2 tmpvar_2;\\n  tmpvar_2 = ((uv_orig * texsize.xy) * texsize_noise_lq.zw);\\n  vec2 tmpvar_3;\\n  tmpvar_3 = (texsize.zw * 4.0);\\n  vec2 tmpvar_4;\\n  tmpvar_4.x = (((2.0 * \\n    ((texture (sampler_blur1, (uv_orig + (vec2(1.0, 0.0) * tmpvar_3))).xyz * scale1) + bias1)\\n  ) - (2.0 * \\n    ((texture (sampler_blur1, (uv_orig - (vec2(1.0, 0.0) * tmpvar_3))).xyz * scale1) + bias1)\\n  )).y * 0.5);\\n  tmpvar_4.y = (((2.0 * \\n    ((texture (sampler_blur1, (uv_orig + (vec2(0.0, 1.0) * tmpvar_3))).xyz * scale1) + bias1)\\n  ) - (2.0 * \\n    ((texture (sampler_blur1, (uv_orig - (vec2(0.0, 1.0) * tmpvar_3))).xyz * scale1) + bias1)\\n  )).y * 0.5);\\n  ret_1.y = texture (sampler_fw_main, clamp ((uv_orig + (\\n    (tmpvar_4 * texsize.zw)\\n   * 4.0)), 0.0, 1.0)).y;\\n  ret_1.y = (ret_1.y + ((\\n    (ret_1 - ((texture (sampler_blur1, uv_orig).xyz * scale1) + bias1))\\n  .y * 0.025) + -0.014));\\n  ret_1.y = (ret_1.y + ((texture (sampler_noise_lq, tmpvar_2).y - 0.5) * 0.02));\\n  vec2 tmpvar_5;\\n  tmpvar_5.x = (((2.0 * \\n    ((texture (sampler_blur1, (uv_orig + (vec2(1.0, 0.0) * tmpvar_3))).xyz * scale1) + bias1)\\n  ) - (2.0 * \\n    ((texture (sampler_blur1, (uv_orig - (vec2(1.0, 0.0) * tmpvar_3))).xyz * scale1) + bias1)\\n  )).x * 0.5);\\n  tmpvar_5.y = (((2.0 * \\n    ((texture (sampler_blur1, (uv_orig + (vec2(0.0, 1.0) * tmpvar_3))).xyz * scale1) + bias1)\\n  ) - (2.0 * \\n    ((texture (sampler_blur1, (uv_orig - (vec2(0.0, 1.0) * tmpvar_3))).xyz * scale1) + bias1)\\n  )).x * 0.5);\\n  ret_1.x = ((texture (sampler_main, (uv - \\n    ((tmpvar_5 * texsize.zw) * 4.0)\\n  )).x - (ret_1.y * 0.01)) + 0.004);\\n  ret_1.x = (ret_1.x + ((\\n    (texture (sampler_noise_lq, tmpvar_2).x - 0.5)\\n   * 0.01) + (ret_1.z * 0.14)));\\n  vec4 tmpvar_6;\\n  tmpvar_6.w = 1.0;\\n  tmpvar_6.xyz = ret_1;\\n  ret = tmpvar_6.xyz;\\n }","comp":" shader_body { \\n  vec3 ret_1;\\n  vec2 tmpvar_2;\\n  tmpvar_2 = (texsize.zw * 4.0);\\n  vec2 tmpvar_3;\\n  tmpvar_3.x = (((2.0 * \\n    ((texture (sampler_blur1, (uv + (vec2(1.0, 0.0) * tmpvar_2))).xyz * scale1) + bias1)\\n  ) - (2.0 * \\n    ((texture (sampler_blur1, (uv - (vec2(1.0, 0.0) * tmpvar_2))).xyz * scale1) + bias1)\\n  )) * 0.5).y;\\n  tmpvar_3.y = (((2.0 * \\n    ((texture (sampler_blur1, (uv + (vec2(0.0, 1.0) * tmpvar_2))).xyz * scale1) + bias1)\\n  ) - (2.0 * \\n    ((texture (sampler_blur1, (uv - (vec2(0.0, 1.0) * tmpvar_2))).xyz * scale1) + bias1)\\n  )) * 0.5).y;\\n  vec2 tmpvar_4;\\n  tmpvar_4 = (uv - ((tmpvar_3 * texsize.zw) * 128.0));\\n  vec4 tmpvar_5;\\n  tmpvar_5 = texture (sampler_main, uv);\\n  ret_1 = (((\\n    ((texture (sampler_blur2, tmpvar_4).xyz * scale2) + bias2)\\n  .x * \\n    clamp ((1.0 - tmpvar_5.y), 0.0, 1.0)\\n  ) * pow (hue_shader.yxz, vec3(8.0, 8.0, 8.0))) * 3.0);\\n  ret_1 = (mix (mix (ret_1, \\n    (pow (hue_shader.yzx, vec3(8.0, 8.0, 8.0)) * 1.4)\\n  , vec3(\\n    ((texture (sampler_main, tmpvar_4).x * 0.8) + ((texture (sampler_blur1, tmpvar_4).xyz * scale1) + bias1).x)\\n  )), vec3(1.0, 1.0, 1.0), (\\n    (pow (hue_shader, vec3(8.0, 8.0, 8.0)) * texture (sampler_main, clamp (uv, 0.0, 1.0)).y)\\n   * 1.2)) * clamp ((1.0 - tmpvar_5.z), 0.0, 1.0));\\n  vec4 tmpvar_6;\\n  tmpvar_6.w = 1.0;\\n  tmpvar_6.xyz = ret_1;\\n  ret = tmpvar_6.xyz;\\n }"}') }, "./presets/converted/Flexi - area 51.json": e => { e.exports = JSON.parse('{"version":2,"baseVals":{"rating":5,"gammaadj":1,"decay":0.995,"echo_zoom":1.007,"echo_orient":3,"wave_thick":1,"modwavealphabyvolume":1,"wave_a":0.9,"wave_scale":2.997,"wave_smoothing":0,"wave_mystery":-0.5,"modwavealphastart":1,"modwavealphaend":1,"warpanimspeed":0.274,"warpscale":7.98,"zoom":0.99951,"warp":0.20929,"wave_r":0.02,"wave_g":0.02,"wave_b":0,"ob_size":0.5,"ob_r":1,"ob_g":0.12,"ob_b":1,"ob_a":0.37,"ib_size":0,"ib_a":1,"mv_x":0,"mv_y":0,"mv_l":5,"mv_a":0,"b1ed":0.2},"shapes":[{"baseVals":{"sides":99,"textured":1,"x":1,"y":0.63,"rad":1.3,"tex_zoom":0.763,"g":1,"b":1,"a":0.97,"r2":1,"b2":1,"border_r":0,"border_g":0,"border_b":0,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"sides":100,"textured":1,"y":0.55,"rad":0.225,"g":1,"b":1,"a":0.97,"r2":1,"b2":1,"a2":1,"border_r":0,"border_g":0,"border_b":0,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"sides":100,"textured":1,"x":0.85,"y":0,"rad":1.3,"tex_zoom":2.068,"g":1,"b":1,"a":0.97,"r2":1,"b2":1,"a2":0.97,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"sides":3,"textured":1,"x":0.02,"rad":0.733,"ang":1.319,"tex_zoom":100,"g":1,"b":1,"a":0.97,"r2":1,"b2":1,"a2":0.97,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""}],"waves":[{"baseVals":{"sep":60,"scaling":0.08,"smoothing":0.4,"r":0,"g":0,"b":0,"a":0.97,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"sep":20,"scaling":0.07,"smoothing":0.65,"r":0.3,"g":0.3,"b":0.3,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"sep":30,"scaling":0.07,"r":0.3,"g":0.3,"b":0.3,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"sep":60,"r":0,"g":0,"b":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""}],"init_eqs_eel":"x1 = 0;\\ny1= .001;\\nz1 = 0;","frame_eqs_eel":"zoom = 1;\\nwave_a = 0;\\n\\nstartx = 0.3;\\nstarty = 0.3;\\n\\na = 0.55;\\nb = 0.05;\\nd = 0.09;\\n\\nq1 = aspectx;\\nq2 = aspecty;\\nq5 = a;\\nq6 = b;\\nq7 = d;\\n\\n\\n// coloring borders\\nbb = bb*0.99 + bass*0.02;\\nmm = mm*0.99 + mid*0.02;\\ntt = tt*0.99 + treb*0.02;\\n\\nmx = max(max(bb,mm),tt);\\nmn = min(min(bb,mm),tt);\\n\\nh1 = (bb-mn)/(mx-mn);\\nh2 = (mm-mn)/(mx-mn);\\nh3 = (tt-mn)/(mx-mn);\\n\\nv = 0.1333/fps;\\nbm = bm + (h1-h2)*v;\\nmt = mt + (h2-h3)*v;\\nbt = bt + (h1-h3)*v;\\n\\nw = bm*2;\\nq3 = sin(w);\\nq4 = cos(w);\\n\\n\\nq10 = bm;\\nq11 = mt;\\nq12 = bt;","pixel_eqs_eel":"x = 0.5 + (x-0.51)*q1;\\ny = 0.5 - (y-0.5)*q2;\\ndx = (x*(1-x)-q5*x*y/(x+q6));\\ndy = -q7*y*(1-y/x);\\n\\ndx = -dx*0.02/q1;\\ndy = -dy*0.02/q2;","warp":" shader_body { \\n  vec2 my_uv2_1;\\n  vec2 dz_2;\\n  vec3 ret_3;\\n  vec2 tmpvar_4;\\n  tmpvar_4 = (texsize.zw * 4.0);\\n  vec3 tmpvar_5;\\n  tmpvar_5 = ((2.0 * (\\n    (texture (sampler_blur1, (uv + (vec2(1.0, 0.0) * tmpvar_4))).xyz * scale1)\\n   + bias1)) - (2.0 * (\\n    (texture (sampler_blur1, (uv - (vec2(1.0, 0.0) * tmpvar_4))).xyz * scale1)\\n   + bias1)));\\n  vec3 tmpvar_6;\\n  tmpvar_6 = ((2.0 * (\\n    (texture (sampler_blur1, (uv + (vec2(0.0, 1.0) * tmpvar_4))).xyz * scale1)\\n   + bias1)) - (2.0 * (\\n    (texture (sampler_blur1, (uv - (vec2(0.0, 1.0) * tmpvar_4))).xyz * scale1)\\n   + bias1)));\\n  vec2 tmpvar_7;\\n  tmpvar_7.x = tmpvar_5.x;\\n  tmpvar_7.y = tmpvar_6.x;\\n  vec2 tmpvar_8;\\n  tmpvar_8 = (tmpvar_7 * texsize.zw);\\n  ret_3.x = (texture (sampler_fw_main, (uv - tmpvar_8)).x - ((\\n    (texture (sampler_blur3, uv).xyz * scale3)\\n   + bias3).x - (\\n    (texture (sampler_blur1, (uv + tmpvar_8)).xyz * scale1)\\n   + bias1).x));\\n  vec2 tmpvar_9;\\n  tmpvar_9.x = tmpvar_5.y;\\n  tmpvar_9.y = tmpvar_6.y;\\n  dz_2 = (-(tmpvar_9) * texsize.zw);\\n  ret_3.y = ((texture (sampler_fw_main, (uv - dz_2)).y - 0.06) - ((\\n    ((texture (sampler_blur2, uv).xyz * scale2) + bias2)\\n  .y - \\n    ((texture (sampler_blur1, (uv + dz_2)).xyz * scale1) + bias1)\\n  .y) * 1.3));\\n  vec2 tmpvar_10;\\n  tmpvar_10 = ((uv_orig - 0.5) * (1.8 - (\\n    (bass_att - treb_att)\\n   * 0.015)));\\n  vec2 tmpvar_11;\\n  tmpvar_11.x = ((tmpvar_10.x * tmpvar_10.x) - (tmpvar_10.y * tmpvar_10.y));\\n  tmpvar_11.y = ((2.0 * tmpvar_10.x) * tmpvar_10.y);\\n  my_uv2_1 = (tmpvar_11 + vec2(0.28, 0.4));\\n  vec2 tmpvar_12;\\n  tmpvar_12.x = ((2.0 * (\\n    (texture (sampler_blur1, (my_uv2_1 + (vec2(1.0, 0.0) * tmpvar_4))).xyz * scale1)\\n   + bias1)) - (2.0 * (\\n    (texture (sampler_blur1, (my_uv2_1 - (vec2(1.0, 0.0) * tmpvar_4))).xyz * scale1)\\n   + bias1))).z;\\n  tmpvar_12.y = ((2.0 * (\\n    (texture (sampler_blur1, (my_uv2_1 + (vec2(0.0, 1.0) * tmpvar_4))).xyz * scale1)\\n   + bias1)) - (2.0 * (\\n    (texture (sampler_blur1, (my_uv2_1 - (vec2(0.0, 1.0) * tmpvar_4))).xyz * scale1)\\n   + bias1))).z;\\n  dz_2 = (tmpvar_12 * texsize.zw);\\n  ret_3.z = (texture (sampler_main, clamp ((my_uv2_1 + dz_2), 0.0, 1.0)).z - 0.014);\\n  vec4 tmpvar_13;\\n  tmpvar_13.w = 1.0;\\n  tmpvar_13.xyz = ret_3;\\n  ret = tmpvar_13.xyz;\\n }","comp":" shader_body { \\n  vec3 dy_1;\\n  vec3 dx_2;\\n  vec2 mirror_uv_3;\\n  vec3 ret_4;\\n  vec2 tmpvar_5;\\n  tmpvar_5 = ((uv - 0.5) * aspect.xy);\\n  vec2 tmpvar_6;\\n  tmpvar_6.x = ((q4 * tmpvar_5.x) - (q3 * tmpvar_5.y));\\n  tmpvar_6.y = ((q3 * tmpvar_5.x) + (q4 * tmpvar_5.y));\\n  vec2 tmpvar_7;\\n  tmpvar_7 = (0.5 - (tmpvar_6 * 2.0));\\n  vec2 numerator_8;\\n  numerator_8 = (tmpvar_7 - vec2(0.0, 0.5));\\n  vec2 denominator_9;\\n  denominator_9 = (tmpvar_7 - vec2(1.0, 0.5));\\n  vec2 tmpvar_10;\\n  tmpvar_10.x = ((numerator_8.x * denominator_9.x) + (numerator_8.y * denominator_9.y));\\n  tmpvar_10.y = ((numerator_8.y * denominator_9.x) - (numerator_8.x * denominator_9.y));\\n  vec2 tmpvar_11;\\n  tmpvar_11 = (((tmpvar_10 / \\n    ((denominator_9.x * denominator_9.x) + (denominator_9.y * denominator_9.y))\\n  ) + 0.5) - vec2(0.5, 0.5));\\n  float tmpvar_12;\\n  tmpvar_12 = sqrt(dot (tmpvar_11, tmpvar_11));\\n  float tmpvar_13;\\n  float tmpvar_14;\\n  tmpvar_14 = (min (abs(\\n    (tmpvar_11.x / tmpvar_11.y)\\n  ), 1.0) / max (abs(\\n    (tmpvar_11.x / tmpvar_11.y)\\n  ), 1.0));\\n  float tmpvar_15;\\n  tmpvar_15 = (tmpvar_14 * tmpvar_14);\\n  tmpvar_15 = (((\\n    ((((\\n      ((((-0.01213232 * tmpvar_15) + 0.05368138) * tmpvar_15) - 0.1173503)\\n     * tmpvar_15) + 0.1938925) * tmpvar_15) - 0.3326756)\\n   * tmpvar_15) + 0.9999793) * tmpvar_14);\\n  tmpvar_15 = (tmpvar_15 + (float(\\n    (abs((tmpvar_11.x / tmpvar_11.y)) > 1.0)\\n  ) * (\\n    (tmpvar_15 * -2.0)\\n   + 1.570796)));\\n  tmpvar_13 = (tmpvar_15 * sign((tmpvar_11.x / tmpvar_11.y)));\\n  if ((abs(tmpvar_11.y) > (1e-08 * abs(tmpvar_11.x)))) {\\n    if ((tmpvar_11.y < 0.0)) {\\n      if ((tmpvar_11.x >= 0.0)) {\\n        tmpvar_13 += 3.141593;\\n      } else {\\n        tmpvar_13 = (tmpvar_13 - 3.141593);\\n      };\\n    };\\n  } else {\\n    tmpvar_13 = (sign(tmpvar_11.x) * 1.570796);\\n  };\\n  vec2 tmpvar_16;\\n  tmpvar_16.x = (tmpvar_13 * 0.1591549);\\n  tmpvar_16.y = tmpvar_12;\\n  vec2 tmpvar_17;\\n  tmpvar_17.x = ((tmpvar_16.x * 2.0) + q11);\\n  tmpvar_17.y = ((0.3 * log(tmpvar_12)) + q12);\\n  vec2 tmpvar_18;\\n  tmpvar_18 = (0.5 + (0.5 - abs(\\n    ((fract((tmpvar_17 * 0.5)) * 2.0) - 1.0)\\n  )));\\n  vec2 tmpvar_19;\\n  tmpvar_19 = (texsize.zw * 3.0);\\n  vec3 tmpvar_20;\\n  tmpvar_20 = ((2.0 * (\\n    (texture (sampler_blur1, (tmpvar_18 + (vec2(1.0, 0.0) * tmpvar_19))).xyz * scale1)\\n   + bias1)) - (2.0 * (\\n    (texture (sampler_blur1, (tmpvar_18 - (vec2(1.0, 0.0) * tmpvar_19))).xyz * scale1)\\n   + bias1)));\\n  vec3 tmpvar_21;\\n  tmpvar_21 = ((2.0 * (\\n    (texture (sampler_blur1, (tmpvar_18 + (vec2(0.0, 1.0) * tmpvar_19))).xyz * scale1)\\n   + bias1)) - (2.0 * (\\n    (texture (sampler_blur1, (tmpvar_18 - (vec2(0.0, 1.0) * tmpvar_19))).xyz * scale1)\\n   + bias1)));\\n  vec2 tmpvar_22;\\n  tmpvar_22.x = tmpvar_20.x;\\n  tmpvar_22.y = tmpvar_21.x;\\n  mirror_uv_3 = (tmpvar_18 + ((tmpvar_22 * texsize.zw) * 4.0));\\n  ret_4 = ((mix (ret_4, vec3(1.0, 1.0, 1.0), \\n    ((((texture (sampler_blur1, mirror_uv_3).xyz * scale1) + bias1).x * (1.0 - (\\n      (texture (sampler_blur2, mirror_uv_3).xyz * scale2)\\n     + bias2).x)) * (pow (hue_shader, vec3(4.0, 4.0, 4.0)) * 1.4))\\n  ) * texture (sampler_main, mirror_uv_3).xxx) + ((\\n    (1.0 - texture (sampler_main, mirror_uv_3).x)\\n   * \\n    ((texture (sampler_blur1, mirror_uv_3).xyz * scale1) + bias1)\\n  .x) * vec3(3.0, 3.0, 3.0)));\\n  vec2 tmpvar_23;\\n  tmpvar_23.x = tmpvar_20.x;\\n  tmpvar_23.y = tmpvar_21.x;\\n  mirror_uv_3 = (mirror_uv_3 - ((tmpvar_23 * texsize.zw) * 24.0));\\n  dx_2 = ((2.0 * (\\n    (texture (sampler_blur1, (mirror_uv_3 + (vec2(1.0, 0.0) * tmpvar_19))).xyz * scale1)\\n   + bias1)) - (2.0 * (\\n    (texture (sampler_blur1, (mirror_uv_3 - (vec2(1.0, 0.0) * tmpvar_19))).xyz * scale1)\\n   + bias1)));\\n  dy_1 = ((2.0 * (\\n    (texture (sampler_blur1, (mirror_uv_3 + (vec2(0.0, 1.0) * tmpvar_19))).xyz * scale1)\\n   + bias1)) - (2.0 * (\\n    (texture (sampler_blur1, (mirror_uv_3 - (vec2(0.0, 1.0) * tmpvar_19))).xyz * scale1)\\n   + bias1)));\\n  vec2 tmpvar_24;\\n  tmpvar_24.x = -(dx_2.y);\\n  tmpvar_24.y = dy_1.y;\\n  vec2 tmpvar_25;\\n  tmpvar_25 = (tmpvar_24 * 0.25);\\n  vec3 tmpvar_26;\\n  tmpvar_26 = mix (ret_4, vec3(1.0, 1.0, 1.0), (mix (vec3(1.0, 0.7, 0.2), vec3(0.15, 0.0, 0.5), vec3(\\n    ((((\\n      ((mirror_uv_3.x * 0.8) - mirror_uv_3.y)\\n     + 0.75) + tmpvar_25.x) + tmpvar_25.y) - 0.1)\\n  )) * texture (sampler_main, mirror_uv_3).y));\\n  vec2 tmpvar_27;\\n  vec2 tmpvar_28;\\n  tmpvar_28 = ((0.5 + (\\n    (uv - 0.5)\\n   * aspect.wz)) - vec2(0.5, 0.5));\\n  vec2 tmpvar_29;\\n  tmpvar_29.x = ((q4 * tmpvar_28.x) - (q3 * tmpvar_28.y));\\n  tmpvar_29.y = ((q3 * tmpvar_28.x) + (q4 * tmpvar_28.y));\\n  tmpvar_27 = (vec2(0.5, 0.5) + tmpvar_29);\\n  mirror_uv_3 = tmpvar_27.yx;\\n  vec2 tmpvar_30;\\n  tmpvar_30 = (vec2(1.0, 0.0) * texsize.zw);\\n  dx_2 = ((2.0 * texture (sampler_main, (tmpvar_27.yx + tmpvar_30)).xyz) - (2.0 * texture (sampler_main, (tmpvar_27.yx - tmpvar_30)).xyz));\\n  vec2 tmpvar_31;\\n  tmpvar_31 = (vec2(0.0, 1.0) * texsize.zw);\\n  dy_1 = ((2.0 * texture (sampler_main, (tmpvar_27.yx + tmpvar_31)).xyz) - (2.0 * texture (sampler_main, (tmpvar_27.yx - tmpvar_31)).xyz));\\n  vec2 tmpvar_32;\\n  tmpvar_32.x = dx_2.z;\\n  tmpvar_32.y = dy_1.z;\\n  vec3 tmpvar_33;\\n  tmpvar_33 = mix (tmpvar_26, vec3(0.9, 0.9, 1.0), vec3((1.0 - texture (sampler_main, (tmpvar_27.yx - tmpvar_32)).z)));\\n  ret_4 = tmpvar_33;\\n  vec4 tmpvar_34;\\n  tmpvar_34.w = 1.0;\\n  tmpvar_34.xyz = tmpvar_33;\\n  ret = tmpvar_34.xyz;\\n }"}') }, "./presets/converted/Flexi - infused with the spiral.json": e => { e.exports = JSON.parse('{"version":2,"baseVals":{"rating":5,"gammaadj":1,"decay":0.5,"echo_zoom":1.03,"wave_brighten":0,"wrap":0,"wave_a":0.001,"wave_scale":0.01,"wave_smoothing":0,"modwavealphastart":1,"modwavealphaend":1,"warpscale":0.107,"zoomexp":4.28632,"fshader":1,"warp":0.01743,"wave_r":0,"wave_g":0,"wave_b":0,"ob_size":0,"ob_g":1,"ob_a":1,"ib_size":0,"ib_r":1,"ib_g":1,"ib_b":1,"ib_a":1,"mv_x":64,"mv_y":48,"mv_l":5,"mv_a":0,"b1ed":0},"shapes":[{"baseVals":{"enabled":1,"sides":100,"textured":1,"rad":0.789,"ang":0.6283,"tex_zoom":1.17257,"r":0,"g":1,"border_a":0},"init_eqs_eel":"vx = 0;\\nvy = 0;","frame_eqs_eel":"rad = 0.65 + bass*0.1;\\n\\nan = an*0.99 + (bass-treb)*0.1;\\nang = an*0.1 + 0.6;"},{"baseVals":{"sides":100,"thickoutline":1,"textured":1,"rad":0.40271,"tex_zoom":2.23888,"g":1,"b":1,"r2":0.08,"g2":0,"a2":1,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"sides":100,"textured":1,"rad":1.21525,"tex_ang":2.57611,"tex_zoom":0.55595,"g":1,"b":1,"g2":0,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"sides":34,"x":0.99,"y":0.99,"rad":0.02558,"r":0,"g":1,"a2":1,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""}],"waves":[{"baseVals":{"enabled":1,"samples":495,"sep":4,"spectrum":1,"thick":1,"additive":1,"scaling":100,"smoothing":1,"r":0,"g":0.04,"b":0,"a":0.99},"init_eqs_eel":"t2 = 0;\\nt3 = 0;\\nt4 = 0;\\nab = 1;","frame_eqs_eel":"t1 = q1;\\nt2 = q2;\\nt3 = q3;\\nt4 = q4;\\nt5 = q5;\\nt6 = q6;\\nt8 = .07;\\nt7 = 1;","point_eqs_eel":"t7 = -t7;\\npi = asin(1);\\nn = 180;\\nrd = 0.075;//+(value1*10+1)*((sample*512)%2)*0.02;\\nmy_x = sin(sample*pi*4+(t7+1)*t8)*0.5 + cos(sample*pi*n)*rd*sin(sample*pi*4+(t7+1)*t8);\\nmy_y = cos(sample*pi*4+(t7+1)*t8)*0.5 + cos(sample*pi*n)*rd*cos(sample*pi*4+(t7+1)*t8);\\nmy_z = sin(sample*pi*n)*rd;\\n\\n\\n\\nd = 1.4; // makes the perspective impact\\nzoom = 0.65;\\n\\nw1 = q2;\\nw2 = q3;\\nw3 = q4;\\n\\nx1 = cos(w1)*my_x + sin(w1)*my_y;\\ny1 = -sin(w1)*my_x + cos(w1)*my_y;\\nz1 = my_z;\\n\\nx2 = cos(w2)*x1 + sin(w2)*z1;\\nz2 = -sin(w2)*x1 + cos(w2)*z1;\\ny2 = y1;\\n\\ny3 = cos(w3)*y2 + sin(w3)*z2;\\nz3 = -sin(w3)*y2 + cos(w3)*z2;\\nx3 = x2;\\n\\n// perspective calculation\\n\\nl = sqrt(x3*x3 + y3*y3);\\nw = atan2(x3,y3);\\np = tan(asin(1) + atan2(d+z3,l));\\nd = sqrt(x3*x3 + y3*y3 + (z3+d)*(z3+d));\\n\\nmy_x = zoom*sin(w)*p;\\nmy_y = zoom*cos(w)*p;\\n\\nx = 0.5 + my_x;\\ny = 0.5 + my_y;\\n\\nb = -z3 + 0.5;\\nb = min(1,max(0,b))*0.5;\\nr = 1-b*2\\n//b = (1 - r)*0.1;\\n//a =  7/(d*16) - 0.1;"},{"baseVals":{"samples":445,"sep":4,"spectrum":1,"usedots":1,"thick":1,"additive":1,"scaling":100,"smoothing":1,"a":0.99,"enabled":0},"init_eqs_eel":"t2 = 0;\\nt3 = 0;\\nt4 = 0;\\nab = 1;","frame_eqs_eel":"t1 = q1;\\nt2 = q2;\\nt3 = q3;\\nt4 = q4;\\nt5 = q5;\\nt6 = q6;\\nt8 = .09;\\nt7 = 1;","point_eqs_eel":"t7 = -t7;\\npi = asin(1);\\nn = 160;\\nrd = 0.075;//+(value1*10+1)*((sample*512)%2)*0.02;\\nxx = sin(sample*pi*4+(t7+1)*t8)*0.5 + cos(sample*pi*n)*rd*sin(sample*pi*4);\\nyy = cos(sample*pi*4+(t7+1)*t8)*0.5 + cos(sample*pi*n)*rd*cos(sample*pi*4);\\nzz = sin(sample*pi*n)*rd;\\n\\nd = sqrt( xx*xx + yy*yy + zz*zz);\\nd1 = 1;\\nxx = xx*d1;\\nyy = yy*d1;\\nzz = zz*d1;\\n\\nw = -d*t5;\\ns1 = sin(t2*1+w);\\ns2 = sin(t3*1+w);\\ns3 = sin(t4*1+w);\\nc1 = cos(t2*1+w);\\nc2 = cos(t3*1+w);\\nc3 = cos(t4*1+w);\\n\\nz = (c3*s1*c2 + s3*s2)*xx - (c3*s1*s2-s3*c2)*yy + c3*c1*zz;\\nx1 = (c1*c2*xx + c1*s2*yy - s1*zz);\\ny1 = ((s3*s1*c2 - c3*s2)*xx + (s3*s1*s2+c3*c2)*yy + s3*c1*zz);\\n\\na = 0.75;\\nzoom = 0.5*atan2(a,a+z);//0.5*(1/(z+a));\\nx = 0.5 + zoom*x1;\\ny = 0.5 + zoom*y1;\\n\\npi3 = 3.1415*2*0.3333;\\nt = sample*pi*4-2*time;\\nc=1.6;\\nr = sin(t)*c;\\n\\ng = sin(t+pi3)*c;\\n\\nb = sin(t-pi3)*c;\\n\\nj = 0.71;\\n//r = 0.5+xx*j;\\n//g = 0.5+yy*j;\\n//b = 0.5+zz*j;\\n\\nr = if(above(r,1),1,r);\\nr = if(below(r,0),0,r);\\ng = if(above(g,1),1,g);\\ng = if(below(g,0),0,g);\\nb = if(above(b,1),1,b);\\nb = if(below(b,0),0,b);\\na = 1-(z + a)/2;\\n"},{"baseVals":{"sep":4,"scaling":0.09348,"smoothing":1,"enabled":0},"init_eqs_eel":"t2 = 0;\\nt3 = 0;\\nt4 = 0;\\nab = 1;","frame_eqs_eel":"t1 = q1;\\nt2 = q2;\\nt3 = q3;\\nt4 = q4;\\nt5 = q5;\\nt6 = q6;","point_eqs_eel":"s8 = sample*383;\\n\\ns = 100;//0.3;\\nxx = sin(sample*s);//((sample*343)%7 - 3.5)*s;\\nzz = cos(sample*s);//((sample*49)%7 - 3.5)*s;\\nyy = (sample-0.5);//((sample*7)%7 - 3.5)*s;\\n\\nd = sqrt( xx*xx + yy*yy + zz*zz);\\nd1 = 1/d;\\nxx = xx*d1;\\nyy = yy*d1;\\nzz = zz*d1;\\n\\nw = 1+0*(d)*(t6);//(sample*sin(time*0.3)*0.02-1);\\ns1 = sin(t2*w);\\ns2 = sin(t3*w);\\ns3 = sin(t4*w);\\nc1 = cos(t2*w);\\nc2 = cos(t3*w);\\nc3 = cos(t4*w);\\n\\nz = (c3*s1*c2 + s3*s2)*xx - (c3*s1*s2-s3*c2)*yy + c3*c1*zz;\\nx1 = (c1*c2*xx + c1*s2*yy - s1*zz);\\ny1 = ((s3*s1*c2 - c3*s2)*xx + (s3*s1*s2+c3*c2)*yy + s3*c1*zz);\\n\\na = 2;\\nzoom = 0.3*atan2(a-z,a);//0.5*(1/(z+a));\\nx = 0.5 + zoom*x1;\\ny = 0.5 + zoom*y1;\\n\\npi3 = 3.1415*2*0.3333;\\nt = -z*13+t5*20;\\nc = 10;\\nr = sin(t)*c;\\n\\ng = sin(t+pi3)*c;\\n\\nb = sin(t-pi3)*c;\\n\\nj = 0.71;\\n//r = 0.5+xx*j;\\n//g = 0.5+yy*j;\\n//b = 0.5+zz*j;\\n\\nr = if(above(r,1),1,r);\\nr = if(below(r,0),0,r);\\ng = if(above(g,1),1,g);\\ng = if(below(g,0),0,g);\\nb = if(above(b,1),1,b);\\nb = if(below(b,0),0,b);\\n\\n\\na = sigmoid(-z,10)*1.0+0.0;"},{"baseVals":{"samples":484,"sep":4,"usedots":1,"scaling":9.94125,"smoothing":1,"enabled":0},"init_eqs_eel":"t2 = 0;\\nt3 = 0;\\nt4 = 0;\\nab = 1;","frame_eqs_eel":"t1 = q1;\\nt2 = q2;\\nt3 = q3;\\nt4 = q4;\\nt5 = q5;\\nt6 = q6;","point_eqs_eel":"s8 = sample*383;\\n\\ns = 0.25;\\nxx = ((sample*(465))%15 - 8)*s*2;\\nyy = ((sample*31)%31 - 16)*s;\\nzz = 0;\\n\\nd = sqrt( xx*xx + yy*yy + zz*zz);\\nw = 1;\\n\\ns1 = sin(t2*1);\\ns2 = sin(t3*0);\\ns3 = sin(t4*1);\\nc1 = cos(t2*1);\\nc2 = cos(t3*0);\\nc3 = cos(t4*1);\\n\\n\\nz = (c3*s1*c2 + s3*s2)*xx - (c3*s1*s2-s3*c2)*yy + c3*c1*zz;\\nx1 = (c1*c2*xx + c1*s2*yy - s1*zz);\\ny1 = ((s3*s1*c2 - c3*s2)*xx + (s3*s1*s2+c3*c2)*yy + s3*c1*zz);\\n\\na = 500;\\nzoom = 0.05*atan2(a-z,a);//0.5*(1/(z+a));\\nx = 0.5 + zoom*x1;\\ny = 0.5 + zoom*y1;\\n\\npi3 = 3.1415*2*0.3333;\\nt = -z*5+t5;\\nc = 10;\\nr = sin(t)*c;\\n\\ng = sin(t+pi3)*c;\\n\\nb = sin(t-pi3)*c;\\n\\nj = 0.71;\\n//r = 0.5+xx*j;\\n//g = 0.5+yy*j;\\n//b = 0.5+zz*j;\\n\\nr = if(above(r,1),1,r);\\nr = if(below(r,0),0,r);\\ng = if(above(g,1),1,g);\\ng = if(below(g,0),0,g);\\nb = if(above(b,1),1,b);\\nb = if(below(b,0),0,b);\\n\\n\\na = sigmoid(z,5);"}],"init_eqs_eel":"x1 = 0;\\ny1 = 0;","frame_eqs_eel":"q1 = 0;\\nv = 0.4;\\nj1 = j1*0.95 + sqr(bass*4)*v;\\nj2 = j2*0.95 + sqr(mid*4)*v;\\nj3 = j3*0.95 + sqr(treb*4)*v;\\n\\nn = n + j1*0.0052;\\nn1 = n1 + j2*0.0052;\\nn2 = n2 + j3*0.0052;\\n\\n\\nq2 = n*0.01;\\nq3 = n1*0.01;\\nq4 = n2*0.01;\\n\\nk = k*0.99 + sqr(mid_att*2);\\nq5 = k*0.00;\\n\\nzoom = 1.0016;\\nwarp = 0;\\n\\nrot = -0.00;\\n\\nq9 = aspectx;\\nq10 = aspecty;","pixel_eqs_eel":"","warp":" shader_body { \\n  vec3 ret_1;\\n  vec2 tmpvar_2;\\n  tmpvar_2 = (texsize.zw * 4.0);\\n  vec2 tmpvar_3;\\n  tmpvar_3.x = (((texture (sampler_blur2, \\n    (uv + (vec2(0.0, 1.0) * tmpvar_2))\\n  ).xyz * scale2) + bias2) - ((texture (sampler_blur2, \\n    (uv - (vec2(0.0, 1.0) * tmpvar_2))\\n  ).xyz * scale2) + bias2)).z;\\n  tmpvar_3.y = -(((\\n    (texture (sampler_blur2, (uv + (vec2(1.0, 0.0) * tmpvar_2))).xyz * scale2)\\n   + bias2) - (\\n    (texture (sampler_blur2, (uv - (vec2(1.0, 0.0) * tmpvar_2))).xyz * scale2)\\n   + bias2)).z);\\n  vec2 tmpvar_4;\\n  tmpvar_4 = (uv + ((tmpvar_3 * texsize.zw) * 60.0));\\n  vec2 x_5;\\n  x_5 = (tmpvar_4 - uv);\\n  vec4 tmpvar_6;\\n  tmpvar_6 = texture (sampler_main, uv);\\n  vec4 tmpvar_7;\\n  tmpvar_7 = texture (sampler_blur1, uv);\\n  ret_1.z = (((texture (sampler_main, tmpvar_4).z + \\n    (((tmpvar_6.z - (\\n      (tmpvar_7.xyz * scale1)\\n     + bias1).z) * 200.0) * sqrt(dot (x_5, x_5)))\\n  ) * 0.96) - 0.02);\\n  vec2 tmpvar_8;\\n  tmpvar_8.x = (((texture (sampler_blur1, \\n    (uv + (vec2(1.0, 0.0) * tmpvar_2))\\n  ).xyz * scale1) + bias1) - ((texture (sampler_blur1, \\n    (uv - (vec2(1.0, 0.0) * tmpvar_2))\\n  ).xyz * scale1) + bias1)).y;\\n  tmpvar_8.y = (((texture (sampler_blur1, \\n    (uv + (vec2(0.0, 1.0) * tmpvar_2))\\n  ).xyz * scale1) + bias1) - ((texture (sampler_blur1, \\n    (uv - (vec2(0.0, 1.0) * tmpvar_2))\\n  ).xyz * scale1) + bias1)).y;\\n  ret_1.y = ((texture (sampler_main, (uv_orig + \\n    ((tmpvar_8 * texsize.zw) * 6.0)\\n  )).y + (\\n    (tmpvar_6.y - ((tmpvar_7.xyz * scale1) + bias1).y)\\n   * 0.1)) - 0.016);\\n  vec4 tmpvar_9;\\n  tmpvar_9.w = 1.0;\\n  tmpvar_9.xyz = ret_1;\\n  ret = tmpvar_9.xyz;\\n }","comp":" shader_body { \\n  vec3 ret_1;\\n  vec2 tmpvar_2;\\n  tmpvar_2 = (texsize.zw * 8.0);\\n  vec3 tmpvar_3;\\n  tmpvar_3 = (((texture (sampler_blur1, \\n    (uv + (vec2(1.0, 0.0) * tmpvar_2))\\n  ).xyz * scale1) + bias1) - ((texture (sampler_blur1, \\n    (uv - (vec2(1.0, 0.0) * tmpvar_2))\\n  ).xyz * scale1) + bias1));\\n  vec3 tmpvar_4;\\n  tmpvar_4 = (((texture (sampler_blur1, \\n    (uv + (vec2(0.0, 1.0) * tmpvar_2))\\n  ).xyz * scale1) + bias1) - ((texture (sampler_blur1, \\n    (uv - (vec2(0.0, 1.0) * tmpvar_2))\\n  ).xyz * scale1) + bias1));\\n  vec2 tmpvar_5;\\n  tmpvar_5.x = tmpvar_3.z;\\n  tmpvar_5.y = tmpvar_4.z;\\n  vec2 tmpvar_6;\\n  tmpvar_6.x = tmpvar_3.y;\\n  tmpvar_6.y = tmpvar_4.y;\\n  ret_1 = (mix (vec3(0.2, 0.0, 0.1), vec3(0.8, 0.6, 0.0), texture (sampler_main, (uv - \\n    (tmpvar_5 * 0.2)\\n  )).yyy) * ((\\n    (-(tmpvar_3.y) + tmpvar_4.y)\\n   + 1.0) + (\\n    (-(tmpvar_3.z) + tmpvar_4.z)\\n   * 2.0)));\\n  vec3 tmpvar_7;\\n  tmpvar_7 = mix (mix (ret_1, vec3(0.2, 0.0, 0.4), vec3((\\n    ((texture (sampler_blur1, (uv - (tmpvar_6 * 0.04))).xyz * scale1) + bias1)\\n  .x * 1.4))), vec3(1.0, 0.9, 0.8), texture (sampler_main, uv).zzz);\\n  ret_1 = tmpvar_7;\\n  vec4 tmpvar_8;\\n  tmpvar_8.w = 1.0;\\n  tmpvar_8.xyz = tmpvar_7;\\n  ret = tmpvar_8.xyz;\\n }"}') }, "./presets/converted/Flexi - mindblob [shiny mix].json": e => { e.exports = JSON.parse('{"version":2,"baseVals":{"rating":1,"gammaadj":1,"decay":1,"echo_zoom":1,"echo_alpha":0.5,"additivewave":1,"wave_thick":1,"modwavealphabyvolume":1,"wave_brighten":0,"wave_a":2.789,"wave_scale":0.292,"wave_smoothing":0,"wave_mystery":0.12,"modwavealphastart":1,"modwavealphaend":1,"warpanimspeed":0.01,"warpscale":100,"zoomexp":0.92178,"zoom":0.9901,"warp":0.01,"wave_g":0,"ob_size":0,"ob_r":0.2,"ob_a":0.1,"ib_size":0,"ib_r":0,"ib_g":0,"ib_b":0,"ib_a":1,"mv_x":64,"mv_y":48,"mv_l":0,"mv_b":0,"mv_a":0,"b1ed":0},"shapes":[{"baseVals":{"sides":100,"additive":1,"thickoutline":1,"rad":0.71426,"tex_ang":0.12566,"tex_zoom":1.51878,"a":0,"g2":0,"border_r":0.1,"border_g":0,"border_b":0,"border_a":1,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"enabled":1,"sides":100,"additive":1,"thickoutline":1,"x":0.43,"y":0.42,"rad":0.15799,"ang":0.1885,"tex_zoom":0.87865,"r":0,"g":1,"g2":0,"border_a":0},"init_eqs_eel":"","frame_eqs_eel":"x = q4;\\ny = q8;"},{"baseVals":{"thickoutline":1,"x":1,"rad":3.0054,"tex_ang":0.12566,"tex_zoom":1.51878,"r":0,"g":1,"g2":0,"a2":1,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"thickoutline":1,"x":1,"rad":0.39872,"tex_ang":0.12566,"tex_zoom":1.51878,"g":1,"b":1,"r2":1,"b2":1,"a2":1,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""}],"waves":[{"baseVals":{"usedots":1,"scaling":2.44415,"smoothing":0,"a":0,"enabled":0},"init_eqs_eel":"t2 = 0;\\nt3 = 0;\\nt4 = 0;\\ncl = 0;","frame_eqs_eel":"t1 = 0;\\nv = 0.01;\\nj = j + (bass)*0.01;\\nj2 = j2 + (mid_att)*0.01;\\nj3 = j3 + (treb_att)*0.01;\\nt2 = j;\\nt3 = j2;\\nt4 = j3;\\n//t5 = 0;\\nk = k*0.99 + 10*mid/fps;\\nt5 = -k;\\n\\ncl1 = cl1 + 0.002;\\ncl1 = if(above(cl1,1),0,cl1);\\ncl1 = if(below(cl1,0),1,cl1);\\nt8 = cl1;\\n\\ncl2 = cl2 -1*q1;\\ncl2 = if(above(cl2,1),0,cl2);\\ncl2 = if(below(cl2,0),1,cl2);\\nt7 = cl2;\\n\\ncl3 = cl3 +0.001;\\ncl3 = if(above(cl3,1),0,cl3);\\ncl3 = if(below(cl3,0),1,cl3);\\nt6 = cl3;","point_eqs_eel":"xx = ((sample*0983624912364)%10000000+100)/10000000;\\nyy = ((xx*1896575575)%10000000+100)/10000000;\\nzz = ((yy*58652340875)%10000000+100)/10000000;\\n\\n\\nd = sqrt(sqr(xx)+sqr(yy)+sqr(zz));\\n\\nzz = zz + t8 - if(above(zz+t8,1),1,0) - 0.5;\\nxx = xx + t7 - if(above(xx+t7,1),1,0) - 0.5;\\nyy = yy + t6 - if(above(yy+t6,1),1,0) - 0.5;\\n\\nv = 0.001;\\n\\nw = 1;// (sample*sin(time*0.3)*0.01-1);\\nbb = d*d*0.5;\\nn= 0.3;\\ns1 = sin(sin(t2*w+bb)*n);\\ns2 = sin(sin(t3*w+bb)*n);\\ns3 = sin(sin(t4*w+bb)*n);\\nc1 = cos(sin(t2*w+bb)*n);\\nc2 = cos(sin(t3*w+bb)*n);\\nc3 = cos(sin(t4*w+bb)*n);\\n\\nz = (c3*s1*c2 + s3*s2)*xx - (c3*s1*s2-s3*c2)*yy + c3*c1*zz;\\nx1 = (c1*c2*xx + c1*s2*yy - s1*zz);\\ny1 = ((s3*s1*c2 - c3*s2)*xx + (s3*s1*s2+c3*c2)*yy + s3*c1*zz);\\n\\nzoom = .5*(1/(z+0.5));\\nx = 0.5 + zoom*x1 + sin(time*0.1)*0;;\\ny = 0.5 + zoom*y1 + cos(time*0.16801)*0;\\n\\npi3 = 3.1415*2*0.3333;\\nt = z*2+t2*1;\\nc=3;\\n//r = sin(t)*c;\\n\\n//g = sin(t+pi3)*c;\\n\\n//b = sin(t-pi3)*c;\\n\\n\\nr = if(above(r,1),1,r);\\nr = if(below(r,0),0,r);\\ng = if(above(g,1),1,g);\\ng = if(below(g,0),0,g);\\nb = if(above(b,1),1,b);\\nb = if(below(b,0),0,b);\\n\\na = 0.4;"},{"baseVals":{"scaling":2.44415,"smoothing":0,"enabled":0},"init_eqs_eel":"t2 = 0;\\nt3 = 0;\\nt4 = 0;\\ncl = 0;","frame_eqs_eel":"t8 = 1;","point_eqs_eel":"t8 = -t8;\\ny = sample;\\nx = 0.5 + t8*0.005;\\n\\npi3 = 3.1415*2*0.3333;\\nt = time + sample*2;\\nc=2;\\n\\nr = sin(t)*c;\\ng = sin(t+pi3)*c;\\n\\nb = sin(t-pi3)*c;\\n\\n\\nr = if(above(r,1),1,r);\\nr = if(below(r,0),0,r);\\ng = if(above(g,1),1,g);\\ng = if(below(g,0),0,g);\\nb = if(above(b,1),1,b);\\nb = if(below(b,0),0,b);\\n"},{"baseVals":{"thick":1,"additive":1,"scaling":100,"smoothing":0.6,"r":0,"g":0.4,"a":0.3,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"t1 = q1;\\nt2 = q2;\\nt3 = q3;\\nt4 = q4;\\nt5 = q5;\\nt6 = q6;\\nt7 = q7;\\nt8 = q8;","point_eqs_eel":"sample = 1-sample;\\nxxx = xx;\\nyyy = yy;\\nxx = pow(sample,5)*t1 + 5*pow(sample,4)*(1-sample)*t1 + 10*pow(sample,3)*sqr(1-sample)*t2\\n+ 10*sqr(sample)*pow(1-sample,3)*t3 + 5*pow(1-sample,4)*sample*t4 + pow(1-sample,5)*t4;\\n\\nyy = pow(sample,5)*t5 + 5*pow(sample,4)*(1-sample)*t5 + 10*pow(sample,3)*sqr(1-sample)*t6\\n+ 10*sqr(sample)*pow(1-sample,3)*t7 + 5*pow(1-sample,4)*sample*t8 + pow(1-sample,5)*t8;\\nd = 1/sqrt(sqr(xx-xxx)+sqr(yy-yyy));\\nx = xx + sample*(1-sample)*(value1-value2)*(yy-yyy)*d;\\ny = yy - sample*(1-sample)*(value1-value2)*(xx-xxx)*d;"},{"baseVals":{"usedots":1,"scaling":2.44415,"smoothing":0,"r":0,"g":0,"enabled":0},"init_eqs_eel":"t2 = 0;\\nt3 = 0;\\nt4 = 0;\\ncl = 0;","frame_eqs_eel":"t8 = 1;","point_eqs_eel":"t8 = -t8;\\ny = (1+t8)*0.01;\\nx = sample;"}],"init_eqs_eel":"x1 = 0.9;\\ny1 = 0.5;\\n\\nx2 = 0.5; y2 = 0.5;\\nx3 = 0.5; y3 = 0.5;\\nx4 = 0.5; y4 = 0.5;","frame_eqs_eel":"decay = 1;\\nxx1 = xx1*0.9 + (bass)*0.01;\\nxx2 = xx2*0.9 + (treb)*0.01;\\nyy1 = yy1*0.94 + (treb+bass)*0.0075;\\n\\nx1 = 0.5 + xx1-xx2;\\ny1 = 0.5 + yy1;\\n\\n//x2 = 0;y2 = 0;x3 = 0;y3 = 0;x4 = 0;y4 = 0;\\n\\nspring = 18;\\ngrav = 1;\\nresist = 0.2;\\nbounce = 0.9;\\ndt = 0.0003;\\n\\nvx2 = vx2*(1-resist*dt) + dt*((x1+x3-2*x2)*spring);\\nvy2 = vy2*(1-resist*dt) + dt*((y1+y3-2*y2)*spring-grav);\\nvx3 = vx3*(1-resist*dt) + dt*((x2+x4-2*x3)*spring);\\nvy3 = vy3*(1-resist*dt) + dt*((y2+y4-2*y3)*spring-grav);\\nvx4 = vx4*(1-resist*dt) + dt*((x3-x4)*spring);\\nvy4 = vy4*(1-resist*dt) + dt*((y3-y4)*spring-grav);\\n\\nx2 = x2 + vx2;\\ny2 = y2 + vy2;\\nx3 = x3 + vx3;\\ny3 = y3 + vy3;\\nx4 = x4 + vx4;\\ny4 = y4 + vy4;\\n\\nvx2 = if(above(x2,0),vx2,abs(vx2)*bounce);\\nvx2 = if(below(x2,1),vx2,-abs(vx2)*bounce);\\nvx3 = if(above(x3,0),vx3,abs(vx3)*bounce);\\nvx3 = if(below(x3,1),vx3,-abs(vx3)*bounce);\\nvx4 = if(above(x4,0),vx4,abs(vx4)*bounce);\\nvx4 = if(below(x4,1),vx4,-abs(vx4)*bounce);\\n\\nvy2 = if(above(y2,0),vy2,abs(vy2)*bounce);\\nvy2 = if(below(y2,1),vy2,-abs(vy2)*bounce);\\nvy3 = if(above(y3,0),vy3,abs(vy3)*bounce);\\nvy3 = if(below(y3,1),vy3,-abs(vy3)*bounce);\\nvy4 = if(above(y4,0),vy4,abs(vy4)*bounce);\\nvy4 = if(below(y4,1),vy4,-abs(vy4)*bounce);\\n\\n\\nq1 = x1;\\nq2 = x2;\\nq3 = x3;\\nq4 = x4;\\n\\nq5 = y1;\\nq6 = y2;\\nq7 = y3;\\nq8 = y4;\\n\\n\\nzoom = 1.004;\\n\\nq6 = atan2(vx4,vy4);\\nq5 = sqrt(vx4*vx4 + vy4*vy4);","pixel_eqs_eel":"dir = -q6*1 + asin(1)*1;\\n\\nb1 = 0.08; // distance\\nm1 = q5*45;//-0.6 + q5*200; // size\\nt1 = 0.5; // velocity\\n\\nxx = 0.5 + (q4-0.5)/aspectx;\\nyy = 1-(0.5 + (q8-0.5)/aspecty);\\n\\n\\nx1 = xx   +cos(dir+1.5708)*b1;\\ny1 = yy -sin(dir+1.5708)*b1;\\n\\nx2 = xx   -cos(dir+1.5708)*b1;\\ny2 = yy +sin(dir+1.5708)*b1;\\n\\nd1 = sqrt((x1-x)*(x1-x)+(y1-y)*(y1-y))-b1*2;\\nsi1 = 1- 1/(1+pow(2,-d1*100));\\n\\nd2 = sqrt((x2-x)*(x2-x)+(y2-y)*(y2-y))-b1*2;\\nsi2 = 1- 1/(1+pow(2,-d2*100));\\n\\nsi3 = -pow(q5,3)*00;\\n\\ndx = (si1*sin(y1-y)*m1*d1  - si2*sin(y2-y)*m1*d2 + si3*cos(dir)*t1)*2/aspectx;\\ndy = (-si1*sin(x1-x)*m1*d1 + si2*sin(x2-x)*m1*d2 - si3*sin(dir)*t1)*2/aspecty;","warp":" shader_body { \\n  vec3 ret_1;\\n  vec2 tmpvar_2;\\n  tmpvar_2 = (texsize.zw * 8.0);\\n  vec2 tmpvar_3;\\n  tmpvar_3.x = (((texture (sampler_blur1, \\n    (uv + (vec2(1.0, 0.0) * tmpvar_2))\\n  ).xyz * scale1) + bias1) - ((texture (sampler_blur1, \\n    (uv - (vec2(1.0, 0.0) * tmpvar_2))\\n  ).xyz * scale1) + bias1)).x;\\n  tmpvar_3.y = (((texture (sampler_blur1, \\n    (uv + (vec2(0.0, 1.0) * tmpvar_2))\\n  ).xyz * scale1) + bias1) - ((texture (sampler_blur1, \\n    (uv - (vec2(0.0, 1.0) * tmpvar_2))\\n  ).xyz * scale1) + bias1)).x;\\n  vec2 tmpvar_4;\\n  tmpvar_4 = (uv - ((tmpvar_3 * texsize.zw) * 0.5));\\n  ret_1.x = texture (sampler_fw_main, tmpvar_4).x;\\n  ret_1.x = (ret_1.x + ((\\n    (ret_1.x - ((texture (sampler_blur3, tmpvar_4).xyz * scale3) + bias3).x)\\n   * 0.2) - 0.004));\\n  ret_1.y = ((texture (sampler_fw_main, uv_orig).y * 0.98) - 0.004);\\n  vec4 tmpvar_5;\\n  tmpvar_5.w = 1.0;\\n  tmpvar_5.xyz = ret_1;\\n  ret = tmpvar_5.xyz;\\n }","comp":" shader_body { \\n  vec2 tmpvar_1;\\n  tmpvar_1 = (texsize.zw * 4.0);\\n  vec2 tmpvar_2;\\n  tmpvar_2.x = (((texture (sampler_blur1, \\n    (uv + (vec2(1.0, 0.0) * tmpvar_1))\\n  ).xyz * scale1) + bias1) - ((texture (sampler_blur1, \\n    (uv - (vec2(1.0, 0.0) * tmpvar_1))\\n  ).xyz * scale1) + bias1)).x;\\n  tmpvar_2.y = (((texture (sampler_blur1, \\n    (uv + (vec2(0.0, 1.0) * tmpvar_1))\\n  ).xyz * scale1) + bias1) - ((texture (sampler_blur1, \\n    (uv - (vec2(0.0, 1.0) * tmpvar_1))\\n  ).xyz * scale1) + bias1)).x;\\n  vec4 tmpvar_3;\\n  tmpvar_3.w = 1.0;\\n  tmpvar_3.xyz = mix ((vec3(0.0, 0.0, 1.0) * texture (sampler_main, uv).x), vec3(1.0, 0.0, 0.0), texture (sampler_main, (uv - tmpvar_2)).yyy);\\n  ret = tmpvar_3.xyz;\\n }"}') }, "./presets/converted/Flexi - mindblob mix.json": e => { e.exports = JSON.parse('{"version":2,"baseVals":{"rating":1,"gammaadj":1,"decay":1,"echo_zoom":1,"echo_alpha":0.5,"wave_thick":1,"wave_brighten":0,"wrap":0,"wave_a":0.004,"wave_scale":0.01,"wave_smoothing":0,"wave_mystery":-0.44,"modwavealphastart":1,"modwavealphaend":1,"warpanimspeed":0.137,"warpscale":13.125,"zoom":0.99951,"warp":0.99213,"wave_y":0.04,"ob_size":0.015,"ob_r":0.1,"ob_g":0.25,"ob_a":1,"ib_size":0,"ib_b":1,"mv_x":64,"mv_y":48,"mv_l":0,"mv_b":0,"mv_a":0},"shapes":[{"baseVals":{"enabled":1,"sides":100,"thickoutline":1,"rad":0.02015,"tex_ang":0.12566,"tex_zoom":1.51878,"r":0,"a":0.1,"g2":0,"border_a":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"thickoutline":1,"x":1,"rad":0.39872,"tex_ang":0.12566,"tex_zoom":1.51878,"g":1,"b":1,"r2":1,"b2":1,"a2":1,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"thickoutline":1,"x":1,"rad":3.0054,"tex_ang":0.12566,"tex_zoom":1.51878,"r":0,"g":1,"g2":0,"a2":1,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"thickoutline":1,"x":1,"rad":0.39872,"tex_ang":0.12566,"tex_zoom":1.51878,"g":1,"b":1,"r2":1,"b2":1,"a2":1,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""}],"waves":[{"baseVals":{"usedots":1,"scaling":2.44415,"smoothing":0,"a":0,"enabled":0},"init_eqs_eel":"t2 = 0;\\nt3 = 0;\\nt4 = 0;\\ncl = 0;","frame_eqs_eel":"t1 = 0;\\nv = 0.01;\\nj = j + (bass)*0.01;\\nj2 = j2 + (mid_att)*0.01;\\nj3 = j3 + (treb_att)*0.01;\\nt2 = j;\\nt3 = j2;\\nt4 = j3;\\n//t5 = 0;\\nk = k*0.99 + 10*mid/fps;\\nt5 = -k;\\n\\ncl1 = cl1 + 0.002;\\ncl1 = if(above(cl1,1),0,cl1);\\ncl1 = if(below(cl1,0),1,cl1);\\nt8 = cl1;\\n\\ncl2 = cl2 -1*q1;\\ncl2 = if(above(cl2,1),0,cl2);\\ncl2 = if(below(cl2,0),1,cl2);\\nt7 = cl2;\\n\\ncl3 = cl3 +0.001;\\ncl3 = if(above(cl3,1),0,cl3);\\ncl3 = if(below(cl3,0),1,cl3);\\nt6 = cl3;","point_eqs_eel":"xx = ((sample*0983624912364)%10000000+100)/10000000;\\nyy = ((xx*1896575575)%10000000+100)/10000000;\\nzz = ((yy*58652340875)%10000000+100)/10000000;\\n\\n\\nd = sqrt(sqr(xx)+sqr(yy)+sqr(zz));\\n\\nzz = zz + t8 - if(above(zz+t8,1),1,0) - 0.5;\\nxx = xx + t7 - if(above(xx+t7,1),1,0) - 0.5;\\nyy = yy + t6 - if(above(yy+t6,1),1,0) - 0.5;\\n\\nv = 0.001;\\n\\nw = 1;// (sample*sin(time*0.3)*0.01-1);\\nbb = d*d*0.5;\\nn= 0.3;\\ns1 = sin(sin(t2*w+bb)*n);\\ns2 = sin(sin(t3*w+bb)*n);\\ns3 = sin(sin(t4*w+bb)*n);\\nc1 = cos(sin(t2*w+bb)*n);\\nc2 = cos(sin(t3*w+bb)*n);\\nc3 = cos(sin(t4*w+bb)*n);\\n\\nz = (c3*s1*c2 + s3*s2)*xx - (c3*s1*s2-s3*c2)*yy + c3*c1*zz;\\nx1 = (c1*c2*xx + c1*s2*yy - s1*zz);\\ny1 = ((s3*s1*c2 - c3*s2)*xx + (s3*s1*s2+c3*c2)*yy + s3*c1*zz);\\n\\nzoom = .5*(1/(z+0.5));\\nx = 0.5 + zoom*x1 + sin(time*0.1)*0;\\ny = 0.5 + zoom*y1 + cos(time*0.16801)*0;\\n\\npi3 = 3.1415*2*0.3333;\\nt = z*2+t2*1;\\nc=3;\\n//r = sin(t)*c;\\n\\n//g = sin(t+pi3)*c;\\n\\n//b = sin(t-pi3)*c;\\n\\n\\nr = if(above(r,1),1,r);\\nr = if(below(r,0),0,r);\\ng = if(above(g,1),1,g);\\ng = if(below(g,0),0,g);\\nb = if(above(b,1),1,b);\\nb = if(below(b,0),0,b);\\n\\na = 0.4;"},{"baseVals":{"scaling":2.44415,"smoothing":0,"enabled":0},"init_eqs_eel":"t2 = 0;\\nt3 = 0;\\nt4 = 0;\\ncl = 0;","frame_eqs_eel":"t8 = 1;","point_eqs_eel":"t8 = -t8;\\ny = sample;\\nx = 0.5 + t8*0.005;\\n\\npi3 = 3.1415*2*0.3333;\\nt = time + sample*2;\\nc=2;\\n\\nr = sin(t)*c;\\ng = sin(t+pi3)*c;\\n\\nb = sin(t-pi3)*c;\\n\\n\\nr = if(above(r,1),1,r);\\nr = if(below(r,0),0,r);\\ng = if(above(g,1),1,g);\\ng = if(below(g,0),0,g);\\nb = if(above(b,1),1,b);\\nb = if(below(b,0),0,b);\\n"},{"baseVals":{"thick":1,"additive":1,"scaling":100,"smoothing":0.6,"r":0,"g":0.4,"a":0.3,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"t1 = q1;\\nt2 = q2;\\nt3 = q3;\\nt4 = q4;\\nt5 = q5;\\nt6 = q6;\\nt7 = q7;\\nt8 = q8;","point_eqs_eel":"sample = 1-sample;\\nxxx = xx;\\nyyy = yy;\\nxx = pow(sample,5)*t1 + 5*pow(sample,4)*(1-sample)*t1 + 10*pow(sample,3)*sqr(1-sample)*t2\\n+ 10*sqr(sample)*pow(1-sample,3)*t3 + 5*pow(1-sample,4)*sample*t4 + pow(1-sample,5)*t4;\\n\\nyy = pow(sample,5)*t5 + 5*pow(sample,4)*(1-sample)*t5 + 10*pow(sample,3)*sqr(1-sample)*t6\\n+ 10*sqr(sample)*pow(1-sample,3)*t7 + 5*pow(1-sample,4)*sample*t8 + pow(1-sample,5)*t8;\\nd = 1/sqrt(sqr(xx-xxx)+sqr(yy-yyy));\\nx = xx + sample*(1-sample)*(value1-value2)*(yy-yyy)*d;\\ny = yy - sample*(1-sample)*(value1-value2)*(xx-xxx)*d;"},{"baseVals":{"usedots":1,"scaling":2.44415,"smoothing":0,"r":0,"g":0,"enabled":0},"init_eqs_eel":"t2 = 0;\\nt3 = 0;\\nt4 = 0;\\ncl = 0;","frame_eqs_eel":"t8 = 1;","point_eqs_eel":"t8 = -t8;\\ny = (1+t8)*0.01;\\nx = sample;"}],"init_eqs_eel":"","frame_eqs_eel":"warp = 0;\\nwave_a = 0;\\n// elastic thread code\\n\\nxx1 = xx1*0.9 + (bass)*0.01;\\nxx2 = xx2*0.9 + (treb)*0.01;\\nyy1 = yy1*0.94 + (treb+bass)*0.0075;\\nx1 = 0.5 + (xx1-xx2)*2;\\ny1 = 0.4 + yy1*1.5;\\ndt = 0.03/fps;\\nvx2 = vx2*(1-2*dt) + dt*((x1+x3-2*x2)*10);\\nvy2 = vy2*(1-2*dt) + dt*((y1+y3-2*y2)*10-0.5);\\nvx3 = vx3*(1-2*dt) + dt*((x2+x4-2*x3)*10);\\nvy3 = vy3*(1-2*dt) + dt*((y2+y4-2*y3)*10-0.5);\\nvx4 = vx4*(1-2*dt) + dt*((x3-x4)*10);\\nvy4 = vy4*(1-2*dt) + dt*((y3-y4)*10-0.5);\\nx2 = x2 + vx2; y2 = y2 + vy2;\\nx3 = x3 + vx3; y3 = y3 + vy3;\\nx4 = x4 + vx4; y4 = y4 + vy4;\\nvx2 = if(above(x2,0),vx2,abs(vx2)*0.5);\\nvx2 = if(below(x2,1),vx2,-abs(vx2)*0.5);\\nvx3 = if(above(x3,0),vx3,abs(vx3)*0.5);\\nvx3 = if(below(x3,1),vx3,-abs(vx3)*0.5);\\nvx4 = if(above(x4,0),vx4,abs(vx4)*0.5);\\nvx4 = if(below(x4,1),vx4,-abs(vx4)*0.5);\\nvy2 = if(above(y2,0),vy2,abs(vy2)*0.5);\\nvy2 = if(below(y2,1),vy2,-abs(vy2)*0.5);\\nvy3 = if(above(y3,0),vy3,abs(vy3)*0.5);\\nvy3 = if(below(y3,1),vy3,-abs(vy3)*0.5);\\nvy4 = if(above(y4,0),vy4,abs(vy4)*0.5);\\nvy4 = if(below(y4,1),vy4,-abs(vy4)*0.5);\\nq1 = x1;q2 = x2;q3 = x3;q4 = x4;\\nq5 = y1;q6 = y2;q7 = y3;q8 = y4;\\nq9 = 1/aspectx;\\nq10 = 1/aspecty;\\nq11 = aspectx;\\nq12 = aspecty;\\nq13 = sqrt(vx4*vx4 + vy4*vy4);\\nq14 = atan2(vx4,vy4);\\nq15 = sin(q14);\\nq16 = cos(q14);","pixel_eqs_eel":"","warp":" shader_body { \\n  vec2 uv_1;\\n  vec2 my_uv_2;\\n  vec3 ret_3;\\n  vec2 tmpvar_4;\\n  tmpvar_4.x = q4;\\n  tmpvar_4.y = (1.0 - q8);\\n  vec2 tmpvar_5;\\n  tmpvar_5.x = -(q15);\\n  tmpvar_5.y = q16;\\n  vec2 domain_6;\\n  vec2 uv_rot_7;\\n  domain_6 = (uv - tmpvar_4);\\n  domain_6 = (domain_6 * aspect.xy);\\n  float tmpvar_8;\\n  tmpvar_8 = (1.0/((1.0 + exp(\\n    ((sqrt(dot (domain_6, domain_6)) - 0.07) * 50.0)\\n  ))));\\n  domain_6 = (domain_6 + ((tmpvar_5 * q13) * (aspect.wz * tmpvar_8)));\\n  float tmpvar_9;\\n  tmpvar_9 = sin(tmpvar_8);\\n  float tmpvar_10;\\n  tmpvar_10 = cos(tmpvar_8);\\n  uv_rot_7.x = ((tmpvar_10 * domain_6.x) - (tmpvar_9 * domain_6.y));\\n  uv_rot_7.y = ((tmpvar_9 * domain_6.x) + (tmpvar_10 * domain_6.y));\\n  uv_rot_7 = (uv_rot_7 * aspect.zw);\\n  uv_rot_7 = (uv_rot_7 + tmpvar_4);\\n  uv_1 = (clamp ((tmpvar_4 + \\n    ((uv_rot_7 - tmpvar_4) * mix (1.0, 4.0, tmpvar_8))\\n  ), 0.0, 1.0) + (texsize.zw * vec2(0.0, 0.15)));\\n  vec2 tmpvar_11;\\n  tmpvar_11 = mix (uv_orig, uv_1, vec2(0.2, 0.2));\\n  uv_1 = tmpvar_11;\\n  vec2 tmpvar_12;\\n  tmpvar_12 = (vec2(1280.0, 1024.0) * texsize.zw);\\n  float tmpvar_13;\\n  tmpvar_13 = (((\\n    (texture (sampler_blur2, (tmpvar_11 + vec2(0.005, 0.0))).xyz * scale2)\\n   + bias2) - (\\n    (texture (sampler_blur2, (tmpvar_11 - vec2(0.005, 0.0))).xyz * scale2)\\n   + bias2)).x * tmpvar_12.x);\\n  float tmpvar_14;\\n  tmpvar_14 = (((\\n    (texture (sampler_blur2, (tmpvar_11 + vec2(0.0, 0.005))).xyz * scale2)\\n   + bias2) - (\\n    (texture (sampler_blur2, (tmpvar_11 - vec2(0.0, 0.005))).xyz * scale2)\\n   + bias2)).x * tmpvar_12.y);\\n  vec2 tmpvar_15;\\n  tmpvar_15.x = tmpvar_13;\\n  tmpvar_15.y = tmpvar_14;\\n  vec2 tmpvar_16;\\n  tmpvar_16.x = (((\\n    (texture (sampler_blur2, (tmpvar_11 + vec2(0.005, 0.0))).xyz * scale2)\\n   + bias2) - (\\n    (texture (sampler_blur2, (tmpvar_11 - vec2(0.005, 0.0))).xyz * scale2)\\n   + bias2)).x * tmpvar_12.x);\\n  tmpvar_16.y = (((\\n    (texture (sampler_blur2, (tmpvar_11 + vec2(0.0, 0.005))).xyz * scale2)\\n   + bias2) - (\\n    (texture (sampler_blur2, (tmpvar_11 - vec2(0.0, 0.005))).xyz * scale2)\\n   + bias2)).x * tmpvar_12.y);\\n  ret_3.x = texture (sampler_fw_main, ((tmpvar_11 - (tmpvar_15 * 0.006)) + (tmpvar_16 * 0.003))).x;\\n  ret_3.x = (ret_3.x + ((ret_3.x - \\n    ((texture (sampler_blur3, tmpvar_11).xyz * scale3) + bias3)\\n  .x) * 0.1));\\n  ret_3.x = (ret_3.x + 0.004);\\n  vec2 tmpvar_17;\\n  tmpvar_17.x = tmpvar_14;\\n  tmpvar_17.y = -(tmpvar_13);\\n  my_uv_2 = (uv_orig + ((tmpvar_17 * 0.05) * (1.2 - \\n    ((texture (sampler_blur3, uv_orig).xyz * scale3) + bias3)\\n  .y)));\\n  ret_3.z = texture (sampler_fw_main, my_uv_2).z;\\n  vec2 x_18;\\n  x_18 = (my_uv_2 - uv_orig);\\n  ret_3.z = (ret_3.z + ((\\n    ((ret_3.z - ((texture (sampler_blur1, uv_orig).xyz * scale1) + bias1).z) * sqrt(dot (x_18, x_18)))\\n   * 180.0) / sqrt(\\n    dot (tmpvar_12, tmpvar_12)\\n  )));\\n  ret_3.z = (ret_3.z * 0.85);\\n  ret_3.z = (ret_3.z + 0.008);\\n  vec2 tmpvar_19;\\n  tmpvar_19.x = -(tmpvar_14);\\n  tmpvar_19.y = tmpvar_13;\\n  my_uv_2 = (tmpvar_19 * 0.045);\\n  vec2 tmpvar_20;\\n  tmpvar_20.x = (((\\n    (texture (sampler_blur2, (tmpvar_11 + vec2(0.01, 0.0))).xyz * scale2)\\n   + bias2) - (\\n    (texture (sampler_blur2, (tmpvar_11 - vec2(0.01, 0.0))).xyz * scale2)\\n   + bias2)).y * tmpvar_12.x);\\n  tmpvar_20.y = (((\\n    (texture (sampler_blur2, (tmpvar_11 + vec2(0.0, 0.01))).xyz * scale2)\\n   + bias2) - (\\n    (texture (sampler_blur2, (tmpvar_11 - vec2(0.0, 0.01))).xyz * scale2)\\n   + bias2)).y * tmpvar_12.y);\\n  my_uv_2 = (my_uv_2 + (tmpvar_11 - (tmpvar_20 * 0.03)));\\n  ret_3.y = texture (sampler_fw_main, my_uv_2).y;\\n  ret_3.y = (ret_3.y + ((\\n    (ret_3.y - ((texture (sampler_blur3, my_uv_2).xyz * scale3) + bias3).y)\\n   * 0.1) + 0.03));\\n  vec4 tmpvar_21;\\n  tmpvar_21.w = 1.0;\\n  tmpvar_21.xyz = ret_3;\\n  ret = tmpvar_21.xyz;\\n }","comp":" shader_body { \\n  vec2 dz_1;\\n  vec3 dy_2;\\n  vec3 dx_3;\\n  vec2 d_4;\\n  vec3 ret_5;\\n  vec2 tmpvar_6;\\n  vec2 tmpvar_7;\\n  tmpvar_7 = (vec2(1.0, 0.0) * texsize.zw);\\n  tmpvar_6.x = (texture (sampler_main, (uv + tmpvar_7)).xyz - texture (sampler_main, (uv - tmpvar_7)).xyz).y;\\n  vec2 tmpvar_8;\\n  tmpvar_8 = (vec2(0.0, 1.0) * texsize.zw);\\n  tmpvar_6.y = (texture (sampler_main, (uv + tmpvar_8)).xyz - texture (sampler_main, (uv - tmpvar_8)).xyz).y;\\n  d_4 = (texsize.zw * 2.0);\\n  dx_3 = (((texture (sampler_blur1, \\n    (uv + (vec2(1.0, 0.0) * d_4))\\n  ).xyz * scale1) + bias1) - ((texture (sampler_blur1, \\n    (uv - (vec2(1.0, 0.0) * d_4))\\n  ).xyz * scale1) + bias1));\\n  dy_2 = (((texture (sampler_blur1, \\n    (uv + (vec2(0.0, 1.0) * d_4))\\n  ).xyz * scale1) + bias1) - ((texture (sampler_blur1, \\n    (uv - (vec2(0.0, 1.0) * d_4))\\n  ).xyz * scale1) + bias1));\\n  vec2 tmpvar_9;\\n  tmpvar_9.x = dx_3.y;\\n  tmpvar_9.y = dy_2.y;\\n  dz_1 = ((tmpvar_6 * 3.0) + tmpvar_9);\\n  ret_5 = (vec3(((\\n    pow ((sqrt(dot (dz_1, dz_1)) * 0.8), 0.7)\\n   + \\n    (((texture (sampler_blur2, uv).xyz * scale2) + bias2).y * 0.4)\\n  ) - 0.1)) * vec3(0.3, 0.5, 0.7));\\n  vec2 tmpvar_10;\\n  tmpvar_10.x = dx_3.x;\\n  tmpvar_10.y = dy_2.x;\\n  vec3 tmpvar_11;\\n  tmpvar_11 = mix (mix (ret_5, vec3(0.2, 0.1, 0.0), vec3((texture (sampler_main, \\n    (uv + ((tmpvar_10 * texsize.zw) * 18.0))\\n  ).x * 6.0))), vec3(1.0, 1.0, 1.0), texture (sampler_main, uv).zzz);\\n  ret_5 = tmpvar_11;\\n  vec4 tmpvar_12;\\n  tmpvar_12.w = 1.0;\\n  tmpvar_12.xyz = tmpvar_11;\\n  ret = tmpvar_12.xyz;\\n }"}') }, "./presets/converted/Flexi - predator-prey-spirals.json": e => { e.exports = JSON.parse('{"version":2,"baseVals":{"rating":1,"gammaadj":1.28,"decay":0.8,"echo_zoom":1,"echo_orient":3,"wave_mode":7,"additivewave":1,"modwavealphabyvolume":1,"wave_brighten":0,"wrap":0,"brighten":1,"wave_a":0.001,"wave_scale":1.286,"wave_smoothing":0.63,"modwavealphastart":0.71,"modwavealphaend":1.3,"warpanimspeed":0.01,"warpscale":100,"zoomexp":0.92178,"zoom":0.9901,"warp":0.01,"wave_r":0.65,"wave_g":0.65,"wave_b":0.65,"ob_size":0.005,"ob_g":1,"ob_a":1,"ib_size":0,"ib_r":0,"ib_g":0,"ib_b":0,"ib_a":1,"mv_x":64,"mv_y":48,"mv_l":0,"mv_a":0,"b1ed":0},"shapes":[{"baseVals":{"sides":39,"additive":1,"num_inst":126,"rad":0.06989,"tex_ang":0.62832,"r2":1,"g2":0,"a2":1,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"ma=ma+(above(bass,1)*3.1415*.01*bass);\\nma=ma-(above(treb,1)*3.1415*.01*treb);\\n\\nmx=mx+(.0002*cos(ma));\\nmy=my+(.0002*sin(ma));\\n\\nmx=if(above(mx,.9),(.9-mx),mx);\\nmy=if(above(my,.9),(.9-my),my);\\nmx=if(below(mx,.1),(.9+mx),mx);\\nmy=if(below(my,.1),(.9+my),my);\\n\\nx=mx;\\ny=my;\\n\\na=(above(bass+mid+treb,.8));"},{"baseVals":{"sides":41,"additive":1,"num_inst":239,"rad":0.06989,"tex_ang":0.62832,"r":0,"g":1,"a2":1,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"ma=ma+(above(bass,1)*3.1415*.05*bass);\\nma=ma-(above(mid,1)*3.1415*.05*mid);\\n\\nmx=mx+(.0001*cos(ma));\\nmy=my+(.0001*sin(ma));\\n\\nmx=if(above(mx,.9),(.9-mx),mx);\\nmy=if(above(my,.9),(.9-my),my);\\nmx=if(below(mx,.1),(.9+mx),mx);\\nmy=if(below(my,.1),(.9+my),my);\\n\\nx=mx;\\ny=my;\\n\\na=(above(bass+mid+treb,.1));"},{"baseVals":{"sides":43,"additive":1,"num_inst":32,"rad":0.06989,"tex_ang":0.62832,"r":0,"b":1,"g2":0,"b2":1,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"ma=ma+(above(mid,1)*3.1415*.01*mid);\\nma=ma-(above(treb,1)*3.1415*.01*treb);\\n\\nmx=mx+(.0004*cos(ma));\\nmy=my+(.0004*sin(ma));\\n\\nmx=if(above(mx,.9),(.9-mx),mx);\\nmy=if(above(my,.9),(.9-my),my);\\nmx=if(below(mx,.1),(.9+mx),mx);\\nmy=if(below(my,.1),(.9+my),my);\\n\\nx=mx;\\ny=my;\\n\\na=(above(bass+mid+treb,.3));"},{"baseVals":{"sides":14,"additive":1,"num_inst":127,"rad":0.0556,"tex_ang":0.62832,"r2":1,"b2":1,"a2":1,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"ma=ma+(above(bass,.5)*3.1415*.02*bass);\\nma=ma-(above(treb,.5)*3.1415*.02*treb);\\n\\nmx=mx+(.0008*cos(ma));\\nmy=my+(.0008*sin(ma));\\n\\nmx=if(above(mx,.9),(.9-mx),mx);\\nmy=if(above(my,.9),(.9-my),my);\\nmx=if(below(mx,.1),(.9+mx),mx);\\nmy=if(below(my,.1),(.9+my),my);\\n\\nx=mx;\\ny=my;\\n\\na=(above(bass+mid+treb,.2));"}],"waves":[{"baseVals":{"thick":1,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":"ma=ma+(above(bass,1)*3.1415*.01*bass);\\nma=ma-(above(treb,1)*3.1415*.01*treb);\\n\\nmx=mx+(.0002*cos(ma));\\nmy=my+(.0002*sin(ma));\\n\\nmx=if(above(mx,.9),(.9-mx),mx);\\nmy=if(above(my,.9),(.9-my),my);\\nmx=if(below(mx,.1),(.9+mx),mx);\\nmy=if(below(my,.1),(.9+my),my);\\n\\nx=mx;\\ny=my;\\n\\na=(above(bass+mid+treb,.8));"},{"baseVals":{"thick":1,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":"ma=ma+(above(bass,1)*3.1415*.05*bass);\\nma=ma-(above(mid,1)*3.1415*.05*mid);\\n\\nmx=mx+(.0001*cos(ma));\\nmy=my+(.0001*sin(ma));\\n\\nmx=if(above(mx,.9),(.9-mx),mx);\\nmy=if(above(my,.9),(.9-my),my);\\nmx=if(below(mx,.1),(.9+mx),mx);\\nmy=if(below(my,.1),(.9+my),my);\\n\\nx=mx;\\ny=my;\\n\\na=(above(bass+mid+treb,.1));"},{"baseVals":{"thick":1,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":"ma=ma+(above(mid,1)*3.1415*.01*mid);\\nma=ma-(above(treb,1)*3.1415*.01*treb);\\n\\nmx=mx+(.0004*cos(ma));\\nmy=my+(.0004*sin(ma));\\n\\nmx=if(above(mx,.9),(.9-mx),mx);\\nmy=if(above(my,.9),(.9-my),my);\\nmx=if(below(mx,.1),(.9+mx),mx);\\nmy=if(below(my,.1),(.9+my),my);\\n\\nx=mx;\\ny=my;\\n\\na=(above(bass+mid+treb,.3));"},{"baseVals":{"thick":1,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":"ma=ma+(above(bass,.5)*3.1415*.02*bass);\\nma=ma-(above(treb,.5)*3.1415*.02*treb);\\n\\nmx=mx+(.0008*cos(ma));\\nmy=my+(.0008*sin(ma));\\n\\nmx=if(above(mx,.9),(.9-mx),mx);\\nmy=if(above(my,.9),(.9-my),my);\\nmx=if(below(mx,.1),(.9+mx),mx);\\nmy=if(below(my,.1),(.9+my),my);\\n\\nx=mx;\\ny=my;\\n\\na=(above(bass+mid+treb,.2));"}],"init_eqs_eel":"x1 = 0.9;\\ny1 = 0.5;\\n\\nx2 = 0.5; y2 = 0.5;\\nx3 = 0.5; y3 = 0.5;\\nx4 = 0.5; y4 = 0.5;","frame_eqs_eel":"xx1 = xx1*0.9 + (bass)*0.01;\\nxx2 = xx2*0.9 + (treb)*0.01;\\nyy1 = yy1*0.94 + (treb+bass)*0.0075;\\n\\nx1 = 0.5 + (xx1-xx2)*2;\\ny1 = 0.4 + yy1;\\n\\nx1 = max(0,min(1,x1)); y1 = max(0,min(1,y1));\\n\\nspring = 10;\\ngrav = .5;\\nresist = 1;\\nbounce = 0.75;\\ndt = 0.0001*(60/fps);\\n\\nvx2 = vx2*(1-resist*dt) + dt*((x1+x3-2*x2)*spring);\\nvy2 = vy2*(1-resist*dt) + dt*((y1+y3-2*y2)*spring-grav);\\nvx3 = vx3*(1-resist*dt) + dt*((x2+x4-2*x3)*spring);\\nvy3 = vy3*(1-resist*dt) + dt*((y2+y4-2*y3)*spring-grav);\\nvx4 = vx4*(1-resist*dt) + dt*((x3-x4)*spring);\\nvy4 = vy4*(1-resist*dt) + dt*((y3-y4)*spring-grav);\\n\\nx2 = x2 + vx2;\\ny2 = y2 + vy2;\\nx3 = x3 + vx3;\\ny3 = y3 + vy3;\\nx4 = x4 + vx4;\\ny4 = y4 + vy4;\\n\\nvx2 = if(above(x2,0),vx2,abs(vx2)*bounce);\\nvx2 = if(below(x2,1),vx2,-abs(vx2)*bounce);\\nvx3 = if(above(x3,0),vx3,abs(vx3)*bounce);\\nvx3 = if(below(x3,1),vx3,-abs(vx3)*bounce);\\nvx4 = if(above(x4,0),vx4,abs(vx4)*bounce);\\nvx4 = if(below(x4,1),vx4,-abs(vx4)*bounce);\\nvy2 = if(above(y2,0),vy2,abs(vy2)*bounce);\\nvy2 = if(below(y2,1),vy2,-abs(vy2)*bounce);\\nvy3 = if(above(y3,0),vy3,abs(vy3)*bounce);\\nvy3 = if(below(y3,1),vy3,-abs(vy3)*bounce);\\nvy4 = if(above(y4,0),vy4,abs(vy4)*bounce);\\nvy4 = if(below(y4,1),vy4,-abs(vy4)*bounce);\\nq4 = x4;\\nq8 = y4;\\n\\nq1 = aspectx;\\nq2 = aspecty;\\nq10 = x1;\\nq11 = y1;\\nzoom = 1;\\nwarp = 0;\\nq6 = atan2(vx4,vy4);\\nq5 = sqrt(vx4*vx4 + vy4*vy4);\\n\\na = a*0.95 + q5;\\n\\ns = s*0.9 + a;\\nq3 = s*0.1;\\nmonitor = s;\\n\\nwave_a = 0;","pixel_eqs_eel":"x = 0.5 + (x-0.5)*q1;\\ny = 0.5 + (y-0.5)*q2;\\nxx = q4;\\nyy = 1-q8;\\n\\ndx = 0; dy = 0;\\n\\nd = sqrt((x-xx)*(x-xx)+(y-yy)*(y-yy));\\n\\nr = 0.1;\\nv = 20;\\nv2 = q5;\\ndx = (v*(sin(y-yy)*(d-r)-(x-xx)*(d-r/2)) + cos(dir)*v2)*(1.00-sigmoid(d-r,120));\\ndy = (-v*(sin(x-xx)*(d-r)+(y-yy)*(d-r/2)) -sin(dir)*v2)*(1.00-sigmoid(d-r,120));","warp":" shader_body { \\n  vec3 ret_1;\\n  vec2 tmpvar_2;\\n  tmpvar_2 = mix (uv_orig, uv, vec2(2.0, 2.0));\\n  vec2 tmpvar_3;\\n  tmpvar_3 = (texsize.zw * 2.0);\\n  vec3 tmpvar_4;\\n  tmpvar_4 = (((texture (sampler_blur1, \\n    (tmpvar_2 + (vec2(1.0, 0.0) * tmpvar_3))\\n  ).xyz * scale1) + bias1) - ((texture (sampler_blur1, \\n    (tmpvar_2 - (vec2(1.0, 0.0) * tmpvar_3))\\n  ).xyz * scale1) + bias1));\\n  vec3 tmpvar_5;\\n  tmpvar_5 = (((texture (sampler_blur1, \\n    (tmpvar_2 + (vec2(0.0, 1.0) * tmpvar_3))\\n  ).xyz * scale1) + bias1) - ((texture (sampler_blur1, \\n    (tmpvar_2 - (vec2(0.0, 1.0) * tmpvar_3))\\n  ).xyz * scale1) + bias1));\\n  vec2 tmpvar_6;\\n  tmpvar_6.x = tmpvar_4.x;\\n  tmpvar_6.y = tmpvar_5.x;\\n  vec2 tmpvar_7;\\n  tmpvar_7 = (tmpvar_2 + ((tmpvar_6 * texsize.zw) * 8.0));\\n  vec2 tmpvar_8;\\n  tmpvar_8.x = tmpvar_4.y;\\n  tmpvar_8.y = tmpvar_5.y;\\n  vec2 tmpvar_9;\\n  tmpvar_9 = (tmpvar_2 + ((tmpvar_8 * texsize.zw) * 8.0));\\n  vec2 tmpvar_10;\\n  tmpvar_10.x = tmpvar_4.z;\\n  tmpvar_10.y = tmpvar_5.z;\\n  vec2 tmpvar_11;\\n  tmpvar_11 = (tmpvar_2 + ((tmpvar_10 * texsize.zw) * 8.0));\\n  ret_1.x = (texture (sampler_main, tmpvar_7).x - ((texture (sampler_main, tmpvar_7).xyz - \\n    ((texture (sampler_blur3, tmpvar_7).xyz * scale3) + bias3)\\n  ).x * 0.02));\\n  ret_1.y = (texture (sampler_main, tmpvar_9).y - ((texture (sampler_main, tmpvar_9).xyz - \\n    ((texture (sampler_blur3, tmpvar_9).xyz * scale3) + bias3)\\n  ).y * 0.02));\\n  ret_1.z = (texture (sampler_main, tmpvar_11).z - ((texture (sampler_main, tmpvar_11).xyz - \\n    ((texture (sampler_blur3, tmpvar_11).xyz * scale3) + bias3)\\n  ).z * 0.02));\\n  ret_1 = (ret_1 + ((texture (sampler_noise_lq, \\n    (((uv_orig * texsize.xy) * (texsize_noise_lq.zw * 1.2)) + rand_frame.xy)\\n  ).xyz - 0.5) * 0.04));\\n  ret_1 = (ret_1 - ((ret_1.yzx * 0.1) - 0.02));\\n  vec4 tmpvar_12;\\n  tmpvar_12.w = 1.0;\\n  tmpvar_12.xyz = ret_1;\\n  ret = tmpvar_12.xyz;\\n }","comp":" shader_body { \\n  vec2 tmpvar_1;\\n  tmpvar_1 = (texsize.zw * 8.0);\\n  vec3 tmpvar_2;\\n  tmpvar_2 = (((texture (sampler_blur1, \\n    (uv + (vec2(1.0, 0.0) * tmpvar_1))\\n  ).xyz * scale1) + bias1) - ((texture (sampler_blur1, \\n    (uv - (vec2(1.0, 0.0) * tmpvar_1))\\n  ).xyz * scale1) + bias1));\\n  vec3 tmpvar_3;\\n  tmpvar_3 = (((texture (sampler_blur1, \\n    (uv + (vec2(0.0, 1.0) * tmpvar_1))\\n  ).xyz * scale1) + bias1) - ((texture (sampler_blur1, \\n    (uv - (vec2(0.0, 1.0) * tmpvar_1))\\n  ).xyz * scale1) + bias1));\\n  vec2 tmpvar_4;\\n  tmpvar_4.x = q4;\\n  tmpvar_4.y = (1.0 - q8);\\n  vec2 tmpvar_5;\\n  tmpvar_5.x = tmpvar_2.y;\\n  tmpvar_5.y = tmpvar_3.y;\\n  vec2 x_6;\\n  x_6 = ((uv - (tmpvar_5 * 2.0)) - tmpvar_4);\\n  vec2 tmpvar_7;\\n  tmpvar_7.x = tmpvar_2.x;\\n  tmpvar_7.y = tmpvar_3.x;\\n  vec2 x_8;\\n  x_8 = ((uv - (tmpvar_7 * 2.0)) - tmpvar_4);\\n  vec2 tmpvar_9;\\n  tmpvar_9.x = tmpvar_2.z;\\n  tmpvar_9.y = tmpvar_3.z;\\n  vec2 x_10;\\n  x_10 = ((uv - (tmpvar_9 * 2.0)) - tmpvar_4);\\n  vec3 tmpvar_11;\\n  tmpvar_11.x = (1.1 - pow (sqrt(\\n    dot (x_8, x_8)\\n  ), 0.2));\\n  tmpvar_11.y = (1.1 - pow (sqrt(\\n    dot (x_6, x_6)\\n  ), 0.2));\\n  tmpvar_11.z = (1.1 - pow (sqrt(\\n    dot (x_10, x_10)\\n  ), 0.2));\\n  vec4 tmpvar_12;\\n  tmpvar_12.w = 1.0;\\n  tmpvar_12.xyz = ((tmpvar_11 * texture (sampler_main, uv).xyz) * 2.4);\\n  ret = tmpvar_12.xyz;\\n }"}') }, "./presets/converted/Flexi - smashing fractals [acid etching mix].json": e => { e.exports = JSON.parse('{"version":2,"baseVals":{"rating":0,"gammaadj":1,"decay":1,"echo_zoom":1,"echo_orient":2,"wave_mode":1,"wave_thick":1,"wave_brighten":0,"wrap":0,"wave_a":0.004,"wave_scale":0.01,"wave_smoothing":0,"wave_mystery":-0.44,"modwavealphastart":1,"modwavealphaend":1,"warpanimspeed":1.311,"warpscale":8.311,"zoomexp":5.20652,"warp":0.13291,"wave_y":0.04,"ob_size":0.005,"ob_a":1,"ib_size":0,"ib_r":0,"ib_g":0,"ib_b":0,"ib_a":1,"mv_x":0,"mv_y":0,"mv_l":1,"mv_g":0.91,"mv_b":0.71,"mv_a":0,"b1ed":0},"shapes":[{"baseVals":{"enabled":1,"sides":100,"additive":1,"thickoutline":1,"y":0.75,"rad":0.07493,"tex_zoom":0.73458,"g":1,"g2":0,"border_a":0},"init_eqs_eel":"vx = 0","frame_eqs_eel":"x = q4;\\ny = q8;"},{"baseVals":{"enabled":1,"sides":100,"additive":1,"thickoutline":1,"textured":1,"x":0.7,"y":0.3,"rad":0.6623,"ang":2.45044,"tex_zoom":0.74934,"g":0.1,"b":0.1,"r2":1,"g2":0.1,"b2":0.1,"a2":1,"border_a":0},"init_eqs_eel":"xx = 0.5;\\nyy = 0.4;","frame_eqs_eel":"d = sqrt( sqr(xx-q4)+sqr(yy-q8));\\n\\nxx = if(below(d,0.15),0.4+rand(200)/1000,xx);\\nyy = if(below(d,0.15),0.3+rand(400)/1000,yy);\\naang = if(below(d,0.12),rand(1000)/1000,aang);\\nang =aang*4*asin(1);\\nx = xx;\\ny = yy;"},{"baseVals":{"enabled":1,"sides":100,"additive":1,"thickoutline":1,"textured":1,"x":0.43,"y":0.6,"rad":1.16781,"ang":5.96903,"tex_zoom":0.67165,"r2":1,"g2":0,"a2":1,"border_a":0},"init_eqs_eel":"xx = 0.5;\\nyy = 0.4;","frame_eqs_eel":"d = sqrt( sqr(xx-q4)+sqr(yy-q8));\\n\\nxx = if(below(d,0.15),0.4+rand(200)/1000,xx);\\nyy = if(below(d,0.15),0.3+rand(400)/1000,yy);\\naang = if(below(d,0.12),rand(1000)/1000,aang);\\nang =aang*4*asin(1);\\nx = xx;\\ny = yy;"},{"baseVals":{"sides":100,"additive":1,"thickoutline":1,"y":0.75,"rad":0.07059,"tex_zoom":0.73458,"g":0.5,"b":0.5,"g2":0,"border_a":0,"enabled":0},"init_eqs_eel":"vx = 0","frame_eqs_eel":"x = q1;\\ny = q5;"}],"waves":[{"baseVals":{"usedots":1,"scaling":2.44415,"smoothing":0,"a":0,"enabled":0},"init_eqs_eel":"t2 = 0;\\nt3 = 0;\\nt4 = 0;\\ncl = 0;","frame_eqs_eel":"t1 = 0;\\nv = 0.01;\\nj = j + (bass)*0.01;\\nj2 = j2 + (mid_att)*0.01;\\nj3 = j3 + (treb_att)*0.01;\\nt2 = j;\\nt3 = j2;\\nt4 = j3;\\n//t5 = 0;\\nk = k*0.99 + 10*mid/fps;\\nt5 = -k;\\n\\ncl1 = cl1 + 0.002;\\ncl1 = if(above(cl1,1),0,cl1);\\ncl1 = if(below(cl1,0),1,cl1);\\nt8 = cl1;\\n\\ncl2 = cl2 -1*q1;\\ncl2 = if(above(cl2,1),0,cl2);\\ncl2 = if(below(cl2,0),1,cl2);\\nt7 = cl2;\\n\\ncl3 = cl3 +0.001;\\ncl3 = if(above(cl3,1),0,cl3);\\ncl3 = if(below(cl3,0),1,cl3);\\nt6 = cl3;","point_eqs_eel":"xx = ((sample*0983624912364)%10000000+100)/10000000;\\nyy = ((xx*1896575575)%10000000+100)/10000000;\\nzz = ((yy*58652340875)%10000000+100)/10000000;\\n\\n\\nd = sqrt(sqr(xx)+sqr(yy)+sqr(zz));\\n\\nzz = zz + t8 - if(above(zz+t8,1),1,0) - 0.5;\\nxx = xx + t7 - if(above(xx+t7,1),1,0) - 0.5;\\nyy = yy + t6 - if(above(yy+t6,1),1,0) - 0.5;\\n\\nv = 0.001;\\n\\nw = 1;// (sample*sin(time*0.3)*0.01-1);\\nbb = d*d*0.5;\\nn= 0.3;\\ns1 = sin(sin(t2*w+bb)*n);\\ns2 = sin(sin(t3*w+bb)*n);\\ns3 = sin(sin(t4*w+bb)*n);\\nc1 = cos(sin(t2*w+bb)*n);\\nc2 = cos(sin(t3*w+bb)*n);\\nc3 = cos(sin(t4*w+bb)*n);\\n\\nz = (c3*s1*c2 + s3*s2)*xx - (c3*s1*s2-s3*c2)*yy + c3*c1*zz;\\nx1 = (c1*c2*xx + c1*s2*yy - s1*zz);\\ny1 = ((s3*s1*c2 - c3*s2)*xx + (s3*s1*s2+c3*c2)*yy + s3*c1*zz);\\n\\nzoom = .5*(1/(z+0.5));\\nx = 0.5 + zoom*x1 + sin(time*0.1)*0;;\\ny = 0.5 + zoom*y1 + cos(time*0.16801)*0;\\n\\npi3 = 3.1415*2*0.3333;\\nt = z*2+t2*1;\\nc=3;\\n//r = sin(t)*c;\\n\\n//g = sin(t+pi3)*c;\\n\\n//b = sin(t-pi3)*c;\\n\\n\\nr = if(above(r,1),1,r);\\nr = if(below(r,0),0,r);\\ng = if(above(g,1),1,g);\\ng = if(below(g,0),0,g);\\nb = if(above(b,1),1,b);\\nb = if(below(b,0),0,b);\\n\\na = 0.4;"},{"baseVals":{"scaling":7.7518,"smoothing":0,"enabled":0},"init_eqs_eel":"t2 = 0;\\nt3 = 0;\\nt4 = 0;\\ncl = 0;","frame_eqs_eel":"t8 = 1;\\n\\nt1 = 0.5;\\nt2 = 0.9;","point_eqs_eel":"d = d*0.85 + (value1)*1;\\n\\nx = 0.5 + d*sample*(1-sample);\\ny = 0.9 - sample*0.8;"},{"baseVals":{"usedots":1,"thick":1,"scaling":5.92556,"smoothing":0,"g":0,"b":0,"a":0.66,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"t1 = q1;\\nt2 = q2;\\nt3 = q3;\\nt4 = q4;\\nt5 = q5;\\nt6 = q6;\\nt7 = q7;\\nt8 = q8;","point_eqs_eel":"sample = 1-sample;\\nxxx = xx;\\nyyy = yy;\\nxx = pow(sample,5)*t1 + 5*pow(sample,4)*(1-sample)*t1 + 10*pow(sample,3)*sqr(1-sample)*t2\\n+ 10*sqr(sample)*pow(1-sample,3)*t3 + 5*pow(1-sample,4)*sample*t4 + pow(1-sample,5)*t4;\\n\\nyy = pow(sample,5)*t5 + 5*pow(sample,4)*(1-sample)*t5 + 10*pow(sample,3)*sqr(1-sample)*t6\\n+ 10*sqr(sample)*pow(1-sample,3)*t7 + 5*pow(1-sample,4)*sample*t8 + pow(1-sample,5)*t8;\\n\\nd = 1/sqrt(sqr(xx-xxx)+sqr(yy-yyy));\\ndd = dd*0.95 + (value1);\\nddd = dd*sample*(1-sample)*d;\\n\\nx = xx + (yy-yyy)*ddd;\\ny = yy - (xx-xxx)*ddd;"},{"baseVals":{"thick":1,"scaling":5.92556,"smoothing":0,"r":0.65,"g":0.45,"enabled":0},"init_eqs_eel":"t2 = 0","frame_eqs_eel":"t1 = q1;\\nt2 = q2;\\nt3 = q3;\\nt4 = q4;\\nt5 = q5;\\nt6 = q6;\\nt7 = q7;\\nt8 = q8;","point_eqs_eel":"sample = 1-sample;\\nxxx = xx;\\nyyy = yy;\\nxx = pow(sample,5)*t1 + 5*pow(sample,4)*(1-sample)*t1 + 10*pow(sample,3)*sqr(1-sample)*t2\\n+ 10*sqr(sample)*pow(1-sample,3)*t3 + 5*pow(1-sample,4)*sample*t4 + pow(1-sample,5)*t4;\\n\\nyy = pow(sample,5)*t5 + 5*pow(sample,4)*(1-sample)*t5 + 10*pow(sample,3)*sqr(1-sample)*t6\\n+ 10*sqr(sample)*pow(1-sample,3)*t7 + 5*pow(1-sample,4)*sample*t8 + pow(1-sample,5)*t8;\\n\\nd = 1/sqrt(sqr(xx-xxx)+sqr(yy-yyy));\\ndd = dd*0.95 + (value1);\\nddd = dd*sample*(1-sample)*d;\\nddd = sample*(1-sample)*sin(sample*200)*d*0.05;\\nx = xx + (yy-yyy)*ddd;\\ny = yy - (xx-xxx)*ddd;"}],"init_eqs_eel":"x1 = 0;\\ny1 = 0;","frame_eqs_eel":"decay = 0.25;\\nxx1 = xx1*0.9 + (bass)*0.01;\\nxx2 = xx2*0.9 + (treb)*0.01;\\nyy1 = yy1*0.94 + (treb+bass)*0.0075;\\n\\nx1 = 0.5 + (xx1-xx2)*2;\\ny1 = 0.4 + yy1;\\n\\nx1 = max(0,min(1,x1));\\ny1 = max(0,min(1,y1));\\n//x2 = 0;y2 = 0;x3 = 0;y3 = 0;x4 = 0;y4 = 0;\\n\\nspring = 50;\\ngrav = 2;\\nresist = 5;\\nbounce = 0.75;\\ndt = 0.00015*60/fps;\\n\\nspx2 = (x1+x3-2*x2)*spring;\\nspy2 = (y1+y3-2*y2)*spring;\\nspx3 = (x2+x4-2*x3)*spring;\\nspy3 = (y2+y4-2*y3)*spring;\\nspx4 = (x3-x4)*spring;\\nspy4 = (y3-y4)*spring;\\n\\nvx2 = vx2*(1-resist*dt) + dt*(spx2);\\nvy2 = vy2*(1-resist*dt) + dt*(spy2-grav);\\nvx3 = vx3*(1-resist*dt) + dt*(spx3);\\nvy3 = vy3*(1-resist*dt) + dt*(spy3-grav);\\nvx4 = vx4*(1-resist*dt) + dt*(spx4);\\nvy4 = vy4*(1-resist*dt) + dt*(spy4-grav);\\n\\nx2 = x2 + vx2;\\ny2 = y2 + vy2;\\nx3 = x3 + vx3;\\ny3 = y3 + vy3;\\nx4 = x4 + vx4;\\ny4 = y4 + vy4;\\n\\nvx2 = if(above(x2,0.1),vx2,abs(vx2)*bounce);\\nvx2 = if(below(x2,0.9),vx2,-abs(vx2)*bounce);\\nvx3 = if(above(x3,0.1),vx3,abs(vx3)*bounce);\\nvx3 = if(below(x3,0.9),vx3,-abs(vx3)*bounce);\\nvx4 = if(above(x4,0.1),vx4,abs(vx4)*bounce);\\nvx4 = if(below(x4,0.9),vx4,-abs(vx4)*bounce);\\n\\nvy2 = if(above(y2,0),vy2,abs(vy2)*bounce);\\nvy2 = if(below(y2,1),vy2,-abs(vy2)*bounce);\\nvy3 = if(above(y3,0),vy3,abs(vy3)*bounce);\\nvy3 = if(below(y3,1),vy3,-abs(vy3)*bounce);\\nvy4 = if(above(y4,0),vy4,abs(vy4)*bounce);\\nvy4 = if(below(y4,1),vy4,-abs(vy4)*bounce);\\n\\n\\nq1 = x1;\\nq2 = x2;\\nq3 = x3;\\nq4 = x4;\\n\\nq5 = y1;\\nq6 = y2;\\nq7 = y3;\\nq8 = y4;\\n\\nmonitor = ry4;\\n\\nzoom = 1.0004;","pixel_eqs_eel":"","warp":" shader_body { \\n  vec2 my_uv_1;\\n  vec3 ret_2;\\n  float tmpvar_3;\\n  tmpvar_3 = (((texture (sampler_blur2, \\n    (uv + vec2(0.005, 0.0))\\n  ).xyz * scale2) + bias2) - ((texture (sampler_blur2, \\n    (uv - vec2(0.005, 0.0))\\n  ).xyz * scale2) + bias2)).y;\\n  float tmpvar_4;\\n  tmpvar_4 = (((texture (sampler_blur2, \\n    (uv + vec2(0.0, 0.005))\\n  ).xyz * scale2) + bias2) - ((texture (sampler_blur2, \\n    (uv - vec2(0.0, 0.005))\\n  ).xyz * scale2) + bias2)).y;\\n  vec2 tmpvar_5;\\n  tmpvar_5.x = tmpvar_3;\\n  tmpvar_5.y = tmpvar_4;\\n  vec2 tmpvar_6;\\n  tmpvar_6 = (uv - (tmpvar_5 * 0.01));\\n  ret_2.y = texture (sampler_fc_main, (tmpvar_6 - floor(tmpvar_6))).y;\\n  ret_2.y = (ret_2.y + ((ret_2.y - \\n    ((texture (sampler_blur3, (tmpvar_6 - floor(tmpvar_6))).xyz * scale3) + bias3)\\n  .y) * 0.1));\\n  vec2 tmpvar_7;\\n  tmpvar_7 = floor(uv);\\n  ret_2.y = (ret_2.y + (0.006 - (\\n    ((texture (sampler_blur3, (uv - tmpvar_7)).xyz * scale3) + bias3)\\n  .x * 5.0)));\\n  ret_2.y = ret_2.y;\\n  vec2 tmpvar_8;\\n  tmpvar_8.x = -(tmpvar_4);\\n  tmpvar_8.y = tmpvar_3;\\n  my_uv_1 = (tmpvar_8 * 0.05);\\n  vec2 tmpvar_9;\\n  tmpvar_9.x = (((texture (sampler_blur2, \\n    (uv + vec2(0.01, 0.0))\\n  ).xyz * scale2) + bias2) - ((texture (sampler_blur2, \\n    (uv - vec2(0.01, 0.0))\\n  ).xyz * scale2) + bias2)).z;\\n  tmpvar_9.y = (((texture (sampler_blur2, \\n    (uv + vec2(0.0, 0.01))\\n  ).xyz * scale2) + bias2) - ((texture (sampler_blur2, \\n    (uv - vec2(0.0, 0.01))\\n  ).xyz * scale2) + bias2)).z;\\n  my_uv_1 = (my_uv_1 + (uv - (tmpvar_9 * 0.005)));\\n  ret_2.z = texture (sampler_fw_main, (my_uv_1 - floor(my_uv_1))).z;\\n  ret_2.z = (ret_2.z + ((ret_2.z - \\n    ((texture (sampler_blur3, (my_uv_1 - floor(my_uv_1))).xyz * scale3) + bias3)\\n  .z) * 0.13));\\n  ret_2.z = (ret_2.z * 0.95);\\n  ret_2.z = (ret_2.z + ((0.03 - \\n    ((texture (sampler_blur3, (uv - tmpvar_7)).xyz * scale3) + bias3)\\n  .x) - (texture (sampler_main, \\n    (my_uv_1 - floor(my_uv_1))\\n  ).y * 0.05)));\\n  ret_2.x = (texture (sampler_main, uv_orig).x - 0.3);\\n  vec4 tmpvar_10;\\n  tmpvar_10.w = 1.0;\\n  tmpvar_10.xyz = ret_2;\\n  ret = tmpvar_10.xyz;\\n }","comp":" shader_body { \\n  vec3 ret_1;\\n  vec2 tmpvar_2;\\n  tmpvar_2 = (texsize.zw * 8.0);\\n  vec3 tmpvar_3;\\n  tmpvar_3 = (((texture (sampler_blur1, \\n    (uv + (vec2(1.0, 0.0) * tmpvar_2))\\n  ).xyz * scale1) + bias1) - ((texture (sampler_blur1, \\n    (uv - (vec2(1.0, 0.0) * tmpvar_2))\\n  ).xyz * scale1) + bias1));\\n  vec3 tmpvar_4;\\n  tmpvar_4 = (((texture (sampler_blur1, \\n    (uv + (vec2(0.0, 1.0) * tmpvar_2))\\n  ).xyz * scale1) + bias1) - ((texture (sampler_blur1, \\n    (uv - (vec2(0.0, 1.0) * tmpvar_2))\\n  ).xyz * scale1) + bias1));\\n  vec2 tmpvar_5;\\n  tmpvar_5.x = tmpvar_3.y;\\n  tmpvar_5.y = tmpvar_4.y;\\n  vec2 tmpvar_6;\\n  tmpvar_6 = (uv + (tmpvar_5 * 0.1));\\n  vec4 tmpvar_7;\\n  tmpvar_7 = texture (sampler_main, uv);\\n  ret_1 = (((\\n    ((texture (sampler_blur2, tmpvar_6).xyz * scale2) + bias2)\\n  .x * \\n    clamp ((1.0 - tmpvar_7.z), 0.0, 1.0)\\n  ) * pow (hue_shader.yxz, vec3(8.0, 8.0, 8.0))) * 3.0);\\n  ret_1 = (mix (ret_1, (\\n    pow (hue_shader.yzx, vec3(8.0, 8.0, 8.0))\\n   * 1.4), vec3((\\n    (texture (sampler_main, tmpvar_6).x * 0.8)\\n   + \\n    ((texture (sampler_blur1, tmpvar_6).xyz * scale1) + bias1)\\n  .x))) * clamp ((1.0 - \\n    (((texture (sampler_blur1, uv).xyz * scale1) + bias1).y * 4.0)\\n  ), 0.0, 1.0));\\n  vec2 tmpvar_8;\\n  tmpvar_8.x = tmpvar_3.y;\\n  tmpvar_8.y = tmpvar_4.y;\\n  vec3 tmpvar_9;\\n  vec3 tmpvar_10;\\n  tmpvar_10 = pow (hue_shader, vec3(8.0, 8.0, 8.0));\\n  tmpvar_9 = mix (mix (ret_1, vec3(1.0, 1.0, 1.0), (\\n    (tmpvar_10 * texture (sampler_main, clamp ((uv - (tmpvar_8 * 0.04)), 0.0, 1.0)).z)\\n   * 1.2)), (tmpvar_10.zxy * 1.8), tmpvar_7.yyy);\\n  ret_1 = tmpvar_9;\\n  vec4 tmpvar_11;\\n  tmpvar_11.w = 1.0;\\n  tmpvar_11.xyz = tmpvar_9;\\n  ret = tmpvar_11.xyz;\\n }"}') }, "./presets/converted/Flexi - truly soft piece of software - this is generic texturing (Jelly) .json": e => { e.exports = JSON.parse('{"version":2,"baseVals":{"rating":4,"gammaadj":1,"decay":1,"echo_zoom":1,"echo_alpha":0.5,"wave_thick":1,"wave_brighten":0,"wave_a":0.004,"wave_scale":0.01,"wave_smoothing":0,"wave_mystery":-0.44,"modwavealphastart":1,"modwavealphaend":1,"warpanimspeed":0.01,"warpscale":100,"zoomexp":0.24298,"zoom":0.9901,"warp":0.01,"wave_y":0.04,"ob_size":0,"ob_g":1,"ib_size":0,"ib_r":0,"ib_g":0,"ib_b":0,"mv_x":64,"mv_y":48,"mv_l":0,"mv_b":0,"mv_a":0,"b1ed":0},"shapes":[{"baseVals":{"enabled":1,"sides":100,"thickoutline":1,"rad":0.01,"tex_ang":0.12566,"tex_zoom":1.51878,"r":0.05,"a":0.1,"g2":0,"border_a":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"sides":100,"thickoutline":1,"textured":1,"rad":0.80013,"ang":4.64954,"tex_zoom":1.24471,"g":1,"b":1,"r2":1,"b2":1,"a2":0.77,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"thickoutline":1,"x":1,"rad":3.0054,"tex_ang":0.12566,"tex_zoom":1.51878,"r":0,"g":1,"g2":0,"a2":1,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"thickoutline":1,"x":1,"rad":0.39872,"tex_ang":0.12566,"tex_zoom":1.51878,"g":1,"b":1,"r2":1,"b2":1,"a2":1,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""}],"waves":[{"baseVals":{"usedots":1,"scaling":2.44415,"smoothing":0,"a":0,"enabled":0},"init_eqs_eel":"t2 = 0;\\nt3 = 0;\\nt4 = 0;\\ncl = 0;","frame_eqs_eel":"t1 = 0;\\nv = 0.01;\\nj = j + (bass)*0.01;\\nj2 = j2 + (mid_att)*0.01;\\nj3 = j3 + (treb_att)*0.01;\\nt2 = j;\\nt3 = j2;\\nt4 = j3;\\n//t5 = 0;\\nk = k*0.99 + 10*mid/fps;\\nt5 = -k;\\n\\ncl1 = cl1 + 0.002;\\ncl1 = if(above(cl1,1),0,cl1);\\ncl1 = if(below(cl1,0),1,cl1);\\nt8 = cl1;\\n\\ncl2 = cl2 -1*q1;\\ncl2 = if(above(cl2,1),0,cl2);\\ncl2 = if(below(cl2,0),1,cl2);\\nt7 = cl2;\\n\\ncl3 = cl3 +0.001;\\ncl3 = if(above(cl3,1),0,cl3);\\ncl3 = if(below(cl3,0),1,cl3);\\nt6 = cl3;","point_eqs_eel":"xx = ((sample*0983624912364)%10000000+100)/10000000;\\nyy = ((xx*1896575575)%10000000+100)/10000000;\\nzz = ((yy*58652340875)%10000000+100)/10000000;\\n\\n\\nd = sqrt(sqr(xx)+sqr(yy)+sqr(zz));\\n\\nzz = zz + t8 - if(above(zz+t8,1),1,0) - 0.5;\\nxx = xx + t7 - if(above(xx+t7,1),1,0) - 0.5;\\nyy = yy + t6 - if(above(yy+t6,1),1,0) - 0.5;\\n\\nv = 0.001;\\n\\nw = 1;// (sample*sin(time*0.3)*0.01-1);\\nbb = d*d*0.5;\\nn= 0.3;\\ns1 = sin(sin(t2*w+bb)*n);\\ns2 = sin(sin(t3*w+bb)*n);\\ns3 = sin(sin(t4*w+bb)*n);\\nc1 = cos(sin(t2*w+bb)*n);\\nc2 = cos(sin(t3*w+bb)*n);\\nc3 = cos(sin(t4*w+bb)*n);\\n\\nz = (c3*s1*c2 + s3*s2)*xx - (c3*s1*s2-s3*c2)*yy + c3*c1*zz;\\nx1 = (c1*c2*xx + c1*s2*yy - s1*zz);\\ny1 = ((s3*s1*c2 - c3*s2)*xx + (s3*s1*s2+c3*c2)*yy + s3*c1*zz);\\n\\nzoom = .5*(1/(z+0.5));\\nx = 0.5 + zoom*x1 + sin(time*0.1)*0.;;\\ny = 0.5 + zoom*y1 + cos(time*0.16801)*0.;\\n\\npi3 = 3.1415*2*0.3333;\\nt = z*2+t2*1;\\nc=3;\\n//r = sin(t)*c;\\n\\n//g = sin(t+pi3)*c;\\n\\n//b = sin(t-pi3)*c;\\n\\n\\nr = if(above(r,1),1,r);\\nr = if(below(r,0),0,r);\\ng = if(above(g,1),1,g);\\ng = if(below(g,0),0,g);\\nb = if(above(b,1),1,b);\\nb = if(below(b,0),0,b);\\n\\na = 0.4;"},{"baseVals":{"scaling":2.44415,"smoothing":0,"enabled":0},"init_eqs_eel":"t2 = 0;\\nt3 = 0;\\nt4 = 0;\\ncl = 0;","frame_eqs_eel":"t8 = 1;","point_eqs_eel":"t8 = -t8;\\ny = sample;\\nx = 0.5 + t8*0.005;\\n\\npi3 = 3.1415*2*0.3333;\\nt = time + sample*2;\\nc=2;\\n\\nr = sin(t)*c;\\ng = sin(t+pi3)*c;\\n\\nb = sin(t-pi3)*c;\\n\\n\\nr = if(above(r,1),1,r);\\nr = if(below(r,0),0,r);\\ng = if(above(g,1),1,g);\\ng = if(below(g,0),0,g);\\nb = if(above(b,1),1,b);\\nb = if(below(b,0),0,b);\\n"},{"baseVals":{"thick":1,"additive":1,"scaling":100,"smoothing":0.6,"r":0,"g":0.4,"a":0.3,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"t1 = q1;\\nt2 = q2;\\nt3 = q3;\\nt4 = q4;\\nt5 = q5;\\nt6 = q6;\\nt7 = q7;\\nt8 = q8;","point_eqs_eel":"sample = 1-sample;\\nxxx = xx;\\nyyy = yy;\\nxx = pow(sample,5)*t1 + 5*pow(sample,4)*(1-sample)*t1 + 10*pow(sample,3)*sqr(1-sample)*t2\\n+ 10*sqr(sample)*pow(1-sample,3)*t3 + 5*pow(1-sample,4)*sample*t4 + pow(1-sample,5)*t4;\\n\\nyy = pow(sample,5)*t5 + 5*pow(sample,4)*(1-sample)*t5 + 10*pow(sample,3)*sqr(1-sample)*t6\\n+ 10*sqr(sample)*pow(1-sample,3)*t7 + 5*pow(1-sample,4)*sample*t8 + pow(1-sample,5)*t8;\\nd = 1/sqrt(sqr(xx-xxx)+sqr(yy-yyy));\\nx = xx + sample*(1-sample)*(value1-value2)*(yy-yyy)*d;\\ny = yy - sample*(1-sample)*(value1-value2)*(xx-xxx)*d;"},{"baseVals":{"usedots":1,"scaling":2.44415,"smoothing":0,"r":0,"g":0,"enabled":0},"init_eqs_eel":"t2 = 0;\\nt3 = 0;\\nt4 = 0;\\ncl = 0;","frame_eqs_eel":"t8 = 1;","point_eqs_eel":"t8 = -t8;\\ny = (1+t8)*0.01;\\nx = sample;"}],"init_eqs_eel":"x1 = 0.9;\\ny1 = 0.5;\\n\\nx2 = 0.5; y2 = 0.5;\\nx3 = 0.5; y3 = 0.5;\\nx4 = 0.5; y4 = 0.5;","frame_eqs_eel":"zoom =1;// 0.999;\\nwarp = 0;","pixel_eqs_eel":"","warp":" shader_body { \\n  vec2 my_uv_1;\\n  vec3 ret_2;\\n  vec2 tmpvar_3;\\n  tmpvar_3 = (0.02 * aspect.zw);\\n  vec3 tmpvar_4;\\n  tmpvar_4 = (((texture (sampler_blur2, \\n    ((uv + (vec2(1.0, 0.0) * tmpvar_3)) - floor((uv + (vec2(1.0, 0.0) * tmpvar_3))))\\n  ).xyz * scale2) + bias2) - ((texture (sampler_blur2, \\n    ((uv - (vec2(1.0, 0.0) * tmpvar_3)) - floor((uv - (vec2(1.0, 0.0) * tmpvar_3))))\\n  ).xyz * scale2) + bias2));\\n  vec3 tmpvar_5;\\n  tmpvar_5 = (((texture (sampler_blur2, \\n    ((uv + (vec2(0.0, 1.0) * tmpvar_3)) - floor((uv + (vec2(0.0, 1.0) * tmpvar_3))))\\n  ).xyz * scale2) + bias2) - ((texture (sampler_blur2, \\n    ((uv - (vec2(0.0, 1.0) * tmpvar_3)) - floor((uv - (vec2(0.0, 1.0) * tmpvar_3))))\\n  ).xyz * scale2) + bias2));\\n  vec3 tmpvar_6;\\n  tmpvar_6 = ((texture (sampler_blur1, uv).xyz * scale1) + bias1);\\n  vec2 tmpvar_7;\\n  tmpvar_7.x = tmpvar_4.y;\\n  tmpvar_7.y = tmpvar_5.y;\\n  vec2 tmpvar_8;\\n  tmpvar_8.x = tmpvar_5.x;\\n  tmpvar_8.y = -(tmpvar_4.x);\\n  vec2 tmpvar_9;\\n  tmpvar_9 = ((uv - (tmpvar_7 * vec2(0.01, 0.01))) - (tmpvar_8 * -0.02));\\n  ret_2.y = texture (sampler_fc_main, (tmpvar_9 - floor(tmpvar_9))).y;\\n  ret_2.y = (ret_2.y + ((\\n    (ret_2.y - tmpvar_6.y)\\n   * 0.02) + 0.005));\\n  vec2 tmpvar_10;\\n  tmpvar_10.x = tmpvar_4.x;\\n  tmpvar_10.y = tmpvar_5.x;\\n  vec2 tmpvar_11;\\n  tmpvar_11.x = tmpvar_5.z;\\n  tmpvar_11.y = -(tmpvar_4.z);\\n  my_uv_1 = ((uv - (tmpvar_10 * vec2(0.01, 0.01))) - (tmpvar_11 * -0.02));\\n  ret_2.x = texture (sampler_fc_main, (my_uv_1 - floor(my_uv_1))).x;\\n  ret_2.x = (ret_2.x + ((\\n    (ret_2.x - tmpvar_6.x)\\n   * 0.02) + 0.005));\\n  vec2 tmpvar_12;\\n  tmpvar_12.x = tmpvar_4.z;\\n  tmpvar_12.y = tmpvar_5.z;\\n  vec2 tmpvar_13;\\n  tmpvar_13.x = tmpvar_5.y;\\n  tmpvar_13.y = -(tmpvar_4.y);\\n  my_uv_1 = ((uv - (tmpvar_12 * vec2(0.01, 0.01))) - (tmpvar_13 * -0.02));\\n  ret_2.z = texture (sampler_fc_main, (my_uv_1 - floor(my_uv_1))).z;\\n  ret_2.z = (ret_2.z + ((\\n    (ret_2.z - tmpvar_6.z)\\n   * 0.02) + 0.005));\\n  vec4 tmpvar_14;\\n  tmpvar_14.w = 1.0;\\n  tmpvar_14.xyz = ret_2;\\n  ret = tmpvar_14.xyz;\\n }","comp":" shader_body { \\n  vec2 uv2_1;\\n  vec3 ret_2;\\n  uv2_1 = (uv + (vec2(1.0, 0.0) * texsize.zw));\\n  float tmpvar_3;\\n  tmpvar_3 = (((texture (sampler_main, uv2_1).xyz + \\n    (((texture (sampler_blur1, uv2_1).xyz * scale1) + bias1) * 0.4)\\n  ) + (\\n    ((texture (sampler_blur2, uv2_1).xyz * scale2) + bias2)\\n   * 0.15)) + ((\\n    (texture (sampler_blur3, uv2_1).xyz * scale3)\\n   + bias3) * 0.1)).x;\\n  uv2_1 = (uv + (vec2(-1.0, 0.0) * texsize.zw));\\n  float tmpvar_4;\\n  tmpvar_4 = (((texture (sampler_main, uv2_1).xyz + \\n    (((texture (sampler_blur1, uv2_1).xyz * scale1) + bias1) * 0.4)\\n  ) + (\\n    ((texture (sampler_blur2, uv2_1).xyz * scale2) + bias2)\\n   * 0.15)) + ((\\n    (texture (sampler_blur3, uv2_1).xyz * scale3)\\n   + bias3) * 0.1)).x;\\n  uv2_1 = (uv + (vec2(0.0, 1.0) * texsize.zw));\\n  float tmpvar_5;\\n  tmpvar_5 = (((texture (sampler_main, uv2_1).xyz + \\n    (((texture (sampler_blur1, uv2_1).xyz * scale1) + bias1) * 0.4)\\n  ) + (\\n    ((texture (sampler_blur2, uv2_1).xyz * scale2) + bias2)\\n   * 0.15)) + ((\\n    (texture (sampler_blur3, uv2_1).xyz * scale3)\\n   + bias3) * 0.1)).x;\\n  uv2_1 = (uv + (vec2(0.0, -1.0) * texsize.zw));\\n  vec3 tmpvar_6;\\n  tmpvar_6.z = 0.14;\\n  tmpvar_6.x = (tmpvar_3 - tmpvar_4);\\n  tmpvar_6.y = (tmpvar_5 - ((\\n    (texture (sampler_main, uv2_1).xyz + (((texture (sampler_blur1, uv2_1).xyz * scale1) + bias1) * 0.4))\\n   + \\n    (((texture (sampler_blur2, uv2_1).xyz * scale2) + bias2) * 0.15)\\n  ) + (\\n    ((texture (sampler_blur3, uv2_1).xyz * scale3) + bias3)\\n   * 0.1)).x);\\n  ret_2 = (0.5 + (0.5 * normalize(tmpvar_6)));\\n  vec2 x_7;\\n  x_7 = (ret_2.xy - 0.5);\\n  ret_2 = (ret_2 * clamp ((\\n    sqrt(dot (x_7, x_7))\\n   * 5.0), 0.0, 1.0));\\n  ret_2 = ret_2.xxy;\\n  ret_2 = (ret_2 + 1.15);\\n  ret_2 = (ret_2 * mix (ret_2, (ret_2 * \\n    (((texture (sampler_blur3, uv).xyz * scale3) + bias3) - ((texture (sampler_blur1, uv).xyz * scale1) + bias1))\\n  ), pow (hue_shader.zxy, ret_2)));\\n  ret_2 = (ret_2 * ret_2);\\n  vec4 tmpvar_8;\\n  tmpvar_8.w = 1.0;\\n  tmpvar_8.xyz = ret_2;\\n  ret = tmpvar_8.xyz;\\n }"}') }, "./presets/converted/Flexi, fishbrain, Geiss + Martin - tokamak witchery.json": e => { e.exports = JSON.parse('{"version":2,"baseVals":{"rating":5,"gammaadj":1.56,"decay":1,"echo_zoom":0.362,"echo_orient":1,"wave_mode":7,"additivewave":1,"modwavealphabyvolume":1,"wave_brighten":0,"darken":1,"wave_a":0.001,"wave_scale":1.286,"wave_smoothing":0.63,"modwavealphastart":0.71,"modwavealphaend":1.3,"warpscale":1.331,"fshader":1,"zoom":1.004,"warp":0.19788,"sx":0.99967,"sy":0.9999,"wave_g":0.65,"wave_b":0.65,"ob_size":0,"ob_a":1,"mv_x":64,"mv_y":48,"mv_l":0,"mv_a":0},"shapes":[{"baseVals":{"sides":5,"additive":1,"num_inst":2,"x":0.49,"rad":0.11589,"tex_zoom":4.36077,"g2":0,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"x = rand(1000)/1000;\\ny = rand(1000)/1000;\\nang = rand(150)/100;"},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""}],"waves":[{"baseVals":{"enabled":1,"thick":1,"r":0,"g":0.3,"b":0.75},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":"ma=ma+(above(bass,1)*3.1415*.01*bass);\\nma=ma-(above(treb,1)*3.1415*.01*treb);\\n\\nmx=mx+(.0002*cos(ma));\\nmy=my+(.0002*sin(ma));\\n\\nmx=if(above(mx,.9),(.9-mx),mx);\\nmy=if(above(my,.9),(.9-my),my);\\nmx=if(below(mx,.1),(.9+mx),mx);\\nmy=if(below(my,.1),(.9+my),my);\\n\\nx=mx;\\ny=my;\\n\\na=(above(bass+mid+treb,.8));"},{"baseVals":{"enabled":1,"thick":1,"r":0,"b":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":"ma=ma+(above(bass,1)*3.1415*.05*bass);\\nma=ma-(above(mid,1)*3.1415*.05*mid);\\n\\nmx=mx+(.0001*cos(ma));\\nmy=my+(.0001*sin(ma));\\n\\nmx=if(above(mx,.9),(.9-mx),mx);\\nmy=if(above(my,.9),(.9-my),my);\\nmx=if(below(mx,.1),(.9+mx),mx);\\nmy=if(below(my,.1),(.9+my),my);\\n\\nx=mx;\\ny=my;\\n\\na=(above(bass+mid+treb,.1));"},{"baseVals":{"enabled":1,"thick":1,"g":0.5,"b":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":"ma=ma+(above(mid,1)*3.1415*.01*mid);\\nma=ma-(above(treb,1)*3.1415*.01*treb);\\n\\nmx=mx+(.0004*cos(ma));\\nmy=my+(.0004*sin(ma));\\n\\nmx=if(above(mx,.9),(.9-mx),mx);\\nmy=if(above(my,.9),(.9-my),my);\\nmx=if(below(mx,.1),(.9+mx),mx);\\nmy=if(below(my,.1),(.9+my),my);\\n\\nx=mx;\\ny=my;\\n\\na=(above(bass+mid+treb,.3));"},{"baseVals":{"enabled":1,"thick":1,"r":0.4,"g":0,"b":0.6},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":"ma=ma+(above(bass,.5)*3.1415*.02*bass);\\nma=ma-(above(treb,.5)*3.1415*.02*treb);\\n\\nmx=mx+(.0008*cos(ma));\\nmy=my+(.0008*sin(ma));\\n\\nmx=if(above(mx,.9),(.9-mx),mx);\\nmy=if(above(my,.9),(.9-my),my);\\nmx=if(below(mx,.1),(.9+mx),mx);\\nmy=if(below(my,.1),(.9+my),my);\\n\\nx=mx;\\ny=my;\\n\\na=(above(bass+mid+treb,.2));"}],"init_eqs_eel":"","frame_eqs_eel":"wave_r = wave_r + 0.2*( 0.60*sin(0.980*time) + 0.40*sin(1.047*time) );\\nwave_g = wave_g + 0.2*( 0.60*sin(0.835*time) + 0.40*sin(1.081*time) );\\nwave_b = wave_b + 0.2*( 0.60*sin(0.814*time) + 0.40*sin(1.011*time) );\\nq1 = (cx*2-1) + 0.6*( 0.60*sin(0.374*time) + 0.40*sin(0.294*time) );\\nq2 = (cy*2-1) + 0.6*( 0.60*sin(0.393*time) + 0.40*sin(0.223*time) );\\nwarp = 0;\\nzoom = 1;\\nbb = bb*0.99 + bass*0.02;\\nmm = mm*0.99 + mid*0.02;\\ntt = tt*0.99 + treb*0.02;\\n\\nmx = max(max(bb,mm),tt);\\nmn = min(min(bb,mm),tt);\\n\\nob_r = (bb-mn)/(mx-mn);\\nob_b = (mm-mn)/(mx-mn);\\nob_g = (tt-mn)/(mx-mn);","pixel_eqs_eel":"du = (x*2-1) - q1;\\ndv = (y*2-1) - q2;\\ndist = sqrt(du*du+dv*dv);\\nang2 = atan2(du,dv) + time*0.15;\\nmult = 0.05*sin(dist*0.05);\\ndx = mult*sin(ang2*2-1.5);\\ndy = mult*cos(ang2*2-1.5);","warp":" shader_body { \\n  vec4 tmpvar_1;\\n  tmpvar_1.w = 1.0;\\n  vec4 tmpvar_2;\\n  tmpvar_2 = texture (sampler_main, uv);\\n  tmpvar_1.xyz = ((texture (sampler_main, clamp (\\n    (uv - (((vec2(0.0, 64.0) * texsize.zw) * dot (\\n      (tmpvar_2.xyz - 0.35)\\n    , vec3(0.32, 0.49, 0.29))) * (dot (tmpvar_2.xyz, vec3(0.32, 0.49, 0.29)) - 0.4)))\\n  , 0.0, 1.0)).xyz - 0.0011) + ((texture (sampler_noise_lq, \\n    (((uv_orig * texsize.xy) * (texsize_noise_lq.zw * 1.5)) + rand_frame.xy)\\n  ) - 0.5) * 0.0038).xyz);\\n  ret = tmpvar_1.xyz;\\n }","comp":" shader_body { \\n  vec2 uv1_1;\\n  vec2 tmpvar_2;\\n  tmpvar_2.y = 0.0;\\n  tmpvar_2.x = texsize.z;\\n  vec2 tmpvar_3;\\n  tmpvar_3.x = 0.0;\\n  tmpvar_3.y = texsize.w;\\n  vec2 tmpvar_4;\\n  tmpvar_4.x = (texture (sampler_main, (uv - tmpvar_2)).xyz - texture (sampler_main, (uv + tmpvar_2)).xyz).x;\\n  tmpvar_4.y = (texture (sampler_main, (uv - tmpvar_3)).xyz - texture (sampler_main, (uv + tmpvar_3)).xyz).x;\\n  uv1_1 = ((0.3 * cos(\\n    ((uv - 0.5) * 2.0)\\n  )) - tmpvar_4);\\n  float tmpvar_5;\\n  tmpvar_5 = clamp ((0.04 / sqrt(\\n    dot (uv1_1, uv1_1)\\n  )), 0.0, 1.0);\\n  uv1_1 = ((0.3 * cos(\\n    (uv1_1 * 12.0)\\n  )) - (9.0 * tmpvar_4));\\n  vec4 tmpvar_6;\\n  tmpvar_6.w = 1.0;\\n  tmpvar_6.xyz = (tmpvar_5 + ((texture (sampler_main, uv).xyz * 12.0) * vec3(clamp (\\n    (0.04 / sqrt(dot (uv1_1, uv1_1)))\\n  , 0.0, 1.0))));\\n  ret = tmpvar_6.xyz;\\n }"}') }, "./presets/converted/Flexi, martin + geiss - dedicated to the sherwin maxawow.json": e => { e.exports = JSON.parse('{"version":2,"baseVals":{"rating":3,"gammaadj":1.56,"decay":1,"echo_zoom":0.362,"echo_orient":1,"wave_thick":1,"wave_brighten":0,"darken":1,"wave_a":0.001,"wave_scale":1.599,"wave_smoothing":0,"wave_mystery":-0.5,"modwavealphastart":2,"modwavealphaend":2,"warpscale":0.107,"zoomexp":0.1584,"fshader":1,"warp":0.01,"wave_r":0.51,"wave_g":0.5,"ob_size":0,"ob_a":1,"ib_r":0,"ib_g":0,"ib_b":0,"ib_a":1,"mv_x":64,"mv_y":48,"mv_l":0.5,"mv_r":0,"mv_g":0,"mv_b":0,"mv_a":0},"shapes":[{"baseVals":{"sides":100,"thickoutline":1,"rad":0.50126,"tex_zoom":0.99996,"g":1,"b":1,"r2":1,"g2":0,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"x = 0.5+sin(time*0.618)*0.2;\\ny = 0.5+cos(time*1.618)*0.2;\\nrad = bass*0.05;\\nborder_r = 1-(sin(time*1.25)*0.3+0.7);\\nborder_g = 1-(sin(time)*0.3+0.3);\\nborder_b = 1-(sin(time/3)*0.5+0.5);"},{"baseVals":{"sides":100,"thickoutline":1,"rad":0.50126,"g":1,"b":1,"g2":0,"b2":1,"border_g":0,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"x = 0.5+sin(time*2.618)*0.3;\\ny = 0.5+cos(time*3.14)*0.3;\\nrad = bass*0.05;\\nborder_r = 1-(sin(time*1.25)*0.3+0.7);\\nborder_g = 1-(sin(time)*0.3+0.3);\\nborder_b = 1-(sin(time/3)*0.5+0.5);\\n"},{"baseVals":{"sides":100,"thickoutline":1,"rad":0.50126,"tex_zoom":0.9998,"g":1,"b":1,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"x = 0.5+sin(-time*2.618)*0.4;\\ny = 0.5+cos(-time*1.14)*0.4;\\nrad = bass*0.05;\\nborder_r = 1-(sin(time*1.25)*0.3+0.7);\\nborder_g = 1-(sin(time)*0.3+0.3);\\nborder_b = 1-(sin(time/3)*0.5+0.5);"},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""}],"waves":[{"baseVals":{"scaling":0.16188,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"thick":1,"additive":1,"scaling":25.12601,"smoothing":1,"a":0.1,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""}],"init_eqs_eel":"","frame_eqs_eel":"//zoom = 0.99;\\nib_r = sin(time*1.25*4)*0.3+0.7;\\nib_g = sin(time*4)*0.3+0.3;\\nib_b = sin(time/3*4)*0.5+0.5;\\nwave_r = 1- ib_r;\\nwave_g = 1- ib_g;\\nwave_b = 1- ib_b;\\n//wave_mystery = -1+bass/2;\\nwave_x = 0.5+sin(time*3)*0.3;\\nwave_y = 0.5+cos(time*2.187)*0.3;","pixel_eqs_eel":"r = bass/4;\\ncx1 = 0.5+sin(time*0.618)*0.2;\\ncy1 = 0.5+cos(time*1.618)*0.2;\\nd = sqrt((x-cx1)*(x-cx1)+(y-cy1)*(y-cy1));\\ndir = (bass)*(r*r-d*d)*0.3;\\nx1 = if( above(d,r),0,  sin(y-cy1)*dir);\\ny1 = if( above(d,r),0, -sin(x-cx1)*dir);\\n\\n\\ncx1 = 0.5+sin(time*2.618)*0.3;\\ncy1 = 0.5+cos(time*3.14)*0.3;\\nd = sqrt((x-cx1)*(x-cx1)+(y-cy1)*(y-cy1));\\ndir = -(mid)*(r*r-d*d)*0.3;\\nx2 = if( above(d,r),0,  sin(y-cy1)*dir);\\ny2 = if( above(d,r),0, -sin(x-cx1)*dir);\\n\\ncx1 = 0.5+sin(-time*2.618)*0.4;\\ncy1 = 0.5+cos(-time*1.14)*0.4;\\nd = sqrt((x-cx1)*(x-cx1)+(y-cy1)*(y-cy1));\\ndir = -(treb)*(r*r-d*d)*0.3;\\nx3 = if( above(d,r),0,  sin(y-cy1)*dir);\\ny3 = if( above(d,r),0, -sin(x-cx1)*dir);\\n\\n\\ndx = x1+x2+x3;\\ndy = y1+y2+y3;","warp":" shader_body { \\n  vec2 uv_1;\\n  vec2 tmpvar_2;\\n  tmpvar_2 = (((uv_orig * texsize.xy) * (texsize_noise_lq.zw * 2.0)) + rand_frame.xy);\\n  uv_1 = (uv + ((texture (sampler_noise_lq, tmpvar_2).xy - 0.5) * texsize.zw));\\n  vec2 tmpvar_3;\\n  tmpvar_3.x = bass;\\n  tmpvar_3.y = treb;\\n  vec4 tmpvar_4;\\n  tmpvar_4.w = 1.0;\\n  tmpvar_4.xyz = (texture (sampler_main, (uv_1 + (\\n    (texture (sampler_main, (mix (uv_1, uv_orig, vec2(-1.0, -1.0)) + texsize.zw)).xy - 0.4)\\n   * \\n    (-0.004 + (0.04 * clamp ((tmpvar_3 - 1.0), 0.0, 1.0)))\\n  ))).xyz - (0.0008 + (\\n    (texture (sampler_noise_lq, tmpvar_2) - 0.5)\\n   * 0.02)).xyz);\\n  ret = tmpvar_4.xyz;\\n }","comp":" shader_body { \\n  vec2 uv1_1;\\n  vec2 tmpvar_2;\\n  tmpvar_2.y = 0.0;\\n  tmpvar_2.x = texsize.z;\\n  vec2 tmpvar_3;\\n  tmpvar_3.x = 0.0;\\n  tmpvar_3.y = texsize.w;\\n  vec2 tmpvar_4;\\n  tmpvar_4.x = (texture (sampler_main, (uv - tmpvar_2)).xyz - texture (sampler_main, (uv + tmpvar_2)).xyz).x;\\n  tmpvar_4.y = (texture (sampler_main, (uv - tmpvar_3)).xyz - texture (sampler_main, (uv + tmpvar_3)).xyz).x;\\n  uv1_1 = ((0.3 * cos(\\n    ((uv - 0.5) * 2.0)\\n  )) - tmpvar_4);\\n  float tmpvar_5;\\n  tmpvar_5 = clamp ((0.04 / sqrt(\\n    dot (uv1_1, uv1_1)\\n  )), 0.0, 1.0);\\n  uv1_1 = ((0.3 * cos(\\n    (uv1_1 * 12.0)\\n  )) - (9.0 * tmpvar_4));\\n  vec4 tmpvar_6;\\n  tmpvar_6.w = 1.0;\\n  tmpvar_6.xyz = (tmpvar_5 + ((texture (sampler_main, uv).xyz * 12.0) * vec3(clamp (\\n    (0.04 / sqrt(dot (uv1_1, uv1_1)))\\n  , 0.0, 1.0))));\\n  ret = tmpvar_6.xyz;\\n }"}') }, "./presets/converted/Fumbling_Foo + En D & Martin - Mandelverse.json": e => { e.exports = JSON.parse('{"version":2,"baseVals":{"rating":1,"gammaadj":1.98,"decay":0.5,"echo_zoom":1,"echo_alpha":0.5,"echo_orient":3,"wave_mode":7,"additivewave":1,"modwavealphabyvolume":1,"wave_brighten":0,"wrap":0,"darken":1,"wave_a":0.001,"wave_scale":1.286,"wave_smoothing":0.63,"modwavealphastart":0.71,"modwavealphaend":1.3,"warpanimspeed":1.459,"warpscale":2.007,"zoom":0.9999,"warp":0.01,"sx":0.9999,"wave_r":0.65,"wave_g":0.65,"wave_b":0.65,"ob_size":0,"ob_g":0.1,"ob_b":1,"ob_a":1,"ib_size":0,"ib_r":0,"ib_g":0,"ib_b":0,"mv_a":0,"b1ed":0},"shapes":[{"baseVals":{"enabled":1,"sides":54,"textured":1,"rad":0.49138,"ang":1.5708,"tex_ang":3.14159,"g":1,"b":1,"r2":1,"b2":1,"border_a":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"enabled":1,"sides":54,"rad":0.08195,"r":0,"g":1,"g2":0,"border_a":0},"init_eqs_eel":"","frame_eqs_eel":"x=q3;\\ny=1-q4;\\n\\nr = abs(q20);\\ng = abs(q21);\\nb = abs(q22);\\n\\nrad = .1*mid;"},{"baseVals":{"enabled":1,"sides":54,"rad":0.08195,"r":0,"g2":0,"border_a":0},"init_eqs_eel":"","frame_eqs_eel":"x=q5;\\ny=1-q6;\\n\\nrad = .2*bass;"},{"baseVals":{"enabled":1,"sides":54,"rad":0.08195,"r":0,"b":1,"g2":0,"border_a":0},"init_eqs_eel":"","frame_eqs_eel":"x=q1;\\ny=1-q2;\\n\\nr = (q23);\\ng = (q24);\\nb = (q25);\\na = q19;\\n\\nrad = bass*.1;"}],"waves":[{"baseVals":{"sep":51,"spectrum":1,"usedots":1,"thick":1,"scaling":1.32735,"smoothing":0.82,"b":3,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":"x = rand(1001)*.001;\\ny = rand(1001)*.001;\\n\\ntm = time*.5 + sample*2;\\n\\nr = .5 + .5*sin(tm*1.132);\\ng = .5 + .5*sin(tm*1.121);\\nb = .5 + .5*sin(tm*1.187);"},{"baseVals":{"sep":51,"spectrum":1,"usedots":1,"scaling":1.32735,"smoothing":0.82,"b":3,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":"x = rand(1001)*.001;\\ny = rand(1001)*.001;\\n\\ntm = time*.5 + sample*2;\\n\\nr = .5 + .5*sin(tm*1.132);\\ng = .5 + .5*sin(tm*1.121);\\nb = .5 + .5*sin(tm*1.187);"},{"baseVals":{"sep":51,"usedots":1,"thick":1,"scaling":1.32735,"smoothing":0.82,"b":3,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":"x = rand(1001)*.001;\\ny = rand(1001)*.001;\\n\\ntm = time*.5 + sample*2;\\n\\nr = .5 + .5*sin(tm*1.132);\\ng = .5 + .5*sin(tm*1.121);\\nb = .5 + .5*sin(tm*1.187);"},{"baseVals":{"enabled":1,"sep":51,"usedots":1,"additive":1,"scaling":1.32735,"smoothing":0.82,"b":3},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":"x = rand(1001)*.001;\\ny = rand(1001)*.001;\\n\\ntm = time*.5 + sample*2;\\n\\nr = .5 + .5*sin(tm*1.132);\\ng = .5 + .5*sin(tm*1.121);\\nb = .5 + .5*sin(tm*1.187);"}],"init_eqs_eel":"//******** INITIALIZATION *********\\n//---------- some global vars, do not change -------------\\navg = 0.01;\\nq7 = .25; //MyZoom\\nq8 =  rand(2.0)-1.0; //fractal modifier\\n//q8 = 1; //#\\nq16 = 1 + rand(2); //Tele ; rather fish eye\\n//q16 = 1; //#\\nq18 = rand(0.8)+.1; //brightness balance back/front\\nq30 = 1; //logarithmic Z-Dist storage; unused\\nq31 =128;\\nstart = 1; travel = 0; RotZ = 0; look = 0; slow = 0; t0 = time+3; lampx = .5; lampy = .5;\\ncran0 = rand(1);\\nn = 0; loop (10000, gmegabuf(n)=0; n=n+1; ); \\nn = 0; loop (10000,  megabuf(n)=0; n=n+1; ); \\ntrelx = 0;  trely = 0; trelz = 0;\\nreg20 = 1; reg21 = 0; reg22 = 0; reg23 = 0; reg24 = 1; reg25 = 0; reg26 = 0; reg27 = 0; reg28 = 1;\\n\\n//Find random starting point\\nwhile (exec2(\\n  ran1 = rand(800)/100;  ran2 = rand(800)/100;  ran3 = rand(800)/100;\\n  PosX = rand(5)-2;   PosY = rand(5)-2;   PosZ = rand(5)-2; \\n\\n//  PosX = 3.3; PosY = 2; PosZ = -2; ran1 = 0; ran2 = 0; ran3 = 0; //#\\n\\n  c1 = cos(ran1); c2 = cos(ran2); c3 = cos(ran3); \\n  s1 = sin(ran1); s2 = sin(ran2); s3 = sin(ran3);\\n\\n  reg20 = c2*c1; reg21 = c2*s1; reg22 = -s2;\\n  reg23 = s3*s2*c1 - c3*s1; reg24 = s3*s2*s1 + c3*c1; reg25 = s3*c2;\\n  reg26 = c3*s2*c1 + s3*s1; reg27 = c3*s2*s1 - s3*c1; reg28 = c3*c2;\\n\\n  //***********BOT*************\\n  //Coord. Trans. must exactly match def in warp S. !!!!\\n  dist = 0.001;\\n  while (exec2(\\n    uvx = reg26*dist/q7; uvy = reg27*dist/q7; uvz = reg28*dist/q7;\\n    uvx += PosX; uvy += PosY; uvz += PosZ;\\n    uvx = 8.0*((uvx/8+30.5 - int(uvx/8+30.5))-.5);\\n    uvy = 8.0*((uvy/8+30.5 - int(uvy/8+30.5))-.5);\\n    uvz = 8.0*((uvz/8+30.5 - int(uvz/8+30.5))-.5);\\n    uvx0 = uvx+q8; uvy0 = uvy+q8; uvz0 = uvz+q8;\\n    loop (7+1,\\n      uvx = if (uvx > 1, 2-uvx, if(uvx < -1, -2-uvx, uvx));\\n      uvy = if (uvy > 1, 2-uvy, if(uvy < -1, -2-uvy, uvy));\\n      uvz = if (uvz > 1, 2-uvz, if(uvz < -1, -2-uvz, uvz));\\n      slen = uvx*uvx + uvy*uvy + uvz*uvz;\\n      uvx = if (slen < 0.25, uvx*4, if (slen < 1, uvx/slen, uvx)) *2.6 + uvx0; \\n      uvy = if (slen < 0.25, uvy*4, if (slen < 1, uvy/slen, uvy)) *2.6 + uvy0; \\n      uvz = if (slen < 0.25, uvz*4, if (slen < 1, uvz/slen, uvz)) *2.6 + uvz0; \\n    );\\n    len = sqrt(uvx*uvx + uvy*uvy + uvz*uvz);\\n    dist *= 1.05;\\n  ,(dist < 0.6)*(len > 30)));\\n,(dist < .06))); //end while","frame_eqs_eel":"fps_ = .0 * fps_ + 1*if(fps<=25,fps,25+.5*(fps-25)); \\ndec_s = 1-.06*30/fps_;\\nbeat = (time >  t0+3); t0 = if(beat, time, t0);\\n\\nspeed = min(0.2,dist_-.02) * (1+2*avg) *(1-slow*.0)*.7/q7; //#\\nds = ds * dec_s + (1-dec_s)*speed*.25/fps_; \\nRotZ = if (RotZ==0,beat*(rand(100)<20*travel)*(rand(10)/10-.3),\\n                   bnot(beat*(rand(100)<30))*RotZ);\\nslow = if (bnot(slow), beat*(rand(1000*avg)<6), bnot(beat*(rand(100)<50)));\\nlook = if (bnot(look), beat*(rand(1000*speed)<12), bnot(beat*(rand(100)<50)));\\n\\n//Lamp View\\nlx = if (beat,rand(150)/200+.15,lx);\\nly = if (beat,rand(150)/200+.15,ly);\\nlampx = lampx * dec_s + (1-dec_s)*if (look,lx,0.5);\\nlampy = lampy * dec_s + (1-dec_s)*if (look,ly,0.5);\\nq1 = lampx; q2 = lampy;\\n\\n//Position \\nDirX= reg26; DirY= reg27; DirZ = reg28;\\nPosX = PosX + ds*DirX ; PosY = PosY + ds*DirY; PosZ = PosZ + ds*DirZ; \\nq4 = PosX; q5 = PosY; q6 = PosZ;\\n\\nangchg = (.2-dist_)*(dist_ < .2)*2;\\ntravel = if (angchg > 0,0,travel+ds);\\nv1 = v1 * dec_s + (1-dec_s)* RotZ * ds;\\nv2 = v2 *dec_s + (1-dec_s)*angchg *xslope/fps_;\\nv3 = v3 *dec_s + (1-dec_s)*(angchg *yslope/fps_ + 2*v1*sin(time*.1));\\n//v2 = .008;\\n//push old RotMat\\nreg30 =reg20; reg31 =reg21; reg32 =reg22; \\nreg33 =reg23; reg34 =reg24; reg35 =reg25; \\nreg36 =reg26; reg37 =reg27; reg38 =reg28; \\n\\nn = 0; avg = 0;\\nloop (5,\\n  n = n+1;\\n  //new Rot. Mat for infinitesimal angles\\n  ran1 = rand(100)/100;\\n  ran2 = rand(100)/200-.25;\\n  tx = cos(n*1.57+ran2) * (n <= 4)*ran1; ty = sin(n*1.57+ran2) * (n <= 4)*ran1;\\n  c1 = cos(v1); c2 = cos(v2+ty); c3 = cos(v3+tx); \\n  s1 = sin(v1); s2 = sin(v2+ty); s3 = sin(v3+tx);\\n  reg10 = c2*c1; reg11 = c2*s1; reg12 = -s2;\\n  reg13 = s3*s2*c1 - c3*s1; reg14 = s3*s2*s1 + c3*c1; reg15 = s3*c2;\\n  reg16 = c3*s2*c1 + s3*s1; reg17 = c3*s2*s1 - s3*c1; reg18 = c3*c2;\\n\\n  //pop old RotMat\\n  reg20 =reg30; reg21 =reg31; reg22 =reg32; \\n  reg23 =reg33; reg24 =reg34; reg25 =reg35; \\n  reg26 =reg36; reg27 =reg37; reg28 =reg38; \\n\\n  //Multiply new RotMat by old one\\n  q20 = reg10*reg20 + reg11*reg23 + reg12*reg26;\\n  q21 = reg10*reg21 + reg11*reg24 + reg12*reg27;\\n  q22 = reg10*reg22 + reg11*reg25 + reg12*reg28;\\n  q23 = reg13*reg20 + reg14*reg23 + reg15*reg26;\\n  q24 = reg13*reg21 + reg14*reg24 + reg15*reg27;\\n  q25 = reg13*reg22 + reg14*reg25 + reg15*reg28;\\n  q26 = reg16*reg20 + reg17*reg23 + reg18*reg26;\\n  q27 = reg16*reg21 + reg17*reg24 + reg18*reg27;\\n  q28 = reg16*reg22 + reg17*reg25 + reg18*reg28;\\n\\n  reg20 =q20; reg21 =q21; reg22 =q22;\\n  reg23 =q23; reg24 =q24; reg25 =q25;\\n  reg26 =q26; reg27 =q27; reg28 =q28;\\n\\n  //***********BOT*************\\n  //Coord. Trans. must exactly match def in warp S. !!!!\\n  dist = 0.002;\\n  while (exec2(\\n    uvx = reg26*dist/q7; uvy = reg27*dist/q7; uvz = reg28*dist/q7;\\n    uvx += PosX; uvy += PosY; uvz += PosZ;\\n    uvx = 8.0*((uvx/8+30.5 - int(uvx/8+30.5))-.5);\\n    uvy = 8.0*((uvy/8+30.5 - int(uvy/8+30.5))-.5);\\n    uvz = 8.0*((uvz/8+30.5 - int(uvz/8+30.5))-.5);\\n    uvx0 = uvx+q8; uvy0 = uvy+q8; uvz0 = uvz+q8;\\n    loop (7+1,\\n      uvx = if (uvx > 1, 2-uvx, if(uvx < -1, -2-uvx, uvx));\\n      uvy = if (uvy > 1, 2-uvy, if(uvy < -1, -2-uvy, uvy));\\n      uvz = if (uvz > 1, 2-uvz, if(uvz < -1, -2-uvz, uvz));\\n      slen = uvx*uvx + uvy*uvy + uvz*uvz;\\n      uvx = if (slen < 0.25, uvx*4, if (slen < 1, uvx/slen, uvx)) *2.6 + uvx0; \\n      uvy = if (slen < 0.25, uvy*4, if (slen < 1, uvy/slen, uvy)) *2.6 + uvy0; \\n      uvz = if (slen < 0.25, uvz*4, if (slen < 1, uvz/slen, uvz)) *2.6 + uvz0; \\n    );\\n    len = sqrt(uvx*uvx + uvy*uvy + uvz*uvz);\\n    dist *= 1.1;\\n  ,(dist < 0.6)*(len > 30)));\\n  megabuf(n) = megabuf(n)*dec_s + (1-dec_s)*dist; //stores the 4 trial points\\n  avg = avg+abs(megabuf(n)/5);\\n); //end loop 5\\n\\nn = 0; avg = 0; loop (5, n=n+1; avg = avg+abs(megabuf(n)/5));\\n\\nxslope = min(max(2/avg*(megabuf(1)-megabuf(3)),-3),3);\\nyslope = min(max(2/avg*(megabuf(4)-megabuf(2)),-3),3);\\nmonitor = avg;\\ndist_ = dist_*dec_s + (1-dec_s)*dist;\\n\\nq10 = ds*q7; //compensation of lin. movement in GetDist and zoom uv\\nq14 = 1*abs(ds) + 2*(abs(v1) + abs(v2) + abs(v3)) + 1.0/255 + start*.05; \\n//q15 = sign(4*avg - 1)*pow(abs(4*avg - 1), 1.25); // 500*ds*q7; // + ( sign(v1)*sqrt(abs(v1)) + sign(v2)*sqrt(abs(v2)) + sign(v3)*sqrt(abs(v3)) )\\nq15 = 4*avg - 1.4;\\nq19 = .6 + .4*sin(time*.02+cran0*6); //brightness backgd\\nstart = start * .9;\\nq11 = v1; q12 = v2; q13 = v3;\\n//forward comp. of Rotation\\n\\nmonitor = 3.333*q15;","pixel_eqs_eel":"warp = 0.0; zoom = 1; dx = -q12/q16*(1+0*pow(x-.5,2)); dy = q13/q16*(1+0*pow(y-.5,2)); rot =q11;","warp":"float sustain;\\nfloat xlat_mutabledist;\\nfloat xlat_mutablestruc;\\nvec2 xlat_mutableuv1;\\nvec3 xlat_mutableuv2;\\n shader_body { \\n  mat3 tmpvar_1;\\n  tmpvar_1[uint(0)].x = q20;\\n  tmpvar_1[uint(0)].y = q23;\\n  tmpvar_1[uint(0)].z = q26;\\n  tmpvar_1[1u].x = q21;\\n  tmpvar_1[1u].y = q24;\\n  tmpvar_1[1u].z = q27;\\n  tmpvar_1[2u].x = q22;\\n  tmpvar_1[2u].y = q25;\\n  tmpvar_1[2u].z = q28;\\n  vec3 tmpvar_2;\\n  tmpvar_2.x = q4;\\n  tmpvar_2.y = q5;\\n  tmpvar_2.z = q6;\\n  sustain = (0.92 + (q14 * 1.5));\\n  vec2 uv_3;\\n  vec3 ret_4;\\n  uv_3 = (((uv - 0.5) * (1.0 - \\n    (q10 / (1.0 - ((texture (sampler_blur1, uv).xyz * scale1) + bias1).z))\\n  )) + 0.5);\\n  xlat_mutableuv1 = (((uv_orig - 0.5) * aspect.xy) * q16);\\n  vec4 tmpvar_5;\\n  tmpvar_5 = fract((8.0 * texture (sampler_noise_lq, (uv_3 + rand_frame.yz))));\\n  vec3 tmpvar_6;\\n  tmpvar_6 = tmpvar_5.xyz;\\n  if ((tmpvar_5.y > 0.1)) {\\n    vec3 tmpvar_7;\\n    tmpvar_7 = (tmpvar_5.xyz - vec3(0.5, 0.5, 0.5));\\n    vec4 nb2_8;\\n    vec4 nb_9;\\n    vec2 tmpvar_10;\\n    tmpvar_10 = (0.003472222 * floor((\\n      (288.0 * texture (sampler_pc_main, (uv_3 - texsize.zw)).yz)\\n     + vec2(0.5, 0.5))));\\n    nb_9.x = (1.0 - (tmpvar_10.y + (0.03125 * \\n      (tmpvar_10.x - 0.505)\\n    )));\\n    vec2 tmpvar_11;\\n    tmpvar_11 = (0.003472222 * floor((\\n      (288.0 * texture (sampler_pc_main, (uv_3 + (texsize.zw * vec2(1.0, -1.0)))).yz)\\n     + vec2(0.5, 0.5))));\\n    nb_9.y = (1.0 - (tmpvar_11.y + (0.03125 * \\n      (tmpvar_11.x - 0.505)\\n    )));\\n    vec2 tmpvar_12;\\n    tmpvar_12 = (0.003472222 * floor((\\n      (288.0 * texture (sampler_pc_main, (uv_3 + texsize.zw)).yz)\\n     + vec2(0.5, 0.5))));\\n    nb_9.z = (1.0 - (tmpvar_12.y + (0.03125 * \\n      (tmpvar_12.x - 0.505)\\n    )));\\n    vec2 tmpvar_13;\\n    tmpvar_13 = (0.003472222 * floor((\\n      (288.0 * texture (sampler_pc_main, (uv_3 + (texsize.zw * vec2(-1.0, 1.0)))).yz)\\n     + vec2(0.5, 0.5))));\\n    nb_9.w = (1.0 - (tmpvar_13.y + (0.03125 * \\n      (tmpvar_13.x - 0.505)\\n    )));\\n    vec2 tmpvar_14;\\n    tmpvar_14 = (0.003472222 * floor((\\n      (288.0 * texture (sampler_pc_main, (uv_3 + (texsize.zw * vec2(0.0, -1.0)))).yz)\\n     + vec2(0.5, 0.5))));\\n    nb2_8.x = (1.0 - (tmpvar_14.y + (0.03125 * \\n      (tmpvar_14.x - 0.505)\\n    )));\\n    vec2 tmpvar_15;\\n    tmpvar_15 = (0.003472222 * floor((\\n      (288.0 * texture (sampler_pc_main, (uv_3 + (texsize.zw * vec2(1.0, 0.0)))).yz)\\n     + vec2(0.5, 0.5))));\\n    nb2_8.y = (1.0 - (tmpvar_15.y + (0.03125 * \\n      (tmpvar_15.x - 0.505)\\n    )));\\n    vec2 tmpvar_16;\\n    tmpvar_16 = (0.003472222 * floor((\\n      (288.0 * texture (sampler_pc_main, (uv_3 + (texsize.zw * vec2(0.0, 1.0)))).yz)\\n     + vec2(0.5, 0.5))));\\n    nb2_8.z = (1.0 - (tmpvar_16.y + (0.03125 * \\n      (tmpvar_16.x - 0.505)\\n    )));\\n    vec2 tmpvar_17;\\n    tmpvar_17 = (0.003472222 * floor((\\n      (288.0 * texture (sampler_pc_main, (uv_3 + (texsize.zw * vec2(-1.0, 0.0)))).yz)\\n     + vec2(0.5, 0.5))));\\n    nb2_8.w = (1.0 - (tmpvar_17.y + (0.03125 * \\n      (tmpvar_17.x - 0.505)\\n    )));\\n    vec4 tmpvar_18;\\n    tmpvar_18 = min (nb_9, nb2_8);\\n    nb_9.zw = tmpvar_18.zw;\\n    nb_9.xy = min (tmpvar_18.xy, tmpvar_18.zw);\\n    vec2 tmpvar_19;\\n    tmpvar_19 = (0.003472222 * floor((\\n      (288.0 * texture (sampler_pc_main, uv_3).yz)\\n     + vec2(0.5, 0.5))));\\n    vec2 tmpvar_20;\\n    tmpvar_20.x = (tmpvar_7.x * abs(tmpvar_7.y));\\n    tmpvar_20.y = (abs(tmpvar_7.x) * tmpvar_7.y);\\n    xlat_mutabledist = (min (min (nb_9.x, nb_9.y), (1.0 - \\n      (tmpvar_19.y + (0.03125 * (tmpvar_19.x - 0.505)))\\n    )) + (0.01 * tmpvar_20)).x;\\n  } else {\\n    xlat_mutabledist = tmpvar_6.x;\\n  };\\n  vec2 tmpvar_21;\\n  tmpvar_21 = (0.003472222 * floor((\\n    (288.0 * texture (sampler_pc_main, uv_3).yz)\\n   + vec2(0.5, 0.5))));\\n  xlat_mutabledist = (min (xlat_mutabledist, (1.0 - \\n    (tmpvar_21.y + (0.03125 * (tmpvar_21.x - 0.505)))\\n  )) - (q10 * 0.8));\\n  float tmpvar_22;\\n  tmpvar_22 = (xlat_mutabledist + (pow (xlat_mutabledist, 3.0) * 0.2));\\n  vec3 tmpvar_23;\\n  tmpvar_23.xy = (xlat_mutableuv1 * tmpvar_22);\\n  tmpvar_23.z = tmpvar_22;\\n  xlat_mutableuv2 = (((tmpvar_23 / q7) * tmpvar_1) + tmpvar_2);\\n  xlat_mutableuv2 = ((fract(\\n    ((xlat_mutableuv2 / 8.0) + 0.5)\\n  ) - 0.5) * 8.0);\\n  vec4 tmpvar_24;\\n  tmpvar_24.w = 0.0;\\n  tmpvar_24.xyz = (vec3((texture (sampler_noisevol_lq, (xlat_mutableuv2 / 16.0)).x * 3.0)) * 80.0);\\n  float tmpvar_25;\\n  tmpvar_25 = sqrt(dot (tmpvar_24.xyz, tmpvar_24.xyz));\\n  xlat_mutablestruc = (sqrt(dot (tmpvar_24.xyz, tmpvar_24.xyz)) / 80.0);\\n  if (((tmpvar_25 < 80.0) && (xlat_mutabledist > 0.005))) {\\n    ret_4.x = (((1.0 - sustain) * xlat_mutablestruc) + (sustain * texture (sampler_main, uv_3).x));\\n    vec2 tmpvar_26;\\n    tmpvar_26 = (0.003472222 * floor((\\n      (288.0 * vec2((1.0 - xlat_mutabledist)))\\n     + vec2(0.5, 0.5))));\\n    vec2 tmpvar_27;\\n    tmpvar_27.x = ((32.0 * (\\n      (1.0 - xlat_mutabledist)\\n     - tmpvar_26.x)) + 0.495);\\n    tmpvar_27.y = tmpvar_26.x;\\n    ret_4.yz = tmpvar_27;\\n  } else {\\n    vec3 tmpvar_28;\\n    tmpvar_28.x = (0.5 * (sustain + 1.0));\\n    tmpvar_28.y = sustain;\\n    tmpvar_28.z = sustain;\\n    vec3 tmpvar_29;\\n    tmpvar_29.y = 0.0;\\n    tmpvar_29.x = (1.0 - sustain);\\n    tmpvar_29.z = (1.0 - sustain);\\n    ret_4 = ((texture (sampler_fw_main, fract(uv_3)).xyz * tmpvar_28) - (0.01 * tmpvar_29));\\n  };\\n  vec4 tmpvar_30;\\n  tmpvar_30.w = 1.0;\\n  tmpvar_30.xyz = ret_4;\\n  ret = tmpvar_30.xyz;\\n }","comp":" shader_body { \\n  vec2 uv_1;\\n  vec2 dz_2;\\n  vec3 ret2_3;\\n  vec2 tmpvar_4;\\n  tmpvar_4.x = (abs((uv.x - 0.5)) + 0.5);\\n  tmpvar_4.y = uv.y;\\n  uv_1 = (abs((tmpvar_4 - 0.5)) + 0.5);\\n  ret2_3 = (texture (sampler_main, uv_1).xyz * (0.6 + (0.5 * \\n    sin(((uv_1.x * 10.0) + (3.141593 * (q27 + q28))))\\n  )));\\n  vec3 tmpvar_5;\\n  tmpvar_5 = mix (vec3(dot (texture (sampler_main, uv_1).xyz, vec3(0.32, 0.49, 0.29))), ret2_3, pow (ret2_3, vec3((0.15 + \\n    (mid_att * 0.025)\\n  ))));\\n  ret2_3 = tmpvar_5;\\n  vec2 tmpvar_6;\\n  tmpvar_6 = (uv_1 - 0.5);\\n  vec2 tmpvar_7;\\n  vec2 tmpvar_8;\\n  tmpvar_8 = (vec2(0.0005, 0.0) * q21);\\n  tmpvar_7.x = (texture (sampler_main, (uv_1 + tmpvar_8)).x - texture (sampler_main, (uv_1 - tmpvar_8)).z);\\n  vec2 tmpvar_9;\\n  tmpvar_9 = (vec2(0.0, 0.0005) * q20);\\n  tmpvar_7.y = (texture (sampler_main, (uv_1 + tmpvar_9)).x - texture (sampler_main, (uv_1 - tmpvar_9)).z);\\n  dz_2 = (tmpvar_7 + ((texture (sampler_noise_hq, \\n    (((tmpvar_6 / (\\n      (((0.5 * q26) + (0.5 * q27)) / q16)\\n     + rad)) * ((q23 * 0.1) + (q24 * 0.1))) + q31)\\n  ) - 0.5) * 0.1).xy);\\n  vec2 tmpvar_10;\\n  tmpvar_10 = abs((tmpvar_6 - dz_2));\\n  vec3 tmpvar_11;\\n  float tmpvar_12;\\n  tmpvar_12 = abs(q21);\\n  float tmpvar_13;\\n  tmpvar_13 = abs(q20);\\n  tmpvar_11.x = (tmpvar_13 + tmpvar_12);\\n  float tmpvar_14;\\n  tmpvar_14 = abs(q22);\\n  tmpvar_11.y = (tmpvar_12 + tmpvar_14);\\n  tmpvar_11.z = (tmpvar_14 + tmpvar_13);\\n  vec3 tmpvar_15;\\n  tmpvar_15 = log(exp2((\\n    (3.141593 * tmpvar_11)\\n   * \\n    ((0.7 * texture (sampler_main, uv_1).xyz) + ((pow (\\n      abs((0.03333 / sqrt(dot (tmpvar_10, tmpvar_10))))\\n    , 0.75) * tmpvar_5) * (5.0 + sqrt(mid))))\\n  .yzx)));\\n  vec3 tmpvar_16;\\n  float tmpvar_17;\\n  tmpvar_17 = abs(q24);\\n  float tmpvar_18;\\n  tmpvar_18 = abs(q23);\\n  tmpvar_16.x = (tmpvar_18 + tmpvar_17);\\n  float tmpvar_19;\\n  tmpvar_19 = abs(q25);\\n  tmpvar_16.y = (tmpvar_17 + tmpvar_19);\\n  tmpvar_16.z = (tmpvar_19 + tmpvar_18);\\n  vec2 tmpvar_20;\\n  tmpvar_20 = fract(-(tmpvar_10));\\n  vec2 tmpvar_21;\\n  tmpvar_21 = fract(dz_2);\\n  vec3 tmpvar_22;\\n  tmpvar_22 = log(exp2((\\n    (3.141593 * tmpvar_16)\\n   * texture (sampler_main, \\n    fract(-(abs((tmpvar_20 - \\n      (2.0 * (dot (tmpvar_21, tmpvar_20) * tmpvar_21))\\n    ))))\\n  ).xyz)));\\n  vec3 tmpvar_23;\\n  float tmpvar_24;\\n  tmpvar_24 = abs(q27);\\n  float tmpvar_25;\\n  tmpvar_25 = abs(q26);\\n  tmpvar_23.x = (tmpvar_25 + tmpvar_24);\\n  float tmpvar_26;\\n  tmpvar_26 = abs(q28);\\n  tmpvar_23.y = (tmpvar_24 + tmpvar_26);\\n  tmpvar_23.z = (tmpvar_26 + tmpvar_25);\\n  vec3 tmpvar_27;\\n  tmpvar_27 = log(exp2((\\n    (3.141593 * tmpvar_23)\\n   * texture (sampler_main, \\n    fract(-(tmpvar_10))\\n  ).zxy)));\\n  vec3 tmpvar_28;\\n  tmpvar_28 = mix (tmpvar_15, tmpvar_22, (1.5708 - (1.570796 - \\n    (sign(tmpvar_27) * (1.570796 - (sqrt(\\n      (1.0 - abs(tmpvar_27))\\n    ) * (1.570796 + \\n      (abs(tmpvar_27) * (-0.2146018 + (abs(tmpvar_27) * (0.08656672 + \\n        (abs(tmpvar_27) * -0.03102955)\\n      ))))\\n    ))))\\n  )));\\n  vec3 tmpvar_29;\\n  tmpvar_29 = mix (tmpvar_15, tmpvar_22, tmpvar_27);\\n  vec3 tmpvar_30;\\n  tmpvar_30.z = 0.0;\\n  tmpvar_30.xy = ((uv_1 - 0.5) + (0.4 * dot (texture (sampler_main, uv_1).xyz, vec3(0.32, 0.49, 0.29))));\\n  float x_31;\\n  x_31 = (fract((\\n    (dot (tmpvar_30, vec3(0.32, 0.49, 0.29)) * 3.0)\\n   - time)) - 0.5);\\n  vec4 tmpvar_32;\\n  tmpvar_32.w = 1.0;\\n  tmpvar_32.xyz = ((0.637 * abs(\\n    mix ((1.5708 - (1.570796 - (\\n      sign(tmpvar_29)\\n     * \\n      (1.570796 - (sqrt((1.0 - \\n        abs(tmpvar_29)\\n      )) * (1.570796 + (\\n        abs(tmpvar_29)\\n       * \\n        (-0.2146018 + (abs(tmpvar_29) * (0.08656672 + (\\n          abs(tmpvar_29)\\n         * -0.03102955))))\\n      ))))\\n    ))), (sign(tmpvar_28) * (1.570796 - (\\n      sqrt((1.0 - abs(tmpvar_28)))\\n     * \\n      (1.570796 + (abs(tmpvar_28) * (-0.2146018 + (\\n        abs(tmpvar_28)\\n       * \\n        (0.08656672 + (abs(tmpvar_28) * -0.03102955))\\n      ))))\\n    ))), ((3.0 * q15) * mix ((1.5708 - \\n      (1.570796 - (sign(tmpvar_15) * (1.570796 - (\\n        sqrt((1.0 - abs(tmpvar_15)))\\n       * \\n        (1.570796 + (abs(tmpvar_15) * (-0.2146018 + (\\n          abs(tmpvar_15)\\n         * \\n          (0.08656672 + (abs(tmpvar_15) * -0.03102955))\\n        ))))\\n      ))))\\n    ), (1.5708 - \\n      (1.570796 - (sign(tmpvar_22) * (1.570796 - (\\n        sqrt((1.0 - abs(tmpvar_22)))\\n       * \\n        (1.570796 + (abs(tmpvar_22) * (-0.2146018 + (\\n          abs(tmpvar_22)\\n         * \\n          (0.08656672 + (abs(tmpvar_22) * -0.03102955))\\n        ))))\\n      ))))\\n    ), (\\n      sign(tmpvar_27)\\n     * \\n      (1.570796 - (sqrt((1.0 - \\n        abs(tmpvar_27)\\n      )) * (1.570796 + (\\n        abs(tmpvar_27)\\n       * \\n        (-0.2146018 + (abs(tmpvar_27) * (0.08656672 + (\\n          abs(tmpvar_27)\\n         * -0.03102955))))\\n      ))))\\n    ))))\\n  )) + (exp(\\n    (-20.0 * sqrt((x_31 * x_31)))\\n  ) * q10));\\n  ret = tmpvar_32.xyz;\\n }"}') }, "./presets/converted/Geiss + Flexi + Martin - disconnected.json": e => { e.exports = JSON.parse('{"version":2,"baseVals":{"rating":5,"gammaadj":1,"decay":0.925,"echo_zoom":1.007,"echo_orient":3,"wave_brighten":0,"brighten":1,"darken":1,"solarize":1,"wave_a":0.001,"wave_scale":0.01,"wave_smoothing":0,"modwavealphastart":1,"modwavealphaend":1,"warpanimspeed":1.459,"warpscale":2.007,"fshader":1,"zoom":0.9999,"warp":0.01,"sx":0.9999,"wave_r":0,"wave_g":0,"wave_b":0,"ob_size":0.015,"ob_b":1,"ib_size":0.26,"mv_x":64,"mv_y":48,"mv_l":5,"mv_a":0},"shapes":[{"baseVals":{"enabled":1,"sides":100,"textured":1,"rad":0.789,"ang":0.6283,"tex_zoom":1.17257,"r":0,"g":1,"border_a":0},"init_eqs_eel":"vx = 0;\\nvy = 0;","frame_eqs_eel":"rad = 0.65 + bass*0.1;\\n\\nan = an*0.99 + (bass-treb)*0.1;\\nang = an*0.1 + 0.6;"},{"baseVals":{"sides":100,"thickoutline":1,"textured":1,"rad":0.40271,"tex_zoom":2.23888,"g":1,"b":1,"r2":0.08,"g2":0,"a2":1,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"sides":100,"textured":1,"rad":1.21525,"tex_ang":2.57611,"tex_zoom":0.55595,"g":1,"b":1,"g2":0,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"sides":34,"x":0.99,"y":0.99,"rad":0.02558,"r":0,"g":1,"a2":1,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""}],"waves":[{"baseVals":{"enabled":1,"samples":495,"sep":4,"spectrum":1,"thick":1,"additive":1,"scaling":100,"smoothing":1,"r":0,"g":0.04,"b":0,"a":0.99},"init_eqs_eel":"t2 = 0;\\nt3 = 0;\\nt4 = 0;\\nab = 1;","frame_eqs_eel":"t1 = q1;\\nt2 = q2;\\nt3 = q3;\\nt4 = q4;\\nt5 = q5;\\nt6 = q6;\\nt8 = .07;\\nt7 = 1;","point_eqs_eel":"t7 = -t7;\\npi = asin(1);\\nn = 180;\\nrd = 0.075;//+(value1*10+1)*((sample*512)%2)*0.02;\\nmy_x = sin(sample*pi*4+(t7+1)*t8)*0.5 + cos(sample*pi*n)*rd*sin(sample*pi*4+(t7+1)*t8);\\nmy_y = cos(sample*pi*4+(t7+1)*t8)*0.5 + cos(sample*pi*n)*rd*cos(sample*pi*4+(t7+1)*t8);\\nmy_z = sin(sample*pi*n)*rd;\\n\\n\\n\\nd = 1.4; // makes the perspective impact\\nzoom = 0.65;\\n\\nw1 = q2;\\nw2 = q3;\\nw3 = q4;\\n\\nx1 = cos(w1)*my_x + sin(w1)*my_y;\\ny1 = -sin(w1)*my_x + cos(w1)*my_y;\\nz1 = my_z;\\n\\nx2 = cos(w2)*x1 + sin(w2)*z1;\\nz2 = -sin(w2)*x1 + cos(w2)*z1;\\ny2 = y1;\\n\\ny3 = cos(w3)*y2 + sin(w3)*z2;\\nz3 = -sin(w3)*y2 + cos(w3)*z2;\\nx3 = x2;\\n\\n// perspective calculation\\n\\nl = sqrt(x3*x3 + y3*y3);\\nw = atan2(x3,y3);\\np = tan(asin(1) + atan2(d+z3,l));\\nd = sqrt(x3*x3 + y3*y3 + (z3+d)*(z3+d));\\n\\nmy_x = zoom*sin(w)*p;\\nmy_y = zoom*cos(w)*p;\\n\\nx = 0.5 + my_x;\\ny = 0.5 + my_y;\\n\\nb = -z3 + 0.5;\\nb = min(1,max(0,b))*0.5;\\nr = 1-b*2\\n//b = (1 - r)*0.1;\\n//a =  7/(d*16) - 0.1;"},{"baseVals":{"samples":445,"sep":4,"spectrum":1,"usedots":1,"thick":1,"additive":1,"scaling":100,"smoothing":1,"a":0.99,"enabled":0},"init_eqs_eel":"t2 = 0;\\nt3 = 0;\\nt4 = 0;\\nab = 1;","frame_eqs_eel":"t1 = q1;\\nt2 = q2;\\nt3 = q3;\\nt4 = q4;\\nt5 = q5;\\nt6 = q6;\\nt8 = .09;\\nt7 = 1;","point_eqs_eel":"t7 = -t7;\\npi = asin(1);\\nn = 160;\\nrd = 0.075;//+(value1*10+1)*((sample*512)%2)*0.02;\\nxx = sin(sample*pi*4+(t7+1)*t8)*0.5 + cos(sample*pi*n)*rd*sin(sample*pi*4);\\nyy = cos(sample*pi*4+(t7+1)*t8)*0.5 + cos(sample*pi*n)*rd*cos(sample*pi*4);\\nzz = sin(sample*pi*n)*rd;\\n\\nd = sqrt( xx*xx + yy*yy + zz*zz);\\nd1 = 1;\\nxx = xx*d1;\\nyy = yy*d1;\\nzz = zz*d1;\\n\\nw = -d*t5;\\ns1 = sin(t2*1+w);\\ns2 = sin(t3*1+w);\\ns3 = sin(t4*1+w);\\nc1 = cos(t2*1+w);\\nc2 = cos(t3*1+w);\\nc3 = cos(t4*1+w);\\n\\nz = (c3*s1*c2 + s3*s2)*xx - (c3*s1*s2-s3*c2)*yy + c3*c1*zz;\\nx1 = (c1*c2*xx + c1*s2*yy - s1*zz);\\ny1 = ((s3*s1*c2 - c3*s2)*xx + (s3*s1*s2+c3*c2)*yy + s3*c1*zz);\\n\\na = 0.75;\\nzoom = 0.5*atan2(a,a+z);//0.5*(1/(z+a));\\nx = 0.5 + zoom*x1;\\ny = 0.5 + zoom*y1;\\n\\npi3 = 3.1415*2*0.3333;\\nt = sample*pi*4-2*time;\\nc=1.6;\\nr = sin(t)*c;\\n\\ng = sin(t+pi3)*c;\\n\\nb = sin(t-pi3)*c;\\n\\nj = 0.71;\\n//r = 0.5+xx*j;\\n//g = 0.5+yy*j;\\n//b = 0.5+zz*j;\\n\\nr = if(above(r,1),1,r);\\nr = if(below(r,0),0,r);\\ng = if(above(g,1),1,g);\\ng = if(below(g,0),0,g);\\nb = if(above(b,1),1,b);\\nb = if(below(b,0),0,b);\\na = 1-(z + a)/2;\\n"},{"baseVals":{"sep":4,"scaling":0.09348,"smoothing":1,"enabled":0},"init_eqs_eel":"t2 = 0;\\nt3 = 0;\\nt4 = 0;\\nab = 1;","frame_eqs_eel":"t1 = q1;\\nt2 = q2;\\nt3 = q3;\\nt4 = q4;\\nt5 = q5;\\nt6 = q6;","point_eqs_eel":"s8 = sample*383;\\n\\ns = 100;//0.3;\\nxx = sin(sample*s);//((sample*343)%7 - 3.5)*s;\\nzz = cos(sample*s);//((sample*49)%7 - 3.5)*s;\\nyy = (sample-0.5);//((sample*7)%7 - 3.5)*s;\\n\\nd = sqrt( xx*xx + yy*yy + zz*zz);\\nd1 = 1/d;\\nxx = xx*d1;\\nyy = yy*d1;\\nzz = zz*d1;\\n\\nw = 1+0*(d)*(t6);//(sample*sin(time*0.3)*0.02-1);\\ns1 = sin(t2*w);\\ns2 = sin(t3*w);\\ns3 = sin(t4*w);\\nc1 = cos(t2*w);\\nc2 = cos(t3*w);\\nc3 = cos(t4*w);\\n\\nz = (c3*s1*c2 + s3*s2)*xx - (c3*s1*s2-s3*c2)*yy + c3*c1*zz;\\nx1 = (c1*c2*xx + c1*s2*yy - s1*zz);\\ny1 = ((s3*s1*c2 - c3*s2)*xx + (s3*s1*s2+c3*c2)*yy + s3*c1*zz);\\n\\na = 2;\\nzoom = 0.3*atan2(a-z,a);//0.5*(1/(z+a));\\nx = 0.5 + zoom*x1;\\ny = 0.5 + zoom*y1;\\n\\npi3 = 3.1415*2*0.3333;\\nt = -z*13+t5*20;\\nc = 10;\\nr = sin(t)*c;\\n\\ng = sin(t+pi3)*c;\\n\\nb = sin(t-pi3)*c;\\n\\nj = 0.71;\\n//r = 0.5+xx*j;\\n//g = 0.5+yy*j;\\n//b = 0.5+zz*j;\\n\\nr = if(above(r,1),1,r);\\nr = if(below(r,0),0,r);\\ng = if(above(g,1),1,g);\\ng = if(below(g,0),0,g);\\nb = if(above(b,1),1,b);\\nb = if(below(b,0),0,b);\\n\\n\\na = sigmoid(-z,10)*1.0+0.0;"},{"baseVals":{"samples":484,"sep":4,"usedots":1,"scaling":9.94125,"smoothing":1,"enabled":0},"init_eqs_eel":"t2 = 0;\\nt3 = 0;\\nt4 = 0;\\nab = 1;","frame_eqs_eel":"t1 = q1;\\nt2 = q2;\\nt3 = q3;\\nt4 = q4;\\nt5 = q5;\\nt6 = q6;","point_eqs_eel":"s8 = sample*383;\\n\\ns = 0.25;\\nxx = ((sample*(465))%15 - 8)*s*2;\\nyy = ((sample*31)%31 - 16)*s;\\nzz = 0;\\n\\nd = sqrt( xx*xx + yy*yy + zz*zz);\\nw = 1;\\n\\ns1 = sin(t2*1);\\ns2 = sin(t3*0);\\ns3 = sin(t4*1);\\nc1 = cos(t2*1);\\nc2 = cos(t3*0);\\nc3 = cos(t4*1);\\n\\n\\nz = (c3*s1*c2 + s3*s2)*xx - (c3*s1*s2-s3*c2)*yy + c3*c1*zz;\\nx1 = (c1*c2*xx + c1*s2*yy - s1*zz);\\ny1 = ((s3*s1*c2 - c3*s2)*xx + (s3*s1*s2+c3*c2)*yy + s3*c1*zz);\\n\\na = 500;\\nzoom = 0.05*atan2(a-z,a);//0.5*(1/(z+a));\\nx = 0.5 + zoom*x1;\\ny = 0.5 + zoom*y1;\\n\\npi3 = 3.1415*2*0.3333;\\nt = -z*5+t5;\\nc = 10;\\nr = sin(t)*c;\\n\\ng = sin(t+pi3)*c;\\n\\nb = sin(t-pi3)*c;\\n\\nj = 0.71;\\n//r = 0.5+xx*j;\\n//g = 0.5+yy*j;\\n//b = 0.5+zz*j;\\n\\nr = if(above(r,1),1,r);\\nr = if(below(r,0),0,r);\\ng = if(above(g,1),1,g);\\ng = if(below(g,0),0,g);\\nb = if(above(b,1),1,b);\\nb = if(below(b,0),0,b);\\n\\n\\na = sigmoid(z,5);"}],"init_eqs_eel":"step = 0;","frame_eqs_eel":"dec_med = pow (0.7, 30/fps);\\ndec_slow = pow (0.99, 30/fps);\\nbeat = max (max (bass, mid), treb); \\navg = avg*dec_slow + beat*(1-dec_slow);\\nis_beat = above(beat, -2+avg+peak) * above (time, t0+.1);\\nt0 = is_beat*time + (1-is_beat)*t0;\\npeak = is_beat * beat + (1-is_beat)*peak*dec_med;\\nindex = (index + is_beat) %16;\\nindex2 = (index2 + is_beat*bnot(index))%2;\\n\\nq20 = avg;\\nq21 = beat;\\nq22 = peak;\\nq23 = index;\\nq24 = is_beat;\\nq26 = bass_att + mid_att + treb_att;\\nq27 = index + 1;\\nq28 = index2;\\n\\nq29 = ((index%2)-.5)*2;\\n\\nk1 =  is_beat*equal(index%2,0);\\np1 =  k1*(p1+1) + (1-k1)*p1;\\np2 = dec_med * p2+ (1-dec_med)*p1;\\nrott = p2 * 3.1416/8;\\n\\nq1 = cos(rott);\\nq2 = sin(rott);\\nq3 = -q2;\\nq4 = q1;\\n\\n//ds = max ((q26-.2),0);\\n//step = step + ds/10;\\n\\nstep = step + q24 ;\\n\\np3 = p3*dec_slow + (1-dec_slow) * step;\\nq30 = step;\\n\\np4 = dec_slow*p4 + (1-dec_slow)*q27;\\nq31 = p4;\\n\\nq12 = time -t0;\\nmonitor = q12;\\n\\n\\n\\nzoom = 1;\\nrot = -0 ;\\ndx = .00;","pixel_eqs_eel":"zoom = 1.3;","warp":" shader_body { \\n  vec2 uv_1;\\n  vec2 uv6_2;\\n  vec2 tmpvar_3;\\n  tmpvar_3 = ((uv - 0.5) * aspect.xy);\\n  float tmpvar_4;\\n  tmpvar_4 = (((q29 * 2.0) * sqrt(\\n    dot (tmpvar_3, tmpvar_3)\\n  )) + (rand_frame * 64.0)).x;\\n  uv_1 = (uv + (clamp (\\n    ((sin(tmpvar_4) / cos(tmpvar_4)) * normalize(tmpvar_3))\\n  , vec2(-2.0, -2.0), vec2(2.0, 2.0)) / 20.0));\\n  uv6_2 = (0.4 * sin((tmpvar_3 * 22.0)));\\n  vec4 tmpvar_5;\\n  tmpvar_5.w = 1.0;\\n  tmpvar_5.xyz = (((q24 * \\n    (((texture (sampler_main, uv_1).xyz - (\\n      ((texture (sampler_blur1, fract(uv_1)).xyz * scale1) + bias1)\\n     * 0.04)) + (0.15 * (vec3(\\n      (0.1 / sqrt(dot (uv6_2, uv6_2)))\\n    ) * roam_cos.xyz))) - 0.02)\\n  ) * 0.98) + ((1.0 - q24) * texture (sampler_main, uv_orig).xyz));\\n  ret = tmpvar_5.xyz;\\n }","comp":"uniform sampler2D sampler_rand00;\\n shader_body { \\n  vec4 tmpvar_1;\\n  tmpvar_1 = texture (sampler_main, uv);\\n  vec4 tmpvar_2;\\n  tmpvar_2.w = 1.0;\\n  tmpvar_2.xyz = ((texture (sampler_rand00, (0.4 + \\n    (0.6 * tmpvar_1.xy)\\n  )) * tmpvar_1.z) * 3.0).xyz;\\n  ret = tmpvar_2.xyz;\\n }"}') }, "./presets/converted/Geiss - Cauldron - painterly 2 (saturation remix).json": e => { e.exports = JSON.parse('{"version":2,"baseVals":{"rating":2,"gammaadj":2.7,"wave_mode":1,"modwavealphabyvolume":1,"wave_a":2.707,"wave_scale":1.025,"wave_smoothing":0.1,"modwavealphastart":0.77,"modwavealphaend":1.01,"warpscale":1.331,"zoom":1.014,"warp":0.21786,"wave_r":0.65,"wave_g":0.65,"wave_b":0.65,"mv_a":0},"shapes":[{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""}],"waves":[{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""}],"init_eqs_eel":"","frame_eqs_eel":"wave_r = wave_r + 0.350*( 0.60*sin(3.980*time) + 0.40*sin(11.047*time) );\\nwave_g = wave_g + 0.350*( 0.60*sin(0.835*time) + 0.40*sin(1.081*time) );\\nwave_b = wave_b + 0.350*( 0.60*sin(0.814*time) + 0.40*sin(1.011*time) );\\ncx = cx + 0.110*( 0.60*sin(0.374*time) + 0.40*sin(0.294*time) );\\ncy = cy + 0.110*( 0.60*sin(0.393*time) + 0.40*sin(0.223*time) );\\ndx = dx + 0.005*( 0.60*sin(0.173*time) + 0.40*sin(0.223*time) );\\ndecay = decay - 0.01*equal(frame%20,0);","pixel_eqs_eel":"","warp":" shader_body { \\n  vec4 tmpvar_1;\\n  tmpvar_1.w = 1.0;\\n  tmpvar_1.xyz = (texture (sampler_main, (uv + (\\n    (texture (sampler_main, (mix (uv, uv_orig, vec2(-1.0, -1.0)) + texsize.zw)).xy - 0.37)\\n   * 0.01))).xyz - 0.004);\\n  ret = tmpvar_1.xyz;\\n }","comp":" shader_body { \\n  vec4 tmpvar_1;\\n  tmpvar_1 = texture (sampler_main, uv);\\n  vec4 tmpvar_2;\\n  tmpvar_2.w = 1.0;\\n  tmpvar_2.xyz = mix (vec3(dot (tmpvar_1.xyz, vec3(0.3333, 0.3333, 0.3333))), tmpvar_1.xyz, vec3(3.0, 3.0, 3.0));\\n  ret = tmpvar_2.xyz;\\n }"}') }, "./presets/converted/Geiss - Reaction Diffusion 2.json": e => { e.exports = JSON.parse('{"version":2,"baseVals":{"rating":0,"gammaadj":1.9,"echo_zoom":1.16936,"wave_mode":7,"modwavealphabyvolume":1,"wave_a":0,"wave_scale":1.015009,"wave_smoothing":0.522,"modwavealphastart":0.83,"modwavealphaend":1.31,"warpscale":3.138,"zoom":1.009006,"warp":0.000536,"wave_r":0.5,"wave_g":0.5,"wave_b":0.5,"mv_a":0},"shapes":[{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""}],"waves":[{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""}],"init_eqs_eel":"","frame_eqs_eel":"wave_r = 0.85 + 0.25*sin(0.437*time+1);\\nwave_g = 0.85 + 0.25*sin(0.544*time+2);\\nwave_b = 0.85 + 0.25*sin(0.751*time+3);\\nrot = rot + 0.010*( 0.60*sin(0.381*time) + 0.40*sin(0.579*time) );\\ncx = cx + 0.210*( 0.60*sin(0.374*time) + 0.40*sin(0.294*time) );\\ncy = cy + 0.210*( 0.60*sin(0.393*time) + 0.40*sin(0.223*time) );\\ndx = dx + 0.003*( 0.60*sin(0.234*time) + 0.40*sin(0.277*time) );\\ndy = dy + 0.003*( 0.60*sin(0.284*time) + 0.40*sin(0.247*time) );\\ndecay = decay - 0.01*equal(frame%6,0);\\ndx = dx + dx_residual;\\ndy = dy + dy_residual;\\nbass_thresh = above(bass_att,bass_thresh)*2 + (1-above(bass_att,bass_thresh))*((bass_thresh-1.3)*0.96+1.3);\\ndx_residual = equal(bass_thresh,2.13)*0.016*sin(time*7) + (1-equal(bass_thresh,2.13))*dx_residual;\\ndy_residual = equal(bass_thresh,2.13)*0.012*sin(time*9) + (1-equal(bass_thresh,2.13))*dy_residual;\\nwave_x = wave_x - dx_residual*7;\\nwave_y = wave_y - dy_residual*7;\\nwave_mystery = time*0.03;\\n\\nzoom = zoom + 0.005*( 0.60*sin(0.1934*time+3) + 0.40*sin(0.307*time+9) );\\nzoom = zoom + max(0,bass_att-1.1)*0.4;","pixel_eqs_eel":"","warp":" shader_body { \\n  vec3 ret_1;\\n  ret_1 = texture (sampler_main, uv).xyz;\\n  ret_1 = (ret_1 + ((ret_1 - \\n    ((texture (sampler_blur2, uv).xyz * scale2) + bias2)\\n  ) * 0.3));\\n  ret_1 = (ret_1 * 0.9);\\n  ret_1 = (ret_1 + ((\\n    ((texture (sampler_noise_lq, ((\\n      (uv_orig * texsize.xy)\\n     * \\n      (texsize_noise_lq.zw * 0.4)\\n    ) + rand_frame.xy)).xyz - 0.5) / 256.0)\\n   * 122.0) * clamp (\\n    (treb_att - 1.0)\\n  , 0.0, 1.0)));\\n  ret_1 = mix (ret_1, vec3(dot (ret_1, vec3(0.32, 0.49, 0.29))), vec3(0.2, 0.2, 0.2));\\n  vec4 tmpvar_2;\\n  tmpvar_2.w = 1.0;\\n  tmpvar_2.xyz = ret_1;\\n  ret = tmpvar_2.xyz;\\n }","comp":" shader_body { \\n  vec3 ret_1;\\n  ret_1 = (texture (sampler_main, uv).xyz + ((\\n    (texture (sampler_blur1, uv).xyz * scale1)\\n   + bias1) * 0.4));\\n  vec3 tmpvar_2;\\n  tmpvar_2 = pow (ret_1, vec3(0.5, 0.8, 1.7));\\n  ret_1 = tmpvar_2;\\n  vec4 tmpvar_3;\\n  tmpvar_3.w = 1.0;\\n  tmpvar_3.xyz = tmpvar_2;\\n  ret = tmpvar_3.xyz;\\n }"}') }, "./presets/converted/Geiss - Spiral Artifact.json": e => { e.exports = JSON.parse('{"version":2,"baseVals":{"rating":5,"gammaadj":1,"decay":1,"wave_mode":6,"additivewave":1,"wave_dots":1,"wave_thick":1,"wave_brighten":0,"wave_a":100,"wave_scale":3.63,"wave_smoothing":0.9,"wave_mystery":-0.3,"modwavealphastart":1.15,"modwavealphaend":1.55,"warpscale":1.331,"zoom":0.96971,"warp":0,"wave_r":0.6,"wave_g":0.6,"wave_b":0.6,"mv_x":64,"mv_y":48,"mv_l":0,"mv_r":0.35,"mv_g":0.35,"mv_b":0.35,"mv_a":0},"shapes":[{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""}],"waves":[{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""}],"init_eqs_eel":"rot_sum = 0;\\nq2 = 0.07 + 0.04*rand(1000)*0.001 + 0.03*rand(1000)*0.001;\\nq3 = 1.035 + 0.06*(rand(1000)+rand(1000)+rand(1000))*0.000333;","frame_eqs_eel":"wave_r = wave_r + 0.500*( 0.60*sin(1.980*time) + 0.40*sin(3.047*time) );\\nwave_g = wave_g + 0.500*( 0.60*sin(2.835*time) + 0.40*sin(2.081*time) );\\nwave_b = wave_b + 0.500*( 0.60*sin(3.814*time) + 0.40*sin(1.011*time) );\\ncx = 0.5;//cx + 0.110*( 0.60*sin(0.374*time) + 0.40*sin(0.294*time) );\\ncy = 0.5;//cy + 0.110*( 0.60*sin(0.393*time) + 0.40*sin(0.223*time) );\\n\\nrot = q2;//0.13;//6.28*(rand(737)/737.0 - 0.5) * 0.03;\\nzoom = zoom-1 + q3;\\nrot_sum = rot_sum + rot;\\nq1 = -rot_sum;\\nq5 = cos(rot_sum);\\nq6 = sin(rot_sim);\\nmonitor = q2;\\n\\n// custom beat detection code: (fps-independent; quiet songs don\'t freak out)\\nmin_att    = 2.5;               // lower # = quieter songs can declare beats\\ndecay_to   = 0.8;               // lower # = more hasty to declare a beat\\ndecay_rate = pow(0.9990, fps);  // lower # = more hasty to declare a beat\\nbeat =           bass/max(min_att,bass_att);\\nbeat = max(beat, mid /max(min_att,mid_att ));\\nbeat = max(beat, treb/max(min_att,treb_att));\\nbeat = max( beat, (prev_beat-decay_to)*decay_rate + decay_to );\\nbeat_level     = (beat - prev_beat - 0.02)*24;\\nis_beat = above(beat_level, 0.5);\\nprev_beat = beat;\\n  // put your beat responses HERE:\\n  wave_a = beat_level;","pixel_eqs_eel":"","warp":" shader_body { \\n  vec4 tmpvar_1;\\n  tmpvar_1.w = 1.0;\\n  tmpvar_1.xyz = (texture (sampler_pw_main, uv).xyz - 0.004);\\n  ret = tmpvar_1.xyz;\\n }","comp":" shader_body { \\n  vec2 uv_1;\\n  vec2 uv2_2;\\n  uv_1 = (uv - 0.5);\\n  uv_1 = (uv_1 * (min (aspect.x, aspect.y) * 0.8));\\n  uv_1 = (uv_1 * aspect.xy);\\n  float tmpvar_3;\\n  tmpvar_3 = sin(q1);\\n  float tmpvar_4;\\n  tmpvar_4 = cos(q1);\\n  uv2_2.x = ((uv_1.x * tmpvar_4) - (uv_1.y * tmpvar_3));\\n  uv2_2.y = ((uv_1.x * tmpvar_3) + (uv_1.y * tmpvar_4));\\n  uv2_2 = (uv2_2 * aspect.zw);\\n  uv2_2 = (uv2_2 + 0.5);\\n  vec4 tmpvar_5;\\n  tmpvar_5.w = 1.0;\\n  tmpvar_5.xyz = (abs((\\n    (texture (sampler_main, uv2_2).xyz * 2.65)\\n   + \\n    (((texture (sampler_blur1, uv2_2).xyz * scale1) + bias1) * -2.0)\\n  )) * 1.5);\\n  ret = tmpvar_5.xyz;\\n }"}') }, "./presets/converted/Geiss - Thumb Drum.json": e => { e.exports = JSON.parse('{"version":2,"baseVals":{"rating":5,"gammaadj":1.9,"echo_zoom":1.16936,"wave_mode":5,"additivewave":1,"wave_a":0,"wave_scale":0.899719,"wave_smoothing":0.63,"wave_mystery":1,"modwavealphastart":2,"modwavealphaend":2,"warpscale":2.593743,"zoom":1.00496,"warp":0.278033,"sx":0.999666,"sy":0.9999,"wave_r":0.65,"wave_g":0.65,"wave_b":0.65,"mv_x":0,"mv_y":48,"mv_dx":-0.941273,"mv_dy":0.426319,"mv_l":5,"mv_r":0.315997,"mv_g":0.078173,"mv_b":0.941976,"mv_a":0},"shapes":[{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""}],"waves":[{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""}],"init_eqs_eel":"rg = 0;","frame_eqs_eel":"wave_r = wave_r + 0.350*( 0.60*sin(0.980*time) + 0.40*sin(1.047*time) );\\nwave_g = wave_g + 0.350*( 0.60*sin(0.835*time) + 0.40*sin(1.081*time) );\\nwave_b = wave_b + 0.350*( 0.60*sin(0.814*time) + 0.40*sin(1.011*time) );\\nq1 = (cx*2-1) + 0.52*( 0.60*sin(0.374*time) + 0.40*sin(0.294*time) );\\nq2 = (cy*2-1) + 0.52*( 0.60*sin(0.393*time) + 0.40*sin(0.223*time) );\\nq3 = (cx*2-1) + 0.52*( 0.60*sin(0.174*-time) + 0.40*sin(0.364*time) );\\nq4 = (cy*2-1) + 0.52*( 0.60*sin(0.234*time) + 0.40*sin(0.271*-time) );\\ndecay = decay - 0.01*equal(frame%5,0);\\n\\n// this is a great way to respond to beats:\\n// once you get one, let it decay at a constant rate!!\\nrg = max(rg*0.95, 0.3 + 0.5*min(2,max(0,mid_att-1)*1.3));\\nq9 = rg;","pixel_eqs_eel":"du = x*2-1 - q1;\\ndv = y*2-1 - q2;\\ndist = sqrt(du*du+dv*dv);\\nang2 = atan2(du,dv);\\nmult = 0.008/(dist+0.4);\\ndx = mult*sin(ang2-1.5);\\ndy = mult*cos(ang2-1.5);\\ndu = x*2-1 - q3;\\ndv = y*2-1 - q4;\\ndist = sqrt(du*du+dv*dv);\\nang2 = atan2(du,dv);\\nmult = 0.008/(dist+0.4);\\ndx = dx + mult*sin(ang2+1.5);\\ndy = dy + mult*cos(ang2+1.5);","warp":" shader_body { \\n  vec3 ret_1;\\n  vec2 tmpvar_2;\\n  tmpvar_2 = mix (uv_orig, uv, vec2(q9));\\n  ret_1 = texture (sampler_main, tmpvar_2).xyz;\\n  ret_1 = (ret_1 + ((ret_1 - \\n    ((texture (sampler_blur1, tmpvar_2).xyz * scale1) + bias1)\\n  ) * 0.3));\\n  ret_1 = (ret_1 * 0.9);\\n  ret_1 = (ret_1 + ((\\n    ((texture (sampler_noise_lq, ((\\n      (uv_orig * texsize.xy)\\n     * \\n      (texsize_noise_lq.zw * 0.4)\\n    ) + rand_frame.xy)).xyz - 0.5) / 256.0)\\n   * 122.0) * clamp (\\n    (treb_att - 1.0)\\n  , 0.0, 1.0)));\\n  ret_1 = mix (ret_1, vec3(dot (ret_1, vec3(0.32, 0.49, 0.29))), vec3(0.2, 0.2, 0.2));\\n  vec4 tmpvar_3;\\n  tmpvar_3.w = 1.0;\\n  tmpvar_3.xyz = ret_1;\\n  ret = tmpvar_3.xyz;\\n }","comp":" shader_body { \\n  vec4 tmpvar_1;\\n  tmpvar_1.w = 1.0;\\n  tmpvar_1.xyz = (0.3 + (0.4 * vec3(dot (texture (sampler_main, uv).xyz, vec3(0.32, 0.49, 0.29)))));\\n  ret = tmpvar_1.xyz;\\n }"}') }, "./presets/converted/Geiss, Flexi + Stahlregen - Thumbdrum Tokamak [crossfiring aftermath jelly mashup].json": e => { e.exports = JSON.parse('{"version":2,"baseVals":{"rating":5,"gammaadj":1.9,"echo_zoom":1.169,"echo_orient":1,"wave_mode":5,"additivewave":1,"wave_a":0,"wave_scale":0.9,"wave_smoothing":0.63,"wave_mystery":1,"modwavealphastart":2,"modwavealphaend":2,"warpscale":1.331,"zoom":1.004,"warp":0.19788,"sx":0.99967,"sy":0.9999,"wave_r":0.65,"wave_g":0.65,"wave_b":0.65,"mv_x":0,"mv_y":48,"mv_dx":-0.941,"mv_dy":0.426,"mv_l":5,"mv_r":0.316,"mv_g":0.078,"mv_b":0.942,"mv_a":0},"shapes":[{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""}],"waves":[{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""}],"init_eqs_eel":"","frame_eqs_eel":"wave_r = wave_r + 0.2*( 0.60*sin(0.980*time) + 0.40*sin(1.047*time) );\\nwave_g = wave_g + 0.2*( 0.60*sin(0.835*time) + 0.40*sin(1.081*time) );\\nwave_b = wave_b + 0.2*( 0.60*sin(0.814*time) + 0.40*sin(1.011*time) );\\nq1 = (cx*2-1) + 0.6*( 0.60*sin(0.374*time) + 0.40*sin(0.294*time) );\\nq2 = (cy*2-1) + 0.6*( 0.60*sin(0.393*time) + 0.40*sin(0.223*time) );","pixel_eqs_eel":"du = (x*2-1) - q1;\\ndv = (y*2-1) - q2;\\ndist = sqrt(du*du+dv*dv);\\nang2 = atan2(du,dv) + time*0.15;\\nmult = 0.65*sin(dist*0.05);\\ndx = mult*sin(ang2*2-1.5);\\ndy = mult*cos(ang2*2-1.5);","warp":" shader_body { \\n  vec3 ret_1;\\n  vec4 tmpvar_2;\\n  tmpvar_2 = texture (sampler_main, uv);\\n  ret_1 = (tmpvar_2.xyz + ((tmpvar_2.xyz - \\n    ((texture (sampler_blur2, uv).xyz * scale2) + bias2)\\n  ) * 0.3));\\n  ret_1 = (ret_1 * 0.9);\\n  ret_1 = (ret_1 + ((\\n    ((texture (sampler_noise_lq, ((\\n      (uv_orig * texsize.xy)\\n     * \\n      (texsize_noise_lq.zw * 0.4)\\n    ) + rand_frame.xy)).xyz - 0.5) / 256.0)\\n   * 122.0) * clamp (\\n    (treb_att - 1.0)\\n  , 0.0, 1.0)));\\n  vec3 tmpvar_3;\\n  tmpvar_3 = mix (ret_1, vec3(dot (ret_1, vec3(0.32, 0.49, 0.29))), vec3(0.2, 0.2, 0.2));\\n  ret_1 = tmpvar_3;\\n  vec4 tmpvar_4;\\n  tmpvar_4.w = 1.0;\\n  tmpvar_4.xyz = tmpvar_3;\\n  ret = tmpvar_4.xyz;\\n }","comp":" shader_body { \\n  vec2 uv2_1;\\n  vec3 ret_2;\\n  uv2_1 = (uv + (vec2(1.0, 0.0) * texsize.zw));\\n  float tmpvar_3;\\n  tmpvar_3 = (((texture (sampler_main, uv2_1).xyz + \\n    (((texture (sampler_blur1, uv2_1).xyz * scale1) + bias1) * 0.4)\\n  ) + (\\n    ((texture (sampler_blur2, uv2_1).xyz * scale2) + bias2)\\n   * 0.15)) + ((\\n    (texture (sampler_blur3, uv2_1).xyz * scale3)\\n   + bias3) * 0.1)).x;\\n  uv2_1 = (uv + (vec2(-1.0, 0.0) * texsize.zw));\\n  float tmpvar_4;\\n  tmpvar_4 = (((texture (sampler_main, uv2_1).xyz + \\n    (((texture (sampler_blur1, uv2_1).xyz * scale1) + bias1) * 0.4)\\n  ) + (\\n    ((texture (sampler_blur2, uv2_1).xyz * scale2) + bias2)\\n   * 0.15)) + ((\\n    (texture (sampler_blur3, uv2_1).xyz * scale3)\\n   + bias3) * 0.1)).x;\\n  uv2_1 = (uv + (vec2(0.0, 1.0) * texsize.zw));\\n  float tmpvar_5;\\n  tmpvar_5 = (((texture (sampler_main, uv2_1).xyz + \\n    (((texture (sampler_blur1, uv2_1).xyz * scale1) + bias1) * 0.4)\\n  ) + (\\n    ((texture (sampler_blur2, uv2_1).xyz * scale2) + bias2)\\n   * 0.15)) + ((\\n    (texture (sampler_blur3, uv2_1).xyz * scale3)\\n   + bias3) * 0.1)).x;\\n  uv2_1 = (uv + (vec2(0.0, -1.0) * texsize.zw));\\n  vec3 tmpvar_6;\\n  tmpvar_6.z = 0.14;\\n  tmpvar_6.x = (tmpvar_3 - tmpvar_4);\\n  tmpvar_6.y = (tmpvar_5 - ((\\n    (texture (sampler_main, uv2_1).xyz + (((texture (sampler_blur1, uv2_1).xyz * scale1) + bias1) * 0.4))\\n   + \\n    (((texture (sampler_blur2, uv2_1).xyz * scale2) + bias2) * 0.15)\\n  ) + (\\n    ((texture (sampler_blur3, uv2_1).xyz * scale3) + bias3)\\n   * 0.1)).x);\\n  ret_2 = (0.5 + (0.5 * normalize(tmpvar_6)));\\n  vec2 x_7;\\n  x_7 = (ret_2.xy - 0.5);\\n  ret_2 = (ret_2 * clamp ((\\n    sqrt(dot (x_7, x_7))\\n   * 5.0), 0.0, 1.0));\\n  ret_2 = ret_2.xxy;\\n  ret_2 = (ret_2 + 1.15);\\n  ret_2 = (ret_2 * mix (ret_2, (ret_2 * \\n    (((texture (sampler_blur3, uv).xyz * scale3) + bias3) - ((texture (sampler_blur1, uv).xyz * scale1) + bias1))\\n  ), pow (hue_shader.yxz, ret_2)));\\n  ret_2 = (ret_2 * ret_2);\\n  vec4 tmpvar_8;\\n  tmpvar_8.w = 1.0;\\n  tmpvar_8.xyz = ret_2;\\n  ret = tmpvar_8.xyz;\\n }"}') }, "./presets/converted/Goody - The Wild Vort.json": e => { e.exports = JSON.parse('{"version":2,"baseVals":{"rating":5,"gammaadj":2.4,"decay":1,"echo_zoom":0.997,"echo_alpha":0.5,"echo_orient":3,"wave_mode":2,"wave_brighten":0,"wrap":0,"darken":1,"wave_a":0.001,"wave_scale":0.28,"wave_smoothing":0.9,"modwavealphastart":0.71,"modwavealphaend":1.3,"warpanimspeed":2.599,"warpscale":0.01,"zoomexp":0.99817,"zoom":0.86978,"warp":0.01,"sy":1.0017,"wave_r":0,"wave_g":0,"wave_b":0,"ob_size":0,"ob_r":1,"ob_g":1,"ob_b":1,"ib_size":0.04,"ib_r":0,"ib_g":0,"ib_b":0,"ib_a":1,"mv_x":64,"mv_y":48,"mv_l":0.5,"mv_r":0.35,"mv_g":0.35,"mv_b":0.35,"mv_a":0.2},"shapes":[{"baseVals":{"enabled":1,"sides":20,"additive":1,"textured":1,"rad":1.99867,"tex_zoom":0.49486,"g":1,"b":1,"a":0.75,"r2":1,"b2":1,"a2":1,"border_a":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"thickoutline":1,"textured":1,"y":0.85,"rad":0.4404,"g":1,"b":1,"r2":1,"b2":1,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"thickoutline":1,"textured":1,"x":0.8,"rad":0.44044,"tex_zoom":0.99991,"g":1,"b":1,"r2":1,"b2":1,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"sides":40,"additive":1,"thickoutline":1,"textured":1,"y":0.51,"rad":0.36457,"tex_ang":1.88496,"tex_zoom":1.00182,"g":1,"b":1,"r2":1,"b2":1,"a2":1,"border_a":0.2,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"bass_mod=max(x+abs(bass_att),x+sin(time));\\n\\ny=.5+.5*sin(time);\\nx=bass_mod*pow(y,2);\\n\\na=if(above(x,y),0,a);\\na2=a;\\nborder_a=.1*a;\\n\\ntex_zoom=bass+mid;\\n\\nr=bass*.5;\\ng=mid*.6;\\nb=treb*.7;"}],"waves":[{"baseVals":{"thick":1,"smoothing":1,"a":0,"enabled":0},"init_eqs_eel":"t1 = 1","frame_eqs_eel":"","point_eqs_eel":"y=rand(10000)*(.0001)+.5;\\nx=.5+.85*sin(time)*(.48-y);\\n\\nvol=(bass+mid+treb)*.333;\\n\\na=above((.35*bass),x);\\n\\nr=bass*.75;\\ng=mid*.3;\\nb=treb*.25;"},{"baseVals":{"thick":1,"smoothing":1,"enabled":0},"init_eqs_eel":"t1 = 1","frame_eqs_eel":"","point_eqs_eel":"y=rand(10000)*(.0001)+.5;\\nx=.5+.5*sin(time)*(.48-y);\\n\\nvol=(bass+mid+treb)*.333;\\n\\na=above((.35*mid),x);\\n\\nr=bass*.3;\\ng=mid*.75;\\nb=treb*.2;"},{"baseVals":{"thick":1,"smoothing":1,"enabled":0},"init_eqs_eel":"t1 = 1","frame_eqs_eel":"","point_eqs_eel":"y=rand(10000)*(.0001)+.5;\\nx=.5+.25*sin(time)*(.48-y);\\n\\nvol=(bass+mid+treb)*.333;\\n\\na=above((.35*treb),x);\\n\\nr=bass*.2;\\ng=mid*.3;\\nb=treb*.75;"},{"baseVals":{"thick":1,"additive":1,"smoothing":1,"a":0.05,"enabled":0},"init_eqs_eel":"t1 = 1","frame_eqs_eel":"","point_eqs_eel":"y=rand(10000)*(.0001)+.5;\\nx=.5-(pow(sin(time),y)+(.55-y));\\nx=if(above(x,y),y+sin(time)+(1-y),x);\\n\\nvol=(bass+mid+treb)*.333;\\n\\nr=bass*.5;\\ng=mid*.5;\\nb=treb*.5;"}],"init_eqs_eel":"decay=0.1;","frame_eqs_eel":"sx=1;\\nsy=1;\\n\\nredsine=.5+.15*bass*sin(time*3);\\ngreensine=.5+.15*mid*sin(time*2);\\nbluesine=.5+.15*treb*sin(time);\\n\\nredif=.9*if(above(bass,1.2),redsine,if(above(redif,.95),0,redif*.98));\\ngreenif=.8*if(above(mid,1.2),greensine,if(above(greenif,.95),0,greenif*.8));\\nblueif=.8*if(above(treb,1.2),bluesine,if(above(blueif,.95),0,blueif*.8));\\n\\nib_r=redif;\\nib_g=greenif;\\nib_b=blueif;","pixel_eqs_eel":"ang2=sin(ang*3+time+(.05*sin(time*above(mid_att,1.2))));\\n\\nrot=1.2*(ang2);","warp":" shader_body { \\n  vec4 tmpvar_1;\\n  tmpvar_1.w = 1.0;\\n  tmpvar_1.xyz = (((texture (sampler_blur1, uv).xyz * scale1) + bias1) - texture (sampler_main, uv).xyz);\\n  ret = tmpvar_1.xyz;\\n }","comp":" shader_body { \\n  vec3 ret_1;\\n  ret_1 = (mix (texture (sampler_main, uv).xyz, texture (sampler_main, (\\n    (vec2(-1.003, 1.003) * (uv - 0.5))\\n   + 0.5)).xyz, vec3(0.5, 0.5, 0.5)) * 2.4);\\n  ret_1 = (ret_1 * ret_1);\\n  vec4 tmpvar_2;\\n  tmpvar_2.w = 1.0;\\n  tmpvar_2.xyz = ret_1;\\n  ret = tmpvar_2.xyz;\\n }"}') }, "./presets/converted/Halfbreak - Funny Madness.json": e => { e.exports = JSON.parse('{"version":2,"baseVals":{"rating":1,"gammaadj":1,"decay":0.99,"echo_zoom":1,"echo_alpha":0.5,"wave_mode":7,"additivewave":1,"modwavealphabyvolume":1,"wave_brighten":0,"wrap":0,"darken_center":1,"darken":1,"invert":1,"wave_a":0.001,"wave_scale":1.286,"wave_smoothing":0.63,"modwavealphastart":0.71,"modwavealphaend":1.3,"warpscale":2.853,"zoomexp":3.6,"zoom":1.02109,"rot":-0.16,"warp":0.309,"wave_r":0.65,"wave_g":0.65,"wave_b":0.65,"mv_x":64,"mv_y":48,"mv_l":0,"mv_a":0},"shapes":[{"baseVals":{"sides":39,"additive":1,"num_inst":126,"rad":0.06989,"tex_ang":0.62832,"a":0,"r2":1,"g2":0,"a2":1,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"ma=ma+(above(bass,1)*3.1415*.01*bass);\\nma=ma-(above(treb,1)*3.1415*.01*treb);\\n\\nmx=mx+(.0002*cos(ma));\\nmy=my+(.0002*sin(ma));\\n\\nmx=if(above(mx,.9),(.9-mx),mx);\\nmy=if(above(my,.9),(.9-my),my);\\nmx=if(below(mx,.1),(.9+mx),mx);\\nmy=if(below(my,.1),(.9+my),my);\\n\\nx=mx;\\ny=my;\\n\\na=(above(bass+mid+treb,.8));"},{"baseVals":{"sides":41,"additive":1,"num_inst":239,"rad":0.06989,"tex_ang":0.62832,"r":0,"g":1,"a2":1,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"ma=ma+(above(bass,1)*3.1415*.05*bass);\\nma=ma-(above(mid,1)*3.1415*.05*mid);\\n\\nmx=mx+(.0001*cos(ma));\\nmy=my+(.0001*sin(ma));\\n\\nmx=if(above(mx,.9),(.9-mx),mx);\\nmy=if(above(my,.9),(.9-my),my);\\nmx=if(below(mx,.1),(.9+mx),mx);\\nmy=if(below(my,.1),(.9+my),my);\\n\\nx=mx;\\ny=my;\\n\\na=(above(bass+mid+treb,.1));"},{"baseVals":{"sides":43,"additive":1,"num_inst":32,"rad":0.06989,"tex_ang":0.62832,"r":0,"b":1,"g2":0,"b2":1,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"ma=ma+(above(mid,1)*3.1415*.01*mid);\\nma=ma-(above(treb,1)*3.1415*.01*treb);\\n\\nmx=mx+(.0004*cos(ma));\\nmy=my+(.0004*sin(ma));\\n\\nmx=if(above(mx,.9),(.9-mx),mx);\\nmy=if(above(my,.9),(.9-my),my);\\nmx=if(below(mx,.1),(.9+mx),mx);\\nmy=if(below(my,.1),(.9+my),my);\\n\\nx=mx;\\ny=my;\\n\\na=(above(bass+mid+treb,.3));"},{"baseVals":{"enabled":1,"sides":14,"rad":0.15964,"tex_ang":0.62832,"a":0,"r2":1,"b2":1,"border_a":0},"init_eqs_eel":"","frame_eqs_eel":""}],"waves":[{"baseVals":{"thick":1,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":"ma=ma+(above(bass,1)*3.1415*.01*bass);\\nma=ma-(above(treb,1)*3.1415*.01*treb);\\n\\nmx=mx+(.0002*cos(ma));\\nmy=my+(.0002*sin(ma));\\n\\nmx=if(above(mx,.9),(.9-mx),mx);\\nmy=if(above(my,.9),(.9-my),my);\\nmx=if(below(mx,.1),(.9+mx),mx);\\nmy=if(below(my,.1),(.9+my),my);\\n\\nx=mx;\\ny=my;\\n\\na=(above(bass+mid+treb,.8));"},{"baseVals":{"thick":1,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":"ma=ma+(above(bass,1)*3.1415*.05*bass);\\nma=ma-(above(mid,1)*3.1415*.05*mid);\\n\\nmx=mx+(.0001*cos(ma));\\nmy=my+(.0001*sin(ma));\\n\\nmx=if(above(mx,.9),(.9-mx),mx);\\nmy=if(above(my,.9),(.9-my),my);\\nmx=if(below(mx,.1),(.9+mx),mx);\\nmy=if(below(my,.1),(.9+my),my);\\n\\nx=mx;\\ny=my;\\n\\na=(above(bass+mid+treb,.1));"},{"baseVals":{"thick":1,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":"ma=ma+(above(mid,1)*3.1415*.01*mid);\\nma=ma-(above(treb,1)*3.1415*.01*treb);\\n\\nmx=mx+(.0004*cos(ma));\\nmy=my+(.0004*sin(ma));\\n\\nmx=if(above(mx,.9),(.9-mx),mx);\\nmy=if(above(my,.9),(.9-my),my);\\nmx=if(below(mx,.1),(.9+mx),mx);\\nmy=if(below(my,.1),(.9+my),my);\\n\\nx=mx;\\ny=my;\\n\\na=(above(bass+mid+treb,.3));"},{"baseVals":{"thick":1,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":"ma=ma+(above(bass,.5)*3.1415*.02*bass);\\nma=ma-(above(treb,.5)*3.1415*.02*treb);\\n\\nmx=mx+(.0008*cos(ma));\\nmy=my+(.0008*sin(ma));\\n\\nmx=if(above(mx,.9),(.9-mx),mx);\\nmy=if(above(my,.9),(.9-my),my);\\nmx=if(below(mx,.1),(.9+mx),mx);\\nmy=if(below(my,.1),(.9+my),my);\\n\\nx=mx;\\ny=my;\\n\\na=(above(bass+mid+treb,.2));"}],"init_eqs_eel":"","frame_eqs_eel":"wave_r = wave_r + 0.400*( 0.60*sin(0.933*time) + 0.40*sin(1.045*time) );\\nwave_g = wave_g + 0.400*( 0.60*sin(0.900*time) + 0.40*sin(0.956*time) );\\nwave_b = wave_b + 0.400*( 0.60*sin(0.910*time) + 0.40*sin(0.920*time) );\\nq8 = oldq8+if(above(bass+bass_att,1.8),q8+0.0005*pow((bass+bass_att-1),9),0);\\noldq8 = q8;\\nmonitor = q8;\\nzoom = zoom + 0.023*( 0.60*sin(0.339*q8) + 0.40*sin(0.276*q8) );\\nrot = rot + 0.030*( 0.60*sin(0.381*q8) + 0.40*sin(0.579*q8) );\\n//decay = decay - 0.02*equal(frame%40,0);\\nmv_r = wave_r;\\nmv_b = wave_b;\\nmv_g = wave_g;\\nmv_x = 1.25;\\nmv_y = 1.25;\\nmv_dx = 0.1*sin(1.1*time);\\nmv_dy = 0.1*cos(1.112*time);","pixel_eqs_eel":"rot=rot+1/(10*(rad+0.2+0.1*sin(q8)));","warp":" shader_body { \\n  vec2 my_uv_1;\\n  vec3 ret_2;\\n  vec2 tmpvar_3;\\n  tmpvar_3 = (vec2(1280.0, 1024.0) * texsize.zw);\\n  float tmpvar_4;\\n  vec2 tmpvar_5;\\n  tmpvar_5 = (uv + vec2(0.005, 0.0));\\n  vec2 tmpvar_6;\\n  tmpvar_6 = (uv - vec2(0.005, 0.0));\\n  tmpvar_4 = (((\\n    (texture (sampler_blur2, tmpvar_5).xyz * scale2)\\n   + bias2) - (\\n    (texture (sampler_blur2, tmpvar_6).xyz * scale2)\\n   + bias2)).x * tmpvar_3.x);\\n  float tmpvar_7;\\n  vec2 tmpvar_8;\\n  tmpvar_8 = (uv + vec2(0.0, 0.005));\\n  vec2 tmpvar_9;\\n  tmpvar_9 = (uv - vec2(0.0, 0.005));\\n  tmpvar_7 = (((\\n    (texture (sampler_blur2, tmpvar_8).xyz * scale2)\\n   + bias2) - (\\n    (texture (sampler_blur2, tmpvar_9).xyz * scale2)\\n   + bias2)).x * tmpvar_3.y);\\n  vec2 tmpvar_10;\\n  tmpvar_10.x = tmpvar_4;\\n  tmpvar_10.y = tmpvar_7;\\n  vec2 tmpvar_11;\\n  tmpvar_11.x = (((\\n    (texture (sampler_blur2, tmpvar_5).xyz * scale2)\\n   + bias2) - (\\n    (texture (sampler_blur2, tmpvar_6).xyz * scale2)\\n   + bias2)).x * tmpvar_3.x);\\n  tmpvar_11.y = (((\\n    (texture (sampler_blur2, tmpvar_8).xyz * scale2)\\n   + bias2) - (\\n    (texture (sampler_blur2, tmpvar_9).xyz * scale2)\\n   + bias2)).x * tmpvar_3.y);\\n  ret_2.x = texture (sampler_fw_main, ((uv - (tmpvar_10 * 0.01)) + (tmpvar_11 * 0.003))).x;\\n  vec4 tmpvar_12;\\n  tmpvar_12 = texture (sampler_blur3, uv);\\n  ret_2.x = (ret_2.x + ((ret_2.x - \\n    ((tmpvar_12.xyz * scale3) + bias3)\\n  .x) * 0.1));\\n  ret_2.x = (ret_2.x + 0.004);\\n  vec2 tmpvar_13;\\n  tmpvar_13.x = tmpvar_7;\\n  tmpvar_13.y = -(tmpvar_4);\\n  my_uv_1 = (uv + ((tmpvar_13 * 0.05) * (1.2 - \\n    ((tmpvar_12.xyz * scale3) + bias3)\\n  .y)));\\n  ret_2.z = texture (sampler_fw_main, my_uv_1).z;\\n  vec2 x_14;\\n  x_14 = (my_uv_1 - uv);\\n  ret_2.z = (ret_2.z + ((\\n    ((ret_2.z - ((texture (sampler_blur1, uv).xyz * scale1) + bias1).z) * sqrt(dot (x_14, x_14)))\\n   * 180.0) / sqrt(\\n    dot (tmpvar_3, tmpvar_3)\\n  )));\\n  ret_2.z = (ret_2.z * 0.8);\\n  ret_2.z = (ret_2.z + 0.004);\\n  vec2 tmpvar_15;\\n  tmpvar_15.x = -(tmpvar_7);\\n  tmpvar_15.y = tmpvar_4;\\n  my_uv_1 = (tmpvar_15 * 0.045);\\n  vec2 tmpvar_16;\\n  tmpvar_16.x = (((\\n    (texture (sampler_blur2, (uv + vec2(0.01, 0.0))).xyz * scale2)\\n   + bias2) - (\\n    (texture (sampler_blur2, (uv - vec2(0.01, 0.0))).xyz * scale2)\\n   + bias2)).y * tmpvar_3.x);\\n  tmpvar_16.y = (((\\n    (texture (sampler_blur2, (uv + vec2(0.0, 0.01))).xyz * scale2)\\n   + bias2) - (\\n    (texture (sampler_blur2, (uv - vec2(0.0, 0.01))).xyz * scale2)\\n   + bias2)).y * tmpvar_3.y);\\n  my_uv_1 = (my_uv_1 + (uv - (tmpvar_16 * 0.03)));\\n  ret_2.y = texture (sampler_fw_main, my_uv_1).y;\\n  ret_2.y = (ret_2.y + ((\\n    (ret_2.y - ((texture (sampler_blur3, my_uv_1).xyz * scale3) + bias3).y)\\n   * 0.1) + 0.01));\\n  vec4 tmpvar_17;\\n  tmpvar_17.w = 1.0;\\n  tmpvar_17.xyz = ret_2;\\n  ret = tmpvar_17.xyz;\\n }","comp":" shader_body { \\n  vec2 uv2_1;\\n  float blur_2;\\n  float crisp_3;\\n  vec3 ret_4;\\n  vec4 tmpvar_5;\\n  tmpvar_5 = texture (sampler_main, uv);\\n  vec4 tmpvar_6;\\n  tmpvar_6 = texture (sampler_blur1, uv);\\n  ret_4 = (tmpvar_5.xyz + ((\\n    (tmpvar_6.xyz * scale1)\\n   + bias1) * 3.0));\\n  uv2_1 = (((uv - 0.5) * 0.8) + 0.5);\\n  crisp_3 = texture (sampler_main, uv2_1).y;\\n  blur_2 = ((texture (sampler_blur1, uv2_1).xyz * scale1) + bias1).y;\\n  ret_4 = (ret_4 * (1.0 - (blur_2 * 1.15)));\\n  vec3 tmpvar_7;\\n  tmpvar_7 = max (ret_4, vec3(crisp_3));\\n  uv2_1 = uv;\\n  crisp_3 = tmpvar_5.x;\\n  blur_2 = ((tmpvar_6.xyz * scale1) + bias1).x;\\n  ret_4 = (tmpvar_7 * (1.0 - (blur_2 * 1.15)));\\n  vec3 tmpvar_8;\\n  tmpvar_8 = max (ret_4, tmpvar_5.xxx);\\n  ret_4 = tmpvar_8;\\n  vec4 tmpvar_9;\\n  tmpvar_9.w = 1.0;\\n  tmpvar_9.xyz = tmpvar_8;\\n  ret = tmpvar_9.xyz;\\n }"}') }, "./presets/converted/Halfbreak - Light of Breakers.json": e => { e.exports = JSON.parse('{"version":2,"baseVals":{"rating":1,"gammaadj":1.98,"decay":0.5,"echo_zoom":1,"echo_alpha":0.5,"echo_orient":3,"additivewave":1,"wave_dots":1,"wave_thick":1,"wave_brighten":0,"darken":1,"wave_a":0.001,"wave_scale":0.527,"wave_smoothing":0,"wave_mystery":0.6,"modwavealphastart":0,"modwavealphaend":1.32,"warpanimspeed":1.459,"warpscale":2.007,"zoom":0.9999,"warp":0.01,"sx":0.9999,"wave_g":0.49,"ob_a":1,"ib_size":0.26,"mv_x":64,"mv_y":48,"mv_l":1.85,"mv_r":0.5,"mv_g":0.5,"mv_b":0.5,"mv_a":0,"b2x":0.6,"b3x":0.4,"b1ed":0},"shapes":[{"baseVals":{"sides":8,"additive":1,"num_inst":256,"rad":0.03632,"tex_ang":1.00531,"tex_zoom":1.53117,"g":1,"b":1,"a":0,"g2":0,"border_r":0,"border_g":0,"border_b":0,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"enabled":1,"sides":5,"additive":1,"num_inst":256,"x":0.26,"y":0.2,"rad":0.39317,"tex_zoom":0.9355,"g2":0,"a2":0.2,"border_g":0,"border_b":0,"border_a":0},"init_eqs_eel":"","frame_eqs_eel":"n = (instance);\\nFLen = reg00;\\nSLen = reg00/2;\\n\\nz0 = 10;\\ny0 = gmegabuf(2000+n+FLen)/z0;\\nx0 = gmegabuf(2000+n)/z0;\\n\\na0 = (gmegabuf(n+10000));\\n\\nk1 = instance/num_inst-.5;\\nx = .5 + x0 + sin(k1*8*sin(q12*.07)) * sin(q11*.13)*q3*.7; \\ny = .5 + q32*(y0 + sin(k1*8*sin(q14*.1)) * sin(q13*.2)*q3*.7); \\n\\narg = q2/8;\\nhigh = exp(-500*pow(arg+.5-instance/num_inst,2));\\nhigh += exp(-500*pow(-arg+.5-instance/num_inst,2));\\n\\nexc = sqrt((pow(x-.5,2)+pow(y-.5,2)));\\nrad0 = above(z0,0)*min (.1, a0/60)+.005;\\nrad0 = rad0 * (1+2*exc) * (1+high);\\n\\np1 = .5 + sin(q12)/2;\\np2 = .5 + sin(q13*1.4)/2;\\n//p1 = rand(1)-.5;\\n//p2 = rand(1)-.5;\\nexc = ((pow(x-p1,2)+pow(y-p2,2)));\\nrad = min(rad0 * (1 + .004*q3/abs(exc)),1) ;\\n\\na = min(a0*8+.4,1);\\n\\nk1 = instance/num_inst*5 + high;\\nw = 1-exp(-treb_att/2-.5);\\ng = w + (1-w)*sin(k1);\\nr = w + (1-w)*sin(k1-6.28/3);\\nb = w + (1-w)*sin(k1-6.28*2/3);\\n\\na2 = a/4;\\ng2 = g*0; b2 = b*0; r2 = r*0;"},{"baseVals":{"sides":13,"additive":1,"num_inst":5,"x":0.65,"y":0.38,"rad":0.57049,"tex_zoom":0.73678,"a":0.7,"g2":0,"border_r":0.5,"border_g":0.5,"border_b":0,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"k1 = instance/num_inst;\\nx = .5 + .3*sin(instance*k1*413);\\ny = .5 + .3 * sin(instance*k1*113);\\n\\nrad = .1 + .4*sin(k1*333);\\n\\nr =  .5*sin(k1*234);\\nb =  .5*sin(k1*534);\\ng =  .5*sin(k1*34);"},{"baseVals":{"sides":14,"additive":1,"thickoutline":1,"textured":1,"x":0.6,"y":0.55,"rad":0.97237,"ang":1.25664,"tex_zoom":0.34933,"g":0.6,"g2":0,"b2":1,"border_r":0.2,"border_g":0.7,"border_b":0.5,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""}],"waves":[{"baseVals":{"enabled":1,"sep":120,"spectrum":1,"additive":1,"scaling":7.52386,"smoothing":0,"r":0,"a":0.7},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":"FLen = reg00;\\n\\nn = int(sample*FLen);\\nvol = (value1+value2) * (1+ .1 / (sample+.03));\\n\\nchg = min(max(vol- gmegabuf(n),-1),1);\\ndec = if (chg>0, 1-chg*0.3, 1+chg*0.2);\\n\\nchg = q1 -q2;\\ndec = .94 - abs(chg) * if (chg> 0, .2,.1);\\n\\ndec = min(max(dec,0),1);\\ngmegabuf(n) = gmegabuf(n)*dec + vol*(1-dec);\\n\\ndec = q2/4;\\n//dec = .90;\\ndec = max(min(dec,1),.1);\\n\\ngmegabuf(n) = gmegabuf(n)*dec + gmegabuf(n+(q2<.8))*(1-dec);\\ngmegabuf(n+10000) = gmegabuf(n+10000)*.2 + .8* vol/3;\\na = .0;\\nx = sample;\\ny = .2 + gmegabuf(n+0)*.23;"},{"baseVals":{"samples":256,"usedots":1,"scaling":0.89152,"smoothing":0.82,"a":0.9,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"samples":32,"thick":1,"scaling":0.89152,"smoothing":0.82,"r":0,"g":0.2,"b":0.6,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"spectrum":1,"usedots":1,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""}],"init_eqs_eel":"n = 0;\\nloop (50000,\\ngmegabuf(n) = 0;\\nmegabuf(n) = 0;\\nn = n+1;\\n);\\n\\nsw1 = rand(8);\\nsw2 = rand(8);\\nsw3 = rand(8);\\nsw4 = rand(8);","frame_eqs_eel":"flen = 512; //Wave Punkte\\nreg00 = FLen;\\nSLen = FLen/2;\\ndec_m = pow(.94, 30/fps);\\n\\n//Volume\\nn = 0; vol = 0;\\nloop (SLen,\\n  vol = vol + pow(gmegabuf(n),2)/FLen;  \\n  n = n+1;\\n);\\nvol = sqrt(vol)/2;\\nvol_ = vol_*dec_m + (1-dec_m)* (vol);\\n\\n//switches\\nlev1 = lev1 * dec_m + (1-dec_m) * gmegabuf(1);\\nlev2 = lev2 * dec_m + (1-dec_m) * gmegabuf(20);\\nlev3 = lev3 * dec_m + (1-dec_m) * gmegabuf(50);\\nlev4 = lev4 * dec_m + (1-dec_m) * gmegabuf(100);\\nsw1 = sw1 + (lev1-gmegabuf(1)>0)/fps;\\nsw2 = sw2 + (lev2-gmegabuf(20)>0)/fps;\\nsw3 = sw3 + (lev3-gmegabuf(50)>0)/fps;\\nsw4 = sw4 + (lev4-gmegabuf(100)>0)/fps;\\n\\ndif = (1+sin(sw3/4))*16+2;\\nofs = sin(sw2/3)*8;\\nn = 0; k1 = frame*0; \\nloop (SLen,\\n      m1 = (n)%SLen;\\n      m2 = (n+ofs)%SLen;\\n\\n      k = (m1+dif)%SLen;\\n      i = (SLen+m2-dif)%SLen;\\n\\n      in1 = (gmegabuf(m1)-gmegabuf(k))/pow(vol_+.03,.8)*1.2;\\n      in2 = (gmegabuf(m2)-gmegabuf(i))/pow(vol_+.03,.8)*1.2;\\n\\n      dec = if (pow(gmegabuf(2000+n),2) + pow(gmegabuf(2000+FLen+n),2)> in1*in1+in2*in2,.8,.94) ;\\n      dec = pow (dec, 30/fps); \\n\\n      gmegabuf(2000+n) =       gmegabuf(2000+n)*dec      +(1-dec)* in1;\\n      gmegabuf(2000+FLen+n) =  gmegabuf(2000+FLen+n)*dec +(1-dec)* in2;\\n      n=n+1;\\n);\\n\\nq1 = (bass+treb+mid)/3;\\nq2 = (bass_att+treb_att+mid_att)/3;\\nq3 = vol_;\\nq11 = sw1;\\nq12 = sw2;\\nq13 = sw3;\\nq14 = sw4;\\n\\nrot = 0; zoom = .98; warp = .3; rot = 0;\\n\\nq32 = aspecty;\\nmonitor = dif;","pixel_eqs_eel":"","warp":" shader_body { \\n  vec2 uv_1;\\n  uv_1 = uv;\\n  vec2 zz_2;\\n  vec2 tmpvar_3;\\n  tmpvar_3 = (uv - vec2(0.5, 0.5));\\n  vec3 tmpvar_4;\\n  tmpvar_4 = (0.016 * texture (sampler_noise_lq, ((uv * 0.3) + (0.01 * rand_frame).xy))).xyz;\\n  vec2 tmpvar_5;\\n  tmpvar_5 = (0.8 * sin((tmpvar_3 * 8.0)));\\n  float tmpvar_6;\\n  tmpvar_6 = clamp ((0.01 / sqrt(\\n    dot (tmpvar_5, tmpvar_5)\\n  )), 0.0, 1.0);\\n  vec2 tmpvar_7;\\n  tmpvar_7 = ((-(tmpvar_3) * texsize.xy) * q26);\\n  zz_2 = tmpvar_7;\\n  if ((q25 == 1.0)) {\\n    zz_2 = (tmpvar_7 * (abs(tmpvar_3.y) / abs(tmpvar_3.x)));\\n  } else {\\n    if ((q25 == 2.0)) {\\n      zz_2 = (zz_2 * (abs(tmpvar_3.y) - abs(tmpvar_3.x)));\\n    };\\n  };\\n  uv_1 = (uv + ((\\n    clamp ((sin(zz_2) / cos(zz_2)), vec2(-20.0, -20.0), vec2(20.0, 20.0))\\n   * texsize.zw) * 4.0));\\n  vec4 tmpvar_8;\\n  tmpvar_8.w = 1.0;\\n  tmpvar_8.xyz = (((\\n    (0.95 * (texture (sampler_main, uv_1) + tmpvar_6).xyz)\\n   + tmpvar_4) - 0.02) - (0.06 * (\\n    (texture (sampler_blur2, uv_1).xyz * scale2)\\n   + bias2).x));\\n  ret = tmpvar_8.xyz;\\n }","comp":"vec3 xlat_mutableblur;\\nvec3 xlat_mutableret1;\\n shader_body { \\n  vec2 uv_1;\\n  vec2 uv2_2;\\n  uv_1 = (uv - 0.5);\\n  uv_1 = (uv_1 * aspect.xy);\\n  float tmpvar_3;\\n  tmpvar_3 = (0.02 * q27);\\n  xlat_mutableblur = ((texture (sampler_blur1, (\\n    (uv_1 + 0.4)\\n   + tmpvar_3)).xyz * scale1) + bias1);\\n  xlat_mutableret1 = max (vec3(0.0, 0.0, 0.0), (texture (sampler_main, (\\n    (uv_1 + 0.4)\\n   + tmpvar_3)).xyz + (xlat_mutableblur * 2.0)));\\n  uv2_2.x = ((uv_1.x * 0.0007962743) - (uv_1.y * 0.9999997));\\n  uv2_2.y = ((uv_1.x * 0.9999997) + (uv_1.y * 0.0007962743));\\n  xlat_mutableblur = ((texture (sampler_blur1, (\\n    (uv2_2 + 0.4)\\n   + tmpvar_3)).xyz * scale1) + bias1);\\n  xlat_mutableret1 = max (xlat_mutableret1, (texture (sampler_main, (\\n    (uv2_2 + 0.4)\\n   + tmpvar_3)).xyz + (xlat_mutableblur * 2.0)));\\n  uv2_2.x = ((uv_1.x * -0.9999987) - (uv_1.y * 0.001592548));\\n  uv2_2.y = ((uv_1.x * 0.001592548) + (uv_1.y * -0.9999987));\\n  xlat_mutableblur = ((texture (sampler_blur1, (\\n    (uv2_2 + 0.4)\\n   + tmpvar_3)).xyz * scale1) + bias1);\\n  xlat_mutableret1 = max (xlat_mutableret1, (texture (sampler_main, (\\n    (uv2_2 + 0.4)\\n   + tmpvar_3)).xyz + (xlat_mutableblur * 2.0)));\\n  uv2_2.x = ((uv_1.x * -0.00238894) - (uv_1.y * -0.9999971));\\n  uv2_2.y = ((uv_1.x * -0.9999971) + (uv_1.y * -0.00238894));\\n  xlat_mutableblur = ((texture (sampler_blur1, (\\n    (uv2_2 + 0.4)\\n   + tmpvar_3)).xyz * scale1) + bias1);\\n  xlat_mutableret1 = max (xlat_mutableret1, (texture (sampler_main, (\\n    (uv2_2 + 0.4)\\n   + tmpvar_3)).xyz + (xlat_mutableblur * 2.0)));\\n  uv2_2.x = ((uv_1.x * 0.9999949) - (uv_1.y * -0.003185092));\\n  uv2_2.y = ((uv_1.x * -0.003185092) + (uv_1.y * 0.9999949));\\n  xlat_mutableblur = ((texture (sampler_blur1, (\\n    (uv2_2 + 0.4)\\n   + tmpvar_3)).xyz * scale1) + bias1);\\n  xlat_mutableret1 = max (xlat_mutableret1, (texture (sampler_main, (\\n    (uv2_2 + 0.4)\\n   + tmpvar_3)).xyz + (xlat_mutableblur * 2.0)));\\n  vec4 tmpvar_4;\\n  tmpvar_4.w = 1.0;\\n  tmpvar_4.xyz = (xlat_mutableret1 * 1.5);\\n  ret = tmpvar_4.xyz;\\n }"}') }, "./presets/converted/Hexcollie, Pieturp, Orb, Flexi, Geiss n Demon Lord - Premeditative Urination Clause.json": e => { e.exports = JSON.parse('{"version":2,"baseVals":{"rating":1,"gammaadj":1,"decay":1,"echo_zoom":1,"echo_orient":2,"wave_a":0.001,"warpanimspeed":2.13,"warpscale":2.498,"zoomexp":0.67288,"zoom":1.025,"warp":0.36146,"wave_r":0,"wave_g":0,"wave_b":0,"ob_size":0.005,"ob_b":1,"ob_a":1,"ib_size":0,"ib_r":0,"ib_g":0,"ib_b":0,"ib_a":1,"mv_r":0.8,"mv_a":0,"b1ed":0},"shapes":[{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""}],"waves":[{"baseVals":{"enabled":1,"thick":1,"smoothing":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":"speed = bass_att*0.6;\\nv = sample*10000 + value2*bass*0.1;\\n\\nxs = xs + sin(v*1)*speed*atan(v*1.51);\\nys = ys + sin(v*1)*speed;\\n\\nx = 0.5 + 0.5*sin(xs*0.1)*cos(time*2 + xs);\\ny = 0.5 + 0.5*sin(ys*0.1)*cos(time*2.1 + xs);\\n\\nx = x*0.6;\\ny*0.9 + 0.05 + bass*0.08;\\n\\ny = y*0.8 + 0.1;\\n\\nr = 0.5 + 0.4*sin(time*1.22 + x);\\ng = 0.5 + 0.4*sin(time*1.307 + y);\\nb = 0.5 + 0.4*sin(time*1.959 + x/y);\\n\\nxs = if(above(xs,1000),0 ,xs);\\nys = if(above(ys,1000),0 ,ys);"},{"baseVals":{"enabled":1,"thick":1,"smoothing":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":"speed = bass_att*0.6;\\nv = sample*10000 + value2*bass*0.1;\\n\\nxs = xs + sin(v*1)*speed*atan(v*1.51);\\nys = ys + sin(v*1)*speed;\\n\\nx = 0.5 + 0.5*sin(xs*0.1)*cos(time*2 + xs);\\ny = 0.5 + 0.5*sin(ys*0.1)*cos(time*2.1 + xs);\\n\\nx = -x*0.6 + 1;\\ny = y + bass*0.01;\\n//y = y*0.5 + 0.25;\\ny = y*0.8 + 0.1;\\n\\nr = 0.5 + 0.4*sin(time*1.22 + x);\\ng = 0.5 + 0.4*sin(time*1.307 + y);\\nb = 0.5 + 0.4*sin(time*1.959 + x/y);\\n\\nxs = if(above(xs,1000),0 ,xs);\\nys = if(above(ys,1000),0 ,ys);"},{"baseVals":{"enabled":1,"thick":1,"smoothing":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":"speed = bass_att*0.6;\\nv = sample*10000 + value2*bass*0.1;\\n\\nxs = xs + sin(v*1)*speed*atan(v*1.51);\\nys = ys + sin(v*1)*speed;\\n\\n\\nx = 0.5 + 0.5*sin(xs*0.1)*cos(time*2 + xs);\\ny = 0.5 + 0.5*sin(ys*0.1)*cos(time*2.1 + xs);\\n\\nx = x*0.6;\\ny = y*0.9 - 0.05 + bass*0.08;\\ny = y*0.8 + 0.1;\\n\\nr = 0.5 + 0.4*sin(time*1.789 + y);\\ng = 0.5 + 0.4*sin(time*1.478 + x);\\nb = 0.5 + 0.4*sin(time*1.125 + y/x);\\n\\nxs = if(above(xs,1000),0 ,xs);\\nys = if(above(ys,1000),0 ,ys);"},{"baseVals":{"enabled":1,"thick":1,"smoothing":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":"speed = bass_att*0.6;\\nv = sample*10000 + value2*bass*0.1;\\n\\nxs = xs + sin(v*1)*speed*atan(v*1.51);\\nys = ys + sin(v*1)*speed;\\n\\nx = 0.5 + 0.5*sin(xs*0.1)*cos(time*2 + xs);\\ny = 0.5 + 0.5*sin(ys*0.1)*cos(time*2.1 + xs);\\n\\nx = -x*0.6 + 1;\\ny = y*0.9 - 0.05 + bass*0.08;\\ny = y*0.8 + 0.1;\\n\\nr = 0.5 + 0.4*sin(time*1.789 + y);\\ng = 0.5 + 0.4*sin(time*1.478 + x);\\nb = 0.5 + 0.4*sin(time*1.125 + y/x);\\n\\nxs = if(above(xs,1000),0 ,xs);\\nys = if(above(ys,1000),0 ,ys);"}],"init_eqs_eel":"","frame_eqs_eel":"wave_a = 0;\\n//warp = 0;\\nr = r*0.9 + (bass-treb)*0.5;\\nrot = r*0.02;","pixel_eqs_eel":"","warp":" shader_body { \\n  vec2 my_uv_1;\\n  vec3 ret_2;\\n  vec2 tmpvar_3;\\n  tmpvar_3 = (vec2(1280.0, 1024.0) * texsize.zw);\\n  float tmpvar_4;\\n  vec2 tmpvar_5;\\n  tmpvar_5 = (uv + vec2(0.005, 0.0));\\n  vec2 tmpvar_6;\\n  tmpvar_6 = (uv - vec2(0.005, 0.0));\\n  tmpvar_4 = (((\\n    (texture (sampler_blur2, tmpvar_5).xyz * scale2)\\n   + bias2) - (\\n    (texture (sampler_blur2, tmpvar_6).xyz * scale2)\\n   + bias2)).x * tmpvar_3.x);\\n  float tmpvar_7;\\n  vec2 tmpvar_8;\\n  tmpvar_8 = (uv + vec2(0.0, 0.005));\\n  vec2 tmpvar_9;\\n  tmpvar_9 = (uv - vec2(0.0, 0.005));\\n  tmpvar_7 = (((\\n    (texture (sampler_blur2, tmpvar_8).xyz * scale2)\\n   + bias2) - (\\n    (texture (sampler_blur2, tmpvar_9).xyz * scale2)\\n   + bias2)).x * tmpvar_3.y);\\n  vec2 tmpvar_10;\\n  tmpvar_10.x = tmpvar_4;\\n  tmpvar_10.y = tmpvar_7;\\n  vec2 tmpvar_11;\\n  tmpvar_11.x = (((\\n    (texture (sampler_blur2, tmpvar_5).xyz * scale2)\\n   + bias2) - (\\n    (texture (sampler_blur2, tmpvar_6).xyz * scale2)\\n   + bias2)).x * tmpvar_3.x);\\n  tmpvar_11.y = (((\\n    (texture (sampler_blur2, tmpvar_8).xyz * scale2)\\n   + bias2) - (\\n    (texture (sampler_blur2, tmpvar_9).xyz * scale2)\\n   + bias2)).x * tmpvar_3.y);\\n  ret_2.x = texture (sampler_fw_main, ((uv - (tmpvar_10 * 0.01)) + (tmpvar_11 * 0.003))).x;\\n  vec4 tmpvar_12;\\n  tmpvar_12 = texture (sampler_blur3, uv);\\n  ret_2.x = (ret_2.x + ((ret_2.x - \\n    ((tmpvar_12.xyz * scale3) + bias3)\\n  .x) * 0.1));\\n  ret_2.x = (ret_2.x + 0.004);\\n  vec2 tmpvar_13;\\n  tmpvar_13.x = tmpvar_7;\\n  tmpvar_13.y = -(tmpvar_4);\\n  my_uv_1 = (uv + ((tmpvar_13 * 0.05) * (1.2 - \\n    ((tmpvar_12.xyz * scale3) + bias3)\\n  .y)));\\n  ret_2.z = texture (sampler_fw_main, my_uv_1).z;\\n  vec2 x_14;\\n  x_14 = (my_uv_1 - uv);\\n  ret_2.z = (ret_2.z + ((\\n    ((ret_2.z - ((texture (sampler_blur1, uv).xyz * scale1) + bias1).z) * sqrt(dot (x_14, x_14)))\\n   * 180.0) / sqrt(\\n    dot (tmpvar_3, tmpvar_3)\\n  )));\\n  ret_2.z = (ret_2.z * 0.8);\\n  ret_2.z = (ret_2.z + 0.004);\\n  vec2 tmpvar_15;\\n  tmpvar_15.x = -(tmpvar_7);\\n  tmpvar_15.y = tmpvar_4;\\n  my_uv_1 = (tmpvar_15 * 0.045);\\n  vec2 tmpvar_16;\\n  tmpvar_16.x = (((\\n    (texture (sampler_blur2, (uv + vec2(0.01, 0.0))).xyz * scale2)\\n   + bias2) - (\\n    (texture (sampler_blur2, (uv - vec2(0.01, 0.0))).xyz * scale2)\\n   + bias2)).y * tmpvar_3.x);\\n  tmpvar_16.y = (((\\n    (texture (sampler_blur2, (uv + vec2(0.0, 0.01))).xyz * scale2)\\n   + bias2) - (\\n    (texture (sampler_blur2, (uv - vec2(0.0, 0.01))).xyz * scale2)\\n   + bias2)).y * tmpvar_3.y);\\n  my_uv_1 = (my_uv_1 + (uv - (tmpvar_16 * 0.03)));\\n  ret_2.y = texture (sampler_fw_main, my_uv_1).y;\\n  ret_2.y = (ret_2.y + ((\\n    (ret_2.y - ((texture (sampler_blur3, my_uv_1).xyz * scale3) + bias3).y)\\n   * 0.1) + 0.01));\\n  vec4 tmpvar_17;\\n  tmpvar_17.w = 1.0;\\n  tmpvar_17.xyz = ret_2;\\n  ret = tmpvar_17.xyz;\\n }","comp":" shader_body { \\n  vec3 ret_1;\\n  vec2 tmpvar_2;\\n  tmpvar_2.x = (1.0 - q4);\\n  tmpvar_2.y = q8;\\n  vec2 tmpvar_3;\\n  tmpvar_3 = (tmpvar_2 + ((uv - tmpvar_2) * 0.992));\\n  ret_1 = (mix (mix (vec3(0.0, 0.0, 0.2), vec3(0.3, 0.0, 1.0), texture (sampler_fw_main, tmpvar_3).yyy), vec3(1.0, 1.0, 0.0), vec3(max (\\n    (((texture (sampler_blur1, tmpvar_3).xyz * scale1) + bias1).z * 1.5)\\n  , texture (sampler_main, \\n    (tmpvar_2 + ((uv - tmpvar_2) * 0.996))\\n  ).z))) * (1.0 - (\\n    ((texture (sampler_blur1, tmpvar_3).xyz * scale1) + bias1)\\n  .x * 2.0)));\\n  vec3 tmpvar_4;\\n  tmpvar_4 = mix (ret_1, vec3(1.0, 0.1, 0.4), texture (sampler_fw_main, uv).xxx);\\n  ret_1 = tmpvar_4;\\n  vec4 tmpvar_5;\\n  tmpvar_5.w = 1.0;\\n  tmpvar_5.xyz = tmpvar_4;\\n  ret = tmpvar_5.xyz;\\n }"}') }, "./presets/converted/LuxXx - Play v3 (the war within all of us).json": e => { e.exports = JSON.parse('{"version":2,"baseVals":{"rating":1,"gammaadj":1.78,"decay":0.5,"echo_zoom":1,"echo_alpha":0.5,"echo_orient":3,"wave_dots":1,"wave_thick":1,"modwavealphabyvolume":1,"wave_brighten":0,"darken":1,"wave_a":100,"wave_scale":28.599,"wave_smoothing":0.5,"wave_mystery":-1,"modwavealphastart":0.4,"modwavealphaend":1,"warpanimspeed":1.459,"warpscale":2.007,"zoom":0.9999,"warp":0.01,"sx":0.9999,"ob_size":0,"ob_b":0.2,"ob_a":1,"ib_size":0,"ib_r":0,"ib_g":0,"ib_a":1,"mv_l":1.5,"mv_r":0,"mv_g":0,"mv_b":0,"mv_a":0,"b1x":0.7,"b1ed":0},"shapes":[{"baseVals":{"enabled":1,"sides":100,"rad":0.40031,"r":0.5,"g":0.5,"r2":0.5,"g2":0,"border_b":0.5,"border_a":0},"init_eqs_eel":"","frame_eqs_eel":"sounds=(bass+treb+mid)/3;\\n\\nrad=rad*sounds*0.6;\\n\\nr=r+sin(bass)*g;\\ng=g+sin(mid)*g;\\n\\n\\nx=x+0.207*cos(time*bass*0.1);\\ny=y+0.207*sin(time*bass*0.1);"},{"baseVals":{"enabled":1,"sides":100,"rad":0.13465,"r2":1,"a2":0.3,"border_a":0},"init_eqs_eel":"","frame_eqs_eel":"\\ng2=g2+0.09*sin((treb+mid)*1.23);\\ng=g+0.09*cos((bass+mid)*1.37);\\n\\nsounds=(bass+mid+treb)/3;\\n\\nrad=rad*(treb+mid)/3;\\n\\nx=x+0.300*sin(time*bass);\\ny=y+0.317*cos(time*bass);"},{"baseVals":{"enabled":1,"sides":100,"rad":0.20047,"g":1,"b":1,"r2":0.5,"g2":0.5,"b2":1,"border_b":0.5,"border_a":0},"init_eqs_eel":"","frame_eqs_eel":"sounds=(bass+treb+mid)/3;\\natt=(bass_att+treb_att+mid_att)/3;\\natt=(bass_att+treb_att+mid_att)/3;\\nr2=r2+(0.25*sin(time*6.28))-bass;\\ng2=g2+(0.25*sin(time*6.28))-bass;\\n\\nrad=rad;\\nx=x+0.217*cos(time*2.3)+sounds*0.1;\\ny=y+0.217*sin((time*3.5)+(sounds*0.3));"},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""}],"waves":[{"baseVals":{"sep":256,"scaling":20.35074,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"r=r+0.5*sin(treb*1.13);\\ng=g+0.5*sin(bass*1.33);\\nb=b+0.5*sin(mid*1.23);","point_eqs_eel":""},{"baseVals":{"sep":256,"usedots":1,"scaling":100,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""}],"init_eqs_eel":"","frame_eqs_eel":"dec_med = pow (0.8, 30/fps);\\ndec_slow = pow (0.9, 30/fps);\\nbeat = max (max (bass, mid), treb); \\navg = avg*dec_slow + beat*(1-dec_slow);\\nis_beat = above(beat, .5+avg+peak) * above (time, t0+.2);\\nt0 = is_beat*time + (1-is_beat)*t0;\\npeak = is_beat * beat + (1-is_beat)*peak*dec_med;\\nindex = (index + is_beat) %16;\\nindex2 = (index2 + is_beat*bnot(index))%5;\\nmonitor = index2;\\n\\nq20 = avg;\\nq21 = beat;\\nq22 = peak;\\nq23 = index;\\nq24 = is_beat;\\nq26 = bass + mid + treb;\\n\\nsb = sb*dec_med + q21*(1-dec_med);\\nq29 = sb;\\n\\nk1 =  is_beat*bnot(index)*bnot(index2);\\np1 =  (index2-2);\\n\\np2 = dec_med * p2+ (1-dec_med)*p1;\\np3 = dec_med * p3+ (1-dec_med)*p2;\\nq5 = cos(p3*3.14/2);\\n\\nrott =  rott +  .003*30/fps*p3;\\n\\nq1 = cos(rott);\\nq2 = sin(rott);\\nq3 = -q2;\\nq4 = q1;\\n\\nmovx = movx + .002*30/fps;\\nq28 = movx;\\n\\nq15 = (1+sin(time/23))*.15;\\nq29 = 4*(.5+sin(time/17));\\nq30 = 5/(1.2+sin(time/50)); \\nq31 = sin(time/38)/3;\\nq32 = 2+sin(time/18);\\n\\nwarp = .06;\\nzoom = .998;","pixel_eqs_eel":"","warp":" shader_body { \\n  vec2 uv_1;\\n  vec2 uv6_2;\\n  uv_1 = (uv + (vec2(0.0, 0.01) * dot (\\n    ((texture (sampler_blur1, uv).xyz * scale1) + bias1)\\n  , vec3(0.32, 0.49, 0.29))));\\n  uv6_2 = (0.4 * sin((\\n    (uv_1 * 8.0)\\n   + \\n    (rand_frame * 6.0)\\n  .xy)));\\n  vec4 tmpvar_3;\\n  tmpvar_3.w = 1.0;\\n  tmpvar_3.xyz = (((\\n    (texture (sampler_main, uv_1).xyz - (((texture (sampler_blur2, \\n      fract(uv_1)\\n    ).xyz * scale2) + bias2) * 0.03))\\n   + \\n    (0.1 * (vec3((0.1 / sqrt(\\n      dot (uv6_2, uv6_2)\\n    ))) * ((1.0 + roam_cos) / 2.0).xyz))\\n  ) * 0.99) - 0.02);\\n  ret = tmpvar_3.xyz;\\n }","comp":"vec3 xlat_mutableblur;\\nvec3 xlat_mutableret1;\\nvec2 xlat_mutableuv2;\\nvec2 xlat_mutableuv3;\\n shader_body { \\n  vec2 uv_1;\\n  float inten_2;\\n  float dist_3;\\n  float ang2_4;\\n  uv_1 = (uv - 0.5);\\n  uv_1 = (uv_1 * aspect.xy);\\n  float tmpvar_5;\\n  tmpvar_5 = cos(q30);\\n  float tmpvar_6;\\n  tmpvar_6 = sin(q30);\\n  xlat_mutableuv2.x = ((uv_1.x * tmpvar_5) - (uv_1.y * tmpvar_6));\\n  xlat_mutableuv2.y = ((uv_1.x * tmpvar_6) + (uv_1.y * tmpvar_5));\\n  xlat_mutableuv2 = (xlat_mutableuv2 * aspect.yx);\\n  dist_3 = (1.0 - fract(q29));\\n  inten_2 = ((4.0 * dist_3) * (1.0 - (dist_3 * dist_3)));\\n  xlat_mutableuv3 = (((3.0 * xlat_mutableuv2) * dist_3) + 0.5);\\n  xlat_mutableblur = (((texture (sampler_blur1, \\n    fract(xlat_mutableuv3)\\n  ).xyz * scale1) + bias1) * vec3(0.8, 0.9, 1.0));\\n  xlat_mutableret1 = max (vec3(0.0, 0.0, 0.0), ((texture (sampler_main, xlat_mutableuv3).xyz + xlat_mutableblur) * inten_2));\\n  ang2_4 = (2.093333 + q30);\\n  float tmpvar_7;\\n  tmpvar_7 = cos(ang2_4);\\n  float tmpvar_8;\\n  tmpvar_8 = sin(ang2_4);\\n  xlat_mutableuv2.x = ((uv_1.x * tmpvar_7) - (uv_1.y * tmpvar_8));\\n  xlat_mutableuv2.y = ((uv_1.x * tmpvar_8) + (uv_1.y * tmpvar_7));\\n  xlat_mutableuv2 = (xlat_mutableuv2 * aspect.yx);\\n  dist_3 = (1.0 - fract((0.3333333 + q29)));\\n  inten_2 = ((4.0 * dist_3) * (1.0 - (dist_3 * dist_3)));\\n  xlat_mutableuv3 = (((3.0 * xlat_mutableuv2) * dist_3) + 0.5);\\n  xlat_mutableblur = (((texture (sampler_blur1, \\n    fract(xlat_mutableuv3)\\n  ).xyz * scale1) + bias1) * vec3(0.8, 0.9, 1.0));\\n  xlat_mutableret1 = max (xlat_mutableret1, ((texture (sampler_main, xlat_mutableuv3).xyz + xlat_mutableblur) * inten_2));\\n  ang2_4 = (4.186667 + q30);\\n  float tmpvar_9;\\n  tmpvar_9 = cos(ang2_4);\\n  float tmpvar_10;\\n  tmpvar_10 = sin(ang2_4);\\n  xlat_mutableuv2.x = ((uv_1.x * tmpvar_9) - (uv_1.y * tmpvar_10));\\n  xlat_mutableuv2.y = ((uv_1.x * tmpvar_10) + (uv_1.y * tmpvar_9));\\n  xlat_mutableuv2 = (xlat_mutableuv2 * aspect.yx);\\n  dist_3 = (1.0 - fract((0.6666667 + q29)));\\n  inten_2 = ((4.0 * dist_3) * (1.0 - (dist_3 * dist_3)));\\n  xlat_mutableuv3 = (((3.0 * xlat_mutableuv2) * dist_3) + 0.5);\\n  xlat_mutableblur = (((texture (sampler_blur1, \\n    fract(xlat_mutableuv3)\\n  ).xyz * scale1) + bias1) * vec3(0.8, 0.9, 1.0));\\n  xlat_mutableret1 = max (xlat_mutableret1, ((texture (sampler_main, xlat_mutableuv3).xyz + xlat_mutableblur) * inten_2));\\n  ang2_4 = (6.28 + q30);\\n  float tmpvar_11;\\n  tmpvar_11 = cos(ang2_4);\\n  float tmpvar_12;\\n  tmpvar_12 = sin(ang2_4);\\n  xlat_mutableuv2.x = ((uv_1.x * tmpvar_11) - (uv_1.y * tmpvar_12));\\n  xlat_mutableuv2.y = ((uv_1.x * tmpvar_12) + (uv_1.y * tmpvar_11));\\n  xlat_mutableuv2 = (xlat_mutableuv2 * aspect.yx);\\n  dist_3 = (1.0 - fract((1.0 + q29)));\\n  inten_2 = ((4.0 * dist_3) * (1.0 - (dist_3 * dist_3)));\\n  xlat_mutableuv3 = (((3.0 * xlat_mutableuv2) * dist_3) + 0.5);\\n  xlat_mutableblur = (((texture (sampler_blur1, \\n    fract(xlat_mutableuv3)\\n  ).xyz * scale1) + bias1) * vec3(0.8, 0.9, 1.0));\\n  xlat_mutableret1 = max (xlat_mutableret1, ((texture (sampler_main, xlat_mutableuv3).xyz + xlat_mutableblur) * inten_2));\\n  vec4 tmpvar_13;\\n  tmpvar_13.w = 1.0;\\n  tmpvar_13.xyz = (xlat_mutableret1 - 0.1);\\n  ret = tmpvar_13.xyz;\\n }"}') }, "./presets/converted/Martin - acid wiring.json": e => { e.exports = JSON.parse('{"version":2,"baseVals":{"rating":0,"gammaadj":1.980001,"decay":0.5,"echo_zoom":0.999998,"echo_alpha":0.5,"echo_orient":3,"wave_mode":4,"additivewave":1,"wave_thick":1,"modwavealphabyvolume":1,"wave_brighten":0,"darken_center":1,"darken":1,"wave_a":0.001,"wave_scale":0.527429,"wave_smoothing":0.45,"modwavealphastart":0,"modwavealphaend":1.32,"warpanimspeed":0.442,"warpscale":0.498,"zoom":0.9999,"warp":0.01,"sx":0.9999,"wave_r":0.8,"wave_g":0.49,"ob_size":0,"ob_r":1,"ob_g":1,"ob_b":1,"ob_a":0.05,"ib_size":0.26,"mv_x":64,"mv_y":48,"mv_l":1.85,"mv_r":0.4999,"mv_g":0.4999,"mv_b":0.4999,"mv_a":0,"b1ed":0},"shapes":[{"baseVals":{"rad":0.048958,"tex_ang":1.00531,"tex_zoom":1.531168,"r":0.5,"g":1,"b":0.9,"r2":0.83,"g2":0.93,"b2":0.8,"a2":1,"border_b":0,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"\\ntrel = time/3;\\n\\nx = .5+sin(trel*2);\\ny = .5+cos(trel*1.3);\\n\\n\\n\\ncent = sqrt((x-.5)*(x-.5)+(y-.5)*(y-.5));\\n\\nrad = .1*cent;\\na = .8;"},{"baseVals":{"enabled":1,"thickoutline":1,"textured":1,"x":0.26,"y":0.2,"rad":0.393173,"tex_zoom":1.392831,"r":0,"g":0.55,"b":0.5,"a":0.9,"g2":0.4,"b2":0.4,"border_r":0.3,"border_g":0.7,"border_b":0.8,"border_a":0.2},"init_eqs_eel":"","frame_eqs_eel":"trig = q24;\\n\\ntextured = 1;\\n\\nx0 = x0*bnot(trig) + trig*(.2+ rand(100)/200); \\ny0 = y0*bnot(trig) + trig*(.2+ rand(100)/200); \\n\\n\\nx0 = x0 + .03*q1*(3+q26)/fps;\\ny0 = y0 + .03*q2*(3+q26)/fps;\\n\\nx0 = x0 - int(x0);\\ny0 = y0 - int(y0);\\n\\ntex_ang = time;\\n//tex_zoom = q1;\\nang = time*q2;\\nx = x0; y = y0;\\nrad0 = rad0*bnot(trig) + trig*rand(100)/200;\\nrad = rad0;\\n\\n\\nr0 = r0*bnot(trig) + trig * rand(10)/10;\\nb0 = b0*bnot(trig) + trig * rand(10)/10;\\ng0 = g0*bnot(trig) + trig * rand(10)/10;\\n\\nborder_r = r0; border_g = g0; border_b = b0;\\n\\nr = r0; b = b0; g = g0;"},{"baseVals":{"additive":1,"x":0.503,"rad":0.038857,"tex_zoom":0.609857,"g":0.1,"a":0.9,"r2":1,"b2":1,"border_r":0.5,"border_g":0.5,"border_b":0.5,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"x = rand(50)/50;\\ny = .5 - 0*rand(15)/200;\\n\\nr = .4;\\ng = .6;\\nb = 1;\\nr2 = r;\\ng2 = g;\\nb2 = b;\\n\\na = min(q21/2 ,.9);\\nrad = a * (.1+abs(x-.5))/2 ;"},{"baseVals":{"thickoutline":1,"textured":1,"x":0.26,"y":0.76,"rad":0.39478,"tex_zoom":0.499805,"g":1,"b":1,"r2":1,"b2":1,"a2":0.8,"border_r":0.2,"border_g":0.7,"border_b":0.5,"border_a":1,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"tex_zoom = q27/2;"}],"waves":[{"baseVals":{"samples":282,"sep":20,"thick":1,"additive":1,"scaling":3.915805,"smoothing":0.1,"r":0.2,"g":0.3,"a":0.6,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"t2 = t2 + bass_att;","point_eqs_eel":"\\nx = sample;\\ny = value1 * rand(50)/100 * abs(sample-.5)+ .49;\\n\\na = q26/4 * (.2 + abs(sample-.5)); "},{"baseVals":{"usedots":1,"thick":1,"scaling":0.891519,"smoothing":0.82,"a":0.1,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":"xi = rand(100)/100;\\nyi = rand(100)/100;\\n\\nx = xi; y = yi;\\n\\na = q21/15; "},{"baseVals":{"thick":1,"scaling":0.891519,"smoothing":0.82,"r":0,"g":0.2,"b":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"spectrum":1,"usedots":1,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""}],"init_eqs_eel":"dirx = 1;","frame_eqs_eel":"dec_med = pow (0.6, 30/fps);\\ndec_slow = pow (0.9, 30/fps);\\nbeat = max (max (bass, mid), treb); \\navg = avg*dec_slow + beat*(1-dec_slow);\\nis_beat = above(beat, .2+avg+peak) * above (time, t0+.2);\\nt0 = is_beat*time + (1-is_beat)*t0;\\npeak = is_beat * beat + (1-is_beat)*peak*dec_med;\\nindex = (index + is_beat) %8;\\nindex2 = (index2 + is_beat*bnot(index))%4;\\nindex3 = (index3 + is_beat*bnot(index)*bnot(index2))%3;\\n\\n\\nq20 = avg;\\nq21 = beat;\\nq22 = peak;\\nq23 = index;\\nq24 = is_beat;\\nq26 = bass + mid + treb;\\nava = ava*dec_slow + q26*(1-dec_slow);\\n\\n\\n//k1 =  is_beat*bnot(index)*bnot(index2);\\n\\nk1 =  is_beat*equal(index%2,0);\\np1 =  k1*(p1+1) + (1-k1)*p1;\\np2 = dec_med * p2+ (1-dec_med)*p1;\\nrott = p2 * 3.1416/2;\\nq1 = cos(rott);\\nq2 = sin(rott);\\nq3 = -q2;\\nq4 = q1;\\n\\nq27 = 8-index;\\nq28 = .5 + sin(time/7)/10;\\n\\nrm = min(q26-1.5*ava,2);\\nmov = is_beat*rm + (1-is_beat)*mov;\\n\\nmovez = movez + .4/fps*mov;\\nq30 = movez;\\n//**************************\\n\\nampl = q26/8;\\n\\nmovex = movex + .2/fps*sin(rott);\\nmovey = movey + .2/fps*cos(rott);\\n\\nq18 = movex; q19 = movey;\\ntrel = trel + 1/fps + q24;\\nq17 = 2*sin(trel/4);","pixel_eqs_eel":"","warp":" shader_body { \\n  vec2 uv_1;\\n  vec2 uv6_2;\\n  vec2 tmpvar_3;\\n  tmpvar_3 = ((uv - 0.5) * aspect.xy);\\n  float tmpvar_4;\\n  tmpvar_4 = (((q28 * 2.0) * sqrt(\\n    dot (tmpvar_3, tmpvar_3)\\n  )) + (rand_frame * 64.0)).x;\\n  uv_1 = (uv + (clamp (\\n    ((sin(tmpvar_4) / cos(tmpvar_4)) * normalize(tmpvar_3))\\n  , vec2(-16.0, -16.0), vec2(16.0, 16.0)) / 20.0));\\n  uv6_2 = (0.4 * sin((tmpvar_3 * 12.0)));\\n  vec4 tmpvar_5;\\n  tmpvar_5.w = 1.0;\\n  tmpvar_5.xyz = (((q24 * \\n    (((texture (sampler_main, uv_1).xyz - (\\n      ((texture (sampler_blur1, fract(uv_1)).xyz * scale1) + bias1)\\n     * 0.04)) + (0.15 * (vec3(\\n      (0.1 / sqrt(dot (uv6_2, uv6_2)))\\n    ) * roam_cos.xyz))) - 0.04)\\n  ) * 0.98) + ((1.0 - q24) * texture (sampler_main, uv_orig).xyz));\\n  ret = tmpvar_5.xyz;\\n }","comp":"vec3 xlat_mutableneu;\\nvec3 xlat_mutableret1;\\nvec2 xlat_mutablers2;\\n shader_body { \\n  vec2 uv_1;\\n  float inten_3;\\n  float dist_4;\\n  float ang2_5;\\n  vec2 uv2_6;\\n  uv_1 = (uv - 0.5);\\n  uv_1 = (uv_1 * aspect.xy);\\n  dist_4 = 1.0;\\n  inten_3 = 1.0;\\n  xlat_mutableret1 = vec3(0.0, 0.0, 0.0);\\n  for (float n_2 = 0.0; n_2 <= 4.0; n_2 += 1.0) {\\n    vec2 uv3_7;\\n    ang2_5 = ((6.28 * n_2) / 4.0);\\n    float tmpvar_8;\\n    tmpvar_8 = cos(ang2_5);\\n    float tmpvar_9;\\n    tmpvar_9 = sin(ang2_5);\\n    uv2_6.x = ((uv_1.x * tmpvar_8) - (uv_1.y * tmpvar_9));\\n    uv2_6.y = ((uv_1.x * tmpvar_9) + (uv_1.y * tmpvar_8));\\n    uv2_6 = (uv2_6 * aspect.yx);\\n    dist_4 = (1.0 - fract((\\n      (0.25 * n_2)\\n     + q30)));\\n    inten_3 = ((sqrt(dist_4) * (1.0 - dist_4)) * 4.0);\\n    vec2 tmpvar_10;\\n    tmpvar_10.x = tmpvar_8;\\n    tmpvar_10.y = tmpvar_9;\\n    uv3_7 = (fract((\\n      ((3.0 * uv2_6) * dist_4)\\n     + \\n      (0.3 * q27)\\n    )) + (q17 * tmpvar_10));\\n    xlat_mutableneu = (texture (sampler_main, uv3_7).xyz - ((texture (sampler_blur2, \\n      ((uv3_7 * 1.02) * q1)\\n    ).xyz * scale2) + bias2));\\n    xlat_mutableneu = (xlat_mutableneu * vec3(greaterThanEqual (xlat_mutableneu, vec3(0.0, 0.0, 0.0))));\\n    xlat_mutableret1 = max (xlat_mutableret1, (xlat_mutableneu * inten_3));\\n  };\\n  xlat_mutablers2 = ((0.4 * cos(\\n    ((uv_1 * 13.0) + time)\\n  )) - dot (xlat_mutableret1, vec3(0.32, 0.49, 0.29)));\\n  vec4 tmpvar_11;\\n  tmpvar_11.w = 1.0;\\n  tmpvar_11.xyz = (xlat_mutableret1 + ((\\n    ((0.05 / sqrt(dot (xlat_mutablers2, xlat_mutablers2))) * q26)\\n   / 4.0) * hue_shader));\\n  ret = tmpvar_11.xyz;\\n }"}') }, "./presets/converted/Martin - charisma.json": e => { e.exports = JSON.parse('{"version":2,"baseVals":{"rating":0,"gammaadj":1.980001,"decay":0.5,"echo_zoom":0.999998,"echo_alpha":0.5,"echo_orient":3,"wave_mode":4,"additivewave":1,"wave_dots":1,"modwavealphabyvolume":1,"darken":1,"wave_a":0.33064,"wave_scale":0.897961,"wave_smoothing":0.108,"wave_mystery":0.1,"modwavealphastart":0.72,"modwavealphaend":1.28,"warpanimspeed":1.4595,"warpscale":2.0067,"zoom":0.9999,"warp":0.01,"sx":0.9999,"wave_r":0,"wave_g":0.5,"wave_b":0.5,"wave_y":0.54,"ob_r":1,"ob_g":1,"ob_b":1,"ib_size":0.26,"mv_x":24.799994,"mv_dy":0.16,"mv_l":1.5,"mv_a":0,"b1ed":0},"shapes":[{"baseVals":{"sides":3,"rad":0.312746,"tex_zoom":0.179142,"r":0.82,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"xy=0.5+rand_frame;"},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""}],"waves":[{"baseVals":{"enabled":1,"samples":352,"usedots":1,"additive":1,"scaling":0.038558,"smoothing":0.2,"g":0},"init_eqs_eel":"","frame_eqs_eel":"q1=bass_att;","point_eqs_eel":"r = abs (sin (frame /38));\\ng = 0.5*abs (cos (frame /45));\\nb = 0.5*abs (sin (frame / 133));\\na = 0.3;\\nt02 = t02 + q1/10;\\nratio = sin (frame/49);\\n\\nampl = 0.01+0.4*sqr(sin ((frame ) / 18)* cos (frame / 123));\\n\\nx1 = (r-0.5)/15 +0.5 + ampl* sin (sample*6.28);\\ny1 = (b-0.5)/15+0.5 + ampl* cos (sample*6.28);\\n\\nx =  x1+1*0.2*(ampl+ratio )*sin ( sample*6.28 * ratio*7.3);\\ny =  y1+1*0.2*(ampl+ratio )*cos ( sample*6.28*6);\\n"},{"baseVals":{"samples":15,"scaling":2.063781,"smoothing":0.8,"r":0.8,"g":0,"b":0.6,"a":0.9,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"samples":112,"additive":1,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""}],"init_eqs_eel":"clear = 0.5;","frame_eqs_eel":"dec_med = pow (0.96, 30/fps);\\ndec_slow = pow (0.99, 30/fps);\\nbeat = max (max (bass, mid), treb); \\navg = avg*dec_slow + beat*(1-dec_slow);\\nis_beat = above(beat, .2+avg+peak) * above (time, t0+.2);\\nt0 = is_beat*time + (1-is_beat)*t0;\\npeak = is_beat * beat + (1-is_beat)*peak*dec_med;\\nindex = (index + is_beat) %4;\\nindex2 = (index2 + is_beat*bnot(index))%8;\\nindex3 = (index3 + is_beat*bnot(index)*bnot(index2))%3;\\n\\n\\nq20 = avg;\\nq21 = beat;\\nq22 = peak;\\nq23 = index;\\nq24 = is_beat;\\nq26 = bass + mid + treb;\\n\\n//k1 =  is_beat*bnot(index)*bnot(index2);\\n\\nk1 =  is_beat*equal(index,0);\\np1 =  k1*(p1+1) + (1-k1)*p1;\\np2 = dec_med * p2+ (1-dec_med)*p1;\\np3 = dec_med * p3+ (1-dec_med)*p2;\\nrott = p3*3.1416/4;\\n\\nrot1 = rot1 + q26;\\nq25 = .01*rot1;\\n\\nq27 = 8-index;\\nq28 = index3;\\n\\ndx1 = dec_med*dx1 + (1-dec_med)*bnot(index2);\\nq29 = dx1;\\nmonitor = q29;\\n\\nq1 = cos(rott);\\nq2 = sin(rott);\\nq3 = -q2;\\nq4 = q1;\\n\\n\\nq5 = 1.5*cos(time/9);\\nq6 = .5*sin(time/7);\\n\\nclear = clear *dec_med + 1-dec_med;\\nq32 = clear;\\n\\nmov = bnot(q24)*movex + (rand(100)/100-50)*q2;\\nmovex = movex + .2/fps *q2;\\nq18 = movex;","pixel_eqs_eel":"","warp":" shader_body { \\n  vec2 uv6_1;\\n  vec2 tmpvar_2;\\n  tmpvar_2 = ((uv - 0.5) * aspect.xy);\\n  float tmpvar_3;\\n  tmpvar_3 = (rand_frame * 64.0).x;\\n  uv6_1 = (0.5 * cos((\\n    ((tmpvar_2 * mat2(0.7, -0.7, 0.7, 0.7)) * 17.0)\\n   + \\n    (rand_frame * 6.0)\\n  .xy)));\\n  float x_4;\\n  x_4 = (uv6_1.x + uv6_1.y);\\n  vec4 tmpvar_5;\\n  tmpvar_5.w = 1.0;\\n  tmpvar_5.xyz = ((0.147 * (\\n    (texture (sampler_main, (uv + clamp ((\\n      (sin(tmpvar_3) / cos(tmpvar_3))\\n     * \\n      normalize(tmpvar_2)\\n    ), vec2(-8.0, -8.0), vec2(8.0, 8.0)))).xyz + (0.15 * (vec3((0.01 / \\n      sqrt((x_4 * x_4))\\n    )) * roam_cos.xyz)))\\n   - 0.02)) + ((0.85 * \\n    (texture (sampler_main, uv_orig).xyz - 0.002)\\n  ) * q32));\\n  ret = tmpvar_5.xyz;\\n }","comp":"vec2 xlat_mutabledz;\\nvec3 xlat_mutableret1;\\nvec2 xlat_mutableuv3;\\nvec2 xlat_mutableuv4;\\n shader_body { \\n  vec2 uv_1;\\n  float inten_2;\\n  float dist_3;\\n  vec3 ret_4;\\n  uv_1 = (uv - 0.5);\\n  float tmpvar_5;\\n  tmpvar_5 = (time / 2.0);\\n  dist_3 = (1.0 - fract(tmpvar_5));\\n  inten_2 = ((sqrt(dist_3) * (1.0 - dist_3)) * 2.0);\\n  vec2 tmpvar_6;\\n  tmpvar_6.y = 0.4;\\n  tmpvar_6.x = q18;\\n  xlat_mutableuv3 = (((2.0 * uv_1) * dist_3) + tmpvar_6);\\n  vec2 tmpvar_7;\\n  tmpvar_7.y = 0.0;\\n  tmpvar_7.x = texsize.z;\\n  vec2 tmpvar_8;\\n  tmpvar_8.y = 0.0;\\n  tmpvar_8.x = texsize.z;\\n  xlat_mutabledz.x = (inten_2 * dot ((texture (sampler_main, \\n    (xlat_mutableuv3 + tmpvar_7)\\n  ).xyz - texture (sampler_main, \\n    (xlat_mutableuv3 - tmpvar_8)\\n  ).xyz), vec3(0.32, 0.49, 0.29)));\\n  vec2 tmpvar_9;\\n  tmpvar_9.x = 0.0;\\n  tmpvar_9.y = texsize.w;\\n  vec2 tmpvar_10;\\n  tmpvar_10.x = 0.0;\\n  tmpvar_10.y = texsize.w;\\n  xlat_mutabledz.y = (inten_2 * dot ((texture (sampler_main, \\n    (xlat_mutableuv3 + tmpvar_9)\\n  ).xyz - texture (sampler_main, \\n    (xlat_mutableuv3 - tmpvar_10)\\n  ).xyz), vec3(0.32, 0.49, 0.29)));\\n  xlat_mutableret1 = max (vec3(0.0, 0.0, 0.0), (texture (sampler_main, xlat_mutableuv3).xyz * inten_2));\\n  dist_3 = (1.0 - fract((0.3333333 + tmpvar_5)));\\n  inten_2 = ((sqrt(dist_3) * (1.0 - dist_3)) * 2.0);\\n  vec2 tmpvar_11;\\n  tmpvar_11.y = 0.4;\\n  tmpvar_11.x = q18;\\n  xlat_mutableuv3 = (((2.0 * uv_1) * dist_3) + tmpvar_11);\\n  vec2 tmpvar_12;\\n  tmpvar_12.y = 0.0;\\n  tmpvar_12.x = texsize.z;\\n  vec2 tmpvar_13;\\n  tmpvar_13.y = 0.0;\\n  tmpvar_13.x = texsize.z;\\n  xlat_mutabledz.x = (xlat_mutabledz.x + (inten_2 * dot (\\n    (texture (sampler_main, (xlat_mutableuv3 + tmpvar_12)).xyz - texture (sampler_main, (xlat_mutableuv3 - tmpvar_13)).xyz)\\n  , vec3(0.32, 0.49, 0.29))));\\n  vec2 tmpvar_14;\\n  tmpvar_14.x = 0.0;\\n  tmpvar_14.y = texsize.w;\\n  vec2 tmpvar_15;\\n  tmpvar_15.x = 0.0;\\n  tmpvar_15.y = texsize.w;\\n  xlat_mutabledz.y = (xlat_mutabledz.y + (inten_2 * dot (\\n    (texture (sampler_main, (xlat_mutableuv3 + tmpvar_14)).xyz - texture (sampler_main, (xlat_mutableuv3 - tmpvar_15)).xyz)\\n  , vec3(0.32, 0.49, 0.29))));\\n  xlat_mutableret1 = max (xlat_mutableret1, (texture (sampler_main, xlat_mutableuv3).xyz * inten_2));\\n  dist_3 = (1.0 - fract((0.6666667 + tmpvar_5)));\\n  inten_2 = ((sqrt(dist_3) * (1.0 - dist_3)) * 2.0);\\n  vec2 tmpvar_16;\\n  tmpvar_16.y = 0.4;\\n  tmpvar_16.x = q18;\\n  xlat_mutableuv3 = (((2.0 * uv_1) * dist_3) + tmpvar_16);\\n  vec2 tmpvar_17;\\n  tmpvar_17.y = 0.0;\\n  tmpvar_17.x = texsize.z;\\n  vec2 tmpvar_18;\\n  tmpvar_18.y = 0.0;\\n  tmpvar_18.x = texsize.z;\\n  xlat_mutabledz.x = (xlat_mutabledz.x + (inten_2 * dot (\\n    (texture (sampler_main, (xlat_mutableuv3 + tmpvar_17)).xyz - texture (sampler_main, (xlat_mutableuv3 - tmpvar_18)).xyz)\\n  , vec3(0.32, 0.49, 0.29))));\\n  vec2 tmpvar_19;\\n  tmpvar_19.x = 0.0;\\n  tmpvar_19.y = texsize.w;\\n  vec2 tmpvar_20;\\n  tmpvar_20.x = 0.0;\\n  tmpvar_20.y = texsize.w;\\n  xlat_mutabledz.y = (xlat_mutabledz.y + (inten_2 * dot (\\n    (texture (sampler_main, (xlat_mutableuv3 + tmpvar_19)).xyz - texture (sampler_main, (xlat_mutableuv3 - tmpvar_20)).xyz)\\n  , vec3(0.32, 0.49, 0.29))));\\n  xlat_mutableret1 = max (xlat_mutableret1, (texture (sampler_main, xlat_mutableuv3).xyz * inten_2));\\n  dist_3 = (1.0 - fract((1.0 + tmpvar_5)));\\n  inten_2 = ((sqrt(dist_3) * (1.0 - dist_3)) * 2.0);\\n  vec2 tmpvar_21;\\n  tmpvar_21.y = 0.4;\\n  tmpvar_21.x = q18;\\n  xlat_mutableuv3 = (((2.0 * uv_1) * dist_3) + tmpvar_21);\\n  vec2 tmpvar_22;\\n  tmpvar_22.y = 0.0;\\n  tmpvar_22.x = texsize.z;\\n  vec2 tmpvar_23;\\n  tmpvar_23.y = 0.0;\\n  tmpvar_23.x = texsize.z;\\n  xlat_mutabledz.x = (xlat_mutabledz.x + (inten_2 * dot (\\n    (texture (sampler_main, (xlat_mutableuv3 + tmpvar_22)).xyz - texture (sampler_main, (xlat_mutableuv3 - tmpvar_23)).xyz)\\n  , vec3(0.32, 0.49, 0.29))));\\n  vec2 tmpvar_24;\\n  tmpvar_24.x = 0.0;\\n  tmpvar_24.y = texsize.w;\\n  vec2 tmpvar_25;\\n  tmpvar_25.x = 0.0;\\n  tmpvar_25.y = texsize.w;\\n  xlat_mutabledz.y = (xlat_mutabledz.y + (inten_2 * dot (\\n    (texture (sampler_main, (xlat_mutableuv3 + tmpvar_24)).xyz - texture (sampler_main, (xlat_mutableuv3 - tmpvar_25)).xyz)\\n  , vec3(0.32, 0.49, 0.29))));\\n  xlat_mutableret1 = max (xlat_mutableret1, (texture (sampler_main, xlat_mutableuv3).xyz * inten_2));\\n  uv_1 = (uv_1 + xlat_mutabledz);\\n  vec2 tmpvar_26;\\n  tmpvar_26.x = q5;\\n  tmpvar_26.y = q6;\\n  xlat_mutableuv4 = (uv_1 - (0.4 * tmpvar_26));\\n  float tmpvar_27;\\n  tmpvar_27 = (0.1 * clamp ((1.0/(\\n    (abs(uv_1.y) + 0.1)\\n  )), 0.0, 12.0));\\n  vec2 tmpvar_28;\\n  tmpvar_28.x = (uv_1.x * tmpvar_27);\\n  tmpvar_28.y = tmpvar_27;\\n  vec3 tmpvar_29;\\n  tmpvar_29.xy = vec2(0.0, 0.0);\\n  tmpvar_29.z = clamp ((1.0 - (3.0 * uv_1.y)), 0.0, 1.0);\\n  ret_4 = (vec3(0.0, 0.1, 0.1) + (0.1 * tmpvar_29));\\n  ret_4 = (ret_4 + (vec3(dot (texture (sampler_noise_hq, \\n    (tmpvar_28 + (0.1 * time))\\n  ), vec4(0.32, 0.49, 0.29, 0.0))) * (\\n    (clamp ((1.0 - (12.0 * uv_1.y)), 0.0, 1.0) * 0.1)\\n   / \\n    (0.05 + sqrt(dot (xlat_mutableuv4, xlat_mutableuv4)))\\n  )));\\n  ret_4 = (ret_4 + ((0.4 * xlat_mutableret1) + (xlat_mutableret1 * q22)));\\n  vec4 tmpvar_30;\\n  tmpvar_30.w = 1.0;\\n  tmpvar_30.xyz = ret_4;\\n  ret = tmpvar_30.xyz;\\n }"}') }, "./presets/converted/Martin - liquid arrows.json": e => { e.exports = JSON.parse('{"version":2,"baseVals":{"rating":5,"gammaadj":1.780001,"decay":0.5,"echo_zoom":0.999998,"echo_alpha":0.5,"echo_orient":3,"wave_mode":5,"wave_dots":1,"wave_thick":1,"wave_brighten":0,"darken":1,"wave_a":0.001,"wave_scale":5.552,"wave_smoothing":0.504,"wave_mystery":-1,"modwavealphastart":0.71,"modwavealphaend":1.3,"warpanimspeed":1.4595,"warpscale":2.0067,"zoom":0.9999,"warp":0.01,"sx":0.9999,"wave_g":0,"wave_b":0,"ob_size":0.06,"ob_r":1,"ob_g":1,"ob_b":1,"ib_size":0.26,"mv_x":64,"mv_y":48,"mv_l":0.85,"mv_r":0.5,"mv_g":0.5,"mv_b":0.5,"mv_a":0,"b1x":0.6999,"b1ed":0},"shapes":[{"baseVals":{"sides":100,"textured":1,"y":0.9,"rad":0.15493,"tex_zoom":0.77977,"g":1,"b":1,"r2":1,"b2":1,"a2":1,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"sides":5,"textured":1,"rad":0.986,"tex_ang":3.14159,"tex_zoom":0.99979,"g":1,"b":1,"r2":1,"b2":1,"a2":1,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"ang =sin(time/65) ;// ang + (bass*.2) + (time*.4);"},{"baseVals":{"enabled":1,"sides":5,"additive":1,"x":0.9,"rad":0.22613,"g":0.6,"g2":0,"border_a":0},"init_eqs_eel":"","frame_eqs_eel":"x = 0.05 + rand(900)/1000;\\ny = 0.05 + rand(900)/1000;\\nang = rand(320)/100;\\n "},{"baseVals":{"sides":36,"additive":1,"rad":0.18717,"r":0,"g":0.12,"g2":0,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""}],"waves":[{"baseVals":{"spectrum":1,"usedots":1,"additive":1,"scaling":0.5033,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""}],"init_eqs_eel":"index4 = rand(2);\\nindex3 = rand(4);","frame_eqs_eel":"dec_med = pow (0.9, 30/fps);\\ndec_slow = pow (0.99, 30/fps);\\nbeat = max (max (bass, mid), treb); \\navg = avg*dec_slow + beat*(1-dec_slow);\\nis_beat = above(beat, .5+avg+peak) * above (time, t0+.2);\\nt0 = is_beat*time + (1-is_beat)*t0;\\npeak = is_beat * beat + (1-is_beat)*peak*dec_med;\\nindex = (index + is_beat) %4;\\nindex2 = (index2 + is_beat*bnot(index))%4;\\nindex3 = (index3 + is_beat*bnot(index)*bnot(index2))%4;\\nindex4 = (index4 + is_beat*bnot(index)*bnot(index2)*bnot(index3))%2;\\n\\n\\nq20 = avg;\\nq21 = beat;\\nq22 = peak;\\nq23 = index;\\nq24 = is_beat;\\nq26 = bass + mid + treb;\\n\\nready = is_beat * bnot(ready) + bnot(is_beat2)*ready;\\nis_beat2 = ready * above (time, t0+.2);\\nq19 = is_beat2;\\n\\n//k1 =  is_beat*bnot(index)*bnot(index2);\\n\\nk1 =  is_beat*equal(index,0);\\np1 =  k1*(p1+1) + (1-k1)*p1;\\np2 = dec_med * p2+ (1-dec_med)*p1;\\nrott = p2 * 3.14159265359/2;\\n\\nq27 = index+1;\\nq28 = index2+1;\\nq29 = index3*4+1;\\nq30 = index4;\\n\\nq1 = cos(rott);\\nq2 = sin(rott);\\nq3 = -q2;\\nq4 = q1;\\n\\nsp0 = dec_slow*sp0 + (q24+.05)*(1-dec_slow);\\ngo = go * dec_med + (1-dec_med)*(1-bnot(index2+index3));\\nmovez = movez + .015*30/fps * go ;\\nq31 = movez;\\nq32 = .5 + .02*sin(time/5);\\n\\nq5 = index4%2;\\n\\nzoom = 1.0; rot = 0;\\n\\ndx = .05*max(sin(time/9.7)-.95,0);\\ndy = .002*(1-go);\\nrot = 50*(dx-dy);","pixel_eqs_eel":"","warp":" shader_body { \\n  vec2 tmpvar_1;\\n  tmpvar_1 = ((uv * texsize.xy) * 0.03);\\n  vec2 tmpvar_2;\\n  tmpvar_2.x = (cos((tmpvar_1.y * q1)) * sin(-(tmpvar_1.y)));\\n  tmpvar_2.y = (sin(tmpvar_1.x) * cos((tmpvar_1.y * q2)));\\n  vec4 tmpvar_3;\\n  tmpvar_3.w = 1.0;\\n  tmpvar_3.xyz = ((texture (sampler_main, (uv - \\n    ((tmpvar_2 * texsize.zw) * 18.0)\\n  )).xyz * 0.99) - 0.01);\\n  ret = tmpvar_3.xyz;\\n }","comp":" shader_body { \\n  vec2 uv1_1;\\n  vec3 tmpvar_2;\\n  tmpvar_2 = texture (sampler_main, uv).xyz;\\n  vec2 tmpvar_3;\\n  tmpvar_3.x = (texture (sampler_main, (uv - vec2(0.001, 0.0))).xyz - texture (sampler_main, (uv + vec2(0.001, 0.0))).xyz).x;\\n  tmpvar_3.y = (texture (sampler_main, (uv - vec2(0.0, 0.001))).xyz - texture (sampler_main, (uv + vec2(0.0, 0.001))).xyz).x;\\n  uv1_1 = ((0.3 * cos(\\n    ((uv - 0.5) + 1.8)\\n  )) - (2.0 * tmpvar_3));\\n  vec4 tmpvar_4;\\n  tmpvar_4.w = 1.0;\\n  tmpvar_4.xyz = (0.8 * ((0.3 * \\n    dot (tmpvar_2, vec3(0.32, 0.49, 0.29))\\n  ) + (\\n    (22.0 * clamp ((0.01 / sqrt(\\n      dot (uv1_1, uv1_1)\\n    )), 0.0, 1.0))\\n   * \\n    (tmpvar_2 + 0.1)\\n  )));\\n  ret = tmpvar_4.xyz;\\n }"}') }, "./presets/converted/Milk Artist At our Best - FED - SlowFast Ft AdamFX n Martin - HD CosmoFX.json": e => { e.exports = JSON.parse('{"version":2,"baseVals":{"rating":3,"wave_mode":4,"additivewave":1,"wave_dots":1,"modwavealphabyvolume":1,"wave_a":0.331,"wave_scale":0.898,"wave_smoothing":0.108,"wave_mystery":0.1,"modwavealphastart":0.72,"modwavealphaend":1.28,"zoom":1.3345,"wave_r":0,"wave_g":0.5,"wave_b":0.5,"wave_y":0.54,"mv_x":24.8,"mv_dy":0.16,"mv_l":1.5,"mv_a":0},"shapes":[{"baseVals":{"sides":3,"rad":0.31275,"tex_zoom":0.17914,"r":0.82,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"xy=0.5+rand_frame;"},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""}],"waves":[{"baseVals":{"enabled":1,"samples":352,"usedots":1,"additive":1,"scaling":0.03856,"smoothing":0.2,"g":0},"init_eqs_eel":"","frame_eqs_eel":"q1=bass_att;","point_eqs_eel":"r = abs (sin (frame /38));\\ng = 0.5*abs (cos (frame /45));\\nb = 0.5*abs (sin (frame / 133));\\na = 0.3;\\nt02 = t02 + q1/10;\\nratio = sin (frame/49);\\n\\nampl = 0.01+0.4*sqr(sin ((frame ) / 18)* cos (frame / 123));\\n\\nx1 = (r-0.5)/15 +0.5 + ampl* sin (sample*6.28);\\ny1 = (b-0.5)/15+0.5 + ampl* cos (sample*6.28);\\n\\nx =  x1+1*0.2*(ampl+ratio )*sin ( sample*6.28 * ratio*7.3);\\ny =  y1+1*0.2*(ampl+ratio )*cos ( sample*6.28*6);\\n"},{"baseVals":{"samples":15,"scaling":2.06378,"smoothing":0.8,"r":0.8,"g":0,"b":0.6,"a":0.9,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"samples":112,"additive":1,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""}],"init_eqs_eel":"","frame_eqs_eel":"dx=0;\\noldshift=shift;\\nnormalframez=normalframez+1;\\nshift=above(bass_att,1)*above(treb_att,0.9);\\ncrash=abs(oldshift-shift);\\nnex=equal(rshift,0)*1+equal(rshift,1)*2;\\nrshift=if(crash,nex,rshift);\\nmonitor=rshift;\\nwave_r=int(rand(200))/200;\\nwave_g=int(rand(200))/200;\\nwave_b=int(rand(200))/200;\\nwarp=0;\\nq1=above(bass_att,1.3);\\nzoom1=zoom+0.15-0.3*(normalframez%2);\\nzoom=if(shift,zoom1,1);\\nrot=rot-0.1+rshift*0.1;","pixel_eqs_eel":"dy=-below(y,0.4)*0.007+above(y,0.6)*0.007;","warp":" shader_body { \\n  vec4 tmpvar_1;\\n  tmpvar_1.w = 1.0;\\n  tmpvar_1.xyz = ((texture (sampler_main, (uv_orig + \\n    ((uv - uv_orig) * dot (texture (sampler_main, uv).xyz, vec3(0.32, 0.49, 0.29)))\\n  )).xyz * 0.99) - 0.002);\\n  ret = tmpvar_1.xyz;\\n }","comp":" shader_body { \\n  vec3 ret_1;\\n  ret_1 = (texture (sampler_main, uv).xyz * 2.0);\\n  ret_1 = (ret_1 * (1.0 - ret_1));\\n  ret_1 = (((1.0 - \\n    pow (clamp (ret_1, 0.0, 1.0), vec3(0.5, 0.5, 0.5))\\n  ) * 1.5) - 0.75);\\n  vec4 tmpvar_2;\\n  tmpvar_2.w = 1.0;\\n  tmpvar_2.xyz = ret_1;\\n  ret = tmpvar_2.xyz;\\n }"}') }, "./presets/converted/MilkDrop2077.R002.json": e => { e.exports = JSON.parse('{"version":2,"baseVals":{"rating":3,"decay":0.975,"echo_zoom":1,"echo_alpha":0.5,"echo_orient":2,"wave_dots":1,"wave_thick":1,"modwavealphabyvolume":1,"wave_brighten":0,"wave_a":100,"wave_scale":27.455,"wave_smoothing":0.5,"wave_mystery":-1,"modwavealphastart":0.4,"modwavealphaend":1,"warpscale":1.772,"zoomexp":1.001,"zoom":1.007,"warp":0,"mv_y":8.64,"mv_l":1.455,"mv_r":0,"mv_g":0,"mv_b":0,"mv_a":0},"shapes":[{"baseVals":{"enabled":1,"sides":100,"x":0.455,"rad":0.43233,"r":0.5,"g":0.5,"r2":0.57,"g2":0,"border_b":0.5,"border_a":0},"init_eqs_eel":"","frame_eqs_eel":"sounds=(bass+treb+mid)/3;\\n\\nrad=rad*sounds*0.6;\\n\\nr=r+sin(bass)*g;\\ng=g+sin(mid)*g;\\n\\n\\nx=x+0.207*cos(time*bass*0.1);\\ny=y+0.2029*sin(time*bass*0.09);"},{"baseVals":{"enabled":1,"sides":100,"rad":0.13465,"tex_zoom":0.91,"r2":1,"a2":0.318,"border_a":0},"init_eqs_eel":"","frame_eqs_eel":"\\ng2=g2+0.09*sin((treb+mid)*1.23);\\ng=g+0.09*cos((bass+mid)*1.37);\\n\\nsounds=(bass+mid+treb)/3;\\n\\nrad=rad*(treb+mid)/3;\\n\\nx=x+0.300*sin(time*bass);\\ny=y+0.317*cos(time*bass);"},{"baseVals":{"enabled":1,"sides":100,"rad":0.20047,"g":1,"b":1,"r2":0.5,"g2":0.445,"b2":0.94,"border_b":0.5,"border_a":0},"init_eqs_eel":"","frame_eqs_eel":"sounds=(bass+treb+mid)/3;\\natt=(bass_att+treb_att+mid_att)/3;\\natt=(bass_att+treb_att+mid_att)/3;\\nr2=r2+(0.25*sin(time*6.28))-bass;\\ng2=g2+(0.25*sin(time*6.28))-bass;\\n\\nrad=rad;\\nx=x+0.243*cos(time*2.3)+sounds*0.09;\\ny=y+0.217*sin((time*3.5)+(sounds*0.3));"},{"baseVals":{"x":0.475,"border_g":0.9,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""}],"waves":[{"baseVals":{"sep":256,"scaling":20.35074,"smoothing":0.435,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"r=r+0.5*sin(treb*1.13);\\ng=g+0.5*sin(bass*1.33);\\nb=b+0.5*sin(mid*1.23);","point_eqs_eel":""},{"baseVals":{"sep":256,"usedots":1,"scaling":100,"smoothing":0.51,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"scaling":0.91,"smoothing":0.45,"b":0.91,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"scaling":1.08,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""}],"init_eqs_eel":"","frame_eqs_eel":"wave_x = wave_x + 0.2*( 0.60*sin(2.121*time) + 0.5*sin(1.621*time) );\\nwave_y = wave_y + 0.2*( 0.60*sin(1.742*time) + 0.5*sin(2.322*time) );\\nwave_r = wave_r + 0.200*( 0.60*sin(0.823*time) + 0.40*sin(0.916*time) );\\nwave_g = wave_g + 0.500*( 0.60*sin(0.900*time) + 0.40*sin(1.023*time) );\\nwave_b = wave_b + 0.500*( 0.60*sin(0.808*time) + 0.40*sin(0.949*time) );","pixel_eqs_eel":"zoom = zoom + 0.01 * ( sin(2*cos(3*(sqrt(2)-rad)*ang)) + 1 );","warp":" shader_body { \\n  vec2 my_uv_1;\\n  vec2 d_2;\\n  vec3 ret_3;\\n  vec2 tmpvar_4;\\n  tmpvar_4 = (texsize.zw * 4.0);\\n  vec3 tmpvar_5;\\n  tmpvar_5 = (((texture (sampler_blur1, \\n    fract((uv + (vec2(1.0, 0.0) * tmpvar_4)))\\n  ).xyz * scale1) + bias1) - ((texture (sampler_blur1, \\n    fract((uv - (vec2(1.0, 0.0) * tmpvar_4)))\\n  ).xyz * scale1) + bias1));\\n  vec3 tmpvar_6;\\n  tmpvar_6 = (((texture (sampler_blur1, \\n    fract((uv + (vec2(0.0, 1.0) * tmpvar_4)))\\n  ).xyz * scale1) + bias1) - ((texture (sampler_blur1, \\n    fract((uv - (vec2(0.0, 1.0) * tmpvar_4)))\\n  ).xyz * scale1) + bias1));\\n  vec3 tmpvar_7;\\n  tmpvar_7 = ((texture (sampler_blur1, uv).xyz * scale1) + bias1);\\n  d_2 = -(tmpvar_4);\\n  float tmpvar_8;\\n  tmpvar_8 = (d_2 * 4.0).x;\\n  vec2 tmpvar_9;\\n  tmpvar_9.x = tmpvar_5.y;\\n  tmpvar_9.y = tmpvar_6.y;\\n  vec2 tmpvar_10;\\n  tmpvar_10.x = tmpvar_5.x;\\n  tmpvar_10.y = tmpvar_6.x;\\n  vec2 tmpvar_11;\\n  tmpvar_11 = ((uv - (tmpvar_9 * d_2)) - (tmpvar_10 * tmpvar_8));\\n  ret_3.y = texture (sampler_fc_main, (tmpvar_11 - floor(tmpvar_11))).y;\\n  ret_3.y = (ret_3.y + ((\\n    (ret_3.y - tmpvar_7.y)\\n   * 0.042) + -0.0075));\\n  vec2 tmpvar_12;\\n  tmpvar_12.x = tmpvar_5.x;\\n  tmpvar_12.y = tmpvar_6.x;\\n  vec2 tmpvar_13;\\n  tmpvar_13.x = tmpvar_5.z;\\n  tmpvar_13.y = tmpvar_6.z;\\n  my_uv_1 = ((uv - (tmpvar_12 * d_2)) - (tmpvar_13 * tmpvar_8));\\n  ret_3.x = texture (sampler_fc_main, (my_uv_1 - floor(my_uv_1))).x;\\n  ret_3.x = (ret_3.x + ((\\n    (ret_3.x - tmpvar_7.x)\\n   * 0.042) + -0.0075));\\n  vec2 tmpvar_14;\\n  tmpvar_14.x = tmpvar_5.z;\\n  tmpvar_14.y = tmpvar_6.z;\\n  vec2 tmpvar_15;\\n  tmpvar_15.x = tmpvar_5.y;\\n  tmpvar_15.y = tmpvar_6.y;\\n  my_uv_1 = ((uv - (tmpvar_14 * d_2)) - (tmpvar_15 * tmpvar_8));\\n  ret_3.z = texture (sampler_fc_main, (my_uv_1 - floor(my_uv_1))).z;\\n  ret_3.z = (ret_3.z + ((\\n    (ret_3.z - tmpvar_7.z)\\n   * 0.042) + -0.0075));\\n  vec4 tmpvar_16;\\n  tmpvar_16 = texture (sampler_noisevol_hq, (((vec3(0.04, 0.02, 0.02) * my_uv_1.xyy) * (\\n    (q27 * texsize.xyy)\\n   * texsize_noisevol_hq.zww)) + ((time * vec3(2.3, 2.3, 1.8)) * q29)));\\n  if (((ret_3.x > (q21 * q13)) && (ret_3.x <= (q24 * q11)))) {\\n    ret_3.y = (ret_3.y - (tmpvar_16.x * 0.5));\\n  };\\n  if (((ret_3.y > (q22 * q11)) && (ret_3.y <= (q25 * q12)))) {\\n    ret_3.z = (ret_3.z - (tmpvar_16.y * 0.5));\\n  };\\n  if (((ret_3.z > (q23 * q12)) && (ret_3.z <= (q26 * q13)))) {\\n    ret_3.x = (ret_3.x - (tmpvar_16.z * 0.5));\\n  };\\n  vec4 tmpvar_17;\\n  tmpvar_17.w = 1.0;\\n  tmpvar_17.xyz = ret_3;\\n  ret = tmpvar_17.xyz;\\n }","comp":" shader_body { \\n  vec3 ret_1;\\n  vec4 tmpvar_2;\\n  tmpvar_2 = texture (sampler_main, uv);\\n  ret_1 = (((vec3(2.8, 2.8, 1.2) * tmpvar_2.x) + (vec3(2.0, 0.4, 2.0) * tmpvar_2.y)) + (vec3(0.1, 1.3, 1.2) * tmpvar_2.z));\\n  ret_1 = (ret_1 * 0.37);\\n  ret_1 = ((ret_1 * ret_1) * (1.0 + (\\n    clamp (((cos(\\n      (((dot (tmpvar_2.xyz, vec3(0.32, 0.49, 0.29)) * 17.0) + 3.0) + (uv.x * 30.0))\\n    ) * 3.0) - 2.7), 0.0, 1.0)\\n   * 4.0)));\\n  vec4 tmpvar_3;\\n  tmpvar_3.w = 1.0;\\n  tmpvar_3.xyz = ret_1;\\n  ret = tmpvar_3.xyz;\\n }"}') }, "./presets/converted/MilkDrop2077.R033.json": e => { e.exports = JSON.parse('{"version":2,"baseVals":{"rating":1,"gammaadj":2.7,"decay":0.715,"wrap":0,"solarize":1,"wave_a":0.001,"modwavealphastart":0.848,"warpanimspeed":2.472,"warpscale":3.209,"zoomexp":1.0018,"zoom":1.01,"cx":0.465,"dy":0.00001,"warp":0.01,"wave_r":0,"wave_g":0,"wave_b":0,"wave_x":0,"wave_y":0,"ob_size":0,"ob_a":1,"ib_size":0,"ib_r":0,"ib_g":0,"ib_b":0,"ib_a":1,"mv_y":9.72,"mv_r":1.19,"mv_a":0},"shapes":[{"baseVals":{"enabled":1,"sides":20,"num_inst":410,"rad":0.0082,"r":0,"b":1,"a":1.09,"g2":0,"a2":0.1,"border_b":0.87,"border_a":0.006},"init_eqs_eel":"","frame_eqs_eel":"q1 = time/5;\\nq2 = time/6;\\nrad = 0.005+bass/100;\\nq5 = bass_att/70;\\nb2 = treb*0.79-bass/2;\\nr = instance/num_inst;\\ng = abs(treb_att/5-bass);\\n//b = abs(treb_att/5-bass);\\nsize = 0.3+bass_att/300;\\n\\nnc = sqrt(num_inst);\\nxs=sin(7.662*(instance%nc)/nc)*sin(3.705*int(instance/nc)/nc);\\nys=cos(6.28*(instance%nc)/nc)*sin(3.14*int(instance/nc)/nc);\\nzs=cos(3.14*int(instance/nc)/nc);\\n\\n//modulate to allow rotation\\ny1 = ys*cos(q1)-zs*sin(q1);\\nz1 = ys*sin(q1)+zs*cos(q1);\\nx1 = z1*sin(q2)+xs*cos(q2);\\nz2 = z1*cos(q2)-xs*sin(q2);\\nx2 = x1*cos(q3)-y1*sin(q3);\\ny2 = y1*cos(q3)+x1*sin(q3);\\n\\n//translate shape\\nx3 = x2+q4;\\ny3 = y2;\\nz3 = z2+q5;\\n\\nx = 0.5 + size*(x3/(1+z3*size));\\ny = 0.42 + size*(y3/(1+z3*size));\\na=below(z3,0);"},{"baseVals":{"rad":0.102,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"x":0.53,"rad":0.091,"tex_zoom":0.76,"r":1.16,"a":1.05,"g2":0.86,"border_r":0.87,"border_g":0.89,"border_b":1.22,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"y":0.49,"rad":0.089,"tex_zoom":0.78,"a":0.95,"g2":0.81,"border_a":0.114,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""}],"waves":[{"baseVals":{"r":0.8,"g":1.05,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"a":0.93,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"scaling":1.1,"r":1.15,"g":0.92,"b":1.22,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"scaling":0.84,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""}],"init_eqs_eel":"","frame_eqs_eel":"q1=sin(.5*time);\\nq2=sin(.2*time);\\nq3=sin(0.34*time);\\nq4=abs(sin(40*time));\\n\\nbt=bt+bass/fps;\\nbt=bt*above(100,bt);\\nq5=sin(bt);\\nq6=bt;\\n\\nq11=int(rand(200)); q11=q11*equal(q11,1);\\nq12=int(rand(100)); q12=q12*equal(q12,1);\\nq13=int(rand(150)); q13=q13*equal(q13,1);\\n\\nrot=rot-0.048*sin(bass_att*0.08)*sin(0.37*time);\\n\\ndy=.002*sin(time*.623)+.002*cos(time*.31);\\ndx=.002*cos(time*.442)+.002*sin(time*.52);","pixel_eqs_eel":"//zoom=10.1242-0.038*above(rad,0.12);\\n//zoom=zoom+0.042*above(rad,0.131);\\n//zoom=zoom-.05*above(rad,.2);\\n//zoom=zoom+.05*above(rad,.21);\\n//zoom=zoom-0.039*above(rad,0.33);\\n//zoom=zoom+.05*above(rad,.31);\\n//zoom=zoom-0.059*above(rad,0.34);\\n//zoom=zoom+.05*above(rad,.41);\\n//zoom=zoom-.05*above(rad,.49);\\n//zoom=zoom+.05*above(rad,.50);\\n//zoom=zoom-.05*above(rad,.6);\\n//zoom=zoom+.05*above(rad,.61);\\n//zoom=zoom-0.055*above(rad,0.61);\\n//zoom=zoom+0.047*above(rad,0.575);\\n//zoom=zoom-0.049*above(rad,0.8);\\n//zoom=zoom+.05*above(rad,.805);\\n//zoom=zoom-.05*above(rad,.9);\\n//zoom=zoom+0.051*above(rad,1.046);\\n\\n\\nzoom=zoom+.15*x*.05*sin(rad*time*2);\\nzoom=zoom+0.142*(1-x)*0.058*sin(rad*time*2);","warp":" shader_body { \\n  vec2 tmpvar_1;\\n  tmpvar_1 = mix (uv_orig, uv, vec2(0.469, 0.469));\\n  vec2 tmpvar_2;\\n  tmpvar_2 = (texsize.zw * 300.0);\\n  vec2 tmpvar_3;\\n  tmpvar_3.x = dot (((\\n    (texture (sampler_blur1, ((tmpvar_1 + vec2(1.0, 2.0)) + tmpvar_2)).xyz * scale1)\\n   + bias1) - (\\n    (texture (sampler_blur1, (tmpvar_1 - (vec2(1.0, 0.0) * tmpvar_2))).xyz * scale1)\\n   + bias1)), vec3(0.32, 0.49, 0.29));\\n  tmpvar_3.y = dot (((\\n    (texture (sampler_blur1, (tmpvar_1 + (vec2(0.0, 1.0) * tmpvar_2))).xyz * scale1)\\n   + bias1) - (\\n    (texture (sampler_blur1, (tmpvar_1 - (vec2(0.0, 1.0) * tmpvar_2))).xyz * scale1)\\n   + bias1)), vec3(0.32, 0.49, 0.29));\\n  vec4 tmpvar_4;\\n  tmpvar_4.w = 1.0;\\n  tmpvar_4.xyz = (texture (sampler_fc_main, (tmpvar_1 + (\\n    (tmpvar_3 * texsize.zw)\\n   * 50.0))) - 0.01).xyz;\\n  ret = tmpvar_4.xyz;\\n }","comp":"float xlat_mutablesmask;\\nvec2 xlat_mutableuv1;\\nvec2 xlat_mutableuv3;\\nvec2 xlat_mutableuv4;\\n shader_body { \\n  float dist_1;\\n  float stars_2;\\n  vec3 ret_3;\\n  xlat_mutableuv1 = ((uv - 0.5) * aspect.xy);\\n  float tmpvar_4;\\n  tmpvar_4 = (0.109 * time);\\n  float tmpvar_5;\\n  tmpvar_5 = (0.24 * rad);\\n  dist_1 = ((1.0 - fract(\\n    (0.2425 + tmpvar_4)\\n  )) * (1.0 - tmpvar_5));\\n  vec2 tmpvar_6;\\n  tmpvar_6.x = q1;\\n  tmpvar_6.y = q2;\\n  xlat_mutableuv3 = (xlat_mutableuv1 + tmpvar_6);\\n  xlat_mutableuv4 = ((64.0 * dist_1) * xlat_mutableuv3);\\n  xlat_mutablesmask = (texture (sampler_pw_noise_lq, (xlat_mutableuv4 / 256.0)).y - 0.81);\\n  vec2 tmpvar_7;\\n  tmpvar_7 = abs((fract(xlat_mutableuv4) - 0.5));\\n  stars_2 = max (0.0, clamp ((\\n    (1.0 - dist_1)\\n   * \\n    ((0.1 / sqrt(dot (tmpvar_7, tmpvar_7))) * xlat_mutablesmask)\\n  ), 0.0, 1.0));\\n  dist_1 = ((1.0 - fract(\\n    (0.485 + tmpvar_4)\\n  )) * (1.0 - tmpvar_5));\\n  vec2 tmpvar_8;\\n  tmpvar_8.x = q1;\\n  tmpvar_8.y = q2;\\n  xlat_mutableuv3 = (xlat_mutableuv1 + tmpvar_8);\\n  xlat_mutableuv4 = ((64.0 * dist_1) * xlat_mutableuv3);\\n  xlat_mutablesmask = (texture (sampler_pw_noise_lq, (xlat_mutableuv4 / 256.0)).y - 0.81);\\n  vec2 tmpvar_9;\\n  tmpvar_9 = abs((fract(xlat_mutableuv4) - 0.5));\\n  stars_2 = (stars_2 + max (stars_2, clamp (\\n    ((1.0 - dist_1) * ((0.1 / sqrt(\\n      dot (tmpvar_9, tmpvar_9)\\n    )) * xlat_mutablesmask))\\n  , 0.0, 1.0)));\\n  dist_1 = ((1.0 - fract(\\n    (0.7275 + tmpvar_4)\\n  )) * (1.0 - tmpvar_5));\\n  vec2 tmpvar_10;\\n  tmpvar_10.x = q1;\\n  tmpvar_10.y = q2;\\n  xlat_mutableuv3 = (xlat_mutableuv1 + tmpvar_10);\\n  xlat_mutableuv4 = ((64.0 * dist_1) * xlat_mutableuv3);\\n  xlat_mutablesmask = (texture (sampler_pw_noise_lq, (xlat_mutableuv4 / 256.0)).y - 0.81);\\n  vec2 tmpvar_11;\\n  tmpvar_11 = abs((fract(xlat_mutableuv4) - 0.5));\\n  stars_2 = (stars_2 + max (stars_2, clamp (\\n    ((1.0 - dist_1) * ((0.1 / sqrt(\\n      dot (tmpvar_11, tmpvar_11)\\n    )) * xlat_mutablesmask))\\n  , 0.0, 1.0)));\\n  dist_1 = ((1.0 - fract(\\n    (0.97 + tmpvar_4)\\n  )) * (1.0 - tmpvar_5));\\n  vec2 tmpvar_12;\\n  tmpvar_12.x = q1;\\n  tmpvar_12.y = q2;\\n  xlat_mutableuv3 = (xlat_mutableuv1 + tmpvar_12);\\n  xlat_mutableuv4 = ((64.0 * dist_1) * xlat_mutableuv3);\\n  xlat_mutablesmask = (texture (sampler_pw_noise_lq, (xlat_mutableuv4 / 256.0)).y - 0.81);\\n  vec2 tmpvar_13;\\n  tmpvar_13 = abs((fract(xlat_mutableuv4) - 0.5));\\n  stars_2 = (stars_2 + max (stars_2, clamp (\\n    ((1.0 - dist_1) * ((0.1 / sqrt(\\n      dot (tmpvar_13, tmpvar_13)\\n    )) * xlat_mutablesmask))\\n  , 0.0, 1.0)));\\n  vec3 tmpvar_14;\\n  tmpvar_14 = max ((texture (sampler_main, uv).xyz * 2.0), ((\\n    (texture (sampler_blur2, uv).xyz * scale2)\\n   + bias2) * 2.0));\\n  ret_3 = (ret_3 + clamp ((stars_2 * stars_2), 0.0, 1.0));\\n  ret_3 = (ret_3 * clamp ((1.0 - \\n    (2.0 * dot (tmpvar_14, vec3(0.32, 0.49, 0.29)))\\n  ), 0.0, 1.0));\\n  ret_3 = (ret_3 + tmpvar_14);\\n  vec4 tmpvar_15;\\n  tmpvar_15.w = 1.0;\\n  tmpvar_15.xyz = ret_3;\\n  ret = tmpvar_15.xyz;\\n }"}') }, "./presets/converted/ORB - Waaa.json": e => { e.exports = JSON.parse('{"version":2,"baseVals":{"rating":0,"decay":1,"echo_zoom":1,"echo_orient":3,"wave_mode":1,"wrap":0,"darken_center":1,"wave_a":0.001,"zoom":0.97,"rot":-6.27999,"warp":0.00052,"wave_r":0,"wave_g":0,"wave_b":0,"ob_r":1,"ob_g":1,"ob_b":1,"mv_a":0},"shapes":[{"baseVals":{"enabled":1,"sides":100,"textured":1,"rad":0.49849,"g":1,"b":1,"a":0.7,"r2":1,"g2":0,"b2":1,"a2":0.7,"border_a":0},"init_eqs_eel":"","frame_eqs_eel":"r2 = 0.5 + 0.5*sin(q2*0.35);\\ng2 = 0.5 + 0.5*sin(q2*0.578);\\nb2 = 0.5 + 0.5*sin(q2*0.689);\\n\\nang = q2;\\ntex_capture = above(q3,2);"},{"baseVals":{"enabled":1,"sides":100,"textured":1,"rad":0.74218,"g":1,"b":1,"a":0.6,"r2":1,"g2":0,"b2":1,"a2":0.6,"border_a":0},"init_eqs_eel":"","frame_eqs_eel":"r2 = 0.5 + 0.5*sin(q2*0.45);\\ng2 = 0.5 + 0.5*sin(q2*0.678);\\nb2 = 0.5 + 0.5*sin(q2*0.689);\\n\\nang = -q2*1.05;\\ntex_capture = above(q3,2);"},{"baseVals":{"enabled":1,"sides":100,"textured":1,"rad":1.00035,"g":1,"b":1,"a":0.5,"r2":1,"g2":0,"b2":1,"a2":0.5,"border_a":0},"init_eqs_eel":"","frame_eqs_eel":"r2 = 0.5 + 0.5*sin(q2*0.45);\\ng2 = 0.5 + 0.5*sin(q2*0.578);\\nb2 = 0.5 + 0.5*sin(q2*0.789);\\n\\nang = q2*0.899;\\ntex_capture = above(q3,2);"},{"baseVals":{"textured":1,"rad":3.25446,"g":1,"b":1,"a":0.3,"r2":1,"b2":1,"a2":0.4,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"r = 0.5 + 0.5*sin(q2*0.45);\\ng = 0.5 + 0.5*sin(q2*0.578);\\nb = 0.5 + 0.5*sin(q2*0.689);\\n\\nr2 = 0.5 + 0.5*sin(q2*0.45);\\ng2 = 0.5 + 0.5*sin(q2*0.578);\\nb2 = 0.5 + 0.5*sin(q2*0.689);\\n\\ntex_capture = above(q3,2);"}],"waves":[{"baseVals":{"enabled":1,"sep":1,"spectrum":1,"thick":1,"additive":1},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":"u = (cos(q1*0.1))*3.14159;\\nv = (cos(q1*0.015))*3.14159*2;\\ns = sample*3.14*100;\\nss = sample*6.28*1000;\\n\\n//draw\\nxs = (0.3 + 0.1*cos(s))*cos(ss)*0.2*cos(v);\\nys = (0.3 + 0.1*cos(s))*sin(ss)*6*u;\\nzs = 0.5*sin(s)*0.2*sin(v);\\n\\n//rotate x axis\\nangle = q1*0.1;\\nyx = ys*cos(angle) - zs*sin(angle);\\nzx = ys*sin(angle) + zs*cos(angle);\\nxx = xs;\\n\\n//rotate y axis\\nangle2 = q1*0.11;\\nxd = xx*cos(angle2) - zx*sin(angle2);\\nzd = xx*sin(angle2) + zx*cos(angle2);\\nyd = yx;\\n\\n//rotaye z axis\\nangle3 = q1*0.15;\\nxn = xd*cos(angle3) - yd*sin(angle3);\\nyn = xd*sin(angle3) + yd*cos(angle3);\\n\\nzd = zd;\\n\\nx = xn*zd*0.3 + 0.5;\\ny = yn*zd*0.3*1.2 + 0.5;\\n\\nr = 0.5 + 0.5*sin(q1*1.2 + x + x);\\ng = 0.5 + 0.5*sin(q1*1.5 + x + y);\\nb = 0.5 + 0.5*sin(q1*1.36 + y + y);"},{"baseVals":{"enabled":1,"sep":1,"spectrum":1,"thick":1,"additive":1},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":"u = (cos(q1*0.1))*3.14159;\\nv = (cos(q1*0.015))*3.14159*2;\\ns = sample*3.14*100;\\nss = sample*6.28*1000;\\n\\n//draw\\nxs = (0.3 + 0.1*cos(s))*cos(ss)*0.2*cos(v);\\nys = (0.3 + 0.1*cos(s))*sin(ss)*6*u;\\nzs = 0.5*sin(s)*0.2*sin(v);\\n\\n//rotate x axis\\nangle = q1*0.1;\\nyx = ys*cos(angle) - zs*sin(angle);\\nzx = ys*sin(angle) + zs*cos(angle);\\nxx = xs;\\n\\n//rotate y axis\\nangle2 = q1*0.13;\\nxd = xx*cos(angle2) - zx*sin(angle2);\\nzd = xx*sin(angle2) + zx*cos(angle2);\\nyd = yx;\\n\\n//rotaye z axis\\nangle3 = q1*0.16;\\nxn = xd*cos(angle3) - yd*sin(angle3);\\nyn = xd*sin(angle3) + yd*cos(angle3);\\n\\nzd = zd;\\n\\nx = xn*zd*0.3 + 0.5;\\ny = yn*zd*0.3*1.2 + 0.5;\\n\\nr = 0.5 + 0.5*sin(q1*1.2 + x + x);\\ng = 0.5 + 0.5*sin(q1*1.5 + x + y);\\nb = 0.5 + 0.5*sin(q1*1.36 + y + y);"},{"baseVals":{"enabled":1,"sep":1,"spectrum":1,"thick":1,"additive":1},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":"u = (cos(q1*0.1))*3.14159;\\nv = (cos(q1*0.015))*3.14159*2;\\ns = sample*3.14*100;\\nss = sample*6.28*1000;\\n\\n//draw\\nxs = (0.3 + 0.1*cos(s))*cos(ss)*0.2*cos(v);\\nys = (0.3 + 0.1*cos(s))*sin(ss)*6*u;\\nzs = 0.5*sin(s)*0.2*sin(v);\\n\\n//rotate x axis\\nangle = q1*0.1;\\nyx = ys*cos(angle) - zs*sin(angle);\\nzx = ys*sin(angle) + zs*cos(angle);\\nxx = xs;\\n\\n//rotate y axis\\nangle2 = q1*0.16;\\nxd = xx*cos(angle2) - zx*sin(angle2);\\nzd = xx*sin(angle2) + zx*cos(angle2);\\nyd = yx;\\n\\n//rotaye z axis\\nangle3 = q1*0.16;\\nxn = xd*cos(angle3) - yd*sin(angle3);\\nyn = xd*sin(angle3) + yd*cos(angle3);\\n\\nzd = zd;\\n\\nx = xn*zd*0.3 + 0.5;\\ny = yn*zd*0.3*1.2 + 0.5;\\n\\nr = 0.5 + 0.5*sin(q1*1.2 + x + x);\\ng = 0.5 + 0.5*sin(q1*1.5 + x + y);\\nb = 0.5 + 0.5*sin(q1*1.36 + y + y);"},{"baseVals":{"sep":1,"spectrum":1,"usedots":1,"additive":1,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":"u = abs(cos(q1*0.1))*3.14159;\\nv = abs(cos(q1*0.015))*3.14159*2;\\ns = sample*3.14*100;\\nss = sample*6.28*1000;\\n\\n//draw\\nxs = (0.5 + 0.0000001*cos(s))*cos(ss);\\nys = (0.5 + 0.0000001*cos(s))*sin(ss);\\nzs = 0.5*sin(s);\\n\\n//rotate x axis\\nangle = q1*0.1;\\nyx = ys*cos(angle) - zs*sin(angle);\\nzx = ys*sin(angle) + zs*cos(angle);\\nxx = xs;\\n\\n//rotate y axis\\nangle2 = q1*0.14;\\nxd = xx*cos(angle2) - zx*sin(angle2);\\nzd = xx*sin(angle2) + zx*cos(angle2);\\nyd = yx;\\n\\n//rotaye z axis\\nangle3 = q1*0.15;\\nxn = xd*cos(angle3) - yd*sin(angle3);\\nyn = xd*sin(angle3) + yd*cos(angle3);\\n\\nzd = zd + 2;\\n\\nx = xn*zd*0.3 + 0.5;\\ny = yn*zd*0.3*1.2 + 0.5;\\n\\nr = 0.5 + 0.5*sin(q1*1.2 + x + x);\\ng = 0.5 + 0.5*sin(q1*1.5 + x + y);\\nb = 0.5 + 0.5*sin(q1*1.66 + y + y);"}],"init_eqs_eel":"","frame_eqs_eel":"basstime = basstime + bass*0.03;\\nq1 = basstime*4;\\n\\n//start in most active range\\nbasstime = if(below(basstime,1000),1000,basstime);\\n//basstime = if(above(basstime,495),450,basstime);\\n\\nbasstime = basstime + bass_att*0.03;\\nvol = pow(bass+mid+treb,2);\\nbasssum = vol;\\n\\nstickybit = time%2;\\n\\n//avg vol\\n//buffer 1\\nvolAvg = volAvg + vol*equal(stickybit,1);\\n//number of samples 1 or framerate\\nsample1 = sample1 + equal(stickybit,1);\\n//buffer 2\\nvolAvg2 = volAvg2 + vol*equal(stickybit,0);\\n//number of samples 2\\nsample2 = sample2 + equal(stickybit,0);\\n\\n//transision\\nedge = bnot(equal(bit2,stickybit));\\n\\nvolAvg = volAvg - volAvg*edge*stickybit;\\nvolAvg2 = volAvg2 - volAvg2*edge*equal(stickybit,0);\\n\\nsample1 = sample1  - sample1*edge*stickybit;\\nsample2 = sample2  - sample2*edge*equal(stickybit,0);\\n\\n//test vol against avg buffer lvl\\ndiff = if(equal(stickybit,1), (basssum/(volAvg2/sample2)) , 0);\\ndiff = if(equal(stickybit,0), (basssum/(volAvg/sample1)), diff);\\n\\nq3 = diff;\\n\\nbit2 = time%2;\\n\\ndifftime = difftime + diff*0.03;\\nq2 = difftime;\\n\\n//fix a strange error\\ndifftime = if(above(difftime,2000),0, difftime);\\n\\nmonitor = abs(cos(time))*3.14;\\n\\n\\nmv_a = above(diff,10);","pixel_eqs_eel":"zoom = 1 + 0.05*q3*rad;\\n\\ndecay_r = 0.2*rad*sin(q2*0.35) + 0.85 + 0.1*sin(q2);\\ndecay_g = 0.2*rad*sin(q2*0.5) + 0.85 + 0.1*sin(0.7*q2);\\ndecay_b = 0.2*rad*sin(q2*0.4) + 0.85 + 0.1*sin(0.8*q2);\\n\\nrot = 0;","warp":" shader_body { \\n  vec4 tmpvar_1;\\n  tmpvar_1.w = 1.0;\\n  tmpvar_1.xyz = (texture (sampler_fc_main, uv).xyz * (0.8 + (q3 * 0.1)));\\n  ret = tmpvar_1.xyz;\\n }","comp":" shader_body { \\n  vec4 tmpvar_1;\\n  tmpvar_1.w = 1.0;\\n  tmpvar_1.xyz = (texture (sampler_main, uv).xyz * 2.0);\\n  ret = tmpvar_1.xyz;\\n }"}') }, "./presets/converted/Phat+fiShbRaiN+Eo.S_Mandala_Chasers_remix.json": e => { e.exports = JSON.parse('{"version":1,"baseVals":{"rating":5,"gammaadj":1,"decay":0.965,"echo_zoom":1.483827,"echo_alpha":0.5,"echo_orient":3,"wave_mode":7,"additivewave":1,"wave_brighten":0,"wrap":0,"darken_center":1,"darken":1,"wave_a":0.001,"wave_scale":1.285751,"wave_smoothing":0.63,"modwavealphastart":0.71,"modwavealphaend":1.3,"warpanimspeed":0.01,"warpscale":1.470245,"zoomexp":4.778023,"zoom":0.998162,"warp":0.01,"sx":1.001828,"wave_r":0.65,"wave_g":0.65,"wave_b":0.65,"ob_size":0.005,"ob_r":1,"ob_g":0.5,"ob_b":0.5,"ob_a":1,"ib_size":0.5,"ib_r":0,"ib_g":0,"ib_b":0,"ib_a":1,"mv_x":64,"mv_y":4.800001,"mv_dx":0.4,"mv_l":1,"mv_r":0,"mv_g":0.5,"mv_a":0.1},"shapes":[{"baseVals":{"enabled":1,"sides":3,"additive":1,"thickoutline":1,"textured":1,"x":1,"y":0.59,"rad":0.559231,"ang":3.39292,"tex_zoom":100,"r":0,"g":1,"b":1,"g2":0,"border_r":0,"border_g":0,"border_b":0,"border_a":1},"init_eqs_eel":"","frame_eqs_eel":"x=sin(time/10)*0.1+0.5+(treb_att*0.1);"},{"baseVals":{"sides":13,"additive":1,"x":0.9,"y":0.84,"rad":0.364567,"ang":3.078761,"tex_zoom":4.141463,"r":0.25,"g":0.05,"a":0.2,"g2":0,"b2":1,"border_r":0.5,"border_g":0.5,"border_b":0.5,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"//additive=above(sin(time*50),.95);"},{"baseVals":{"enabled":1,"sides":6,"textured":1,"x":0.3,"y":0.7,"rad":1.089252,"ang":0.816814,"tex_ang":3.141592,"tex_zoom":0.504215,"g":1,"b":1,"r2":1,"b2":1,"border_a":0},"init_eqs_eel":"","frame_eqs_eel":"//tex_ang=(sin(time/4)*0.5+0.5)*6.28;"},{"baseVals":{"enabled":1,"sides":3,"textured":1,"rad":0.284278,"ang":3.141593,"tex_ang":4.900885,"tex_zoom":2.987755,"g":1,"b":1,"r2":0.95,"b2":1,"a2":1,"border_r":0,"border_g":0,"border_b":0,"border_a":1},"init_eqs_eel":"","frame_eqs_eel":"ang=time/10;\\ntex_zoom=3.4+(bass*0.03);\\nvar=above(bass_att,0.7);\\na=var;\\na2=var;\\nborder_a=var;\\n\\n\\n//This preset fluctuates between 53.2 and 55.44 fps on my box.  Texture size_2048 Meshsize_36*24\\n//On a SuperScan Pro 800 Hitachi\\n//On a Radion_9600\\n//1280*1024_Screen_Resolution\\n//;) hello! I am ATHEN ANDANDA!"}],"waves":[{"baseVals":{"enabled":1,"usedots":1,"thick":1,"additive":1,"r":0,"a":0.06},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":"xspout=.5;\\nyspout=-.01;\\n\\npphase=9999*sample*sample*.0001;\\npphase2=.1+((sample*3349*sample)%100)*.01;\\npheight=((sample*9893)%100)*.002;\\nyheight=((sample*1231*sample)%100)*.01;\\n\\nr=((sample*5454)%100)*.01*abs(sin(time*.25));\\ng=((sample*9954)%100)*.01;\\n\\nxoffset1=(cos((time*pphase2)+pphase)*pheight);\\nxoffset2=-1*(cos((time*pphase2)+pphase)*pheight);\\n\\nlrorient=if(below(cos((time*pphase2)+pphase),cos(((time-.1)*pphase2)+pphase)),0,1);\\n\\npx=if(equal(lrorient,0),xspout-pheight+xoffset1,xspout+pheight-xoffset2);\\n\\npy=yspout+(abs(sin((time*pphase2)+pphase))*yheight);\\n\\nx=px;\\ny=py;"},{"baseVals":{"enabled":1,"usedots":1,"thick":1,"additive":1,"r":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":"pphase=(sample*5671*cos(time*.0001));\\npheight=((sample*7654)%100)*.005*sin(time*.2);\\n\\n//xspout=.5;\\nxspout=if(below(abs(sin(time*.2)),.005),.3+(rand(40)*.01),xspout);\\n//yspout=.5;\\nyspout=if(below(abs(sin(time*.2)),.005),.3+(rand(40)*.01),yspout);\\n\\npx=xspout+(cos(time+pphase)*pheight);\\npy=yspout+(sin(time+pphase)*pheight);\\n\\nx=px;\\ny=py;\\na=abs(sin(time*.2)*.3+(treb_att*.1));\\n\\nr=treb*2;"},{"baseVals":{"enabled":1,"thick":1,"additive":1,"b":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":"n=sample*6.283;\\nphs=-sample * 0.2;\\ntm=q1 + phs*4;\\n\\nflip=flip+1;\\nflip=flip*below(flip,2);\\n\\nxp=0;\\nyp=(flip*0.1-0.05)*(sample);\\nzp=0;\\n\\n//spin;\\nang=tm*20 + sin(tm*76 + time*4)*0.4;\\nsa=sin(ang);ca=cos(ang);\\nxr=xp*sa + yp*ca;\\nyr=xp*ca - yp*sa;\\nzr=zp;\\n\\nxp=xr;\\nyp=yr + 0.05 + (sin(tm)*0.5 + 0.5)*0.2 + 0.05;\\nzp=zr;\\n\\n//wrist movement;\\nang=sin(tm*2);\\n\\nxq=xp;\\nsa=sin(ang);ca=cos(ang);\\nyq=yp*sa + zp*ca;\\nzq=yp*ca - zp*sa;\\n\\n\\nang=tm*8;\\nsa=sin(ang);ca=cos(ang);\\nxp=xq*sa + yq*ca;\\nyp=xq*ca - yq*sa;\\nzp=zq;\\n\\n//forearm movement;\\nzp=zp-0.3;\\nang=3.14 + sin(tm*2 - 0.5)*2.5;\\nxq=xp;\\nsa=sin(ang);ca=cos(ang);\\nyq=yp*sa + zp*ca;\\nzq=yp*ca - zp*sa;\\n\\n//upper arm twist\\nang=-1.0 + cos(tm*3 + 0.5);\\nxp=xq*sa + yq*ca;\\nyp=xq*ca - yq*sa;\\nzp=zq;\\n\\n//upper arm outward;\\nzp=zp-0.35;\\nang=cos(tm*1)*1.75 - 1.05;\\nsa=sin(ang);ca=cos(ang);\\nxq=xp*sa + zp*ca;\\nyq=yp;\\nzq=xp*ca - zp*sa;\\n\\n//upper arm up down;\\nang=cos(tm);\\nxp=xq;\\nsa=sin(ang);ca=cos(ang);\\nyp=yq*ca - zq*sa;\\nzp=yq*sa + zq*ca;\\n\\n//xp=xq;yp=yq;zp=zq;\\n\\n\\n//project into screenspace and draw on screen\\nzp=zp+1.5;\\nxs=xp/zp;\\nys=yp/zp;\\n\\nx=xs+0.5;\\ny=ys*1.3+0.5;\\n\\n\\na=(1-sample);\\n"},{"baseVals":{"usedots":1,"thick":1,"smoothing":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"t1=q1;\\n\\nt7=.0;\\nt8=.45;\\n\\nddx=.25*cos(5.7119*t1)+2.5963*t1*sin(5.7119*t1);\\nddy=.3125*sin(5.7119*t1)-3.2453*t1*cos(5.7119*t1);\\nddtan=atan2(ddy,ddx);\\nt2=-ddtan;\\n\\nval1=((-.5*cos(5.7119*t1))*cos(t2)-(-.625*sin(5.7119*t1))*sin(t2));\\nval2=((-.5*cos(5.7119*t1))*sin(t2)+(-.625*sin(5.7119*t1))*cos(t2));\\n\\nt6=-sign(t1);\\nt7=t7-val1;\\nt8=t8-val2;\\n\\nt3=q2;","point_eqs_eel":"sample=pow(sample,.85);\\n\\nc1=6.2831*t1/(1.1-sample);\\nc=cos(c1);\\ns=sin(c1);\\nc2=sqrt(1-sample);\\n\\nox=t7-.5*c2*c;\\noy=t8-.625*c2*s;\\n\\nx=t7+((ox-t7)*cos(t2)-(oy-t8)*sin(t2));\\ny=t8+((ox-t7)*sin(t2)+(oy-t8)*cos(t2));\\n\\ninv=1/sqr(1.1-sample);\\nfdx=-.25*pow(1-sample,-.5)*c-c2*s*3.1415*t1*inv;\\nfdy=-.3125*c2*s+3.9268*c2*c*t1*inv;\\ninvMag=1/sqrt(sqr(fdx)+sqr(fdy));\\nfdx=fdx*invMag;\\nfdy=fdy*invMag;\\n\\nrdx=fdx*cos(1.5707+t2)-fdy*sin(1.5707+t2);\\nrdy=fdx*sin(1.5707+t2)+fdx*cos(1.5707+t2);\\ntt=rand(100)/100;\\nx=x+rdx*(.15*tt)*(1-sample);\\ny=y+rdy*(.15*tt)*(1-sample);\\n\\nx=x*.55;\\ny=(y-.5)*.55+.5;\\n\\nr=sample;\\ng=1-sample;\\nb=1;\\na=below(sample,.995);\\n\\n\\ny=y+t3;"}],"init_eqs_eel":"","frame_eqs_eel":"decay=.999;\\nwrap=sin(time*10);\\nmv_dx=bass;\\nib_a=.005;\\n\\n\\nvol=(bass+mid+treb)*0.25;\\nvol=vol*vol;\\n\\nmtime=mtime+vol*0.01*(55/fps);\\n\\nq1=time*0.5;","pixel_eqs_eel":"zoom=1.005-(rad/100);\\nrot=rad/600;\\nsy=-1;","warp":"","comp":""}') }, "./presets/converted/Rovastar + Loadus + Geiss - FractalDrop (Triple Mix).json": e => { e.exports = JSON.parse('{"version":2,"baseVals":{"rating":0,"gammaadj":1,"decay":1,"echo_zoom":1.007,"echo_alpha":0.5,"echo_orient":1,"wave_mode":7,"additivewave":1,"modwavealphabyvolume":1,"wave_a":0.1,"wave_scale":3.815,"wave_smoothing":0.9,"modwavealphastart":0,"modwavealphaend":1.1,"zoom":1.0099,"warp":0.04177,"wave_r":0.65,"wave_g":0.65,"ob_size":0.007,"ib_size":0.26,"mv_x":64,"mv_y":48,"mv_l":0.85,"mv_r":0.5,"mv_g":0.5,"mv_b":0.5,"mv_a":0},"shapes":[{"baseVals":{"enabled":1,"sides":3,"x":0.37,"rad":6.81129,"ang":3.64425,"r":0,"a":0.5,"g2":0,"a2":0.5,"border_a":1},"init_eqs_eel":"t1 = rand(100)*0.01;\\nt2 = rand(100)*0.01;","frame_eqs_eel":"ang = q1*(0.303 + 0.01*t1);\\nr = min(1,max(0,0+ 0.1*sin(time*0.417 + 1)));\\ng = min(1,max(0,0 + 0.1*sin(time*0.391 + 2)));\\nb = min(1,max(0,0 + 0.1*sin(time*0.432 + 4)));\\nr2 = min(1,max(0,r2 + 0.02*sin(time*0.657 + 3)));\\ng2 = min(1,max(0,g2 + 0.02*sin(time*0.737 + 5)));\\nb2 = min(1,max(0,b2 + 0.02*sin(time*0.884 + 6)));\\nadditive =0.5+0.15*(bass+bass_att);"},{"baseVals":{"enabled":1,"sides":100,"additive":1,"textured":1,"x":0.37,"rad":0.89796,"ang":3.64425,"g":1,"b":1,"a":0.5,"g2":0,"a2":1,"border_a":0},"init_eqs_eel":"t1 = rand(100)*0.01;\\nt2 = rand(100)*0.01;","frame_eqs_eel":"x = x + 0.07*sin(q1*0.15+3);\\ny = y + 0.03*sin(q1*0.19+1);\\ntex_ang = q1*(0.01 + 0.0001*t1);\\nr = min(1,max(0,r + 0.01*sin(time*0.0417 + 1)));\\ng = min(1,max(0,g + 0.01*sin(time*0.391 + 2)));\\nb = min(1,max(0,b + 0.01*sin(time*0.432 + 4)));\\nr2 = min(1,max(0,r2 + 0.01*sin(time*0.457 + 3)));\\ng2 = min(1,max(0,g2 + 0.01*sin(time*0.0437 + 5)));\\nb2 = min(1,max(0,b2 + 0.01*sin(time*0.484 + 6)));"},{"baseVals":{"enabled":1,"sides":100,"additive":1,"textured":1,"x":0.67,"y":0.43,"rad":0.51386,"ang":4.20974,"g":1,"b":1,"g2":0,"a2":1,"border_a":0},"init_eqs_eel":"t1 = rand(100)*0.01;\\nt2 = rand(100)*0.01;","frame_eqs_eel":"x = x + 0.05*sin(q1*0.017);\\ny = y + 0.09*sin(q1*0.013);\\ntex_ang = q1*(0.02 + 0.0001*t1);\\nrad = rad * (0.9 + 0.2*t2);\\nr = min(1,max(0,r + 0.01*sin(time*0.417 + 1)));\\ng = min(1,max(0,g + 0.01*sin(time*0.391 + 2)));\\nb = min(1,max(0,b + 0.01*sin(time*0.432 + 4)));\\nr2 = min(1,max(0,r2 + 0.01*sin(time*0.457 + 3)));\\ng2 = min(1,max(0,g2 + 0.01*sin(time*0.437 + 5)));\\nb2 = min(1,max(0,b2 + 0.01*sin(time*0.484 + 6)));"},{"baseVals":{"enabled":1,"sides":100,"additive":1,"textured":1,"rad":0.22298,"r":0.6,"g":0.8,"b":1,"g2":0,"a2":1,"border_a":0},"init_eqs_eel":"","frame_eqs_eel":"x = x + 0.08*sin(q1*0.25);\\ny = y + 0.1*sin(q1*0.5+2);\\nang = time;"}],"waves":[{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""}],"init_eqs_eel":"","frame_eqs_eel":"movement = movement + 0.1*max(0,bass+bass_att-2) + 0.15*pow(bass,3) + 0.005;\\nq1 = movement;\\nmonitor =q1;","pixel_eqs_eel":"","warp":" shader_body { \\n  vec3 ret_1;\\n  vec4 tmpvar_2;\\n  tmpvar_2 = texture (sampler_main, uv);\\n  ret_1 = (tmpvar_2.xyz + ((tmpvar_2.xyz - \\n    ((texture (sampler_blur1, uv).xyz * scale1) + bias1)\\n  ) * 0.5));\\n  ret_1 = (ret_1 * 0.9);\\n  ret_1 = (ret_1 + ((\\n    ((texture (sampler_noise_lq, ((\\n      (uv_orig * texsize.xy)\\n     * \\n      (texsize_noise_lq.zw * 0.4)\\n    ) + rand_frame.xy)).xyz - 0.5) / 256.0)\\n   * 12.0) * clamp (\\n    (treb_att - 1.0)\\n  , 0.0, 1.0)));\\n  vec3 tmpvar_3;\\n  tmpvar_3 = mix (ret_1, vec3(dot (ret_1, vec3(0.32, 0.49, 0.29))), vec3(0.08, 0.08, 0.08));\\n  ret_1 = tmpvar_3;\\n  vec4 tmpvar_4;\\n  tmpvar_4.w = 1.0;\\n  tmpvar_4.xyz = tmpvar_3;\\n  ret = tmpvar_4.xyz;\\n }","comp":" shader_body { \\n  vec2 uv_1;\\n  vec2 uv3_2;\\n  vec2 uv2_3;\\n  uv_1 = (uv - 0.5);\\n  uv_1 = (uv_1 * aspect.xy);\\n  uv2_3.x = ((uv_1.x * -0.497265) - (uv_1.y * 0.8675987));\\n  uv2_3.y = ((uv_1.x * 0.8675987) + (uv_1.y * -0.497265));\\n  uv3_2.x = ((uv_1.x * -0.5000263) - (uv_1.y * -0.8660102));\\n  uv3_2.y = ((uv_1.x * -0.8660102) + (uv_1.y * -0.5000263));\\n  vec4 tmpvar_4;\\n  tmpvar_4.w = 1.0;\\n  tmpvar_4.xyz = max (max (texture (sampler_main, (uv_1 + 0.5)).xyz, texture (sampler_main, (uv2_3 + 0.5)).xyz), texture (sampler_main, (uv3_2 + 0.5)).xyz);\\n  ret = tmpvar_4.xyz;\\n }"}') }, "./presets/converted/Rovastar - Oozing Resistance.json": e => { e.exports = JSON.parse('{"version":1,"baseVals":{"rating":5,"gammaadj":1,"decay":1,"echo_zoom":1.006596,"echo_alpha":0.5,"additivewave":1,"wave_thick":1,"wave_brighten":0,"wrap":0,"wave_a":4.099998,"wave_scale":0.01,"wave_smoothing":0.63,"wave_mystery":-0.4,"modwavealphastart":0.71,"modwavealphaend":1.3,"warpscale":1.331,"zoom":0.999513,"warp":0.01,"wave_r":0.65,"wave_g":0.65,"wave_b":0.65,"ob_size":0.005,"ob_r":0.01,"ob_a":1,"ib_size":0.26,"mv_x":64,"mv_y":48,"mv_l":0.5,"mv_r":0.35,"mv_g":0.35,"mv_b":0.35,"mv_a":0},"shapes":[{"baseVals":{},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{},"init_eqs_eel":"","frame_eqs_eel":""}],"waves":[{"baseVals":{},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""}],"init_eqs_eel":"","frame_eqs_eel":"ob_r = 0.5+0.5*sin(2*time);\\nob_g = 0.5+0.5*sin(1.23*time);\\nob_b = 0.5+0.5*sin(time*1.321);\\nwave_a =0;\\nq8 =oldq8+ 0.003*(pow(1.2*bass+0.4*bass_att+0.1*treb+0.1*treb_att+0.1*mid+0.1*mid_att,6)/fps);\\noldq8 = q8;\\nwarp=0;","pixel_eqs_eel":"rot = 0.1*(rad+cos((5+5*sin(q8*1.211)*x)-0.5) -sin(((5+5*sin(q8*0.973))*y)-0.5));\\ndx = 0.005*(cos((5+5*sin(q8*1.311)*x)-0.5) -sin(((5+5*sin(q8*0.9431))*y)-0.5));\\ndy = 0.005*(cos((5+5*sin(q8*1.021)*x)-0.5) -sin(((5+5*sin(q8*0.987))*y)-0.5));\\nzoom =1- 0.005*(rad+cos((5+5*sin(q8*0.943)*x)-0.5) -sin(((5+5*sin(q8*1.0961))*y)-0.5));","warp":"","comp":""}') }, "./presets/converted/ShadowHarlequin - LovelyShinySquares [ liquid starburst rmx ] - unchained + rovaster - luckless - martin - starfield sector.json": e => { e.exports = JSON.parse('{"version":2,"baseVals":{"gammaadj":2.7,"echo_zoom":1,"echo_alpha":0.5,"echo_orient":3,"wave_mode":4,"additivewave":1,"wave_thick":1,"modwavealphabyvolume":1,"wrap":0,"darken":1,"wave_a":0.865,"wave_scale":3.75,"wave_smoothing":0,"modwavealphastart":0.4,"modwavealphaend":1.3,"warpanimspeed":0.01,"warpscale":100,"zoomexp":0.32545,"warp":0.01,"wave_r":0.65,"wave_g":0.65,"wave_b":0.65,"ob_size":0.005,"ob_a":1,"ib_size":0,"ib_r":1,"ib_g":1,"ib_b":1,"ib_a":1,"mv_x":64,"mv_y":9.6,"mv_l":5,"mv_r":0,"mv_g":0,"mv_b":0,"mv_a":0.3},"shapes":[{"baseVals":{"enabled":1,"sides":100,"textured":1,"x":0.37,"rad":100,"ang":3.64425,"r":0,"a":0.1,"g2":0,"a2":0.13,"border_a":1},"init_eqs_eel":"t1 = rand(100)*0.01;\\nt2 = rand(100)*0.01;","frame_eqs_eel":"tex_ang = time*(0.3 + 0.1*t1);\\nrad = rad * (0.9 + 0.2*t2);\\nr = min(1,max(0,r + 0.2*sin(time*0.417 + 1)));\\ng = min(1,max(0,g + 0.2*sin(time*0.391 + 2)));\\nb = min(1,max(0,b + 0.2*sin(time*0.432 + 4)));\\nr2 = min(1,max(0,r2 + 0.2*sin(time*0.657 + 3)));\\ng2 = min(1,max(0,g2 + 0.2*sin(time*0.737 + 5)));\\nb2 = min(1,max(0,b2 + 0.2*sin(time*0.884 + 6)));\\n//a1 = (bass_att);\\na1 = 0.3 + 0.1 * sin(treb_att * .55);\\nmv_l = 3 + 1 * (treb_att * .25);\\n"},{"baseVals":{"enabled":1,"sides":100,"additive":1,"textured":1,"x":0.37,"rad":0.89796,"ang":3.64425,"r":0,"a":0.1,"g2":0,"border_a":0},"init_eqs_eel":"t1 = rand(100)*0.01;\\nt2 = rand(100)*0.01;","frame_eqs_eel":"x = x + 0.05*sin(mid_att*0.15+3);\\ny = y + 0.03*sin(mid_att*0.19+1);\\ntex_ang = bass_att*(0.1 + 0.1*treb_att);\\nrad = rad * (0.9 + 0.6*treb_att);\\n\\n\\n\\nx = x + sin(treb_att * .005);\\ny = y + sin(mid_att * .013);\\na = 0 + (treb * .1);"},{"baseVals":{"enabled":1,"sides":13,"additive":1,"textured":1,"x":0.77,"y":0.43,"rad":0.51386,"ang":4.20974,"g":1,"b":1,"g2":0,"a2":1,"border_a":0},"init_eqs_eel":"t1 = rand(100)*0.01;\\nt2 = rand(100)*0.01;","frame_eqs_eel":"x = x + 0.05*(bass_att*0.07);\\ny = y + 0.03*(bass_att*0.03);\\ntex_ang = mid_att*(0.8 + 0.1*t1);\\nrad = rad * (0.9 + 0.2*mid_att);\\nr = min(1,max(0,r + 0.1*(bass_att*0.417 + 1)));\\ng = min(1,max(0,g + 0.1*(mid_att*0.391 + 2)));\\nb = min(1,max(0,b + 0.1*(treb_att*0.432 + 4)));\\nr2 = min(1,max(0,r2 + 0.1*sin(bass_att*0.457 + 3)));\\ng2 = min(1,max(0,g2 + 0.1*sin(mid_att*0.437 + 5)));\\nb2 = min(1,max(0,b2 + 0.1*sin(treb_att*0.484 + 6)));\\nsides = treb_att;\\n\\nx = x + sin(mid_att * .019);\\ny = y + sin(treb_att * .015);\\nnum_inst = sin(mid_att * .25);\\n\\nr = 0.5 + 0.5*sin(frame*2.5);\\nb = 0.5 + 0.5*sin(frame*0.5 + 2.094);\\ng = 0.5 + 0.5*sin(frame*0.5 + 1.188);"},{"baseVals":{"enabled":1,"sides":3,"additive":1,"textured":1,"y":0.7,"rad":1.33692,"r":0,"g":0.8,"b":1,"a":0.1,"g2":0,"border_a":0},"init_eqs_eel":"","frame_eqs_eel":"x = x + 0.2*sin(treb_att*0.25);\\ny = y + 0.1*sin(treb_att*0.5+2);\\nrot = mid_att * .45;\\n\\nr = min(1,max(0,r + 0.1*(bass_att*0.417 + 1)));\\ng = min(1,max(0,g + 0.1*(mid_att*0.391 + 2)));\\nb = min(1,max(0,b + 0.1*(treb_att*0.432 + 4)));\\nr2 = min(1,max(0,r2 + 0.1*sin(bass_att*0.457 + 3)));\\ng2 = min(1,max(0,g2 + 0.1*sin(mid_att*0.437 + 5)));\\nb2 = min(1,max(0,b2 + 0.1*sin(treb_att*0.484 + 6)));\\nang = sin(treb_att);\\n\\nx = x + sin(mid_att * .016);\\ny = x + sin(treb_att * .015);\\nnum_inst = sin(treb_att * .35);\\n\\nr = 0.5 + 0.5*sin(frame*2.5);\\nb = 0.5 + 0.5*sin(frame*0.5 + 2.094);\\ng = 0.5 + 0.5*sin(frame*0.5 + 1.188);\\n\\n\\nrad = rad + (treb * .001);"}],"waves":[{"baseVals":{"enabled":1,"spectrum":1,"thick":1,"additive":1,"scaling":9.86086},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":"ma=ma+(above(bass_att,1)*3.1415*.01*bass_att);\\nma=ma-(above(treb_att,1)*3.1415*.01*treb_att);\\n\\nmx=mx+(.0002*cos(ma));\\nmy=my+(.0002*sin(ma));\\n\\nmx=if(above(mx,.9),(.9-mx),mx);\\nmy=if(above(my,.9),(.9-my),my);\\nmx=if(below(mx,.1),(.9+mx),mx);\\nmy=if(below(my,.1),(.9+my),my);\\n\\nx=mx;\\ny=my;\\n\\n//a=(above(bass+mid+treb,.8));\\n//a = bass_att * .35;\\n\\nr = sin(treb+att * .45);\\nb = sin(treb+att * .65);\\ng = sin(treb+att * .25);\\n\\n"},{"baseVals":{"enabled":1,"spectrum":1,"thick":1,"additive":1,"scaling":27.42973},"init_eqs_eel":"","frame_eqs_eel":"//r = min(1,max(0,r + 0.1*(bass_att*0.217 + 1)));\\n//g = min(1,max(0,g + 0.1*(treb_att*0.191 + 2)));\\n//b = min(1,max(0,b + 0.1*sin(mid_att*0.232 + 4)));\\n//r2 = min(1,max(0,r2 + 0.1*sin(bass_att*0.257 + 3)));\\n//g2 = min(1,max(0,g2 + 0.1*sin(treb_att*0.237 + 5)));\\n//b2 = min(1,max(0,b2 + 0.1*sin(mid_att*0.284 + 6)));\\n\\n\\na1 = treb_att * .25;\\na2 = mid_att * .15;\\na3 = treb_att * .25;\\n\\n\\nr = sin(treb_att);\\nb = sin(treb_att);\\ng = sin(treb_att);","point_eqs_eel":"ma=ma+(above(bass_att,1)*3.1415*.01*bass_att);\\nma=ma-(above(treb_att,1)*3.1415*.01*treb_att);\\n\\nmx=mx+(.0002*cos(ma));\\nmy=my+(.0002*sin(ma));\\n\\nmx=if(above(mx,.9),(.9-mx),mx);\\nmy=if(above(my,.9),(.9-my),my);\\nmx=if(below(mx,.1),(.9+mx),mx);\\nmy=if(below(my,.1),(.9+my),my);\\n\\nx=mx;\\ny=my;\\n\\n//a=(above(bass+mid+treb,.8));\\n//a = bass_att * .35;\\n\\nr = sin(treb+att * .45);\\nb = sin(treb+att * .65);\\ng = sin(treb+att * .25);\\n\\n"},{"baseVals":{"enabled":1,"thick":1,"additive":1,"scaling":6.62306,"r":0.5,"g":0.5,"b":0.5},"init_eqs_eel":"","frame_eqs_eel":"//r = min(1,max(0,r + 0.1*(bass_att*0.217 + 1)));\\n//g = min(1,max(0,g + 0.1*(treb_att*0.191 + 2)));\\n//b = min(1,max(0,b + 0.1*(mid_att*0.232 + 4)));\\nr2 = min(1,max(0,r2 + 0.1*sin(bass_att*0.257 + 3)));\\ng2 = min(1,max(0,g2 + 0.1*sin(treb_att*0.237 + 5)));\\nb2 = min(1,max(0,b2 + 0.1*sin(mid_att*0.284 + 6)));\\na1 = treb_att * .25;\\na2 = mid_att * .15;\\na3 = treb_att * .25;\\n","point_eqs_eel":"ma=ma+(above(bass_att,1)*3.1415*.01*bass_att);\\nma=ma-(above(treb_att,1)*3.1415*.01*treb_att);\\n\\nmx=mx+(.0002*cos(ma));\\nmy=my+(.0002*sin(ma));\\n\\nmx=if(above(mx,.9),(.9-mx),mx);\\nmy=if(above(my,.9),(.9-my),my);\\nmx=if(below(mx,.1),(.9+mx),mx);\\nmy=if(below(my,.1),(.9+my),my);\\n\\nx=mx;\\ny=my;\\n\\n//a=(above(bass+mid+treb,.8));\\n//a = bass_att * .35;\\n\\nr = sin(treb+att * .45);\\nb = sin(treb+att * .65);\\ng = sin(treb+att * .25);\\n\\n"},{"baseVals":{"enabled":1,"samples":142,"thick":1,"scaling":8.9269,"r":0.6,"g":0},"init_eqs_eel":"","frame_eqs_eel":"//r = min(1,max(0,r + 0.1*(bass_att*0.217 + 1)));\\n//g = min(1,max(0,g + 0.1*(treb_att*0.191 + 2)));\\n//b = min(1,max(0,b + 0.1*(mid_att*0.232 + 4)));\\nr2 = min(1,max(0,r2 + 0.1*sin(bass_att*0.257 + 3)));\\ng2 = min(1,max(0,g2 + 0.1*sin(treb_att*0.237 + 5)));\\nb2 = min(1,max(0,b2 + 0.1*sin(mid_att*0.284 + 6)));\\n\\n\\nr = 255;\\nb = 255;\\ng = 255;","point_eqs_eel":"ma=ma+(above(bass_att,1)*3.1415*.01*bass_att);\\nma=ma-(above(treb_att,1)*3.1415*.01*treb_att);\\n\\nmx=mx+(.0002*cos(ma));\\nmy=my+(.0002*sin(ma));\\n\\nmx=if(above(mx,.9),(.9-mx),mx);\\nmy=if(above(my,.9),(.9-my),my);\\nmx=if(below(mx,.1),(.9+mx),mx);\\nmy=if(below(my,.1),(.9+my),my);\\n\\nx=mx;\\ny=my;\\n\\n//a=(above(bass+mid+treb,.8));\\n//a = bass_att * .35;\\n\\nr = sin(treb+att * .45);\\nb = sin(treb+att * .65);\\ng = sin(treb+att * .25);\\n\\n"}],"init_eqs_eel":"","frame_eqs_eel":"//Variables controling the glitch effect////////////////////////////////////////\\ndecayrate = 0.09;   //How fast the glitch effect decays back to original image\\ntrebresp = 2.8;    //Level of treb needed for effect to take place\\n////////////////////////////////////////////////////////////////////////////////\\n\\n\\ncdecay = pow(decayrate, 30/fps);\\ncount = above(treb, trebresp)*1 + (1-above(treb, 3))*count;\\ncount = count - above(count, cdecay)*cdecay;\\nq29=count;\\nmonitor = q29;\\n\\n\\n\\ndecay = 0;\\n\\ndt = 0.02;\\n\\nh = h + v*dt;\\n\\nv = v*0.986 + a*dt;\\na = -(h - 0.5)*0.4 + sqrt(- min(0,(w1v+w2v)*0.1)) - .175;\\n\\nmonitor = w2;\\n\\n\\nw1 = w1 + w1v*dt;\\nw1v = w1v*0.98 + w1a*dt;\\nw1a = -(w1)*20 - w2a*0.1   + av*30;\\n\\nw2 = w2 + w2v*dt;\\nw2v = w2v*0.98 + w2a*dt;\\nw2a = -(w2-w1)*20;\\n\\nbb = bb*0.99 + bass*0.02;\\nmm = mm*0.99 + mid*0.02;\\ntt = tt*0.99 + treb*0.02;\\n\\nmi = min(min(bb,mm),tt);\\nma = max(max(bb,mm),tt);\\nav = (bb+mm+tt-mi-ma);\\nq5 = av;\\navn = (av-mi)/(ma-mi);\\nav = abs(avo-avn);\\navo = avn;\\n\\nq1 = h*0.8 + 0.12;\\nq2 = (w1);\\nq3 = (w2 + w1);\\nq4 = 0.1+ avo*0.1;\\n\\n\\n\\nwave_r = 0.5 + 0.5*sin(frame*2.5);\\nwave_b = 0.5 + 0.5*sin(frame*0.5 + 1.094);\\nwave_g = 0.5 + 0.5*sin(frame*0.5 + 1.188);","pixel_eqs_eel":"","warp":" shader_body { \\n  vec2 uv_1;\\n  vec3 ret_2;\\n  vec2 tmpvar_3;\\n  tmpvar_3 = ((uv * texsize.xy) * 0.08);\\n  uv_1 = (uv - ((\\n    (sin(tmpvar_3) / cos(tmpvar_3))\\n   * texsize.zw) * (treb * 3.0)));\\n  vec3 tmpvar_4;\\n  tmpvar_4 = (texture (sampler_main, uv_1).xyz + (vec3(dot (texture (sampler_noise_lq, \\n    ((((texsize.xy * texsize_noise_lq.zw).x * uv) * 0.02) + (0.1 * rand_frame).xy)\\n  ), vec4(0.32, 0.49, 0.29, 0.0))) / 30.0));\\n  ret_2 = ((mix (tmpvar_4, \\n    (1.0 - tmpvar_4.zyx)\\n  , vec3(0.01, 0.01, 0.01)) - 0.03) - (0.2 * pow (\\n    (1.0 - rad)\\n  , \\n    (treb * 90.0)\\n  )));\\n  ret_2 = (ret_2 + (ret_2 * (vol * 0.001)));\\n  ret_2 = (ret_2 + (ret_2 * (treb * 0.025)));\\n  ret_2 = (ret_2 + 0.001);\\n  uv_1 = (uv_1 + ((treb_att * 0.001) * texture (sampler_main, uv_1)).xy);\\n  ret_2 = (ret_2 + ((\\n    (texture (sampler_blur3, uv_1).xyz * scale3)\\n   + bias3) * 0.05));\\n  vec4 tmpvar_5;\\n  tmpvar_5.w = 1.0;\\n  tmpvar_5.xyz = ret_2;\\n  ret = tmpvar_5.xyz;\\n }","comp":" shader_body { \\n  vec2 uv_1;\\n  vec3 crisp_2;\\n  vec2 uv3_3;\\n  vec2 uv2_4;\\n  vec3 ret_5;\\n  vec2 tmpvar_6;\\n  vec2 tmpvar_7;\\n  tmpvar_7 = (uv - 0.5);\\n  tmpvar_6 = (tmpvar_7 * aspect.xy);\\n  float tmpvar_8;\\n  tmpvar_8 = (0.1 / (sqrt(\\n    dot (tmpvar_6, tmpvar_6)\\n  ) + 0.05));\\n  vec2 tmpvar_9;\\n  float tmpvar_10;\\n  tmpvar_10 = (ang / 3.14);\\n  tmpvar_9.x = tmpvar_10;\\n  tmpvar_9.y = (tmpvar_8 * 1.5);\\n  uv2_4.y = (tmpvar_9.y + (0.1 * time));\\n  uv2_4.x = (tmpvar_10 + (0.02 * time));\\n  uv3_3.y = (tmpvar_8 + q30);\\n  uv3_3.x = (tmpvar_10 + (time / 32.0));\\n  crisp_2 = ((texture (sampler_main, fract(uv2_4)).xyz + (2.0 * texture (sampler_main, \\n    fract(uv3_3)\\n  ).xyz)) + ((2.0 * \\n    ((texture (sampler_blur2, fract(uv2_4)).xyz * scale2) + bias2)\\n  ) + (2.0 * \\n    ((texture (sampler_blur2, fract(uv3_3)).xyz * scale2) + bias2)\\n  )));\\n  crisp_2 = ((3.0 * crisp_2) * rad);\\n  float tmpvar_11;\\n  tmpvar_11 = clamp ((1.0 - (4.0 * rad)), 0.0, 1.0);\\n  ret_5 = ((crisp_2 + (\\n    ((vec3(1.0, 0.0, 1.0) * uv.y) * pow ((1.0 - rad), 8.0))\\n   * tmpvar_11)) + (tmpvar_11 * texture (sampler_main, fract(uv)).xyz));\\n  uv_1 = ((tmpvar_7 * aspect.xy) + 0.5);\\n  vec2 tmpvar_12;\\n  tmpvar_12 = (1.0 - uv_1);\\n  vec3 tmpvar_13;\\n  tmpvar_13 = (texture (sampler_main, uv_1).xyz + (2.0 * (\\n    (texture (sampler_blur2, uv_1).xyz * scale2)\\n   + bias2)));\\n  vec3 tmpvar_14;\\n  tmpvar_14 = (texture (sampler_main, tmpvar_12).xyz + (2.0 * (\\n    (texture (sampler_blur2, tmpvar_12).xyz * scale2)\\n   + bias2)));\\n  vec3 tmpvar_15;\\n  tmpvar_15 = mix (ret_5, mix ((tmpvar_13 * tmpvar_14), (tmpvar_13 + tmpvar_14), vec3((q29 * 0.16))), vec3((q29 * 0.5)));\\n  vec3 tmpvar_16;\\n  tmpvar_16 = mix (tmpvar_15, (1.0 - tmpvar_15), ((q29 * tmpvar_15) * (rad * \\n    (2.0 - q29)\\n  )));\\n  ret_5 = (tmpvar_16 * (tmpvar_16 + (treb * 0.001)));\\n  vec4 tmpvar_17;\\n  tmpvar_17.w = 1.0;\\n  tmpvar_17.xyz = ret_5;\\n  ret = tmpvar_17.xyz;\\n }"}') }, "./presets/converted/TonyMilkdrop - Leonardo Da Vinci's Balloon [Flexi - merry-go-round + techstyle].json": e => { e.exports = JSON.parse('{"version":2,"baseVals":{"rating":3,"echo_zoom":1,"wave_mode":1,"wave_thick":1,"wrap":0,"invert":1,"wave_scale":0.5,"wave_smoothing":0.45,"warpanimspeed":2.217,"warpscale":100,"zoomexp":100,"zoom":1.01,"warp":1.25946,"wave_r":0,"wave_g":0,"wave_b":0,"ob_r":1,"ob_g":1,"ob_b":1,"ob_a":1,"ib_r":1,"ib_g":1,"ib_b":1,"mv_a":0},"shapes":[{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""}],"waves":[{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""}],"init_eqs_eel":"","frame_eqs_eel":"q1 = 0.0003*(pow(1.2+1*bass+0.4*bass_att+0.1*treb+0.1*treb_att+0.1*mid+0.1*mid_att,6));\\nmonitor = q1;\\nwave_r = wave_r + 0.5*sin(time*1.13);\\nwave_g = wave_g + 0.5*sin(time*1.23);\\nwave_b = wave_b + 0.5*sin(time*1.33);\\nob_r = ob_r + 1*sin(time*2.26);\\nob_g = ob_g + 1*sin(time*2.46);\\nob_b = ob_b + 1*sin(time*2.66);","pixel_eqs_eel":"zoom = zoom + 0.125*sin(q1);\\nrot = rot + 0.25*sin(fps*100)*q1/2;\\nzoom = zoom - 0.05*sin(rad);\\nrot = rot + 0.05*sin(fps*5);","warp":" shader_body { \\n  vec3 ret_1;\\n  vec2 tmpvar_2;\\n  tmpvar_2 = fract(uv);\\n  vec2 tmpvar_3;\\n  tmpvar_3 = (((uv_orig * texsize.xy) * texsize_noise_lq.zw) + rand_frame.xy);\\n  vec2 tmpvar_4;\\n  tmpvar_4 = (texsize.zw * 12.0);\\n  vec3 tmpvar_5;\\n  tmpvar_5 = (((2.0 * \\n    ((texture (sampler_blur3, (uv_orig + (vec2(1.0, 0.0) * tmpvar_4))).xyz * scale3) + bias3)\\n  ) - (2.0 * \\n    ((texture (sampler_blur3, (uv_orig - (vec2(1.0, 0.0) * tmpvar_4))).xyz * scale3) + bias3)\\n  )) * 0.5);\\n  vec3 tmpvar_6;\\n  tmpvar_6 = (((2.0 * \\n    ((texture (sampler_blur3, (uv_orig + (vec2(0.0, 1.0) * tmpvar_4))).xyz * scale3) + bias3)\\n  ) - (2.0 * \\n    ((texture (sampler_blur3, (uv_orig - (vec2(0.0, 1.0) * tmpvar_4))).xyz * scale3) + bias3)\\n  )) * 0.5);\\n  ret_1.x = ((texture (sampler_fc_main, tmpvar_2).x - (\\n    (((texture (sampler_blur3, tmpvar_2).xyz * scale3) + bias3) - texture (sampler_fc_main, tmpvar_2).xyz)\\n  .x * 0.1)) - 0.035);\\n  vec2 tmpvar_7;\\n  tmpvar_7.x = tmpvar_5.x;\\n  tmpvar_7.y = tmpvar_6.x;\\n  vec2 tmpvar_8;\\n  tmpvar_8.x = tmpvar_5.y;\\n  tmpvar_8.y = tmpvar_6.y;\\n  ret_1.y = (((texture (sampler_fc_main, \\n    (((uv_orig + (\\n      ((texture (sampler_noise_lq, tmpvar_3).xy - 0.5) * texsize.zw)\\n     * 4.0)) - ((tmpvar_7 * texsize.zw) * 4.0)) + ((tmpvar_8 * texsize.zw) * 8.0))\\n  ).y + \\n    ((texture (sampler_noise_lq, tmpvar_3).xyz - 0.5) * 0.1)\\n  ) - 0.012) + (texture (sampler_pc_main, uv_orig).z * 0.2)).x;\\n  vec2 tmpvar_9;\\n  tmpvar_9.x = tmpvar_6.x;\\n  tmpvar_9.y = -(tmpvar_5.x);\\n  vec2 tmpvar_10;\\n  tmpvar_10 = ((uv_orig + (\\n    ((texture (sampler_noise_lq, tmpvar_3).xy - 0.5) * texsize.zw)\\n   * 2.0)) + ((tmpvar_9 * texsize.zw) * 64.0));\\n  ret_1.z = (((\\n    (texture (sampler_fc_main, tmpvar_10).z + ((texture (sampler_fc_main, tmpvar_10).z - (\\n      (texture (sampler_blur2, tmpvar_10).xyz * scale2)\\n     + bias2).z) * 0.2))\\n   + \\n    (texture (sampler_noise_lq, tmpvar_3).xyz * 0.1)\\n  ) - (\\n    (texture (sampler_blur3, uv_orig).xyz * scale3)\\n   + bias3).x) - (clamp (\\n    (1.0 - ((texture (sampler_blur2, uv_orig).xyz * scale2) + bias2).x)\\n  , 0.0, 1.0) * 0.04)).x;\\n  vec4 tmpvar_11;\\n  tmpvar_11.w = 1.0;\\n  tmpvar_11.xyz = ret_1;\\n  ret = tmpvar_11.xyz;\\n }","comp":"vec2 xlat_mutabled;\\nvec3 xlat_mutabledx;\\nvec3 xlat_mutabledy;\\n shader_body { \\n  vec3 ret_1;\\n  xlat_mutabled = (texsize.zw * 1.5);\\n  xlat_mutabledx = (texture (sampler_main, (uv_orig + (vec2(1.0, 0.0) * xlat_mutabled))).xyz - texture (sampler_main, (uv_orig - (vec2(1.0, 0.0) * xlat_mutabled))).xyz);\\n  xlat_mutabledy = (texture (sampler_main, (uv_orig + (vec2(0.0, 1.0) * xlat_mutabled))).xyz - texture (sampler_main, (uv_orig - (vec2(0.0, 1.0) * xlat_mutabled))).xyz);\\n  vec2 tmpvar_2;\\n  tmpvar_2.x = xlat_mutabledx.y;\\n  tmpvar_2.y = xlat_mutabledy.y;\\n  vec2 x_3;\\n  x_3 = (tmpvar_2 * 8.0);\\n  ret_1 = (((texture (sampler_main, uv).x * \\n    (1.0 - sqrt(dot (x_3, x_3)))\\n  ) * pow (hue_shader, vec3(6.0, 6.0, 6.0))) * 1.4);\\n  vec2 tmpvar_4;\\n  tmpvar_4.x = xlat_mutabledx.z;\\n  tmpvar_4.y = xlat_mutabledy.z;\\n  vec2 x_5;\\n  x_5 = (tmpvar_4 * 4.0);\\n  vec3 tmpvar_6;\\n  tmpvar_6 = mix (ret_1, vec3(1.0, 1.0, 1.0), vec3(sqrt(dot (x_5, x_5))));\\n  ret_1 = tmpvar_6;\\n  vec4 tmpvar_7;\\n  tmpvar_7.w = 1.0;\\n  tmpvar_7.xyz = tmpvar_6;\\n  ret = tmpvar_7.xyz;\\n }"}') }, "./presets/converted/TonyMilkdrop - Magellan's Nebula [Flexi - you enter first + multiverse].json": e => { e.exports = JSON.parse('{"version":2,"baseVals":{"rating":3,"gammaadj":1.3,"decay":1,"echo_zoom":1.75,"echo_alpha":0.15,"echo_orient":3,"wave_mode":1,"wave_dots":1,"darken":1,"wave_scale":0.5,"wave_smoothing":0.9,"warp":0.01,"mv_l":5},"shapes":[{"baseVals":{"enabled":1,"sides":100,"border_a":0},"init_eqs_eel":"","frame_eqs_eel":"r = r + 1*sin(time*0.339);\\ng = g + 1*sin(time*0.369);\\nb = b + 1*sin(time*0.399);\\nr2 = r2 + 1*sin(time*0.113);\\ng2 = g2 + 1*sin(time*0.123);\\nb2 = b2 + 1*sin(time*0.133);\\nrad = q1/3;"},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""}],"waves":[{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""}],"init_eqs_eel":"","frame_eqs_eel":"q1 = 0.0003*(pow(1+1.2*bass+0.4*bass_att+0.1*treb+0.1*treb_att+0.1*mid+0.1*mid_att,6));\\nmv_a = q1;\\nmv_x = mv_x + 1*sin(time);\\nmv_y = mv_y + 1*cos(time);\\nmv_dx = mv_dx + 1.25*sin(fps*8);\\nmv_dy = mv_dy + 1.35*sin(fps*8);\\nmv_r = mv_r + 1*sin(time*0.565);\\nmv_g = mv_g + 1*sin(time*0.615);\\nmv_b = mv_b + 1*sin(time*0.665);\\nwave_r = wave_r + 0.5*sin(time*1.13);\\nwave_g = wave_g + 0.5*sin(time*1.23);\\nwave_b = wave_b + 0.5*sin(time*1.33);","pixel_eqs_eel":"zoom = zoom + 0.0125*q1;\\nrot = rot + 0.025*sin(fps*10)*q1;\\nwarp = 0;","warp":" shader_body { \\n  vec2 my_uv_1;\\n  vec3 ret_2;\\n  vec3 tmpvar_3;\\n  tmpvar_3 = ((640.0 * texsize.z) * ((2.0 * \\n    ((texture (sampler_blur2, (uv + vec2(0.01, 0.0))).xyz * scale2) + bias2)\\n  ) - (2.0 * \\n    ((texture (sampler_blur2, (uv - vec2(0.01, 0.0))).xyz * scale2) + bias2)\\n  )));\\n  vec3 tmpvar_4;\\n  tmpvar_4 = ((512.0 * texsize.w) * ((2.0 * \\n    ((texture (sampler_blur2, (uv + vec2(0.0, 0.01))).xyz * scale2) + bias2)\\n  ) - (2.0 * \\n    ((texture (sampler_blur2, (uv - vec2(0.0, 0.01))).xyz * scale2) + bias2)\\n  )));\\n  vec2 tmpvar_5;\\n  tmpvar_5.x = tmpvar_3.y;\\n  tmpvar_5.y = tmpvar_4.y;\\n  vec2 tmpvar_6;\\n  tmpvar_6.x = tmpvar_3.x;\\n  tmpvar_6.y = tmpvar_4.x;\\n  vec2 tmpvar_7;\\n  tmpvar_7.x = tmpvar_4.y;\\n  tmpvar_7.y = -(tmpvar_3.y);\\n  vec2 tmpvar_8;\\n  tmpvar_8 = (uv - ((\\n    ((tmpvar_5 * 0.3) + (tmpvar_6 * 0.1))\\n   + \\n    (tmpvar_7 * 0.01)\\n  ) * 0.01));\\n  ret_2.x = texture (sampler_fw_main, (tmpvar_8 - floor(tmpvar_8))).x;\\n  ret_2.x = (ret_2.x + ((\\n    (2.0 * ret_2.x)\\n   - \\n    (2.0 * ((texture (sampler_blur1, tmpvar_8).xyz * scale1) + bias1).x)\\n  ) * 0.25));\\n  vec2 tmpvar_9;\\n  tmpvar_9.x = tmpvar_3.y;\\n  tmpvar_9.y = tmpvar_4.y;\\n  vec2 tmpvar_10;\\n  tmpvar_10.x = tmpvar_4.x;\\n  tmpvar_10.y = -(tmpvar_3.y);\\n  my_uv_1 = ((uv - (tmpvar_9 * 0.01)) + (tmpvar_10 * 0.001));\\n  ret_2.y = texture (sampler_fw_main, (my_uv_1 - floor(my_uv_1))).y;\\n  ret_2.y = (ret_2.y + ((\\n    ((2.0 * ret_2.y) - (2.0 * ((texture (sampler_blur3, my_uv_1).xyz * scale3) + bias3).y))\\n   * 0.025) + 0.01));\\n  vec4 tmpvar_11;\\n  tmpvar_11.w = 1.0;\\n  tmpvar_11.xyz = ret_2;\\n  ret = tmpvar_11.xyz;\\n }","comp":"vec2 xlat_mutablefactorA;\\n shader_body { \\n  vec2 uv_1;\\n  vec2 dz_2;\\n  vec3 dy_3;\\n  vec3 dx_4;\\n  vec2 d_5;\\n  vec3 ret_6;\\n  xlat_mutablefactorA = (uv - vec2(0.5, 0.5));\\n  vec2 tmpvar_7;\\n  tmpvar_7.x = -((xlat_mutablefactorA.y * -1024.0));\\n  tmpvar_7.y = (xlat_mutablefactorA.x * -1024.0);\\n  vec2 tmpvar_8;\\n  tmpvar_8.x = tmpvar_7.x;\\n  tmpvar_8.y = -(tmpvar_7.y);\\n  uv_1 = (vec2(-100.0, 100.0) * (tmpvar_8 / (\\n    (tmpvar_7.x * tmpvar_7.x)\\n   + \\n    (tmpvar_7.y * tmpvar_7.y)\\n  )).yx);\\n  uv_1 = (0.5 + ((\\n    (1.0 - abs(((\\n      fract((mix ((0.5 + \\n        (((0.5 + (\\n          (uv - 0.5)\\n         * vec2(1.1, 0.81))) - 0.5) * 2.0)\\n      ), (uv_1 + 0.5), vec2(0.5, 0.5)) * 0.5))\\n     * 2.0) - 1.0)))\\n   - 0.5) * 0.98));\\n  vec2 tmpvar_9;\\n  vec2 tmpvar_10;\\n  tmpvar_10 = (vec2(1.0, 0.0) * texsize.zw);\\n  tmpvar_9.x = (texture (sampler_main, (uv_1 + tmpvar_10)).xyz - texture (sampler_main, (uv_1 - tmpvar_10)).xyz).y;\\n  vec2 tmpvar_11;\\n  tmpvar_11 = (vec2(0.0, 1.0) * texsize.zw);\\n  tmpvar_9.y = (texture (sampler_main, (uv_1 + tmpvar_11)).xyz - texture (sampler_main, (uv_1 - tmpvar_11)).xyz).y;\\n  d_5 = (texsize.zw * 2.0);\\n  dx_4 = (((2.0 * \\n    ((texture (sampler_blur1, (uv_1 + (vec2(1.0, 0.0) * d_5))).xyz * scale1) + bias1)\\n  ) - (2.0 * \\n    ((texture (sampler_blur1, (uv_1 - (vec2(1.0, 0.0) * d_5))).xyz * scale1) + bias1)\\n  )) * 0.5);\\n  dy_3 = (((2.0 * \\n    ((texture (sampler_blur1, (uv_1 + (vec2(0.0, 1.0) * d_5))).xyz * scale1) + bias1)\\n  ) - (2.0 * \\n    ((texture (sampler_blur1, (uv_1 - (vec2(0.0, 1.0) * d_5))).xyz * scale1) + bias1)\\n  )) * 0.5);\\n  vec2 tmpvar_12;\\n  tmpvar_12.x = dx_4.y;\\n  tmpvar_12.y = dy_3.y;\\n  dz_2 = ((tmpvar_9 * 3.0) + tmpvar_12);\\n  ret_6 = (vec3(((\\n    pow ((sqrt(dot (dz_2, dz_2)) * 0.8), 0.7)\\n   + \\n    (((texture (sampler_blur2, uv_1).xyz * scale2) + bias2).y * 0.4)\\n  ) - 0.1)) * vec3(0.3, 0.5, 0.7));\\n  vec2 tmpvar_13;\\n  tmpvar_13.x = dx_4.x;\\n  tmpvar_13.y = dy_3.x;\\n  vec3 tmpvar_14;\\n  tmpvar_14 = mix (mix (ret_6, vec3(0.2, 0.1, 0.0), vec3((texture (sampler_main, \\n    (uv_1 + ((tmpvar_13 * texsize.zw) * 18.0))\\n  ).x * 6.0))), vec3(1.0, 1.0, 1.0), texture (sampler_main, uv_1).zzz);\\n  ret_6 = tmpvar_14;\\n  vec4 tmpvar_15;\\n  tmpvar_15.w = 1.0;\\n  tmpvar_15.xyz = tmpvar_14;\\n  ret = tmpvar_15.xyz;\\n }"}') }, "./presets/converted/Unchained - Rewop.json": e => { e.exports = JSON.parse('{"version":1,"baseVals":{"rating":5,"gammaadj":1,"decay":0.94,"echo_zoom":0.9998,"echo_alpha":0.4999,"echo_orient":3,"wave_mode":1,"additivewave":1,"wave_dots":1,"wave_brighten":0,"wave_a":1.254574,"wave_scale":0.45029,"wave_smoothing":0,"zoomexp":1.008151,"zoom":0.659411,"warp":0.01,"wave_r":0.5,"wave_g":0.5,"wave_b":0.5,"ob_size":0.005,"ob_r":1,"ob_a":1,"ib_size":0.005,"ib_r":0,"ib_g":0,"ib_b":0,"ib_a":0.9,"mv_x":64,"mv_y":48,"mv_l":0,"mv_r":0,"mv_g":0.7,"mv_a":0},"shapes":[{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""}],"waves":[{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""}],"init_eqs_eel":"","frame_eqs_eel":"warp=0;\\nle=1+.5+2*sin(bass_att);\\nbpulse=band(above(le,bth),above(le-bth,bblock));\\nbblock=le-bth;\\nbth=if(above(le,bth),le+114/(le+10)-7.407,\\nbth+bth*.07/(bth-12)+below(bth,2.7)*.1*(2.7-bth));\\nbth=if(above(bth,6),6,bth);\\nbres=bpulse*sin(pulse+le*.5) + bnot(bpulse)*bres;\\n\\nle=1+.5+2*sin(treb_att);\\ntpulse=band(above(le,tth),above(le-tth,tblock));\\ntblock=le-tth;\\ntth=if(above(le,tth),le+114/(le+10)-7.407,\\ntth+tth*.07/(tth-12)+below(tth,2.7)*.1*(2.7-tth));\\ntth=if(above(tth,6),6,tth);\\ntres=tpulse*sin(pulse+le*.5) + bnot(tpulse)*tres;\\n\\nle=1+.5+2*sin(mid_att);\\nmpulse=band(above(le,mth),above(le-mth,mblock));\\nmblock=le-mth;\\nmth=if(above(le,mth),le+114/(le+10)-7.407,\\nmth+mth*.07/(mth-12)+below(mth,2.7)*.1*(2.7-mth));\\nmth=if(above(mth,6),6,mth);\\nmres=mpulse*sin(pulse+le*.5) + bnot(mpulse)*mres;\\n\\n\\n\\npulse=if(above(abs(pulse),3.14),-3.14,pulse+(bth+mth+tth)*.003);\\nq1=bres;\\nq2=tres;\\nq3=mres;\\nq4=sin(pulse);\\n\\nmod_state=(above(q1,0)+above(q2,0)+above(q3,0))*(1+above(q4,0));\\nccl=ccl+tpulse+mpulse-bpulse;\\nq5=cos(pulse*(.5+.1*mod_state));\\nq6=sin(pulse*(.5+pow(.25,mod_state)));\\nq7=mod_state;\\nq8=ccl;\\nob_r=.5+.5*cos(q1+q7);\\nob_g=.5+.5*cos(q2*3.14+q7);\\nob_b=.5+.5*cos(q3*2+sin(time*.0816));\\nib_size=.025+.02*q2;\\nob_size=.03+.02*q3-.002*q7;\\nwave_r=.5+.5*sin(q1*q7+time*2.183);\\nwave_g=.5+.5*sin(q2*3+time*1.211);\\nwave_b=.5+.5*sin(q3+time*1.541);\\n\\nob_a=.8+.2*q2;\\nzoom=zoom+.01*q4;","pixel_eqs_eel":"grid=pow(sin(rad*q6*q2+x*y*q6*q3)*2,1+q7%5)%2;\\nrot=bnot(grid)+grid*q4;\\nsx=sx+sin((q2+.5)*x)*.003;\\nsy=sy+sin((q1+3.4)*y)*.003;\\nzoom=zoom+.11*cos(rad*3.14)*q4;","warp":"","comp":""}') }, "./presets/converted/Unchained - Unified Drag 2.json": e => { e.exports = JSON.parse('{"version":1,"baseVals":{"rating":0,"gammaadj":1,"decay":0.96,"echo_zoom":2.216266,"echo_alpha":0.78,"wave_mode":5,"additivewave":1,"wave_dots":1,"wave_brighten":0,"brighten":1,"wave_a":1.254574,"wave_scale":0.931011,"wave_smoothing":0,"zoomexp":1.0081,"fshader":0.4,"zoom":0.820774,"cx":0.4999,"warp":0.01,"sx":0.999998,"wave_r":0.5,"wave_g":0.5,"wave_b":0.5,"ob_size":0.005,"ob_r":1,"ob_a":1,"ib_size":0.005,"ib_r":0,"ib_g":0,"ib_b":0,"ib_a":0.9,"mv_x":0,"mv_y":0,"mv_l":0.85,"mv_r":0.4999,"mv_g":0.4999,"mv_b":0.4999,"mv_a":0},"shapes":[{"baseVals":{},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{},"init_eqs_eel":"","frame_eqs_eel":""}],"waves":[{"baseVals":{},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""}],"init_eqs_eel":"","frame_eqs_eel":"warp=0;\\nle=1+.5+2*sin(bass_att);\\nbpulse=band(above(le,bth),above(le-bth,bblock));\\nbblock=le-bth;\\nbth=if(above(le,bth),le+114/(le+10)-7.407,\\nbth+bth*.07/(bth-12)+below(bth,2.7)*.1*(2.7-bth));\\nbth=if(above(bth,6),6,bth);\\nbres=bpulse*sin(pulse+le*.5) + bnot(bpulse)*bres;\\n\\nle=1+.5+2*sin(treb_att);\\ntpulse=band(above(le,tth),above(le-tth,tblock));\\ntblock=le-tth;\\ntth=if(above(le,tth),le+114/(le+10)-7.407,\\ntth+tth*.07/(tth-12)+below(tth,2.7)*.1*(2.7-tth));\\ntth=if(above(tth,6),6,tth);\\ntres=tpulse*sin(pulse+le*.5) + bnot(tpulse)*tres;\\n\\nle=1+.5+2*sin(mid_att);\\nmpulse=band(above(le,mth),above(le-mth,mblock));\\nmblock=le-mth;\\nmth=if(above(le,mth),le+114/(le+10)-7.407,\\nmth+mth*.07/(mth-12)+below(mth,2.7)*.1*(2.7-mth));\\nmth=if(above(mth,6),6,mth);\\nmres=mpulse*sin(pulse+le*.5) + bnot(mpulse)*mres;\\n\\n\\n\\npulse=if(above(abs(pulse),3.14),-3.14,pulse+(bth+mth+tth)*.003);\\nq1=bres;\\nq2=tres;\\nq3=mres;\\nq4=sin(pulse);\\n\\nmod_state=(above(q1,0)+above(q2,0)+above(q3,0))*(1+above(q4,0));\\nccl=ccl+tpulse+mpulse-bpulse;\\nq5=cos(pulse*(.5+.1*mod_state));\\nq6=sin(pulse*(.5+pow(.25,mod_state)));\\nq7=mod_state;\\nq8=ccl;\\nob_r=.5+.5*cos(q1+q7);\\nob_g=.5+.5*cos(q2*3.14+q7);\\nob_b=.5+.5*cos(q3*2+sin(time*.0816));\\nib_size=.025+.02*q2;\\nob_size=.03+.02*q3-.002*q7;\\nwave_r=.5+.5*sin(q1*q7+time*2.183);\\nwave_g=.5+.5*sin(q2*3+time*1.211);\\nwave_b=.5+.5*sin(q3+time*1.541);\\n\\nob_a=.8+.2*q2;\\nrot=1;\\ncx=cx+.05*q4;\\ncy=cy+.05*q5;\\nzoom=.95+.05*q6;","pixel_eqs_eel":"snee=bnot(above(sin(ang)-x,.5)*above(q2,0)+above(y-cos(ang),.5)*above(q1,0));\\nsnur=bnot(below(x,.5)*above(q3,0)+below(y,.5)*below(q7,4));\\ngrid=sin(sigmoid(sin(y*6.28*q2),sin(x*6.28*q6))*(10+q7));\\nzoom=zoom+.02*cos(rad*2+rad*q2)*sign(snee)-.04*sin(rad*3.14*q3-3.14*cos(rad*3.14*snur-3.14*q6));\\nsx=if(below(x,.5)*below(y,.5),sx+.2*q4*snur,1+.1*q2*grid);\\nsy=if(below(x,.5)*below(y,.5),sy+.2*q5*snee,1+.1*q2*grid);","warp":"","comp":""}') }, "./presets/converted/Zylot - Paint Spill (Music Reactive Paint Mix).json": e => { e.exports = JSON.parse('{"version":2,"baseVals":{"rating":3,"wave_mode":2,"wrap":0,"wave_a":0.001,"wave_scale":5.819,"wave_mystery":-0.38,"wave_r":0.5,"wave_g":0.5,"wave_b":0.5,"mv_a":0},"shapes":[{"baseVals":{"sides":100,"rad":0.16446,"g":1,"b":1,"a":0,"r2":1,"b2":1,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"a = if(above(bass,2.5),1,0);"},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""}],"waves":[{"baseVals":{"enabled":1,"thick":1},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":"y = sample;\\nx = (value1+value2)*.003;\\na = (value1+value2)*.1;\\nr = .5+.3*sin(sample*10+time);\\ng = .5+.3*cos(sample*10-time*1.334);\\nb = .5+.3*sin(sample*10+time*.998);"},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""}],"init_eqs_eel":"","frame_eqs_eel":"warp = 0;\\nwave_r = wave_r + .4*sin(time*.333)+bass_att*.2;\\nwave_g = wave_g + .4*sin(time*.555)+treb_att*.2;\\nwave_b = wave_b + .4*sin(time*.444)+mid_att*.2;","pixel_eqs_eel":"","warp":" shader_body { \\n  vec2 muv_1;\\n  vec3 ret_2;\\n  float tmpvar_3;\\n  tmpvar_3 = (2.0 * bass_att);\\n  muv_1.x = (uv.x - ((\\n    ((0.01 * cos((\\n      (uv.x * (5.0 + tmpvar_3))\\n     + time))) + (0.01 * cos((\\n      (uv.y * (5.0 + tmpvar_3))\\n     + time))))\\n   * 0.5) * treb_att));\\n  float tmpvar_4;\\n  tmpvar_4 = (2.0 * mid_att);\\n  muv_1.y = (uv.y + ((\\n    ((0.01 * sin((\\n      (uv.x * (5.0 + tmpvar_4))\\n     + time))) - (0.01 * cos((\\n      (uv.y * (5.0 + tmpvar_4))\\n     + time))))\\n   * 0.5) * bass_att));\\n  vec3 tmpvar_5;\\n  tmpvar_5 = ((texture (sampler_blur2, muv_1).xyz * scale2) + bias2);\\n  vec4 tmpvar_6;\\n  tmpvar_6 = texture (sampler_pw_main, muv_1);\\n  ret_2.x = (tmpvar_6.x + (tmpvar_5.x * (bass_att * 0.05)));\\n  ret_2.y = (tmpvar_6.y + (tmpvar_5.y * (treb_att * 0.05)));\\n  ret_2.z = (tmpvar_6.z + (tmpvar_5.z * (mid_att * 0.05)));\\n  if ((ret_2.x > 0.9)) {\\n    ret_2.x = 0.0;\\n  };\\n  if ((ret_2.y > 0.9)) {\\n    ret_2.y = 0.0;\\n  };\\n  if ((ret_2.z > 0.9)) {\\n    ret_2.z = 0.0;\\n  };\\n  vec4 tmpvar_7;\\n  tmpvar_7.w = 1.0;\\n  tmpvar_7.xyz = ret_2;\\n  ret = tmpvar_7.xyz;\\n }","comp":" shader_body { \\n  vec3 ret1_1;\\n  vec2 uv1_2;\\n  vec3 ret_3;\\n  vec4 tmpvar_4;\\n  tmpvar_4 = texture (sampler_main, uv);\\n  ret_3 = (tmpvar_4.xyz * (0.6 + (0.3 * \\n    sin(((uv.x * 10.0) + time))\\n  )));\\n  vec2 tmpvar_5;\\n  tmpvar_5.x = (texture (sampler_main, (uv - vec2(0.001, 0.0))).xyz - texture (sampler_main, (uv + vec2(0.001, 0.0))).xyz).x;\\n  tmpvar_5.y = (texture (sampler_main, (uv - vec2(0.0, 0.001))).xyz - texture (sampler_main, (uv + vec2(0.0, 0.001))).xyz).x;\\n  uv1_2 = ((0.5 * cos(\\n    (((uv - 0.5) * 1.5) + 1.6)\\n  )) - (3.0 * tmpvar_5));\\n  ret1_1 = ((0.3 * dot (tmpvar_4.xyz, vec3(0.32, 0.49, 0.29))) + ((\\n    clamp ((0.01 / sqrt(dot (uv1_2, uv1_2))), 0.0, 1.0)\\n   * \\n    mix (vec3(dot (((texture (sampler_blur2, uv).xyz * scale2) + bias2), vec3(0.32, 0.49, 0.29))), ret_3, pow (ret_3, vec3((0.05 + (mid_att * 0.03)))))\\n  ) * (\\n    (4.0 + bass)\\n   + \\n    (mid + treb_att)\\n  )));\\n  ret_3 = ret1_1;\\n  vec4 tmpvar_6;\\n  tmpvar_6.w = 1.0;\\n  tmpvar_6.xyz = ret1_1;\\n  ret = tmpvar_6.xyz;\\n }"}') }, "./presets/converted/Zylot - Star Ornament.json": e => { e.exports = JSON.parse('{"version":1,"baseVals":{"rating":0,"gammaadj":1,"decay":0.997,"echo_zoom":0.996629,"echo_orient":1,"wave_thick":1,"wave_brighten":0,"darken":1,"wave_a":0.001185,"wave_scale":0.01,"wave_smoothing":0.27,"wave_mystery":-0.38,"modwavealphastart":0.71,"modwavealphaend":1.3,"warpscale":1.331,"zoom":0.999514,"warp":0.01,"ob_size":0,"ob_r":0.01,"ob_a":1,"ib_size":0,"ib_r":1,"ib_g":1,"ib_b":1,"ib_a":1,"mv_x":64,"mv_y":48,"mv_l":0.85,"mv_r":0.4999,"mv_g":0.4999,"mv_b":0.4999,"mv_a":0},"shapes":[{"baseVals":{"enabled":1,"sides":3,"rad":0.34,"ang":0.53,"r":0.56,"g":0.36,"r2":0.9,"a2":0.5,"border_a":0},"init_eqs_eel":"bassspin = 0;\\nangle = 0;","frame_eqs_eel":"ang = angle;\\nbassspin = if(above(bass*.05,bassspin),bassspin+.001,bassspin-.001);\\nbassspin = bassspin*above(bassspin,0);\\nangle = angle + bassspin;\\n\\nr = bass*.3;\\ng = treb*.3;\\nb = mid*.3;\\nr2 = .8+.2*sin(time*1.2);\\ng2 = .8+.2*sin(time*.9777);\\nb2 = .8+.2*sin(time*.7005);\\n\\nborder_a = 1*above(bass+treb+mid,5);\\n\\nx = .5 + q1;\\ny = .5 + q2;"},{"baseVals":{"enabled":1,"sides":100,"additive":1,"textured":1,"rad":0.108073,"g":1,"b":1,"r2":1,"b2":1,"a2":1,"border_a":0},"init_eqs_eel":"bassspin = 0;\\nxpos = .25;\\nypos = .25;","frame_eqs_eel":"bassspin = if(above(bass*.05,bassspin),bassspin+.001,bassspin-.001);\\nbassspin = bassspin*above(bassspin,0);\\nxpos = xpos + bassspin;\\nypos = ypos + bassspin;\\nx = .5 + q1 + .13*sin(xpos);\\ny = .5 + q2 + .18*cos(ypos);"},{"baseVals":{"enabled":1,"sides":29,"additive":1,"textured":1,"rad":0.105693,"g":1,"b":1,"r2":1,"b2":1,"a2":1,"border_a":0},"init_eqs_eel":"bassspin = 0;\\nxpos = 2.3;\\nypos = 2.3;","frame_eqs_eel":"bassspin = if(above(bass*.05,bassspin),bassspin+.001,bassspin-.001);\\nbassspin = bassspin*above(bassspin,0);\\nxpos = xpos + bassspin;\\nypos = ypos + bassspin;\\nx = .5 + q1 +.13*sin(xpos);\\ny = .5 + q2 + .18*cos(ypos);"},{"baseVals":{"enabled":1,"sides":100,"additive":1,"textured":1,"rad":0.091434,"g":1,"b":1,"r2":1,"b2":1,"a2":1,"border_a":0},"init_eqs_eel":"bassspin = 0;\\nxpos = 4.5;\\nypos = 4.5;","frame_eqs_eel":"bassspin = if(above(bass*.05,bassspin),bassspin+.001,bassspin-.001);\\nbassspin = bassspin*above(bassspin,0);\\nxpos = xpos + bassspin;\\nypos = ypos + bassspin;\\nx = .5 + q1 + .13*sin(xpos);\\ny = .5 + q2 + .18*cos(ypos);"}],"waves":[{"baseVals":{"scaling":0.010576,"enabled":0},"init_eqs_eel":"pulse = 0;","frame_eqs_eel":"pulse = if(above(bass*.05,pulse),pulse+.001,pulse-.001);\\npulse = pulse*above(pulse,0);\\nt1 = pulse;","point_eqs_eel":"x = sqrt(sample*mid*.05);\\ny = .5 + (.1+t1)*cos(sample*20);"},{"baseVals":{"enabled":0},"init_eqs_eel":"pulse = 0;","frame_eqs_eel":"pulse = if(above(bass*.05,pulse),pulse+.001,pulse-.001);\\npulse = pulse*above(pulse,0);\\nt1 = pulse;","point_eqs_eel":"x = sqrt(sample*mid*.05);\\ny = .5 + -(.1+t1)*cos(sample*20);"},{"baseVals":{"enabled":0},"init_eqs_eel":"pulse = 0;","frame_eqs_eel":"pulse = if(above(bass*.05,pulse),pulse+.001,pulse-.001);\\npulse = pulse*above(pulse,0);\\nt1 = pulse;","point_eqs_eel":"x = 1 - sqrt(sample*mid*.05);\\ny = .5 + (.1+t1)*cos(sample*20);"},{"baseVals":{"enabled":0},"init_eqs_eel":"pulse = 0;","frame_eqs_eel":"pulse = if(above(bass*.05,pulse),pulse+.001,pulse-.001);\\npulse = pulse*above(pulse,0);\\nt1 = pulse;","point_eqs_eel":"x = 1 - sqrt(sample*mid*.05);\\ny = .5 + -(.1+t1)*cos(sample*20);"}],"init_eqs_eel":"","frame_eqs_eel":"warp = 0;\\ndecay = .92;\\n\\nvol = (bass+mid+att)/6;\\nxamptarg = if(equal(frame%15,0),min(0.5*vol*bass_att,0.5),xamptarg);\\nxamp = xamp + 0.5*(xamptarg-xamp);\\nxdir = if(above(abs(xpos),xamp),-sign(xpos),if(below(abs(xspeed),0.1),2*above(xpos,0)-1,xdir));\\nxaccel = xdir*xamp - xpos - xspeed*0.055*below(abs(xpos),xamp);\\nxspeed = xspeed + xdir*xamp - xpos - xspeed*0.055*below(abs(xpos),xamp);\\nxpos = xpos + 0.001*xspeed;\\nyamptarg = if(equal(frame%15,0),min(0.3*vol*treb_att,0.5),yamptarg);\\nyamp = yamp + 0.5*(yamptarg-yamp);\\nydir = if(above(abs(ypos),yamp),-sign(ypos),if(below(abs(yspeed),0.1),2*above(ypos,0)-1,ydir));\\nyaccel = ydir*yamp - ypos - yspeed*0.055*below(abs(ypos),yamp);\\nyspeed = yspeed + ydir*yamp - ypos - yspeed*0.055*below(abs(ypos),yamp);\\nypos = ypos + 0.001*yspeed;\\n\\nq1 = ypos;\\nq2 = xpos;","pixel_eqs_eel":"zoom = zoom + (q1*q2)*2;\\nrot = 10+(rad*treb*.1);","warp":"","comp":""}') }, "./presets/converted/Zylot - True Visionary (Final Mix).json": e => { e.exports = JSON.parse('{"version":2,"baseVals":{"rating":3,"gammaadj":1,"decay":0.997,"echo_zoom":0.997,"echo_orient":1,"wave_thick":1,"wave_brighten":0,"darken":1,"wave_a":0.001,"wave_scale":0.01,"wave_smoothing":0.27,"wave_mystery":-0.38,"modwavealphastart":0.71,"modwavealphaend":1.3,"warpscale":1.331,"zoom":0.99951,"warp":0.01,"ob_size":0.5,"ob_r":0.01,"ib_size":0.26,"ib_r":1,"ib_g":1,"ib_b":1,"mv_x":64,"mv_y":48,"mv_l":0.85,"mv_r":0.5,"mv_g":0.5,"mv_b":0.5,"mv_a":0},"shapes":[{"baseVals":{"sides":3,"rad":0.34,"ang":0.53,"r":0.56,"g":0.36,"r2":0.9,"border_r":0,"border_g":0,"border_b":0,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"ang = ang + time;"},{"baseVals":{"sides":3,"rad":0.41,"r":0,"g":0.8,"b":0.7,"g2":0.4,"b2":1,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"ang = ang - time*.333;"},{"baseVals":{"sides":3,"rad":0.21,"r":0.84,"r2":1,"g2":0.58,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"ang = ang + time*4;"},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""}],"waves":[{"baseVals":{"enabled":1},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":"x = .5 + (bass*.2)*sin(sample*2*(time*10*treb));\\ny = .5 + (bass*.2)*cos(sample*2*(time*10*treb));\\nr = 1 + .5*sin(sample*.10+(time*10*bass));\\ng = 1 + .5*sin(sample*2+(time*50*treb));\\nb = 1 + .5*sin(sample*5+(time*20*mid));\\na = r;"},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""}],"init_eqs_eel":"","frame_eqs_eel":"warp = 0;\\ndecay = .92;","pixel_eqs_eel":"zoom = zoom + (.03*(bass_att*bass_att))*rad;\\nrot = rot + rad*(-2.5&(cos(time)*5))*.01;","warp":" shader_body { \\n  vec4 tmpvar_1;\\n  tmpvar_1.w = 1.0;\\n  tmpvar_1.xyz = texture (sampler_main, uv).xyz;\\n  ret = tmpvar_1.xyz;\\n }","comp":" shader_body { \\n  vec2 uv1_1;\\n  vec3 ret_2;\\n  vec3 tmpvar_3;\\n  tmpvar_3 = texture (sampler_main, uv).xyz;\\n  vec2 tmpvar_4;\\n  tmpvar_4.x = (texture (sampler_main, (uv - vec2(0.001, 0.0))).xyz - texture (sampler_main, (uv + vec2(0.001, 0.0))).xyz).x;\\n  tmpvar_4.y = (texture (sampler_main, (uv - vec2(0.0, 0.001))).xyz - texture (sampler_main, (uv + vec2(0.0, 0.001))).xyz).x;\\n  uv1_1 = ((0.5 * cos(\\n    (((uv - 0.5) * 1.5) + 1.6)\\n  )) - (3.0 * tmpvar_4));\\n  ret_2 = (0.8 * ((0.3 * \\n    dot (tmpvar_3, vec3(0.32, 0.49, 0.29))\\n  ) + (\\n    (clamp ((0.01 / sqrt(\\n      dot (uv1_1, uv1_1)\\n    )), 0.0, 1.0) * tmpvar_3)\\n   * \\n    ((4.0 + bass) + (mid + treb_att))\\n  )));\\n  ret_2 = (ret_2 * 0.77);\\n  vec4 tmpvar_5;\\n  tmpvar_5.w = 1.0;\\n  tmpvar_5.xyz = ret_2;\\n  ret = tmpvar_5.xyz;\\n }"}') }, "./presets/converted/_Aderrasi - Wanderer in Curved Space - mash0000 - faclempt kibitzing meshuggana schmaltz (Geiss color mix).json": e => { e.exports = JSON.parse('{"version":2,"baseVals":{"rating":5,"gammaadj":1,"decay":0.995,"echo_zoom":1,"echo_orient":1,"wave_mode":5,"wave_brighten":0,"wrap":0,"wave_a":100,"wave_scale":0.721,"wave_smoothing":0.5,"modwavealphastart":0.5,"modwavealphaend":1,"fshader":1,"dx":0.00001,"dy":0.00001,"warp":0.01,"wave_r":0.5,"wave_g":0.5,"wave_b":0.5,"ob_size":0,"ob_a":1,"ib_size":0,"ib_r":0,"ib_g":0,"ib_b":0,"mv_x":0,"mv_y":0,"mv_l":1,"mv_a":0},"shapes":[{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""}],"waves":[{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""}],"init_eqs_eel":"","frame_eqs_eel":"wave_r = 0.5 + 0.5*sin(6*time);\\nwave_g = 0.5 + 0.5*sin(4.1*time);\\nwave_b = -1 + (1-wave_r + 1-wave_g);\\nwarp = 0;","pixel_eqs_eel":"thresh = above(bass_att,thresh)*2+(1-above(bass_att,thresh))*((thresh-1.3)*0.96+1.3);\\ndx_r = equal(thresh,2)*0.015*sin(5*time)+(1-equal(thresh,2))*dx_r;\\ndy_r = equal(thresh,2)*0.015*sin(6*time)+(1-equal(thresh,2))*dy_r;\\n\\n\\nxs = above(sin(12*dx_r*bass),0)*(dy_r*sin(2*rad)) + \\nbelow(sin(12*dx_r*bass),0)*(cos(time)*dx_r*sin(0.6*rad));\\n\\nzoom = zoom + abs(12*xs);\\nrot = rot + 5*xs*cos(1-xs*rad*12*dx_r);\\ndx = dx + dx_r;\\ndy = dy + dy_r;","warp":" shader_body { \\n  vec2 my_uv_1;\\n  vec3 ret_2;\\n  vec2 tmpvar_3;\\n  tmpvar_3 = (vec2(1280.0, 1024.0) * texsize.zw);\\n  float tmpvar_4;\\n  vec2 tmpvar_5;\\n  tmpvar_5 = (uv + vec2(0.005, 0.0));\\n  vec2 tmpvar_6;\\n  tmpvar_6 = (uv - vec2(0.005, 0.0));\\n  tmpvar_4 = (((\\n    (texture (sampler_blur2, tmpvar_5).xyz * scale2)\\n   + bias2) - (\\n    (texture (sampler_blur2, tmpvar_6).xyz * scale2)\\n   + bias2)).x * tmpvar_3.x);\\n  float tmpvar_7;\\n  vec2 tmpvar_8;\\n  tmpvar_8 = (uv + vec2(0.0, 0.005));\\n  vec2 tmpvar_9;\\n  tmpvar_9 = (uv - vec2(0.0, 0.005));\\n  tmpvar_7 = (((\\n    (texture (sampler_blur2, tmpvar_8).xyz * scale2)\\n   + bias2) - (\\n    (texture (sampler_blur2, tmpvar_9).xyz * scale2)\\n   + bias2)).x * tmpvar_3.y);\\n  vec2 tmpvar_10;\\n  tmpvar_10.x = tmpvar_4;\\n  tmpvar_10.y = tmpvar_7;\\n  vec2 tmpvar_11;\\n  tmpvar_11.x = (((\\n    (texture (sampler_blur2, tmpvar_5).xyz * scale2)\\n   + bias2) - (\\n    (texture (sampler_blur2, tmpvar_6).xyz * scale2)\\n   + bias2)).x * tmpvar_3.x);\\n  tmpvar_11.y = (((\\n    (texture (sampler_blur2, tmpvar_8).xyz * scale2)\\n   + bias2) - (\\n    (texture (sampler_blur2, tmpvar_9).xyz * scale2)\\n   + bias2)).x * tmpvar_3.y);\\n  ret_2.x = texture (sampler_fw_main, ((uv - (tmpvar_10 * 0.01)) + (tmpvar_11 * 0.003))).x;\\n  vec4 tmpvar_12;\\n  tmpvar_12 = texture (sampler_blur3, uv);\\n  ret_2.x = (ret_2.x + ((ret_2.x - \\n    ((tmpvar_12.xyz * scale3) + bias3)\\n  .x) * 0.1));\\n  ret_2.x = (ret_2.x + 0.004);\\n  vec2 tmpvar_13;\\n  tmpvar_13.x = tmpvar_7;\\n  tmpvar_13.y = -(tmpvar_4);\\n  my_uv_1 = (uv + ((tmpvar_13 * 0.05) * (1.2 - \\n    ((tmpvar_12.xyz * scale3) + bias3)\\n  .y)));\\n  ret_2.z = texture (sampler_fw_main, my_uv_1).z;\\n  vec2 x_14;\\n  x_14 = (my_uv_1 - uv);\\n  ret_2.z = (ret_2.z + ((\\n    ((ret_2.z - ((texture (sampler_blur1, uv).xyz * scale1) + bias1).z) * sqrt(dot (x_14, x_14)))\\n   * 180.0) / sqrt(\\n    dot (tmpvar_3, tmpvar_3)\\n  )));\\n  ret_2.z = (ret_2.z * 0.8);\\n  ret_2.z = (ret_2.z + 0.004);\\n  vec2 tmpvar_15;\\n  tmpvar_15.x = -(tmpvar_7);\\n  tmpvar_15.y = tmpvar_4;\\n  my_uv_1 = (tmpvar_15 * 0.045);\\n  vec2 tmpvar_16;\\n  tmpvar_16.x = (((\\n    (texture (sampler_blur2, (uv + vec2(0.01, 0.0))).xyz * scale2)\\n   + bias2) - (\\n    (texture (sampler_blur2, (uv - vec2(0.01, 0.0))).xyz * scale2)\\n   + bias2)).y * tmpvar_3.x);\\n  tmpvar_16.y = (((\\n    (texture (sampler_blur2, (uv + vec2(0.0, 0.01))).xyz * scale2)\\n   + bias2) - (\\n    (texture (sampler_blur2, (uv - vec2(0.0, 0.01))).xyz * scale2)\\n   + bias2)).y * tmpvar_3.y);\\n  my_uv_1 = (my_uv_1 + (uv - (tmpvar_16 * 0.03)));\\n  ret_2.y = texture (sampler_fw_main, my_uv_1).y;\\n  ret_2.y = (ret_2.y + ((\\n    (ret_2.y - ((texture (sampler_blur3, my_uv_1).xyz * scale3) + bias3).y)\\n   * 0.1) + 0.01));\\n  vec4 tmpvar_17;\\n  tmpvar_17.w = 1.0;\\n  tmpvar_17.xyz = ret_2;\\n  ret = tmpvar_17.xyz;\\n }","comp":" shader_body { \\n  vec3 ret_1;\\n  ret_1 = texture (sampler_main, uv).xyz;\\n  ret_1 = (ret_1 * hue_shader);\\n  vec3 tmpvar_2;\\n  tmpvar_2 = mix (ret_1, vec3(dot (ret_1, vec3(0.32, 0.49, 0.29))), vec3(0.5, 1.0, 0.1));\\n  ret_1 = tmpvar_2;\\n  vec4 tmpvar_3;\\n  tmpvar_3.w = 1.0;\\n  tmpvar_3.xyz = tmpvar_2;\\n  ret = tmpvar_3.xyz;\\n }"}') }, "./presets/converted/_Geiss - Artifact 01.json": e => { e.exports = JSON.parse('{"version":2,"baseVals":{"rating":5,"gammaadj":1.998,"echo_zoom":1.421,"wave_mode":7,"additivewave":1,"modwavealphabyvolume":1,"darken_center":1,"wave_a":1.193,"wave_scale":1.489,"wave_smoothing":0,"modwavealphastart":0.87,"modwavealphaend":1.09,"warpscale":3.138,"zoom":1.003,"warp":0.09218,"wave_r":0.5,"wave_g":0.5,"wave_b":0.5,"wave_x":0.6,"mv_a":0},"shapes":[{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""}],"waves":[{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""}],"init_eqs_eel":"","frame_eqs_eel":"wave_r = wave_r + 0.3650*( 0.60*sin(4.437*time) + 0.40*sin(3.970*time) );\\nwave_g = wave_g + 0.3650*( 0.60*sin(4.344*time) + 0.40*sin(3.841*time) );\\nwave_b = wave_b + 0.3650*( 0.60*sin(4.251*time) + 0.40*sin(3.055*time) );\\nrot = rot + 0.02*( 0.60*sin(0.181*time) + 0.09*sin(-0.279*time) );\\nzoom = zoom + 0.025*( 0.60*sin(0.3131*time+2) + 0.4*sin(-0.479*time+4) );\\n//cx = cx + 0.10*( 0.60*sin(0.374*time) + 0.10*sin(0.294*time) );\\n//cy = cy + 0.10*( 0.60*sin(0.393*time) + 0.10*sin(0.223*time) );\\n//dx = dx + 0.0040*( 0.60*sin(0.234*time) + 0.40*sin(0.277*time) );\\n//dy = dy + 0.0040*( 0.60*sin(0.284*time) + 0.40*sin(0.247*time) );\\ndecay = decay - 0.01*equal(frame%6,0);\\n\\n//wave_x = 0.1 + rand(80)*0.01;\\n//wave_y = 0.1 + rand(80)*0.01;\\nt2 = time*6;\\nwave_x = 0.5 + 0.2*( 0.60*sin(0.374*t2) + 0.40*sin(0.294*t2) );\\nwave_y = 0.5 + 0.2*( 0.60*sin(0.393*t2) + 0.40*sin(0.223*t2) );","pixel_eqs_eel":"dx = 0;\\ndy = 0;\\ndx = dx + cos(y*29.37 - time*1.9) * 1.0/pixelsx * 2;\\ndy = dy + cos(x*33.21 - time*1.7) * 1.0/pixelsy * 2;\\ndx = dx + cos(y*77.55 - time*2.1) * 1.0/pixelsx * 1.5;\\ndy = dy + cos(x*78.32 - time*2.4) * 1.0/pixelsy * 1.5;","warp":" shader_body { \\n  vec2 dxy_1;\\n  dxy_1.x = cos(((154.56 * uv_orig.y) - time));\\n  dxy_1.y = cos(((154.56 * uv_orig.x) - time));\\n  float tmpvar_2;\\n  tmpvar_2 = (time * 5.0);\\n  dxy_1.x = (dxy_1.x + cos((\\n    (412.16 * uv_orig.y)\\n   - tmpvar_2)));\\n  dxy_1.y = (dxy_1.y + cos((\\n    (412.16 * uv_orig.x)\\n   - tmpvar_2)));\\n  dxy_1.y = (dxy_1.y + 0.15);\\n  vec4 tmpvar_3;\\n  tmpvar_3.w = 1.0;\\n  tmpvar_3.xyz = (max (texture (sampler_fw_main, (uv + \\n    (dxy_1 * texsize.zw)\\n  )).xyz, (texture (sampler_main, uv_orig).xyz * 0.8)) - 0.004);\\n  ret = tmpvar_3.xyz;\\n }","comp":" shader_body { \\n  vec4 tmpvar_1;\\n  tmpvar_1.w = 1.0;\\n  tmpvar_1.xyz = ((texture (sampler_main, uv).xyz * 0.8) + ((\\n    (texture (sampler_blur1, uv).xyz * scale1)\\n   + bias1) * 0.7));\\n  ret = tmpvar_1.xyz;\\n }"}') }, "./presets/converted/_Geiss - Desert Rose 2.json": e => { e.exports = JSON.parse('{"version":2,"baseVals":{"rating":5,"gammaadj":1.9,"echo_zoom":1.169,"wave_mode":2,"additivewave":1,"wave_dots":1,"wave_thick":1,"wave_a":0.274,"wave_scale":2.827,"wave_smoothing":0.09,"modwavealphastart":0.83,"modwavealphaend":1.31,"warpscale":3.138,"zoom":0.993,"warp":0.00054,"wave_r":0.5,"wave_g":0.5,"wave_b":0.5,"mv_a":0},"shapes":[{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""}],"waves":[{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""}],"init_eqs_eel":"","frame_eqs_eel":"wave_r = 0.85 + 0.25*sin(0.437*time+1);\\nwave_g = 0.85 + 0.25*sin(0.544*time+2);\\nwave_b = 0.85 + 0.25*sin(0.751*time+3);\\nrot = rot + 0.010*( 0.60*sin(0.381*time) + 0.40*sin(0.579*time) );\\ncx = cx + 0.210*( 0.60*sin(0.374*time) + 0.40*sin(0.294*time) );\\ncy = cy + 0.210*( 0.60*sin(0.393*time) + 0.40*sin(0.223*time) );\\ndx = dx + 0.003*( 0.60*sin(0.234*time) + 0.40*sin(0.277*time) );\\ndy = dy + 0.003*( 0.60*sin(0.284*time) + 0.40*sin(0.247*time) );\\ndecay = decay - 0.01*equal(frame%6,0);\\ndx = dx + dx_residual;\\ndy = dy + dy_residual;\\nbass_thresh = above(bass_att,bass_thresh)*2 + (1-above(bass_att,bass_thresh))*((bass_thresh-1.3)*0.96+1.3);\\ndx_residual = equal(bass_thresh,2.13)*0.016*sin(time*7) + (1-equal(bass_thresh,2.13))*dx_residual;\\ndy_residual = equal(bass_thresh,2.13)*0.012*sin(time*9) + (1-equal(bass_thresh,2.13))*dy_residual;\\nwave_x = wave_x - dx_residual*7;\\nwave_y = wave_y - dy_residual*7;\\nwave_mystery = time*0.03;","pixel_eqs_eel":"","warp":" shader_body { \\n  vec3 ret_1;\\n  vec4 tmpvar_2;\\n  tmpvar_2 = texture (sampler_main, uv);\\n  ret_1 = (tmpvar_2.xyz + ((tmpvar_2.xyz - \\n    ((texture (sampler_blur1, uv).xyz * scale1) + bias1)\\n  ) * 0.2));\\n  ret_1 = (ret_1 - 0.02);\\n  vec4 tmpvar_3;\\n  tmpvar_3.w = 1.0;\\n  tmpvar_3.xyz = ret_1;\\n  ret = tmpvar_3.xyz;\\n }","comp":" shader_body { \\n  vec4 tmpvar_1;\\n  tmpvar_1.w = 1.0;\\n  tmpvar_1.xyz = (texture (sampler_main, uv).xyz * 1.15);\\n  ret = tmpvar_1.xyz;\\n }"}') }, "./presets/converted/_Geiss - untitled.json": e => { e.exports = JSON.parse('{"version":2,"baseVals":{"rating":5,"gammaadj":1,"decay":1,"additivewave":1,"wave_brighten":0,"wave_a":0.001,"wave_scale":0.01,"wave_smoothing":0.63,"wave_mystery":-1,"modwavealphastart":0.71,"modwavealphaend":1.3,"warpanimspeed":30.965,"warpscale":2.572,"zoom":1.00901,"warp":0.00054,"wave_r":0.65,"wave_g":0.65,"wave_b":0.65,"mv_x":12.8,"mv_y":9.6,"mv_l":1,"mv_g":0.91,"mv_b":0.71,"mv_a":0},"shapes":[{"baseVals":{"enabled":1,"sides":100,"additive":1,"rad":0.49138,"r":0,"g":1,"b":1,"border_a":0},"init_eqs_eel":"","frame_eqs_eel":"x=.5+q4;y=.5+q5;\\na=bass_att+mid_att+treb_att;\\na=a*0.25;\\na=a*a*1.5;"},{"baseVals":{"sides":24,"rad":0.01842,"tex_zoom":0.81954,"g":1,"r2":1,"b2":1,"a2":1,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"tex_ang=0.01;\\nx=.5-q4;\\ny=.5-q5;"},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""}],"waves":[{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""}],"init_eqs_eel":"","frame_eqs_eel":"wave_r = 0.85 + 0.25*sin(0.437*time+1);\\nwave_g = 0.85 + 0.25*sin(0.544*time+2);\\nwave_b = 0.85 + 0.25*sin(0.751*time+3);\\nrot = rot + 0.010*( 0.60*sin(0.381*time) + 0.40*sin(0.579*time) );\\ncx = cx + 0.210*( 0.60*sin(0.374*time) + 0.40*sin(0.294*time) );\\ncy = cy + 0.210*( 0.60*sin(0.393*time) + 0.40*sin(0.223*time) );\\ndx = dx + 0.003*( 0.60*sin(0.234*time) + 0.40*sin(0.277*time) );\\ndy = dy + 0.003*( 0.60*sin(0.284*time) + 0.40*sin(0.247*time) );\\ndecay = decay - 0.01*equal(frame%6,0);\\ndx = dx + dx_residual;\\ndy = dy + dy_residual;\\nbass_thresh = above(bass_att,bass_thresh)*2 + (1-above(bass_att,bass_thresh))*((bass_thresh-1.3)*0.96+1.3);\\ndx_residual = equal(bass_thresh,2.13)*0.016*sin(time*7) + (1-equal(bass_thresh,2.13))*dx_residual;\\ndy_residual = equal(bass_thresh,2.13)*0.012*sin(time*9) + (1-equal(bass_thresh,2.13))*dy_residual;\\nwave_x = wave_x - dx_residual*7;\\nwave_y = wave_y - dy_residual*7;\\nwave_mystery = time*0.03;\\n\\nzoom = zoom + 0.005*( 0.60*sin(0.1934*time+3) + 0.40*sin(0.307*time+9) );\\nzoom = zoom + max(0,bass_att-1.1)*0.2;\\nwarp = warp + max(0,treb-1.1)*0.5;","pixel_eqs_eel":"","warp":" shader_body { \\n  vec3 ret_1;\\n  vec4 tmpvar_2;\\n  tmpvar_2 = texture (sampler_main, uv);\\n  ret_1 = (tmpvar_2.xyz + ((tmpvar_2.xyz - \\n    ((texture (sampler_blur2, uv).xyz * scale2) + bias2)\\n  ) * 0.6));\\n  ret_1 = (ret_1 * 0.9);\\n  ret_1 = (ret_1 + ((\\n    ((texture (sampler_noise_lq, ((\\n      (uv_orig * texsize.xy)\\n     * \\n      (texsize_noise_lq.zw * 0.4)\\n    ) + rand_frame.xy)).xyz - 0.5) / 256.0)\\n   * 12.0) * clamp (\\n    (treb_att - 1.0)\\n  , 0.0, 1.0)));\\n  vec3 tmpvar_3;\\n  tmpvar_3 = mix (ret_1, vec3(dot (ret_1, vec3(0.32, 0.49, 0.29))), vec3(0.04, 0.04, 0.04));\\n  ret_1 = tmpvar_3;\\n  vec4 tmpvar_4;\\n  tmpvar_4.w = 1.0;\\n  tmpvar_4.xyz = tmpvar_3;\\n  ret = tmpvar_4.xyz;\\n }","comp":" shader_body { \\n  vec3 N_1;\\n  vec3 ret_2;\\n  vec2 tmpvar_3;\\n  tmpvar_3 = (vec2(1.0, 0.0) * texsize.zw);\\n  N_1.x = ((texture (sampler_main, (uv_orig + tmpvar_3)).xyz - texture (sampler_main, (uv_orig - tmpvar_3)).xyz).x * 0.8);\\n  vec2 tmpvar_4;\\n  tmpvar_4 = (vec2(0.0, 1.0) * texsize.zw);\\n  N_1.y = ((texture (sampler_main, (uv_orig + tmpvar_4)).xyz - texture (sampler_main, (uv_orig - tmpvar_4)).xyz).x * 0.8);\\n  N_1.x = (N_1.x + ((\\n    ((texture (sampler_blur1, (uv_orig + tmpvar_3)).xyz * scale1) + bias1)\\n   - \\n    ((texture (sampler_blur1, (uv_orig - tmpvar_3)).xyz * scale1) + bias1)\\n  ).x * 0.2));\\n  N_1.y = (N_1.y + ((\\n    ((texture (sampler_blur1, (uv_orig + tmpvar_4)).xyz * scale1) + bias1)\\n   - \\n    ((texture (sampler_blur1, (uv_orig - tmpvar_4)).xyz * scale1) + bias1)\\n  ).x * 0.2));\\n  N_1.z = -0.077;\\n  vec3 tmpvar_5;\\n  tmpvar_5 = normalize(N_1);\\n  N_1 = tmpvar_5;\\n  vec3 tmpvar_6;\\n  tmpvar_6.z = -0.8;\\n  tmpvar_6.x = q9;\\n  tmpvar_6.y = q10;\\n  vec3 tmpvar_7;\\n  tmpvar_7.z = 0.0;\\n  tmpvar_7.xy = ((uv_orig * 2.0) - 1.0);\\n  vec3 tmpvar_8;\\n  tmpvar_8 = normalize((tmpvar_6 - tmpvar_7));\\n  vec3 tmpvar_9;\\n  tmpvar_9 = normalize((tmpvar_7 - vec3(0.0, 0.0, 1.0)));\\n  ret_2 = (vec3(clamp (dot (tmpvar_5, tmpvar_8), 0.0, 1.0)) * vec3(1.2, 0.9, 0.7));\\n  ret_2 = (ret_2 * normalize((\\n    (texture (sampler_blur3, uv_orig).xyz * scale3)\\n   + bias3).yzx));\\n  ret_2 = (ret_2 + (pow (\\n    clamp (dot (normalize((tmpvar_9 + \\n      ((2.0 * tmpvar_5) * dot (tmpvar_9, tmpvar_5))\\n    )), tmpvar_8), 0.0, 1.0)\\n  , 32.0) * 0.5));\\n  vec4 tmpvar_10;\\n  tmpvar_10.w = 1.0;\\n  tmpvar_10.xyz = ret_2;\\n  ret = tmpvar_10.xyz;\\n }"}') }, "./presets/converted/_Mig_049.json": e => { e.exports = JSON.parse('{"version":2,"baseVals":{"rating":0,"gammaadj":1,"decay":1,"echo_zoom":1,"wave_brighten":0,"darken":1,"wave_a":0.001,"wave_scale":0.535239,"wave_smoothing":0,"wave_mystery":-0.48,"modwavealphastart":1,"modwavealphaend":1.1,"warpscale":3.138,"fshader":1,"zoom":1.023,"warp":0.122616,"wave_g":0.65,"wave_b":0,"mv_x":6.4,"mv_y":48,"mv_dx":0.5,"mv_dy":0.5,"mv_l":5,"mv_r":0.013716,"mv_g":0.872347,"mv_b":0.522466,"mv_a":0},"shapes":[{"baseVals":{"enabled":1,"thickoutline":1,"textured":1,"rad":0.746302,"tex_zoom":0.942039,"g":1,"b":1,"r2":1,"b2":1,"a2":1,"border_r":0,"border_g":0,"border_b":0,"border_a":0},"init_eqs_eel":"","frame_eqs_eel":"ang=sin(time)*.5+.5;\\nval=3;\\na2=val*.33;\\na=val*.33;\\nrad=cos(time*.3)*.4+0.65;\\nx=sin(time*.25)*.25+.5;\\ny=cos(time*.45)*.25+.5;\\n\\n\\n"},{"baseVals":{"enabled":1,"thickoutline":1,"textured":1,"rad":0.746302,"tex_zoom":0.942039,"g":1,"b":1,"r2":1,"b2":1,"a2":1,"border_r":0,"border_g":0,"border_b":0,"border_a":0},"init_eqs_eel":"","frame_eqs_eel":"ang=cos(time*.3)*.5+.5;\\nval=3;\\na2=val*.33;\\na=val*.33;\\nrad=sin(time*.3)*.4+0.65;\\nx=cos(time*.25)*.25+.5;\\ny=sin(time*.45)*.25+.5;\\n\\n\\n"},{"baseVals":{"enabled":1,"thickoutline":1,"rad":0.364564,"r":0,"g2":0,"a2":1,"border_r":0,"border_g":0,"border_b":0,"border_a":0},"init_eqs_eel":"","frame_eqs_eel":"\\nh2=h2+(above(treb,1.32)*0.8)*.9;\\nvr=sin(h2*.8)*.5+.5;\\nvg=sin(h2*.5)*.5+.5;\\nvb=sin(h2*.1)*.5+.5;\\n\\ng=vg;\\nr=vr;\\nb=vb;\\ng2=g;\\nr2=r;\\nb2=b;\\ndist=(frame%100)*.01;\\nmaat=maat+(above(bass_att,1.5));\\nmaat=below(maat,16)*maat;\\nx=if(below(maat,8),if(below(maat,4),dist,1-dist),x);\\ny=if(above(maat,8),if(above(maat,4),dist,1-dist),y);"},{"baseVals":{"thickoutline":1,"textured":1,"rad":0.364564,"r":0,"g2":0,"a2":1,"border_r":0,"border_g":0,"border_b":0,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"\\nh2=h2+(above(treb,1.32)*0.8)*.9;\\nvr=sin(h2*.8)*.5+.5;\\nvg=sin(h2*.5)*.5+.5;\\nvb=sin(h2*.1)*.5+.5;\\n\\ng=vg;\\nr=vr;\\nb=vb;\\ng2=g;\\nr2=r;\\nb2=b;\\ndist=(frame%100)*.01;\\nmaat=maat+(above(bass_att,1.5));\\nmaat=below(maat,16)*maat;\\ny=if(below(maat,8),if(below(maat,4),dist,1-dist),y);\\nx=if(above(maat,8),if(above(maat,4),dist,1-dist),x);"}],"waves":[{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""}],"init_eqs_eel":"","frame_eqs_eel":"wave_r = 1;//0.85 + 0.35*sin(0.437*time+1) + 0.55*sin(0.197*time+4);\\nwave_g = 0;//0.85 + 0.35*sin(0.544*time+2) + 0.55*sin(0.143*time+5);\\nwave_b = 0;//0.85 + 0.35*sin(0.751*time+3) + 0.55*sin(0.117*time+6);\\nwave_r = sqrt(wave_r);\\nwave_g = sqrt(wave_g);\\nwave_b = sqrt(wave_b);\\nrot = rot + 0.010*( 0.60*sin(0.381*time) + 0.40*sin(0.579*time) );\\ncx = cx + 0.210*( 0.60*sin(0.374*time) + 0.40*sin(0.294*time) );\\ncy = cy + 0.210*( 0.60*sin(0.393*time) + 0.40*sin(0.223*time) );\\ndx = dx + 0.003*( 0.60*sin(0.234*time) + 0.40*sin(0.277*time) );\\ndy = dy + 0.003*( 0.60*sin(0.284*time) + 0.40*sin(0.247*time) );\\ndecay = decay - 0.01*equal(frame%6,0);\\ndx = dx + dx_residual;\\ndy = dy + dy_residual;\\nbass_thresh = above(bass_att,bass_thresh)*2 + (1-above(bass_att,bass_thresh))*((bass_thresh-1.3)*0.96+1.3);\\ndx_residual = equal(bass_thresh,2.13)*0.016*sin(time*7) + (1-equal(bass_thresh,2.13))*dx_residual;\\ndy_residual = equal(bass_thresh,2.13)*0.012*sin(time*9) + (1-equal(bass_thresh,2.13))*dy_residual;\\nwave_x = wave_x - dx_residual*7;\\nwave_y = wave_y - dy_residual*7;\\nwave_mystery = time*0.03;","pixel_eqs_eel":"","warp":" shader_body { \\n  vec4 tmpvar_1;\\n  tmpvar_1.w = 1.0;\\n  tmpvar_1.xyz = (texture (sampler_main, (uv + (\\n    (texture (sampler_main, (uv + texsize.zw)).xy - 0.37)\\n   * 0.03))).xyz - 0.004);\\n  ret = tmpvar_1.xyz;\\n }","comp":" shader_body { \\n  vec2 uv_1;\\n  vec3 ret_2;\\n  uv_1 = (0.05 + (0.9 * uv));\\n  ret_2 = (abs((\\n    ((texture (sampler_blur1, uv_1).xyz * scale1) + bias1)\\n   - texture (sampler_main, uv_1).xyz)) * 6.0);\\n  ret_2 = (ret_2 * 1.333);\\n  vec4 tmpvar_3;\\n  tmpvar_3.w = 1.0;\\n  tmpvar_3.xyz = ret_2;\\n  ret = tmpvar_3.xyz;\\n }"}') }, "./presets/converted/_Mig_085.json": e => { e.exports = JSON.parse('{"version":2,"baseVals":{"rating":5,"gammaadj":1.7,"echo_zoom":1.16936,"wave_mode":2,"wave_dots":1,"wave_brighten":0,"wave_a":0.001,"wave_scale":0.011726,"wave_smoothing":0.9,"zoom":0.999902,"warp":0.01,"wave_r":0.5,"wave_g":0.4,"wave_b":0.3,"ob_size":0.0065,"ib_size":0.26,"mv_x":0,"mv_y":43.199997,"mv_l":1,"mv_g":0.91,"mv_b":0.71,"mv_a":0},"shapes":[{"baseVals":{"sides":5,"textured":1,"rad":1.06779,"ang":0.753982,"tex_zoom":0.779769,"g":1,"b":1,"r2":1,"b2":1,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"ang=sin(q1*0.15);\\nx=sin(q1*0.5) * 0.05 + 0.5;\\ny=cos(q1*0.63)* 0.05 + 0.5"},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"sides":5,"additive":1,"rad":0.038091,"g":1,"b":1,"g2":0.6,"b2":1,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"tm=q1;\\n\\nxp=0;\\nyp=0.1;\\nzp=0;\\n\\n//wrist movement;\\nang=sin(tm*2 )*0.5 +0.5;\\n\\nxq=xp;\\nsinang=sin(ang);cosang=cos(ang);\\nyq=yp*sinang + zp*cosang;\\nzq=yp*cosang - zp*sinang;\\nyq=yp;\\nzq=zp;\\n\\nang=tm*8;\\nsinang=sin(ang);cosang=cos(ang);\\nxp=xq*sinang + yq*cosang;\\nyp=xq*cosang - yq*sinang;\\nzp=zq;\\n\\n//forearm movement;\\nzp=zp-0.3;\\nang=3.14 + sin(tm*2 - 0.5)*1.5;\\nsinang=sin(ang);cosang=cos(ang);\\nxq=xp;\\nyq=yp*sinang + zp*cosang;\\nzq=yp*cosang - zp*sinang;\\n\\n//upper arm twist\\nang=-1.0 + cos(tm*3.1 + 0.5);\\nsinang=sin(ang);cosang=cos(ang);\\nxp=xq*sinang + yq*cosang;\\nyp=xq*cosang - yq*sinang;\\nzp=zq;\\n\\n//upper arm outward;\\nzp=zp-0.35;\\nang=cos(tm*2.3)*1.75 - 1.05;\\nsinang=sin(ang);cosang=cos(ang);\\nxq=xp*sinang + zp*cosang;\\nyq=yp;\\nzq=xp*cosang - zp*sinang;\\n\\n//upper arm up down;\\nang=cos(tm)*0.5 - 0.5;\\nsinang=sin(ang);cosang=cos(ang);\\nxp=xq;\\nyp=yq*cosang - zq*sinang;\\nzp=yq*sinang + zq*cosang;\\n\\n//xp=xq;yp=yq;zp=zq;\\n\\n\\n//project into screenspace and draw on screen\\nzp=zp+2;\\nxs=xp/zp;\\nys=yp/zp;\\n\\nx=xs+0.5;\\ny=ys*1.3+0.5;\\n\\n\\n\\n"}],"waves":[{"baseVals":{"enabled":1,"r":0.1,"b":0.7},"init_eqs_eel":"","frame_eqs_eel":"t1=sin(time)*0.5+0.5;\\nt2=sin(time+2.1)*0.5+0.5;\\nt3=sin(time+4.2)*0.5+0.5;\\n\\nt4=sin(time+1.1)*0.5+0.5;\\nt5=sin(time+3.1)*0.5+0.5;\\nt6=sin(time+5.2)*0.5+0.5;","point_eqs_eel":"n=sample*6.283;\\nphs=-sample * 0.2;\\ntm=q1 + phs;\\n\\nflip=flip+1;\\nflip=flip*below(flip,2);\\n\\nxp=0;\\nyp=flip*0.1 + (sin(tm)*0.5 + 0.5)*0.2;\\nzp=0;\\n\\n//wrist movement;\\nang=sin(tm*2 )*0.5 +0.5;\\n\\nxq=xp;\\nsinang=sin(ang);cosang=cos(ang);\\nyq=yp*sinang + zp*cosang;\\nzq=yp*cosang - zp*sinang;\\nyq=yp;\\nzq=zp;\\n\\nang=tm*8;\\nsinang=sin(ang);cosang=cos(ang);\\nxp=xq*sinang + yq*cosang;\\nyp=xq*cosang - yq*sinang;\\nzp=zq;\\n\\n//forearm movement;\\nzp=zp-0.3;\\nang=3.14 + sin(tm*2 - 0.5)*1.5;\\nsinang=sin(ang);cosang=cos(ang);\\nxq=xp;\\nyq=yp*sinang + zp*cosang;\\nzq=yp*cosang - zp*sinang;\\n\\n//upper arm twist\\nang=-1.0 + cos(tm*3.1 + 0.5);\\nsinang=sin(ang);cosang=cos(ang);\\nxp=xq*sinang + yq*cosang;\\nyp=xq*cosang - yq*sinang;\\nzp=zq;\\n\\n//upper arm outward;\\nzp=zp-0.35;\\nang=cos(tm*2.3)*1.75 - 1.05;\\nsinang=sin(ang);cosang=cos(ang);\\nxq=xp*sinang + zp*cosang;\\nyq=yp;\\nzq=xp*cosang - zp*sinang;\\n\\n//upper arm up down;\\nang=cos(tm)*0.5 - 0.5;\\nsinang=sin(ang);cosang=cos(ang);\\nxp=xq;\\nyp=yq*cosang - zq*sinang;\\nzp=yq*sinang + zq*cosang;\\n\\n//xp=xq;yp=yq;zp=zq;\\n\\n\\n//project into screenspace and draw on screen\\nzp=zp+2;\\nxs=xp/zp;\\nys=yp/zp;\\n\\nx=xs+0.5;\\ny=ys*1.3+0.5;\\n\\n\\na=if( equal(q8,1) , (1-sample) , sample);\\na=a*a;\\n\\nb=b+pow(1-sample,2)*0.3;\\n\\n\\n\\nr1=t1;\\ng1=t2;\\nb1=t3;\\nr2=t4;\\ng2=t5;\\nb2=t6;\\n\\nr=r1*flip + r2*(1-flip);\\ng=g1*flip + g2*(1-flip);\\nb=b1*flip + b2*(1-flip);"},{"baseVals":{"enabled":1,"r":0.2,"b":0.6},"init_eqs_eel":"","frame_eqs_eel":"t1=sin(time)*0.5+0.5;\\nt2=sin(time+2.1)*0.5+0.5;\\nt3=sin(time+4.2)*0.5+0.5;\\n\\nt4=sin(time+1.1)*0.5+0.5;\\nt5=sin(time+3.1)*0.5+0.5;\\nt6=sin(time+5.2)*0.5+0.5;","point_eqs_eel":"n=sample*6.283;\\nphs=-sample * 0.2;\\ntm=q1 + phs;\\n\\nflip=flip+1;\\nflip=flip*below(flip,2);\\n\\nxp=0;\\nyp=flip*0.1 + (sin(tm)*0.5 + 0.5)*0.2 +0.1;\\nyp=-yp;\\nzp=0;\\n\\n//wrist movement;\\nang=sin(tm*2)*0.5 +0.5;\\n\\nsinang=sin(ang);cosang=cos(ang);\\nxq=xp;\\nyq=yp*sinang + zp*cosang;\\nzq=yp*cosang - zp*sinang;\\nyq=yp;\\nzq=zp;\\n\\nang=tm*8;\\nsinang=sin(ang);cosang=cos(ang);\\nxp=xq*sinang + yq*cosang;\\nyp=xq*cosang - yq*sinang;\\nzp=zq;\\n\\n//forearm movement;\\nzp=zp-0.3;\\nang=3.14 + sin(tm*2 - 0.5)*1.5;\\nsinang=sin(ang);cosang=cos(ang);\\nxq=xp;\\nyq=yp*sinang + zp*cosang;\\nzq=yp*cosang - zp*sinang;\\n\\n//upper arm twist\\nang=-1.0 + cos(tm*3.1 + 0.5);\\nsinang=sin(ang);cosang=cos(ang);\\nxp=xq*sinang + yq*cosang;\\nyp=xq*cosang - yq*sinang;\\nzp=zq;\\n\\n//upper arm outward;\\nzp=zp-0.35;\\nang=cos(tm*2.3)*1.75 - 1.05;\\nsinang=sin(ang);cosang=cos(ang);\\nxq=xp*sinang + zp*cosang;\\nyq=yp;\\nzq=xp*cosang - zp*sinang;\\n\\n//upper arm up down;\\nang=cos(tm)*0.5 - 0.5;\\nsinang=sin(ang);cosang=cos(ang);\\nxp=xq;\\nyp=yq*cosang - zq*sinang;\\nzp=yq*sinang + zq*cosang;\\n\\n//xp=xq;yp=yq;zp=zq;\\n\\n\\n//project into screenspace and draw on screen\\nzp=zp+2;\\nxs=xp/zp;\\nys=yp/zp;\\n\\nx=xs+0.5;\\ny=ys*1.3+0.5;\\n\\n\\na=if( equal(q8,1) , (1-sample) , sample);\\na=a*a;\\n\\n\\nb=b+pow(1-sample,2)*0.3;\\n\\nr1=t1;\\ng1=t2;\\nb1=t3;\\nr2=t4;\\ng2=t5;\\nb2=t6;\\n\\nr=r1*flip + r2*(1-flip);\\ng=g1*flip + g2*(1-flip);\\nb=b1*flip + b2*(1-flip);"},{"baseVals":{"r":0.1,"b":0.7,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"t1=sin(time)*0.5+0.5;\\nt2=sin(time+2.1)*0.5+0.5;\\nt3=sin(time+4.2)*0.5+0.5;\\n\\nt4=sin(time+1.1)*0.5+0.5;\\nt5=sin(time+3.1)*0.5+0.5;\\nt6=sin(time+5.2)*0.5+0.5;","point_eqs_eel":"n=sample*6.283;\\nphs=-sample * 0.2;\\ntm=q1 + phs;\\n\\nflip=flip+1;\\nflip=flip*below(flip,2);\\n\\nxp=0;\\nyp=flip*0.1 + (sin(tm)*0.5 + 0.5)*0.2;\\nzp=0;\\n\\n//wrist movement;\\nang=sin(tm*2 )*0.5 +0.5;\\n\\nxq=xp;\\nsinang=sin(ang);cosang=cos(ang);\\nyq=yp*sinang + zp*cosang;\\nzq=yp*cosang - zp*sinang;\\nyq=yp;\\nzq=zp;\\n\\nang=tm*8;\\nsinang=sin(ang);cosang=cos(ang);\\nxp=xq*sinang + yq*cosang;\\nyp=xq*cosang - yq*sinang;\\nzp=zq;\\n\\n//forearm movement;\\nzp=zp-0.3;\\nang=3.14 + sin(tm*2 - 0.5)*1.5;\\nsinang=sin(ang);cosang=cos(ang);\\nxq=xp;\\nyq=yp*sinang + zp*cosang;\\nzq=yp*cosang - zp*sinang;\\n\\n//upper arm twist\\nang=-1.0 + cos(tm*3.1 + 0.5);\\nsinang=sin(ang);cosang=cos(ang);\\nxp=xq*sinang + yq*cosang;\\nyp=xq*cosang - yq*sinang;\\nzp=zq;\\n\\n//upper arm outward;\\nzp=zp-0.35;\\nang=cos(tm*2.3)*1.75 - 1.05;\\nsinang=sin(ang);cosang=cos(ang);\\nxq=xp*sinang + zp*cosang;\\nyq=yp;\\nzq=xp*cosang - zp*sinang;\\n\\n//upper arm up down;\\nang=cos(tm)*0.5 - 0.5;\\nsinang=sin(ang);cosang=cos(ang);\\nxp=xq;\\nyp=yq*cosang - zq*sinang;\\nzp=yq*sinang + zq*cosang;\\n\\n//xp=xq;yp=yq;zp=zq;\\n\\n\\n//project into screenspace and draw on screen\\nzp=zp+2;\\nxs=-xp/zp;\\nys=yp/zp;\\n\\nx=xs+0.5;\\ny=ys*1.3+0.5;\\n\\n\\na=if( equal(q8,1) , (1-sample) , sample);\\na=a*a;\\n\\nb=b+pow(1-sample,2)*0.3;\\n\\n\\n\\nr1=t1;\\ng1=t2;\\nb1=t3;\\nr2=t4;\\ng2=t5;\\nb2=t6;\\n\\nr=r1*flip + r2*(1-flip);\\ng=g1*flip + g2*(1-flip);\\nb=b1*flip + b2*(1-flip);"},{"baseVals":{"r":0.2,"b":0.6,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"t1=sin(time)*0.5+0.5;\\nt2=sin(time+2.1)*0.5+0.5;\\nt3=sin(time+4.2)*0.5+0.5;\\n\\nt4=sin(time+1.1)*0.5+0.5;\\nt5=sin(time+3.1)*0.5+0.5;\\nt6=sin(time+5.2)*0.5+0.5;","point_eqs_eel":"n=sample*6.283;\\nphs=-sample * 0.2;\\ntm=q1 + phs;\\n\\nflip=flip+1;\\nflip=flip*below(flip,2);\\n\\nxp=0;\\nyp=flip*0.1 + (sin(tm)*0.5 + 0.5)*0.2 +0.1;\\nyp=-yp;\\nzp=0;\\n\\n//wrist movement;\\nang=sin(tm*2)*0.5 +0.5;\\n\\nsinang=sin(ang);cosang=cos(ang);\\nxq=xp;\\nyq=yp*sinang + zp*cosang;\\nzq=yp*cosang - zp*sinang;\\nyq=yp;\\nzq=zp;\\n\\nang=tm*8;\\nsinang=sin(ang);cosang=cos(ang);\\nxp=xq*sinang + yq*cosang;\\nyp=xq*cosang - yq*sinang;\\nzp=zq;\\n\\n//forearm movement;\\nzp=zp-0.3;\\nang=3.14 + sin(tm*2 - 0.5)*1.5;\\nsinang=sin(ang);cosang=cos(ang);\\nxq=xp;\\nyq=yp*sinang + zp*cosang;\\nzq=yp*cosang - zp*sinang;\\n\\n//upper arm twist\\nang=-1.0 + cos(tm*3.1 + 0.5);\\nsinang=sin(ang);cosang=cos(ang);\\nxp=xq*sinang + yq*cosang;\\nyp=xq*cosang - yq*sinang;\\nzp=zq;\\n\\n//upper arm outward;\\nzp=zp-0.35;\\nang=cos(tm*2.3)*1.75 - 1.05;\\nsinang=sin(ang);cosang=cos(ang);\\nxq=xp*sinang + zp*cosang;\\nyq=yp;\\nzq=xp*cosang - zp*sinang;\\n\\n//upper arm up down;\\nang=cos(tm)*0.5 - 0.5;\\nsinang=sin(ang);cosang=cos(ang);\\nxp=xq;\\nyp=yq*cosang - zq*sinang;\\nzp=yq*sinang + zq*cosang;\\n\\n//xp=xq;yp=yq;zp=zq;\\n\\n\\n//project into screenspace and draw on screen\\nzp=zp+2;\\nxs=-xp/zp;\\nys=yp/zp;\\n\\nx=xs+0.5;\\ny=ys*1.3+0.5;\\n\\n\\na=if( equal(q8,1) , (1-sample) , sample);\\na=a*a;\\n\\n\\nb=b+pow(1-sample,2)*0.3;\\n\\nr1=t1;\\ng1=t2;\\nb1=t3;\\nr2=t4;\\ng2=t5;\\nb2=t6;\\n\\nr=r1*flip + r2*(1-flip);\\ng=g1*flip + g2*(1-flip);\\nb=b1*flip + b2*(1-flip);"}],"init_eqs_eel":"","frame_eqs_eel":"movement = movement + 0.01*(bass+bass_att) + 0.001*pow(bass+1,3);\\nq1 = movement;\\nmonitor =q1;","pixel_eqs_eel":"","warp":" shader_body { \\n  vec3 ret_1;\\n  ret_1 = texture (sampler_main, uv).xyz;\\n  vec2 tmpvar_2;\\n  tmpvar_2 = (normalize((uv - uv_orig)) * texsize.zw);\\n  vec4 tmpvar_3;\\n  tmpvar_3.w = 0.0;\\n  tmpvar_3.xyz = ret_1;\\n  vec4 tmpvar_4;\\n  tmpvar_4.w = 0.0;\\n  tmpvar_4.xyz = max (tmpvar_3, (texture (sampler_main, (uv - tmpvar_2)) * 0.9)).xyz;\\n  vec4 tmpvar_5;\\n  tmpvar_5.w = 0.0;\\n  tmpvar_5.xyz = max (tmpvar_4, (texture (sampler_main, (uv + tmpvar_2)) * 0.97)).xyz;\\n  vec4 tmpvar_6;\\n  tmpvar_6.w = 0.0;\\n  tmpvar_6.xyz = max (tmpvar_5, (texture (sampler_main, (uv + \\n    (tmpvar_2 * 2.0)\\n  )) * 0.97)).xyz;\\n  ret_1 = (max (tmpvar_6, (texture (sampler_main, \\n    (uv + (tmpvar_2 * 3.0))\\n  ) * 0.9)).xyz * 0.92);\\n  vec4 tmpvar_7;\\n  tmpvar_7.w = 1.0;\\n  tmpvar_7.xyz = ret_1;\\n  ret = tmpvar_7.xyz;\\n }","comp":" shader_body { \\n  vec2 uv_1;\\n  vec3 ret_2;\\n  uv_1 = (0.05 + (0.9 * uv));\\n  ret_2 = (abs((\\n    ((texture (sampler_blur1, uv_1).xyz * scale1) + bias1)\\n   - texture (sampler_main, uv_1).xyz)) * 6.0);\\n  ret_2 = (ret_2 * 1.333);\\n  vec4 tmpvar_3;\\n  tmpvar_3.w = 1.0;\\n  tmpvar_3.xyz = ret_2;\\n  ret = tmpvar_3.xyz;\\n }"}') }, "./presets/converted/_Rovastar + Geiss - Hurricane Nightmare (Posterize Mix).json": e => { e.exports = JSON.parse('{"version":2,"baseVals":{"rating":5,"gammaadj":1,"decay":1,"echo_zoom":1,"echo_orient":3,"wave_mode":1,"wave_thick":1,"wrap":0,"darken_center":1,"wave_a":0.3,"wave_scale":0.881,"wave_smoothing":0.5,"wave_mystery":-1,"warpscale":2.853,"zoomexp":3.6,"zoom":1.02109,"rot":-0.16,"warp":0.309,"wave_r":0.6,"wave_g":0.6,"wave_b":0.6,"wave_y":0.47,"mv_l":1.75},"shapes":[{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""}],"waves":[{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""}],"init_eqs_eel":"","frame_eqs_eel":"wave_r = wave_r + 0.400*( 0.60*sin(0.933*time) + 0.40*sin(1.045*time) );\\nwave_g = wave_g + 0.400*( 0.60*sin(0.900*time) + 0.40*sin(0.956*time) );\\nwave_b = wave_b + 0.400*( 0.60*sin(0.910*time) + 0.40*sin(0.920*time) );\\nq8 = oldq8+if(above(bass+bass_att,1.8),q8+0.0005*pow((bass+bass_att-1),9),0);\\noldq8 = q8;\\nmonitor = q8;\\nzoom = zoom + 0.023*( 0.60*sin(0.339*q8) + 0.40*sin(0.276*q8) );\\nrot = rot + 0.030*( 0.60*sin(0.381*q8) + 0.40*sin(0.579*q8) );\\n//decay = decay - 0.02*equal(frame%40,0);\\nmv_r = wave_r;\\nmv_b = wave_b;\\nmv_g = wave_g;\\nmv_x = 1.25;\\nmv_y = 1.25;\\nmv_dx = 0.1*sin(1.1*time);\\nmv_dy = 0.1*cos(1.112*time);","pixel_eqs_eel":"rot=rot+1/(10*(rad+0.2+0.1*sin(q8)));","warp":"","comp":" shader_body { \\n  vec4 tmpvar_1;\\n  tmpvar_1 = texture (sampler_main, uv);\\n  vec4 tmpvar_2;\\n  tmpvar_2.w = 1.0;\\n  tmpvar_2.xyz = (tmpvar_1.xyz * (1.0 + (\\n    (abs((fract(\\n      (tmpvar_1.xyz * 8.0)\\n    ) - 0.5)) - 0.25)\\n   * 0.4)));\\n  ret = tmpvar_2.xyz;\\n }"}') }, "./presets/converted/cope + flexi - colorful marble (ghost mix).json": e => { e.exports = JSON.parse('{"version":2,"baseVals":{"rating":1,"gammaadj":1,"decay":1,"echo_orient":1,"additivewave":1,"wave_a":0.002,"wave_scale":2.713,"wave_smoothing":0,"modwavealphastart":1.2,"modwavealphaend":1.2,"warpscale":1.331,"zoom":0.9995,"warp":0.009,"wave_r":0.44,"wave_g":0.4,"ob_size":0.5,"ob_r":0.01,"ib_size":0.26,"mv_x":64,"mv_y":48,"mv_l":0.85,"mv_r":0.5,"mv_g":0.5,"mv_b":0.5,"mv_a":0,"b1ed":0},"shapes":[{"baseVals":{"sides":3,"additive":1,"num_inst":347,"rad":0.20065,"ang":0.75398,"tex_ang":3.14159,"tex_zoom":0.99979,"r":0,"g2":0,"border_g":0.5,"border_b":0.15,"border_a":1,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"//lorenz-attractor calc\\nxx1 = if(equal(instance,0),q11,xx1);\\nyy1 = if(equal(instance,0),q12,yy1);\\nzz1 = if(equal(instance,0),q13,zz1);\\n\\ndx1 = q14*(yy1-xx1);\\ndy1 = xx1*(q15-zz1)-yy1;\\ndz1 = xx1*yy1-q16*zz1;\\ndd = sqrt(dx1*dx1+dy1*dy1+dz1*dz1);\\nxx1 = xx1 + q17*dx1/dd;\\nyy1 = yy1 + q17*dy1/dd;\\nzz1 = zz1 + q17*dz1/dd;\\n\\n\\n// 3D object model coordinates\\nmy_x = xx1*0.1;\\nmy_y = yy1*0.1;\\nmy_z = zz1*0.1 - 3;\\n\\n\\nd = 5; // camera distance\\nzoom = 0.66;\\n\\n// solid angles\\nw3 = -q3;\\nw2 = q4;\\nw1 = q5;\\n\\n// 3D rotation\\nx1 = cos(w1)*my_x + sin(w1)*my_y;\\ny1 = -sin(w1)*my_x + cos(w1)*my_y;\\nz1 = my_z;\\n\\nx2 = cos(w2)*x1 + sin(w2)*z1;\\nz2 = -sin(w2)*x1 + cos(w2)*z1;\\ny2 = y1;\\n\\ny3 = cos(w3)*y2 + sin(w3)*z2;\\nz3 = -sin(w3)*y2 + cos(w3)*z2;\\nx3 = x2;\\n\\n// perspective calculation\\n\\nl = sqrt(x3*x3 + y3*y3);\\nw = atan2(x3,y3);\\np = tan(asin(1) + atan2(d+z3,l));\\nd = sqrt(x3*x3 + y3*y3 + (z3+d)*(z3+d));\\n\\nmy_x = zoom*sin(w)*p;\\nmy_y = zoom*cos(w)*p;\\n\\nx = 0.5 + my_x;\\ny = 0.5 + my_y;\\n\\nrad = rad/d;\\nang = ang-instance/num_inst*asin(1)*8;"},{"baseVals":{"enabled":1,"sides":52,"rad":0.72136,"tex_zoom":0.7874,"r":0,"a":0.05,"g2":0,"border_a":0},"init_eqs_eel":"started = 0;\\nt1 = 0.412; //seeds for pseudo random generator\\nt2 = 0.4563;\\nt3 = 0.6452;\\nt4 = 0.2565;","frame_eqs_eel":""},{"baseVals":{"sides":12,"additive":1,"num_inst":512,"y":0.55,"rad":0.2667,"tex_zoom":0.7874,"r":0,"g":0.1,"b":0.55,"g2":0,"border_a":0,"enabled":0},"init_eqs_eel":"started = 0;\\nt1 = 0.412; //seeds for pseudo random generator\\nt2 = 0.4563;\\nt3 = 0.6452;\\nt4 = 0.2565;","frame_eqs_eel":"rnd1 = if(equal(instance,0),t1,rnd1);\\nrnd2 = if(equal(instance,0),t2,rnd2);\\nrnd3 = if(equal(instance,0),t3,rnd3);\\nrnd4 = if(equal(instance,0),t4,rnd4);\\nrnd1 = 4*rnd1*(1-rnd1);\\nrnd2 = 4*rnd2*(1-rnd2);\\nrnd3 = 4*rnd3*(1-rnd3);\\nrnd4 = 4*rnd4*(1-rnd4);\\nt = .6;\\nt =  (rnd1+time*t) - int(rnd1+time*t);\\nt = t + rnd2*0.1;\\nwh = rnd4*asin(1)*4;\\nwv = 0.25 + rnd3*0.1;\\n\\nd = 6; // makes the perspective impact\\nzoom = 1;\\nl = 1;\\n\\n// Kardan angles\\n\\nw1 = q3; // first rotation: clockwise in the desktop pane\\nw2 = q4; // rotation around vertical axis\\nw3 = q5; // rotation around horizontal axis\\n\\n\\n// definition of the 3D shape\\n\\ni = instance;\\n\\nmy_x = t *(cos(wh)*sin(wv)*l)*4;\\nmy_z = (-0.5 +(t-0.75)*(t-0.75))*cos(wv)*l*4;\\nmy_y = t*(sin(wh)*sin(wv)*l)*4;\\n\\n\\n// 3D rotations\\n\\nx1 = cos(w1)*my_x + sin(w1)*my_y;\\ny1 = -sin(w1)*my_x + cos(w1)*my_y;\\nz1 = my_z;\\n\\nx2 = cos(w2)*x1 + sin(w2)*z1;\\nz2 = -sin(w2)*x1 + cos(w2)*z1;\\ny2 = y1;\\n\\ny3 = cos(w3)*y2 + sin(w3)*z2;\\nz3 = -sin(w3)*y2 + cos(w3)*z2;\\nx3 = x2;\\n\\n// perspective calculation\\n\\np = tan(asin(1) + atan2(d+z3,sqrt(x3*x3 + y3*y3)));\\nd = sqrt(x3*x3 + y3*y3 + (z3+d)*(z3+d));\\n\\nrad = rad/d;\\nmy_x = zoom*sin(atan2(x3,y3))*p;\\nmy_y = zoom*cos(atan2(x3,y3))*p;\\n\\nx = 0.5 + my_x;\\ny = 0.5 + my_y;\\n\\nx = 0.5 + (x-0.5)/q2;\\ny = 0.5 + (y-0.5)/q1;"},{"baseVals":{"sides":12,"additive":1,"num_inst":512,"y":0.55,"rad":0.05012,"tex_zoom":0.7874,"r":0,"g":0.02,"b":0.11,"g2":0,"border_a":0,"enabled":0},"init_eqs_eel":"started = 0;\\nt1 = 0.412; //seeds for pseudo random generator\\nt2 = 0.4563;\\nt3 = 0.6452;\\nt4 = 0.2565;","frame_eqs_eel":"rnd1 = if(equal(instance,0),t1,rnd1);\\nrnd2 = if(equal(instance,0),t2,rnd2);\\nrnd3 = if(equal(instance,0),t3,rnd3);\\nrnd4 = if(equal(instance,0),t4,rnd4);\\nrnd1 = 4*rnd1*(1-rnd1);\\nrnd2 = 4*rnd2*(1-rnd2);\\nrnd3 = 4*rnd3*(1-rnd3);\\nrnd4 = 4*rnd4*(1-rnd4);\\nt = .6;\\nt =  (rnd1+time*t) - int(rnd1+time*t);\\nt = t + rnd2*0.1;\\nwh = rnd4*asin(1)*4;\\nwv = 0.25 + rnd3*0.1;\\n\\nd = 1.4; // makes the perspective impact\\nzoom = 1;\\nl = 1;\\n\\n// Kardan angles\\n\\nw1 = q3; // first rotation: clockwise in the desktop pane\\nw2 = q4; // rotation around vertical axis\\nw3 = q5; // rotation around horizontal axis\\n\\n\\n// definition of the 3D shape\\n\\ni = instance;\\n\\nmy_x = t *(cos(wh)*sin(wv)*l);\\nmy_y = (-0.5 +(t-0.75)*(t-0.75))*cos(wv)*l;\\nmy_z = t*(sin(wh)*sin(wv)*l);\\n\\n\\n// 3D rotations\\n\\nx1 = cos(w1)*my_x + sin(w1)*my_y;\\ny1 = -sin(w1)*my_x + cos(w1)*my_y;\\nz1 = my_z;\\n\\nx2 = cos(w2)*x1 + sin(w2)*z1;\\nz2 = -sin(w2)*x1 + cos(w2)*z1;\\ny2 = y1;\\n\\ny3 = cos(w3)*y2 + sin(w3)*z2;\\nz3 = -sin(w3)*y2 + cos(w3)*z2;\\nx3 = x2;\\n\\n// perspective calculation\\n\\np = tan(asin(1) + atan2(d+z3,sqrt(x3*x3 + y3*y3)));\\nd = sqrt(x3*x3 + y3*y3 + (z3+d)*(z3+d));\\n\\nrad = rad/d;\\nmy_x = zoom*sin(atan2(x3,y3))*p;\\nmy_y = zoom*cos(atan2(x3,y3))*p;\\n\\nx = 0.5 + my_x;\\ny = 0.5 + my_y;\\n\\nx = 0.5 + (x-0.5)/q2;\\ny = 0.5 + (y-0.5)/q1;"}],"waves":[{"baseVals":{"samples":495,"sep":4,"spectrum":1,"thick":1,"additive":1,"scaling":100,"smoothing":1,"a":0.21,"enabled":0},"init_eqs_eel":"t2 = 0;\\nt3 = 0;\\nt4 = 0;\\nab = 1;","frame_eqs_eel":"","point_eqs_eel":"// lorenz-attractor calc\\nxx1 = if(equal(sample,0),q11,xx1);\\nyy1 = if(equal(sample,0),q12,yy1);\\nzz1 = if(equal(sample,0),q13,zz1);\\ndx1 = q14*(yy1-xx1);\\ndy1 = xx1*(q15-zz1)-yy1;\\ndz1 = xx1*yy1-q16*zz1;\\nxx1 = xx1 + q17*dx1;\\nyy1 = yy1 + q17*dy1;\\nzz1 = zz1 + q17*dz1;\\n\\n// 3D model coordinates\\nmy_x = xx1*0.1;\\nmy_y = yy1*0.1;\\nmy_z = zz1*0.1 - 3;\\n\\n\\nd = 5; // distance of the camera (on the z-axis) to the origin\\nzoom = 0.4;\\n\\n// solid angles\\nw1 = q2;\\nw2 = q3;\\nw3 = q4;\\n\\n// rotations\\nx1 = cos(w1)*my_x + sin(w1)*my_y;\\ny1 = -sin(w1)*my_x + cos(w1)*my_y;\\nz1 = my_z;\\n\\nx2 = cos(w2)*x1 + sin(w2)*z1;\\nz2 = -sin(w2)*x1 + cos(w2)*z1;\\ny2 = y1;\\n\\ny3 = cos(w3)*y2 + sin(w3)*z2;\\nz3 = -sin(w3)*y2 + cos(w3)*z2;\\nx3 = x2;\\n\\n// perspective calculation\\n\\nl = sqrt(x3*x3 + y3*y3);\\nw = atan2(x3,y3);\\np = tan(asin(1) + atan2(d+z3,l));\\nd = sqrt(x3*x3 + y3*y3 + (z3+d)*(z3+d));\\n\\nmy_x = zoom*sin(w)*p;\\nmy_y = zoom*cos(w)*p;\\n\\nx = 0.5 + my_x;\\ny = 0.5 + my_y;"},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":"xx1 = if(equal(sample,0),q11,xx1);\\nyy1 = if(equal(sample,0),q12,yy1);\\nzz1 = if(equal(sample,0),q13,zz1);\\n\\ndx1 = q14*(yy1-xx1);\\ndy1 = xx1*(q15-zz1)-yy1;\\ndz1 = xx1*yy1-q16*zz1;\\nxx1 = xx1 + q17*dx1;\\nyy1 = yy1 + q17*dy1;\\nzz1 = zz1 + q17*dz1;\\n\\nmy_x = xx1*0.02;\\nmy_y = yy1*0.02;\\nmy_z = zz1*0.02;\\n\\nx = 0.5 + my_x;\\ny = 0.5 + my_y;"},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""}],"init_eqs_eel":"x1 = 2;\\ny1= 2;\\nz1 = 2;","frame_eqs_eel":"// raytraced sphere code\\n\\nd = 20; // distance of the sphere, the farther you\'re away the more you\'ll see on the horizon\\nz = 4; // distance of the pane where the scene is projected on, wider distance = smaller apex angle of the camera, very small distances = fish eyes view\\n\\nzz = 1 + bass_att*0; // linear zoom\\n\\npi = asin(1)*2;\\npi2inv = 0.5/pi;\\nmaskangle = asin( 1/d);\\nq32 = maskangle; // hit = (cameras angle < mask_angle)\\nq31 = d;\\nq30 = z;\\nq29 = pi2inv;\\nq28 = pi;\\nq27 = 1/zz;\\n\\nv = 0.4;\\nj1 = j1*0.95 + sqr(bass*4)*v;\\nj2 = j2*0.95 + sqr(mid*4)*v;\\nj3 = j3*0.95 + sqr(treb*4)*v;\\n\\nn = n + j1*0.0152;\\nn1 = n1 + j2*0.0152;\\nn2 = n2 + j3*0.0152;\\n\\nvol=(bass+mid+treb)*0.25;\\nvol=vol;\\nq3=vol;\\nmtime = mtime+vol*0.01;\\nq1=mtime;\\n\\nzoom = zoom + 0.015*vol;\\n\\nw1 = n*0.01;    // solid angles to rotate the sphere in its origin\\nw2 = n1*0.01;\\nw3 = n2*0.01;\\n\\nq20 = cos(w1);\\nq21 = sin(w1);\\nq22 = cos(w2);\\nq23 = sin(w2);\\nq24 = cos(w3);\\nq25 = sin(w3);","pixel_eqs_eel":"","warp":" shader_body { \\n  vec3 noise2_1;\\n  vec3 rc_2;\\n  vec3 p_3;\\n  vec2 polar_4;\\n  vec3 ret_5;\\n  vec2 tmpvar_6;\\n  tmpvar_6 = ((q27 * (uv - 0.5)) * aspect.xy);\\n  float tmpvar_7;\\n  tmpvar_7 = sqrt(dot (tmpvar_6, tmpvar_6));\\n  float tmpvar_8;\\n  float tmpvar_9;\\n  tmpvar_9 = (min (abs(\\n    (tmpvar_7 / q30)\\n  ), 1.0) / max (abs(\\n    (tmpvar_7 / q30)\\n  ), 1.0));\\n  float tmpvar_10;\\n  tmpvar_10 = (tmpvar_9 * tmpvar_9);\\n  tmpvar_10 = (((\\n    ((((\\n      ((((-0.01213232 * tmpvar_10) + 0.05368138) * tmpvar_10) - 0.1173503)\\n     * tmpvar_10) + 0.1938925) * tmpvar_10) - 0.3326756)\\n   * tmpvar_10) + 0.9999793) * tmpvar_9);\\n  tmpvar_10 = (tmpvar_10 + (float(\\n    (abs((tmpvar_7 / q30)) > 1.0)\\n  ) * (\\n    (tmpvar_10 * -2.0)\\n   + 1.570796)));\\n  tmpvar_8 = (tmpvar_10 * sign((tmpvar_7 / q30)));\\n  if ((abs(q30) > (1e-08 * abs(tmpvar_7)))) {\\n    if ((q30 < 0.0)) {\\n      if ((tmpvar_7 >= 0.0)) {\\n        tmpvar_8 += 3.141593;\\n      } else {\\n        tmpvar_8 = (tmpvar_8 - 3.141593);\\n      };\\n    };\\n  } else {\\n    tmpvar_8 = (sign(tmpvar_7) * 1.570796);\\n  };\\n  bool tmpvar_11;\\n  tmpvar_11 = (q32 >= tmpvar_8);\\n  float tmpvar_12;\\n  float tmpvar_13;\\n  tmpvar_13 = (min (abs(\\n    (tmpvar_6.x / tmpvar_6.y)\\n  ), 1.0) / max (abs(\\n    (tmpvar_6.x / tmpvar_6.y)\\n  ), 1.0));\\n  float tmpvar_14;\\n  tmpvar_14 = (tmpvar_13 * tmpvar_13);\\n  tmpvar_14 = (((\\n    ((((\\n      ((((-0.01213232 * tmpvar_14) + 0.05368138) * tmpvar_14) - 0.1173503)\\n     * tmpvar_14) + 0.1938925) * tmpvar_14) - 0.3326756)\\n   * tmpvar_14) + 0.9999793) * tmpvar_13);\\n  tmpvar_14 = (tmpvar_14 + (float(\\n    (abs((tmpvar_6.x / tmpvar_6.y)) > 1.0)\\n  ) * (\\n    (tmpvar_14 * -2.0)\\n   + 1.570796)));\\n  tmpvar_12 = (tmpvar_14 * sign((tmpvar_6.x / tmpvar_6.y)));\\n  if ((abs(tmpvar_6.y) > (1e-08 * abs(tmpvar_6.x)))) {\\n    if ((tmpvar_6.y < 0.0)) {\\n      if ((tmpvar_6.x >= 0.0)) {\\n        tmpvar_12 += 3.141593;\\n      } else {\\n        tmpvar_12 = (tmpvar_12 - 3.141593);\\n      };\\n    };\\n  } else {\\n    tmpvar_12 = (sign(tmpvar_6.x) * 1.570796);\\n  };\\n  float x_15;\\n  x_15 = (q31 * sin(tmpvar_8));\\n  vec2 tmpvar_16;\\n  tmpvar_16.x = tmpvar_12;\\n  tmpvar_16.y = ((q28 - tmpvar_8) + (sign(x_15) * (1.570796 - \\n    (sqrt((1.0 - abs(x_15))) * (1.570796 + (abs(x_15) * (-0.2146018 + \\n      (abs(x_15) * (0.08656672 + (abs(x_15) * -0.03102955)))\\n    ))))\\n  )));\\n  polar_4 = tmpvar_16;\\n  vec3 tmpvar_17;\\n  tmpvar_17.x = (sin(tmpvar_12) * sin(tmpvar_16.y));\\n  tmpvar_17.y = (cos(tmpvar_12) * sin(tmpvar_16.y));\\n  tmpvar_17.z = cos(tmpvar_16.y);\\n  vec2 tmpvar_18;\\n  tmpvar_18.x = ((tmpvar_17.z * q20) - (tmpvar_17.y * q21));\\n  tmpvar_18.y = ((tmpvar_17.z * q21) + (tmpvar_17.y * q20));\\n  vec2 tmpvar_19;\\n  tmpvar_19.x = ((tmpvar_18.x * q22) - (tmpvar_17.x * q23));\\n  tmpvar_19.y = ((tmpvar_18.x * q23) + (tmpvar_17.x * q22));\\n  p_3.z = tmpvar_19.x;\\n  vec2 tmpvar_20;\\n  tmpvar_20.x = ((tmpvar_18.y * q24) - (tmpvar_19.y * q25));\\n  tmpvar_20.y = ((tmpvar_18.y * q25) + (tmpvar_19.y * q24));\\n  p_3.xy = tmpvar_20.yx;\\n  float tmpvar_21;\\n  float tmpvar_22;\\n  tmpvar_22 = (min (abs(\\n    (tmpvar_19.x / tmpvar_20.y)\\n  ), 1.0) / max (abs(\\n    (tmpvar_19.x / tmpvar_20.y)\\n  ), 1.0));\\n  float tmpvar_23;\\n  tmpvar_23 = (tmpvar_22 * tmpvar_22);\\n  tmpvar_23 = (((\\n    ((((\\n      ((((-0.01213232 * tmpvar_23) + 0.05368138) * tmpvar_23) - 0.1173503)\\n     * tmpvar_23) + 0.1938925) * tmpvar_23) - 0.3326756)\\n   * tmpvar_23) + 0.9999793) * tmpvar_22);\\n  tmpvar_23 = (tmpvar_23 + (float(\\n    (abs((tmpvar_19.x / tmpvar_20.y)) > 1.0)\\n  ) * (\\n    (tmpvar_23 * -2.0)\\n   + 1.570796)));\\n  tmpvar_21 = (tmpvar_23 * sign((tmpvar_19.x / tmpvar_20.y)));\\n  if ((abs(tmpvar_20.y) > (1e-08 * abs(tmpvar_19.x)))) {\\n    if ((tmpvar_20.y < 0.0)) {\\n      if ((tmpvar_19.x >= 0.0)) {\\n        tmpvar_21 += 3.141593;\\n      } else {\\n        tmpvar_21 = (tmpvar_21 - 3.141593);\\n      };\\n    };\\n  } else {\\n    tmpvar_21 = (sign(tmpvar_19.x) * 1.570796);\\n  };\\n  float tmpvar_24;\\n  tmpvar_24 = sqrt(dot (p_3.xz, p_3.xz));\\n  float tmpvar_25;\\n  float tmpvar_26;\\n  tmpvar_26 = (min (abs(\\n    (tmpvar_20.x / tmpvar_24)\\n  ), 1.0) / max (abs(\\n    (tmpvar_20.x / tmpvar_24)\\n  ), 1.0));\\n  float tmpvar_27;\\n  tmpvar_27 = (tmpvar_26 * tmpvar_26);\\n  tmpvar_27 = (((\\n    ((((\\n      ((((-0.01213232 * tmpvar_27) + 0.05368138) * tmpvar_27) - 0.1173503)\\n     * tmpvar_27) + 0.1938925) * tmpvar_27) - 0.3326756)\\n   * tmpvar_27) + 0.9999793) * tmpvar_26);\\n  tmpvar_27 = (tmpvar_27 + (float(\\n    (abs((tmpvar_20.x / tmpvar_24)) > 1.0)\\n  ) * (\\n    (tmpvar_27 * -2.0)\\n   + 1.570796)));\\n  tmpvar_25 = (tmpvar_27 * sign((tmpvar_20.x / tmpvar_24)));\\n  if ((abs(tmpvar_24) > (1e-08 * abs(tmpvar_20.x)))) {\\n    if ((tmpvar_24 < 0.0)) {\\n      if ((tmpvar_20.x >= 0.0)) {\\n        tmpvar_25 += 3.141593;\\n      } else {\\n        tmpvar_25 = (tmpvar_25 - 3.141593);\\n      };\\n    };\\n  } else {\\n    tmpvar_25 = (sign(tmpvar_20.x) * 1.570796);\\n  };\\n  vec2 tmpvar_28;\\n  tmpvar_28.x = tmpvar_21;\\n  tmpvar_28.y = tmpvar_25;\\n  polar_4 = (((tmpvar_28 * q29) * vec2(1.0, 2.0)) + vec2(0.0, 0.5));\\n  vec3 tmpvar_29;\\n  tmpvar_29.xy = polar_4;\\n  tmpvar_29.z = (time * 0.15);\\n  rc_2 = (texture (sampler_noisevol_hq, tmpvar_29).xyz + (texture (sampler_noisevol_hq, (2.0 * tmpvar_29)) * 0.5).xyz);\\n  rc_2 = (rc_2 + (texture (sampler_noisevol_hq, (4.0 * tmpvar_29)) * 0.25).xyz);\\n  rc_2 = (rc_2 + (texture (sampler_noisevol_hq, (8.0 * tmpvar_29)) * 0.125).xyz);\\n  rc_2 = (rc_2 + (texture (sampler_noisevol_hq, (16.0 * tmpvar_29)) * 0.0625).xyz);\\n  rc_2 = ((rc_2 * rc_2) * (rc_2 * 2.0));\\n  rc_2 = (rc_2 * (q3 * 0.5));\\n  vec4 tmpvar_30;\\n  tmpvar_30 = texture (sampler_fc_main, (0.5 + (uv - 0.5)));\\n  noise2_1 = (texture (sampler_noise_lq, ((\\n    (uv_orig * texsize.xy)\\n   * texsize_noise_lq.zw) + rand_frame.xy)).xyz + mix ((rc_2 * 2.0), vec3(2.0, 2.0, 2.0), vec3(rad)));\\n  vec3 a_31;\\n  a_31 = (1.0 - tmpvar_30.xyz);\\n  ret_5 = (tmpvar_30.xyz + (vec3(0.3, 0.25, 0.2) * dot (\\n    ((a_31.yzx * noise2_1.zxy) - (a_31.zxy * noise2_1.yzx))\\n  , vec3(0.32, 0.49, 0.29))));\\n  ret_5 = (ret_5 - (0.1 * rad));\\n  ret_5 = (ret_5 + ((0.1 * texture (sampler_noisevol_hq, \\n    ((p_3 + (time * 0.1)) * 0.7)\\n  )) * float(tmpvar_11)).xyz);\\n  vec4 tmpvar_32;\\n  tmpvar_32.w = 1.0;\\n  tmpvar_32.xyz = ret_5;\\n  ret = tmpvar_32.xyz;\\n }","comp":" shader_body { \\n  vec3 ret_1;\\n  ret_1 = (texture (sampler_main, uv).xyz - ((\\n    (texture (sampler_blur1, uv).xyz * scale1)\\n   + bias1) * 0.5));\\n  ret_1 = (ret_1 * 2.0);\\n  vec4 tmpvar_2;\\n  tmpvar_2.w = 1.0;\\n  tmpvar_2.xyz = ret_1;\\n  ret = tmpvar_2.xyz;\\n }"}') }, "./presets/converted/cope + martin - mother-of-pearl.json": e => { e.exports = JSON.parse('{"version":2,"baseVals":{"rating":0,"gammaadj":1.14,"decay":1,"echo_zoom":1,"wave_mode":6,"wave_thick":1,"wave_brighten":0,"wrap":0,"darken":1,"wave_a":1.17,"wave_scale":0.797,"wave_smoothing":0,"modwavealphastart":0.71,"modwavealphaend":1.3,"warpscale":1.331,"zoomexp":0.9995,"zoom":0.9998,"rot":0.02,"dy":-0.008,"warp":0.01,"sx":1.0098,"wave_r":0.5,"wave_g":0.5,"wave_b":0.5,"wave_x":0.9,"ob_size":0.005,"ob_a":0.8,"ib_size":0,"ib_r":0,"ib_g":0,"ib_b":0,"ib_a":1,"mv_x":44.8,"mv_y":38.4,"mv_l":5,"mv_g":0.91,"mv_b":0.71,"mv_a":0},"shapes":[{"baseVals":{"sides":33,"y":0,"rad":0.11039,"ang":3.4054,"r":0,"g2":0,"border_g":0,"border_b":0,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"//ang = ang + time*2;\\n\\n//x = x + 0.4*sin(time);\\n//y = y + 0.4*sin(-time*1.4);"},{"baseVals":{"sides":34,"y":0.45,"rad":1.62175,"r":0,"a":0.05,"g2":0,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"sides":54,"x":0,"y":0.6,"rad":0.13478,"r":0.7,"g":0.6,"b":0.7,"r2":0.6,"g2":0.6,"b2":0.6,"a2":1,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"//r = r + 0.3*(0.6*sin(time*1.87) + 0.4*sin(1.98*time));\\n//b = b + 0.3*(0.6*sin(time*1.3434) + 0.4*sin(1.78*time));\\n//g = g + 0.3*(0.6*sin(time*1.9887) + 0.4*sin(1.6*time));\\nr=0;\\nb=0;\\ng=0;\\nr2=r;\\nb2=b;\\ng2=g;"},{"baseVals":{"x":0,"y":0.2,"rad":0.20068,"r":0,"g2":0,"a2":1,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""}],"waves":[{"baseVals":{"usedots":1,"r":0.2,"g":0.7,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""}],"init_eqs_eel":"","frame_eqs_eel":"wave_r = wave_r + 0.3*sin(vol*50);\\nwave_b = wave_b + 0.3*sin(vol*20);\\nwave_g = wave_g + 0.5*sin(vol*35);\\n\\n\\nq8=wave_r;\\nq7=wave_b;\\nq6=wave_g;\\n\\nwr = 0.5+0.4*(0.6*sin(time*1.1) + 0.4*sin(0.8*time));\\nwb = 0.5+0.4*(0.6*sin(time*1.6) + 0.4*sin(0.5*time));\\nwg = 0.5+0.4*(0.6*sin(time*1.34) + 0.4*sin(0.4*time));\\n\\nmonitor=wg;\\nq10=wr;\\nq11=wb;\\nq12=wg;\\nq18 = 0.007*sin(time*0.1);\\nq17 = -0.007*sin(time*0.254);\\nq2=bass_thresh;\\n\\nvol=(bass+mid+treb)*0.25;\\nvol=vol*vol;\\nq3=vol;\\n\\nwarp=0;","pixel_eqs_eel":"","warp":" shader_body { \\n  vec3 noise3_1;\\n  vec3 tmpvar_2;\\n  tmpvar_2 = (texture (sampler_main, uv).xyz + ((texture (sampler_blur1, uv).xyz * scale1) + bias1));\\n  vec2 tmpvar_3;\\n  tmpvar_3 = (0.5 + ((\\n    (uv - vec2(0.0, 1.0))\\n   - 0.5) * (1.0 + \\n    (tmpvar_2.y * 0.03)\\n  )));\\n  vec2 tmpvar_4;\\n  tmpvar_4.x = (tmpvar_3.x + pow (tmpvar_2.x, 0.0));\\n  tmpvar_4.y = (tmpvar_3.y + pow (tmpvar_2.x, 0.005));\\n  noise3_1 = (texture (sampler_noise_lq, ((\\n    (uv_orig * texsize.xy)\\n   * texsize_noise_lq.zw) + rand_frame.xy)).xyz * fract(q15));\\n  vec3 tmpvar_5;\\n  tmpvar_5 = (noise3_1 * (vec3(1.0, 1.0, 1.0) - vec3(fract(\\n    (q3 * 0.5)\\n  ))));\\n  noise3_1 = tmpvar_5;\\n  vec4 tmpvar_6;\\n  tmpvar_6 = texture (sampler_main, fract(tmpvar_4));\\n  vec3 tmpvar_7;\\n  tmpvar_7.x = q10;\\n  tmpvar_7.y = q11;\\n  tmpvar_7.z = q12;\\n  vec3 tmpvar_8;\\n  tmpvar_8 = mix (tmpvar_5, tmpvar_7, tmpvar_6.xxx);\\n  vec4 tmpvar_9;\\n  tmpvar_9.w = 1.0;\\n  tmpvar_9.xyz = (tmpvar_6.xyz + clamp ((\\n    (tmpvar_6.yzx * tmpvar_8.zxy)\\n   - \\n    (tmpvar_6.zxy * tmpvar_8.yzx)\\n  ), 0.0, 1.0));\\n  ret = tmpvar_9.xyz;\\n }","comp":" shader_body { \\n  vec2 uv1_1;\\n  vec2 tmpvar_2;\\n  tmpvar_2.y = 0.0;\\n  tmpvar_2.x = texsize.z;\\n  vec2 tmpvar_3;\\n  tmpvar_3.x = 0.0;\\n  tmpvar_3.y = texsize.w;\\n  vec2 tmpvar_4;\\n  tmpvar_4.x = (texture (sampler_main, (uv - tmpvar_2)).xyz - texture (sampler_main, (uv + tmpvar_2)).xyz).x;\\n  tmpvar_4.y = (texture (sampler_main, (uv - tmpvar_3)).xyz - texture (sampler_main, (uv + tmpvar_3)).xyz).x;\\n  uv1_1 = ((0.3 * cos(\\n    ((uv - 0.5) * 2.0)\\n  )) - tmpvar_4);\\n  float tmpvar_5;\\n  tmpvar_5 = clamp ((0.04 / sqrt(\\n    dot (uv1_1, uv1_1)\\n  )), 0.0, 1.0);\\n  uv1_1 = ((0.3 * cos(\\n    (uv1_1 * 12.0)\\n  )) - (9.0 * tmpvar_4));\\n  vec4 tmpvar_6;\\n  tmpvar_6.w = 1.0;\\n  tmpvar_6.xyz = (tmpvar_5 + ((texture (sampler_main, uv).xyz * 12.0) * vec3(clamp (\\n    (0.04 / sqrt(dot (uv1_1, uv1_1)))\\n  , 0.0, 1.0))));\\n  ret = tmpvar_6.xyz;\\n }"}') }, "./presets/converted/fiShbRaiN + Flexi - witchcraft 2.0.json": e => { e.exports = JSON.parse('{"version":2,"baseVals":{"rating":5,"gammaadj":1.28,"decay":0.8,"echo_zoom":1,"echo_orient":3,"wave_mode":7,"additivewave":1,"modwavealphabyvolume":1,"wave_brighten":0,"brighten":1,"wave_a":0.001,"wave_scale":1.286,"wave_smoothing":0.63,"modwavealphastart":0.71,"modwavealphaend":1.3,"zoomexp":3.04777,"zoom":1.0173,"warp":0.01605,"wave_g":0.65,"wave_b":0.65,"ob_size":0,"ob_a":1,"mv_x":64,"mv_y":48,"mv_l":0,"mv_a":0,"b1ed":0},"shapes":[{"baseVals":{"sides":5,"additive":1,"num_inst":2,"x":0.49,"rad":0.11589,"tex_zoom":4.36077,"g2":0,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"x = rand(1000)/1000;\\ny = rand(1000)/1000;\\nang = rand(150)/100;"},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""}],"waves":[{"baseVals":{"enabled":1,"thick":1,"additive":1,"g":0,"b":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":"ma=ma+(above(bass,1)*3.1415*.01*bass);\\nma=ma-(above(treb,1)*3.1415*.01*treb);\\n\\nmx=mx+(.0002*cos(ma));\\nmy=my+(.0002*sin(ma));\\n\\nmx=if(above(mx,.9),(.9-mx),mx);\\nmy=if(above(my,.9),(.9-my),my);\\nmx=if(below(mx,.1),(.9+mx),mx);\\nmy=if(below(my,.1),(.9+my),my);\\n\\nx=mx;\\ny=my;\\n\\na=(above(bass+mid+treb,.8));"},{"baseVals":{"enabled":1,"thick":1,"additive":1,"r":0,"g":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":"ma=ma+(above(bass,1)*3.1415*.05*bass);\\nma=ma-(above(mid,1)*3.1415*.05*mid);\\n\\nmx=mx+(.0001*cos(ma));\\nmy=my+(.0001*sin(ma));\\n\\nmx=if(above(mx,.9),(.9-mx),mx);\\nmy=if(above(my,.9),(.9-my),my);\\nmx=if(below(mx,.1),(.9+mx),mx);\\nmy=if(below(my,.1),(.9+my),my);\\n\\nx=mx;\\ny=my;\\n\\na=(above(bass+mid+treb,.1));"},{"baseVals":{"enabled":1,"thick":1,"additive":1,"r":0,"b":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":"ma=ma+(above(mid,1)*3.1415*.01*mid);\\nma=ma-(above(treb,1)*3.1415*.01*treb);\\n\\nmx=mx+(.0004*cos(ma));\\nmy=my+(.0004*sin(ma));\\n\\nmx=if(above(mx,.9),(.9-mx),mx);\\nmy=if(above(my,.9),(.9-my),my);\\nmx=if(below(mx,.1),(.9+mx),mx);\\nmy=if(below(my,.1),(.9+my),my);\\n\\nx=mx;\\ny=my;\\n\\na=(above(bass+mid+treb,.3));"},{"baseVals":{"enabled":1,"thick":1,"additive":1,"g":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":"ma=ma+(above(bass,.5)*3.1415*.02*bass);\\nma=ma-(above(treb,.5)*3.1415*.02*treb);\\n\\nmx=mx+(.0008*cos(ma));\\nmy=my+(.0008*sin(ma));\\n\\nmx=if(above(mx,.9),(.9-mx),mx);\\nmy=if(above(my,.9),(.9-my),my);\\nmx=if(below(mx,.1),(.9+mx),mx);\\nmy=if(below(my,.1),(.9+my),my);\\n\\nx=mx;\\ny=my;\\n\\na=(above(bass+mid+treb,.2));"}],"init_eqs_eel":"","frame_eqs_eel":"dec_med = pow (0.9, 30/fps);\\ndec_slow = pow (0.99, 30/fps);\\nbeat = max (max (bass, mid), treb); \\navg = avg*dec_slow + beat*(1-dec_slow);\\nis_beat = above(beat, .5+avg+peak) * above (time, t0+.2);\\nt0 = is_beat*time + (1-is_beat)*t0;\\npeak = is_beat * beat + (1-is_beat)*peak*dec_med;\\nindex = (index + is_beat) %2;\\n\\n\\nd_x = if(is_beat, (rand(2000)-1000)*0.001 , d_x);\\nd_y = if(is_beat, (rand(2000)-1000)*0.001 , d_y);\\nr = if(is_beat, (rand(2000)-1000)*0.001 , r);\\nz = if(is_beat, rand(1000)*0.001 , z);\\nzoom = 1.03 + z*0.06;\\nrot = r*0.06;\\ndx = d_x*0.01;\\ndy = d_y*0.01;\\nq1 = 1;\\n\\nq23 = rand(1000)/1000;\\nq24 = rand(1000)/1000;\\nq25 = (rand(1000)/1000)*6.28;\\nq26 = q25 - 3.14;\\nq27 = (rand(1000)/12000)+0.04;\\n\\nq28 = rand(1000)/1000;\\nq29 = rand(1000)/1000;\\nq30 = (rand(1000)/1000)*6.28;\\nq31 = q30 - 3.14;\\nq32 = (rand(1000)/14000)+0.04;\\n\\ndb = db*0.98 + bass*0.2;\\nbb = bb + db*0.1;\\n\\ndt = dt*0.98 + treb*0.2;\\ntt = tt + dt*0.1;\\n\\ndm = dm*0.98 + mid*0.2;\\nmm = mm + dm*0.1;\\n\\n\\nw = (bb-tt)*0.1;\\nq11 = sin(w);\\nq12 = cos(w);\\nq13 = 0.5 + sin((bb-mm)*0.1)*0.25; // cx\\nq14 = 0.5 + sin((tt-mm)*0.1)*0.25; // cy\\nq15 = 4;\\nq16 = 0.06;\\nq17 = sin(-w);\\nq18 = cos(-w);","pixel_eqs_eel":"","warp":" shader_body { \\n  vec3 ret_1;\\n  vec2 tmpvar_2;\\n  tmpvar_2 = (texsize.zw * 8.0);\\n  vec3 tmpvar_3;\\n  tmpvar_3 = (((texture (sampler_blur1, \\n    (uv + (vec2(1.0, 0.0) * tmpvar_2))\\n  ).xyz * scale1) + bias1) - ((texture (sampler_blur1, \\n    (uv - (vec2(1.0, 0.0) * tmpvar_2))\\n  ).xyz * scale1) + bias1));\\n  vec3 tmpvar_4;\\n  tmpvar_4 = (((texture (sampler_blur1, \\n    (uv + (vec2(0.0, 1.0) * tmpvar_2))\\n  ).xyz * scale1) + bias1) - ((texture (sampler_blur1, \\n    (uv - (vec2(0.0, 1.0) * tmpvar_2))\\n  ).xyz * scale1) + bias1));\\n  vec2 tmpvar_5;\\n  tmpvar_5.x = tmpvar_3.x;\\n  tmpvar_5.y = tmpvar_4.x;\\n  vec2 tmpvar_6;\\n  vec2 tmpvar_7;\\n  tmpvar_7 = mix (uv_orig, uv, vec2(0.1, 0.1));\\n  tmpvar_6 = (tmpvar_7 + ((tmpvar_5 * texsize.zw) * 2.0));\\n  vec2 tmpvar_8;\\n  tmpvar_8.x = tmpvar_3.y;\\n  tmpvar_8.y = tmpvar_4.y;\\n  vec2 tmpvar_9;\\n  tmpvar_9 = (mix (uv_orig, uv, vec2(0.3, 0.3)) + ((tmpvar_8 * texsize.zw) * 2.0));\\n  vec2 tmpvar_10;\\n  tmpvar_10.x = tmpvar_3.z;\\n  tmpvar_10.y = tmpvar_4.z;\\n  vec2 tmpvar_11;\\n  tmpvar_11 = (tmpvar_7 + ((tmpvar_10 * texsize.zw) * 2.0));\\n  ret_1.x = (texture (sampler_main, tmpvar_6).x - ((texture (sampler_main, tmpvar_6).xyz - \\n    ((texture (sampler_blur3, tmpvar_6).xyz * scale3) + bias3)\\n  ).x * 0.01));\\n  ret_1.y = (texture (sampler_main, tmpvar_9).y - ((texture (sampler_main, tmpvar_9).xyz - \\n    ((texture (sampler_blur3, tmpvar_9).xyz * scale3) + bias3)\\n  ).y * 0.01));\\n  ret_1.z = (texture (sampler_main, tmpvar_11).z - ((texture (sampler_main, tmpvar_11).xyz - \\n    ((texture (sampler_blur3, tmpvar_11).xyz * scale3) + bias3)\\n  ).z * 0.01));\\n  ret_1 = (ret_1 + (-0.004 + (\\n    (texture (sampler_noise_lq, (((uv_orig * texsize.xy) * (texsize_noise_lq.zw * 1.2)) + rand_frame.xy)).xyz - 0.5)\\n   * 0.1)));\\n  vec4 tmpvar_12;\\n  tmpvar_12.w = 1.0;\\n  tmpvar_12.xyz = ret_1;\\n  ret = tmpvar_12.xyz;\\n }","comp":" shader_body { \\n  vec3 ret_1;\\n  vec2 tmpvar_2;\\n  tmpvar_2 = (texsize.zw * 8.0);\\n  vec3 tmpvar_3;\\n  tmpvar_3 = (((texture (sampler_blur1, \\n    (uv + (vec2(1.0, 0.0) * tmpvar_2))\\n  ).xyz * scale1) + bias1) - ((texture (sampler_blur1, \\n    (uv - (vec2(1.0, 0.0) * tmpvar_2))\\n  ).xyz * scale1) + bias1));\\n  vec3 tmpvar_4;\\n  tmpvar_4 = (((texture (sampler_blur1, \\n    (uv + (vec2(0.0, 1.0) * tmpvar_2))\\n  ).xyz * scale1) + bias1) - ((texture (sampler_blur1, \\n    (uv - (vec2(0.0, 1.0) * tmpvar_2))\\n  ).xyz * scale1) + bias1));\\n  vec2 tmpvar_5;\\n  tmpvar_5.x = tmpvar_3.z;\\n  tmpvar_5.y = tmpvar_4.z;\\n  vec2 tmpvar_6;\\n  tmpvar_6.x = tmpvar_3.y;\\n  tmpvar_6.y = tmpvar_4.y;\\n  ret_1 = (mix (vec3(0.2, 0.0, 0.1), vec3(0.8, 0.6, 0.0), texture (sampler_main, (uv - \\n    (tmpvar_5 * 0.2)\\n  )).yyy) * ((\\n    (-(tmpvar_3.y) + tmpvar_4.y)\\n   + 1.0) + (\\n    (-(tmpvar_3.z) + tmpvar_4.z)\\n   * 2.0)));\\n  vec3 tmpvar_7;\\n  tmpvar_7 = mix (mix (ret_1, vec3(0.3, 0.0, 0.8), vec3((\\n    ((texture (sampler_blur1, (uv - (tmpvar_6 * 0.04))).xyz * scale1) + bias1)\\n  .x * 1.4))), vec3(1.0, 0.9, 0.4), texture (sampler_main, uv).zzz);\\n  ret_1 = tmpvar_7;\\n  vec4 tmpvar_8;\\n  tmpvar_8.w = 1.0;\\n  tmpvar_8.xyz = tmpvar_7;\\n  ret = tmpvar_8.xyz;\\n }"}') }, "./presets/converted/flexi + amandio c - organic [random mashup].json": e => { e.exports = JSON.parse('{"version":2,"baseVals":{"rating":1,"gammaadj":1,"decay":1,"echo_zoom":1,"wrap":0,"darken_center":1,"brighten":1,"darken":1,"wave_a":0.001,"warpanimspeed":0.141,"warpscale":14.497,"zoom":0.99951,"warp":0.75055,"wave_r":0,"wave_g":0,"wave_b":0,"ob_size":0.5,"ob_r":0.01,"ib_size":0.26,"mv_a":0},"shapes":[{"baseVals":{"enabled":1,"sides":6,"rad":0.17809,"ang":0.26,"tex_zoom":0.39711,"g":0.7,"b":0.6,"r2":0.4,"g2":0,"a2":1,"border_a":0},"init_eqs_eel":"","frame_eqs_eel":"x=.11+.22*rand(5);\\ny=.1+.16*(2*time%6);\\n\\nb=.6+.3*q3;\\ng=.7+.2*q3;\\nr= .7;\\n\\ng2=.3*g;\\nr2=.3*r;\\nb2=.3*b;"},{"baseVals":{"enabled":1,"sides":6,"additive":1,"rad":0.17809,"ang":0.26,"tex_zoom":0.99999,"g":1,"b":0.4,"a":0.5,"r2":0.2,"g2":0,"b2":0.3,"a2":0.6,"border_r":0,"border_g":0,"border_b":0,"border_a":0},"init_eqs_eel":"","frame_eqs_eel":"x=.11+.22*rand(5);\\ny=.1+.16*(2*time%6);\\n\\nb=.6+.3*q3;\\ng=.7+.2*q3;\\nr= .7;\\n\\ng2=.3*g;\\nr2=.3*r;\\nb2=.3*b;"},{"baseVals":{"enabled":1,"sides":6,"textured":1,"rad":0.17633,"ang":0.26,"tex_zoom":1.19615,"r2":1,"b2":1,"a2":0.2,"border_r":0,"border_g":0,"border_b":0,"border_a":0.2},"init_eqs_eel":"","frame_eqs_eel":"x=.22*rand(6);\\ny=.18+.16*(2*time%5);\\n\\ng=1.5*q3;\\nr=1.3*q4;\\nb=1.7*q5;\\n\\ntex_ang=-q1;\\ntex_zoom=2+sin(q1);"},{"baseVals":{"enabled":1,"sides":6,"textured":1,"rad":0.16284,"ang":0.26,"r2":0.8,"g2":0.8,"b2":0.8,"a2":0.2,"border_r":0,"border_g":0,"border_b":0,"border_a":0.2},"init_eqs_eel":"","frame_eqs_eel":"x=.11+.22*rand(5);\\ny=.1+.16*(2*time%6);\\n\\nr=.3*q3;\\nb=.2*q2;\\ng=.1*q1;\\n\\ntex_ang=q1;\\ntex_zoom=2+1.2*sin(1.5*q1);"}],"waves":[{"baseVals":{"samples":395,"usedots":1,"r":0.15,"g":0.15,"b":0.15,"a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"usedots":1,"scaling":0.01,"a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"thick":1,"additive":1,"a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"thick":1,"additive":1,"a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""}],"init_eqs_eel":"x1 = 0.5;\\nx2 = 0.51;\\n\\ny2 = 1;\\ny1 = 0.7;\\n\\nx3 = 0.8;\\ny3 = 0.5;\\n\\nx4 = 0.2;\\ny4 = 0.5;\\n\\n\\nax1 = 0;\\nay1 = 0;\\nax2 = 0;\\nay2 = 0;\\nax3 = 0;\\nay3 = 0;\\n\\nvx1 = 0.000;\\nvx2 = 0.000;","frame_eqs_eel":"sx=1+.01*(8*bass%8)*equal(time%(int(24-2*bass)),0);\\nsy=1+.01*(8*mid%8) *equal(time%(12+int(24-2*bass)),0);\\n\\nzoom = 0.99;\\n//warp = 0;\\nwave_a = 0;\\n//pogopogopogopogopogopogopogopogopogopogopogopogopogopogopogopogopogopogopogopogopogopogopogopogopogopogo\\nr = 0.12+ max(bass_att,treb_att)*0.004;\\nbounce = below(y1,r);\\ny1 = y1+vy1;vy1 = if(bounce, abs(vy1)*0.94 + (r-y1)*0.1, vy1-0.00006*60/fps);\\nbounce = below(x1,r);x1 = x1+vx1;vx1 = if(bounce, abs(vx1)*0.94 + (r-x1)*0.1, vx1);\\nbounce = above(x1,1-r);vx1 = if(bounce, - abs(vx1)*0.94 + (1-r-x1)*0.04, vx1);\\nbounce = below(y2,r);y2 = y2 + vy2;vy2 = if(bounce,abs(vy2)*0.94+(r-y2)*.1, vy2-0.00006*60/fps);\\nbounce = below(x2,r);x2 = x2+ vx2;vx2 = if(bounce, abs(vx2)*0.94 + (r-x2)*0.1, vx2);\\nbounce = above(x2,1-r);vx2 = if(bounce, - abs(vx2)*0.94 + (1-r-x2)*0.1, vx2);\\nbounce = below(y3,r);y3 = y3 + vy3;vy3 = if(bounce,abs(vy3)*0.94+(r-y3)*.1, vy3-0.00006*60/fps);\\nbounce = below(x3,r);x3 = x3+ vx3;vx3 = if(bounce, abs(vx3)*0.94 + (r-x3)*0.1, vx3);\\nbounce = above(x3,1-r);vx3 = if(bounce, - abs(vx3)*0.94 + (1-r-x3)*0.1, vx3);\\nbounce = below(y4,r);y4 = y4 + vy4;vy4 = if(bounce,abs(vy4)*0.94+(r-y4)*.1, vy4-0.00006*60/fps);\\nbounce = below(x4,r);x4 = x4+ vx4;vx4 = if(bounce, abs(vx4)*0.94 + (r-x4)*0.1, vx4);\\nbounce = above(x4,1-r);vx4 = if(bounce, - abs(vx4)*0.94 + (1-r-x4)*0.1, vx4);\\nbounce = below( sqrt( sqr(x1+vx1-x2-vx2) + sqr(y1+vy1-y2-vy2)), 2*r);\\nref_ang = atan2(x2-x1,y2-y1)+asin(1); // common tangent\\nv1 = sqrt(vx1*vx1+vy1*vy1);v2 = sqrt(vx2*vx2+vy2*vy2);w1 = atan2(vx1,vy1);w2 = atan2(vx2,vy2);\\nvx1 = if(bounce,sin(ref_ang)*v1*cos(w1-ref_ang) + sin(ref_ang+asin(1))*v2*cos(w2-ref_ang-asin(1)), vx1);\\nvy1 = if(bounce,cos(ref_ang)*v1*cos(w1-ref_ang) + cos(ref_ang+asin(1))*v2*cos(w2-ref_ang-asin(1)), vy1);\\nvx2 = if(bounce,sin(ref_ang)*v2*cos(w2-ref_ang) + sin(ref_ang+asin(1))*v1*cos(w1-ref_ang-asin(1)), vx2);\\nvy2 = if(bounce,cos(ref_ang)*v2*cos(w2-ref_ang) + cos(ref_ang+asin(1))*v1*cos(w1-ref_ang-asin(1)), vy2);\\nbounce = below( sqrt( sqr(x1+vx1-x3-vx3) + sqr(y1+vy1-y3-vy3)), 2*r);\\nref_ang = atan2(x3-x1,y3-y1)+asin(1); // common tangent\\nv1 = sqrt(vx1*vx1+vy1*vy1);v2 = sqrt(vx3*vx3+vy3*vy3);w1 = atan2(vx1,vy1);w2 = atan2(vx3,vy3);\\nvx1 = if(bounce,sin(ref_ang)*v1*cos(w1-ref_ang) + sin(ref_ang+asin(1))*v2*cos(w2-ref_ang-asin(1)), vx1);\\nvy1 = if(bounce,cos(ref_ang)*v1*cos(w1-ref_ang) + cos(ref_ang+asin(1))*v2*cos(w2-ref_ang-asin(1)), vy1);\\nvx3 = if(bounce,sin(ref_ang)*v2*cos(w2-ref_ang) + sin(ref_ang+asin(1))*v1*cos(w1-ref_ang-asin(1)), vx3);\\nvy3 = if(bounce,cos(ref_ang)*v2*cos(w2-ref_ang) + cos(ref_ang+asin(1))*v1*cos(w1-ref_ang-asin(1)), vy3);\\nbounce = below( sqrt( sqr(x2+vx2-x3-vx3) + sqr(y2+vy2-y3-vy3)), 2*r);\\nref_ang = atan2(x3-x2,y3-y2)+asin(1); // common tangent\\nv1 = sqrt(vx2*vx2+vy2*vy2);v2 = sqrt(vx3*vx3+vy3*vy3);w1 = atan2(vx2,vy2);w2 = atan2(vx3,vy3);\\nvx2 = if(bounce,sin(ref_ang)*v1*cos(w1-ref_ang) + sin(ref_ang+asin(1))*v2*cos(w2-ref_ang-asin(1)), vx2);\\nvy2 = if(bounce,cos(ref_ang)*v1*cos(w1-ref_ang) + cos(ref_ang+asin(1))*v2*cos(w2-ref_ang-asin(1)), vy2);\\nvx3 = if(bounce,sin(ref_ang)*v2*cos(w2-ref_ang) + sin(ref_ang+asin(1))*v1*cos(w1-ref_ang-asin(1)), vx3);\\nvy3 = if(bounce,cos(ref_ang)*v2*cos(w2-ref_ang) + cos(ref_ang+asin(1))*v1*cos(w1-ref_ang-asin(1)), vy3);\\nbounce = below( sqrt( sqr(x1+vx1-x4-vx4) + sqr(y1+vy1-y4-vy4)), 2*r);\\nref_ang = atan2(x4-x1,y4-y1)+asin(1); // common tangent\\nv1 = sqrt(vx1*vx1+vy1*vy1);v2 = sqrt(vx4*vx4+vy4*vy4);w1 = atan2(vx1,vy1);w2 = atan2(vx4,vy4);\\nvx1 = if(bounce,sin(ref_ang)*v1*cos(w1-ref_ang) + sin(ref_ang+asin(1))*v2*cos(w2-ref_ang-asin(1)), vx1);\\nvy1 = if(bounce,cos(ref_ang)*v1*cos(w1-ref_ang) + cos(ref_ang+asin(1))*v2*cos(w2-ref_ang-asin(1)), vy1);\\nvx4 = if(bounce,sin(ref_ang)*v2*cos(w2-ref_ang) + sin(ref_ang+asin(1))*v1*cos(w1-ref_ang-asin(1)), vx4);\\nvy4 = if(bounce,cos(ref_ang)*v2*cos(w2-ref_ang) + cos(ref_ang+asin(1))*v1*cos(w1-ref_ang-asin(1)), vy4);\\nbounce = below( sqrt( sqr(x2+vx2-x4-vx4) + sqr(y2+vy2-y4-vy4)), 2*r);\\nref_ang = atan2(x4-x2,y4-y2)+asin(1); // common tangent\\nv1 = sqrt(vx2*vx2+vy2*vy2);v2 = sqrt(vx4*vx4+vy4*vy4);w1 = atan2(vx2,vy2);w2 = atan2(vx4,vy4);\\nvx2 = if(bounce,sin(ref_ang)*v1*cos(w1-ref_ang) + sin(ref_ang+asin(1))*v2*cos(w2-ref_ang-asin(1)), vx2);\\nvy2 = if(bounce,cos(ref_ang)*v1*cos(w1-ref_ang) + cos(ref_ang+asin(1))*v2*cos(w2-ref_ang-asin(1)), vy2);\\nvx4 = if(bounce,sin(ref_ang)*v2*cos(w2-ref_ang) + sin(ref_ang+asin(1))*v1*cos(w1-ref_ang-asin(1)), vx4);\\nvy4 = if(bounce,cos(ref_ang)*v2*cos(w2-ref_ang) + cos(ref_ang+asin(1))*v1*cos(w1-ref_ang-asin(1)), vy4);\\nbounce = below( sqrt( sqr(x3+vx3-x4-vx4) + sqr(y3+vy3-y4-vy4)), 2*r);\\nref_ang = atan2(x4-x3,y4-y3)+asin(1); // common tangent\\nv1 = sqrt(vx3*vx3+vy3*vy3);v2 = sqrt(vx4*vx4+vy4*vy4);w1 = atan2(vx3,vy3);w2 = atan2(vx4,vy4);\\nvx3 = if(bounce,sin(ref_ang)*v1*cos(w1-ref_ang) + sin(ref_ang+asin(1))*v2*cos(w2-ref_ang-asin(1)), vx3);\\nvy3 = if(bounce,cos(ref_ang)*v1*cos(w1-ref_ang) + cos(ref_ang+asin(1))*v2*cos(w2-ref_ang-asin(1)), vy3);\\nvx4 = if(bounce,sin(ref_ang)*v2*cos(w2-ref_ang) + sin(ref_ang+asin(1))*v1*cos(w1-ref_ang-asin(1)), vx4);\\nvy4 = if(bounce,cos(ref_ang)*v2*cos(w2-ref_ang) + cos(ref_ang+asin(1))*v1*cos(w1-ref_ang-asin(1)), vy4);\\n//pogopogopogopogopogopogopogopogopogopogopogopogopogopogopogopogopogopogopogopogopogopogopogopogopogopogo\\nq1 = aspectx;\\nq2 = aspecty;\\nq3 = x1;\\nq4 = y1;\\nq5 = r;\\nq6 = x2;\\nq7 = y2;\\nq8 = r;\\nq9 = x3;\\nq10 = y3;\\nq11 = r;\\nq12 = x4;\\nq13 = y4;\\nq14 = r;","pixel_eqs_eel":"","warp":" shader_body { \\n  vec3 ret_1;\\n  ret_1.z = (texture (sampler_main, uv).z * 0.5);\\n  vec2 tmpvar_2;\\n  tmpvar_2 = ((uv_orig * texsize.xy) * texsize_noise_lq.zw);\\n  vec2 tmpvar_3;\\n  tmpvar_3 = (texsize.zw * 4.0);\\n  vec2 tmpvar_4;\\n  tmpvar_4.x = (((2.0 * \\n    ((texture (sampler_blur1, (uv_orig + (vec2(1.0, 0.0) * tmpvar_3))).xyz * scale1) + bias1)\\n  ) - (2.0 * \\n    ((texture (sampler_blur1, (uv_orig - (vec2(1.0, 0.0) * tmpvar_3))).xyz * scale1) + bias1)\\n  )).y * 0.5);\\n  tmpvar_4.y = (((2.0 * \\n    ((texture (sampler_blur1, (uv_orig + (vec2(0.0, 1.0) * tmpvar_3))).xyz * scale1) + bias1)\\n  ) - (2.0 * \\n    ((texture (sampler_blur1, (uv_orig - (vec2(0.0, 1.0) * tmpvar_3))).xyz * scale1) + bias1)\\n  )).y * 0.5);\\n  ret_1.y = texture (sampler_fw_main, clamp ((uv_orig + (\\n    (tmpvar_4 * texsize.zw)\\n   * 4.0)), 0.0, 1.0)).y;\\n  ret_1.y = (ret_1.y + ((\\n    (ret_1 - ((texture (sampler_blur1, uv_orig).xyz * scale1) + bias1))\\n  .y * 0.025) + -0.014));\\n  ret_1.y = (ret_1.y + ((texture (sampler_noise_lq, tmpvar_2).y - 0.5) * 0.02));\\n  vec2 tmpvar_5;\\n  tmpvar_5.x = (((2.0 * \\n    ((texture (sampler_blur1, (uv_orig + (vec2(1.0, 0.0) * tmpvar_3))).xyz * scale1) + bias1)\\n  ) - (2.0 * \\n    ((texture (sampler_blur1, (uv_orig - (vec2(1.0, 0.0) * tmpvar_3))).xyz * scale1) + bias1)\\n  )).x * 0.5);\\n  tmpvar_5.y = (((2.0 * \\n    ((texture (sampler_blur1, (uv_orig + (vec2(0.0, 1.0) * tmpvar_3))).xyz * scale1) + bias1)\\n  ) - (2.0 * \\n    ((texture (sampler_blur1, (uv_orig - (vec2(0.0, 1.0) * tmpvar_3))).xyz * scale1) + bias1)\\n  )).x * 0.5);\\n  ret_1.x = ((texture (sampler_main, (uv - \\n    ((tmpvar_5 * texsize.zw) * 4.0)\\n  )).x - (ret_1.y * 0.01)) + 0.004);\\n  ret_1.x = (ret_1.x + ((\\n    (texture (sampler_noise_lq, tmpvar_2).x - 0.5)\\n   * 0.01) + (ret_1.z * 0.14)));\\n  vec4 tmpvar_6;\\n  tmpvar_6.w = 1.0;\\n  tmpvar_6.xyz = ret_1;\\n  ret = tmpvar_6.xyz;\\n }","comp":" shader_body { \\n  vec2 tmpvar_1;\\n  tmpvar_1.x = q3;\\n  tmpvar_1.y = q4;\\n  vec2 tmpvar_2;\\n  tmpvar_2.x = q6;\\n  tmpvar_2.y = q7;\\n  vec2 tmpvar_3;\\n  tmpvar_3.x = q9;\\n  tmpvar_3.y = q10;\\n  vec2 tmpvar_4;\\n  tmpvar_4.x = q12;\\n  tmpvar_4.y = q13;\\n  vec2 tmpvar_5;\\n  tmpvar_5 = (texsize.zw * 1.2);\\n  vec3 tmpvar_6;\\n  tmpvar_6 = (texture (sampler_main, (uv + (vec2(1.0, 0.0) * tmpvar_5))).xyz - texture (sampler_main, (uv - (vec2(1.0, 0.0) * tmpvar_5))).xyz);\\n  vec3 tmpvar_7;\\n  tmpvar_7 = (texture (sampler_main, (uv + (vec2(0.0, 1.0) * tmpvar_5))).xyz - texture (sampler_main, (uv - (vec2(0.0, 1.0) * tmpvar_5))).xyz);\\n  vec2 tmpvar_8;\\n  tmpvar_8.x = dot (tmpvar_6, vec3(0.32, 0.49, 0.29));\\n  tmpvar_8.y = dot (tmpvar_7, vec3(0.32, 0.49, 0.29));\\n  vec2 x_9;\\n  x_9 = ((uv - (tmpvar_8 * 8.0)) - (1.0 - tmpvar_1));\\n  vec2 tmpvar_10;\\n  tmpvar_10.x = dot (tmpvar_6, vec3(0.32, 0.49, 0.29));\\n  tmpvar_10.y = dot (tmpvar_7, vec3(0.32, 0.49, 0.29));\\n  vec2 x_11;\\n  x_11 = ((uv - (tmpvar_10 * 8.0)) - (1.0 - tmpvar_2));\\n  vec2 tmpvar_12;\\n  tmpvar_12.x = dot (tmpvar_6, vec3(0.32, 0.49, 0.29));\\n  tmpvar_12.y = dot (tmpvar_7, vec3(0.32, 0.49, 0.29));\\n  vec2 x_13;\\n  x_13 = ((uv - (tmpvar_12 * 8.0)) - (1.0 - tmpvar_3));\\n  vec2 tmpvar_14;\\n  tmpvar_14.x = dot (tmpvar_6, vec3(0.32, 0.49, 0.29));\\n  tmpvar_14.y = dot (tmpvar_7, vec3(0.32, 0.49, 0.29));\\n  vec2 x_15;\\n  x_15 = ((uv - (tmpvar_14 * 8.0)) - (1.0 - tmpvar_4));\\n  vec4 tmpvar_16;\\n  tmpvar_16.w = 1.0;\\n  tmpvar_16.xyz = (mix (texture (sampler_main, uv).xyz, max (\\n    max ((vec3((1.0 - pow (\\n      sqrt(dot (x_9, x_9))\\n    , 0.2))) * vec3(2.0, 1.0, -1.0)), (vec3((1.0 - pow (\\n      sqrt(dot (x_11, x_11))\\n    , 0.2))) * vec3(2.0, -1.0, 1.0)))\\n  , \\n    max ((vec3((1.0 - pow (\\n      sqrt(dot (x_13, x_13))\\n    , 0.2))) * vec3(-1.0, 1.0, 2.0)), (vec3((1.0 - pow (\\n      sqrt(dot (x_15, x_15))\\n    , 0.2))) * vec3(1.0, -1.0, 2.0)))\\n  ), vec3(0.5, 0.5, 0.5)) * 1.25);\\n  ret = tmpvar_16.xyz;\\n }"}') }, "./presets/converted/flexi + amandio c - organic12-3d-2.json": e => { e.exports = JSON.parse('{"version":2,"baseVals":{"rating":4,"gammaadj":1,"decay":0.995,"echo_zoom":1.007,"echo_orient":3,"wave_mode":7,"additivewave":1,"wave_thick":1,"modwavealphabyvolume":1,"wave_brighten":0,"wrap":0,"wave_a":0.001,"wave_scale":0.958,"wave_smoothing":0.45,"modwavealphastart":0,"modwavealphaend":1.32,"warpanimspeed":1.459,"warpscale":2.007,"zoom":0.9999,"warp":0.01,"sx":0.9999,"wave_r":0,"wave_g":0,"wave_b":0,"ob_size":0.05,"ob_g":0.1,"ob_b":1,"ob_a":1,"ib_size":0,"ib_r":0,"ib_g":0,"ib_b":0,"mv_x":25.6,"mv_y":9.6,"mv_l":0,"mv_r":0.5,"mv_g":0.5,"mv_b":0.5,"mv_a":0,"b1ed":0},"shapes":[{"baseVals":{"textured":1,"x":0.09,"y":0.9,"rad":0.22437,"tex_zoom":1.76002,"r2":1,"g2":0,"a2":0.6,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"sides":100,"additive":1,"x":0.26,"y":0.2,"rad":0.39317,"tex_zoom":6.19589,"r":0,"g":0.55,"b":0.5,"g2":0.4,"b2":0.4,"a2":0.07,"border_r":0.3,"border_g":0.7,"border_b":0.8,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"sides":44,"additive":1,"x":0.503,"rad":0.03886,"tex_zoom":0.60986,"g":0.1,"a":0.9,"r2":1,"b2":1,"border_r":0.5,"border_g":0.5,"border_b":0.5,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"sides":100,"rad":0.01,"tex_zoom":0.49981,"r":0,"g2":0,"border_r":0.2,"border_g":0.7,"border_b":0.5,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""}],"waves":[{"baseVals":{"samples":282,"sep":20,"usedots":1,"thick":1,"additive":1,"scaling":3.91581,"smoothing":0.1,"r":0.2,"g":0.3,"a":0.6,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"usedots":1,"thick":1,"scaling":0.89152,"smoothing":0.82,"a":0.1,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"thick":1,"scaling":0.89152,"smoothing":0.82,"r":0,"g":0.2,"b":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"spectrum":1,"usedots":1,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""}],"init_eqs_eel":"//******** INITIALIZATION *********\\n//---------- some global vars, do not change -------------\\navg = 0.01;\\nq7 = .25; //MyZoom\\nq8 =  rand(2.0)-1.0; //fractal modifier\\n//q8 = 1; //#\\nq16 = 1 + rand(2); //Tele ; rather fish eye\\n//q16 = 1; //#\\nq18 = rand(0.8)+.1; //brightness balance back/front\\nq30 = 1; //logarithmic Z-Dist storage; unused\\nq31 =128;\\nstart = 1; travel = 0; RotZ = 0; look = 0; slow = 0; t0 = time+3; lampx = .5; lampy = .5;\\ncran0 = rand(1);\\nn = 0; loop (10000, gmegabuf(n)=0; n=n+1; ); \\nn = 0; loop (10000,  megabuf(n)=0; n=n+1; ); \\ntrelx = 0;  trely = 0; trelz = 0;\\nreg20 = 1; reg21 = 0; reg22 = 0; reg23 = 0; reg24 = 1; reg25 = 0; reg26 = 0; reg27 = 0; reg28 = 1;\\n\\n//Find random starting point\\nwhile (exec2(\\n  ran1 = rand(800)/100;  ran2 = rand(800)/100;  ran3 = rand(800)/100;\\n  PosX = rand(5)-2;   PosY = rand(5)-2;   PosZ = rand(5)-2; \\n\\n//  PosX = 3.3; PosY = 2; PosZ = -2; ran1 = 0; ran2 = 0; ran3 = 0; //#\\n\\n  c1 = cos(ran1); c2 = cos(ran2); c3 = cos(ran3); \\n  s1 = sin(ran1); s2 = sin(ran2); s3 = sin(ran3);\\n\\n  reg20 = c2*c1; reg21 = c2*s1; reg22 = -s2;\\n  reg23 = s3*s2*c1 - c3*s1; reg24 = s3*s2*s1 + c3*c1; reg25 = s3*c2;\\n  reg26 = c3*s2*c1 + s3*s1; reg27 = c3*s2*s1 - s3*c1; reg28 = c3*c2;\\n\\n  //***********BOT*************\\n  //Coord. Trans. must exactly match def in warp S. !!!!\\n  dist = 0.001;\\n  while (exec2(\\n    uvx = reg26*dist/q7; uvy = reg27*dist/q7; uvz = reg28*dist/q7;\\n    uvx += PosX; uvy += PosY; uvz += PosZ;\\n    uvx = 8.0*((uvx/8+30.5 - int(uvx/8+30.5))-.5);\\n    uvy = 8.0*((uvy/8+30.5 - int(uvy/8+30.5))-.5);\\n    uvz = 8.0*((uvz/8+30.5 - int(uvz/8+30.5))-.5);\\n    uvx0 = uvx+q8; uvy0 = uvy+q8; uvz0 = uvz+q8;\\n    loop (7+1,\\n      uvx = if (uvx > 1, 2-uvx, if(uvx < -1, -2-uvx, uvx));\\n      uvy = if (uvy > 1, 2-uvy, if(uvy < -1, -2-uvy, uvy));\\n      uvz = if (uvz > 1, 2-uvz, if(uvz < -1, -2-uvz, uvz));\\n      slen = uvx*uvx + uvy*uvy + uvz*uvz;\\n      uvx = if (slen < 0.25, uvx*4, if (slen < 1, uvx/slen, uvx)) *2.6 + uvx0; \\n      uvy = if (slen < 0.25, uvy*4, if (slen < 1, uvy/slen, uvy)) *2.6 + uvy0; \\n      uvz = if (slen < 0.25, uvz*4, if (slen < 1, uvz/slen, uvz)) *2.6 + uvz0; \\n    );\\n    len = sqrt(uvx*uvx + uvy*uvy + uvz*uvz);\\n    dist *= 1.05;\\n  ,(dist < 0.6)*(len > 30)));\\n,(dist < .06))); //end while","frame_eqs_eel":"fps_ = .0 * fps_ + 1*if(fps<=25,fps,25+.5*(fps-25)); \\ndec_s = 1-.06*30/fps_;\\nbeat = (time >  t0+3); t0 = if(beat, time, t0);\\n\\nspeed = min(0.2,dist_-.02) * (1+2*avg) *(1-slow*.0)*.7/q7; //#\\nds = ds * dec_s + (1-dec_s)*speed*.25/fps_; \\nRotZ = if (RotZ==0,beat*(rand(100)<20*travel)*(rand(10)/10-.3),\\n                   bnot(beat*(rand(100)<30))*RotZ);\\nslow = if (bnot(slow), beat*(rand(1000*avg)<6), bnot(beat*(rand(100)<50)));\\nlook = if (bnot(look), beat*(rand(1000*speed)<12), bnot(beat*(rand(100)<50)));\\n\\n//Lamp View\\nlx = if (beat,rand(150)/200+.15,lx);\\nly = if (beat,rand(150)/200+.15,ly);\\nlampx = lampx * dec_s + (1-dec_s)*if (look,lx,0.5);\\nlampy = lampy * dec_s + (1-dec_s)*if (look,ly,0.5);\\nq1 = lampx; q2 = lampy;\\n\\n//Position \\nDirX= reg26; DirY= reg27; DirZ = reg28;\\nPosX = PosX + ds*DirX ; PosY = PosY + ds*DirY; PosZ = PosZ + ds*DirZ; \\nq4 = PosX; q5 = PosY; q6 = PosZ;\\n\\nangchg = (.2-dist_)*(dist_ < .2)*2;\\ntravel = if (angchg > 0,0,travel+ds);\\nv1 = v1 * dec_s + (1-dec_s)* RotZ * ds;\\nv2 = v2 *dec_s + (1-dec_s)*angchg *xslope/fps_;\\nv3 = v3 *dec_s + (1-dec_s)*(angchg *yslope/fps_ + 2*v1*sin(time*.1));\\n//v2 = .008;\\n//push old RotMat\\nreg30 =reg20; reg31 =reg21; reg32 =reg22; \\nreg33 =reg23; reg34 =reg24; reg35 =reg25; \\nreg36 =reg26; reg37 =reg27; reg38 =reg28; \\n\\nn = 0; avg = 0;\\nloop (5,\\n  n = n+1;\\n  //new Rot. Mat for infinitesimal angles\\n  ran1 = rand(100)/100;\\n  ran2 = rand(100)/200-.25;\\n  tx = cos(n*1.57+ran2) * (n <= 4)*ran1; ty = sin(n*1.57+ran2) * (n <= 4)*ran1;\\n  c1 = cos(v1); c2 = cos(v2+ty); c3 = cos(v3+tx); \\n  s1 = sin(v1); s2 = sin(v2+ty); s3 = sin(v3+tx);\\n  reg10 = c2*c1; reg11 = c2*s1; reg12 = -s2;\\n  reg13 = s3*s2*c1 - c3*s1; reg14 = s3*s2*s1 + c3*c1; reg15 = s3*c2;\\n  reg16 = c3*s2*c1 + s3*s1; reg17 = c3*s2*s1 - s3*c1; reg18 = c3*c2;\\n\\n  //pop old RotMat\\n  reg20 =reg30; reg21 =reg31; reg22 =reg32; \\n  reg23 =reg33; reg24 =reg34; reg25 =reg35; \\n  reg26 =reg36; reg27 =reg37; reg28 =reg38; \\n\\n  //Multiply new RotMat by old one\\n  q20 = reg10*reg20 + reg11*reg23 + reg12*reg26;\\n  q21 = reg10*reg21 + reg11*reg24 + reg12*reg27;\\n  q22 = reg10*reg22 + reg11*reg25 + reg12*reg28;\\n  q23 = reg13*reg20 + reg14*reg23 + reg15*reg26;\\n  q24 = reg13*reg21 + reg14*reg24 + reg15*reg27;\\n  q25 = reg13*reg22 + reg14*reg25 + reg15*reg28;\\n  q26 = reg16*reg20 + reg17*reg23 + reg18*reg26;\\n  q27 = reg16*reg21 + reg17*reg24 + reg18*reg27;\\n  q28 = reg16*reg22 + reg17*reg25 + reg18*reg28;\\n\\n  reg20 =q20; reg21 =q21; reg22 =q22;\\n  reg23 =q23; reg24 =q24; reg25 =q25;\\n  reg26 =q26; reg27 =q27; reg28 =q28;\\n\\n  //***********BOT*************\\n  //Coord. Trans. must exactly match def in warp S. !!!!\\n  dist = 0.002;\\n  while (exec2(\\n    uvx = reg26*dist/q7; uvy = reg27*dist/q7; uvz = reg28*dist/q7;\\n    uvx += PosX; uvy += PosY; uvz += PosZ;\\n    uvx = 8.0*((uvx/8+30.5 - int(uvx/8+30.5))-.5);\\n    uvy = 8.0*((uvy/8+30.5 - int(uvy/8+30.5))-.5);\\n    uvz = 8.0*((uvz/8+30.5 - int(uvz/8+30.5))-.5);\\n    uvx0 = uvx+q8; uvy0 = uvy+q8; uvz0 = uvz+q8;\\n    loop (7+1,\\n      uvx = if (uvx > 1, 2-uvx, if(uvx < -1, -2-uvx, uvx));\\n      uvy = if (uvy > 1, 2-uvy, if(uvy < -1, -2-uvy, uvy));\\n      uvz = if (uvz > 1, 2-uvz, if(uvz < -1, -2-uvz, uvz));\\n      slen = uvx*uvx + uvy*uvy + uvz*uvz;\\n      uvx = if (slen < 0.25, uvx*4, if (slen < 1, uvx/slen, uvx)) *2.6 + uvx0; \\n      uvy = if (slen < 0.25, uvy*4, if (slen < 1, uvy/slen, uvy)) *2.6 + uvy0; \\n      uvz = if (slen < 0.25, uvz*4, if (slen < 1, uvz/slen, uvz)) *2.6 + uvz0; \\n    );\\n    len = sqrt(uvx*uvx + uvy*uvy + uvz*uvz);\\n    dist *= 1.1;\\n  ,(dist < 0.6)*(len > 30)));\\n  megabuf(n) = megabuf(n)*dec_s + (1-dec_s)*dist; //stores the 4 trial points\\n  avg = avg+abs(megabuf(n)/5);\\n); //end loop 5\\n\\nn = 0; avg = 0; loop (5, n=n+1; avg = avg+abs(megabuf(n)/5));\\n\\nxslope = min(max(2/avg*(megabuf(1)-megabuf(3)),-3),3);\\nyslope = min(max(2/avg*(megabuf(4)-megabuf(2)),-3),3);\\nmonitor = avg;\\ndist_ = dist_*dec_s + (1-dec_s)*dist;\\n\\nq10 = ds*q7; //compensation of lin. movement in GetDist and zoom uv\\nq14 = 1*abs(ds) + 2*(abs(v1) + abs(v2) + abs(v3)) + 1.0/255 + start*.05; \\nq19 = .6 + .4*sin(time*.02+cran0*6); //brightness backgd\\nstart = start * .9;\\nq11 = v1; q12 = v2; q13 = v3;\\n//forward comp. of Rotation\\nmonitor = q16;\\n\\n\\nbb = bb*0.99 + bass*0.02;\\nmm = mm*0.99 + mid*0.02;\\ntt = tt*0.99 + treb*0.02;\\n\\nmx = max(max(bb,mm),tt);\\nmn = min(min(bb,mm),tt);\\n\\nh1 = (bb-mn)/(mx-mn);\\nh2 = (mm-mn)/(mx-mn);\\nh3 = (tt-mn)/(mx-mn);\\n\\nv = 0.1333/fps;\\nbm = bm + (h1-h2)*v;\\nmt = mt + (h2-h3)*v;\\nbt = bt + (h1-h3)*v;\\n\\nw = bm*2;\\nq3 = sin(w);\\nq9 = cos(w);\\n\\n\\nq17 = bm;\\nq18 = mt;\\nq19 = bt;","pixel_eqs_eel":"warp = 0.0; zoom = 1; dx = -q12/q16*(1+0*pow(x-.5,2)); dy = q13/q16*(1+0*pow(y-.5,2)); rot =q11;","warp":"float sustain;\\nfloat xlat_mutabledist;\\nfloat xlat_mutablestruc;\\nvec2 xlat_mutableuv1;\\nvec3 xlat_mutableuv2;\\n shader_body { \\n  mat3 tmpvar_1;\\n  tmpvar_1[uint(0)].x = q20;\\n  tmpvar_1[uint(0)].y = q23;\\n  tmpvar_1[uint(0)].z = q26;\\n  tmpvar_1[1u].x = q21;\\n  tmpvar_1[1u].y = q24;\\n  tmpvar_1[1u].z = q27;\\n  tmpvar_1[2u].x = q22;\\n  tmpvar_1[2u].y = q25;\\n  tmpvar_1[2u].z = q28;\\n  vec3 tmpvar_2;\\n  tmpvar_2.x = q4;\\n  tmpvar_2.y = q5;\\n  tmpvar_2.z = q6;\\n  sustain = (1.0123 - q14);\\n  vec2 uv_3;\\n  vec3 ret_4;\\n  vec2 tmpvar_5;\\n  tmpvar_5 = (uv - 0.5);\\n  xlat_mutableuv1 = ((tmpvar_5 * aspect.xy) * q16);\\n  vec4 tmpvar_6;\\n  tmpvar_6 = texture (sampler_pc_main, uv);\\n  uv_3 = ((tmpvar_5 * (1.0 - \\n    (q10 / (1.0 - ((tmpvar_6.z + \\n      (0.003921569 * tmpvar_6.y)\\n    ) + (q10 * 0.7))))\\n  )) + 0.5);\\n  vec4 tmpvar_7;\\n  tmpvar_7 = fract((8.0 * texture (sampler_noise_lq, (uv_3 + rand_frame.yz))));\\n  xlat_mutabledist = tmpvar_7.x;\\n  if ((tmpvar_7.y > 0.2)) {\\n    vec3 tmpvar_8;\\n    tmpvar_8 = (tmpvar_7.xyz - vec3(0.4, 0.5, 0.5));\\n    vec2 uvi_9;\\n    uvi_9 = ((tmpvar_8.zy * 0.003) + uv_3);\\n    vec2 pix_10;\\n    vec4 nb2_11;\\n    vec4 nb_12;\\n    vec2 x_13;\\n    x_13 = (uvi_9 - 0.5);\\n    pix_10 = (texsize.zw * (1.0 + (\\n      sqrt(dot (x_13, x_13))\\n     * 8.0)));\\n    float tmpvar_14;\\n    tmpvar_14 = (q10 * 0.7);\\n    vec4 tmpvar_15;\\n    tmpvar_15 = texture (sampler_pc_main, (uvi_9 - pix_10));\\n    nb_12.x = (1.0 - ((tmpvar_15.z + \\n      (0.003921569 * tmpvar_15.y)\\n    ) + tmpvar_14));\\n    vec4 tmpvar_16;\\n    tmpvar_16 = texture (sampler_pc_main, (uvi_9 + (pix_10 * vec2(1.0, -1.0))));\\n    nb_12.y = (1.0 - ((tmpvar_16.z + \\n      (0.003921569 * tmpvar_16.y)\\n    ) + tmpvar_14));\\n    vec4 tmpvar_17;\\n    tmpvar_17 = texture (sampler_pc_main, (uvi_9 + pix_10));\\n    nb_12.z = (1.0 - ((tmpvar_17.z + \\n      (0.003921569 * tmpvar_17.y)\\n    ) + tmpvar_14));\\n    vec4 tmpvar_18;\\n    tmpvar_18 = texture (sampler_pc_main, (uvi_9 + (pix_10 * vec2(-1.0, 1.0))));\\n    nb_12.w = (1.0 - ((tmpvar_18.z + \\n      (0.003921569 * tmpvar_18.y)\\n    ) + tmpvar_14));\\n    vec4 tmpvar_19;\\n    tmpvar_19 = texture (sampler_pc_main, (uvi_9 + (pix_10 * vec2(0.0, -1.0))));\\n    nb2_11.x = (1.0 - ((tmpvar_19.z + \\n      (0.003921569 * tmpvar_19.y)\\n    ) + tmpvar_14));\\n    vec4 tmpvar_20;\\n    tmpvar_20 = texture (sampler_pc_main, (uvi_9 + (pix_10 * vec2(1.0, 0.0))));\\n    nb2_11.y = (1.0 - ((tmpvar_20.z + \\n      (0.003921569 * tmpvar_20.y)\\n    ) + tmpvar_14));\\n    vec4 tmpvar_21;\\n    tmpvar_21 = texture (sampler_pc_main, (uvi_9 + (pix_10 * vec2(0.0, 1.0))));\\n    nb2_11.z = (1.0 - ((tmpvar_21.z + \\n      (0.003921569 * tmpvar_21.y)\\n    ) + tmpvar_14));\\n    vec4 tmpvar_22;\\n    tmpvar_22 = texture (sampler_pc_main, (uvi_9 + (pix_10 * vec2(-1.0, 0.0))));\\n    nb2_11.w = (1.0 - ((tmpvar_22.z + \\n      (0.003921569 * tmpvar_22.y)\\n    ) + tmpvar_14));\\n    vec4 tmpvar_23;\\n    tmpvar_23 = min (nb_12, nb2_11);\\n    nb_12.zw = tmpvar_23.zw;\\n    nb_12.xy = min (tmpvar_23.xy, tmpvar_23.zw);\\n    xlat_mutabledist = (min (nb_12.x, nb_12.y) + ((0.008 * tmpvar_8.x) * abs(tmpvar_8.y)));\\n  };\\n  vec4 tmpvar_24;\\n  tmpvar_24 = texture (sampler_pc_main, uv_3);\\n  float tmpvar_25;\\n  tmpvar_25 = min (xlat_mutabledist, (1.0 - (\\n    (tmpvar_24.z + (0.003921569 * tmpvar_24.y))\\n   + \\n    (q10 * 0.7)\\n  )));\\n  xlat_mutabledist = tmpvar_25;\\n  float tmpvar_26;\\n  tmpvar_26 = (tmpvar_25 + pow (tmpvar_25, 3.0));\\n  vec3 tmpvar_27;\\n  tmpvar_27.xy = (xlat_mutableuv1 * tmpvar_26);\\n  tmpvar_27.z = tmpvar_26;\\n  xlat_mutableuv2 = (((tmpvar_27 / q7) * tmpvar_1) + tmpvar_2);\\n  xlat_mutableuv2 = ((fract(\\n    ((xlat_mutableuv2 / 8.0) + 0.5)\\n  ) - 0.5) * 8.0);\\n  float li_28;\\n  vec3 zz0_29;\\n  vec3 zz_30;\\n  zz0_29 = (xlat_mutableuv2 + q8);\\n  li_28 = 0.0;\\n  zz_30 = ((2.0 * clamp (xlat_mutableuv2, vec3(-1.0, -1.0, -1.0), vec3(1.0, 1.0, 1.0))) - xlat_mutableuv2);\\n  float tmpvar_31;\\n  tmpvar_31 = dot (zz_30, zz_30);\\n  if ((tmpvar_31 <= 0.25)) {\\n    zz_30 = (zz_30 * 4.0);\\n    li_28 = 24.0;\\n  } else {\\n    if ((tmpvar_31 <= 1.0)) {\\n      zz_30 = (zz_30 / tmpvar_31);\\n    };\\n  };\\n  zz_30 = ((2.6 * zz_30) + zz0_29);\\n  zz_30 = ((2.0 * clamp (zz_30, vec3(-1.0, -1.0, -1.0), vec3(1.0, 1.0, 1.0))) - zz_30);\\n  float tmpvar_32;\\n  tmpvar_32 = dot (zz_30, zz_30);\\n  if ((tmpvar_32 <= 0.25)) {\\n    zz_30 = (zz_30 * 4.0);\\n    li_28 = 24.0;\\n  } else {\\n    if ((tmpvar_32 <= 1.0)) {\\n      zz_30 = (zz_30 / tmpvar_32);\\n    };\\n  };\\n  zz_30 = ((2.6 * zz_30) + zz0_29);\\n  zz_30 = ((2.0 * clamp (zz_30, vec3(-1.0, -1.0, -1.0), vec3(1.0, 1.0, 1.0))) - zz_30);\\n  float tmpvar_33;\\n  tmpvar_33 = dot (zz_30, zz_30);\\n  if ((tmpvar_33 <= 0.25)) {\\n    zz_30 = (zz_30 * 4.0);\\n    li_28 = 24.0;\\n  } else {\\n    if ((tmpvar_33 <= 1.0)) {\\n      zz_30 = (zz_30 / tmpvar_33);\\n    };\\n  };\\n  zz_30 = ((2.6 * zz_30) + zz0_29);\\n  zz_30 = ((2.0 * clamp (zz_30, vec3(-1.0, -1.0, -1.0), vec3(1.0, 1.0, 1.0))) - zz_30);\\n  float tmpvar_34;\\n  tmpvar_34 = dot (zz_30, zz_30);\\n  if ((tmpvar_34 <= 0.25)) {\\n    zz_30 = (zz_30 * 4.0);\\n    li_28 = 24.0;\\n  } else {\\n    if ((tmpvar_34 <= 1.0)) {\\n      zz_30 = (zz_30 / tmpvar_34);\\n    };\\n  };\\n  zz_30 = ((2.6 * zz_30) + zz0_29);\\n  zz_30 = ((2.0 * clamp (zz_30, vec3(-1.0, -1.0, -1.0), vec3(1.0, 1.0, 1.0))) - zz_30);\\n  float tmpvar_35;\\n  tmpvar_35 = dot (zz_30, zz_30);\\n  if ((tmpvar_35 <= 0.25)) {\\n    zz_30 = (zz_30 * 4.0);\\n    li_28 = 24.0;\\n  } else {\\n    if ((tmpvar_35 <= 1.0)) {\\n      zz_30 = (zz_30 / tmpvar_35);\\n    };\\n  };\\n  zz_30 = ((2.6 * zz_30) + zz0_29);\\n  zz_30 = ((2.0 * clamp (zz_30, vec3(-1.0, -1.0, -1.0), vec3(1.0, 1.0, 1.0))) - zz_30);\\n  float tmpvar_36;\\n  tmpvar_36 = dot (zz_30, zz_30);\\n  if ((tmpvar_36 <= 0.25)) {\\n    zz_30 = (zz_30 * 4.0);\\n    li_28 = 24.0;\\n  } else {\\n    if ((tmpvar_36 <= 1.0)) {\\n      zz_30 = (zz_30 / tmpvar_36);\\n    };\\n  };\\n  zz_30 = ((2.6 * zz_30) + zz0_29);\\n  zz_30 = ((2.0 * clamp (zz_30, vec3(-1.0, -1.0, -1.0), vec3(1.0, 1.0, 1.0))) - zz_30);\\n  float tmpvar_37;\\n  tmpvar_37 = dot (zz_30, zz_30);\\n  if ((tmpvar_37 <= 0.25)) {\\n    zz_30 = (zz_30 * 4.0);\\n    li_28 = 24.0;\\n  } else {\\n    if ((tmpvar_37 <= 1.0)) {\\n      zz_30 = (zz_30 / tmpvar_37);\\n    };\\n  };\\n  zz_30 = ((2.6 * zz_30) + zz0_29);\\n  zz_30 = ((2.0 * clamp (zz_30, vec3(-1.0, -1.0, -1.0), vec3(1.0, 1.0, 1.0))) - zz_30);\\n  float tmpvar_38;\\n  tmpvar_38 = dot (zz_30, zz_30);\\n  if ((tmpvar_38 <= 0.25)) {\\n    zz_30 = (zz_30 * 4.0);\\n    li_28 = 24.0;\\n  } else {\\n    if ((tmpvar_38 <= 1.0)) {\\n      zz_30 = (zz_30 / tmpvar_38);\\n    };\\n  };\\n  zz_30 = ((2.6 * zz_30) + zz0_29);\\n  vec4 tmpvar_39;\\n  tmpvar_39.xyz = zz_30;\\n  tmpvar_39.w = li_28;\\n  float tmpvar_40;\\n  tmpvar_40 = sqrt(dot (zz_30, zz_30));\\n  xlat_mutablestruc = (sqrt(dot (tmpvar_39.xyw, tmpvar_39.xyw)) / 24.0);\\n  vec4 tmpvar_41;\\n  tmpvar_41 = texture (sampler_pc_main, uv_3);\\n  float tmpvar_42;\\n  float tmpvar_43;\\n  tmpvar_43 = (q10 * 0.7);\\n  tmpvar_42 = ((log(\\n    (1.0 + (tmpvar_40 / 24.0))\\n  ) * 0.02) * (1.0 - (1.0 - \\n    ((tmpvar_41.z + (0.003921569 * tmpvar_41.y)) + tmpvar_43)\\n  )));\\n  float tmpvar_44;\\n  vec4 tmpvar_45;\\n  tmpvar_45 = texture (sampler_pc_main, uv_3);\\n  tmpvar_44 = (1.0 - ((tmpvar_45.z + \\n    (0.003921569 * tmpvar_45.y)\\n  ) + tmpvar_43));\\n  if ((((tmpvar_25 <= tmpvar_44) && (tmpvar_40 < 24.0)) && (tmpvar_25 > 0.005))) {\\n    ret_4.x = (((1.0 - sustain) * xlat_mutablestruc) + (sustain * mix (texture (sampler_main, uv_3).xyz, \\n      ((texture (sampler_blur1, uv_3).xyz * scale1) + bias1)\\n    , vec3(\\n      (q14 * 4.0)\\n    )).x));\\n    float x_46;\\n    x_46 = ((1.0 - tmpvar_25) * 255.0);\\n    float ip_47;\\n    ip_47 = float(int(x_46));\\n    vec2 tmpvar_48;\\n    tmpvar_48.x = (x_46 - ip_47);\\n    tmpvar_48.y = (ip_47 / 255.0);\\n    ret_4.yz = tmpvar_48;\\n  } else {\\n    vec3 tmpvar_49;\\n    tmpvar_49.y = 0.0;\\n    tmpvar_49.x = sustain;\\n    tmpvar_49.z = (1.0 - tmpvar_42);\\n    vec3 tmpvar_50;\\n    tmpvar_50.xy = vec2(0.003921569, 0.0);\\n    tmpvar_50.z = (q14 / 6.0);\\n    ret_4 = ((texture (sampler_fc_main, uv_3).xyz * tmpvar_49) - tmpvar_50);\\n  };\\n  vec4 tmpvar_51;\\n  tmpvar_51.w = 1.0;\\n  tmpvar_51.xyz = ret_4;\\n  ret = tmpvar_51.xyz;\\n }","comp":"vec2 xlat_mutabled;\\nvec3 xlat_mutabledx;\\nvec3 xlat_mutabledy;\\n shader_body { \\n  vec3 ret_1;\\n  xlat_mutabled = (texsize.zw * 1.5);\\n  xlat_mutabledx = (texture (sampler_main, (uv_orig + (vec2(1.0, 0.0) * xlat_mutabled))).xyz - texture (sampler_main, (uv_orig - (vec2(1.0, 0.0) * xlat_mutabled))).xyz);\\n  xlat_mutabledy = (texture (sampler_main, (uv_orig + (vec2(0.0, 1.0) * xlat_mutabled))).xyz - texture (sampler_main, (uv_orig - (vec2(0.0, 1.0) * xlat_mutabled))).xyz);\\n  vec2 tmpvar_2;\\n  tmpvar_2.x = xlat_mutabledx.y;\\n  tmpvar_2.y = xlat_mutabledy.y;\\n  vec2 x_3;\\n  x_3 = (tmpvar_2 * 8.0);\\n  ret_1 = (((texture (sampler_main, uv).x * \\n    (1.0 - sqrt(dot (x_3, x_3)))\\n  ) * pow (hue_shader, vec3(6.0, 6.0, 6.0))) * 1.4);\\n  vec2 tmpvar_4;\\n  tmpvar_4.x = xlat_mutabledx.z;\\n  tmpvar_4.y = xlat_mutabledy.z;\\n  vec2 x_5;\\n  x_5 = (tmpvar_4 * 4.0);\\n  vec3 tmpvar_6;\\n  tmpvar_6 = mix (ret_1, vec3(1.0, 1.0, 1.0), vec3(sqrt(dot (x_5, x_5))));\\n  ret_1 = tmpvar_6;\\n  vec4 tmpvar_7;\\n  tmpvar_7.w = 1.0;\\n  tmpvar_7.xyz = tmpvar_6;\\n  ret = tmpvar_7.xyz;\\n }"}') }, "./presets/converted/flexi + fishbrain - neon mindblob grafitti.json": e => { e.exports = JSON.parse('{"version":2,"baseVals":{"rating":5,"gammaadj":1,"decay":0.955,"echo_zoom":0.997,"echo_alpha":0.5,"wave_mode":7,"additivewave":1,"modwavealphabyvolume":1,"wave_brighten":0,"wave_a":0.001,"wave_scale":0.49,"wave_smoothing":0,"modwavealphastart":0.71,"modwavealphaend":1.3,"warpscale":16.016,"zoomexp":11.56276,"fshader":1,"zoom":1.05971,"warp":0.13126,"wave_r":0.65,"wave_g":0.65,"wave_b":0.65,"ob_size":0,"ob_a":1,"ib_size":0,"mv_x":64,"mv_y":48,"mv_l":0,"mv_a":0},"shapes":[{"baseVals":{"enabled":1,"sides":14,"additive":1,"num_inst":126,"rad":0.0303,"tex_ang":0.62832,"r":0,"b":1,"g2":0,"b2":1,"a2":1,"border_a":0},"init_eqs_eel":"","frame_eqs_eel":"ma=ma+(above(bass,1)*3.1415*.01*bass);\\nma=ma-(above(treb,1)*3.1415*.01*treb);\\n\\nmx=mx+(.0002*cos(ma));\\nmy=my+(.0002*sin(ma));\\n\\nmx=if(above(mx,.9),(.9-mx),mx);\\nmy=if(above(my,.9),(.9-my),my);\\nmx=if(below(mx,.1),(.9+mx),mx);\\nmy=if(below(my,.1),(.9+my),my);\\n\\nx=mx;\\ny=my;\\n\\na=(above(bass+mid+treb,.8));"},{"baseVals":{"enabled":1,"sides":14,"additive":1,"num_inst":128,"rad":0.03,"tex_ang":0.62832,"r":0,"b":1,"g2":0,"b2":1,"a2":1,"border_a":0},"init_eqs_eel":"","frame_eqs_eel":"ma=ma+(above(bass,1)*3.1415*.05*bass);\\nma=ma-(above(mid,1)*3.1415*.05*mid);\\n\\nmx=mx+(.0001*cos(ma));\\nmy=my+(.0001*sin(ma));\\n\\nmx=if(above(mx,.9),(.9-mx),mx);\\nmy=if(above(my,.9),(.9-my),my);\\nmx=if(below(mx,.1),(.9+mx),mx);\\nmy=if(below(my,.1),(.9+my),my);\\n\\nx=mx;\\ny=my;\\n\\na=(above(bass+mid+treb,.1));"},{"baseVals":{"enabled":1,"sides":14,"additive":1,"num_inst":32,"rad":0.0297,"tex_ang":0.62832,"r":0,"b":1,"g2":0,"b2":1,"a2":1,"border_a":0},"init_eqs_eel":"","frame_eqs_eel":"ma=ma+(above(mid,1)*3.1415*.01*mid);\\nma=ma-(above(treb,1)*3.1415*.01*treb);\\n\\nmx=mx+(.0004*cos(ma));\\nmy=my+(.0004*sin(ma));\\n\\nmx=if(above(mx,.9),(.9-mx),mx);\\nmy=if(above(my,.9),(.9-my),my);\\nmx=if(below(mx,.1),(.9+mx),mx);\\nmy=if(below(my,.1),(.9+my),my);\\n\\nx=mx;\\ny=my;\\n\\na=(above(bass+mid+treb,.3));"},{"baseVals":{"enabled":1,"sides":14,"additive":1,"num_inst":16,"rad":0.0303,"tex_ang":0.62832,"r":0,"b":1,"g2":0,"b2":1,"a2":1,"border_a":0},"init_eqs_eel":"","frame_eqs_eel":"ma=ma+(above(bass,.5)*3.1415*.02*bass);\\nma=ma-(above(treb,.5)*3.1415*.02*treb);\\n\\nmx=mx+(.0008*cos(ma));\\nmy=my+(.0008*sin(ma));\\n\\nmx=if(above(mx,.9),(.9-mx),mx);\\nmy=if(above(my,.9),(.9-my),my);\\nmx=if(below(mx,.1),(.9+mx),mx);\\nmy=if(below(my,.1),(.9+my),my);\\n\\nx=mx;\\ny=my;\\n\\na=(above(bass+mid+treb,.2));"}],"waves":[{"baseVals":{"enabled":1,"thick":1,"additive":1,"scaling":2.0231,"smoothing":0,"r":0,"b":0},"init_eqs_eel":"t2 = 0;\\nt3 = 0;\\nt4 = 0;\\ncl = 0;","frame_eqs_eel":"vol = bass*8 + mid*5 + treb*3;\\nm = m*0.97 + vol*0.08;\\nmonitor = vol;\\nbeat = above(vol,res)*above(vol,m)*above(vol,16);\\ndiff = (1-beat)*diff + beat*(vol-res);\\nres = beat*(vol + m*0.04) + (1-beat)*(res -  (0.1+diff*0.02)*60/fps);\\nres = max(0,res);\\n\\na = beat;","point_eqs_eel":"tt3 = tt3*0.6 + (value1)*1;\\ntt2 = tt2*0.7 + tt3*0.2;\\ntt1 = tt1*0.8 + tt2*0.1;\\nd = d*0.9 + tt1*0.2;\\n\\ny = 0.5 + d*sample*(1-sample)*4;\\nx =  -0.05 + sample*1.1;"},{"baseVals":{"thick":1,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":"ma=ma+(above(bass,1)*3.1415*.05*bass);\\nma=ma-(above(mid,1)*3.1415*.05*mid);\\n\\nmx=mx+(.0001*cos(ma));\\nmy=my+(.0001*sin(ma));\\n\\nmx=if(above(mx,.9),(.9-mx),mx);\\nmy=if(above(my,.9),(.9-my),my);\\nmx=if(below(mx,.1),(.9+mx),mx);\\nmy=if(below(my,.1),(.9+my),my);\\n\\nx=mx;\\ny=my;\\n\\na=(above(bass+mid+treb,.1));"},{"baseVals":{"thick":1,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":"ma=ma+(above(mid,1)*3.1415*.01*mid);\\nma=ma-(above(treb,1)*3.1415*.01*treb);\\n\\nmx=mx+(.0004*cos(ma));\\nmy=my+(.0004*sin(ma));\\n\\nmx=if(above(mx,.9),(.9-mx),mx);\\nmy=if(above(my,.9),(.9-my),my);\\nmx=if(below(mx,.1),(.9+mx),mx);\\nmy=if(below(my,.1),(.9+my),my);\\n\\nx=mx;\\ny=my;\\n\\na=(above(bass+mid+treb,.3));"},{"baseVals":{"thick":1,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":"ma=ma+(above(bass,.5)*3.1415*.02*bass);\\nma=ma-(above(treb,.5)*3.1415*.02*treb);\\n\\nmx=mx+(.0008*cos(ma));\\nmy=my+(.0008*sin(ma));\\n\\nmx=if(above(mx,.9),(.9-mx),mx);\\nmy=if(above(my,.9),(.9-my),my);\\nmx=if(below(mx,.1),(.9+mx),mx);\\nmy=if(below(my,.1),(.9+my),my);\\n\\nx=mx;\\ny=my;\\n\\na=(above(bass+mid+treb,.2));"}],"init_eqs_eel":"","frame_eqs_eel":"xx1 = xx1*0.9 + (bass)*0.01;\\nxx2 = xx2*0.9 + (treb)*0.01;\\nyy1 = yy1*0.94 + (treb+bass)*0.0075;\\n\\nx1 = 0.5 + (xx1-xx2)*2;\\ny1 = 0.4 + yy1;\\n\\nx1 = max(0,min(1,x1)); y1 = max(0,min(1,y1));\\n\\nspring = 10;\\ngrav = .5;\\nresist = 1;\\nbounce = 0.75;\\ndt = 0.0005*(60/fps);\\n\\nvx2 = vx2*(1-resist*dt) + dt*((x1+x3-2*x2)*spring);\\nvy2 = vy2*(1-resist*dt) + dt*((y1+y3-2*y2)*spring-grav);\\nvx3 = vx3*(1-resist*dt) + dt*((x2+x4-2*x3)*spring);\\nvy3 = vy3*(1-resist*dt) + dt*((y2+y4-2*y3)*spring-grav);\\nvx4 = vx4*(1-resist*dt) + dt*((x3-x4)*spring);\\nvy4 = vy4*(1-resist*dt) + dt*((y3-y4)*spring-grav);\\n\\nx2 = x2 + vx2;\\ny2 = y2 + vy2;\\nx3 = x3 + vx3;\\ny3 = y3 + vy3;\\nx4 = x4 + vx4;\\ny4 = y4 + vy4;\\n\\nvx2 = if(above(x2,0),vx2,abs(vx2)*bounce);\\nvx2 = if(below(x2,1),vx2,-abs(vx2)*bounce);\\nvx3 = if(above(x3,0),vx3,abs(vx3)*bounce);\\nvx3 = if(below(x3,1),vx3,-abs(vx3)*bounce);\\nvx4 = if(above(x4,0),vx4,abs(vx4)*bounce);\\nvx4 = if(below(x4,1),vx4,-abs(vx4)*bounce);\\nvy2 = if(above(y2,0),vy2,abs(vy2)*bounce);\\nvy2 = if(below(y2,1),vy2,-abs(vy2)*bounce);\\nvy3 = if(above(y3,0),vy3,abs(vy3)*bounce);\\nvy3 = if(below(y3,1),vy3,-abs(vy3)*bounce);\\nvy4 = if(above(y4,0),vy4,abs(vy4)*bounce);\\nvy4 = if(below(y4,1),vy4,-abs(vy4)*bounce);\\n\\n\\nq1 = x1; q2 = x2; q3 = x3; q4 = x4;\\nq5 = y1; q6 = y2; q7 = y3; q8 = y4;\\nq9 =1/ aspectX;\\nq10 = 1/aspectY;\\n\\nzoom = 1;\\nr = r*0.96 +(x1-0.5);\\nrot = (r*0.1);\\n\\nq12 = atan2(vx4,vy4);\\nq11 = sqrt(vx4*vx4 + vy4*vy4);\\n\\nzoom = 1.001;\\nrot = 0.00;\\nwarp = 0.2;\\nwave_a = 0;","pixel_eqs_eel":"dir = -q12*1 + asin(1)*1;\\n\\nb1 = 0.1; // distance\\nm1 = q11*25;//-0.6 + q5*200; // size\\nt1 = 0.05; // velocity\\n\\nxx = q4;\\nyy = 1-q8;\\n\\n\\nx1 = xx   +cos(dir+1.5708)*b1;\\ny1 = yy -sin(dir+1.5708)*b1;\\n\\nx2 = xx   -cos(dir+1.5708)*b1;\\ny2 = yy +sin(dir+1.5708)*b1;\\n\\nd1 = sqrt((x1-x)*(x1-x)+(y1-y)*(y1-y))-b1*2;\\nsi1 = 1- 1/(1+pow(2,-d1*1000));\\n\\nd2 = sqrt((x2-x)*(x2-x)+(y2-y)*(y2-y))-b1*2;\\nsi2 = 1- 1/(1+pow(2,-d2*1000));\\n\\nsi3 = -pow(q5,3)*00;\\n\\ndx = (si1*sin(y1-y)*m1*d1  - si2*sin(y2-y)*m1*d2 + si3*cos(dir)*t1)*2;\\ndy = (-si1*sin(x1-x)*m1*d1 + si2*sin(x2-x)*m1*d2 - si3*sin(dir)*t1)*2;","warp":" shader_body { \\n  vec3 ret_1;\\n  vec2 tmpvar_2;\\n  tmpvar_2 = (texsize.zw * 8.0);\\n  vec3 tmpvar_3;\\n  tmpvar_3 = (((texture (sampler_blur1, \\n    (uv + (vec2(1.0, 0.0) * tmpvar_2))\\n  ).xyz * scale1) + bias1) - ((texture (sampler_blur1, \\n    (uv - (vec2(1.0, 0.0) * tmpvar_2))\\n  ).xyz * scale1) + bias1));\\n  vec3 tmpvar_4;\\n  tmpvar_4 = (((texture (sampler_blur1, \\n    (uv + (vec2(0.0, 1.0) * tmpvar_2))\\n  ).xyz * scale1) + bias1) - ((texture (sampler_blur1, \\n    (uv - (vec2(0.0, 1.0) * tmpvar_2))\\n  ).xyz * scale1) + bias1));\\n  vec2 tmpvar_5;\\n  tmpvar_5.x = tmpvar_3.z;\\n  tmpvar_5.y = tmpvar_4.z;\\n  vec2 tmpvar_6;\\n  tmpvar_6 = (uv + ((tmpvar_5 * texsize.zw) * 4.0));\\n  ret_1.z = (((texture (sampler_main, tmpvar_6).z - \\n    ((texture (sampler_main, tmpvar_6).z - ((texture (sampler_blur3, tmpvar_6).xyz * scale3) + bias3).z) * 0.02)\\n  ) - 0.008) + ((texture (sampler_noise_lq, \\n    (((uv_orig * texsize.xy) * texsize_noise_lq.zw) + rand_frame.xy)\\n  ).xyz - 0.5) * 0.1)).x;\\n  vec2 tmpvar_7;\\n  tmpvar_7.x = tmpvar_3.x;\\n  tmpvar_7.y = tmpvar_4.x;\\n  vec2 tmpvar_8;\\n  tmpvar_8 = ((0.5 + (uv - 0.5)) - (tmpvar_7 * texsize.zw));\\n  ret_1.x = texture (sampler_main, tmpvar_8).x;\\n  ret_1.x = (ret_1.x + ((\\n    (ret_1.x - ((texture (sampler_blur3, tmpvar_8).xyz * scale3) + bias3))\\n  .x * 0.4) + 0.006));\\n  vec2 tmpvar_9;\\n  tmpvar_9.x = tmpvar_3.x;\\n  tmpvar_9.y = tmpvar_4.x;\\n  vec2 tmpvar_10;\\n  tmpvar_10.x = tmpvar_3.y;\\n  tmpvar_10.y = tmpvar_4.y;\\n  vec2 tmpvar_11;\\n  tmpvar_11.x = tmpvar_3.z;\\n  tmpvar_11.y = tmpvar_4.z;\\n  ret_1.y = texture (sampler_fc_main, (((uv - \\n    ((tmpvar_9 * texsize.zw) * 8.0)\\n  ) + (\\n    (tmpvar_10 * texsize.zw)\\n   * 4.0)) + ((tmpvar_11 * texsize.zw) * 8.0))).y;\\n  ret_1.y = (ret_1.y * (1.0 + (ret_1.x * 0.1)));\\n  ret_1.y = (ret_1.y - (0.004 + (\\n    clamp (ret_1.z, 0.0, 1.0)\\n   * 0.012)));\\n  vec4 tmpvar_12;\\n  tmpvar_12.w = 1.0;\\n  tmpvar_12.xyz = ret_1;\\n  ret = tmpvar_12.xyz;\\n }","comp":" shader_body { \\n  vec3 ret_1;\\n  vec2 tmpvar_2;\\n  tmpvar_2 = (texsize.zw * 4.0);\\n  vec3 tmpvar_3;\\n  tmpvar_3 = (((texture (sampler_blur1, \\n    (uv + (vec2(1.0, 0.0) * tmpvar_2))\\n  ).xyz * scale1) + bias1) - ((texture (sampler_blur1, \\n    (uv - (vec2(1.0, 0.0) * tmpvar_2))\\n  ).xyz * scale1) + bias1));\\n  vec3 tmpvar_4;\\n  tmpvar_4 = (((texture (sampler_blur1, \\n    (uv + (vec2(0.0, 1.0) * tmpvar_2))\\n  ).xyz * scale1) + bias1) - ((texture (sampler_blur1, \\n    (uv - (vec2(0.0, 1.0) * tmpvar_2))\\n  ).xyz * scale1) + bias1));\\n  vec2 tmpvar_5;\\n  tmpvar_5.x = tmpvar_3.z;\\n  tmpvar_5.y = tmpvar_4.z;\\n  vec2 tmpvar_6;\\n  tmpvar_6.x = tmpvar_3.y;\\n  tmpvar_6.y = tmpvar_4.y;\\n  vec2 tmpvar_7;\\n  tmpvar_7 = ((uv - (tmpvar_5 * 0.1)) + (tmpvar_6 * 0.06));\\n  vec4 tmpvar_8;\\n  tmpvar_8 = texture (sampler_main, uv);\\n  ret_1 = (((\\n    ((texture (sampler_blur2, tmpvar_7).xyz * scale2) + bias2)\\n  .x * \\n    clamp ((1.0 - tmpvar_8.z), 0.0, 1.0)\\n  ) * pow (hue_shader.yxz, vec3(8.0, 8.0, 8.0))) * 3.0);\\n  ret_1 = (mix (ret_1, (\\n    pow (hue_shader.yzx, vec3(8.0, 8.0, 8.0))\\n   * 1.4), vec3((\\n    (texture (sampler_main, tmpvar_7).x * 0.8)\\n   + \\n    ((texture (sampler_blur1, tmpvar_7).xyz * scale1) + bias1)\\n  .x))) * clamp ((1.0 - \\n    (((texture (sampler_blur1, uv).xyz * scale1) + bias1).y * 4.0)\\n  ), 0.0, 1.0));\\n  vec2 tmpvar_9;\\n  tmpvar_9.x = tmpvar_3.y;\\n  tmpvar_9.y = tmpvar_4.y;\\n  vec3 tmpvar_10;\\n  vec3 tmpvar_11;\\n  tmpvar_11 = pow (hue_shader, vec3(8.0, 8.0, 8.0));\\n  tmpvar_10 = mix (mix (ret_1, vec3(1.0, 1.0, 1.0), (\\n    (tmpvar_11 * texture (sampler_main, clamp ((uv - (tmpvar_9 * 2.0)), 0.0, 1.0)).z)\\n   * 1.2)), (tmpvar_11.zxy * 1.8), tmpvar_8.yyy);\\n  ret_1 = tmpvar_10;\\n  vec4 tmpvar_12;\\n  tmpvar_12.w = 1.0;\\n  tmpvar_12.xyz = tmpvar_10;\\n  ret = tmpvar_12.xyz;\\n }"}') }, "./presets/converted/flexi + geiss - pogo cubes vs. tokamak vs. game of life [stahls jelly 4.5 finish].json": e => { e.exports = JSON.parse('{"version":2,"baseVals":{"rating":5,"gammaadj":1.9,"echo_zoom":1.169,"additivewave":1,"modwavealphabyvolume":1,"wave_brighten":0,"wrap":0,"wave_a":1.413,"wave_scale":0.418,"wave_smoothing":0,"wave_mystery":-0.66,"modwavealphastart":2,"modwavealphaend":2,"warpanimspeed":0.626,"warpscale":1.331,"zoomexp":1.00001,"zoom":0.99951,"warp":0.08925,"wave_r":0,"wave_g":0,"wave_x":0.24,"wave_y":0.44,"ob_size":0.5,"ob_r":0.01,"ib_size":0.26,"mv_x":64,"mv_y":48,"mv_l":0,"mv_a":0},"shapes":[{"baseVals":{"enabled":1,"additive":1,"rad":0.0277,"ang":6.03186,"tex_ang":6.03186,"tex_zoom":0.6839,"g":1,"r2":1,"a2":1,"border_r":0,"border_g":0,"border_b":0,"border_a":1},"init_eqs_eel":"","frame_eqs_eel":"an = an + q6;\\nang = an*0.5;\\nx = q4;\\ny = q5;\\nrad = q3*sqrt(2);\\n\\n\\nx = 0.5 + (x-0.5)/q2;\\ny = 0.5 + (y-0.5)/q1;\\n"},{"baseVals":{"enabled":1,"additive":1,"rad":0.0277,"ang":6.03186,"tex_ang":6.03186,"tex_zoom":0.6839,"g":1,"r2":1,"a2":1,"border_r":0,"border_g":0,"border_b":0,"border_a":1},"init_eqs_eel":"","frame_eqs_eel":"an = an + q9;\\nang = an*0.5;\\nx = q7;\\ny = q8;\\nrad = q3*sqrt(2);\\n\\nx = 0.5 + (x-0.5)/q2;\\ny = 0.5 + (y-0.5)/q1;\\n"},{"baseVals":{"enabled":1,"additive":1,"rad":0.0277,"ang":6.03186,"tex_ang":6.03186,"tex_zoom":0.6839,"b":1,"r2":1,"g2":0,"b2":1,"a2":1,"border_r":0,"border_g":0,"border_b":0,"border_a":1},"init_eqs_eel":"","frame_eqs_eel":"an = an + q12;\\nang = an*0.5;\\nx = q10;\\ny = q11;\\nrad = q3*sqrt(2);\\n\\nx = 0.5 + (x-0.5)/q2;\\ny = 0.5 + (y-0.5)/q1;\\n"},{"baseVals":{"sides":48,"additive":1,"num_inst":4,"rad":0.0277,"ang":6.03186,"tex_ang":6.03186,"tex_zoom":0.6839,"g":1,"b":1,"r2":1,"b2":1,"a2":1,"border_r":0,"border_g":0,"border_b":0,"border_a":1,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"an = an + 0.5*q16/num_inst;\\nw = asin(1)*4*instance/num_inst + an;\\nx = q6 + sin(w)*q5*0.5;\\ny = q7 + cos(w)*q5*0.5;\\nrad = q5*0.25;\\n\\n\\n//x = 0.5 + (x-0.5)/q2;\\n//y = 0.5 + (y-0.5)/q1;\\n"}],"waves":[{"baseVals":{"enabled":1,"thick":1,"additive":1,"scaling":2.0231,"smoothing":0,"r":0},"init_eqs_eel":"t2 = 0;\\nt3 = 0;\\nt4 = 0;\\ncl = 0;","frame_eqs_eel":"vol = bass*8 + mid*5 + treb*3;\\nm = m*0.97 + vol*0.08;\\nmonitor = vol;\\nbeat = above(vol,res)*above(vol,m)*above(vol,16);\\ndiff = (1-beat)*diff + beat*(vol-res);\\nres = beat*(vol + m*0.04) + (1-beat)*(res -  (0.1+diff*0.02)*60/fps);\\nres = max(0,res);\\n\\na = beat;","point_eqs_eel":"tt3 = tt3*0.6 + (value1)*1;\\ntt2 = tt2*0.7 + tt3*0.2;\\ntt1 = tt1*0.8 + tt2*0.1;\\nd = d*0.9 + tt1*0.2;\\n\\ny = 0.5 + d*sample*(1-sample)*2;\\nx =  -0.05 + sample*1.1;"},{"baseVals":{"spectrum":1,"thick":1,"enabled":0},"init_eqs_eel":"chance = 0;","frame_eqs_eel":"","point_eqs_eel":"// the velocity vector\\n\\nx = q3 + sample*sin(q14)*q13*40;\\ny = q4 + sample*cos(q14)*q13*40;\\n\\n// tangential velocity of rotation\\n//x = q3 + sample*q16*40;\\n//y = q4 - q5/2;\\n\\n\\nx = 0.5 + (x-0.5)/q1;\\ny = 0.5 + (y-0.5)/q2;"},{"baseVals":{"spectrum":1,"thick":1,"enabled":0},"init_eqs_eel":"chance = 0;","frame_eqs_eel":"","point_eqs_eel":"// tangential property of velocity vector\\n\\nx = q3 + sample*sin(q10)*cos(q14-q10)*q13*40;\\ny = q4 + sample*cos(q10)*cos(q14-q10)*q13*40;\\n\\n// vx\\n//x = q3 + sample*q11*40;\\n//y = q4;\\n\\nx = 0.5 + (x-0.5)/q1;\\ny = 0.5 + (y-0.5)/q2;"},{"baseVals":{"spectrum":1,"thick":1,"enabled":0},"init_eqs_eel":"chance = 0;","frame_eqs_eel":"","point_eqs_eel":"// orthogonal property of velocity vector\\n\\nx = q3 + sample*sin(q10+asin(1))*cos(q14-q10-asin(1))*q13*40;\\ny = q4 + sample*cos(q10+asin(1))*cos(q14-q10-asin(1))*q13*40;\\n\\n// vy\\n//x = q3;\\n//y = q4 + sample*q12*40;\\n\\nx = 0.5 + (x-0.5)/q1;\\ny = 0.5 + (y-0.5)/q2;"}],"init_eqs_eel":"x1 = 0.5;\\ny1 = 0.6;\\n\\nx2 = 0.5;\\ny2 = 0.4;\\n\\nx3 = 0.5;\\ny3 = 0.2;\\n\\nvr1 = 0.0001;\\nvr2 = 0.0;\\nvr3 = 0.0;\\n\\nvx1 = 0;\\nvx2 = 0;\\nvx3 = 0;","frame_eqs_eel":"zoom = 1;\\nwarp = 0;\\nwave_a = 0;\\n\\nr = 0.03+ (bass_att+treb_att)*0.004;\\nmonitor = aspecty;\\nvr = sin(vr1)*r;\\nbounce = below(y1,r-(aspectx-1)*0.5);y1 = y1+vy1;vy1 = if(bounce, abs(vy1)*0.96 + (r-y1-(aspectx-1)*0.5)*0.1, vy1-0.0003*60/fps);\\nvx1 = if(bounce, vx1 + (vr-vx1)*0.15, vx1);vr = if(bounce, vr + (vx1-vr)*0.85 , vr);vr1 = asin(vr/r);\\nbounce = above(x1,1-r+(aspecty-1)*0.5);vx1 = if(bounce, - abs(vx1)*0.96 + (1-r-x1+(aspecty-1)*0.5)*0.1, vx1);\\nvy1 = if(bounce, vy1 + (vr-vy1)*0.15, vy1);vr = if(bounce, vr + (vy1-vr)*0.85 , vr);vr1 = asin(vr/r);\\nbounce = below(x1,r-(aspecty-1)*0.5);x1 = x1+vx1;vx1 = if(bounce, abs(vx1)*0.96 + (r-x1-(aspecty-1)*0.5)*0.1, vx1);\\nvy1 = if(bounce, vy1 + (-vr-vy1)*0.15, vy1);vr = if(bounce, vr - (vy1+vr)*0.85 , vr);vr1 = asin(vr/r);\\n\\nvr = sin(vr2)*r;\\nbounce = below(y2,r-(aspectx-1)*0.5);y2 = y2+vy2;vy2 = if(bounce, abs(vy2)*0.96 + (r-y2-(aspectx-1)*0.5)*0.1, vy2-0.0003*60/fps);\\nvx2 = if(bounce, vx2 + (vr-vx2)*0.15, vx2);vr = if(bounce, vr + (vx2-vr)*0.85 , vr);vr2 = asin(vr/r);\\nbounce = above(x2,1-r+(aspecty-1)*0.5);vx2 = if(bounce, - abs(vx2)*0.96 + (1-r-x2+(aspecty-1)*0.5)*0.1, vx2);\\nvy2 = if(bounce, vy2 + (vr-vy2)*0.15, vy2);vr = if(bounce, vr + (vy2-vr)*0.85 , vr);vr2 = asin(vr/r);\\nbounce = below(x2,r-(aspecty-1)*0.5);x2 = x2+vx2;vx2 = if(bounce, abs(vx2)*0.96 + (r-x2-(aspecty-1)*0.5)*0.1, vx2);\\nvy2 = if(bounce, vy2 + (-vr-vy2)*0.15, vy2);vr = if(bounce, vr - (vy2+vr)*0.85 , vr);vr2 = asin(vr/r);\\n\\nvr = sin(vr3)*r;\\nbounce = below(y3,r-(aspectx-1)*0.5);y3 = y3+vy3;vy3 = if(bounce, abs(vy3)*0.96 + (r-y3-(aspectx-1)*0.5)*0.1, vy3-0.0003*60/fps);\\nvx3 = if(bounce, vx3 + (vr-vx3)*0.15, vx3);vr = if(bounce, vr + (vx3-vr)*0.85 , vr);vr3 = asin(vr/r);\\nbounce = above(x3,1-r+(aspecty-1)*0.5);vx3 = if(bounce, - abs(vx3)*0.96 + (1-r-x3+(aspecty-1)*0.5)*0.1, vx3);\\nvy3 = if(bounce, vy3 + (vr-vy3)*0.15, vy3);vr = if(bounce, vr + (vy3-vr)*0.85 , vr);vr3 = asin(vr/r);\\nbounce = below(x3,r-(aspecty-1)*0.5);x3 = x3+vx3;vx3 = if(bounce, abs(vx3)*0.96 + (r-x3-(aspecty-1)*0.5)*0.1, vx3);\\nvy3 = if(bounce, vy3 + (-vr-vy3)*0.15, vy3);vr = if(bounce, vr - (vy3+vr)*0.85 , vr);vr3 = asin(vr/r);\\n\\nbounce = below( sqrt( sqr(x1+vx1-x2-vx2) + sqr(y1+vy1-y2-vy2)), 2*r);\\nbounce = bounce*below(sqrt( sqr(x1+vx1-x2-vx2) + sqr(y1+vy1-y2-vy2)),sqrt( sqr(x1-x2) + sqr(y1-y2)));\\nref_ang = atan2(x2-x1,y2-y1)+asin(1); // common tangent\\nv1 = sqrt(vx1*vx1+vy1*vy1);v2 = sqrt(vx2*vx2+vy2*vy2);w1 = atan2(vx1,vy1);w2 = atan2(vx2,vy2);\\nvr = sin(vr1)*r; v2r=sin(vr2)*r;\\nvx1 = if(bounce,sin(ref_ang)*v1*cos(w1-ref_ang) + ((vr-v2r)-sin(ref_ang)*v1*cos(w1-ref_ang))*0.1\\n              + sin(ref_ang+asin(1))*v2*cos(w2-ref_ang-asin(1)), vx1);\\nvy1 = if(bounce,cos(ref_ang)*v1*cos(w1-ref_ang) + ((vr-v2r)-cos(ref_ang)*v1*cos(w1-ref_ang))*0.1\\n              + cos(ref_ang+asin(1))*v2*cos(w2-ref_ang-asin(1)), vy1);\\nvx2 = if(bounce,sin(ref_ang)*v2*cos(w2-ref_ang) + ((v2r-vr)-sin(ref_ang)*v2*cos(w2-ref_ang))*0.1\\n              + sin(ref_ang+asin(1))*v1*cos(w1-ref_ang-asin(1)), vx2);\\nvy2 = if(bounce,cos(ref_ang)*v2*cos(w2-ref_ang) + ((v2r-vr)-cos(ref_ang)*v2*cos(w2-ref_ang))*0.1\\n              + cos(ref_ang+asin(1))*v1*cos(w1-ref_ang-asin(1)), vy2);\\nvr = if(bounce, vr + (cos(w1-ref_ang)*(v1-v2)-vr)*0.9 , vr);vr1 = asin(vr/r);\\nv2r = if(bounce, v2r + (cos(w2-ref_ang)*(v2-v1)-v2r)*0.9 , v2r);vr2 = asin(v2r/r);\\n\\nbounce = below( sqrt( sqr(x1+vx1-x3-vx3) + sqr(y1+vy1-y3-vy3)), 2*r);\\nbounce = bounce*below(sqrt( sqr(x1+vx1-x3-vx3) + sqr(y1+vy1-y3-vy3)),sqrt( sqr(x1-x3) + sqr(y1-y3)));\\nref_ang = atan2(x3-x1,y3-y1)+asin(1); // common tangent\\nv1 = sqrt(vx1*vx1+vy1*vy1);v2 = sqrt(vx3*vx3+vy3*vy3);w1 = atan2(vx1,vy1);w2 = atan2(vx3,vy3);\\nvr = sin(vr1)*r; v2r=sin(vr3)*r;\\nvx1 = if(bounce,sin(ref_ang)*v1*cos(w1-ref_ang) + ((vr-v2r)-sin(ref_ang)*v1*cos(w1-ref_ang))*0.1\\n              + sin(ref_ang+asin(1))*v2*cos(w2-ref_ang-asin(1)), vx1);\\nvy1 = if(bounce,cos(ref_ang)*v1*cos(w1-ref_ang) + ((vr-v2r)-cos(ref_ang)*v1*cos(w1-ref_ang))*0.1\\n              + cos(ref_ang+asin(1))*v2*cos(w2-ref_ang-asin(1)), vy1);\\nvx3 = if(bounce,sin(ref_ang)*v2*cos(w2-ref_ang) + ((v2r-vr)-sin(ref_ang)*v2*cos(w2-ref_ang))*0.1\\n              + sin(ref_ang+asin(1))*v1*cos(w1-ref_ang-asin(1)), vx3);\\nvy3 = if(bounce,cos(ref_ang)*v2*cos(w2-ref_ang) + ((v2r-vr)-cos(ref_ang)*v2*cos(w2-ref_ang))*0.1\\n              + cos(ref_ang+asin(1))*v1*cos(w1-ref_ang-asin(1)), vy3);\\nvr = if(bounce, vr + (cos(w1-ref_ang)*(v1-v2)-vr)*0.9 , vr);vr1 = asin(vr/r);\\nv2r = if(bounce, v2r + (cos(w2-ref_ang)*(v2-v1)-v2r)*0.9 , v2r);vr3 = asin(v2r/r);\\n\\nbounce = below( sqrt( sqr(x3+vx3-x2-vx2) + sqr(y3+vy3-y2-vy2)), 2*r);\\nbounce = bounce*below(sqrt( sqr(x2+vx2-x3-vx3) + sqr(y2+vy2-y3-vy3)),sqrt( sqr(x2-x3) + sqr(y2-y3)));\\nref_ang = atan2(x2-x3,y2-y3)+asin(1); // common tangent\\nv1 = sqrt(vx3*vx3+vy3*vy3);v2 = sqrt(vx2*vx2+vy2*vy2);w1 = atan2(vx3,vy3);w2 = atan2(vx2,vy2);\\nvr = sin(vr3)*r; v2r=sin(vr2)*r;\\nvx3 = if(bounce,sin(ref_ang)*v1*cos(w1-ref_ang) + ((vr-v2r)-sin(ref_ang)*v1*cos(w1-ref_ang))*0.1\\n              + sin(ref_ang+asin(1))*v2*cos(w2-ref_ang-asin(1)), vx3);\\nvy3 = if(bounce,cos(ref_ang)*v1*cos(w1-ref_ang) + ((vr-v2r)-cos(ref_ang)*v1*cos(w1-ref_ang))*0.1\\n              + cos(ref_ang+asin(1))*v2*cos(w2-ref_ang-asin(1)), vy3);\\nvx2 = if(bounce,sin(ref_ang)*v2*cos(w2-ref_ang) + ((v2r-vr)-sin(ref_ang)*v2*cos(w2-ref_ang))*0.1\\n              + sin(ref_ang+asin(1))*v1*cos(w1-ref_ang-asin(1)), vx2);\\nvy2 = if(bounce,cos(ref_ang)*v2*cos(w2-ref_ang) + ((v2r-vr)-cos(ref_ang)*v2*cos(w2-ref_ang))*0.1\\n              + cos(ref_ang+asin(1))*v1*cos(w1-ref_ang-asin(1)), vy2);\\nvr = if(bounce, vr + (cos(w1-ref_ang)*(v1-v2)-vr)*0.9 , vr);vr3 = asin(vr/r);\\nv2r = if(bounce, v2r + (cos(w2-ref_ang)*(v2-v1)-v2r)*0.9 , v2r);vr2 = asin(v2r/r);\\n\\n\\n\\n\\nq1 = aspectx;\\nq2 = aspecty;\\nq3 = r*2;\\n\\nq4  = x1;  q5 = y1;  q6 = vr1;\\nq7  = x2;  q8 = y2;  q9 = vr2;\\nq10 = x3; q11 = y3; q12 = vr3;\\n\\nq13 = atan2( (x1+x2+x3)/3 - 0.5, (y1+y2+y3)/3-0.5);\\nq14 = sigmoid(sqrt( sqr((x1+x2+x3)/3 - 0.5) + sqr((y1+y2+y3)/3-0.5) ),2)*0.2;","pixel_eqs_eel":"du = (x*2-1) - (q4+q7+q10-1.5)*2/3;\\ndv = (y*2-1) + (q5+q8+q11-1.5)*2/3;\\ndist = sqrt(du*du+dv*dv);\\nang2 = atan2(du,dv);\\nmult = sin(dist*0.05)*0.4*q14;\\ndx = mult*sin(ang2*2+q13)*aspectx;\\ndy = mult*cos(ang2*2+q13)*aspecty;","warp":" shader_body { \\n  float n_1;\\n  vec3 ret_2;\\n  vec4 tmpvar_3;\\n  tmpvar_3 = texture (sampler_pw_main, uv);\\n  ret_2 = tmpvar_3.xyz;\\n  n_1 = (clamp ((texture (sampler_pw_main, \\n    (uv + texsize.zw)\\n  ).x * 999.0), 0.0, 1.0) + clamp ((texture (sampler_pw_main, \\n    (uv + (texsize.zw * vec2(1.0, 0.0)))\\n  ).x * 999.0), 0.0, 1.0));\\n  n_1 = (n_1 + clamp ((texture (sampler_pw_main, \\n    (uv + (texsize.zw * vec2(1.0, -1.0)))\\n  ).x * 999.0), 0.0, 1.0));\\n  n_1 = (n_1 + clamp ((texture (sampler_pw_main, \\n    (uv + (texsize.zw * vec2(0.0, 1.0)))\\n  ).x * 999.0), 0.0, 1.0));\\n  n_1 = (n_1 + clamp ((texture (sampler_pw_main, \\n    (uv + (texsize.zw * vec2(0.0, -1.0)))\\n  ).x * 999.0), 0.0, 1.0));\\n  n_1 = (n_1 + clamp ((texture (sampler_pw_main, \\n    (uv + (texsize.zw * vec2(-1.0, 1.0)))\\n  ).x * 999.0), 0.0, 1.0));\\n  n_1 = (n_1 + clamp ((texture (sampler_pw_main, \\n    (uv + (texsize.zw * vec2(-1.0, 0.0)))\\n  ).x * 999.0), 0.0, 1.0));\\n  n_1 = (n_1 + clamp ((texture (sampler_pw_main, \\n    (uv - texsize.zw)\\n  ).x * 999.0), 0.0, 1.0));\\n  if ((n_1 < 1.9)) {\\n    ret_2 = (tmpvar_3.xyz - 0.4);\\n  };\\n  if ((n_1 > 3.1)) {\\n    ret_2 = (ret_2 - 0.4);\\n  };\\n  bool tmpvar_4;\\n  if ((ret_2.x < 0.1)) {\\n    tmpvar_4 = (abs((n_1 - 3.0)) < 0.5);\\n  } else {\\n    tmpvar_4 = bool(0);\\n  };\\n  if (tmpvar_4) {\\n    ret_2 = (ret_2 + 0.4);\\n  };\\n  vec4 tmpvar_5;\\n  tmpvar_5.w = 1.0;\\n  tmpvar_5.xyz = ret_2;\\n  ret = tmpvar_5.xyz;\\n }","comp":" shader_body { \\n  vec3 ret2_1;\\n  vec3 ret_2;\\n  vec2 tmpvar_3;\\n  tmpvar_3 = (texsize.zw * 8.0);\\n  vec2 tmpvar_4;\\n  tmpvar_4.x = (((texture (sampler_blur1, \\n    (uv + (vec2(1.0, 0.0) * tmpvar_3))\\n  ).xyz * scale1) + bias1) - ((texture (sampler_blur1, \\n    (uv - (vec2(1.0, 0.0) * tmpvar_3))\\n  ).xyz * scale1) + bias1)).y;\\n  tmpvar_4.y = (((texture (sampler_blur1, \\n    (uv + (vec2(0.0, 1.0) * tmpvar_3))\\n  ).xyz * scale1) + bias1) - ((texture (sampler_blur1, \\n    (uv - (vec2(0.0, 1.0) * tmpvar_3))\\n  ).xyz * scale1) + bias1)).y;\\n  vec2 tmpvar_5;\\n  tmpvar_5 = (uv + (tmpvar_4 * 0.55));\\n  vec4 tmpvar_6;\\n  tmpvar_6 = texture (sampler_blur3, uv);\\n  ret_2 = (vec3((0.25 * dot (\\n    clamp ((2.0 * ((tmpvar_6.xyz * scale3) + bias3)), 0.0, 1.0)\\n  , vec3(0.32, 0.49, 0.29)))) - (0.8 * dot (\\n    clamp (((20.0 * (\\n      (0.6 * ((texture (sampler_blur2, uv).xyz * scale2) + bias2))\\n     - 0.01)) - 2.0), 0.0, 1.0)\\n  , vec3(0.32, 0.49, 0.29))));\\n  vec4 tmpvar_7;\\n  tmpvar_7 = texture (sampler_blur1, uv);\\n  ret_2 = (ret_2 + dot (clamp (\\n    ((30.0 * ((texture (sampler_main, uv).xyz + \\n      (((tmpvar_7.xyz * scale1) + bias1) * 0.15)\\n    ) - 0.01)) - 2.0)\\n  , 0.0, 1.0), vec3(0.32, 0.49, 0.29)));\\n  ret_2 = (ret_2 + 1.0);\\n  vec3 tmpvar_8;\\n  tmpvar_8 = mix (ret_2, (ret_2 * (\\n    ((texture (sampler_blur3, tmpvar_5).xyz * scale3) + bias3)\\n   - \\n    ((texture (sampler_blur1, tmpvar_5).xyz * scale1) + bias1)\\n  )), pow (hue_shader, ret_2));\\n  ret2_1 = (vec3((-0.5 * dot (\\n    ((texture (sampler_blur3, tmpvar_5).xyz * scale3) + bias3)\\n  , vec3(0.32, 0.49, 0.29)))) + (0.8 * (\\n    (texture (sampler_blur1, tmpvar_5).xyz * scale1)\\n   + bias1)));\\n  ret2_1 = (ret2_1 - (0.9 * texture (sampler_main, tmpvar_5).xyz));\\n  ret2_1 = (ret2_1 - 1.5);\\n  vec3 tmpvar_9;\\n  tmpvar_9 = mix (ret2_1, (ret2_1 * (\\n    ((tmpvar_6.xyz * scale3) + bias3)\\n   - \\n    ((tmpvar_7.xyz * scale1) + bias1)\\n  )), pow (hue_shader.zxy, tmpvar_8));\\n  ret2_1 = tmpvar_9;\\n  vec3 tmpvar_10;\\n  tmpvar_10 = abs((tmpvar_8 - tmpvar_9));\\n  ret_2 = (tmpvar_10 * tmpvar_10);\\n  ret_2 = (ret_2 * 1.15);\\n  vec4 tmpvar_11;\\n  tmpvar_11.w = 1.0;\\n  tmpvar_11.xyz = ret_2;\\n  ret = tmpvar_11.xyz;\\n }"}') }, "./presets/converted/flexi - bouncing balls [double mindblob neon mix].json": e => { e.exports = JSON.parse('{"version":2,"baseVals":{"rating":5,"gammaadj":1,"decay":0.995,"echo_zoom":1.007,"echo_orient":3,"additivewave":1,"modwavealphabyvolume":1,"wave_brighten":0,"wrap":0,"wave_a":1.413,"wave_scale":0.418,"wave_smoothing":0,"wave_mystery":-0.66,"modwavealphastart":2,"modwavealphaend":2,"warpanimspeed":0.626,"warpscale":8.642,"zoomexp":7.10084,"zoom":0.99951,"warp":0.09014,"wave_r":0,"wave_g":0,"wave_x":0.24,"wave_y":0.44,"ob_size":0,"ob_a":1,"ib_size":0.26,"mv_x":64,"mv_y":48,"mv_l":0,"mv_a":0},"shapes":[{"baseVals":{"enabled":1,"sides":48,"additive":1,"rad":0.0277,"ang":6.03186,"tex_ang":6.03186,"tex_zoom":0.6839,"r":0,"g":1,"a2":1,"border_r":0,"border_g":0,"border_b":0,"border_a":0},"init_eqs_eel":"","frame_eqs_eel":"x = q3;\\ny = q4;\\nrad = q5;\\n\\n\\nx = 0.5 + (x-0.5)/q2;\\ny = 0.5 + (y-0.5)/q1;\\n"},{"baseVals":{"enabled":1,"sides":48,"additive":1,"rad":0.0277,"ang":6.03186,"tex_ang":6.03186,"tex_zoom":0.6839,"r":0,"b":1,"g2":0,"b2":1,"a2":1,"border_r":0,"border_g":0,"border_b":0,"border_a":0},"init_eqs_eel":"","frame_eqs_eel":"x = q6;\\ny = q7;\\nrad = q8;\\n\\nx = 0.5 + (x-0.5)/q2;\\ny = 0.5 + (y-0.5)/q1;\\n"},{"baseVals":{"sides":48,"rad":0.0277,"ang":6.03186,"tex_ang":6.03186,"tex_zoom":0.6839,"r":0,"g":1,"a2":1,"border_r":0,"border_g":0,"border_b":0,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"x = q9;\\ny = q10;\\nrad = q11;\\n\\nx = 0.5 + (x-0.5)/q2;\\ny = 0.5 + (y-0.5)/q1;\\n"},{"baseVals":{"sides":48,"additive":1,"thickoutline":1,"rad":0.0277,"ang":6.03186,"tex_ang":6.03186,"tex_zoom":0.6839,"r":0,"g":1,"a":0,"border_a":1,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"x = q12;\\ny = q13;\\nrad = q14;\\n\\nx = 0.5 + (x-0.5)/q2;\\ny = 0.5 + (y-0.5)/q1;\\n"}],"waves":[{"baseVals":{"enabled":1,"thick":1,"additive":1,"scaling":2.0231,"smoothing":0,"g":0,"b":0},"init_eqs_eel":"t2 = 0;\\nt3 = 0;\\nt4 = 0;\\ncl = 0;","frame_eqs_eel":"vol = bass*8 + mid*5 + treb*3;\\nm = m*0.97 + vol*0.08;\\nmonitor = vol;\\nbeat = above(vol,res)*above(vol,m)*above(vol,16);\\ndiff = (1-beat)*diff + beat*(vol-res);\\nres = beat*(vol + m*0.04) + (1-beat)*(res -  (0.1+diff*0.02)*60/fps);\\nres = max(0,res);\\n\\na = beat;","point_eqs_eel":"tt3 = tt3*0.6 + (value1)*1;\\ntt2 = tt2*0.7 + tt3*0.2;\\ntt1 = tt1*0.8 + tt2*0.1;\\nd = d*0.9 + tt1*0.2;\\n\\ny = 0.5 + d*sample*(1-sample)*2;\\nx =  -0.05 + sample*1.1;"},{"baseVals":{"spectrum":1,"g":0,"b":0,"enabled":0},"init_eqs_eel":"chance = 0;","frame_eqs_eel":"x = if(q9,q15,x);\\ny = if(q9,q16,y);\\nv = if(q9,q19,v);\\nw = if(q9,q20,w);\\n\\nref_w = if(q9, q10, ref_w);\\n\\nt1 = x;\\nt2 = y;\\nt3 = v;\\nt4 = w;\\nt5 = ref_w;\\n\\nt8 = 1;","point_eqs_eel":"x = t1 + sample*sin(t4)*t3*20;\\ny = t2 + sample*cos(t4)*t3*20;\\n\\nx = 0.5 + (x-0.5)/q1;\\ny = 0.5 + (y-0.5)/q2;"},{"baseVals":{"spectrum":1,"g":0,"b":0,"enabled":0},"init_eqs_eel":"chance = 0;","frame_eqs_eel":"x = if(q9,q15,x);\\ny = if(q9,q16,y);\\nv = if(q9,q19,v);\\nw = if(q9,q20,w);\\n\\nref_w = if(q9, q10, ref_w);\\n\\nt1 = x;\\nt2 = y;\\nt3 = v;\\nt4 = w;\\nt5 = ref_w;\\n\\nt8 = 1;","point_eqs_eel":"x = t1 + sample*sin(t5)*t3*20*cos(t4-t5);\\ny = t2 + sample*cos(t5)*t3*20*cos(t4-t5);\\n\\nx = 0.5 + (x-0.5)/q1;\\ny = 0.5 + (y-0.5)/q2;"},{"baseVals":{"spectrum":1,"g":0,"b":0,"enabled":0},"init_eqs_eel":"chance = 0;","frame_eqs_eel":"x = if(q9,q15,x);\\ny = if(q9,q16,y);\\nv = if(q9,q19,v);\\nw = if(q9,q20,w);\\n\\nref_w = if(q9, q10 + asin(1), ref_w);\\n\\nt1 = x;\\nt2 = y;\\nt3 = v;\\nt4 = w;\\nt5 = ref_w;\\n\\nt8 = 1;","point_eqs_eel":"x = t1 + sample*sin(t5)*t3*20*cos(t4-t5);\\ny = t2 + sample*cos(t5)*t3*20*cos(t4-t5);\\n\\nx = 0.5 + (x-0.5)/q1;\\ny = 0.5 + (y-0.5)/q2;"}],"init_eqs_eel":"x1 = 0.5;\\nx2 = 0.51;\\n\\ny2 = 0.9;\\ny1 = 0.7;\\n\\nx3 = 0.8;\\ny3 = 0.5;\\n\\nx4 = 0.2;\\ny4 = 0.5;\\n\\n\\nax1 = 0;\\nay1 = 0;\\nax2 = 0;\\nay2 = 0;\\nax3 = 0;\\nay3 = 0;\\n\\nvx1 = 0.000;\\nvx2 = 0.000;","frame_eqs_eel":"zoom = 1.002;\\nwarp = 0.2;\\nwave_a = 0;\\n//pogopogopogopogopogopogopogopogopogopogopogopogopogopogopogopogopogopogopogopogopogopogopogopogopogopogo\\nr = 0.04+ max(bass_att,treb_att)*0.008;\\nbounce = below(y1,r);y1 = y1+vy1;vy1 = if(bounce, abs(vy1)*0.94 + (r-y1)*0.1, vy1-0.0003*60/fps);\\nbounce = below(x1,r);x1 = x1+vx1;vx1 = if(bounce, abs(vx1)*0.94 + (r-x1)*0.1, vx1);\\nbounce = above(x1,1-r);vx1 = if(bounce, - abs(vx1)*0.94 + (1-r-x1)*0.04, vx1);\\nbounce = below(y2,r);y2 = y2 + vy2;vy2 = if(bounce,abs(vy2)*0.94+(r-y2)*.1, vy2-0.0003*60/fps);\\nbounce = below(x2,r);x2 = x2+ vx2;vx2 = if(bounce, abs(vx2)*0.94 + (r-x2)*0.1, vx2);\\nbounce = above(x2,1-r);vx2 = if(bounce, - abs(vx2)*0.94 + (1-r-x2)*0.1, vx2);\\nbounce = below(y3,r);y3 = y3 + vy3;vy3 = if(bounce,abs(vy3)*0.94+(r-y3)*.1, vy3-0.0003*60/fps);\\nbounce = below(x3,r);x3 = x3+ vx3;vx3 = if(bounce, abs(vx3)*0.94 + (r-x3)*0.1, vx3);\\nbounce = above(x3,1-r);vx3 = if(bounce, - abs(vx3)*0.94 + (1-r-x3)*0.1, vx3);\\nbounce = below(y4,r);y4 = y4 + vy4;vy4 = if(bounce,abs(vy4)*0.94+(r-y4)*.1, vy4-0.0003*60/fps);\\nbounce = below(x4,r);x4 = x4+ vx4;vx4 = if(bounce, abs(vx4)*0.94 + (r-x4)*0.1, vx4);\\nbounce = above(x4,1-r);vx4 = if(bounce, - abs(vx4)*0.94 + (1-r-x4)*0.1, vx4);\\nbounce = below( sqrt( sqr(x1+vx1-x2-vx2) + sqr(y1+vy1-y2-vy2)), 2*r);\\nref_ang = atan2(x2-x1,y2-y1)+asin(1); // common tangent\\nv1 = sqrt(vx1*vx1+vy1*vy1);v2 = sqrt(vx2*vx2+vy2*vy2);w1 = atan2(vx1,vy1);w2 = atan2(vx2,vy2);\\nvx1 = if(bounce,sin(ref_ang)*v1*cos(w1-ref_ang) + sin(ref_ang+asin(1))*v2*cos(w2-ref_ang-asin(1)), vx1);\\nvy1 = if(bounce,cos(ref_ang)*v1*cos(w1-ref_ang) + cos(ref_ang+asin(1))*v2*cos(w2-ref_ang-asin(1)), vy1);\\nvx2 = if(bounce,sin(ref_ang)*v2*cos(w2-ref_ang) + sin(ref_ang+asin(1))*v1*cos(w1-ref_ang-asin(1)), vx2);\\nvy2 = if(bounce,cos(ref_ang)*v2*cos(w2-ref_ang) + cos(ref_ang+asin(1))*v1*cos(w1-ref_ang-asin(1)), vy2);\\nbounce = below( sqrt( sqr(x1+vx1-x3-vx3) + sqr(y1+vy1-y3-vy3)), 2*r);\\nref_ang = atan2(x3-x1,y3-y1)+asin(1); // common tangent\\nv1 = sqrt(vx1*vx1+vy1*vy1);v2 = sqrt(vx3*vx3+vy3*vy3);w1 = atan2(vx1,vy1);w2 = atan2(vx3,vy3);\\nvx1 = if(bounce,sin(ref_ang)*v1*cos(w1-ref_ang) + sin(ref_ang+asin(1))*v2*cos(w2-ref_ang-asin(1)), vx1);\\nvy1 = if(bounce,cos(ref_ang)*v1*cos(w1-ref_ang) + cos(ref_ang+asin(1))*v2*cos(w2-ref_ang-asin(1)), vy1);\\nvx3 = if(bounce,sin(ref_ang)*v2*cos(w2-ref_ang) + sin(ref_ang+asin(1))*v1*cos(w1-ref_ang-asin(1)), vx3);\\nvy3 = if(bounce,cos(ref_ang)*v2*cos(w2-ref_ang) + cos(ref_ang+asin(1))*v1*cos(w1-ref_ang-asin(1)), vy3);\\nbounce = below( sqrt( sqr(x2+vx2-x3-vx3) + sqr(y2+vy2-y3-vy3)), 2*r);\\nref_ang = atan2(x3-x2,y3-y2)+asin(1); // common tangent\\nv1 = sqrt(vx2*vx2+vy2*vy2);v2 = sqrt(vx3*vx3+vy3*vy3);w1 = atan2(vx2,vy2);w2 = atan2(vx3,vy3);\\nvx2 = if(bounce,sin(ref_ang)*v1*cos(w1-ref_ang) + sin(ref_ang+asin(1))*v2*cos(w2-ref_ang-asin(1)), vx2);\\nvy2 = if(bounce,cos(ref_ang)*v1*cos(w1-ref_ang) + cos(ref_ang+asin(1))*v2*cos(w2-ref_ang-asin(1)), vy2);\\nvx3 = if(bounce,sin(ref_ang)*v2*cos(w2-ref_ang) + sin(ref_ang+asin(1))*v1*cos(w1-ref_ang-asin(1)), vx3);\\nvy3 = if(bounce,cos(ref_ang)*v2*cos(w2-ref_ang) + cos(ref_ang+asin(1))*v1*cos(w1-ref_ang-asin(1)), vy3);\\nbounce = below( sqrt( sqr(x1+vx1-x4-vx4) + sqr(y1+vy1-y4-vy4)), 2*r);\\nref_ang = atan2(x4-x1,y4-y1)+asin(1); // common tangent\\nv1 = sqrt(vx1*vx1+vy1*vy1);v2 = sqrt(vx4*vx4+vy4*vy4);w1 = atan2(vx1,vy1);w2 = atan2(vx4,vy4);\\nvx1 = if(bounce,sin(ref_ang)*v1*cos(w1-ref_ang) + sin(ref_ang+asin(1))*v2*cos(w2-ref_ang-asin(1)), vx1);\\nvy1 = if(bounce,cos(ref_ang)*v1*cos(w1-ref_ang) + cos(ref_ang+asin(1))*v2*cos(w2-ref_ang-asin(1)), vy1);\\nvx4 = if(bounce,sin(ref_ang)*v2*cos(w2-ref_ang) + sin(ref_ang+asin(1))*v1*cos(w1-ref_ang-asin(1)), vx4);\\nvy4 = if(bounce,cos(ref_ang)*v2*cos(w2-ref_ang) + cos(ref_ang+asin(1))*v1*cos(w1-ref_ang-asin(1)), vy4);\\nbounce = below( sqrt( sqr(x2+vx2-x4-vx4) + sqr(y2+vy2-y4-vy4)), 2*r);\\nref_ang = atan2(x4-x2,y4-y2)+asin(1); // common tangent\\nv1 = sqrt(vx2*vx2+vy2*vy2);v2 = sqrt(vx4*vx4+vy4*vy4);w1 = atan2(vx2,vy2);w2 = atan2(vx4,vy4);\\nvx2 = if(bounce,sin(ref_ang)*v1*cos(w1-ref_ang) + sin(ref_ang+asin(1))*v2*cos(w2-ref_ang-asin(1)), vx2);\\nvy2 = if(bounce,cos(ref_ang)*v1*cos(w1-ref_ang) + cos(ref_ang+asin(1))*v2*cos(w2-ref_ang-asin(1)), vy2);\\nvx4 = if(bounce,sin(ref_ang)*v2*cos(w2-ref_ang) + sin(ref_ang+asin(1))*v1*cos(w1-ref_ang-asin(1)), vx4);\\nvy4 = if(bounce,cos(ref_ang)*v2*cos(w2-ref_ang) + cos(ref_ang+asin(1))*v1*cos(w1-ref_ang-asin(1)), vy4);\\nbounce = below( sqrt( sqr(x3+vx3-x4-vx4) + sqr(y3+vy3-y4-vy4)), 2*r);\\nref_ang = atan2(x4-x3,y4-y3)+asin(1); // common tangent\\nv1 = sqrt(vx3*vx3+vy3*vy3);v2 = sqrt(vx4*vx4+vy4*vy4);w1 = atan2(vx3,vy3);w2 = atan2(vx4,vy4);\\nvx3 = if(bounce,sin(ref_ang)*v1*cos(w1-ref_ang) + sin(ref_ang+asin(1))*v2*cos(w2-ref_ang-asin(1)), vx3);\\nvy3 = if(bounce,cos(ref_ang)*v1*cos(w1-ref_ang) + cos(ref_ang+asin(1))*v2*cos(w2-ref_ang-asin(1)), vy3);\\nvx4 = if(bounce,sin(ref_ang)*v2*cos(w2-ref_ang) + sin(ref_ang+asin(1))*v1*cos(w1-ref_ang-asin(1)), vx4);\\nvy4 = if(bounce,cos(ref_ang)*v2*cos(w2-ref_ang) + cos(ref_ang+asin(1))*v1*cos(w1-ref_ang-asin(1)), vy4);\\n//pogopogopogopogopogopogopogopogopogopogopogopogopogopogopogopogopogopogopogopogopogopogopogopogopogopogo\\nq1 = aspectx;\\nq2 = aspecty;\\nq3 = x1;\\nq4 = y1;\\nq5 = r*2;\\nq6 = x2;\\nq7 = y2;\\nq8 = r*2;\\nq9 = x3;\\nq10 = y3;\\nq11 = r*2;\\nq12 = x4;\\nq13 = y4;\\nq14 = r*2;\\nq15 = atan2(vx4,vy4);\\nq16 = sqrt(vx4*vx4+vy4*vy4);\\nq17 = atan2(vx3,vy3);\\nq18 = sqrt(vx3*vx3+vy3*vy3);","pixel_eqs_eel":"x = 0.5 + (x-0.5)*q2;\\ny = 0.5 + (y-0.5)*q1;\\n\\n\\ndir = -q15 + asin(1);\\nb1 = 0.075;\\nm1 = q16*25;\\nxx = q12;\\nyy = 1-q13;\\nx1 = xx  -sin(dir)*b1;\\ny1 = yy  -cos(dir)*b1;\\nx2 = xx  +sin(dir)*b1;\\ny2 = yy  +cos(dir)*b1;\\nd1 = sqrt((x1-x)*(x1-x)+(y1-y)*(y1-y))-b1*2;\\nd2 = sqrt((x2-x)*(x2-x)+(y2-y)*(y2-y))-b1*2;\\nsi1 = sigmoid(-d1,1000);\\nsi2 = sigmoid(-d2,1000);\\ndx = (si1*sin(y1-y)*m1*d1  - si2*sin(y2-y)*m1*d2)*3*q1;\\ndy = (-si1*sin(x1-x)*m1*d1 + si2*sin(x2-x)*m1*d2)*3*q2;\\n\\ndir = -q17 + asin(1);\\nm1 = q18*25;\\nxx = q9;\\nyy = 1-q10;\\nx1 = xx  -sin(dir)*b1;\\ny1 = yy  -cos(dir)*b1;\\nx2 = xx  +sin(dir)*b1;\\ny2 = yy  +cos(dir)*b1;\\nd1 = sqrt((x1-x)*(x1-x)+(y1-y)*(y1-y))-b1*2;\\nd2 = sqrt((x2-x)*(x2-x)+(y2-y)*(y2-y))-b1*2;\\nsi1 = sigmoid(-d1,1000);\\nsi2 = sigmoid(-d2,1000);\\ndx = dx + (si1*sin(y1-y)*m1*d1  - si2*sin(y2-y)*m1*d2)*3*q1;\\ndy = dy + (-si1*sin(x1-x)*m1*d1 + si2*sin(x2-x)*m1*d2)*3*q2;","warp":" shader_body { \\n  vec3 ret_1;\\n  vec2 tmpvar_2;\\n  tmpvar_2 = (texsize.zw * 8.0);\\n  vec3 tmpvar_3;\\n  tmpvar_3 = (((texture (sampler_blur1, \\n    (uv + (vec2(1.0, 0.0) * tmpvar_2))\\n  ).xyz * scale1) + bias1) - ((texture (sampler_blur1, \\n    (uv - (vec2(1.0, 0.0) * tmpvar_2))\\n  ).xyz * scale1) + bias1));\\n  vec3 tmpvar_4;\\n  tmpvar_4 = (((texture (sampler_blur1, \\n    (uv + (vec2(0.0, 1.0) * tmpvar_2))\\n  ).xyz * scale1) + bias1) - ((texture (sampler_blur1, \\n    (uv - (vec2(0.0, 1.0) * tmpvar_2))\\n  ).xyz * scale1) + bias1));\\n  vec2 tmpvar_5;\\n  tmpvar_5.x = tmpvar_3.z;\\n  tmpvar_5.y = tmpvar_4.z;\\n  vec2 tmpvar_6;\\n  tmpvar_6 = (uv + ((tmpvar_5 * texsize.zw) * 4.0));\\n  ret_1.z = (((texture (sampler_main, tmpvar_6).z - \\n    ((texture (sampler_main, tmpvar_6).z - ((texture (sampler_blur3, tmpvar_6).xyz * scale3) + bias3).z) * 0.02)\\n  ) - 0.008) + ((texture (sampler_noise_lq, \\n    (((uv_orig * texsize.xy) * texsize_noise_lq.zw) + rand_frame.xy)\\n  ).xyz - 0.5) * 0.1)).x;\\n  vec2 tmpvar_7;\\n  tmpvar_7.x = tmpvar_3.x;\\n  tmpvar_7.y = tmpvar_4.x;\\n  vec2 tmpvar_8;\\n  tmpvar_8 = ((0.5 + (uv - 0.5)) - (tmpvar_7 * texsize.zw));\\n  ret_1.x = texture (sampler_main, tmpvar_8).x;\\n  ret_1.x = (ret_1.x + ((\\n    (ret_1.x - ((texture (sampler_blur3, tmpvar_8).xyz * scale3) + bias3))\\n  .x * 0.4) + 0.006));\\n  vec2 tmpvar_9;\\n  tmpvar_9.x = tmpvar_3.x;\\n  tmpvar_9.y = tmpvar_4.x;\\n  vec2 tmpvar_10;\\n  tmpvar_10.x = tmpvar_3.y;\\n  tmpvar_10.y = tmpvar_4.y;\\n  vec2 tmpvar_11;\\n  tmpvar_11.x = tmpvar_3.z;\\n  tmpvar_11.y = tmpvar_4.z;\\n  ret_1.y = texture (sampler_fc_main, (((uv - \\n    ((tmpvar_9 * texsize.zw) * 8.0)\\n  ) + (\\n    (tmpvar_10 * texsize.zw)\\n   * 4.0)) + ((tmpvar_11 * texsize.zw) * 8.0))).y;\\n  ret_1.y = (ret_1.y * (1.0 + (ret_1.x * 0.1)));\\n  ret_1.y = (ret_1.y - (0.004 + (\\n    clamp (ret_1.z, 0.0, 1.0)\\n   * 0.04)));\\n  vec4 tmpvar_12;\\n  tmpvar_12.w = 1.0;\\n  tmpvar_12.xyz = ret_1;\\n  ret = tmpvar_12.xyz;\\n }","comp":" shader_body { \\n  vec3 ret_1;\\n  vec2 tmpvar_2;\\n  tmpvar_2 = (texsize.zw * 4.0);\\n  vec3 tmpvar_3;\\n  tmpvar_3 = (((texture (sampler_blur1, \\n    (uv + (vec2(1.0, 0.0) * tmpvar_2))\\n  ).xyz * scale1) + bias1) - ((texture (sampler_blur1, \\n    (uv - (vec2(1.0, 0.0) * tmpvar_2))\\n  ).xyz * scale1) + bias1));\\n  vec3 tmpvar_4;\\n  tmpvar_4 = (((texture (sampler_blur1, \\n    (uv + (vec2(0.0, 1.0) * tmpvar_2))\\n  ).xyz * scale1) + bias1) - ((texture (sampler_blur1, \\n    (uv - (vec2(0.0, 1.0) * tmpvar_2))\\n  ).xyz * scale1) + bias1));\\n  vec2 tmpvar_5;\\n  tmpvar_5.x = tmpvar_3.z;\\n  tmpvar_5.y = tmpvar_4.z;\\n  vec2 tmpvar_6;\\n  tmpvar_6.x = tmpvar_3.y;\\n  tmpvar_6.y = tmpvar_4.y;\\n  vec2 tmpvar_7;\\n  tmpvar_7 = ((uv - (tmpvar_5 * 0.1)) + (tmpvar_6 * 0.06));\\n  vec4 tmpvar_8;\\n  tmpvar_8 = texture (sampler_main, uv);\\n  ret_1 = (((\\n    ((texture (sampler_blur2, tmpvar_7).xyz * scale2) + bias2)\\n  .x * \\n    clamp ((1.0 - tmpvar_8.z), 0.0, 1.0)\\n  ) * pow (hue_shader.yxz, vec3(8.0, 8.0, 8.0))) * 3.0);\\n  ret_1 = (mix (ret_1, (\\n    pow (hue_shader.yzx, vec3(8.0, 8.0, 8.0))\\n   * 1.4), vec3((\\n    (texture (sampler_main, tmpvar_7).x * 0.8)\\n   + \\n    ((texture (sampler_blur1, tmpvar_7).xyz * scale1) + bias1)\\n  .x))) * clamp ((1.0 - \\n    (((texture (sampler_blur1, uv).xyz * scale1) + bias1).y * 4.0)\\n  ), 0.0, 1.0));\\n  vec2 tmpvar_9;\\n  tmpvar_9.x = tmpvar_3.y;\\n  tmpvar_9.y = tmpvar_4.y;\\n  vec3 tmpvar_10;\\n  vec3 tmpvar_11;\\n  tmpvar_11 = pow (hue_shader, vec3(8.0, 8.0, 8.0));\\n  tmpvar_10 = mix (mix (ret_1, vec3(1.0, 1.0, 1.0), (\\n    (tmpvar_11 * texture (sampler_main, clamp ((uv - (tmpvar_9 * 2.0)), 0.0, 1.0)).z)\\n   * 1.2)), (tmpvar_11.zxy * 1.8), tmpvar_8.yyy);\\n  ret_1 = tmpvar_10;\\n  vec4 tmpvar_12;\\n  tmpvar_12.w = 1.0;\\n  tmpvar_12.xyz = tmpvar_10;\\n  ret = tmpvar_12.xyz;\\n }"}') }, "./presets/converted/flexi - mom, why the sky looks different today.json": e => { e.exports = JSON.parse('{"version":2,"baseVals":{"rating":5,"gammaadj":1,"decay":1,"echo_zoom":1,"echo_alpha":0.5,"wave_thick":1,"wave_brighten":0,"wave_a":0.004,"wave_scale":0.267,"wave_smoothing":0,"wave_mystery":-0.44,"modwavealphastart":1,"modwavealphaend":1,"warpscale":16.016,"zoomexp":11.56276,"zoom":1.05971,"warp":0.13126,"wave_y":0.04,"ob_size":0,"ob_a":1,"ib_size":0,"mv_x":64,"mv_y":48,"mv_l":0,"mv_b":0,"mv_a":0,"b1ed":0},"shapes":[{"baseVals":{"enabled":1,"sides":100,"thickoutline":1,"rad":0.01,"tex_ang":0.12566,"tex_zoom":1.51878,"g":0.99,"b":1,"a":0.1,"g2":0,"border_a":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"sides":100,"thickoutline":1,"textured":1,"rad":0.80013,"ang":4.64954,"tex_zoom":1.24471,"g":1,"b":1,"r2":1,"b2":1,"a2":0.77,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"thickoutline":1,"x":1,"rad":3.0054,"tex_ang":0.12566,"tex_zoom":1.51878,"r":0,"g":1,"g2":0,"a2":1,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"thickoutline":1,"x":1,"rad":0.39872,"tex_ang":0.12566,"tex_zoom":1.51878,"g":1,"b":1,"r2":1,"b2":1,"a2":1,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""}],"waves":[{"baseVals":{"thick":1,"scaling":2.0231,"smoothing":0,"r":0,"g":0,"b":0,"enabled":0},"init_eqs_eel":"t2 = 0;\\nt3 = 0;\\nt4 = 0;\\ncl = 0;","frame_eqs_eel":"","point_eqs_eel":"tt3 = tt3*0.6 + (value1)*1;\\ntt2 = tt2*0.7 + tt3*0.2;\\ntt1 = tt1*0.8 + tt2*0.1;\\nd = d*0.9 + tt1*0.2;\\n\\ny = 0.5 + d*sample*(1-sample)*4;\\nx =  -0.05 + sample*1.1;"},{"baseVals":{"scaling":2.0231,"smoothing":0,"enabled":0},"init_eqs_eel":"t2 = 0;\\nt3 = 0;\\nt4 = 0;\\ncl = 0;","frame_eqs_eel":"","point_eqs_eel":"tt3 = tt3*0.6 + (value1)*1;\\ntt2 = tt2*0.7 + tt3*0.2;\\ntt1 = tt1*0.8 + tt2*0.1;\\nd = d*0.9 + tt1*0.2;\\n\\ny = 0.5 + d*sample*(1-sample)*4;\\nx =  -0.05 + sample*1.1;"},{"baseVals":{"thick":1,"additive":1,"scaling":100,"smoothing":0.6,"r":0,"g":0.4,"a":0.3,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"t1 = q1;\\nt2 = q2;\\nt3 = q3;\\nt4 = q4;\\nt5 = q5;\\nt6 = q6;\\nt7 = q7;\\nt8 = q8;","point_eqs_eel":"sample = 1-sample;\\nxxx = xx;\\nyyy = yy;\\nxx = pow(sample,5)*t1 + 5*pow(sample,4)*(1-sample)*t1 + 10*pow(sample,3)*sqr(1-sample)*t2\\n+ 10*sqr(sample)*pow(1-sample,3)*t3 + 5*pow(1-sample,4)*sample*t4 + pow(1-sample,5)*t4;\\n\\nyy = pow(sample,5)*t5 + 5*pow(sample,4)*(1-sample)*t5 + 10*pow(sample,3)*sqr(1-sample)*t6\\n+ 10*sqr(sample)*pow(1-sample,3)*t7 + 5*pow(1-sample,4)*sample*t8 + pow(1-sample,5)*t8;\\nd = 1/sqrt(sqr(xx-xxx)+sqr(yy-yyy));\\nx = xx + sample*(1-sample)*(value1-value2)*(yy-yyy)*d;\\ny = yy - sample*(1-sample)*(value1-value2)*(xx-xxx)*d;"},{"baseVals":{"usedots":1,"scaling":2.44415,"smoothing":0,"r":0,"g":0,"enabled":0},"init_eqs_eel":"t2 = 0;\\nt3 = 0;\\nt4 = 0;\\ncl = 0;","frame_eqs_eel":"t8 = 1;","point_eqs_eel":"t8 = -t8;\\ny = (1+t8)*0.01;\\nx = sample;"}],"init_eqs_eel":"q11 = 0.5/asin(1);","frame_eqs_eel":"zoom = 1;\\nv = v*0.9 + (bass-treb)*0.04;\\nt = t+ v*0.01;\\nq12 = time*0.1 + t;\\nq13 = 0.25 + (bass_att-treb_att)*0.01;","pixel_eqs_eel":"","warp":" shader_body { \\n  vec2 my_uv_1;\\n  vec2 d_2;\\n  vec3 ret_3;\\n  vec2 tmpvar_4;\\n  tmpvar_4 = (texsize.zw * 4.0);\\n  vec3 tmpvar_5;\\n  tmpvar_5 = (((texture (sampler_blur1, \\n    fract((uv + (vec2(1.0, 0.0) * tmpvar_4)))\\n  ).xyz * scale1) + bias1) - ((texture (sampler_blur1, \\n    fract((uv - (vec2(1.0, 0.0) * tmpvar_4)))\\n  ).xyz * scale1) + bias1));\\n  vec3 tmpvar_6;\\n  tmpvar_6 = (((texture (sampler_blur1, \\n    fract((uv + (vec2(0.0, 1.0) * tmpvar_4)))\\n  ).xyz * scale1) + bias1) - ((texture (sampler_blur1, \\n    fract((uv - (vec2(0.0, 1.0) * tmpvar_4)))\\n  ).xyz * scale1) + bias1));\\n  vec3 tmpvar_7;\\n  tmpvar_7 = ((texture (sampler_blur1, uv).xyz * scale1) + bias1);\\n  d_2 = -(tmpvar_4);\\n  float tmpvar_8;\\n  tmpvar_8 = (d_2 * 4.0).x;\\n  vec2 tmpvar_9;\\n  tmpvar_9.x = tmpvar_5.y;\\n  tmpvar_9.y = tmpvar_6.y;\\n  vec2 tmpvar_10;\\n  tmpvar_10.x = tmpvar_5.x;\\n  tmpvar_10.y = tmpvar_6.x;\\n  vec2 tmpvar_11;\\n  tmpvar_11 = ((uv - (tmpvar_9 * d_2)) - (tmpvar_10 * tmpvar_8));\\n  ret_3.y = texture (sampler_fc_main, (tmpvar_11 - floor(tmpvar_11))).y;\\n  ret_3.y = (ret_3.y + ((\\n    (ret_3.y - tmpvar_7.y)\\n   * 0.042) + -0.0075));\\n  vec2 tmpvar_12;\\n  tmpvar_12.x = tmpvar_5.x;\\n  tmpvar_12.y = tmpvar_6.x;\\n  vec2 tmpvar_13;\\n  tmpvar_13.x = tmpvar_5.z;\\n  tmpvar_13.y = tmpvar_6.z;\\n  my_uv_1 = ((uv - (tmpvar_12 * d_2)) - (tmpvar_13 * tmpvar_8));\\n  ret_3.x = texture (sampler_fc_main, (my_uv_1 - floor(my_uv_1))).x;\\n  ret_3.x = (ret_3.x + ((\\n    (ret_3.x - tmpvar_7.x)\\n   * 0.042) + -0.0075));\\n  vec2 tmpvar_14;\\n  tmpvar_14.x = tmpvar_5.z;\\n  tmpvar_14.y = tmpvar_6.z;\\n  vec2 tmpvar_15;\\n  tmpvar_15.x = tmpvar_5.y;\\n  tmpvar_15.y = tmpvar_6.y;\\n  my_uv_1 = ((uv - (tmpvar_14 * d_2)) - (tmpvar_15 * tmpvar_8));\\n  ret_3.z = texture (sampler_fc_main, (my_uv_1 - floor(my_uv_1))).z;\\n  ret_3.z = (ret_3.z + ((\\n    (ret_3.z - tmpvar_7.z)\\n   * 0.042) + -0.0075));\\n  vec4 tmpvar_16;\\n  tmpvar_16.w = 1.0;\\n  tmpvar_16.xyz = ret_3;\\n  ret = tmpvar_16.xyz;\\n }","comp":" shader_body { \\n  vec2 uv_1;\\n  uv_1 = uv;\\n  vec3 ret_2;\\n  float tmpvar_3;\\n  tmpvar_3 = -(q12);\\n  vec2 tmpvar_4;\\n  tmpvar_4 = ((uv - 0.5) * aspect.wz);\\n  float tmpvar_5;\\n  float tmpvar_6;\\n  tmpvar_6 = (min (abs(\\n    (tmpvar_4.x / tmpvar_4.y)\\n  ), 1.0) / max (abs(\\n    (tmpvar_4.x / tmpvar_4.y)\\n  ), 1.0));\\n  float tmpvar_7;\\n  tmpvar_7 = (tmpvar_6 * tmpvar_6);\\n  tmpvar_7 = (((\\n    ((((\\n      ((((-0.01213232 * tmpvar_7) + 0.05368138) * tmpvar_7) - 0.1173503)\\n     * tmpvar_7) + 0.1938925) * tmpvar_7) - 0.3326756)\\n   * tmpvar_7) + 0.9999793) * tmpvar_6);\\n  tmpvar_7 = (tmpvar_7 + (float(\\n    (abs((tmpvar_4.x / tmpvar_4.y)) > 1.0)\\n  ) * (\\n    (tmpvar_7 * -2.0)\\n   + 1.570796)));\\n  tmpvar_5 = (tmpvar_7 * sign((tmpvar_4.x / tmpvar_4.y)));\\n  if ((abs(tmpvar_4.y) > (1e-08 * abs(tmpvar_4.x)))) {\\n    if ((tmpvar_4.y < 0.0)) {\\n      if ((tmpvar_4.x >= 0.0)) {\\n        tmpvar_5 += 3.141593;\\n      } else {\\n        tmpvar_5 = (tmpvar_5 - 3.141593);\\n      };\\n    };\\n  } else {\\n    tmpvar_5 = (sign(tmpvar_4.x) * 1.570796);\\n  };\\n  vec2 tmpvar_8;\\n  tmpvar_8.x = ((tmpvar_5 * q11) - tmpvar_3);\\n  tmpvar_8.y = (((q13 * \\n    log(sqrt(dot (tmpvar_4, tmpvar_4)))\\n  ) + (tmpvar_5 * q11)) + tmpvar_3);\\n  uv_1 = (0.5 + (0.5 - abs(\\n    ((fract((tmpvar_8 * 0.5)) * 2.0) - 1.0)\\n  )));\\n  vec4 tmpvar_9;\\n  tmpvar_9 = texture (sampler_main, uv_1);\\n  ret_2 = (vec3(dot (tmpvar_9.xyz, vec3(0.32, 0.49, 0.29))) * mix (vec3(1.0, 1.0, 1.0), vec3(0.2, 0.5, 1.0), tmpvar_9.xxx));\\n  ret_2 = (ret_2 * 2.0);\\n  vec4 tmpvar_10;\\n  tmpvar_10.w = 1.0;\\n  tmpvar_10.xyz = ret_2;\\n  ret = tmpvar_10.xyz;\\n }"}') }, "./presets/converted/flexi - patternton, district of media, capitol of the united abstractions of fractopia.json": e => { e.exports = JSON.parse('{"version":2,"baseVals":{"rating":5,"gammaadj":1,"decay":1,"echo_zoom":1,"echo_alpha":0.5,"wave_thick":1,"wave_brighten":0,"wrap":0,"wave_a":0.004,"wave_scale":0.242,"wave_smoothing":0,"wave_mystery":-0.44,"modwavealphastart":1,"modwavealphaend":1,"warpanimspeed":0.88,"warpscale":9.181,"zoomexp":0.65309,"zoom":0.87866,"warp":0.04914,"wave_y":0.04,"ob_size":0.05,"ob_a":1,"ib_size":0,"ib_r":0,"ib_g":0,"ib_b":0,"ib_a":1,"mv_x":64,"mv_y":48,"mv_l":0,"mv_b":0,"mv_a":0},"shapes":[{"baseVals":{"enabled":1,"sides":100,"thickoutline":1,"y":0.04,"rad":0.01,"tex_ang":0.12566,"tex_zoom":1.51878,"r":0,"a":0,"g2":0,"b2":0.01,"border_a":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"sides":100,"additive":1,"thickoutline":1,"textured":1,"x":0.49,"rad":1.32907,"tex_zoom":0.49831,"g":1,"b":1,"a":0.99,"g2":0,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"thickoutline":1,"x":1,"rad":3.0054,"tex_ang":0.12566,"tex_zoom":1.51878,"r":0,"g":1,"g2":0,"a2":1,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"thickoutline":1,"x":1,"rad":0.39872,"tex_ang":0.12566,"tex_zoom":1.51878,"g":1,"b":1,"r2":1,"b2":1,"a2":1,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""}],"waves":[{"baseVals":{"enabled":1,"thick":1,"additive":1,"scaling":2.0231,"smoothing":0,"r":0,"b":0},"init_eqs_eel":"t2 = 0;\\nt3 = 0;\\nt4 = 0;\\ncl = 0;","frame_eqs_eel":"r = 1; g = 0; b = 1;","point_eqs_eel":"tt3 = tt3*0.6 + (value1)*1;\\ntt2 = tt2*0.7 + tt3*0.2;\\ntt1 = tt1*0.8 + tt2*0.1;\\nd = d*0.9 + tt1*0.2;\\n\\ny = 0.6 + d*sample*(1-sample)*2;\\nx =  -0.05 + sample*1.1;"},{"baseVals":{"scaling":2.44415,"smoothing":0,"enabled":0},"init_eqs_eel":"t2 = 0;\\nt3 = 0;\\nt4 = 0;\\ncl = 0;","frame_eqs_eel":"t8 = 1;","point_eqs_eel":"t8 = -t8;\\ny = sample;\\nx = 0.5 + t8*0.005;\\n\\npi3 = 3.1415*2*0.3333;\\nt = time + sample*2;\\nc=2;\\n\\nr = sin(t)*c;\\ng = sin(t+pi3)*c;\\n\\nb = sin(t-pi3)*c;\\n\\n\\nr = if(above(r,1),1,r);\\nr = if(below(r,0),0,r);\\ng = if(above(g,1),1,g);\\ng = if(below(g,0),0,g);\\nb = if(above(b,1),1,b);\\nb = if(below(b,0),0,b);\\n"},{"baseVals":{"thick":1,"additive":1,"scaling":100,"smoothing":0.6,"r":0,"g":0.4,"a":0.3,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"t1 = q1;\\nt2 = q2;\\nt3 = q3;\\nt4 = q4;\\nt5 = q5;\\nt6 = q6;\\nt7 = q7;\\nt8 = q8;","point_eqs_eel":"sample = 1-sample;\\nxxx = xx;\\nyyy = yy;\\nxx = pow(sample,5)*t1 + 5*pow(sample,4)*(1-sample)*t1 + 10*pow(sample,3)*sqr(1-sample)*t2\\n+ 10*sqr(sample)*pow(1-sample,3)*t3 + 5*pow(1-sample,4)*sample*t4 + pow(1-sample,5)*t4;\\n\\nyy = pow(sample,5)*t5 + 5*pow(sample,4)*(1-sample)*t5 + 10*pow(sample,3)*sqr(1-sample)*t6\\n+ 10*sqr(sample)*pow(1-sample,3)*t7 + 5*pow(1-sample,4)*sample*t8 + pow(1-sample,5)*t8;\\nd = 1/sqrt(sqr(xx-xxx)+sqr(yy-yyy));\\nx = xx + sample*(1-sample)*(value1-value2)*(yy-yyy)*d;\\ny = yy - sample*(1-sample)*(value1-value2)*(xx-xxx)*d;"},{"baseVals":{"usedots":1,"scaling":2.44415,"smoothing":0,"r":0,"g":0,"enabled":0},"init_eqs_eel":"t2 = 0;\\nt3 = 0;\\nt4 = 0;\\ncl = 0;","frame_eqs_eel":"t8 = 1;","point_eqs_eel":"t8 = -t8;\\ny = (1+t8)*0.01;\\nx = sample;"}],"init_eqs_eel":"x1 = 0.9;\\ny1 = 0.5;\\n\\nx2 = 0.5; y2 = 0.5;\\nx3 = 0.5; y3 = 0.5;\\nx4 = 0.5; y4 = 0.5;","frame_eqs_eel":"zoom = 1;\\n//warp = 0;\\nscale = 1;\\nangle = time*.1;\\ntranslation_x = 0;\\ntranslation_y = 0.12;\\n\\na_r = cos(angle)*scale;\\na_i = sin(angle)*scale;\\nb_r = translation_x;\\nb_i = translation_y;\\n\\n//complex inverted\\nscale = 1.6;\\nangle = 0;\\ntranslation_u = 0;\\ntranslation_v = 0;\\n\\n// c\\nq15 = cos(angle)*scale;\\nq16 = sin(angle)*scale;\\n\\n// d\\nq17 = translation_u;\\nq18 = translation_v;\\n\\n// c^(-1)\\nc_inv_r = q15/(q15*q15+q16*q16);\\nc_inv_i = q16/(q15*q15+q16*q16);\\n\\n// a*c^(-1)\\nq11 = (a_r*c_inv_r - a_i*c_inv_i);\\nq12 = (a_r*c_inv_i - a_i*c_inv_r);\\n\\n// (bc-ad)\\nbcad_r = (b_r*q15 - b_i*q16)-(a_r*q17-a_i*q18);\\nbcad_i = (b_r*q16 - b_i*q15)-(a_r*q18-a_i*q17);\\n\\n// mu*c^(-1)\\nq13 = bcad_r*c_inv_r - bcad_i*c_inv_i;\\nq14 = bcad_r*c_inv_i - bcad_i*c_inv_r;","pixel_eqs_eel":"","warp":" shader_body { \\n  float conway_1;\\n  vec3 ret_2;\\n  vec2 tmpvar_3;\\n  tmpvar_3.x = (((\\n    ((texture (sampler_blur2, (uv + vec2(0.02, 0.0))).xyz * scale2) + bias2)\\n   - \\n    ((texture (sampler_blur2, (uv - vec2(0.02, 0.0))).xyz * scale2) + bias2)\\n  ).y * 1280.0) * texsize.z);\\n  tmpvar_3.y = (((\\n    ((texture (sampler_blur2, (uv + vec2(0.0, 0.02))).xyz * scale2) + bias2)\\n   - \\n    ((texture (sampler_blur2, (uv - vec2(0.0, 0.02))).xyz * scale2) + bias2)\\n  ).y * 1024.0) * texsize.w);\\n  ret_2.y = texture (sampler_pc_main, (uv - (tmpvar_3 * 0.004))).y;\\n  ret_2.y = (ret_2.y + ((\\n    ((ret_2.y - ((texture (sampler_blur1, uv).xyz * scale1) + bias1).y) - 0.1)\\n   * 0.1) + 0.02));\\n  vec2 tmpvar_4;\\n  tmpvar_4 = (vec2(0.0, 1.0) * texsize.zw);\\n  ret_2.z = (texture (sampler_fc_main, (uv - tmpvar_4)).z - 0.004);\\n  conway_1 = (texture (sampler_pw_main, (uv_orig - texsize.zw)).x + texture (sampler_pw_main, (uv_orig + (vec2(0.0, -1.0) * texsize.zw))).x);\\n  conway_1 = (conway_1 + texture (sampler_pw_main, (uv_orig + (vec2(1.0, -1.0) * texsize.zw))).x);\\n  conway_1 = (conway_1 + texture (sampler_pw_main, (uv_orig + (vec2(-1.0, 0.0) * texsize.zw))).x);\\n  conway_1 = (conway_1 + texture (sampler_pw_main, (uv_orig + (vec2(1.0, 0.0) * texsize.zw))).x);\\n  conway_1 = (conway_1 + texture (sampler_pw_main, (uv_orig + (vec2(-1.0, 1.0) * texsize.zw))).x);\\n  conway_1 = (conway_1 + texture (sampler_pw_main, (uv_orig + tmpvar_4)).x);\\n  conway_1 = (conway_1 + texture (sampler_pw_main, (uv_orig + texsize.zw)).x);\\n  conway_1 = (conway_1 - fract(conway_1));\\n  float tmpvar_5;\\n  tmpvar_5 = clamp (texture (sampler_pc_main, uv_orig).x, 0.0, 1.0);\\n  ret_2.x = (clamp ((1.0 - \\n    abs((conway_1 - 3.0))\\n  ), 0.0, 1.0) * (1.0 - tmpvar_5));\\n  ret_2.x = (ret_2.x + (clamp (\\n    max ((1.0 - abs((conway_1 - 2.0))), (1.0 - abs((conway_1 - 3.0))))\\n  , 0.0, 1.0) * tmpvar_5));\\n  vec4 tmpvar_6;\\n  tmpvar_6.w = 1.0;\\n  tmpvar_6.xyz = ret_2;\\n  ret = tmpvar_6.xyz;\\n }","comp":" shader_body { \\n  vec2 moebius_1;\\n  vec3 ret_2;\\n  vec2 tmpvar_3;\\n  tmpvar_3.x = q11;\\n  tmpvar_3.y = q12;\\n  vec2 tmpvar_4;\\n  tmpvar_4.x = q17;\\n  tmpvar_4.y = q18;\\n  vec2 tmpvar_5;\\n  vec2 tmpvar_6;\\n  tmpvar_6 = (uv - 0.5);\\n  tmpvar_5 = (tmpvar_6 * aspect.xy);\\n  vec2 tmpvar_7;\\n  tmpvar_7.x = ((tmpvar_5.x * q15) - (tmpvar_5.y * q16));\\n  tmpvar_7.y = ((tmpvar_5.x * q16) - (tmpvar_5.y * q15));\\n  vec2 tmpvar_8;\\n  tmpvar_8 = (tmpvar_7 + tmpvar_4);\\n  vec2 tmpvar_9;\\n  tmpvar_9.x = ((q13 * tmpvar_8.x) + (q14 * tmpvar_8.y));\\n  tmpvar_9.y = ((q14 * tmpvar_8.x) - (q13 * tmpvar_8.y));\\n  moebius_1 = (((tmpvar_9 / \\n    ((tmpvar_8.x * tmpvar_8.x) + (tmpvar_8.y * tmpvar_8.y))\\n  ) + tmpvar_3) * 0.5);\\n  float tmpvar_10;\\n  tmpvar_10 = sqrt(dot (moebius_1, moebius_1));\\n  moebius_1 = (0.5 + ((\\n    (1.0 - abs(((\\n      fract((moebius_1 * 0.5))\\n     * 2.0) - 1.0)))\\n   - 0.5) * 0.95));\\n  vec2 tmpvar_11;\\n  tmpvar_11 = (0.5 + (tmpvar_6 * 0.2));\\n  ret_2 = (texture (sampler_main, tmpvar_11).z * vec3(0.4, 0.0, 0.7));\\n  ret_2 = (mix (ret_2, vec3(0.0, 1.0, 1.0), vec3(clamp (texture (sampler_fc_main, moebius_1).y, 0.0, 1.0))) * (1.4 - pow (\\n    (tmpvar_10 * 0.8)\\n  , 0.3)));\\n  vec3 tmpvar_12;\\n  tmpvar_12 = mix (mix (mix (ret_2, vec3(4.0, 1.0, 0.0), vec3(\\n    ((clamp ((texture (sampler_fc_main, tmpvar_11).y - texture (sampler_pc_main, tmpvar_11).y), 0.0, 1.0) * 4.0) * (tmpvar_10 * tmpvar_10))\\n  )), vec3(-4.0, -4.0, -4.0), texture (sampler_main, tmpvar_11).xxx), vec3(2.0, 2.0, 2.0), vec3((texture (sampler_pc_main, tmpvar_11).x * 0.75)));\\n  ret_2 = tmpvar_12;\\n  vec4 tmpvar_13;\\n  tmpvar_13.w = 1.0;\\n  tmpvar_13.xyz = tmpvar_12;\\n  ret = tmpvar_13.xyz;\\n }"}') }, "./presets/converted/flexi - swing out on the spiral.json": e => { e.exports = JSON.parse('{"version":2,"baseVals":{"rating":5,"gammaadj":1.56,"decay":1,"echo_zoom":0.362,"echo_orient":1,"wave_thick":1,"wave_brighten":0,"darken":1,"wave_a":0.001,"wave_scale":1.599,"wave_smoothing":0,"wave_mystery":-0.5,"modwavealphastart":2,"modwavealphaend":2,"warpscale":0.107,"zoomexp":0.1584,"fshader":1,"warp":0.01,"wave_r":0.51,"wave_g":0.5,"ob_size":0,"ob_a":1,"ib_r":0,"ib_g":0,"ib_b":0,"ib_a":1,"mv_x":64,"mv_y":48,"mv_l":0.5,"mv_r":0,"mv_g":0,"mv_b":0,"mv_a":0},"shapes":[{"baseVals":{"sides":100,"thickoutline":1,"rad":0.50126,"tex_zoom":0.99996,"g":1,"b":1,"r2":1,"g2":0,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"x = 0.5+sin(time*0.618)*0.2;\\ny = 0.5+cos(time*1.618)*0.2;\\nrad = bass*0.05;\\nborder_r = 1-(sin(time*1.25)*0.3+0.7);\\nborder_g = 1-(sin(time)*0.3+0.3);\\nborder_b = 1-(sin(time/3)*0.5+0.5);"},{"baseVals":{"sides":100,"thickoutline":1,"rad":0.50126,"g":1,"b":1,"g2":0,"b2":1,"border_g":0,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"x = 0.5+sin(time*2.618)*0.3;\\ny = 0.5+cos(time*3.14)*0.3;\\nrad = bass*0.05;\\nborder_r = 1-(sin(time*1.25)*0.3+0.7);\\nborder_g = 1-(sin(time)*0.3+0.3);\\nborder_b = 1-(sin(time/3)*0.5+0.5);\\n"},{"baseVals":{"sides":100,"thickoutline":1,"rad":0.50126,"tex_zoom":0.9998,"g":1,"b":1,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"x = 0.5+sin(-time*2.618)*0.4;\\ny = 0.5+cos(-time*1.14)*0.4;\\nrad = bass*0.05;\\nborder_r = 1-(sin(time*1.25)*0.3+0.7);\\nborder_g = 1-(sin(time)*0.3+0.3);\\nborder_b = 1-(sin(time/3)*0.5+0.5);"},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""}],"waves":[{"baseVals":{"scaling":0.16188,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"thick":1,"additive":1,"scaling":25.12601,"smoothing":1,"a":0.1,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""}],"init_eqs_eel":"q11 = 0.5/asin(1);","frame_eqs_eel":"//zoom = 0.99;\\nib_r = sin(time*1.25*4)*0.3+0.7;\\nib_g = sin(time*4)*0.3+0.3;\\nib_b = sin(time/3*4)*0.5+0.5;\\n\\nxx1 = xx1*0.9 + (bass)*0.01;\\nxx2 = xx2*0.9 + (treb)*0.01;\\nyy1 = yy1*0.94 + (treb+bass)*0.0075;\\n\\nx1 = 0.5 + (xx1-xx2)*3;\\ny1 = 0.4 + yy1;\\n\\nx1 = max(0,min(1,x1)); y1 = max(0,min(1,y1));\\n\\nspring = 25;\\ngrav = 1.1;\\nresist = 1;\\nbounce = 0.85;\\ndt = 0.0002*(60/fps);\\n\\nvx2 = vx2*(1-resist*dt) + dt*((x1+x3-2*x2)*spring);\\nvy2 = vy2*(1-resist*dt) + dt*((y1+y3-2*y2)*spring-grav);\\nvx3 = vx3*(1-resist*dt) + dt*((x2+x4-2*x3)*spring);\\nvy3 = vy3*(1-resist*dt) + dt*((y2+y4-2*y3)*spring-grav);\\nvx4 = vx4*(1-resist*dt) + dt*((x3-x4)*spring);\\nvy4 = vy4*(1-resist*dt) + dt*((y3-y4)*spring-grav);\\n\\nx2 = x2 + vx2;\\ny2 = y2 + vy2;\\nx3 = x3 + vx3;\\ny3 = y3 + vy3;\\nx4 = x4 + vx4;\\ny4 = y4 + vy4;\\n\\nvx2 = if(above(x2,0),vx2,abs(vx2)*bounce);\\nvx2 = if(below(x2,1),vx2,-abs(vx2)*bounce);\\nvx3 = if(above(x3,0),vx3,abs(vx3)*bounce);\\nvx3 = if(below(x3,1),vx3,-abs(vx3)*bounce);\\nvx4 = if(above(x4,0),vx4,abs(vx4)*bounce);\\nvx4 = if(below(x4,1),vx4,-abs(vx4)*bounce);\\nvy2 = if(above(y2,0),vy2,abs(vy2)*bounce);\\nvy2 = if(below(y2,1),vy2,-abs(vy2)*bounce);\\nvy3 = if(above(y3,0),vy3,abs(vy3)*bounce);\\nvy3 = if(below(y3,1),vy3,-abs(vy3)*bounce);\\nvy4 = if(above(y4,0),vy4,abs(vy4)*bounce);\\nvy4 = if(below(y4,1),vy4,-abs(vy4)*bounce);\\nq4 = x4;\\nq8 = y4;\\n\\nq1 = aspectx;\\nq2 = aspecty;\\n\\nzoom = 1;\\nwarp = 0;\\nbb = bb*0.99 + bass*0.02;\\nmm = mm*0.99 + mid*0.02;\\ntt = tt*0.99 + treb*0.02;\\n\\nmx = max(max(bb,mm),tt);\\nmn = min(min(bb,mm),tt);\\n\\nob_r = (bb-mn)/(mx-mn);\\nob_b = (mm-mn)/(mx-mn);\\nob_g = (tt-mn)/(mx-mn);\\nq6 = atan2(vx4,vy4);\\nq5 = sqrt(vx4*vx4 + vy4*vy4);\\n\\na = a*0.95 + q5;\\n\\ns = s*0.9 + a;\\nq3 = s*0.1;\\nt = t + 0.1/fps;\\nt = if(above(t,2),t-2,t);\\nq12 = -t;\\nmonitor = t;\\nwave_a = 0;","pixel_eqs_eel":"x = 0.5 + (x-0.5)*q1;\\ny = 0.5 + (y-0.5)*q2;\\n\\ndir = -q6*1 + asin(1)*0;\\n\\nxx = q4;\\nyy = 1-q8;\\n\\ndx = 0; dy = 0;\\n\\nd = sqrt((x-xx)*(x-xx)+(y-yy)*(y-yy));\\n\\nr = 0.08;\\nv = -15*q5;\\ndx = v*sin(dir)*(r-d)*(1-sigmoid(d-r,200))*q2;\\ndy = v*cos(dir)*(r-d)*(1-sigmoid(d-r,200))*q1;","warp":" shader_body { \\n  vec3 tmpvar_1;\\n  vec4 tmpvar_2;\\n  tmpvar_2 = texture (sampler_main, uv);\\n  tmpvar_1 = vec3((((tmpvar_2.x + tmpvar_2.y) + tmpvar_2.z) * 0.33333));\\n  vec4 tmpvar_3;\\n  tmpvar_3.w = 1.0;\\n  tmpvar_3.xyz = ((texture (sampler_main, clamp (\\n    (uv - ((vec2(0.0, 0.0168) * (tmpvar_1 - 0.35).xy) * (tmpvar_1 - 0.4).xy))\\n  , 0.0, 1.0)).xyz - 0.001) + ((texture (sampler_noise_lq, \\n    (((uv_orig * texsize.xy) * (texsize_noise_lq.zw * 2.0)) + rand_frame.xy)\\n  ) - 0.5) * 0.04).xyz);\\n  ret = tmpvar_3.xyz;\\n }","comp":" shader_body { \\n  vec2 tmpvar_1;\\n  tmpvar_1 = ((uv - 0.5).yx * aspect.zw);\\n  float tmpvar_2;\\n  float tmpvar_3;\\n  tmpvar_3 = (min (abs(\\n    (tmpvar_1.x / tmpvar_1.y)\\n  ), 1.0) / max (abs(\\n    (tmpvar_1.x / tmpvar_1.y)\\n  ), 1.0));\\n  float tmpvar_4;\\n  tmpvar_4 = (tmpvar_3 * tmpvar_3);\\n  tmpvar_4 = (((\\n    ((((\\n      ((((-0.01213232 * tmpvar_4) + 0.05368138) * tmpvar_4) - 0.1173503)\\n     * tmpvar_4) + 0.1938925) * tmpvar_4) - 0.3326756)\\n   * tmpvar_4) + 0.9999793) * tmpvar_3);\\n  tmpvar_4 = (tmpvar_4 + (float(\\n    (abs((tmpvar_1.x / tmpvar_1.y)) > 1.0)\\n  ) * (\\n    (tmpvar_4 * -2.0)\\n   + 1.570796)));\\n  tmpvar_2 = (tmpvar_4 * sign((tmpvar_1.x / tmpvar_1.y)));\\n  if ((abs(tmpvar_1.y) > (1e-08 * abs(tmpvar_1.x)))) {\\n    if ((tmpvar_1.y < 0.0)) {\\n      if ((tmpvar_1.x >= 0.0)) {\\n        tmpvar_2 += 3.141593;\\n      } else {\\n        tmpvar_2 = (tmpvar_2 - 3.141593);\\n      };\\n    };\\n  } else {\\n    tmpvar_2 = (sign(tmpvar_1.x) * 1.570796);\\n  };\\n  vec2 tmpvar_5;\\n  tmpvar_5.x = (tmpvar_2 * q11);\\n  tmpvar_5.y = (((0.5 * \\n    log(sqrt(dot (tmpvar_1, tmpvar_1)))\\n  ) - (tmpvar_2 * q11)) + q12);\\n  vec4 tmpvar_6;\\n  tmpvar_6.w = 1.0;\\n  tmpvar_6.xyz = pow (texture (sampler_main, (0.5 + (\\n    (0.5 - abs(((\\n      fract((tmpvar_5 * 0.5))\\n     * 2.0) - 1.0)))\\n   * vec2(0.96, 1.0)))).xyz, vec3(0.618034, 0.618034, 0.618034));\\n  ret = tmpvar_6.xyz;\\n }"}') }, "./presets/converted/flexi - what is the matrix.json": e => { e.exports = JSON.parse('{"version":2,"baseVals":{"rating":5,"gammaadj":1,"decay":1,"echo_zoom":1,"echo_alpha":0.5,"wave_thick":1,"wave_brighten":0,"wrap":0,"wave_a":0.004,"wave_scale":0.242,"wave_smoothing":0,"wave_mystery":-0.44,"modwavealphastart":1,"modwavealphaend":1,"warpanimspeed":0.397,"warpscale":15.099,"zoomexp":0.65309,"zoom":0.87866,"warp":0.04027,"wave_y":0.04,"ob_size":0,"ob_a":1,"ib_size":0,"ib_r":0,"ib_g":0,"ib_b":0,"ib_a":1,"mv_x":64,"mv_y":48,"mv_l":0,"mv_b":0,"mv_a":0},"shapes":[{"baseVals":{"enabled":1,"sides":100,"thickoutline":1,"y":0.04,"rad":0.01,"tex_ang":0.12566,"tex_zoom":1.51878,"r":0,"a":0,"g2":0,"b2":0.01,"border_a":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"sides":100,"additive":1,"thickoutline":1,"textured":1,"x":0.49,"rad":1.32907,"tex_zoom":0.49831,"g":1,"b":1,"a":0.99,"g2":0,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"thickoutline":1,"x":1,"rad":3.0054,"tex_ang":0.12566,"tex_zoom":1.51878,"r":0,"g":1,"g2":0,"a2":1,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"thickoutline":1,"x":1,"rad":0.39872,"tex_ang":0.12566,"tex_zoom":1.51878,"g":1,"b":1,"r2":1,"b2":1,"a2":1,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""}],"waves":[{"baseVals":{"enabled":1,"thick":1,"additive":1,"scaling":2.0231,"smoothing":0,"r":0,"b":0},"init_eqs_eel":"t2 = 0;\\nt3 = 0;\\nt4 = 0;\\ncl = 0;","frame_eqs_eel":"r = 1; g = 0; b = 1;","point_eqs_eel":"tt3 = tt3*0.6 + (value1)*1;\\ntt2 = tt2*0.7 + tt3*0.2;\\ntt1 = tt1*0.8 + tt2*0.1;\\nd = d*0.9 + tt1*0.2;\\n\\ny = 0.6 + d*sample*(1-sample)*2;\\nx =  -0.05 + sample*1.1;"},{"baseVals":{"scaling":2.44415,"smoothing":0,"enabled":0},"init_eqs_eel":"t2 = 0;\\nt3 = 0;\\nt4 = 0;\\ncl = 0;","frame_eqs_eel":"t8 = 1;","point_eqs_eel":"t8 = -t8;\\ny = sample;\\nx = 0.5 + t8*0.005;\\n\\npi3 = 3.1415*2*0.3333;\\nt = time + sample*2;\\nc=2;\\n\\nr = sin(t)*c;\\ng = sin(t+pi3)*c;\\n\\nb = sin(t-pi3)*c;\\n\\n\\nr = if(above(r,1),1,r);\\nr = if(below(r,0),0,r);\\ng = if(above(g,1),1,g);\\ng = if(below(g,0),0,g);\\nb = if(above(b,1),1,b);\\nb = if(below(b,0),0,b);\\n"},{"baseVals":{"thick":1,"additive":1,"scaling":100,"smoothing":0.6,"r":0,"g":0.4,"a":0.3,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"t1 = q1;\\nt2 = q2;\\nt3 = q3;\\nt4 = q4;\\nt5 = q5;\\nt6 = q6;\\nt7 = q7;\\nt8 = q8;","point_eqs_eel":"sample = 1-sample;\\nxxx = xx;\\nyyy = yy;\\nxx = pow(sample,5)*t1 + 5*pow(sample,4)*(1-sample)*t1 + 10*pow(sample,3)*sqr(1-sample)*t2\\n+ 10*sqr(sample)*pow(1-sample,3)*t3 + 5*pow(1-sample,4)*sample*t4 + pow(1-sample,5)*t4;\\n\\nyy = pow(sample,5)*t5 + 5*pow(sample,4)*(1-sample)*t5 + 10*pow(sample,3)*sqr(1-sample)*t6\\n+ 10*sqr(sample)*pow(1-sample,3)*t7 + 5*pow(1-sample,4)*sample*t8 + pow(1-sample,5)*t8;\\nd = 1/sqrt(sqr(xx-xxx)+sqr(yy-yyy));\\nx = xx + sample*(1-sample)*(value1-value2)*(yy-yyy)*d;\\ny = yy - sample*(1-sample)*(value1-value2)*(xx-xxx)*d;"},{"baseVals":{"usedots":1,"scaling":2.44415,"smoothing":0,"r":0,"g":0,"enabled":0},"init_eqs_eel":"t2 = 0;\\nt3 = 0;\\nt4 = 0;\\ncl = 0;","frame_eqs_eel":"t8 = 1;","point_eqs_eel":"t8 = -t8;\\ny = (1+t8)*0.01;\\nx = sample;"}],"init_eqs_eel":"x1 = 0.9;\\ny1 = 0.5;\\n\\nx2 = 0.5; y2 = 0.5;\\nx3 = 0.5; y3 = 0.5;\\nx4 = 0.5; y4 = 0.5;","frame_eqs_eel":"zoom = 0.998;\\n//warp = 0;\\nscale = 1;\\nangle = time*.02;\\ntranslation_x = 0;\\ntranslation_y = 0.12;\\n\\na_r = cos(angle)*scale;\\na_i = sin(angle)*scale;\\nb_r = translation_x;\\nb_i = translation_y;\\n\\n//complex inverted\\nscale = 1;\\nangle = sin(time*0.1337)*0.3*0;\\ntranslation_u = 0;\\ntranslation_v = -0.2;\\n\\n// c\\nq15 = cos(angle)*scale;\\nq16 = sin(angle)*scale;\\n\\n// d\\nq17 = translation_u;\\nq18 = translation_v;\\n\\n// c^(-1)\\nc_inv_r = q15/(q15*q15+q16*q16);\\nc_inv_i = q16/(q15*q15+q16*q16);\\n\\n// a*c^(-1)\\nq11 = (a_r*c_inv_r - a_i*c_inv_i);\\nq12 = (a_r*c_inv_i - a_i*c_inv_r);\\n\\n// (bc-ad)\\nbcad_r = (b_r*q15 - b_i*q16)-(a_r*q17-a_i*q18);\\nbcad_i = (b_r*q16 - b_i*q15)-(a_r*q18-a_i*q17);\\n\\n// mu*c^(-1)\\nq13 = bcad_r*c_inv_r - bcad_i*c_inv_i;\\nq14 = bcad_r*c_inv_i - bcad_i*c_inv_r;","pixel_eqs_eel":"","warp":" shader_body { \\n  float conway_1;\\n  vec3 ret_2;\\n  vec2 tmpvar_3;\\n  tmpvar_3.x = (((\\n    ((texture (sampler_blur2, (uv + vec2(0.02, 0.0))).xyz * scale2) + bias2)\\n   - \\n    ((texture (sampler_blur2, (uv - vec2(0.02, 0.0))).xyz * scale2) + bias2)\\n  ).y * 1280.0) * texsize.z);\\n  tmpvar_3.y = (((\\n    ((texture (sampler_blur2, (uv + vec2(0.0, 0.02))).xyz * scale2) + bias2)\\n   - \\n    ((texture (sampler_blur2, (uv - vec2(0.0, 0.02))).xyz * scale2) + bias2)\\n  ).y * 1024.0) * texsize.w);\\n  ret_2.y = texture (sampler_pc_main, (uv - (tmpvar_3 * 0.004))).y;\\n  ret_2.y = (ret_2.y + ((\\n    ((ret_2.y - ((texture (sampler_blur1, uv).xyz * scale1) + bias1).y) - 0.1)\\n   * 0.1) + 0.02));\\n  ret_2.z = (texture (sampler_fc_main, (0.5 + (\\n    (uv - 0.5)\\n   * 0.992))).z - 0.004);\\n  conway_1 = (texture (sampler_pw_main, (uv_orig - texsize.zw)).x + texture (sampler_pw_main, (uv_orig + (vec2(0.0, -1.0) * texsize.zw))).x);\\n  conway_1 = (conway_1 + texture (sampler_pw_main, (uv_orig + (vec2(1.0, -1.0) * texsize.zw))).x);\\n  conway_1 = (conway_1 + texture (sampler_pw_main, (uv_orig + (vec2(-1.0, 0.0) * texsize.zw))).x);\\n  conway_1 = (conway_1 + texture (sampler_pw_main, (uv_orig + (vec2(1.0, 0.0) * texsize.zw))).x);\\n  conway_1 = (conway_1 + texture (sampler_pw_main, (uv_orig + (vec2(-1.0, 1.0) * texsize.zw))).x);\\n  conway_1 = (conway_1 + texture (sampler_pw_main, (uv_orig + (vec2(0.0, 1.0) * texsize.zw))).x);\\n  conway_1 = (conway_1 + texture (sampler_pw_main, (uv_orig + texsize.zw)).x);\\n  conway_1 = (conway_1 - fract(conway_1));\\n  float tmpvar_4;\\n  tmpvar_4 = clamp (texture (sampler_pc_main, uv_orig).x, 0.0, 1.0);\\n  ret_2.x = (clamp ((1.0 - \\n    abs((conway_1 - 3.0))\\n  ), 0.0, 1.0) * (1.0 - tmpvar_4));\\n  ret_2.x = (ret_2.x + (clamp (\\n    max ((1.0 - abs((conway_1 - 2.0))), (1.0 - abs((conway_1 - 3.0))))\\n  , 0.0, 1.0) * tmpvar_4));\\n  vec4 tmpvar_5;\\n  tmpvar_5.w = 1.0;\\n  tmpvar_5.xyz = ret_2;\\n  ret = tmpvar_5.xyz;\\n }","comp":" shader_body { \\n  vec2 moebius_1;\\n  vec3 ret_2;\\n  vec2 tmpvar_3;\\n  tmpvar_3.x = q11;\\n  tmpvar_3.y = q12;\\n  vec2 tmpvar_4;\\n  tmpvar_4.x = q17;\\n  tmpvar_4.y = q18;\\n  vec2 tmpvar_5;\\n  vec2 tmpvar_6;\\n  tmpvar_6 = (uv - 0.5);\\n  tmpvar_5 = (tmpvar_6 * aspect.xy);\\n  vec2 tmpvar_7;\\n  tmpvar_7.x = ((tmpvar_5.x * q15) - (tmpvar_5.y * q16));\\n  tmpvar_7.y = ((tmpvar_5.x * q16) - (tmpvar_5.y * q15));\\n  vec2 tmpvar_8;\\n  tmpvar_8 = (tmpvar_7 + tmpvar_4);\\n  vec2 tmpvar_9;\\n  tmpvar_9.x = ((q13 * tmpvar_8.x) + (q14 * tmpvar_8.y));\\n  tmpvar_9.y = ((q14 * tmpvar_8.x) - (q13 * tmpvar_8.y));\\n  moebius_1 = (((tmpvar_9 / \\n    ((tmpvar_8.x * tmpvar_8.x) + (tmpvar_8.y * tmpvar_8.y))\\n  ) + tmpvar_3) * 0.5);\\n  float tmpvar_10;\\n  tmpvar_10 = sqrt(dot (moebius_1, moebius_1));\\n  moebius_1 = (0.5 + ((\\n    (1.0 - abs(((\\n      fract((moebius_1 * 0.5))\\n     * 2.0) - 1.0)))\\n   - 0.5) * 0.99));\\n  vec3 tmpvar_11;\\n  tmpvar_11 = mix (mix (mix (\\n    mix (mix ((mix (ret_2, vec3(0.2, 0.6, 1.0), vec3(\\n      (texture (sampler_pc_main, moebius_1).y * 2.0)\\n    )) * (vec3(1.0, 1.0, 1.0) - vec3(\\n      ((((texture (sampler_blur1, \\n        (0.5 + (tmpvar_6 * 0.5))\\n      ).xyz * scale1) + bias1).y * 2.0) * tmpvar_10)\\n    ))), vec3(1.0, 1.0, 1.0), texture (sampler_pc_main, moebius_1).xxx), vec3(4.0, 1.0, 0.0), vec3(clamp (((texture (sampler_pc_main, \\n      (0.5 + (tmpvar_6 * 0.2))\\n    ).y * 2.0) * (\\n      (tmpvar_10 * tmpvar_10)\\n     * tmpvar_10)), 0.0, 1.0)))\\n  , vec3(0.1, 0.0, 0.0), vec3(\\n    clamp ((((texture (sampler_blur1, \\n      (0.5 + (tmpvar_6 * 0.2))\\n    ).xyz * scale1) + bias1).x * 12.0), 0.0, 1.0)\\n  )), (vec3(0.5, 0.8, 1.0) * texture (sampler_pc_main, uv).z), vec3((\\n    clamp ((((texture (sampler_blur1, \\n      (0.5 + (tmpvar_6 * 0.2))\\n    ).xyz * scale1) + bias1).x * 4.0), 0.0, 1.0)\\n   * 1.4))), vec3(1.0, 1.0, 1.0), texture (sampler_pc_main, (0.5 + (tmpvar_6 * 0.2))).xxx);\\n  ret_2 = tmpvar_11;\\n  vec4 tmpvar_12;\\n  tmpvar_12.w = 1.0;\\n  tmpvar_12.xyz = tmpvar_11;\\n  ret = tmpvar_12.xyz;\\n }"}') }, "./presets/converted/gunthry is out back bloodying up the pine trees - adm atomising (v) the disintigrate (n).json": e => { e.exports = JSON.parse('{"version":2,"baseVals":{"rating":1,"gammaadj":1.7,"decay":1,"echo_zoom":1.002,"echo_orient":1,"wave_mode":7,"additivewave":1,"modwavealphabyvolume":1,"wave_brighten":0,"wrap":0,"darken":1,"wave_a":0.001,"wave_scale":1.157,"wave_smoothing":0.63,"modwavealphastart":0.71,"modwavealphaend":1.3,"fshader":1,"dx":0.00001,"dy":0.00001,"warp":0.01,"wave_r":0.65,"wave_g":0.65,"wave_b":0.65,"ob_size":0.005,"ob_a":0.2,"ib_size":0.005,"ib_r":0,"ib_g":0,"ib_b":0,"mv_x":64,"mv_y":48,"mv_l":0,"mv_a":0},"shapes":[{"baseVals":{"enabled":1,"sides":14,"num_inst":512,"rad":0.1026,"tex_ang":0.62832,"r2":1,"g2":0,"a2":1,"border_a":0},"init_eqs_eel":"","frame_eqs_eel":"ma=ma+(above(bass,1)*3.1415*.01*bass);\\nma=ma-(above(treb,1)*3.1415*.01*treb);\\n\\nmx=mx+(.0002*cos(ma));\\nmy=my+(.0002*sin(ma));\\n\\nmx=if(above(mx,.9),(.9-mx),mx);\\nmy=if(above(my,.9),(.9-my),my);\\nmx=if(below(mx,.1),(.9+mx),mx);\\nmy=if(below(my,.1),(.9+my),my);\\n\\nx=mx;\\ny=my;\\nrad=(bass+treb)/100;\\na=(above(bass+mid+treb,.8));\\nr=int(rand(100))/100;\\ng=int(rand(100))/100;\\nb=int(rand(100))/100;\\nr2=int(rand(100))/100;\\ng2=int(rand(100))/100;\\nb2=int(rand(100))/100;\\nr_border=int(rand(100))/100;\\ng_border=int(rand(100))/100;\\nb_border=int(rand(100))/100;"},{"baseVals":{"enabled":1,"sides":23,"num_inst":1024,"rad":0.10262,"ang":0.43982,"tex_ang":0.62832,"a":0.5,"r2":1,"g2":0,"a2":0.5,"border_a":0},"init_eqs_eel":"","frame_eqs_eel":"ma=ma+(above(bass,1)*3.1415*.05*bass);\\nma=ma-(above(mid,1)*3.1415*.05*mid);\\n\\nmx=mx+(.0001*cos(ma));\\nmy=my+(.0001*sin(ma));\\n\\nmx=if(above(mx,.9),(.9-mx),mx);\\nmy=if(above(my,.9),(.9-my),my);\\nmx=if(below(mx,.1),(.9+mx),mx);\\nmy=if(below(my,.1),(.9+my),my);\\n\\nx=mx;\\ny=my;\\nrad=(bass+treb)/75;\\na=(above(bass+mid+treb,.1));\\nr=int(rand(100))/100;\\ng=int(rand(100))/100;\\nb=int(rand(100))/100;\\nr2=int(rand(100))/100;\\ng2=int(rand(100))/100;\\nb2=int(rand(100))/100;\\nr_border=int(rand(100))/100;\\ng_border=int(rand(100))/100;\\nb_border=int(rand(100))/100;"},{"baseVals":{"sides":14,"additive":1,"num_inst":256,"rad":0.20269,"tex_ang":0.62832,"r2":1,"g2":0,"a2":1,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"ma=ma+(above(mid,1)*3.1415*.01*mid);\\nma=ma-(above(treb,1)*3.1415*.01*treb);\\n\\nmx=mx+(.0004*cos(ma));\\nmy=my+(.0004*sin(ma));\\n\\nmx=if(above(mx,.9),(.9-mx),mx);\\nmy=if(above(my,.9),(.9-my),my);\\nmx=if(below(mx,.1),(.9+mx),mx);\\nmy=if(below(my,.1),(.9+my),my);\\n\\nx=mx;\\ny=my;\\n\\na=(above(bass+mid+treb,.3));"},{"baseVals":{"sides":14,"additive":1,"num_inst":256,"rad":0.22389,"tex_ang":0.62832,"r2":1,"g2":0,"a2":1,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"ma=ma+(above(bass,.5)*3.1415*.02*bass);\\nma=ma-(above(treb,.5)*3.1415*.02*treb);\\n\\nmx=mx+(.0008*cos(ma));\\nmy=my+(.0008*sin(ma));\\n\\nmx=if(above(mx,.9),(.9-mx),mx);\\nmy=if(above(my,.9),(.9-my),my);\\nmx=if(below(mx,.1),(.9+mx),mx);\\nmy=if(below(my,.1),(.9+my),my);\\n\\nx=mx;\\ny=my;\\n\\na=(above(bass+mid+treb,.2));"}],"waves":[{"baseVals":{"thick":1,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":"ma=ma+(above(bass,1)*3.1415*.01*bass);\\nma=ma-(above(treb,1)*3.1415*.01*treb);\\n\\nmx=mx+(.0002*cos(ma));\\nmy=my+(.0002*sin(ma));\\n\\nmx=if(above(mx,.9),(.9-mx),mx);\\nmy=if(above(my,.9),(.9-my),my);\\nmx=if(below(mx,.1),(.9+mx),mx);\\nmy=if(below(my,.1),(.9+my),my);\\n\\nx=mx;\\ny=my;\\n\\na=(above(bass+mid+treb,.8));"},{"baseVals":{"thick":1,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":"ma=ma+(above(bass,1)*3.1415*.05*bass);\\nma=ma-(above(mid,1)*3.1415*.05*mid);\\n\\nmx=mx+(.0001*cos(ma));\\nmy=my+(.0001*sin(ma));\\n\\nmx=if(above(mx,.9),(.9-mx),mx);\\nmy=if(above(my,.9),(.9-my),my);\\nmx=if(below(mx,.1),(.9+mx),mx);\\nmy=if(below(my,.1),(.9+my),my);\\n\\nx=mx;\\ny=my;\\n\\na=(above(bass+mid+treb,.1));"},{"baseVals":{"thick":1,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":"ma=ma+(above(mid,1)*3.1415*.01*mid);\\nma=ma-(above(treb,1)*3.1415*.01*treb);\\n\\nmx=mx+(.0004*cos(ma));\\nmy=my+(.0004*sin(ma));\\n\\nmx=if(above(mx,.9),(.9-mx),mx);\\nmy=if(above(my,.9),(.9-my),my);\\nmx=if(below(mx,.1),(.9+mx),mx);\\nmy=if(below(my,.1),(.9+my),my);\\n\\nx=mx;\\ny=my;\\n\\na=(above(bass+mid+treb,.3));"},{"baseVals":{"thick":1,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":"ma=ma+(above(bass,.5)*3.1415*.02*bass);\\nma=ma-(above(treb,.5)*3.1415*.02*treb);\\n\\nmx=mx+(.0008*cos(ma));\\nmy=my+(.0008*sin(ma));\\n\\nmx=if(above(mx,.9),(.9-mx),mx);\\nmy=if(above(my,.9),(.9-my),my);\\nmx=if(below(mx,.1),(.9+mx),mx);\\nmy=if(below(my,.1),(.9+my),my);\\n\\nx=mx;\\ny=my;\\n\\na=(above(bass+mid+treb,.2));"}],"init_eqs_eel":"","frame_eqs_eel":"bass_tick = above(bass_att,bass_tick)*2 + (1-above(bass_att,bass_tick))*\\n((bass_tick-1.3)*0.96+1.3);\\ntreb_tick = above(treb_att,treb_tick)*2 + (1-above(treb_att,treb_tick))*\\n((treb_tick-1.3)*0.96+1.3);\\nmid_tick = above(mid_att,mid_tick)*2 + (1-above(mid_att,mid_tick))*\\n((mid_tick-1.3)*0.96+1.3);\\nbass_shift = equal(bass_tick,2)*0.95*sin(time*5) + (1-equal(bass_tick,2))*bass_shift;\\ntreb_shift = equal(treb_tick,2)*0.95*sin(time*5) + (1-equal(treb_tick,2))*treb_shift;\\nmid_shift = equal(mid_tick,2)*0.95*sin(time*5) + (1-equal(mid_tick,2))*mid_shift;\\n\\n//wave_x = wave_x + 0.12*sin(time);\\n//wave_y =wave_y + 0.12*cos(time);\\nwave_r = wave_r + bass_shift;\\nwave_g = wave_g + mid_shift;\\nwave_b = wave_b + treb_shift;\\nq1 = bass_shift;\\nq2= mid_shift;\\nq3 = treb_shift;\\nzoom = zoom + abs(0.05*(treb/2*cos(bass_att*treb_shift)*bass_shift));\\nq4=sin(time);\\nq5=tan(time);","pixel_eqs_eel":"thresh = above(bass_att,thresh)*2+(1-above(bass_att,thresh))*((thresh-1.3)*0.96+1.3);\\ndx_r = equal(thresh,2)*0.015*sin(5*time)+(1-equal(thresh,2))*dx_r;\\ndy_r = equal(thresh,2)*0.015*sin(6*time)+(1-equal(thresh,2))*dy_r;\\n\\nrot = rot - 0.25*abs(((bass_att*q3)+0.55*q1)*(0.5*sin(time)-cos(0.5-2*(2.5*rad))));\\nrot = rot - 0.5*if (above(bass_att,((q1*q2*q3)/3)),(sin(12*rad))*(6.5*rad)*2*dy-r,dx_r);\\nzoom = zoom + equal(zoom,0)*dy_r;\\nrot = rot + 0.25*(q1/6+(q2*q1));\\ncx = cx - 0.25*(cos(time)-0.5*sin(time*1.2));\\ncy = cy - 0.25*(sin(time)+0.5*cos(1.22*time));\\ndx = dx + dx_r;\\ndy = dy + dy_r;","warp":" shader_body { \\n  vec2 uv_1;\\n  vec3 ret_2;\\n  ret_2 = ((1.25 * (\\n    (texture (sampler_blur3, uv).xyz * scale3)\\n   + bias3)) - (0.25 * (\\n    (texture (sampler_blur1, uv).xyz * scale1)\\n   + bias1)));\\n  vec3 theta_3;\\n  theta_3 = (1.33 * ((texture (sampler_blur1, \\n    clamp (ret_2.xy, 0.0, 1.0)\\n  ).xyz * scale1) + bias1));\\n  uv_1 = (uv * (1.0 + (0.15 * \\n    (sin(theta_3) / cos(theta_3))\\n  )).xy);\\n  vec3 theta_4;\\n  theta_4 = (1.33 * ((texture (sampler_blur1, \\n    clamp (ret_2.xy, 0.0, 1.0)\\n  ).xyz * scale1) + bias1));\\n  uv_1 = (uv_1 - (0.075 * (\\n    sin(theta_4)\\n   / \\n    cos(theta_4)\\n  )).xy);\\n  float tmpvar_5;\\n  tmpvar_5 = dot (texsize.zw, texsize.zw);\\n  ret_2 = (max (max (texture (sampler_main, uv_1).xyz, texture (sampler_main, \\n    (((uv_1 - 0.5) * (1.0 - (8.0 * \\n      sqrt(tmpvar_5)\\n    ))) + 0.5)\\n  ).xyz), texture (sampler_main, (\\n    ((uv_1 - 0.5) * (1.0 + (8.0 * sqrt(tmpvar_5))))\\n   + 0.5)).xyz) - 0.024);\\n  vec4 tmpvar_6;\\n  tmpvar_6.w = 1.0;\\n  tmpvar_6.xyz = ret_2;\\n  ret = tmpvar_6.xyz;\\n }","comp":" shader_body { \\n  vec2 uv_1;\\n  vec3 ret3_2;\\n  vec3 ret_3;\\n  vec2 tmpvar_4;\\n  tmpvar_4 = (((uv - 0.5) * vec2(-1.0, 1.0)) + 0.5);\\n  vec3 tmpvar_5;\\n  tmpvar_5 = abs(((texture (sampler_main, uv).xyz * \\n    clamp ((((\\n      (texture (sampler_blur2, uv).xyz * scale2)\\n     + bias2) * 2.8) - 0.13), 0.0, 1.0)\\n  ) - (texture (sampler_main, tmpvar_4).xyz * \\n    clamp ((((\\n      (texture (sampler_blur2, tmpvar_4).xyz * scale2)\\n     + bias2) * 2.8) - 0.13), 0.0, 1.0)\\n  )));\\n  ret3_2 = (tmpvar_5 * sqrt(tmpvar_5));\\n  ret3_2 = (ret3_2 * vec3(0.9, 1.6, 2.3));\\n  ret3_2 = (ret3_2 * 3.0);\\n  vec3 tmpvar_6;\\n  tmpvar_6 = pow (ret3_2, (1.0 - ret3_2));\\n  ret3_2 = tmpvar_6;\\n  uv_1 = (uv * 2.0);\\n  vec2 tmpvar_7;\\n  tmpvar_7 = floor((fract(\\n    (uv_1 * 0.5)\\n  ) * 2.0));\\n  uv_1 = ((fract(uv_1) * (1.0 - tmpvar_7)) + (tmpvar_7 * fract(\\n    (1.0 - uv_1)\\n  )));\\n  vec2 tmpvar_8;\\n  tmpvar_8.x = rad;\\n  tmpvar_8.y = uv_1.y;\\n  uv_1 = tmpvar_8;\\n  vec2 tmpvar_9;\\n  tmpvar_9 = ((0.5 - tmpvar_8.yx) + 0.5);\\n  ret_3 = (texture (sampler_main, tmpvar_8.yx).xyz * clamp ((\\n    (((texture (sampler_blur2, tmpvar_8.yx).xyz * scale2) + bias2) * 2.8)\\n   - 0.13), 0.0, 1.0));\\n  vec3 tmpvar_10;\\n  tmpvar_10 = mix (ret_3, (texture (sampler_main, tmpvar_9).xyz * clamp (\\n    ((((texture (sampler_blur2, tmpvar_9).xyz * scale2) + bias2) * 2.8) - 0.13)\\n  , 0.0, 1.0)), vec3(0.5, 0.5, 0.5));\\n  ret_3 = (tmpvar_10 * tmpvar_10);\\n  ret_3 = (ret_3 * vec3(0.9, 1.6, 2.3));\\n  ret_3 = (ret_3 * 3.0);\\n  vec3 tmpvar_11;\\n  tmpvar_11 = max (tmpvar_6, (0.8 * vec3((0.5 * \\n    dot (ret_3, vec3(0.32, 0.49, 0.29))\\n  ))));\\n  ret_3 = tmpvar_11;\\n  vec4 tmpvar_12;\\n  tmpvar_12.w = 1.0;\\n  tmpvar_12.xyz = tmpvar_11;\\n  ret = tmpvar_12.xyz;\\n }"}') }, "./presets/converted/high-altitude basket unraveling - singh grooves nitrogen argon nz+.json": e => { e.exports = JSON.parse('{"version":2,"baseVals":{"rating":4,"gammaadj":1,"decay":0.995,"echo_zoom":1,"echo_alpha":0.5,"echo_orient":1,"wave_mode":6,"additivewave":1,"wave_thick":1,"modwavealphabyvolume":1,"wave_brighten":0,"wrap":0,"wave_a":0.001,"wave_scale":2.103,"wave_smoothing":0.54,"wave_mystery":0.38,"modwavealphastart":0.81,"modwavealphaend":1.4,"warpscale":1.331,"warp":0.01,"wave_r":0,"wave_g":0,"wave_b":0,"ob_size":0.005,"ob_a":1,"ib_size":0.005,"ib_a":1,"mv_x":64,"mv_y":48,"mv_l":1.85,"mv_r":0.5,"mv_g":0.5,"mv_b":0.5,"mv_a":0},"shapes":[{"baseVals":{"sides":64,"thickoutline":1,"textured":1,"rad":0.53526,"tex_zoom":1.35028,"g":1,"b":1,"a":0.4,"r2":1,"b2":1,"a2":0.5,"border_b":0,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"enabled":1,"sides":14,"num_inst":78,"x":0.6,"rad":0.02217,"tex_zoom":60.80383,"g":1,"b":1,"a":0.9,"g2":0,"a2":1,"border_g":0.59,"border_a":1},"init_eqs_eel":"t1 = int(rand(10))/10;\\nt2 = .2 + int(rand(8))/10;","frame_eqs_eel":"speed = .02;\\ntrel = int(time*speed)- time*speed+1;\\nk1 = instance/num_inst; \\nk1 = k1 - int(k1);\\ndist = 1.4-k1; //################# soll 1 sein\\n//dist = dist - int(dist);\\n\\n\\nfov = .1;\\narg = dist-.02*time;\\nposx = fov/dist * (sin(arg*13) + .2*sin(dist*332));\\nposy = fov/dist * (cos(arg*36)+ .2*sin(dist*332));\\n\\nxl = .5 + posx;\\nyl = .5 + posy;\\n\\ntime2 = time/4 + cos(instance) ;\\nxw = .5 + .5 * (sin(arg*14) + .02*cos(arg*1131)) ;\\nyw = time2 - int(time2);\\n\\nx = if(bnot(q19),xl,xw);\\ny = if(bnot(q19),yl,yw);\\n\\nang = time * sin(k1*44)*12;\\na = t1; border_a = 0; a2 = t2;\\nrad = .01/dist;\\n\\nr = .5 + .3* sin(instance+arg); \\nb = .5 + .3* sin(instance-2+arg); \\ng = .5 + .3* sin(instance*2+arg);\\n\\n"},{"baseVals":{"sides":63,"x":0.503,"y":0.67,"rad":0.05033,"tex_zoom":0.49981,"r":0,"g":1,"b":1,"g2":0,"a2":1,"border_r":0.5,"border_g":0.5,"border_b":0.5,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"y":0.51,"rad":0.19869,"tex_ang":1.00531,"tex_zoom":0.49981,"g":0.4,"a":0.7,"r2":1,"b2":1,"border_r":0.5,"border_g":0.5,"border_b":0.5,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""}],"waves":[{"baseVals":{"samples":128,"thick":1,"additive":1,"scaling":0.89152,"smoothing":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"samples":100,"usedots":1,"thick":1,"scaling":0.89152,"smoothing":0,"a":0.1,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"thick":1,"scaling":0.89152,"smoothing":0.82,"a":0.1,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"spectrum":1,"usedots":1,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""}],"init_eqs_eel":"q8=0;","frame_eqs_eel":"chng=sin(time*.5);\\ncthr=.9999;\\nmq21=if(above(chng,cthr),rand(3),mq21);\\nmq22=if(above(chng,cthr),rand(3),mq22);\\nmq23=if(above(chng,cthr),rand(3),mq23);\\nmq24=if(above(chng,cthr),rand(2),mq24);\\nmq25=if(above(chng,cthr),rand(2),mq25);\\nmq26=if(above(chng,cthr),rand(2),mq26);\\nmq27=if(above(chng,cthr),rand(1),mq27);\\nmq28=if(above(chng,cthr),rand(1),mq28);\\nmq29=if(above(chng,cthr),rand(1)*.3,mq29);\\nmq31=if(above(chng,cthr),rand(1)*.3,mq31);\\nmonitor=chng;\\nq21=mq21;q22=mq22;q23=mq23;q24=mq24;q25=mq25;q26=mq26;\\nq27=mq27;q28=mq28;q29=mq29;q31=mq31;\\n\\nmonitor=mq1;\\nvol=bass+treb+mid;\\natime=atime+vol;\\nq11=.4+sin(atime*.006        )*.4;\\nq12=.4+cos(atime*.00613828348)*.4;\\nq13=.4+sin(atime*.00598593455)*.4;\\nmonitor=q13;\\n\\nwarp=0;\\nq8 =oldq8+ 0.0003*(pow(1+1.2*bass+0.4*bass_att+0.1*treb+0.1*treb_att+0.1*mid+0.1*mid_att,6)/fps);\\noldq8 = q8;\\nwave_r = 0.5+0.5*sin(1.123*q8);\\nwave_g = 0.5+0.5*sin(q8*1.576);\\nwave_b = 0.5+0.5*cos(q8*1.465);\\nib_a =0.2*bass;","pixel_eqs_eel":"dx=dx+0.008*sin((y*2-1)*meshx)+0.008*sin((y*2-1)*meshx*1.3333);\\ndy=dy+0.008*cos((x*2-1)*meshx*1.3333)+0.008*cos((x*2-1)*meshx);","warp":" shader_body { \\n  vec3 ret_1;\\n  vec4 tmpvar_2;\\n  tmpvar_2 = texture (sampler_main, uv);\\n  ret_1 = tmpvar_2.xyz;\\n  vec4 tmpvar_3;\\n  tmpvar_3 = texture (sampler_noisevol_hq, (((vec3(0.05, 0.05, 0.0) * uv.xyy) * (\\n    (q27 * texsize.xyy)\\n   * texsize_noisevol_hq.zww)) + ((time * vec3(0.0, 0.0, 1.0)) * q29)));\\n  if (((tmpvar_2.x > (q21 * q13)) && (tmpvar_2.x <= (q24 * q11)))) {\\n    ret_1.y = (tmpvar_2.y - (tmpvar_3.x * 0.5));\\n  };\\n  if (((ret_1.y > (q22 * q11)) && (ret_1.y <= (q25 * q12)))) {\\n    ret_1.z = (tmpvar_2.z - (tmpvar_3.y * 0.5));\\n  };\\n  if (((ret_1.z > (q23 * q12)) && (ret_1.z <= (q26 * q13)))) {\\n    ret_1.x = (tmpvar_2.x - (tmpvar_3.z * 0.5));\\n  };\\n  ret_1 = (ret_1 + ((ret_1 - \\n    ((texture (sampler_blur1, uv).xyz * scale1) + bias1)\\n  ) * 0.2));\\n  ret_1 = (ret_1 - 0.02);\\n  vec4 tmpvar_4;\\n  tmpvar_4.w = 1.0;\\n  tmpvar_4.xyz = ret_1;\\n  ret = tmpvar_4.xyz;\\n }","comp":" shader_body { \\n  vec2 uv_1;\\n  vec3 ret_2;\\n  uv_1 = (0.05 + (0.9 * uv));\\n  vec4 tmpvar_3;\\n  tmpvar_3 = texture (sampler_main, uv_1);\\n  ret_2 = tmpvar_3.xyz;\\n  vec4 tmpvar_4;\\n  tmpvar_4 = texture (sampler_noisevol_hq, (((vec3(0.05, 0.05, 0.0) * uv_1.xyy) * (\\n    (q28 * texsize.xyy)\\n   * texsize_noisevol_hq.zww)) + ((time * vec3(0.0, 0.0, 1.0)) * q31)));\\n  if (((tmpvar_3.x > (q26 * q13)) && (tmpvar_3.x <= (q23 * q11)))) {\\n    ret_2.z = (tmpvar_3.z - (tmpvar_4.x * 0.5));\\n  };\\n  if (((tmpvar_3.y > (q25 * q11)) && (tmpvar_3.y <= (q22 * q12)))) {\\n    ret_2.x = (tmpvar_3.x - (tmpvar_4.y * 0.5));\\n  };\\n  if (((ret_2.z > (q24 * q12)) && (ret_2.z <= (q21 * q13)))) {\\n    ret_2.y = (tmpvar_3.y - (tmpvar_4.z * 0.5));\\n  };\\n  ret_2 = (abs((\\n    ((texture (sampler_blur1, uv_1).xyz * scale1) + bias1)\\n   - ret_2)) * 6.0);\\n  ret_2 = (ret_2 * 1.333);\\n  vec4 tmpvar_5;\\n  tmpvar_5.w = 1.0;\\n  tmpvar_5.xyz = ret_2;\\n  ret = tmpvar_5.xyz;\\n }"}') }, "./presets/converted/martin + flexi - diamond cutter [prismaticvortex.com] - camille - i wish i wish i wish i was constrained.json": e => { e.exports = JSON.parse('{"version":2,"baseVals":{"rating":4,"gammaadj":1.98,"decay":0.5,"echo_zoom":1,"echo_alpha":0.5,"echo_orient":3,"wave_mode":7,"additivewave":1,"modwavealphabyvolume":1,"wave_brighten":0,"darken":1,"wave_a":0.001,"wave_scale":1.157,"wave_smoothing":0.63,"modwavealphastart":0.71,"modwavealphaend":1.3,"warpscale":1.331,"zoom":0.9995,"warp":0.009,"wave_r":0.65,"wave_g":0.65,"wave_b":0.65,"ob_size":0.5,"ob_r":0.01,"ib_size":0.26,"mv_x":64,"mv_y":48,"mv_l":0,"mv_a":0,"b1x":0.7,"b1ed":0},"shapes":[{"baseVals":{"enabled":1,"sides":14,"num_inst":512,"rad":0.1026,"tex_ang":0.62832,"r2":1,"g2":0,"a2":1,"border_a":0},"init_eqs_eel":"","frame_eqs_eel":"ma=ma+(above(bass,1)*3.1415*.01*bass);\\nma=ma-(above(treb,1)*3.1415*.01*treb);\\n\\nmx=mx+(.0002*cos(ma));\\nmy=my+(.0002*sin(ma));\\n\\nmx=if(above(mx,.9),(.9-mx),mx);\\nmy=if(above(my,.9),(.9-my),my);\\nmx=if(below(mx,.1),(.9+mx),mx);\\nmy=if(below(my,.1),(.9+my),my);\\n\\nx=mx;\\ny=my;\\nrad=(bass+treb)/100;\\na=(above(bass+mid+treb,.8));\\nr=int(rand(100))/100;\\ng=int(rand(100))/100;\\nb=int(rand(100))/100;\\nr2=int(rand(100))/100;\\ng2=int(rand(100))/100;\\nb2=int(rand(100))/100;\\nr_border=int(rand(100))/100;\\ng_border=int(rand(100))/100;\\nb_border=int(rand(100))/100;"},{"baseVals":{"enabled":1,"sides":23,"num_inst":1024,"rad":0.10262,"ang":0.43982,"tex_ang":0.62832,"a":0.5,"r2":1,"g2":0,"a2":0.5,"border_a":0},"init_eqs_eel":"","frame_eqs_eel":"ma=ma+(above(bass,1)*3.1415*.05*bass);\\nma=ma-(above(mid,1)*3.1415*.05*mid);\\n\\nmx=mx+(.0001*cos(ma));\\nmy=my+(.0001*sin(ma));\\n\\nmx=if(above(mx,.9),(.9-mx),mx);\\nmy=if(above(my,.9),(.9-my),my);\\nmx=if(below(mx,.1),(.9+mx),mx);\\nmy=if(below(my,.1),(.9+my),my);\\n\\nx=mx;\\ny=my;\\nrad=(bass+treb)/75;\\na=(above(bass+mid+treb,.1));\\nr=int(rand(100))/100;\\ng=int(rand(100))/100;\\nb=int(rand(100))/100;\\nr2=int(rand(100))/100;\\ng2=int(rand(100))/100;\\nb2=int(rand(100))/100;\\nr_border=int(rand(100))/100;\\ng_border=int(rand(100))/100;\\nb_border=int(rand(100))/100;"},{"baseVals":{"sides":14,"additive":1,"num_inst":256,"rad":0.20269,"tex_ang":0.62832,"r2":1,"g2":0,"a2":1,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"ma=ma+(above(mid,1)*3.1415*.01*mid);\\nma=ma-(above(treb,1)*3.1415*.01*treb);\\n\\nmx=mx+(.0004*cos(ma));\\nmy=my+(.0004*sin(ma));\\n\\nmx=if(above(mx,.9),(.9-mx),mx);\\nmy=if(above(my,.9),(.9-my),my);\\nmx=if(below(mx,.1),(.9+mx),mx);\\nmy=if(below(my,.1),(.9+my),my);\\n\\nx=mx;\\ny=my;\\n\\na=(above(bass+mid+treb,.3));"},{"baseVals":{"sides":14,"additive":1,"num_inst":256,"rad":0.22389,"tex_ang":0.62832,"r2":1,"g2":0,"a2":1,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"ma=ma+(above(bass,.5)*3.1415*.02*bass);\\nma=ma-(above(treb,.5)*3.1415*.02*treb);\\n\\nmx=mx+(.0008*cos(ma));\\nmy=my+(.0008*sin(ma));\\n\\nmx=if(above(mx,.9),(.9-mx),mx);\\nmy=if(above(my,.9),(.9-my),my);\\nmx=if(below(mx,.1),(.9+mx),mx);\\nmy=if(below(my,.1),(.9+my),my);\\n\\nx=mx;\\ny=my;\\n\\na=(above(bass+mid+treb,.2));"}],"waves":[{"baseVals":{"thick":1,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":"ma=ma+(above(bass,1)*3.1415*.01*bass);\\nma=ma-(above(treb,1)*3.1415*.01*treb);\\n\\nmx=mx+(.0002*cos(ma));\\nmy=my+(.0002*sin(ma));\\n\\nmx=if(above(mx,.9),(.9-mx),mx);\\nmy=if(above(my,.9),(.9-my),my);\\nmx=if(below(mx,.1),(.9+mx),mx);\\nmy=if(below(my,.1),(.9+my),my);\\n\\nx=mx;\\ny=my;\\n\\na=(above(bass+mid+treb,.8));"},{"baseVals":{"thick":1,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":"ma=ma+(above(bass,1)*3.1415*.05*bass);\\nma=ma-(above(mid,1)*3.1415*.05*mid);\\n\\nmx=mx+(.0001*cos(ma));\\nmy=my+(.0001*sin(ma));\\n\\nmx=if(above(mx,.9),(.9-mx),mx);\\nmy=if(above(my,.9),(.9-my),my);\\nmx=if(below(mx,.1),(.9+mx),mx);\\nmy=if(below(my,.1),(.9+my),my);\\n\\nx=mx;\\ny=my;\\n\\na=(above(bass+mid+treb,.1));"},{"baseVals":{"thick":1,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":"ma=ma+(above(mid,1)*3.1415*.01*mid);\\nma=ma-(above(treb,1)*3.1415*.01*treb);\\n\\nmx=mx+(.0004*cos(ma));\\nmy=my+(.0004*sin(ma));\\n\\nmx=if(above(mx,.9),(.9-mx),mx);\\nmy=if(above(my,.9),(.9-my),my);\\nmx=if(below(mx,.1),(.9+mx),mx);\\nmy=if(below(my,.1),(.9+my),my);\\n\\nx=mx;\\ny=my;\\n\\na=(above(bass+mid+treb,.3));"},{"baseVals":{"thick":1,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":"ma=ma+(above(bass,.5)*3.1415*.02*bass);\\nma=ma-(above(treb,.5)*3.1415*.02*treb);\\n\\nmx=mx+(.0008*cos(ma));\\nmy=my+(.0008*sin(ma));\\n\\nmx=if(above(mx,.9),(.9-mx),mx);\\nmy=if(above(my,.9),(.9-my),my);\\nmx=if(below(mx,.1),(.9+mx),mx);\\nmy=if(below(my,.1),(.9+my),my);\\n\\nx=mx;\\ny=my;\\n\\na=(above(bass+mid+treb,.2));"}],"init_eqs_eel":"x1 = 2;\\ny1= 2;\\nz1 = 2;","frame_eqs_eel":"// raytraced sphere code\\n\\nd = 20; // distance of the sphere, the farther you\'re away the more you\'ll see on the horizon\\nz = 4; // distance of the pane where the scene is projected on, wider distance = smaller apex angle of the camera, very small distances = fish eyes view\\n\\nzz = 1 + bass_att*0; // linear zoom\\n\\npi = asin(1)*2;\\npi2inv = 0.5/pi;\\nmaskangle = asin( 1/d);\\nq32 = maskangle; // hit = (cameras angle < mask_angle)\\nq31 = d;\\nq30 = z;\\nq29 = pi2inv;\\nq28 = pi;\\nq27 = 1/zz;\\n\\nv = 0.4;\\nj1 = j1*0.95 + sqr(bass*4)*v;\\nj2 = j2*0.95 + sqr(mid*4)*v;\\nj3 = j3*0.95 + sqr(treb*4)*v;\\n\\nn = n + j1*0.0152;\\nn1 = n1 + j2*0.0152;\\nn2 = n2 + j3*0.0152;\\n\\nvol=(bass+mid+treb)*0.25;\\nvol=vol;\\nq3=vol;\\nmtime = mtime+vol*0.01;\\nq1=mtime;\\n\\nzoom = zoom + 0.015*vol;\\n\\nw1 = n*0.01;    // solid angles to rotate the sphere in its origin\\nw2 = n1*0.01;\\nw3 = n2*0.01;\\n\\nq20 = cos(w1);\\nq21 = sin(w1);\\nq22 = cos(w2);\\nq23 = sin(w2);\\nq24 = cos(w3);\\nq25 = sin(w3);","pixel_eqs_eel":"","warp":" shader_body { \\n  vec2 tmpvar_1;\\n  tmpvar_1 = (((uv_orig * texsize.xy) * (texsize_noise_lq.zw * 1.5)) + rand_frame.xy);\\n  vec4 tmpvar_2;\\n  tmpvar_2.w = 1.0;\\n  tmpvar_2.xyz = ((texture (sampler_main, (\\n    mix (uv_orig, uv, vec2(((dot (texture (sampler_main, \\n      mix (uv_orig, uv, vec2(4.0, 4.0))\\n    ).xyz, vec3(0.32, 0.49, 0.29)) - dot (\\n      ((texture (sampler_blur2, mix (uv_orig, uv, vec2(-12.0, -12.0))).xyz * scale2) + bias2)\\n    , vec3(0.32, 0.49, 0.29))) * 12.0)))\\n   + \\n    (((texture (sampler_noise_lq, tmpvar_1) - 0.5).xy * texsize.zw) * 0.5)\\n  )).xyz + (\\n    (texture (sampler_noise_lq, tmpvar_1) - 0.5)\\n   * 0.006).xyz) + -0.0006);\\n  ret = tmpvar_2.xyz;\\n }","comp":" shader_body { \\n  vec2 uv_1;\\n  vec3 ret2_2;\\n  vec2 uv2_3;\\n  vec3 ret_4;\\n  uv2_3.y = uv.y;\\n  uv2_3.x = (1.0 - uv.x);\\n  uv2_3 = (0.5 + ((uv2_3 - 0.5) * 0.98));\\n  uv_1 = (0.5 + ((uv - 0.5) * 0.98));\\n  vec2 tmpvar_5;\\n  tmpvar_5 = (texsize.zw * 4.0);\\n  vec3 tmpvar_6;\\n  tmpvar_6 = (((texture (sampler_blur1, \\n    (uv_1 + (vec2(1.0, 0.0) * tmpvar_5))\\n  ).xyz * scale1) + bias1) - ((texture (sampler_blur1, \\n    (uv_1 - (vec2(1.0, 0.0) * tmpvar_5))\\n  ).xyz * scale1) + bias1));\\n  vec3 tmpvar_7;\\n  tmpvar_7 = (((texture (sampler_blur1, \\n    (uv_1 + (vec2(0.0, 1.0) * tmpvar_5))\\n  ).xyz * scale1) + bias1) - ((texture (sampler_blur1, \\n    (uv_1 - (vec2(0.0, 1.0) * tmpvar_5))\\n  ).xyz * scale1) + bias1));\\n  vec3 tmpvar_8;\\n  tmpvar_8.z = 0.0;\\n  tmpvar_8.x = dot (tmpvar_6, vec3(0.32, 0.49, 0.29));\\n  tmpvar_8.y = dot (tmpvar_7, vec3(0.32, 0.49, 0.29));\\n  vec4 tmpvar_9;\\n  tmpvar_9 = texture (sampler_noisevol_hq, ((vec3(0.05, 0.05, 0.0) * (\\n    ((uv_1.xyy + (tmpvar_8 * 0.5)) * texsize.xyy)\\n   * texsize_noisevol_hq.zww)) + (vec3(0.0, 0.0, 0.2) * time)));\\n  vec2 tmpvar_10;\\n  tmpvar_10.x = dot (tmpvar_6, vec3(0.32, 0.49, 0.29));\\n  tmpvar_10.y = dot (tmpvar_7, vec3(0.32, 0.49, 0.29));\\n  uv_1 = (uv_1 - (tmpvar_10 * 0.04));\\n  vec2 tmpvar_11;\\n  tmpvar_11.x = dot (((\\n    (texture (sampler_blur1, (uv2_3 + (vec2(1.0, 0.0) * tmpvar_5))).xyz * scale1)\\n   + bias1) - (\\n    (texture (sampler_blur1, (uv2_3 - (vec2(1.0, 0.0) * tmpvar_5))).xyz * scale1)\\n   + bias1)), vec3(0.32, 0.49, 0.29));\\n  tmpvar_11.y = dot (((\\n    (texture (sampler_blur1, (uv2_3 + (vec2(0.0, 1.0) * tmpvar_5))).xyz * scale1)\\n   + bias1) - (\\n    (texture (sampler_blur1, (uv2_3 - (vec2(0.0, 1.0) * tmpvar_5))).xyz * scale1)\\n   + bias1)), vec3(0.32, 0.49, 0.29));\\n  uv2_3 = (uv2_3 - (tmpvar_11 * 0.04));\\n  ret_4 = (abs((\\n    ((texture (sampler_main, uv_1).xyz + ((texture (sampler_blur1, uv_1).xyz * scale1) + bias1)) - ((texture (sampler_blur2, uv_1).xyz * scale2) + bias2))\\n   - \\n    ((texture (sampler_blur3, uv_1).xyz * scale3) + bias3)\\n  )) * (dot (tmpvar_9, vec4(0.32, 0.49, 0.29, 0.0)) * 3.0));\\n  ret2_2 = (abs((\\n    ((texture (sampler_main, uv2_3).xyz + ((texture (sampler_blur1, uv2_3).xyz * scale1) + bias1)) - ((texture (sampler_blur2, uv2_3).xyz * scale2) + bias2))\\n   - \\n    ((texture (sampler_blur3, uv2_3).xyz * scale3) + bias3)\\n  )) * (dot (tmpvar_9, vec4(0.32, 0.49, 0.29, 0.0)) * 3.0));\\n  ret2_2 = (0.5 - pow (ret2_2, vec3(0.5, 0.5, 0.5)));\\n  ret_4 = (pow (ret_4, vec3(0.5, 0.5, 0.5)) - (0.3 - ret2_2));\\n  vec4 tmpvar_12;\\n  tmpvar_12.w = 1.0;\\n  tmpvar_12.xyz = ret_4;\\n  ret = tmpvar_12.xyz;\\n }"}') }, "./presets/converted/martin - The Bridge of Khazad-Dum.json": e => { e.exports = JSON.parse('{"version":2,"baseVals":{"rating":4,"gammaadj":1.98,"decay":0.5,"echo_zoom":0.952,"echo_alpha":0.5,"echo_orient":3,"wave_mode":4,"additivewave":1,"wave_thick":1,"modwavealphabyvolume":1,"wave_brighten":0,"darken":1,"wave_a":0.001,"wave_scale":0.527,"wave_smoothing":0.45,"modwavealphastart":0,"modwavealphaend":1.32,"warpanimspeed":1.459,"warpscale":2.007,"zoom":0.9999,"warp":0.01,"sx":0.9999,"wave_r":0.8,"wave_g":0.49,"ob_size":0.015,"ob_b":1,"ib_size":0.26,"mv_x":64,"mv_y":48,"mv_l":1.85,"mv_r":0.5,"mv_g":0.5,"mv_b":0.5,"mv_a":0,"b1ed":0},"shapes":[{"baseVals":{"sides":33,"additive":1,"num_inst":81,"rad":0.04896,"tex_ang":1.00531,"tex_zoom":1.53117,"g":1,"b":1,"a":0,"g2":0,"border_b":0,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"\\ntrel = time/8;\\nk1 = instance/num_inst;\\nk2 = k1 + trel - int(k1+trel);\\n\\ny0 = k2+.01 ;\\n\\nxwidth = .1*(cos(6*k1)+3); //breite\\nxofs = .1*cos(k2*6+trel)*y0;\\nx = .5 + .4*xwidth*(.2+y0)*sin(k1*1383*xwidth) + xofs;\\n//xwidth in der letzten Klammer : Test\\n\\ny = y0;\\n\\nbright = 1-sqr(y0); \\na = max(bright,0); a2 = 0;\\nrad = .4*y0+.1 - .0*sin(k1*954);\\n\\nr = .0; g = 0; b = .0;\\nr2 = 0; g2 = 0; b2= .48; //## rot mit ampl. mod !\\nadditive = 1; ///sonst andere farben im warp-s gestoert"},{"baseVals":{"enabled":1,"sides":12,"additive":1,"num_inst":571,"x":0.26,"y":0.2,"rad":0.39317,"tex_zoom":0.9355,"g2":0,"a2":0.2,"border_g":0,"border_b":0,"border_a":0},"init_eqs_eel":"","frame_eqs_eel":"mov1 = q1;\\nRotMode = q3;\\nburst = q10;\\ncopies = q14;\\ncopy = (instance%copies)/copies;\\nk1 = int(instance/copies)*copies/num_inst;\\nk1 = int(k1*burst)/burst+k1/burst;\\n\\nmov1 = mov1 + k1 -copy*q2;//dt\\nmov1 = mov1 - int(mov1);\\n\\nRotMode = RotMode - copy*q4;\\nrota = mov1 * RotMode*q5*2 ;\\nmov1 = mov1*(1-RotMode) + RotMode*(.5+.025*k1);\\n\\nmov1 = pow(mov1,.9); //Schneller bei t=0;\\n\\nTht = sin(k1*k1*123.2)*(.2 + RotMode*.0);\\nPhi = k1*1613.3+rota;\\nv0 = (1.0 + .3*cos(k1*13234.7))*q5;\\n\\nz0 = q18/q5; //proximity\\n\\nt0 = .4;\\nspur = (mov1-t0) * above(mov1-t0,0)*q15 ;\\npy = spur*sin(copy*6.28);\\npx = spur*cos(copy*6.28);\\n\\nfov = z0*2; //kein vol hier, sonst y-skal daneben\\nox = (mov1-q19)*v0*sin(Tht) * cos(Phi); //### -.5 bis .5\\noy = mov1*v0*(1-mov1)*cos(2*Tht) -.25;\\noz = mov1*v0*sin(Tht)*sin(Phi); \\n\\nox = ox +  (k1-.5)*q17 +px; \\noy = oy -py;\\noz = oz +py*3;\\n\\n//flim = below(((ox+oy+oz)*800)%32,q13-.1); //ctrl\\n//flim = q13/(((ox+oy+oz)*600)%16+1); //ctrl\\nrad = .025*z0/(oz+z0)*(1-mov1*.5);\\n\\nx = .5 + fov*ox/(oz+z0);\\ny = .5 + fov*oy/(oz+z0);\\nvis = above(mov1,q11)*below(mov1,q12)*above(oz,-z0);\\n\\na = vis*.7/sqrt(copies)*(1+above(spur,0));\\na2 = 0.;\\ng = flim;"},{"baseVals":{"enabled":1,"sides":13,"additive":1,"num_inst":212,"x":0.65,"y":0.38,"rad":1.26467,"tex_zoom":0.73678,"g":1,"a":0.3,"r2":1,"g2":0,"border_r":0.5,"border_g":0.5,"border_b":0,"border_a":0},"init_eqs_eel":"","frame_eqs_eel":"//q25 = time/4;\\n//trel = 2* (q25/2-int(q25/2));\\ntrel = q25;\\ncopies = 1;\\ncopy = (instance%copies)/copies;\\nk1 = int(instance/copies)*copies/num_inst;\\nk2 = k1 + .5;\\ntrel = trel ;\\nt0 = .5; //do not change\\n\\nphase = above(trel,t0);\\nmov1 = bnot(phase)* (t0-trel + .01*k1);\\nmov2 = phase * (trel-t0); //####\\n//mov2 = pow(mov2,.8);\\nstray = 1.2-phase;\\n\\nTht = 3.14*sin(1234.2*k1+time*bnot(phase)) * stray ;\\nPhi = 3245.1*k1;\\n\\nsize0 = .02;\\nox = mov1*q27 + sin(Tht)*cos(phi)* (size0+mov2*(2+k1));\\noy = mov1*12 + cos(Tht)* (size0+4*mov2*k2)*(1-mov2*k2)/2;\\noz = mov1*8 + sin(Tht)*sin(phi)* (size0+mov2*2*(2+k1));\\n\\nz0 = 1;\\nrad = .03 / (oz+z0)/(1+trel*rand(100)/50);\\n\\nx = .5 + ox/(oz+z0);\\ny = q29+.2+ oy/(oz+z0);\\n\\na = .1*bnot(phase)+phase*max(0,1-mov2*0)*above(oz+z0,0)*.8; "},{"baseVals":{"sides":14,"additive":1,"thickoutline":1,"textured":1,"num_inst":31,"x":0.75,"y":0.6,"rad":0.01,"tex_zoom":0.3357,"g":1,"a":0.5,"r2":1,"g2":0,"border_r":0.2,"border_g":0.7,"border_b":0.5,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""}],"waves":[{"baseVals":{"samples":75,"sep":20,"usedots":1,"additive":1,"scaling":7.858,"smoothing":0.1,"g":0,"b":0,"a":0.2,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"usedots":1,"thick":1,"scaling":0.89152,"smoothing":0.82,"a":0.1,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"thick":1,"scaling":0.89152,"smoothing":0.82,"r":0,"g":0.2,"b":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"spectrum":1,"usedots":1,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""}],"init_eqs_eel":"t0a = time; t0 = time+.5;\\nspb_ = .5; ;\\nvolb = .5; volx = .5;\\nvol_= 1; index = 0; mov1 = 0;","frame_eqs_eel":"dec_med = pow (0.85, 30/fps); dec_slow = pow (0.95, 30/fps);\\nvol = (bass+med+treb)/1.5; vol_ = vol_*dec_slow + (1-dec_slow)*vol;\\n\\nis_beat = above(vol, .1+vol_+2*peak) * above (time, t0+spb_*.45);\\nt0a  = if(is_beat,t0,t0a); t0 = if(is_beat,time,t0);\\npeak = if(is_beat,vol,peak*dec_med);\\nindex = (index + is_beat) %128;\\nspb_ = if(is_beat,spb_ *.9 +.1*min(t0-t0a + .01,2), spb_);\\n\\nq20 = vol_;\\nq21 = above(vol,2.7*vol_);\\nq22 = max(0,peak-.0)+.01;\\nhpeak = hpeak*dec_med + (1-dec_med)*q21;\\nq23 = hpeak * (1+rand(8));\\nq24 = is_beat;\\nvolb = bnot(q24)*volb + q24*vol_; //# vol oder vol_ ?\\nvolx = volx + .2/fps*max(min(volb-volx,1),-1)*bnot(RotMode);\\n\\n// *********** CENTRAL TIMELINE **************\\nrotmode = max(min(sin(mov1/2.4-1.5)*4-3,1),0); //####\\nstop = if(bnot(stop),bnot(index%24),below(lo,1))*bnot(rotmode);\\n//tmp = status%16;\\nspread = if (below(lo,1),spread,rand(2)*rand(12)/20);\\ncopies = if (below(lo,1),copies,3+rand(2)*rand(8));\\nspur  = if (below(lo,1),spur, above(copies,5)*.1);\\nbursts = if (below(lo,1),bursts,1+rand(2)*rand(6));\\nxbase = if (below(lo,1),xbase,rand(2)*(rand(10)/10-.5));\\nvs0 = if (is_beat * bnot(index%77),rand(5)/4-.7,vs0);\\nvshift =  vshift + 3/fps*max(min((vs0-vshift),.04),-.04);\\n//*********** SMOOTH MOVEMENTS q1 - q8 for SHAPE2 ********\\n//FONTAENE\\nspeed = .15/fps/spb_;\\ntmp = mov1; mov1 = mov1+speed; q2 = mov1-tmp; q1 = mov1;\\n\\n//ROTATION\\n//evtl q5 mit rotmode fixieren statt volx blockieren\\ntmp = RotMode; q3 = RotMode; q4 = RotMode-tmp;\\n\\n//VOLUME\\ntmp = volx; q5 = volx; q6 = q5-tmp; //nicht aendern waehrend Rotation\\n\\n//********* SWITCHES SHAPE2 *************\\nq10 = bursts; //num bursts\\nlo = if(stop,lo+speed,0); //ident. wie bei mov 1!!\\nhi = if(above(lo,1),0,hi+speed); //ident. wie bei mov 1!!\\nq11 = lo; //fade out\\nq12 = hi;\\nq13 = sqrt(q22)*0; //blink effect, ca. 0..16\\nq14 = copies; //copies - noch implementieren\\nq15 = spur*(1-RotMode); //Ampl. multiple spurs; nur mit >8 copies !\\nq16 = 0; //reserved for spur start\\nq17 = spread * (1-rotmode); //hor. spread, max. ca. 0.4\\nq18 = 1/min(max(sin(mov1/2)*10,1),4); //proximity - smaller values: closer;\\nq19 = xbase;\\n//********* CONTROL PARAMETERS SHAPE3 *************\\nxtime = if (stop*q21*above(xtime,2),0,xtime+.2/fps); //impact\\nq25 = xtime;\\nq26 = if (below(xtime,.55),pow(32,-sqr(xtime-.55)*512),pow(2,-sqr(xtime-.55)*3));\\nq27 = sin(time/29)*4; //x-direction impact\\n\\n//********* GENERAL CONTROL PARAMETERS ***************\\nwind = wind+.5/fps * (volx-1.5);\\nq28 = wind;//wind direction - warp shader\\nq29 = vshift ;// in warp+comp+impact shape\\nq30 = max(sin(mov1/2.2)*sin(time/7),0)+q26;// front cloud dens. - comp.\\nq31 = q5*2-2 + sin(time/17); //back cloud lighting - comp shader\\nq32 = 3+2*sin(time/27); //back cloud density - comp shader\\n\\nmonitor = vshift;;","pixel_eqs_eel":"zoom = 1;\\ndy = -.00;\\nwarp =.0;","warp":"mat2 ofs;\\nfloat xlat_mutablegreen;\\nfloat xlat_mutablek1;\\nfloat xlat_mutablered;\\nvec2 xlat_mutableuv2;\\nfloat xlat_mutablewave;\\nfloat xlat_mutablezv;\\n shader_body { \\n  mat2 tmpvar_1;\\n  tmpvar_1[uint(0)].x = texsize.z;\\n  tmpvar_1[uint(0)].y = 0.0;\\n  tmpvar_1[1u].x = 0.0;\\n  tmpvar_1[1u].y = texsize.w;\\n  ofs = (tmpvar_1 * 4.0);\\n  float delta_2;\\n  float ky_3;\\n  vec2 tmpvar_4;\\n  tmpvar_4.x = (uv.x - 0.5);\\n  tmpvar_4.y = ((uv.y - 0.5) + q29);\\n  vec2 v_5;\\n  v_5.x = ofs[0].x;\\n  v_5.y = ofs[1].x;\\n  vec2 v_6;\\n  v_6.x = ofs[0].x;\\n  v_6.y = ofs[1].x;\\n  vec2 v_7;\\n  v_7.x = ofs[0].y;\\n  v_7.y = ofs[1].y;\\n  vec2 v_8;\\n  v_8.x = ofs[0].y;\\n  v_8.y = ofs[1].y;\\n  vec2 tmpvar_9;\\n  tmpvar_9.x = (texture (sampler_main, (uv + v_5)) - texture (sampler_main, (uv - v_6))).x;\\n  tmpvar_9.y = (texture (sampler_main, (uv + v_7)) - texture (sampler_main, (uv - v_8))).x;\\n  xlat_mutablered = (0.5 * texture (sampler_main, (uv - (0.004 * tmpvar_9))).x);\\n  xlat_mutablered = (xlat_mutablered + (0.5 * texture (sampler_main, uv).x));\\n  vec2 tmpvar_10;\\n  tmpvar_10.x = tmpvar_4.x;\\n  tmpvar_10.y = (0.0078125 * (float(\\n    int((tmpvar_4.y * 128.0))\\n  ) + abs(\\n    (fract((tmpvar_4.y * 128.0)) - 0.5)\\n  )));\\n  vec2 tmpvar_11;\\n  tmpvar_11 = (tmpvar_10 * 4.0);\\n  ky_3 = clamp ((-0.5 - tmpvar_11.y), 0.0, 1.0);\\n  xlat_mutablek1 = (abs((\\n    fract((tmpvar_11.x * 2.0))\\n   - 0.5)) * 8.0);\\n  xlat_mutablek1 = (xlat_mutablek1 - sign(xlat_mutablek1));\\n  delta_2 = (0.1 + (rand_preset * 0.05)).x;\\n  xlat_mutablek1 = (xlat_mutablek1 - ((\\n    (4.0 * sign(xlat_mutablek1))\\n   * ky_3) * ky_3));\\n  ky_3 = clamp ((ky_3 - delta_2), 0.0, 1.0);\\n  xlat_mutablek1 = (xlat_mutablek1 - ((\\n    (8.0 * sign(xlat_mutablek1))\\n   * ky_3) * ky_3));\\n  ky_3 = clamp ((ky_3 - delta_2), 0.0, 1.0);\\n  xlat_mutablek1 = (xlat_mutablek1 - ((\\n    (12.0 * sign(xlat_mutablek1))\\n   * ky_3) * ky_3));\\n  ky_3 = clamp ((ky_3 - delta_2), 0.0, 1.0);\\n  xlat_mutablek1 = (xlat_mutablek1 - ((\\n    (16.0 * sign(xlat_mutablek1))\\n   * ky_3) * ky_3));\\n  ky_3 = clamp ((ky_3 - delta_2), 0.0, 1.0);\\n  float tmpvar_12;\\n  tmpvar_12 = clamp (xlat_mutablek1, -1.6, 1.6);\\n  xlat_mutablek1 = tmpvar_12;\\n  xlat_mutablegreen = (cos((tmpvar_12 * 2.0)) - 0.1);\\n  xlat_mutablewave = ((sin(\\n    ((q1 * 8.0) - (uv.x * 6.0))\\n  ) / 2.0) * q3);\\n  xlat_mutablewave = ((xlat_mutablewave * float(\\n    (xlat_mutablewave >= 0.0)\\n  )) + (q30 * 0.02));\\n  xlat_mutablered = (xlat_mutablered + ((\\n    (xlat_mutablewave / abs(sin((\\n      (1.0/(tmpvar_12))\\n     + \\n      (q1 / 8.0)\\n    ))))\\n   * xlat_mutablegreen) * ky_3));\\n  xlat_mutablezv = ((time * 0.08) + (0.2 * sin(\\n    ((uv * 16.0) + time)\\n  ))).x;\\n  vec2 tmpvar_13;\\n  tmpvar_13.x = q28;\\n  tmpvar_13.y = (0.2 * time);\\n  xlat_mutableuv2 = ((tmpvar_4 * 2.0) + tmpvar_13);\\n  vec3 tmpvar_14;\\n  tmpvar_14.xy = xlat_mutableuv2;\\n  tmpvar_14.z = xlat_mutablezv;\\n  vec3 tmpvar_15;\\n  tmpvar_15.xy = (xlat_mutableuv2 * vec2(2.0, 2.0));\\n  tmpvar_15.z = (xlat_mutablezv * 2.0);\\n  vec3 tmpvar_16;\\n  tmpvar_16.xy = (xlat_mutableuv2 * vec2(4.0, 4.0));\\n  tmpvar_16.z = (xlat_mutablezv * 3.0);\\n  vec3 tmpvar_17;\\n  tmpvar_17.xy = (xlat_mutableuv2 * vec2(8.0, 8.0));\\n  tmpvar_17.z = (xlat_mutablezv * 7.0);\\n  xlat_mutableuv2 = (tmpvar_4 + ((\\n    ((texture (sampler_noisevol_hq, tmpvar_14).z + (texture (sampler_noisevol_hq, tmpvar_15).z / 2.0)) + (texture (sampler_noisevol_hq, tmpvar_16).z / 4.0))\\n   + \\n    (texture (sampler_noisevol_hq, tmpvar_17).z / 8.0)\\n  ) * 0.1));\\n  vec3 tmpvar_18;\\n  tmpvar_18.x = xlat_mutablered;\\n  tmpvar_18.y = xlat_mutablegreen;\\n  tmpvar_18.z = ((1.0 + xlat_mutableuv2.y) * sqrt(dot (xlat_mutableuv2, xlat_mutableuv2)));\\n  vec4 tmpvar_19;\\n  tmpvar_19.w = 1.0;\\n  tmpvar_19.xyz = ((tmpvar_18 * 0.8) - 0.005);\\n  ret = tmpvar_19.xyz;\\n }","comp":"float trel;\\nfloat vshift;\\nvec3 xlat_mutableret1;\\nvec2 xlat_mutablers;\\nvec2 xlat_mutablers0;\\nfloat xlat_mutablesmoke;\\nfloat xlat_mutablesmoke2;\\nvec2 xlat_mutableuv_l;\\nfloat xlat_mutablew;\\nfloat xlat_mutablez;\\n shader_body { \\n  trel = (time / 2.0);\\n  vshift = (0.5 - q29);\\n  vec2 tmpvar_1;\\n  tmpvar_1.x = rand_preset.x;\\n  tmpvar_1.y = ((-0.1 - (rand_preset.y / 2.0)) + vshift);\\n  vec2 tmpvar_2;\\n  tmpvar_2.y = 0.0;\\n  tmpvar_2.x = (0.005 * time);\\n  xlat_mutableuv_l = (uv + tmpvar_2);\\n  vec2 tmpvar_3;\\n  vec2 tmpvar_4;\\n  tmpvar_4 = (uv - 0.5);\\n  tmpvar_3 = sin(((\\n    (tmpvar_4 * aspect.xy)\\n   + 0.5) - (tmpvar_1 * aspect.xy)));\\n  vec2 tmpvar_5;\\n  tmpvar_5 = fract(uv);\\n  vec3 tmpvar_6;\\n  tmpvar_6 = vec3((texture (sampler_fc_main, tmpvar_5).x + (2.0 * (\\n    (texture (sampler_blur2, tmpvar_5).xyz * scale2)\\n   + bias2).x)));\\n  vec3 tmpvar_7;\\n  tmpvar_7.x = tmpvar_6.x;\\n  tmpvar_7.y = pow (tmpvar_6.x, 2.1);\\n  tmpvar_7.z = pow (tmpvar_6.x, 4.0);\\n  xlat_mutablew = ((uv.y - (\\n    ((dot (texture (sampler_noise_hq, vec2((xlat_mutableuv_l.x / 6.0))), vec4(0.32, 0.49, 0.29, 0.0)) + uv.x) - 0.5)\\n   / 4.0)) - vshift);\\n  xlat_mutablez = (0.2 / xlat_mutablew);\\n  float tmpvar_8;\\n  tmpvar_8 = clamp ((-0.2 - (\\n    (8.0 * q5)\\n   * xlat_mutablew)), 0.0, 1.0);\\n  xlat_mutablers0.x = (((uv.x - 0.5) * (1.0 + \\n    abs(xlat_mutablez)\\n  )) * 2.0);\\n  xlat_mutablers0.y = xlat_mutablez;\\n  xlat_mutablers0 = (xlat_mutablers0 * ((4.0 * \\n    float((xlat_mutablez <= 0.0))\\n  ) + 1.0));\\n  vec2 tmpvar_9;\\n  tmpvar_9.x = 0.0;\\n  tmpvar_9.y = (1.5 + xlat_mutablew);\\n  vec2 x_10;\\n  x_10 = (xlat_mutablers0 - tmpvar_9);\\n  float tmpvar_11;\\n  tmpvar_11 = ((q26 / sqrt(\\n    dot (x_10, x_10)\\n  )) / 4.0);\\n  xlat_mutablers0 = (xlat_mutablers0 * (1.0 + (tmpvar_11 * tmpvar_11)));\\n  xlat_mutablers.x = (xlat_mutablers0 * 2.0).x;\\n  xlat_mutablers.y = (xlat_mutablers0.y + (trel * 0.5));\\n  float tmpvar_12;\\n  tmpvar_12 = (texture (sampler_main, uv).y * tmpvar_8);\\n  vec3 tmpvar_13;\\n  tmpvar_13.xy = (xlat_mutablers * 2.0);\\n  tmpvar_13.z = (0.2 * trel);\\n  float tmpvar_14;\\n  tmpvar_14 = dot (((\\n    ((2.0 * clamp ((texture (sampler_noisevol_hq, \\n      (tmpvar_13 * float((xlat_mutablez >= 0.0)))\\n    ) - 0.2), 0.0, 1.0)).xyz * clamp ((texture (sampler_noise_hq, (xlat_mutablers / 16.0)) - 0.5), 0.0, 1.0).x)\\n   / \\n    sqrt(abs(xlat_mutablez))\\n  ) + tmpvar_11), vec3(0.32, 0.49, 0.29));\\n  vec3 tmpvar_15;\\n  tmpvar_15.x = tmpvar_14;\\n  tmpvar_15.y = pow (tmpvar_14, 2.1);\\n  tmpvar_15.z = pow (tmpvar_14, 6.0);\\n  xlat_mutableret1 = (((\\n    ((uv.y * (1.0 + q23)) + (0.1 / sqrt(dot (tmpvar_3, tmpvar_3))))\\n   * vec3(0.1, 0.1, 0.2)) * tmpvar_8) + (clamp (tmpvar_15, 0.0, 1.0) * (1.0 - \\n    clamp ((-1.0 - (12.0 * xlat_mutablew)), 0.0, 1.0)\\n  )));\\n  xlat_mutableret1 = (xlat_mutableret1 * clamp ((1.0 - \\n    (tmpvar_12 * 8.0)\\n  ), 0.0, 1.0));\\n  vec4 tmpvar_16;\\n  tmpvar_16 = texture (sampler_main, fract((tmpvar_4 + 0.5)));\\n  xlat_mutablesmoke = (tmpvar_16.z * (tmpvar_16.z * q5));\\n  xlat_mutableret1 = (xlat_mutableret1 * clamp ((1.0 - \\n    ((xlat_mutablesmoke * q32) * tmpvar_8)\\n  ), 0.0, 1.0));\\n  xlat_mutablesmoke2 = (texture (sampler_main, ((tmpvar_4 / 2.0) + 0.5)).z * q30);\\n  xlat_mutableret1 = (xlat_mutableret1 + (clamp (tmpvar_7, 0.0, 1.0) - (\\n    ((xlat_mutablez * clamp ((xlat_mutablesmoke + \\n      (xlat_mutablew * q31)\\n    ), 0.0, 1.0)) * vec3(1.0, 0.4, 0.1))\\n   * tmpvar_8)));\\n  float tmpvar_17;\\n  tmpvar_17 = clamp (((\\n    (tmpvar_12 * xlat_mutablez)\\n   * xlat_mutablez) / 16.0), 0.0, 1.0);\\n  vec3 tmpvar_18;\\n  tmpvar_18.x = tmpvar_17;\\n  tmpvar_18.y = pow (tmpvar_17, 2.1);\\n  tmpvar_18.z = pow (tmpvar_17, 6.0);\\n  xlat_mutableret1 = (xlat_mutableret1 + clamp (tmpvar_18, 0.0, 1.0));\\n  xlat_mutableret1 = (xlat_mutableret1 * clamp ((\\n    (((dot (texture (sampler_noise_mq, vec2(\\n      ((xlat_mutableuv_l.x / 4.0) + (0.02 * trel))\\n    )), vec4(0.32, 0.49, 0.29, 0.0)) / 6.0) - uv.y) + 0.8)\\n   * 32.0), 0.0, 1.0));\\n  vec3 tmpvar_19;\\n  tmpvar_19.x = xlat_mutablesmoke2;\\n  tmpvar_19.y = pow (xlat_mutablesmoke2, 2.1);\\n  tmpvar_19.z = pow (xlat_mutablesmoke2, 6.0);\\n  xlat_mutableret1 = ((xlat_mutableret1 * clamp (\\n    (1.0 - xlat_mutablesmoke2)\\n  , 0.0, 1.0)) + clamp (tmpvar_19, 0.0, 1.0));\\n  vec4 tmpvar_20;\\n  tmpvar_20.w = 1.0;\\n  tmpvar_20.xyz = (1.0 - exp((\\n    -(xlat_mutableret1)\\n   * 2.0)));\\n  ret = tmpvar_20.xyz;\\n }"}') }, "./presets/converted/martin - angel flight.json": e => { e.exports = JSON.parse('{"version":2,"baseVals":{"rating":0,"gammaadj":1.980001,"decay":0.5,"echo_zoom":0.999998,"echo_alpha":0.5,"echo_orient":3,"wave_mode":7,"wave_dots":1,"wave_thick":1,"wave_brighten":0,"darken":1,"wave_a":0.39158,"wave_scale":0.01,"wave_smoothing":0.504,"wave_mystery":-1,"modwavealphastart":0.71,"modwavealphaend":1.3,"warpanimspeed":1.4595,"warpscale":2.0067,"zoom":0.9999,"warp":0.01,"sx":0.9999,"wave_r":0.7,"wave_g":0,"ob_r":1,"ob_g":1,"ob_b":1,"ib_size":0.26,"mv_x":64,"mv_y":48,"mv_l":0,"mv_r":0.5,"mv_g":0.5,"mv_b":0.5,"mv_a":0,"b1ed":0},"shapes":[{"baseVals":{"textured":1,"x":0.3,"rad":0.379365,"tex_ang":0.628319,"tex_zoom":4.141529,"r":0.3,"g":0.7,"b":1,"r2":1,"b2":1,"a2":0.7,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"x = q1/6 + .5;\\ny = q2/6 + .5;"},{"baseVals":{"sides":5,"textured":1,"rad":0.986,"tex_ang":3.14159,"tex_zoom":0.99979,"g":1,"b":1,"r2":1,"b2":1,"a2":1,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"ang =sin(time/65) ;// ang + (bass*.2) + (time*.4);"},{"baseVals":{"enabled":1,"sides":5,"additive":1,"x":0.9,"rad":0.22613,"g":0.6,"g2":0,"b2":0.4,"a2":0.3,"border_a":0},"init_eqs_eel":"t_rel = 5*time;\\nt1 = int(t_rel);","frame_eqs_eel":"dx =  rand(1000)/1000-.5;\\ndy =  rand(1000)/1000-.5;\\n\\nx = .5 + dx*(1-q22/4);\\ny = .5 + dy*(1-q22/4);\\n\\nang = time;\\n\\na = 1;\\nrad = .1*q24+0.08 +q22/40;"},{"baseVals":{"additive":1,"textured":1,"x":0.51,"rad":0.249779,"tex_ang":0.125664,"tex_zoom":5.536972,"r":0.6,"g":0.3,"b":0.4,"a":0.6,"g2":0,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"a = max(q22-2,0);"}],"waves":[{"baseVals":{"enabled":1,"samples":256,"spectrum":1,"usedots":1,"scaling":0.5033,"g":0.6,"b":0.4},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":"\\nt_abs = sample;\\nt_rel = sample-time/1;\\nampl = time;\\n\\nox = ampl*10*sin (t_abs*68);\\noy = ampl*10*cos (t_abs*28);\\noz = ampl*10*cos (t_abs*128);\\n\\n\\nr = 1;\\ng = .5 ;\\nb = 1 ;\\na=q26/18;\\n\\nxang = t1 ;\\nyang = t1*2;\\nzang = t1;\\nfov = 0.12;\\n\\n\\n// Rotation um x,y,z\\n\\nmx = ox*cos(zang) - oy*sin(zang);\\nmy = ox*sin(zang) + oy*cos(zang);\\n\\nox = mx;\\noy = my;\\nmx = ox*cos(yang) + oz*sin(yang);\\nmz = -ox*sin(yang) + oz*cos(yang);\\nox = mx;\\noz = mz;\\nmy = oy*cos(xang) - oz*sin(xang);\\nmz = oy*sin(xang) + oz*cos(xang);\\noy = my;\\noz = mz;\\n\\noz = oz - 6;\\nx = ox*fov/oz +0.5;\\n//x = (x-.5)*0.75 + 0.5;\\ny = oy*fov/oz + 0.5;"},{"baseVals":{"enabled":1},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":"a = max(sin(time/8)-.5,0);\\nr = .4; g = .2; b = .7;\\n\\nx = sample + .01*cos(sample*243+time);\\ny = .5+.5*sin(time/13) + .02*sin(sample*143);\\na = .7 ;"},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""}],"init_eqs_eel":"","frame_eqs_eel":"dec_med = pow (0.9, 30/fps);\\ndec_slow = pow (0.99, 30/fps);\\nbeat = max (max (bass, mid), treb);\\navg = avg*dec_slow + beat*(1-dec_slow);\\nis_beat = above(beat, .5+avg+peak) * above (time, t0+.2);\\nt0 = is_beat*time + (1-is_beat)*t0;\\npeak = is_beat * beat + (1-is_beat)*peak*dec_med;\\nindex = (index + is_beat) %8;\\nindex2 = (index2 + is_beat*bnot(index))%4;\\nindex3 = (index3 + is_beat*bnot(index)*bnot(index2))%3;\\n\\n\\nq20 = avg;\\nq21 = beat;\\nq22 = peak;\\nq23 = index;\\nq24 = is_beat;\\nq26 = bass + mid + treb;\\n\\n//k1 =  is_beat*bnot(index)*bnot(index2);\\n\\nk1 =  is_beat*equal(index,0);\\np1 =  k1*(p1+1) + (1-k1)*p1;\\np2 = dec_slow * p2+ (1-dec_slow)*p1;\\nrott = p2 * 3.14159265359/2;\\n\\nq27 = 8-index;\\nq28 = .5 + sin(time/7)/10;\\nq29 = index4;\\n\\nmv_a = 0.2;\\nt_rel = time/3;\\nwave_a = max(sin(time/8)-.5,0);\\nwave_a = 0;\\nwave_x = .5+.5*sin(time/13);\\n\\nq1 = cos(rott);\\nq2 = sin(rott);\\nq3 = -q2;\\nq4 = q1;\\n\\nmovez = movez + .01 * 30/fps ;\\nq29 = movez;\\n\\n\\nzoom = 1;\\nrot = .0;\\ndx = .003","pixel_eqs_eel":"","warp":" shader_body { \\n  vec2 tmpvar_1;\\n  tmpvar_1 = (((uv - vec2(0.5, 0.5)) * texsize.xy) * 0.03);\\n  vec4 tmpvar_2;\\n  tmpvar_2.w = 1.0;\\n  tmpvar_2.xyz = ((0.99 * texture (sampler_main, (uv + \\n    (((clamp (\\n      (sin(tmpvar_1) / cos(tmpvar_1))\\n    , vec2(-12.0, -12.0), vec2(12.0, 12.0)) * cos(\\n      (tmpvar_1.yx * tmpvar_1.yx)\\n    )) * texsize.zw) * 12.0)\\n  )).xyz) - 0.01);\\n  ret = tmpvar_2.xyz;\\n }","comp":"vec3 xlat_mutableret1;\\nvec2 xlat_mutableuv2;\\n shader_body { \\n  vec2 uv_1;\\n  float inten_2;\\n  float dist_3;\\n  uv_1 = (uv - 0.5);\\n  uv_1 = (uv_1 * aspect.xy);\\n  dist_3 = (1.0 - fract((0.25 + q29)));\\n  inten_2 = (sqrt(dist_3) * (1.0 - (dist_3 * dist_3)));\\n  xlat_mutableret1 = max (vec3(0.0, 0.0, 0.0), (texture (sampler_main, fract(\\n    (((2.0 * uv_1) * dist_3) + 0.5)\\n  )).xyz * inten_2));\\n  xlat_mutableuv2.x = -(uv_1.y);\\n  xlat_mutableuv2.y = uv_1.x;\\n  dist_3 = (1.0 - fract((0.5 + q29)));\\n  inten_2 = (sqrt(dist_3) * (1.0 - (dist_3 * dist_3)));\\n  xlat_mutableret1 = max (xlat_mutableret1, (texture (sampler_main, fract(\\n    (((2.0 * xlat_mutableuv2) * dist_3) + 0.5)\\n  )).xyz * inten_2));\\n  dist_3 = (1.0 - fract((0.75 + q29)));\\n  inten_2 = (sqrt(dist_3) * (1.0 - (dist_3 * dist_3)));\\n  xlat_mutableret1 = max (xlat_mutableret1, (texture (sampler_main, fract(\\n    (((2.0 * uv_1) * dist_3) + 0.5)\\n  )).xyz * inten_2));\\n  xlat_mutableuv2.x = -(uv_1.y);\\n  xlat_mutableuv2.y = uv_1.x;\\n  dist_3 = (1.0 - fract((1.0 + q29)));\\n  inten_2 = (sqrt(dist_3) * (1.0 - (dist_3 * dist_3)));\\n  xlat_mutableret1 = max (xlat_mutableret1, (texture (sampler_main, fract(\\n    (((2.0 * xlat_mutableuv2) * dist_3) + 0.5)\\n  )).xyz * inten_2));\\n  vec4 tmpvar_4;\\n  tmpvar_4.w = 1.0;\\n  tmpvar_4.xyz = (xlat_mutableret1 * 3.0);\\n  ret = tmpvar_4.xyz;\\n }"}') }, "./presets/converted/martin - another kind of groove.json": e => { e.exports = JSON.parse('{"version":2,"baseVals":{"rating":5,"gammaadj":1.980001,"decay":0.5,"echo_zoom":0.952379,"echo_alpha":0.5,"echo_orient":3,"wave_mode":4,"modwavealphabyvolume":1,"wave_brighten":0,"darken":1,"wave_a":0.391579,"wave_scale":1.575857,"wave_smoothing":0.45,"wave_mystery":0.08,"modwavealphastart":0,"modwavealphaend":1.32,"warpanimspeed":1.4595,"warpscale":2.0067,"zoom":0.9999,"warp":0.01,"sx":0.9999,"wave_r":0.5,"wave_g":0.79,"ob_size":0,"ob_a":0.8,"ib_size":0.26,"mv_x":31.999998,"mv_y":24.000004,"mv_l":0.05,"mv_r":0.4999,"mv_g":0.4999,"mv_b":0.4999,"mv_a":0,"b1ed":0},"shapes":[{"baseVals":{"enabled":1,"textured":1,"rad":0.545996,"ang":2.199115,"tex_ang":0.502655,"tex_zoom":2.02311,"g":1,"b":0.9,"a":0.6,"r2":0.8,"g2":0.8,"b2":0.8,"a2":0.6,"border_b":0,"border_a":0.7},"init_eqs_eel":"","frame_eqs_eel":"tex_ang =  1 + sin(time/9);\\nrad = q29;\\ntex_zoom = (2 + sin(time/17));\\nadditive = q22/6;\\ntextured = 1-bnot(q23)*q24;"},{"baseVals":{"sides":34,"thickoutline":1,"rad":0.728634,"tex_zoom":0.9355,"r":0.5,"g":0.55,"b":0.5,"a":0.0999,"r2":0.7,"g2":0.4,"border_r":0.5,"border_g":0.5,"border_b":0.5,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"enabled":1,"sides":100,"x":0.503,"rad":0.01,"tex_zoom":0.609857,"g":0.1,"a":0.9,"r2":1,"b2":1,"border_r":0.5,"border_g":0.5,"border_b":0.5,"border_a":0},"init_eqs_eel":"","frame_eqs_eel":"x = .5 + rand(10)/25;\\ny = .5 + rand(10)/25;\\nang = rand(6);\\nr = rand(4)/3;\\ng = rand(4)/3;\\nb = rand(4)/3;\\nr2 = b;\\ng2 = r;\\nb2 = g;\\na = min(q21/2 ,.9);\\nrad = a/9 ;\\n\\na = .5;a2 = .8;"},{"baseVals":{"sides":63,"textured":1,"y":1,"rad":0.548217,"tex_zoom":0.499805,"g":1,"b":1,"r2":1,"b2":1,"border_r":0.5,"border_g":0.5,"border_b":0.5,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""}],"waves":[{"baseVals":{"samples":142,"sep":120,"usedots":1,"additive":1,"scaling":0.01,"smoothing":0.82,"a":0.6,"enabled":0},"init_eqs_eel":"t1 = 1 + (rand(101)*.01 - rand(101)*.01)*.3;\\nt2 = 1 + (rand(101)*.01 - rand(101)*.01)*.3;\\nt3 = 1 + (rand(101)*.01 - rand(101)*.01)*.3;\\nt4 = 1 + (rand(101)*.01 - rand(101)*.01)*.3;\\nt5 = 1 + (rand(101)*.01 - rand(101)*.01)*.3;\\nt6 = 1 + (rand(101)*.01 - rand(101)*.01)*.3;\\nt7 = 1 + (rand(101)*.01 - rand(101)*.01)*.3;\\nt8 = 1 + (rand(101)*.01 - rand(101)*.01)*.3;\\n","frame_eqs_eel":"t2 = t2 + bass_att;","point_eqs_eel":"\\nt_abs = sample;\\nt_rel = sample-time/8;\\n\\nox =  sin (sample*110) ;\\noy =  cos (sample*110);\\n\\noz = 4+1/(t_rel - int(t_rel));\\n\\nr = .3;\\ng = 0.7;\\nb = 1;\\n\\na = .8;\\n\\nxang = 0;\\nyang = 0;\\nzang = 0;\\nfov = .5;\\n\\n\\n// Rotation um x,y,z\\n\\nmx = ox*cos(zang) - oy*sin(zang);\\nmy = ox*sin(zang) + oy*cos(zang);\\n\\nox = mx;\\noy = my;\\nmx = ox*cos(yang) + oz*sin(yang);\\nmz = -ox*sin(yang) + oz*cos(yang);\\nox = mx;\\noz = mz;\\nmy = oy*cos(xang) - oz*sin(xang);\\nmz = oy*sin(xang) + oz*cos(xang);\\noy = my;\\noz = mz;\\n\\nx = ox*fov/oz +0.45;\\ny = oy*fov/oz + 0.45;"},{"baseVals":{"usedots":1,"thick":1,"scaling":0.891519,"smoothing":0.82,"a":0.1,"enabled":0},"init_eqs_eel":"t1 = 1 + (rand(101)*.01 - rand(101)*.01)*.3;\\nt2 = 1 + (rand(101)*.01 - rand(101)*.01)*.3;\\nt3 = 1 + (rand(101)*.01 - rand(101)*.01)*.3;\\nt4 = 1 + (rand(101)*.01 - rand(101)*.01)*.3;\\nt5 = 1 + (rand(101)*.01 - rand(101)*.01)*.3;\\nt6 = 1 + (rand(101)*.01 - rand(101)*.01)*.3;\\nt7 = 1 + (rand(101)*.01 - rand(101)*.01)*.3;\\nt8 = 1 + (rand(101)*.01 - rand(101)*.01)*.3;\\n","frame_eqs_eel":"tm = time*.1;\\nt1 = t1*sin(tm*t4) + (1-t1)*sin(tm*t7);\\nt2 = t2*sin(tm*t5) + (1-t2)*sin(tm*t8);\\nt3 = t3*sin(tm*t6) + (1-t3)*sin(tm*1);\\n\\ntic = min(time - tin,1);\\ntin = time;\\n\\ntva = (tic*q1*.5);\\ntvb = (tic*q2*.5);\\ntvc = (tic*q3*.5);\\n\\nq1 = tva;\\nq2 = tvb;\\nq3 = tvc;\\n\\nsz = .5;\\nlen = q4;\\nt4 = len;","point_eqs_eel":""},{"baseVals":{"thick":1,"scaling":0.891519,"smoothing":0.82,"r":0,"g":0.2,"b":0,"enabled":0},"init_eqs_eel":"t1 = 1 + (rand(101)*.01 - rand(101)*.01)*.3;\\nt2 = 1 + (rand(101)*.01 - rand(101)*.01)*.3;\\nt3 = 1 + (rand(101)*.01 - rand(101)*.01)*.3;\\nt4 = 1 + (rand(101)*.01 - rand(101)*.01)*.3;\\nt5 = 1 + (rand(101)*.01 - rand(101)*.01)*.3;\\nt6 = 1 + (rand(101)*.01 - rand(101)*.01)*.3;\\nt7 = 1 + (rand(101)*.01 - rand(101)*.01)*.3;\\nt8 = 1 + (rand(101)*.01 - rand(101)*.01)*.3;\\n","frame_eqs_eel":"tm = time*.1;\\nt1 = t1*sin(tm*t4) + (1-t1)*sin(tm*t7);\\nt2 = t2*sin(tm*t5) + (1-t2)*sin(tm*t8);\\nt3 = t3*sin(tm*t6) + (1-t3)*sin(tm*1);\\n\\ntic = min(time - tin,1);\\ntin = time;\\n\\ntva = (tic*q1*.5);\\ntvb = (tic*q2*.5);\\ntvc = (tic*q3*.5);\\n\\nq1 = tva;\\nq2 = tvb;\\nq3 = tvc;\\n\\nsz = .5;\\nlen = 1;\\nt4 = len;","point_eqs_eel":""},{"baseVals":{"spectrum":1,"usedots":1,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""}],"init_eqs_eel":"","frame_eqs_eel":"dec_med = pow (0.9, 30/fps);\\ndec_slow = pow (0.99, 30/fps);\\nbeat = max (max (bass, mid), treb);\\navg = avg*dec_slow + beat*(1-dec_slow);\\nis_beat = above(beat, .5+avg+peak) * above (time, t0+.2);\\nt0 = is_beat*time + (1-is_beat)*t0;\\npeak = is_beat * beat + (1-is_beat)*peak*dec_med;\\nindex = (index + is_beat) %4;\\nindex2 = (index2 + is_beat*bnot(index))%4;\\nindex3 = (index3 + is_beat*bnot(index)*bnot(index2))%3;\\n\\n\\nq20 = avg;\\nq21 = beat;\\nq22 = max(peak,4);\\nq23 = index;\\nq24 = is_beat;\\nq26 = max(bass + mid + treb,3);\\n\\ngo = go*dec_slow + (1-dec_slow) * equal(index2,2);\\n\\nmovez = movez + .1*(1+.3*q26)*30/fps * go;\\nq30 = movez;\\n\\nk1 =  is_beat*equal(index,0);\\np1 =  k1*(p1+1) + (1-k1)*p1;\\np2 = dec_med * p2+ (1-dec_med)*p1;\\np3 = dec_med * p3+ (1-dec_med)*p2;\\nrott = p3*3.1416/2;\\n\\nq1 = cos(rott);\\nq2 = sin(rott);\\nq3 = -q2;\\nq4 = q1;\\n\\n\\nstr = str * dec_slow + (1-dec_slow) * index3;\\nq27 = 4 - str;\\n\\ngrid = grid*(dec_med) + (1-dec_med)* equal(index2,2)*bnot(index);\\nmv_a = grid * .6;\\n\\nrot1 = dec_med * rot1 + (1-dec_med) * bnot(index2) ;\\nq28 = rot1 ;\\n\\ncopy = copy * dec_slow + (1-dec_slow)*index3;\\nq29 = .3*copy;","pixel_eqs_eel":"dx = 0.02*q28;\\nrot = .04*q2;\\nzoom = .96 + .1*sin(time/7);\\n//zoom = 1.04;","warp":" shader_body { \\n  vec2 zz_1;\\n  mat2 tmpvar_2;\\n  tmpvar_2[uint(0)] = _qa.xy;\\n  tmpvar_2[1u] = _qa.zw;\\n  zz_1 = (((\\n    (uv - vec2(0.5, 0.5))\\n   * texsize.xy) * 0.01) * tmpvar_2);\\n  zz_1 = -(zz_1.yx);\\n  vec4 tmpvar_3;\\n  tmpvar_3.w = 1.0;\\n  tmpvar_3.xyz = ((texture (sampler_main, (uv + \\n    (((clamp (\\n      (sin(zz_1.yx) / cos(zz_1.yx))\\n    , vec2(-8.0, -8.0), vec2(8.0, 8.0)) * cos(\\n      (4.0 * zz_1)\\n    )) * texsize.zw) * 16.0)\\n  )).xyz * 0.99) - 0.01);\\n  ret = tmpvar_3.xyz;\\n }","comp":" shader_body { \\n  vec2 uv3_1;\\n  vec2 uv2_2;\\n  vec2 tmpvar_3;\\n  tmpvar_3 = ((uv - 0.5) * aspect.xy);\\n  float tmpvar_4;\\n  tmpvar_4 = (0.1 / (sqrt(\\n    dot (tmpvar_3, tmpvar_3)\\n  ) + 0.1));\\n  vec2 tmpvar_5;\\n  float tmpvar_6;\\n  tmpvar_6 = (ang / 3.14);\\n  tmpvar_5.x = tmpvar_6;\\n  tmpvar_5.y = (q27 * tmpvar_4);\\n  uv2_2.y = (tmpvar_5.y + (0.1 * q30));\\n  uv2_2.x = (tmpvar_6 + (0.2 * time));\\n  vec2 tmpvar_7;\\n  tmpvar_7.x = tmpvar_6;\\n  tmpvar_7.y = (4.0 * tmpvar_4);\\n  uv3_1.y = (tmpvar_7.y - (0.2 * q30));\\n  uv3_1.x = tmpvar_7.x;\\n  vec2 tmpvar_8;\\n  tmpvar_8 = fract(uv3_1);\\n  uv3_1 = tmpvar_8;\\n  float tmpvar_9;\\n  tmpvar_9 = clamp ((1.0 - (4.0 * rad)), 0.0, 1.0);\\n  vec4 tmpvar_10;\\n  tmpvar_10.w = 1.0;\\n  tmpvar_10.xyz = (((\\n    (3.0 * max (((2.0 * texture (sampler_main, uv2_2).xyz) + texture (sampler_main, tmpvar_8).xyz), ((2.0 * \\n      ((texture (sampler_blur2, fract(uv2_2)).xyz * scale2) + bias2)\\n    ) + (\\n      (texture (sampler_blur2, fract(tmpvar_8)).xyz * scale2)\\n     + bias2))))\\n   * rad) + (\\n    ((uv.y * pow ((1.0 - rad), 8.0)) * roam_cos)\\n  .xyz * tmpvar_9)) + ((tmpvar_9 * 2.0) * (\\n    (texture (sampler_blur1, fract(uv)).xyz * scale1)\\n   + bias1)));\\n  ret = tmpvar_10.xyz;\\n }"}') }, "./presets/converted/martin - bombyx mori.json": e => { e.exports = JSON.parse('{"version":2,"baseVals":{"rating":4,"gammaadj":1.98,"decay":0.5,"echo_zoom":1,"echo_alpha":0.5,"echo_orient":3,"wave_mode":6,"additivewave":1,"modwavealphabyvolume":1,"wave_brighten":0,"darken_center":1,"darken":1,"wave_a":0.001,"wave_scale":0.236,"wave_smoothing":0,"wave_mystery":-0.64,"modwavealphastart":0.81,"modwavealphaend":1.4,"warpanimspeed":1.459,"warpscale":2.007,"zoom":0.9999,"warp":0.01,"sx":0.9999,"wave_r":0,"wave_b":0.6,"ob_size":0.005,"ob_a":0.8,"ib_size":0.26,"mv_x":64,"mv_y":48,"mv_l":1.85,"mv_r":0.5,"mv_g":0.5,"mv_b":0.5,"mv_a":0,"b1ed":0},"shapes":[{"baseVals":{"enabled":1,"sides":18,"num_inst":4,"x":0.83,"rad":0.14349,"tex_ang":3.76991,"tex_zoom":5.27784,"r":0,"g":1,"b":1,"a":0.5,"r2":1,"g2":0.2,"b2":1,"border_b":0,"border_a":0},"init_eqs_eel":"","frame_eqs_eel":"d = .3+(frame%8)/8*.2;\\n//d = .3;\\nk1 = instance/num_inst*6.28;\\nd = .3 + q22/8 ;\\n\\nx = .5 + d*cos(k1);\\ny = .5 + d*sin(k1);\\n\\na = min(1, .2+ .8*q22/2*((q27)%2));\\na2 = 0;\\nr = .6 + .4*sin(time/4+1.56);\\nb = .6 + .4*sin(time/4+3.14);\\ng = .6 + .4*sin(time/4);\\n\\nr0 = r0 * bnot(q24) + (.5+.5*sin(time))*q24;\\ng0 = g0 * bnot(q24) + (.5+.5*sin(time*1.7))*q24;\\nb0 = (2-r0-g0)/2;\\n\\nr = r0;\\nb = b0;\\ng = g0;\\n\\nr2 = 1-g;\\ng2 = 1-b;\\nb2 = 1-r;"},{"baseVals":{"sides":32,"num_inst":4,"rad":0.16218,"tex_zoom":1.8315,"g":1,"b":1,"a":0.9,"border_r":0.5,"border_g":0.5,"border_b":0.5,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"a = q24/2; a2 = 0;\\na = min(1, .2+ .8*q22/2*((q27)%2));\\n\\nr = rand(10)/10;\\ng = rand(10)/10;\\nb = rand(10)/10;\\n\\nrad = .06*q22;\\n\\n\\n\\n\\nd = .3+(frame%8)/8*.2;\\nd = .3 + q22/12;\\n\\nx = .5 + d*cos(6.28*instance/num_inst);\\ny = .5 + d*sin(6.28*instance/num_inst);\\na = min(1, .2+ .8*q22/2*((q27)%2));\\nb = 1; g = 1;"},{"baseVals":{"sides":63,"textured":1,"rad":8.85459,"tex_zoom":0.03204,"g":1,"b":1,"a":0.4,"r2":1,"b2":1,"border_r":0.5,"border_g":0.5,"border_b":0.5,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"sides":100,"x":0.4,"rad":0.14741,"tex_zoom":1.59918,"g":0.4,"r2":1,"g2":0.6,"border_r":0.5,"border_g":0.5,"border_b":0.5,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"a = q24*.3;"}],"waves":[{"baseVals":{"enabled":1,"samples":128,"scaling":0.89152,"smoothing":0},"init_eqs_eel":"","frame_eqs_eel":"t1 = t1 * bnot(q24) + (.5+.5*sin(time))*q24;\\nt2 = t2 * bnot(q24) + (.5+.5*sin(time*1.7))*q24;","point_eqs_eel":"x = sample ;\\ny = .5;\\n\\na = q22*((q27+1)%2);\\n//a = 1;\\na = q24*((q27+1)%2)/2+.0;\\n\\nr = t1; b = t2; g = (2-r0-g0)/2;\\n;"},{"baseVals":{"thick":1,"scaling":0.89152,"smoothing":0,"a":0.1,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"thick":1,"scaling":0.89152,"smoothing":0.82,"a":0.1,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"spectrum":1,"usedots":1,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":"ra = .8;\\nrb = .5;\\npib = 6.28318530718;\\n\\n\\ntic = min(time-tin,.1);\\ntin = if(equal(sample,0),time,tin);\\n\\nmod = 1.5 + .5*sin(time*.15);\\nmed = 1.5 + .5*sin(time*.134);\\nmed = 5;\\namod = 3;\\n\\nvr = rand(10001)*.0001;\\nrb = rb + rand(10001)*.0001*.1;\\n\\na = vr;\\n\\nsa = vr*pib*.5;\\nsp = sa*mod + q1*1.3;\\nsam = sa*med - q1*.219;\\n\\nox = ra*sin(sam*pib);\\noy = ra*cos(sam*pib);\\nox = ox + rb*-cos(sp)*sin(sam*pib);\\noz = rb*-sin(sp);\\noy = oy + rb*-cos(sp)*cos(sam*pib);\\n\\n\\nxang = time*.132;\\nxang = q2;\\nyang = time*.153;\\nyang = q3;\\nzang = time*.110;\\nzang = q4;\\nfov = 0.6 + 0.2*sin(time);\\nfov = .5;\\n\\nmx = ox*cos(zang) - oy*sin(zang);\\nmy = ox*sin(zang) + oy*cos(zang);\\nox = mx;\\noy = my;\\nmx = ox*cos(yang) + oz*sin(yang);\\nmz = -ox*sin(yang) + oz*cos(yang);\\nox = mx;\\noz = mz;\\nmy = oy*cos(xang) - oz*sin(xang);\\nmz = oy*sin(xang) + oz*cos(xang);\\noy = my;\\noz = mz;\\n\\noz = oz - 2;\\nx = ox*fov/oz + 0.5;\\nx = (x-.5)*0.75 + 0.5;\\ny = oy*fov/oz + 0.5;\\n"}],"init_eqs_eel":"speed_=1;","frame_eqs_eel":"dec_med = pow (0.9, 30/fps);\\ndec_slow = pow (0.96, 30/fps);\\nbeat = max (max (bass, mid), treb);\\navg = avg*dec_slow + beat*(1-dec_slow);\\nis_beat = above(beat, 0.2+avg+peak) * above (time, t0+.1);\\nt0 = is_beat*time + (1-is_beat)*t0;\\npeak = is_beat * beat + (1-is_beat)*peak*dec_med;\\nindex = (index + is_beat) %12;\\nindex2 = (index2 + is_beat*bnot(index))%8;\\n\\nq20 = avg;\\nq21 = beat;\\nq22 = peak;\\nq24 = is_beat;\\nvol = (bass_att + mid_att + treb_att)/2;\\nvol_ = dec_med * vol_ + (1-dec_med)* vol;\\nvol__ = dec_med * vol__ + (1-dec_med)* vol_;\\nq27 = index + 1;\\nq28 = index2 + 2;\\n\\nk1 =  is_beat*equal(index%4,0);\\np1 =  k1*(p1+1) + (1-k1)*p1;\\np2 = dec_med * p2+ (1-dec_med)*p1;\\nrott = p2 * 3.1416/4;\\n\\nq1 = cos(rott);\\nq2 = sin(rott);\\nq3 = -q2;\\nq4 = q1;\\n\\ntrig = q24 * bnot(index%8);\\nvx = vx*bnot(trig) + trig* (rand(100)/100-.5);\\nvy = vy*bnot(trig) + trig* (rand(100)/100-.5);\\nvz = vz*bnot(trig) + trig* (rand(100)/100-.5);\\n\\nspeed = min(vol_-vol__+.5,1);\\nspeed = max(speed,-.5);\\nspeed_ = bnot(trig)*speed_ + trig*speed;\\nspg = dec_med*spg + (1-dec_med)*speed_;\\nmovz = movz + 1/fps*(speed_+0*vol_/6);\\nq9 = movz;\\nq12 = min(q22,6)*2;\\n\\n//puls = puls*dec_med + (1-dec_med)*q22;\\n\\nq13 = 2* sin(movz/3-time/11);\\n\\ntrig = bnot(index%4) * q24;\\ndir = bnot(trig)*dir + trig*(rand(10)-5);\\ntrel = trel + .1/fps*dir;\\nq5 = cos(trel-movz);\\nq6 = sin(trel/2-movz);\\nq7 = -q6;\\nq8 = q5;\\n\\nang0 = ang0*dec_med + vz*(1-dec_med);\\nq17 = ang0*2;\\nq30 = .2*sin(time/8);\\n\\nq31 = .5 + .5*sin(time/3.3);\\n\\nzoom = 1;\\nrot = .0;\\ndx = .00;\\nmonitor = q28;","pixel_eqs_eel":"","warp":"vec3 xlat_mutablemus;\\n shader_body { \\n  vec2 d_1;\\n  vec2 uv6_2;\\n  vec2 uv1_3;\\n  vec2 tmpvar_4;\\n  tmpvar_4 = (uv - 0.5);\\n  uv1_3 = tmpvar_4;\\n  uv6_2 = tmpvar_4;\\n  float x_5;\\n  x_5 = (abs(tmpvar_4.x) - abs(tmpvar_4.y));\\n  float tmpvar_6;\\n  tmpvar_6 = (12.0 * sqrt((x_5 * x_5)));\\n  vec2 tmpvar_7;\\n  tmpvar_7 = normalize(tmpvar_4);\\n  d_1 = tmpvar_7;\\n  float tmpvar_8;\\n  tmpvar_8 = (float(mod (q28, 2.0)));\\n  if ((tmpvar_8 == 0.0)) {\\n    d_1 = ((q1 * tmpvar_7) - (q2 / tmpvar_7));\\n  };\\n  uv1_3 = (tmpvar_4 + ((-0.06 * \\n    dot (((texture (sampler_blur1, uv).xyz * scale1) + bias1), vec3(0.32, 0.49, 0.29))\\n  ) * normalize(tmpvar_4)));\\n  uv1_3 = (uv1_3 - (clamp (\\n    ((sin(tmpvar_6) / cos(tmpvar_6)) * d_1)\\n  , vec2(-4.0, -4.0), vec2(4.0, 4.0)) / 60.0));\\n  uv6_2 = (0.4 * cos((\\n    (uv1_3 * 2.0)\\n   * q28)));\\n  xlat_mutablemus = (clamp (vec3((0.0006 / \\n    (sqrt(dot (uv6_2, uv6_2)) - (0.002 * (q27 + (8.0 * q28))))\\n  )), 0.0, 1.0) * q31);\\n  xlat_mutablemus = (xlat_mutablemus * (1.0 + roam_cos).xyz);\\n  vec4 tmpvar_9;\\n  tmpvar_9.w = 1.0;\\n  tmpvar_9.xyz = ((0.4 * (\\n    ((texture (sampler_main, ((uv1_3 * \\n      (0.8 + (0.2 * tmpvar_6))\\n    ) + 0.5)).xyz + xlat_mutablemus) * 0.95)\\n   - 0.025)) + (0.6 * texture (sampler_main, uv_orig)).xyz);\\n  ret = tmpvar_9.xyz;\\n }","comp":"vec3 xlat_mutableneu;\\nvec3 xlat_mutableret2;\\nvec2 xlat_mutablers0;\\nvec2 xlat_mutablerss;\\nvec2 xlat_mutableuv2;\\n shader_body { \\n  vec2 uv_1;\\n  vec2 ofs_2;\\n  vec3 ret1_3;\\n  vec2 uv5_4;\\n  uv_1 = ((uv - 0.5) * aspect.xy);\\n  vec2 tmpvar_5;\\n  tmpvar_5.x = q5;\\n  tmpvar_5.y = q6;\\n  uv_1 = (uv_1 + (tmpvar_5 / 4.0));\\n  uv5_4 = uv_1;\\n  mat2 tmpvar_6;\\n  tmpvar_6[uint(0)] = _qb.xy;\\n  tmpvar_6[1u] = _qb.zw;\\n  uv_1 = (uv_1 * tmpvar_6);\\n  float tmpvar_7;\\n  float tmpvar_8;\\n  tmpvar_8 = (min (abs(\\n    (uv5_4.y / uv5_4.x)\\n  ), 1.0) / max (abs(\\n    (uv5_4.y / uv5_4.x)\\n  ), 1.0));\\n  float tmpvar_9;\\n  tmpvar_9 = (tmpvar_8 * tmpvar_8);\\n  tmpvar_9 = (((\\n    ((((\\n      ((((-0.01213232 * tmpvar_9) + 0.05368138) * tmpvar_9) - 0.1173503)\\n     * tmpvar_9) + 0.1938925) * tmpvar_9) - 0.3326756)\\n   * tmpvar_9) + 0.9999793) * tmpvar_8);\\n  tmpvar_9 = (tmpvar_9 + (float(\\n    (abs((uv5_4.y / uv5_4.x)) > 1.0)\\n  ) * (\\n    (tmpvar_9 * -2.0)\\n   + 1.570796)));\\n  tmpvar_7 = (tmpvar_9 * sign((uv5_4.y / uv5_4.x)));\\n  if ((abs(uv5_4.x) > (1e-08 * abs(uv5_4.y)))) {\\n    if ((uv5_4.x < 0.0)) {\\n      if ((uv5_4.y >= 0.0)) {\\n        tmpvar_7 += 3.141593;\\n      } else {\\n        tmpvar_7 = (tmpvar_7 - 3.141593);\\n      };\\n    };\\n  } else {\\n    tmpvar_7 = (sign(uv5_4.y) * 1.570796);\\n  };\\n  xlat_mutablers0.x = (((tmpvar_7 / 3.1416) * 6.0) * q28);\\n  float tmpvar_10;\\n  tmpvar_10 = (1.5 / sqrt(dot (uv_1, uv_1)));\\n  xlat_mutablers0.y = tmpvar_10;\\n  vec2 tmpvar_11;\\n  tmpvar_11.x = (xlat_mutablers0.x + (q9 * 4.0));\\n  tmpvar_11.y = (tmpvar_10 + ((q9 * q28) * 4.0));\\n  xlat_mutablerss = (tmpvar_11 / 12.0);\\n  vec2 tmpvar_12;\\n  tmpvar_12.x = q5;\\n  tmpvar_12.y = q6;\\n  ofs_2 = (0.1 * tmpvar_12.yx);\\n  float tmpvar_13;\\n  float tmpvar_14;\\n  tmpvar_14 = -(q9);\\n  tmpvar_13 = fract(tmpvar_14);\\n  mat2 tmpvar_15;\\n  tmpvar_15[uint(0)].x = 1.0;\\n  tmpvar_15[uint(0)].y = -0.0;\\n  tmpvar_15[1u].x = 0.0;\\n  tmpvar_15[1u].y = 1.0;\\n  xlat_mutableuv2 = ((uv_1 * (\\n    (q13 * tmpvar_13)\\n   * tmpvar_15)) * aspect.yx);\\n  xlat_mutableneu = (3.0 * texture (sampler_main, fract((\\n    (xlat_mutableuv2 + 0.5)\\n   + ofs_2)))).xyz;\\n  ret1_3 = max (vec3(0.0, 0.0, 0.0), (xlat_mutableneu * (1.0 - \\n    (tmpvar_13 * tmpvar_13)\\n  )));\\n  float tmpvar_16;\\n  tmpvar_16 = fract((tmpvar_14 + 0.3333333));\\n  mat2 tmpvar_17;\\n  tmpvar_17[uint(0)].x = -0.4990803;\\n  tmpvar_17[uint(0)].y = -0.8665558;\\n  tmpvar_17[1u].x = 0.8665558;\\n  tmpvar_17[1u].y = -0.4990803;\\n  xlat_mutableuv2 = ((uv_1 * (\\n    (q13 * tmpvar_16)\\n   * tmpvar_17)) * aspect.yx);\\n  xlat_mutableneu = (3.0 * texture (sampler_main, fract((\\n    (xlat_mutableuv2 + 0.5)\\n   + ofs_2)))).xyz;\\n  ret1_3 = max (ret1_3, (xlat_mutableneu * (1.0 - \\n    (tmpvar_16 * tmpvar_16)\\n  )));\\n  float tmpvar_18;\\n  tmpvar_18 = fract((tmpvar_14 + 0.6666667));\\n  mat2 tmpvar_19;\\n  tmpvar_19[uint(0)].x = -0.5018377;\\n  tmpvar_19[uint(0)].y = 0.8649619;\\n  tmpvar_19[1u].x = -0.8649619;\\n  tmpvar_19[1u].y = -0.5018377;\\n  xlat_mutableuv2 = ((uv_1 * (\\n    (q13 * tmpvar_18)\\n   * tmpvar_19)) * aspect.yx);\\n  xlat_mutableneu = (3.0 * texture (sampler_main, fract((\\n    (xlat_mutableuv2 + 0.5)\\n   + ofs_2)))).xyz;\\n  ret1_3 = max (ret1_3, (xlat_mutableneu * (1.0 - \\n    (tmpvar_18 * tmpvar_18)\\n  )));\\n  float tmpvar_20;\\n  tmpvar_20 = fract((tmpvar_14 + 1.0));\\n  mat2 tmpvar_21;\\n  tmpvar_21[uint(0)].x = 0.9999949;\\n  tmpvar_21[uint(0)].y = 0.003185092;\\n  tmpvar_21[1u].x = -0.003185092;\\n  tmpvar_21[1u].y = 0.9999949;\\n  xlat_mutableuv2 = ((uv_1 * (\\n    (q13 * tmpvar_20)\\n   * tmpvar_21)) * aspect.yx);\\n  xlat_mutableneu = (3.0 * texture (sampler_main, fract((\\n    (xlat_mutableuv2 + 0.5)\\n   + ofs_2)))).xyz;\\n  ret1_3 = max (ret1_3, (xlat_mutableneu * (1.0 - \\n    (tmpvar_20 * tmpvar_20)\\n  )));\\n  vec2 tmpvar_22;\\n  tmpvar_22.x = (ret1_3.x + ret1_3.z);\\n  tmpvar_22.y = (ret1_3.x - ret1_3.y);\\n  xlat_mutableret2 = (((\\n    (texture (sampler_blur1, fract((xlat_mutablerss + (tmpvar_22 / 2.0)))).xyz * scale1)\\n   + bias1) / tmpvar_10) * 12.0);\\n  vec4 tmpvar_23;\\n  tmpvar_23.w = 1.0;\\n  tmpvar_23.xyz = ((ret1_3 + (\\n    ((bass_att * 0.004) / sqrt(dot (uv_1, uv_1)))\\n   * roam_sin).xyz) + (sqrt(xlat_mutableret2.zxy) * clamp (\\n    (1.0 - (ret1_3 * 4.0))\\n  , 0.0, 1.0)));\\n  ret = tmpvar_23.xyz;\\n }"}') }, "./presets/converted/martin - castle in the air.json": e => { e.exports = JSON.parse('{"version":2,"baseVals":{"rating":2,"gammaadj":1.98,"decay":0.5,"echo_zoom":1,"echo_alpha":0.5,"echo_orient":3,"wave_mode":7,"additivewave":1,"wave_thick":1,"modwavealphabyvolume":1,"wave_brighten":0,"wrap":0,"darken":1,"wave_a":0.001,"wave_scale":0.958,"wave_smoothing":0.45,"modwavealphastart":0,"modwavealphaend":1.32,"warpanimspeed":1.459,"warpscale":2.007,"zoom":0.9999,"warp":0.01,"sx":0.9999,"wave_r":0,"wave_g":0,"wave_b":0,"ob_size":0,"ob_g":0.1,"ob_b":1,"ob_a":1,"ib_size":0,"ib_r":0,"ib_g":0,"ib_b":0,"mv_x":25.6,"mv_y":9.6,"mv_l":0,"mv_r":0.5,"mv_g":0.5,"mv_b":0.5,"mv_a":0,"b1ed":0},"shapes":[{"baseVals":{"textured":1,"x":0.09,"y":0.9,"rad":0.22437,"tex_zoom":1.76002,"r2":1,"g2":0,"a2":0.6,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"sides":100,"additive":1,"x":0.26,"y":0.2,"rad":0.39317,"tex_zoom":6.19589,"r":0,"g":0.55,"b":0.5,"g2":0.4,"b2":0.4,"a2":0.07,"border_r":0.3,"border_g":0.7,"border_b":0.8,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"sides":44,"additive":1,"x":0.503,"rad":0.03886,"tex_zoom":0.60986,"g":0.1,"a":0.9,"r2":1,"b2":1,"border_r":0.5,"border_g":0.5,"border_b":0.5,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"sides":100,"rad":0.01,"tex_zoom":0.49981,"r":0,"g2":0,"border_r":0.2,"border_g":0.7,"border_b":0.5,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""}],"waves":[{"baseVals":{"samples":282,"sep":20,"usedots":1,"thick":1,"additive":1,"scaling":3.91581,"smoothing":0.1,"r":0.2,"g":0.3,"a":0.6,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"usedots":1,"thick":1,"scaling":0.89152,"smoothing":0.82,"a":0.1,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"thick":1,"scaling":0.89152,"smoothing":0.82,"r":0,"g":0.2,"b":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"spectrum":1,"usedots":1,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""}],"init_eqs_eel":"//******** INITIALIZATION *********\\n//---------- some global vars, do not change -------------\\navg = 0.01;\\nq7 = .2; //MyZoom\\nq8 =  rand(200)/100-1; //fractal modifier\\n//q8 = -0; //#\\nq16 = 1.2; //Tele\\nq18 = rand(0.8)+.1; //brightness balance back/front\\nq17 = 2.6; //fractal density factor ffac\\nstart = 1; travel = 0; RotZ = 0; look = 0; slow = 0; t0 = time+3; lampx = .5; lampy = .5;\\ncran0 = rand(1);\\nn = 0; loop (10000, gmegabuf(n)=0; n=n+1; ); \\nn = 0; loop (10000,  megabuf(n)=0; n=n+1; ); \\ntrelx = 0;  trely = 0; trelz = 0;\\nreg20 = 1; reg21 = 0; reg22 = 0; reg23 = 0; reg24 = 1; reg25 = 0; reg26 = 0; reg27 = 0; reg28 = 1;\\n\\n//Find random starting point\\nwhile (exec2(\\n  ran1 = rand(800)/100;  ran2 = rand(800)/100;  ran3 = rand(800)/100;\\n  PosX = rand(10)-5;   PosY = rand(10)-5;   PosZ = rand(10)-5; \\n\\n//  PosX = 3.3; PosY = 2; PosZ = -2; ran1 = 0; ran2 = 0; ran3 = 0; //#\\n\\n  c1 = cos(ran1); c2 = cos(ran2); c3 = cos(ran3); \\n  s1 = sin(ran1); s2 = sin(ran2); s3 = sin(ran3);\\n\\n  reg20 = c2*c1; reg21 = c2*s1; reg22 = -s2;\\n  reg23 = s3*s2*c1 - c3*s1; reg24 = s3*s2*s1 + c3*c1; reg25 = s3*c2;\\n  reg26 = c3*s2*c1 + s3*s1; reg27 = c3*s2*s1 - s3*c1; reg28 = c3*c2;\\n\\n  //***********BOT*************\\n  //Coord. Trans. must exactly match def in warp S. !!!!\\n  dist = 0.001;\\n  while (exec2(\\n    uvx = reg26*dist/q7; uvy = reg27*dist/q7; uvz = reg28*dist/q7;\\n    uvx += PosX; uvy += PosY; uvz += PosZ;\\n    uvx = 8.0*((uvx/8+30.5 - int(uvx/8+30.5))-.5);\\n    uvy = 8.0*((uvy/8+30.5 - int(uvy/8+30.5))-.5);\\n    uvz = 8.0*((uvz/8+30.5 - int(uvz/8+30.5))-.5);\\n    uvx0 = uvx+q8; uvy0 = uvy+q8; uvz0 = uvz+q8;\\n    loop (7+1,\\n      uvx = if (uvx > 1, 2-uvx, if(uvx < -1, -2-uvx, uvx));\\n      uvy = if (uvy > 1, 2-uvy, if(uvy < -1, -2-uvy, uvy));\\n      uvz = if (uvz > 1, 2-uvz, if(uvz < -1, -2-uvz, uvz));\\n      slen = uvx*uvx + uvy*uvy + uvz*uvz;\\n      uvx = if (slen < 0.25, uvx*4, if (slen < 1, uvx/slen, uvx)) *q17 + uvx0; \\n      uvy = if (slen < 0.25, uvy*4, if (slen < 1, uvy/slen, uvy)) *q17 + uvy0; \\n      uvz = if (slen < 0.25, uvz*4, if (slen < 1, uvz/slen, uvz)) *q17 + uvz0; \\n    );\\n    len = sqrt(uvx*uvx + uvy*uvy + uvz*uvz);\\n    dist *= 1.05;\\n  ,(dist < 0.6)*(len > 30)));\\n,(dist < .06))); //end while","frame_eqs_eel":"fps_ = .0 * fps_ + 1*if(fps<=25,fps,25+.5*(fps-25)); \\ndec_s = 1-.03*30/fps_;\\ndec_m = 1-.1*30/fps_;\\nbeat = (time >  t0+3); t0 = if(beat, time, t0);\\n\\nspeed = min(0.2,dist_-.02) * (1+2*avg) *(1-slow*.0)*.1/q7; //#\\nds = ds * dec_s + (1-dec_s)*speed*.4/fps_; \\nRotZ = if (travel > 2,.5,0);\\nvol = vol*dec_m + (1-dec_m)*(bass_att +mid_att + treb_att)/4;\\nq1 = vol/2+.3;\\n//Position \\nDirX= reg26; DirY= reg27; DirZ = reg28;\\nPosX = PosX + ds*DirX ; PosY = PosY + ds*DirY; PosZ = PosZ + ds*DirZ; \\nq4 = PosX; q5 = PosY; q6 = PosZ;\\n\\nangchg = (.1-dist_)*(dist_ < .1);\\ntravel = if (angchg > 0,0,travel+ds);\\nv1 = v1 * dec_s + (1-dec_s)* RotZ * ds/2;\\nv2 = v2 *dec_s + (1-dec_s)*angchg *xslope/fps_;\\nv3 = v3 *dec_s + (1-dec_s)*(angchg *yslope/fps_ + 2*v1*sin(time*.1));\\n//v1 = 0.00;\\n//push old RotMat\\nreg30 =reg20; reg31 =reg21; reg32 =reg22; \\nreg33 =reg23; reg34 =reg24; reg35 =reg25; \\nreg36 =reg26; reg37 =reg27; reg38 =reg28; \\n\\nn = 0; avg = 0;\\nloop (5,\\n  n = n+1;\\n  //new Rot. Mat for infinitesimal angles\\n  ran1 = rand(100)/100;\\n  ran2 = rand(100)/200-.25;\\n  tx = cos(n*1.57+ran2) * (n <= 4)*ran1; ty = sin(n*1.57+ran2) * (n <= 4)*ran1;\\n  c1 = cos(v1); c2 = cos(v2+ty); c3 = cos(v3+tx); \\n  s1 = sin(v1); s2 = sin(v2+ty); s3 = sin(v3+tx);\\n  reg10 = c2*c1; reg11 = c2*s1; reg12 = -s2;\\n  reg13 = s3*s2*c1 - c3*s1; reg14 = s3*s2*s1 + c3*c1; reg15 = s3*c2;\\n  reg16 = c3*s2*c1 + s3*s1; reg17 = c3*s2*s1 - s3*c1; reg18 = c3*c2;\\n\\n  //pop old RotMat\\n  reg20 =reg30; reg21 =reg31; reg22 =reg32; \\n  reg23 =reg33; reg24 =reg34; reg25 =reg35; \\n  reg26 =reg36; reg27 =reg37; reg28 =reg38; \\n\\n  //Multiply new RotMat by old one\\n  q20 = reg10*reg20 + reg11*reg23 + reg12*reg26;\\n  q21 = reg10*reg21 + reg11*reg24 + reg12*reg27;\\n  q22 = reg10*reg22 + reg11*reg25 + reg12*reg28;\\n  q23 = reg13*reg20 + reg14*reg23 + reg15*reg26;\\n  q24 = reg13*reg21 + reg14*reg24 + reg15*reg27;\\n  q25 = reg13*reg22 + reg14*reg25 + reg15*reg28;\\n  q26 = reg16*reg20 + reg17*reg23 + reg18*reg26;\\n  q27 = reg16*reg21 + reg17*reg24 + reg18*reg27;\\n  q28 = reg16*reg22 + reg17*reg25 + reg18*reg28;\\n\\n  reg20 =q20; reg21 =q21; reg22 =q22;\\n  reg23 =q23; reg24 =q24; reg25 =q25;\\n  reg26 =q26; reg27 =q27; reg28 =q28;\\n\\n  //***********BOT*************\\n  //Coord. Trans. must exactly match def in warp S. !!!!\\n  dist = 0.002;\\n  while (exec2(\\n    uvx = reg26*dist/q7; uvy = reg27*dist/q7; uvz = reg28*dist/q7;\\n    uvx += PosX; uvy += PosY; uvz += PosZ;\\n    uvx = 8.0*((uvx/8+30.5 - int(uvx/8+30.5))-.5);\\n    uvy = 8.0*((uvy/8+30.5 - int(uvy/8+30.5))-.5);\\n    uvz = 8.0*((uvz/8+30.5 - int(uvz/8+30.5))-.5);\\n    uvx0 = uvx+q8; uvy0 = uvy+q8; uvz0 = uvz+q8;\\n    loop (7+1,\\n      uvx = if (uvx > 1, 2-uvx, if(uvx < -1, -2-uvx, uvx));\\n      uvy = if (uvy > 1, 2-uvy, if(uvy < -1, -2-uvy, uvy));\\n      uvz = if (uvz > 1, 2-uvz, if(uvz < -1, -2-uvz, uvz));\\n      slen = uvx*uvx + uvy*uvy + uvz*uvz;\\n      uvx = if (slen < 0.25, uvx*4, if (slen < 1, uvx/slen, uvx)) *q17 + uvx0; \\n      uvy = if (slen < 0.25, uvy*4, if (slen < 1, uvy/slen, uvy)) *q17 + uvy0; \\n      uvz = if (slen < 0.25, uvz*4, if (slen < 1, uvz/slen, uvz)) *q17 + uvz0; \\n    );\\n    len = sqrt(uvx*uvx + uvy*uvy + uvz*uvz);\\n    dist *= 1.1;\\n  ,(dist < 0.6)*(len > 30)));\\n  megabuf(n) = megabuf(n)*dec_s + (1-dec_s)*dist; //stores the 4 trial points\\n  avg = avg+abs(megabuf(n)/5);\\n); //end loop 5\\n\\nn = 0; avg = 0; loop (5, n=n+1; avg = avg+abs(megabuf(n)/5));\\n\\nxslope = min(max(2/avg*(megabuf(1)-megabuf(3)),-3),3);\\nyslope = min(max(2/avg*(megabuf(4)-megabuf(2)),-3),3);\\nmonitor = avg;\\ndist_ = dist_*dec_s + (1-dec_s)*dist;\\n\\nq10 = ds*q7; //compensation of lin. movement in GetDist and zoom uv\\nq14 = 1*abs(ds) + 2*(abs(v1) + abs(v2) + abs(v3)) + start*.05; \\nq19 = .6 + .4*sin(time*.02+cran0*6); //brightness backgd\\nstart = start * .9;\\n\\nwarp = 0.0; zoom = 1; \\ndx = -v2/q16; dy = v3/q16; rot = v1;\\nvx = vx -v2/q16; vy = vy +v3/q16; vz = vz + v1;\\nq11 = vx;  q12 = vy;\\nmovz = movz + ds;\\nq13 = movz;\\nmonitor = q13;","pixel_eqs_eel":"","warp":"float sustain;\\nfloat ffac;\\nfloat xlat_mutabledist;\\nfloat xlat_mutablelimit;\\nfloat xlat_mutablestruc;\\nvec2 xlat_mutableuv1;\\nvec3 xlat_mutableuv2;\\n shader_body { \\n  mat3 tmpvar_1;\\n  tmpvar_1[uint(0)].x = q20;\\n  tmpvar_1[uint(0)].y = q23;\\n  tmpvar_1[uint(0)].z = q26;\\n  tmpvar_1[1u].x = q21;\\n  tmpvar_1[1u].y = q24;\\n  tmpvar_1[1u].z = q27;\\n  tmpvar_1[2u].x = q22;\\n  tmpvar_1[2u].y = q25;\\n  tmpvar_1[2u].z = q28;\\n  vec3 tmpvar_2;\\n  tmpvar_2.x = q4;\\n  tmpvar_2.y = q5;\\n  tmpvar_2.z = q6;\\n  sustain = (0.98 - q14);\\n  ffac = q17;\\n  vec2 uv_3;\\n  uv_3 = (((uv - 0.5) * (1.0 - \\n    (q10 / (1.0 - ((texture (sampler_blur1, uv).xyz * scale1) + bias1).z))\\n  )) + 0.5);\\n  xlat_mutableuv1 = (((uv_orig - 0.5) * aspect.xy) * q16);\\n  vec4 tmpvar_4;\\n  tmpvar_4 = fract((8.0 * texture (sampler_noise_lq, (uv_3 + rand_frame.yz))));\\n  vec3 tmpvar_5;\\n  tmpvar_5 = tmpvar_4.xyz;\\n  if ((tmpvar_4.y > (0.4 * rad))) {\\n    vec3 tmpvar_6;\\n    tmpvar_6 = (tmpvar_4.xyz - vec3(0.5, 0.5, 0.5));\\n    vec4 nb2_7;\\n    vec4 nb_8;\\n    vec2 tmpvar_9;\\n    tmpvar_9 = (0.0078125 * floor((\\n      (128.0 * texture (sampler_pc_main, (uv_3 - texsize.zw)).yz)\\n     + vec2(0.5, 0.5))));\\n    nb_8.x = (1.0 - (tmpvar_9.y + (0.015625 * \\n      (tmpvar_9.x - 0.5)\\n    )));\\n    vec2 tmpvar_10;\\n    tmpvar_10 = (0.0078125 * floor((\\n      (128.0 * texture (sampler_pc_main, (uv_3 + (texsize.zw * vec2(1.0, -1.0)))).yz)\\n     + vec2(0.5, 0.5))));\\n    nb_8.y = (1.0 - (tmpvar_10.y + (0.015625 * \\n      (tmpvar_10.x - 0.5)\\n    )));\\n    vec2 tmpvar_11;\\n    tmpvar_11 = (0.0078125 * floor((\\n      (128.0 * texture (sampler_pc_main, (uv_3 + texsize.zw)).yz)\\n     + vec2(0.5, 0.5))));\\n    nb_8.z = (1.0 - (tmpvar_11.y + (0.015625 * \\n      (tmpvar_11.x - 0.5)\\n    )));\\n    vec2 tmpvar_12;\\n    tmpvar_12 = (0.0078125 * floor((\\n      (128.0 * texture (sampler_pc_main, (uv_3 + (texsize.zw * vec2(-1.0, 1.0)))).yz)\\n     + vec2(0.5, 0.5))));\\n    nb_8.w = (1.0 - (tmpvar_12.y + (0.015625 * \\n      (tmpvar_12.x - 0.5)\\n    )));\\n    vec2 tmpvar_13;\\n    tmpvar_13 = (0.0078125 * floor((\\n      (128.0 * texture (sampler_pc_main, (uv_3 + (texsize.zw * vec2(0.0, -1.0)))).yz)\\n     + vec2(0.5, 0.5))));\\n    nb2_7.x = (1.0 - (tmpvar_13.y + (0.015625 * \\n      (tmpvar_13.x - 0.5)\\n    )));\\n    vec2 tmpvar_14;\\n    tmpvar_14 = (0.0078125 * floor((\\n      (128.0 * texture (sampler_pc_main, (uv_3 + (texsize.zw * vec2(1.0, 0.0)))).yz)\\n     + vec2(0.5, 0.5))));\\n    nb2_7.y = (1.0 - (tmpvar_14.y + (0.015625 * \\n      (tmpvar_14.x - 0.5)\\n    )));\\n    vec2 tmpvar_15;\\n    tmpvar_15 = (0.0078125 * floor((\\n      (128.0 * texture (sampler_pc_main, (uv_3 + (texsize.zw * vec2(0.0, 1.0)))).yz)\\n     + vec2(0.5, 0.5))));\\n    nb2_7.z = (1.0 - (tmpvar_15.y + (0.015625 * \\n      (tmpvar_15.x - 0.5)\\n    )));\\n    vec2 tmpvar_16;\\n    tmpvar_16 = (0.0078125 * floor((\\n      (128.0 * texture (sampler_pc_main, (uv_3 + (texsize.zw * vec2(-1.0, 0.0)))).yz)\\n     + vec2(0.5, 0.5))));\\n    nb2_7.w = (1.0 - (tmpvar_16.y + (0.015625 * \\n      (tmpvar_16.x - 0.5)\\n    )));\\n    vec4 tmpvar_17;\\n    tmpvar_17 = min (nb_8, nb2_7);\\n    nb_8.zw = tmpvar_17.zw;\\n    nb_8.xy = min (tmpvar_17.xy, tmpvar_17.zw);\\n    xlat_mutabledist = (min (nb_8.x, nb_8.y) + ((0.006 * tmpvar_6.x) * abs(tmpvar_6.y)));\\n  } else {\\n    xlat_mutabledist = tmpvar_5.x;\\n  };\\n  vec2 tmpvar_18;\\n  tmpvar_18 = (0.0078125 * floor((\\n    (128.0 * texture (sampler_pc_main, uv_3).yz)\\n   + vec2(0.5, 0.5))));\\n  xlat_mutabledist = (min (xlat_mutabledist, (1.0 - \\n    (tmpvar_18.y + (0.015625 * (tmpvar_18.x - 0.5)))\\n  )) - (q10 * 0.8));\\n  xlat_mutablelimit = (15.0 + (10.0 * xlat_mutabledist));\\n  vec3 tmpvar_19;\\n  tmpvar_19.xy = (xlat_mutableuv1 * xlat_mutabledist);\\n  tmpvar_19.z = xlat_mutabledist;\\n  xlat_mutableuv2 = (((tmpvar_19 / q7) * tmpvar_1) + tmpvar_2);\\n  xlat_mutableuv2 = ((fract(\\n    ((xlat_mutableuv2 / 8.0) + 0.5)\\n  ) - 0.5) * 8.0);\\n  int iterations_21;\\n  vec3 zz0_22;\\n  vec3 zz_23;\\n  zz_23 = xlat_mutableuv2;\\n  zz0_22 = (xlat_mutableuv2 + q8);\\n  iterations_21 = int((8.0 - float(\\n    (xlat_mutabledist > 0.8)\\n  )));\\n  for (int n_20 = 0; n_20 <= iterations_21; n_20++) {\\n    zz_23 = ((2.0 * clamp (zz_23, vec3(-1.0, -1.0, -1.0), vec3(1.0, 1.0, 1.0))) - zz_23);\\n    zz_23 = (zz_23 * (clamp (\\n      max ((0.25 / dot (zz_23, zz_23)), 0.25)\\n    , 0.0, 1.0) * 4.0));\\n    zz_23 = ((ffac * zz_23) + zz0_22);\\n  };\\n  xlat_mutablestruc = (sqrt(dot (zz_23.xz, zz_23.xz)) / xlat_mutablelimit);\\n  vec2 tmpvar_24;\\n  tmpvar_24 = (0.0078125 * floor((\\n    (128.0 * vec2((1.0 - xlat_mutabledist)))\\n   + vec2(0.5, 0.5))));\\n  vec2 tmpvar_25;\\n  tmpvar_25.x = ((64.0 * (\\n    (1.0 - xlat_mutabledist)\\n   - tmpvar_24.x)) + 0.5);\\n  tmpvar_25.y = tmpvar_24.x;\\n  vec3 tmpvar_26;\\n  float tmpvar_27;\\n  tmpvar_27 = (q14 * 2.0);\\n  tmpvar_26.x = (((1.0 - sustain) * xlat_mutablestruc) + (sustain * mix (texture (sampler_main, uv_3).xyz, \\n    ((texture (sampler_blur1, uv_3).xyz * scale1) + bias1)\\n  , vec3(tmpvar_27)).x));\\n  tmpvar_26.yz = tmpvar_25;\\n  vec3 tmpvar_28;\\n  tmpvar_28.y = 1.0;\\n  tmpvar_28.x = sustain;\\n  tmpvar_28.z = 1.0;\\n  vec3 tmpvar_29;\\n  tmpvar_29.y = 0.0;\\n  tmpvar_29.x = 0.003921569;\\n  tmpvar_29.z = (0.01568628 * (0.2 + rad));\\n  vec4 tmpvar_30;\\n  tmpvar_30.w = 1.0;\\n  tmpvar_30.xyz = mix (tmpvar_26, ((\\n    mix (texture (sampler_main, uv_3).xyz, ((texture (sampler_blur1, uv_3).xyz * scale1) + bias1), vec3(tmpvar_27))\\n   * tmpvar_28) - tmpvar_29), vec3(clamp ((\\n    sqrt(dot (zz_23, zz_23))\\n   - xlat_mutablelimit), 0.0, 1.0)));\\n  ret = tmpvar_30.xyz;\\n }","comp":"float xlat_mutableinten;\\nfloat xlat_mutabletmp;\\nvec2 xlat_mutableuv1;\\nvec2 xlat_mutableuv2;\\nfloat xlat_mutablez;\\n shader_body { \\n  float t_rel_2;\\n  vec3 ret1_3;\\n  float struc_4;\\n  xlat_mutableuv1 = ((uv * aspect.xy) - vec2(0.5, 0.5));\\n  vec4 tmpvar_5;\\n  tmpvar_5 = texture (sampler_main, uv);\\n  float tmpvar_6;\\n  vec4 tmpvar_7;\\n  tmpvar_7 = texture (sampler_blur1, uv);\\n  tmpvar_6 = mix (min ((1.0 - tmpvar_5.z), (1.0 - \\n    ((texture (sampler_blur2, uv).xyz * scale2) + bias2)\\n  .z)), (1.0 - (\\n    (tmpvar_7.xyz * scale1)\\n   + bias1).z), 0.5);\\n  struc_4 = ((mix (tmpvar_5.xyz, \\n    ((tmpvar_7.xyz * scale1) + bias1)\\n  , vec3(tmpvar_6)).x * (1.0 - tmpvar_6)) * tmpvar_6);\\n  vec2 tmpvar_8;\\n  tmpvar_8.x = q11;\\n  tmpvar_8.y = q12;\\n  xlat_mutableuv2 = ((xlat_mutableuv1 * 0.2) - (tmpvar_8 * 0.2));\\n  vec2 uvi_9;\\n  uvi_9 = (xlat_mutableuv2 * 4.0);\\n  float zv_10;\\n  zv_10 = (0.008 * time);\\n  xlat_mutabletmp = clamp (dot ((texture (sampler_noise_hq, \\n    (xlat_mutableuv2 + (0.03 * ((\\n      (dot (texture (sampler_noise_hq, uvi_9), vec4(0.32, 0.49, 0.29, 0.0)) + (dot (texture (sampler_noise_hq, (\\n        (uvi_9 * 2.0)\\n       + zv_10)), vec4(0.32, 0.49, 0.29, 0.0)) / 2.0))\\n     + \\n      (dot (texture (sampler_noise_hq, ((uvi_9 * 4.0) + (2.0 * zv_10))), vec4(0.32, 0.49, 0.29, 0.0)) / 4.0)\\n    ) + (\\n      dot (texture (sampler_noise_hq, ((uvi_9 * 8.0) + (4.0 * zv_10))), vec4(0.32, 0.49, 0.29, 0.0))\\n     / 8.0))))\\n  ) - 0.4), vec4(0.32, 0.49, 0.29, 0.0)), 0.0, 1.0);\\n  float tmpvar_11;\\n  tmpvar_11 = clamp ((pow (xlat_mutabletmp, 1.2) * sign(xlat_mutabletmp)), 0.0, 1.0);\\n  xlat_mutabletmp = tmpvar_11;\\n  vec3 tmpvar_12;\\n  tmpvar_12.xy = vec2(0.1, 0.1);\\n  tmpvar_12.z = (1.2 - uv.y);\\n  ret1_3 = ((tmpvar_12 + 0.07) + ((\\n    clamp (((tmpvar_6 * 2.0) - 1.5), 0.0, 1.0)\\n   * tmpvar_11) * 4.0));\\n  t_rel_2 = (q13 * 6.0);\\n  for (int n_1 = 1; n_1 <= 3; n_1++) {\\n    xlat_mutablez = (1.0 - fract((\\n      (float(n_1) / 3.0)\\n     - \\n      (fract(-(t_rel_2)) / 3.0)\\n    )));\\n    xlat_mutableinten = (((1.0 - xlat_mutablez) * xlat_mutablez) * 2.0);\\n    vec2 tmpvar_13;\\n    tmpvar_13.x = q11;\\n    tmpvar_13.y = q12;\\n    xlat_mutableuv2 = (((xlat_mutablez * xlat_mutableuv1) / 4.0) - (tmpvar_13 / 6.0));\\n    vec2 uvi_14;\\n    uvi_14 = (xlat_mutableuv2 * 4.0);\\n    float zv_15;\\n    zv_15 = (0.008 * time);\\n    xlat_mutabletmp = clamp (dot ((\\n      (texture (sampler_noise_hq, (xlat_mutableuv2 + (0.03 * (\\n        ((dot (texture (sampler_noise_hq, uvi_14), vec4(0.32, 0.49, 0.29, 0.0)) + (dot (texture (sampler_noise_hq, \\n          ((uvi_14 * 2.0) + zv_15)\\n        ), vec4(0.32, 0.49, 0.29, 0.0)) / 2.0)) + (dot (texture (sampler_noise_hq, (\\n          (uvi_14 * 4.0)\\n         + \\n          (2.0 * zv_15)\\n        )), vec4(0.32, 0.49, 0.29, 0.0)) / 4.0))\\n       + \\n        (dot (texture (sampler_noise_hq, ((uvi_14 * 8.0) + (4.0 * zv_15))), vec4(0.32, 0.49, 0.29, 0.0)) / 8.0)\\n      )))) - (xlat_mutablez * 0.5))\\n     - 0.3), vec4(0.32, 0.49, 0.29, 0.0)), 0.0, 1.0);\\n    xlat_mutabletmp = (((\\n      clamp ((xlat_mutabletmp * sign(xlat_mutabletmp)), 0.0, 1.0)\\n     * xlat_mutableinten) * q1) * 2.0);\\n    ret1_3 = (((ret1_3 + \\n      ((vec3(4.0, 3.0, 0.8) * q1) * struc_4)\\n    ) * clamp (\\n      (1.0 - xlat_mutabletmp)\\n    , 0.0, 1.0)) + xlat_mutabletmp);\\n  };\\n  vec4 tmpvar_16;\\n  tmpvar_16.w = 1.0;\\n  tmpvar_16.xyz = (1.0 - exp((-1.6 * ret1_3)));\\n  ret = tmpvar_16.xyz;\\n }"}') }, "./presets/converted/martin - chain breaker.json": e => { e.exports = JSON.parse('{"version":2,"baseVals":{"rating":4,"gammaadj":1.98,"decay":0.5,"echo_zoom":1,"echo_alpha":0.5,"echo_orient":3,"additivewave":1,"wave_dots":1,"wave_thick":1,"wave_brighten":0,"darken":1,"wave_a":0.001,"wave_scale":0.527,"wave_smoothing":0,"wave_mystery":0.6,"modwavealphastart":0,"modwavealphaend":1.32,"warpanimspeed":1.459,"warpscale":2.007,"zoom":0.9999,"warp":0.01,"sx":0.9999,"wave_g":0.49,"ob_a":1,"ib_size":0.26,"mv_x":64,"mv_y":48,"mv_l":1.85,"mv_r":0.5,"mv_g":0.5,"mv_b":0.5,"mv_a":0,"b2x":0.6,"b3x":0.4,"b1ed":0},"shapes":[{"baseVals":{"sides":8,"additive":1,"num_inst":256,"rad":0.03632,"tex_ang":1.00531,"tex_zoom":1.53117,"g":1,"b":1,"a":0,"g2":0,"border_r":0,"border_g":0,"border_b":0,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"enabled":1,"sides":5,"additive":1,"num_inst":256,"x":0.26,"y":0.2,"rad":0.39317,"tex_zoom":0.9355,"g2":0,"a2":0.2,"border_g":0,"border_b":0,"border_a":0},"init_eqs_eel":"","frame_eqs_eel":"n = (instance);\\nFLen = reg00;\\nSLen = reg00/2;\\n\\nz0 = 10;\\ny0 = gmegabuf(2000+n+FLen)/z0;\\nx0 = gmegabuf(2000+n)/z0;\\n\\na0 = (gmegabuf(n+10000));\\n\\nk1 = instance/num_inst-.5;\\nx = .5 + x0 + sin(k1*8*sin(q12*.07)) * sin(q11*.13)*q3*.7; \\ny = .5 + q32*(y0 + sin(k1*8*sin(q14*.1)) * sin(q13*.2)*q3*.7); \\n\\narg = q2/8;\\nhigh = exp(-500*pow(arg+.5-instance/num_inst,2));\\nhigh += exp(-500*pow(-arg+.5-instance/num_inst,2));\\n\\nexc = sqrt((pow(x-.5,2)+pow(y-.5,2)));\\nrad0 = above(z0,0)*min (.1, a0/60)+.005;\\nrad0 = rad0 * (1+2*exc) * (1+high);\\n\\np1 = .5 + sin(q12)/2;\\np2 = .5 + sin(q13*1.4)/2;\\n//p1 = rand(1)-.5;\\n//p2 = rand(1)-.5;\\nexc = ((pow(x-p1,2)+pow(y-p2,2)));\\nrad = min(rad0 * (1 + .004*q3/abs(exc)),1) ;\\n\\na = min(a0*8+.4,1);\\n\\nk1 = instance/num_inst*5 + high;\\nw = 1-exp(-treb_att/2-.5);\\ng = w + (1-w)*sin(k1);\\nr = w + (1-w)*sin(k1-6.28/3);\\nb = w + (1-w)*sin(k1-6.28*2/3);\\n\\na2 = a/4;\\ng2 = g*0; b2 = b*0; r2 = r*0;"},{"baseVals":{"sides":13,"additive":1,"num_inst":5,"x":0.65,"y":0.38,"rad":0.57049,"tex_zoom":0.73678,"a":0.7,"g2":0,"border_r":0.5,"border_g":0.5,"border_b":0,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"k1 = instance/num_inst;\\nx = .5 + .3*sin(instance*k1*413);\\ny = .5 + .3 * sin(instance*k1*113);\\n\\nrad = .1 + .4*sin(k1*333);\\n\\nr =  .5*sin(k1*234);\\nb =  .5*sin(k1*534);\\ng =  .5*sin(k1*34);"},{"baseVals":{"sides":14,"additive":1,"thickoutline":1,"textured":1,"x":0.6,"y":0.55,"rad":0.97237,"ang":1.25664,"tex_zoom":0.34933,"g":0.6,"g2":0,"b2":1,"border_r":0.2,"border_g":0.7,"border_b":0.5,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""}],"waves":[{"baseVals":{"enabled":1,"sep":120,"spectrum":1,"additive":1,"scaling":7.52386,"smoothing":0,"r":0,"a":0.7},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":"FLen = reg00;\\n\\nn = int(sample*FLen);\\nvol = (value1+value2) * (1+ .1 / (sample+.03));\\n\\nchg = min(max(vol- gmegabuf(n),-1),1);\\ndec = if (chg>0, 1-chg*0.3, 1+chg*0.2);\\n\\nchg = q1 -q2;\\ndec = .94 - abs(chg) * if (chg> 0, .2,.1);\\n\\ndec = min(max(dec,0),1);\\ngmegabuf(n) = gmegabuf(n)*dec + vol*(1-dec);\\n\\ndec = q2/4;\\n//dec = .90;\\ndec = max(min(dec,1),.1);\\n\\ngmegabuf(n) = gmegabuf(n)*dec + gmegabuf(n+(q2<.8))*(1-dec);\\ngmegabuf(n+10000) = gmegabuf(n+10000)*.2 + .8* vol/3;\\na = .0;\\nx = sample;\\ny = .2 + gmegabuf(n+0)*.23;"},{"baseVals":{"samples":256,"usedots":1,"scaling":0.89152,"smoothing":0.82,"a":0.9,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"samples":32,"thick":1,"scaling":0.89152,"smoothing":0.82,"r":0,"g":0.2,"b":0.6,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"spectrum":1,"usedots":1,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""}],"init_eqs_eel":"n = 0;\\nloop (50000,\\ngmegabuf(n) = 0;\\nmegabuf(n) = 0;\\nn = n+1;\\n);\\n\\nsw1 = rand(8);\\nsw2 = rand(8);\\nsw3 = rand(8);\\nsw4 = rand(8);","frame_eqs_eel":"flen = 512; //Wave Punkte\\nreg00 = FLen;\\nSLen = FLen/2;\\ndec_m = pow(.94, 30/fps);\\n\\n//Volume\\nn = 0; vol = 0;\\nloop (SLen,\\n  vol = vol + pow(gmegabuf(n),2)/FLen;  \\n  n = n+1;\\n);\\nvol = sqrt(vol)/2;\\nvol_ = vol_*dec_m + (1-dec_m)* (vol);\\n\\n//switches\\nlev1 = lev1 * dec_m + (1-dec_m) * gmegabuf(1);\\nlev2 = lev2 * dec_m + (1-dec_m) * gmegabuf(20);\\nlev3 = lev3 * dec_m + (1-dec_m) * gmegabuf(50);\\nlev4 = lev4 * dec_m + (1-dec_m) * gmegabuf(100);\\nsw1 = sw1 + (lev1-gmegabuf(1)>0)/fps;\\nsw2 = sw2 + (lev2-gmegabuf(20)>0)/fps;\\nsw3 = sw3 + (lev3-gmegabuf(50)>0)/fps;\\nsw4 = sw4 + (lev4-gmegabuf(100)>0)/fps;\\n\\ndif = (1+sin(sw3/4))*16+2;\\nofs = sin(sw2/3)*8;\\nn = 0; k1 = frame*0; \\nloop (SLen,\\n      m1 = (n)%SLen;\\n      m2 = (n+ofs)%SLen;\\n\\n      k = (m1+dif)%SLen;\\n      i = (SLen+m2-dif)%SLen;\\n\\n      in1 = (gmegabuf(m1)-gmegabuf(k))/pow(vol_+.03,.8)*1.2;\\n      in2 = (gmegabuf(m2)-gmegabuf(i))/pow(vol_+.03,.8)*1.2;\\n\\n      dec = if (pow(gmegabuf(2000+n),2) + pow(gmegabuf(2000+FLen+n),2)> in1*in1+in2*in2,.8,.94) ;\\n      dec = pow (dec, 30/fps); \\n\\n      gmegabuf(2000+n) =       gmegabuf(2000+n)*dec      +(1-dec)* in1;\\n      gmegabuf(2000+FLen+n) =  gmegabuf(2000+FLen+n)*dec +(1-dec)* in2;\\n      n=n+1;\\n);\\n\\nq1 = (bass+treb+mid)/3;\\nq2 = (bass_att+treb_att+mid_att)/3;\\nq3 = vol_;\\nq11 = sw1;\\nq12 = sw2;\\nq13 = sw3;\\nq14 = sw4;\\n\\nrot = 0; zoom = .98; warp = .3; rot = 0;\\n\\nq32 = aspecty;\\nmonitor = dif;","pixel_eqs_eel":"","warp":" shader_body { \\n  vec4 tmpvar_1;\\n  tmpvar_1.w = 1.0;\\n  tmpvar_1.xyz = ((texture (sampler_main, uv).xyz * clamp (\\n    (q1 - 0.8)\\n  , 0.0, 1.0)) * 0.92);\\n  ret = tmpvar_1.xyz;\\n }","comp":" shader_body { \\n  vec3 ret_1;\\n  ret_1 = (texture (sampler_main, uv).xyz + ((texture (sampler_blur2, uv).xyz * scale2) + bias2));\\n  ret_1 = (ret_1 + ((0.8 * \\n    (hue_shader - 0.8)\\n  ) * (1.0 - uv.y)));\\n  vec4 tmpvar_2;\\n  tmpvar_2.w = 1.0;\\n  tmpvar_2.xyz = ret_1;\\n  ret = tmpvar_2.xyz;\\n }"}') }, "./presets/converted/martin - disco mix 4.json": e => { e.exports = JSON.parse('{"version":2,"baseVals":{"rating":0,"gammaadj":1.980001,"decay":0.5,"echo_zoom":0.999998,"echo_alpha":0.5,"echo_orient":3,"wave_mode":2,"modwavealphabyvolume":1,"wave_brighten":0,"wrap":0,"darken":1,"wave_a":0.001,"wave_scale":20.944651,"wave_smoothing":0,"wave_mystery":0.08,"modwavealphastart":0,"modwavealphaend":1.32,"warpanimspeed":1.4595,"warpscale":2.0067,"zoom":0.9999,"warp":0.01,"sx":0.9999,"wave_r":0,"wave_g":0.99,"ob_size":0.015,"ob_b":1,"ib_size":0.26,"mv_x":64,"mv_y":48,"mv_l":1.85,"mv_r":0.4999,"mv_g":0.4999,"mv_b":0.4999,"mv_a":0,"b1ed":0},"shapes":[{"baseVals":{"enabled":1,"textured":1,"y":0.47,"rad":0.24057,"tex_zoom":0.14057,"g":0.3,"b":0.5,"g2":0,"b2":0.3,"a2":1,"border_b":0,"border_a":0},"init_eqs_eel":"","frame_eqs_eel":"\\nx = .5; y = .5;\\na = q24; \\na2 = q24;\\n//a = 1;"},{"baseVals":{"enabled":1,"sides":100,"additive":1,"thickoutline":1,"rad":0.05134,"tex_zoom":0.12288,"r":0.3,"g":0.2,"b":0.2,"a":0.7,"g2":0,"border_r":0,"border_g":0.5,"border_b":0.5,"border_a":0},"init_eqs_eel":"","frame_eqs_eel":"r = .5 + .3 * sin(time);\\ng = .5 + .3 * sin(time/1.5);\\nb = .5 + .3 * sin(time/3.7);\\n\\nr2 = 0; b2 = 0; g2 = 0;\\n\\na = .05; a2 = 0;"},{"baseVals":{"x":0.503,"rad":0.01,"tex_zoom":0.609857,"r":0,"a":0,"g2":0,"a2":1,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"\\ndy = .1 * sin(time*14);;\\ndx = q1*dy;\\n\\nx = .5 + dx;\\ny = .5 + dy;\\n\\na = q25; a2 = q25;\\nrad = q21/110;"},{"baseVals":{"sides":63,"textured":1,"y":1,"rad":0.548217,"tex_zoom":0.499805,"g":1,"b":1,"r2":1,"b2":1,"border_r":0.5,"border_g":0.5,"border_b":0.5,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""}],"waves":[{"baseVals":{"enabled":1,"samples":100,"thick":1,"scaling":0.045052,"smoothing":0.1,"a":0.6},"init_eqs_eel":"","frame_eqs_eel":"t2 = .45 + rand(10)/100;","point_eqs_eel":"k1 = bnot((sample*100+time)%2);\\n\\ndy = .015*above(sin(sample*11),0) \\n    +.008*above(sin(time+sample*74),0)\\n    +.008*above(sin(time+sample*128),0);\\n \\ndx = .01*above(sin(sample*27),0) + \\n      +.01*above(sin(time+sample*134),0);\\n\\nx = .2*(sample-.5) + .5 + dx;\\ny = t2 + dy;\\n\\na = q24 * k1 * bnot(q27%4);\\n\\nr = .6; g = 0; b = .6;"},{"baseVals":{"thick":1,"scaling":0.891519,"smoothing":0.82,"a":0.02,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"tm = time*.1;\\nt1 = t1*sin(tm*t4) + (1-t1)*sin(tm*t7);\\nt2 = t2*sin(tm*t5) + (1-t2)*sin(tm*t8);\\nt3 = t3*sin(tm*t6) + (1-t3)*sin(tm*1);\\n\\ntic = min(time - tin,1);\\ntin = time;\\n\\ntva = (tic*q1*.5);\\ntvb = (tic*q2*.5);\\ntvc = (tic*q3*.5);\\n\\nq1 = tva;\\nq2 = tvb;\\nq3 = tvc;\\n\\nsz = .5;\\nlen = q4;\\nt4 = len;","point_eqs_eel":""},{"baseVals":{"thick":1,"scaling":0.891519,"smoothing":0.82,"r":0,"g":0.2,"b":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"tm = time*.1;\\nt1 = t1*sin(tm*t4) + (1-t1)*sin(tm*t7);\\nt2 = t2*sin(tm*t5) + (1-t2)*sin(tm*t8);\\nt3 = t3*sin(tm*t6) + (1-t3)*sin(tm*1);\\n\\ntic = min(time - tin,1);\\ntin = time;\\n\\ntva = (tic*q1*.5);\\ntvb = (tic*q2*.5);\\ntvc = (tic*q3*.5);\\n\\nq1 = tva;\\nq2 = tvb;\\nq3 = tvc;\\n\\nsz = .5;\\nlen = 1;\\nt4 = len;","point_eqs_eel":""},{"baseVals":{"spectrum":1,"usedots":1,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""}],"init_eqs_eel":"xk = 0;","frame_eqs_eel":"dec_med = pow (0.8, 30/fps);\\ndec_slow = pow (0.95, 30/fps);\\ndec_xlow = pow (0.995, 30/fps);\\nbeat = max (max (bass, mid), treb); \\navg = avg*dec_slow + beat*(1-dec_slow);\\nis_beat = above(beat, .2+avg+peak) * above (time, t0+.2);\\nt0 = is_beat*time + (1-is_beat)*t0;\\npeak = is_beat * beat + (1-is_beat)*peak*dec_med;\\nindex = (index + is_beat) %16;\\nindex2 = (index2 + is_beat*bnot(index))%2;\\n\\nq20 = avg;\\nq21 = beat;\\nq22 = peak;\\nq23 = index;\\nq24 = is_beat;\\nq26 = bass_att + mid_att + treb_att;\\nq27 = index + 1;\\n\\npeakx = above(q22,1.5*maxp);\\nmaxp = max(maxp, q22);\\nmaxp = maxp*dec_xlow;\\n\\nk1 =  is_beat*equal(index%3,0);\\np1 =  k1*(p1+1) + (1-k1)*p1;\\np2 = dec_med * p2+ (1-dec_med)*p1;\\nrott = p2 * 3.1416/4;\\n\\nq1 = cos(rott);\\nq2 = sin(rott);\\nq3 = -q2;\\nq4 = q1;\\n\\ntrig = q24 * bnot(index%4);\\ndir = dir + trig * q26*(rand(100)/100-.5)/2 + peakx;\\ndir_ = dir_ * dec_slow + dir*(1-dec_slow);\\ndir__ = dir__ * dec_slow + dir_*(1-dec_slow);\\n\\nq5 = cos(dir__); \\nq6 = sin(dir__);\\n\\nspeed = speed * bnot(trig) + trig*q26*5/fps ;\\nspeed_= speed_* dec_slow + speed*(1-dec_slow);\\n\\nmovx = movx + speed_*q6;\\nmovy = movy + speed_*q5;\\n\\n//movx = movx + speed;\\n//movy = movy + speed;\\n\\n\\nq7 = movx;\\nq8 = movy;\\n\\ntilt = dir - dir__;\\ntilt_ = dec_slow*tilt_ + (1-dec_slow)*tilt;\\n\\n\\nmonitor = maxp;\\nq9 = cos(tilt_*speed_);\\nq10 = sin(tilt_*speed_);\\n\\nq12 = time;","pixel_eqs_eel":"zoom = 1.3;","warp":" shader_body { \\n  vec2 uv_1;\\n  vec2 uv6_2;\\n  vec2 tmpvar_3;\\n  tmpvar_3 = ((uv - 0.5) * aspect.xy);\\n  float tmpvar_4;\\n  tmpvar_4 = ((2.0 * sqrt(\\n    dot (tmpvar_3, tmpvar_3)\\n  )) + (rand_frame * 64.0)).x;\\n  uv_1 = (uv + (clamp (\\n    ((sin(tmpvar_4) / cos(tmpvar_4)) * normalize(tmpvar_3))\\n  , vec2(-2.0, -2.0), vec2(2.0, 2.0)) / 20.0));\\n  uv6_2 = (0.4 * sin((tmpvar_3 * 22.0)));\\n  vec4 tmpvar_5;\\n  tmpvar_5.w = 1.0;\\n  tmpvar_5.xyz = (((q24 * \\n    (((texture (sampler_main, uv_1).xyz - (\\n      ((texture (sampler_blur1, fract(uv_1)).xyz * scale1) + bias1)\\n     * 0.04)) + (0.15 * (vec3(\\n      (0.1 / sqrt(dot (uv6_2, uv6_2)))\\n    ) * roam_cos.xyz))) - 0.02)\\n  ) * 0.98) + ((1.0 - q24) * texture (sampler_main, uv_orig).xyz));\\n  ret = tmpvar_5.xyz;\\n }","comp":"vec3 xlat_mutableret1;\\nvec2 xlat_mutablers;\\n shader_body { \\n  vec2 uv1_1;\\n  mat2 tmpvar_2;\\n  tmpvar_2[uint(0)].x = q9;\\n  tmpvar_2[uint(0)].y = -(q10);\\n  tmpvar_2[1u].x = q10;\\n  tmpvar_2[1u].y = q9;\\n  uv1_1 = (((uv_orig - 0.5) * aspect.xy) * tmpvar_2);\\n  uv1_1 = (uv1_1 * aspect.yx);\\n  float tmpvar_3;\\n  tmpvar_3 = (3.0 / abs(uv1_1.y));\\n  xlat_mutablers.x = (uv1_1.x * tmpvar_3);\\n  xlat_mutablers.y = (tmpvar_3 / 2.0);\\n  mat2 tmpvar_4;\\n  tmpvar_4[uint(0)].x = q5;\\n  tmpvar_4[uint(0)].y = -(q6);\\n  tmpvar_4[1u].x = q6;\\n  tmpvar_4[1u].y = q5;\\n  xlat_mutablers = (tmpvar_4 * xlat_mutablers);\\n  vec2 tmpvar_5;\\n  tmpvar_5.x = q7;\\n  tmpvar_5.y = q8;\\n  xlat_mutablers = (xlat_mutablers + tmpvar_5);\\n  xlat_mutableret1 = ((texture (sampler_blur1, fract(\\n    (xlat_mutablers / 12.0)\\n  )).xyz * scale1) + bias1);\\n  vec2 tmpvar_6;\\n  tmpvar_6.y = 0.0;\\n  tmpvar_6.x = q5;\\n  vec4 tmpvar_7;\\n  tmpvar_7.w = 1.0;\\n  tmpvar_7.xyz = (((xlat_mutableret1 * 32.0) / tmpvar_3) + ((\\n    ((q22 * sqrt(tmpvar_3)) / 4.0)\\n   * \\n    sin(((uv1_1 - q12) * q27))\\n  .x) * texture (sampler_main, (\\n    (((4.0 * xlat_mutableret1) / tmpvar_3).xy + ((uv1_1 / 2.0) / (0.5 + abs(uv1_1.y))))\\n   + tmpvar_6)).xyz));\\n  ret = tmpvar_7.xyz;\\n }"}') }, "./presets/converted/martin - extreme heat.json": e => { e.exports = JSON.parse('{"version":2,"baseVals":{"rating":5,"gammaadj":1.98,"decay":0.5,"echo_zoom":0.952,"echo_alpha":0.5,"echo_orient":3,"wave_mode":5,"additivewave":1,"wave_thick":1,"modwavealphabyvolume":1,"wave_brighten":0,"darken":1,"wave_a":0.001,"wave_scale":0.474,"wave_smoothing":0.45,"modwavealphastart":0,"modwavealphaend":1.32,"warpanimspeed":1.459,"warpscale":2.007,"zoom":0.9999,"warp":0.01,"sx":0.9999,"wave_r":0.8,"wave_g":0.49,"ob_size":0,"ob_a":0.3,"ib_size":0.26,"mv_x":64,"mv_y":48,"mv_l":1.85,"mv_r":0.5,"mv_g":0.5,"mv_b":0.5,"mv_a":0,"b1x":0.8,"b1ed":0},"shapes":[{"baseVals":{"enabled":1,"sides":7,"additive":1,"num_inst":1024,"rad":0.04896,"tex_ang":1.00531,"tex_zoom":1.53117,"r":0,"g":1,"b":1,"a":0,"g2":0,"border_b":0,"border_a":0},"init_eqs_eel":"","frame_eqs_eel":"max_age = reg00;\\nn = instance*12;\\n\\nx0 = gmegabuf (n);\\ny0 = gmegabuf (n+1);\\nz0 = gmegabuf (n+2); \\nif (z0 < -100, rad = 0; gmegabuf(n+8) = max_age,\\n  rad0 = pow(1-gmegabuf(n+8)/max_age,0.2)/z0* gmegabuf(n+7) + 0.01;\\n  rad = abs(rad0)*0.032 ;\\n\\n  x = 0.5 + x0/z0;\\n  y = 0.5 + y0/z0;\\n);\\n\\na = 1; a2 = 0.2;\\n\\ng = .8; g2 = .0;\\n//b = (gmegabuf(n+7)>0)*0.04/abs(rad0); b2 = 0;\\nb = (rand(10)>3)*0.2 + 0.2*(z0<0); b2 =0;\\n\\n"},{"baseVals":{"sides":12,"thickoutline":1,"x":0.9,"y":0.7,"rad":0.02958,"tex_zoom":0.9355,"g":0.5,"b":1,"g2":0,"b2":0.4,"border_r":0.3,"border_g":0.7,"border_b":0.8,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"a = 1;"},{"baseVals":{"sides":44,"textured":1,"rad":1.397,"tex_zoom":0.44799,"a":0.5,"r2":1,"g2":0,"border_r":0.5,"border_g":0.5,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"sides":34,"thickoutline":1,"x":0.65,"y":0.8,"rad":0.14595,"tex_zoom":0.3357,"g2":0,"border_r":0.2,"border_g":0.7,"border_b":0.5,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"a = q22;"}],"waves":[{"baseVals":{"enabled":1,"samples":160,"sep":20,"usedots":1,"additive":1,"scaling":7.858,"smoothing":0.1,"r":0.2,"g":0.3,"a":0.6},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":"x = rand(100)/100;\\ny =  0.5 - (1-0.7)/q32- 0.15*(rand(100)/100-0.5);\\na = 0.15;\\n\\nr= 0; b=1; g = 0;"},{"baseVals":{"usedots":1,"thick":1,"scaling":0.89152,"smoothing":0.82,"a":0.1,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"thick":1,"scaling":0.89152,"smoothing":0.82,"r":0,"g":0.2,"b":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"spectrum":1,"usedots":1,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""}],"init_eqs_eel":"max_age =  4.5; // Sekunden\\nreg00 = max_age;\\n\\nn = 0;\\nloop (12*1024, gmegabuf(n) = max_age-1 + rand(2); n+=1);\\n\\n\\nq9 = (rand(25)-10)*2;\\nq3 = rand (100)/100;\\nq4 = rand (100)/100;\\n\\n//q2 = q3 = q4 = 0;\\n//record\\n// 0 : xpos\\n// 1 : ypos\\n// 2 : zpos\\n// 3 :vx\\n// 4 :vy\\n// 5 :vz\\n\\n\\n// 8 : age","frame_eqs_eel":"dec_fast = 1 - 0.22*40/fps;\\ndec_med  = 1 - 0.15*40/fps;\\ndec_slow = 1 - 0.04* 40/fps;\\n\\nvol = (bass+med+treb)/3;\\nvol_ = vol_*dec_slow + (1-dec_slow)*vol;\\nbeat = vol;\\nis_beat = above(beat, 1+peak*4) * above (time, t0+.2);\\nt0   = if (is_beat,time,t0);\\npeak = if (is_beat, beat, peak*dec_med);\\n\\nindex = (index + is_beat) %1024;\\nind1 = ind1*dec_med + (1-dec_fast)*index;\\nind2 = ind2*dec_med + (1-dec_fast)*ind1;\\nq27 = ind2;\\nq24 = is_beat;\\n\\n//Partikel\\nran1 = if (is_beat, rand(100)/100-0.5, ran1);\\nran2 = if (is_beat, rand(100)/50+1, ran2);\\nran1_ = dec_med * ran1_ + (1-dec_med)*ran1;\\nhigh = ran2 > 2.9;\\nq5 = ran1_;\\n\\nn = 0;\\npush = max(0,vol-vol_alt)*vol_; air = 0.1*dt; \\ndt = 1/fps;\\nv00 = pow(push,0.25)+0.4; Free = 512; New = 0;\\n\\ny0 = -0.68; yobf = y0+0.1;\\nloop (512,\\n   megabuf (n) = gmegabuf (n);\\n   megabuf (n+1) = gmegabuf (n+1);\\n   megabuf (n+2) = gmegabuf (n+2);\\n  if (gmegabuf(n+8) > max_age,\\n    if (band(push >= dt*10 * !high,New < 200), \\n    Free -= 1; New +=1;\\n    // Init Neues Partikel\\n     Tht = rand (100) / 500 * (1+high*1.5);\\n     Phi   = rand (12);\\n     v0 = v00 * (1 + rand(10)/40);\\n     gmegabuf (n) = ran1*1.7;\\n     gmegabuf (n+1) = y0 + 2.2 * high;\\n     gmegabuf (n+2) = 2;\\n     gmegabuf (n+3) = v0*sin(Tht) * cos(Phi);\\n     gmegabuf (n+4) = v0*cos(4*Tht) * (1-high*1.5);\\n     gmegabuf (n+5) = v0*sin(Tht)*sin(Phi)*1.5*vol;\\n     gmegabuf (n+7) = 0;\\n     gmegabuf (n+8) = rand(100)/100;,0)\\n  ,\\n  //Integration\\n   Free -= 1;\\n   gmegabuf (n)   += gmegabuf(n+3)*dt;\\n   gmegabuf (n+1) += gmegabuf(n+4)*dt;\\n   gmegabuf (n+2) += gmegabuf(n+5)*dt;\\n\\n   gmegabuf (n+3) *= (1-air);\\n   gmegabuf (n+4) *= (1-air);\\n   gmegabuf (n+4) -= 0.8*dt;\\n   gmegabuf (n+5) *= (1-air);\\n   gmegabuf (n+7) = (gmegabuf(n+1)>yobf) * min(1,18*(gmegabuf(n+1)-yobf));\\n   if (band(gmegabuf(n+1)<yobf,gmegabuf(n+4)<0),gmegabuf(8) = max_age,0);\\n//  gmegabuf(n+7)=1;\\n   gmegabuf (n+8) += dt;);\\nn += 12);\\n  \\n//Kopien\\nn = 0;\\nloop (512,\\n  m = 511*12+n;\\n  gmegabuf (m) = (gmegabuf(n) + megabuf(n))/2;  \\n  gmegabuf (m+1) = (gmegabuf(n+1) + megabuf(n+1))/2;  \\n  gmegabuf (m+2) = (gmegabuf(n+2) + megabuf(n+2))/2;  \\n  gmegabuf (m+7) = gmegabuf(n+7);  \\n  gmegabuf (m+8) = gmegabuf(n+8);  \\nn += 12);\\n\\n\\n\\ndec = if (bass>bass1,0.5,0.9);\\nbass1 = bass1*dec + bass*(1-dec);\\nq1 = min(1,max(0,bass1-1.5) * abs(q3-0.5)*3);\\n\\nq10 = max (vol_-0.1,0.1);\\nvol_alt = vol;\\n\\n\\nq32 = aspecty;\\n\\n\\nnew1 = if (new>0,new,new1);\\n\\nmonitor = New1;","pixel_eqs_eel":"dy = -.007*y;\\nwarp =.0;\\nrot = .025*sin(q27+x*7+y*0)*0.2/(abs(y-0.7)+0.1) * q10;// * (1-2*(y>0.7));\\nzoom = 1.003 + 0.2*max(0,y-0.7);","warp":"vec2 ver;\\nfloat xlat_mutablecloud;\\nvec2 xlat_mutabledz;\\nvec2 xlat_mutableuv1;\\nvec2 xlat_mutableuv2;\\nfloat xlat_mutablez;\\n shader_body { \\n  vec2 tmpvar_1;\\n  tmpvar_1.y = 0.0;\\n  tmpvar_1.x = texsize.z;\\n  vec2 tmpvar_2;\\n  tmpvar_2.x = 0.0;\\n  tmpvar_2.y = texsize.w;\\n  ver = (tmpvar_2 * 2.0);\\n  vec3 ret_3;\\n  xlat_mutabledz.x = (2.0 * dot (vec3((texture (sampler_main, \\n    (uv + tmpvar_1)\\n  ).z - texture (sampler_main, \\n    (uv - tmpvar_1)\\n  ).z)), vec3(0.32, 0.49, 0.29)));\\n  xlat_mutabledz.y = (2.0 * dot (vec3((texture (sampler_main, \\n    (uv + ver)\\n  ).z - texture (sampler_main, \\n    (uv - ver)\\n  ).z)), vec3(0.32, 0.49, 0.29)));\\n  vec2 tmpvar_4;\\n  tmpvar_4.x = q3;\\n  tmpvar_4.y = (0.4 + (q4 * 0.4));\\n  xlat_mutableuv1 = (uv_orig - tmpvar_4);\\n  vec4 tmpvar_5;\\n  tmpvar_5 = texture (sampler_main, uv_orig);\\n  xlat_mutablez = ((0.8 * (xlat_mutableuv1.y - 0.4)) - (mix (tmpvar_5.x, \\n    ((texture (sampler_blur1, uv_orig).xyz * scale1) + bias1)\\n  .x, 0.5) * 0.03));\\n  vec2 tmpvar_6;\\n  tmpvar_6.x = (xlat_mutableuv1.x * xlat_mutablez);\\n  tmpvar_6.y = xlat_mutablez;\\n  vec2 tmpvar_7;\\n  tmpvar_7.x = 0.0;\\n  tmpvar_7.y = (-(time) * 0.014);\\n  xlat_mutableuv2 = (tmpvar_6 + tmpvar_7);\\n  vec2 tmpvar_8;\\n  tmpvar_8.x = 0.0;\\n  tmpvar_8.y = (time * 0.004);\\n  vec2 uvi_9;\\n  uvi_9 = ((xlat_mutableuv2 * 1.5) + tmpvar_8);\\n  float zv_10;\\n  zv_10 = (0.002 * time);\\n  xlat_mutablecloud = (1.0 - (1.5 * abs(\\n    (texture (sampler_noise_hq, ((xlat_mutableuv2 + (0.07 * \\n      abs((((\\n        (dot (texture (sampler_noise_hq, uvi_9), vec4(0.32, 0.49, 0.29, 0.0)) + (dot (texture (sampler_noise_hq, (\\n          (uvi_9 * 2.0)\\n         + zv_10)), vec4(0.32, 0.49, 0.29, 0.0)) / 2.0))\\n       + \\n        (dot (texture (sampler_noise_hq, ((uvi_9 * 4.0) + zv_10)), vec4(0.32, 0.49, 0.29, 0.0)) / 4.0)\\n      ) + (\\n        dot (texture (sampler_noise_hq, ((uvi_9 * 8.0) + zv_10)), vec4(0.32, 0.49, 0.29, 0.0))\\n       / -8.0)) - 1.0))\\n    )) / 2.0)) - 0.5)\\n  ))).x;\\n  xlat_mutablecloud = (xlat_mutablecloud * clamp ((\\n    (texture (sampler_noise_hq, (xlat_mutableuv2 * vec2(2.0, 0.5))).x + 0.5)\\n   - \\n    (3.0 * abs(xlat_mutableuv2.x))\\n  ), 0.0, 1.0));\\n  vec2 tmpvar_11;\\n  tmpvar_11.x = 0.0;\\n  tmpvar_11.y = ((-0.01 * time) * (0.125 * float(\\n    int((8.0 * pow (xlat_mutablecloud, 4.0)))\\n  )));\\n  float tmpvar_12;\\n  tmpvar_12 = (texture (sampler_noise_hq, (18.0 * (\\n    (xlat_mutableuv2 + (0.05 * xlat_mutablecloud))\\n   + tmpvar_11))) - 0.75).x;\\n  xlat_mutablecloud = (xlat_mutablecloud * (1.0 + (\\n    (0.2 * tmpvar_12)\\n   * \\n    (xlat_mutablecloud * xlat_mutablecloud)\\n  )));\\n  ret_3.x = ((0.3 * xlat_mutablecloud) + (0.7 * tmpvar_5.xyz)).x;\\n  xlat_mutableuv1 = (uv - vec2(0.0, 0.71));\\n  vec4 tmpvar_13;\\n  tmpvar_13 = texture (sampler_blur1, uv);\\n  float tmpvar_14;\\n  tmpvar_14 = clamp (((12.0 * \\n    (((10.0 * xlat_mutableuv1.y) + ((\\n      (tmpvar_13.xyz * scale1)\\n     + bias1).x / 2.0)) - 1.0)\\n  ) + tmpvar_12), 0.0, 1.0);\\n  xlat_mutableuv1 = (uv - 0.7);\\n  ret_3.z = (((\\n    ((((4.0 * tmpvar_14) * (1.0 - tmpvar_14)) * clamp ((tmpvar_5.x - 0.2), 0.0, 1.0)) + texture (sampler_main, (uv + (xlat_mutabledz * 0.003))).z)\\n   - \\n    (0.03 * sqrt(dot (xlat_mutabledz, xlat_mutabledz)))\\n  ) - (\\n    pow (((tmpvar_13.xyz * scale1) + bias1).z, 8.0)\\n   * 0.2)) - 0.01);\\n  ret_3.y = (texture (sampler_main, mix (uv, uv_orig, vec2(0.5, 0.5))).y * (0.85 - (0.2 * \\n    ((tmpvar_13.xyz * scale1) + bias1)\\n  .y)));\\n  ret_3.x = (ret_3.x + ((texture (sampler_noise_lq, \\n    (2.0 * xlat_mutableuv2)\\n  ) * 0.08) * clamp (\\n    (1.0 - (3.0 * ret_3.x))\\n  , 0.0, 1.0)).x);\\n  vec4 tmpvar_15;\\n  tmpvar_15.w = 1.0;\\n  tmpvar_15.xyz = ret_3;\\n  ret = tmpvar_15.xyz;\\n }","comp":"float dunk;\\nfloat xlat_mutablenoise;\\nvec2 xlat_mutablers;\\nvec2 xlat_mutablers0;\\nfloat xlat_mutablesmask;\\nfloat xlat_mutablesmoke;\\nvec2 xlat_mutableuv1;\\nfloat xlat_mutablez;\\n shader_body { \\n  vec2 tmpvar_1;\\n  tmpvar_1.y = 0.0;\\n  tmpvar_1.x = texsize.z;\\n  dunk = ((rand_preset.x * 0.3) + 0.1);\\n  vec2 uv_2;\\n  vec3 ret_3;\\n  uv_2 = (uv + (texsize.zw / 2.0));\\n  xlat_mutableuv1 = (uv_2 - vec2(0.0, 0.7));\\n  xlat_mutablesmask = (((10.0 * xlat_mutableuv1.y) + (\\n    ((texture (sampler_blur1, uv_2).xyz * scale1) + bias1)\\n  .x / 2.0)) - 1.0);\\n  float tmpvar_4;\\n  tmpvar_4 = clamp (((2.0 * xlat_mutablesmask) + 0.3), 0.0, 1.0);\\n  xlat_mutablenoise = ((3.0 * (1.0 - tmpvar_4)) * texture (sampler_noise_lq, ((xlat_mutableuv1 * 1.5) + (rand_frame * 0.2).xy)).x);\\n  float tmpvar_5;\\n  tmpvar_5 = clamp (((12.0 * xlat_mutablesmask) + (xlat_mutablenoise / 2.0)), 0.0, 1.0);\\n  xlat_mutablez = ((0.35 / xlat_mutableuv1.y) + (xlat_mutablenoise / 2.0));\\n  xlat_mutablers0.x = (xlat_mutableuv1.x * xlat_mutablez);\\n  xlat_mutablers0.y = xlat_mutablez;\\n  vec2 tmpvar_6;\\n  tmpvar_6.x = (xlat_mutablers0.x + (time / 4.0));\\n  tmpvar_6.y = (xlat_mutablez + (time * 0.21));\\n  xlat_mutablers = (tmpvar_6 * tmpvar_5);\\n  float t_7;\\n  t_7 = ((texture (sampler_main, uv_2).x - dunk) * (1.0 - (tmpvar_5 * \\n    pow (uv_2.y, 4.0)\\n  )));\\n  float tmpvar_8;\\n  tmpvar_8 = clamp (((1.2 * t_7) - 0.2), 0.0, 1.0);\\n  t_7 = tmpvar_8;\\n  vec3 tmpvar_9;\\n  tmpvar_9.x = tmpvar_8;\\n  tmpvar_9.y = (tmpvar_8 * tmpvar_8);\\n  tmpvar_9.z = pow (tmpvar_8, 8.0);\\n  vec3 tmpvar_10;\\n  tmpvar_10 = clamp ((tmpvar_9 / vec3(0.8, 0.8, 0.8)), 0.0, 1.0);\\n  float t_11;\\n  t_11 = ((texture (sampler_blur2, (uv_2 + 0.03)).xyz * scale2) + bias2).x;\\n  float tmpvar_12;\\n  tmpvar_12 = clamp (((1.2 * t_11) - 0.2), 0.0, 1.0);\\n  t_11 = tmpvar_12;\\n  vec3 tmpvar_13;\\n  tmpvar_13.x = tmpvar_12;\\n  tmpvar_13.y = (tmpvar_12 * tmpvar_12);\\n  tmpvar_13.z = pow (tmpvar_12, 8.0);\\n  vec3 tmpvar_14;\\n  tmpvar_14 = clamp ((tmpvar_13 / vec3(0.8, 0.8, 0.8)), 0.0, 1.0);\\n  ret_3 = ((tmpvar_10 * (tmpvar_10 * \\n    (3.0 - (2.0 * tmpvar_10))\\n  )) + ((\\n    (((1.0 - texture (sampler_main, uv_2).x) * (1.0 - tmpvar_5)) * abs((texture (sampler_main, (uv_2 - tmpvar_1)).x - texture (sampler_main, (uv_2 + tmpvar_1)).x)))\\n   * \\n    (tmpvar_14 * (tmpvar_14 * (3.0 - (2.0 * tmpvar_14))))\\n  ) * q9));\\n  xlat_mutablesmoke = ((texture (sampler_blur1, uv_2).xyz * scale1) + bias1).z;\\n  vec2 tmpvar_15;\\n  tmpvar_15.x = uv_2.x;\\n  tmpvar_15.y = ((0.85 - xlat_mutableuv1.y) + ((\\n    ((texture (sampler_noise_hq, xlat_mutablers) + texture (sampler_noise_hq, ((xlat_mutablers / 4.0) - (time / 8.0)))) - 1.0)\\n  .x * 0.2) * q10));\\n  float t_16;\\n  t_16 = ((texture (sampler_main, tmpvar_15).x + texture (sampler_main, tmpvar_15).y) - dunk);\\n  float tmpvar_17;\\n  tmpvar_17 = clamp (((1.2 * t_16) - 0.2), 0.0, 1.0);\\n  t_16 = tmpvar_17;\\n  vec3 tmpvar_18;\\n  tmpvar_18.x = tmpvar_17;\\n  tmpvar_18.y = (tmpvar_17 * tmpvar_17);\\n  tmpvar_18.z = pow (tmpvar_17, 8.0);\\n  vec3 tmpvar_19;\\n  tmpvar_19 = clamp ((tmpvar_18 / vec3(0.8, 0.8, 0.8)), 0.0, 1.0);\\n  ret_3 = (ret_3 + ((\\n    (tmpvar_19 * (tmpvar_19 * (3.0 - (2.0 * tmpvar_19))))\\n   * tmpvar_5) * 0.85));\\n  float tmpvar_20;\\n  tmpvar_20 = ((3.6 * tmpvar_4) * (1.0 - tmpvar_4));\\n  ret_3 = (ret_3 * (clamp (\\n    (1.0 - (xlat_mutablesmoke * (1.0 - tmpvar_20)))\\n  , 0.0, 1.0) * clamp (\\n    (1.0 - (tmpvar_20 * float((rand_preset.x > 0.5))))\\n  , 0.0, 1.0)));\\n  vec3 tmpvar_21;\\n  tmpvar_21.z = 0.0;\\n  tmpvar_21.xy = (((texture (sampler_blur3, uv_2).xyz * scale3) + bias3).xy * vec2(3.0, 5.0));\\n  ret_3 = (ret_3 + ((xlat_mutablesmoke * \\n    dot (tmpvar_21, vec3(0.32, 0.49, 0.29))\\n  ) * vec3(1.0, 0.84, 0.62)));\\n  float tmpvar_22;\\n  tmpvar_22 = clamp (((1.2 * \\n    clamp (texture (sampler_main, uv_2).y, 0.0, 1.0)\\n  ) - 0.2), 0.0, 1.0);\\n  vec3 tmpvar_23;\\n  tmpvar_23.x = tmpvar_22;\\n  tmpvar_23.y = (tmpvar_22 * tmpvar_22);\\n  tmpvar_23.z = pow (tmpvar_22, 8.0);\\n  vec3 tmpvar_24;\\n  tmpvar_24 = clamp ((tmpvar_23 / vec3(0.8, 0.8, 0.8)), 0.0, 1.0);\\n  ret_3 = (ret_3 + (tmpvar_24 * (tmpvar_24 * \\n    (3.0 - (2.0 * tmpvar_24))\\n  )));\\n  float tmpvar_25;\\n  tmpvar_25 = clamp (0.52, 0.0, 1.0);\\n  vec3 tmpvar_26;\\n  tmpvar_26.x = tmpvar_25;\\n  tmpvar_26.y = (tmpvar_25 * tmpvar_25);\\n  tmpvar_26.z = pow (tmpvar_25, 8.0);\\n  vec3 tmpvar_27;\\n  tmpvar_27 = clamp ((tmpvar_26 / vec3(0.8, 0.8, 0.8)), 0.0, 1.0);\\n  vec3 tmpvar_28;\\n  tmpvar_28 = mix (clamp (ret_3, 0.0, 1.0), (tmpvar_27 * (tmpvar_27 * \\n    (3.0 - (2.0 * tmpvar_27))\\n  )), vec3((pow (\\n    ((1.0 - uv_2.y) - ((uv_2.x - 0.5) * (q3 - 0.5)))\\n  , 4.0) * q1)));\\n  ret_3 = tmpvar_28;\\n  vec4 tmpvar_29;\\n  tmpvar_29.w = 1.0;\\n  tmpvar_29.xyz = tmpvar_28;\\n  ret = tmpvar_29.xyz;\\n }"}') }, "./presets/converted/martin - frosty caves 2.json": e => { e.exports = JSON.parse('{"version":2,"baseVals":{"rating":5,"gammaadj":1.98,"decay":0.5,"echo_zoom":1,"echo_alpha":0.5,"echo_orient":3,"wave_mode":7,"additivewave":1,"wave_thick":1,"modwavealphabyvolume":1,"wave_brighten":0,"wrap":0,"darken":1,"wave_a":0.001,"wave_scale":0.698,"wave_smoothing":0.45,"modwavealphastart":0,"modwavealphaend":1.32,"warpanimspeed":1.459,"warpscale":2.007,"zoom":0.9999,"warp":0.01,"sx":0.9999,"wave_r":0,"wave_g":0,"wave_b":0,"ob_size":0,"ob_g":0.1,"ob_b":1,"ob_a":1,"ib_size":0,"ib_r":0,"ib_g":0,"ib_b":0,"mv_x":25.6,"mv_y":9.6,"mv_l":5,"mv_g":0.5,"mv_a":0,"b1ed":0},"shapes":[{"baseVals":{"textured":1,"x":0.09,"y":0.9,"rad":0.22437,"tex_zoom":1.76002,"r2":1,"g2":0,"a2":0.6,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"sides":100,"additive":1,"x":0.26,"y":0.2,"rad":0.39317,"tex_zoom":6.19589,"r":0,"g":0.55,"b":0.5,"g2":0.4,"b2":0.4,"a2":0.07,"border_r":0.3,"border_g":0.7,"border_b":0.8,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"additive":1,"x":0.803,"rad":0.314,"tex_zoom":1.49332,"g":1,"b":1,"a":0,"g2":0,"border_r":0.5,"border_g":0.5,"border_b":0.5,"border_a":1,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"sides":100,"rad":0.01,"tex_zoom":0.49981,"r":0,"g2":0,"border_r":0.2,"border_g":0.7,"border_b":0.5,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""}],"waves":[{"baseVals":{"samples":132,"sep":20,"thick":1,"additive":1,"scaling":0.48454,"smoothing":0.1,"g":0,"b":0.2,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"usedots":1,"thick":1,"scaling":0.89152,"smoothing":0.82,"a":0.1,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"thick":1,"scaling":0.89152,"smoothing":0.82,"r":0,"g":0.2,"b":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"spectrum":1,"usedots":1,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""}],"init_eqs_eel":"n = 0; loop (20000, megabuf(n)=0; gmegabuf(n)=0; n +=1; );\\n\\nMINBPM = 30; MAXBPM = 230; num_res = 100;\\nindex = 0;\\nloop (num_res,\\n  n = 12*index;\\n  BPM      = minbpm * pow(maxbpm/minbpm,index/num_res);\\n  gmegabuf(n) = BPM;\\n  index += 1;);\\npi = 3.1416;\\nOCTAVE = (num_res) * log(2) / log (MAXBPM / MINBPM);\\n\\nq7 = .15; //MyZoom\\nq8 =  0.2 + rand(1); //fractal modifier\\nq16 = 1.6; //#fish eye\\nstart = 1; travel = 0; RotZ = 0; t0 = time+3;\\ncran0 = rand(1);\\ntrelx = 0;  trely = 0; trelz = 0;\\nreg20 = 1; reg21 = 0; reg22 = 0; reg23 = 0; reg24 = 1; reg25 = 0; reg26 = 0; reg27 = 0; reg28 = 1;\\n\\n//Find random starting point\\nwhile (exec2(\\n  ran1 = rand(8); ran2 = rand(8); ran3 = rand(8);\\n  PosX = rand(8); PosY = rand(8); PosZ = rand(8); \\n\\n  c1 = cos(ran1); c2 = cos(ran2); c3 = cos(ran3); \\n  s1 = sin(ran1); s2 = sin(ran2); s3 = sin(ran3);\\n\\n  reg20 = c2*c1; reg21 = c2*s1; reg22 = -s2;\\n  reg23 = s3*s2*c1 - c3*s1; reg24 = s3*s2*s1 + c3*c1; reg25 = s3*c2;\\n  reg26 = c3*s2*c1 + s3*s1; reg27 = c3*s2*s1 - s3*c1; reg28 = c3*c2;\\n\\n  //***********BOT*************\\n  //Coord. Trans. must exactly match def in warp S. !!!!\\n  dist = 0.001;\\n  while (exec2(\\n    uvx = reg26*dist/q7; uvy = reg27*dist/q7; uvz = reg28*dist/q7;\\n    uvx += PosX; uvy += PosY; uvz += PosZ;\\n    uvx = 1+2*((uvx/4+30.5 - int(uvx/4+30.5))-.5);\\n    uvy = 2+2*((uvy/4+30.5 - int(uvy/4+30.5))-.5);\\n    uvz = 3+2*((uvz/4+30.5 - int(uvz/4+30.5))-.5);\\n    uvx0 = uvx+q8; uvy0 = uvy+q8; uvz0 = uvz+q8;\\n    loop (7+1,\\n      uvx = if (uvx > 1, 2-uvx, if(uvx < -1, -2-uvx, uvx));\\n      uvy = if (uvy > 1, 2-uvy, if(uvy < -1, -2-uvy, uvy));\\n      uvz = if (uvz > 1, 2-uvz, if(uvz < -1, -2-uvz, uvz));\\n      slen = uvx*uvx + uvy*uvy + uvz*uvz;\\n      uvx = if (slen < 0.25, uvx*4, if (slen < 1, uvx/slen, uvx)) *2.6 + uvx0; \\n      uvy = if (slen < 0.25, uvy*4, if (slen < 1, uvy/slen, uvy)) *2.6 + uvy0; \\n      uvz = if (slen < 0.25, uvz*4, if (slen < 1, uvz/slen, uvz)) *2.6 + uvz0; \\n    );\\n    len = sqrt(uvx*uvx + uvy*uvy + uvz*uvz);\\n    dist *= 1.05;\\n  ,(dist < 0.6)*(len > 30)));\\n,(dist < .06))); //end while","frame_eqs_eel":"dt = min (1/fps,0.1);\\ndec_f = 0.8; dec_m = 1 - 4*dt; dec_s = 1 - dt;\\nvol = (bass+mid/2+treb)/3;\\nvol_ = vol_*dec_m + (1-dec_m)*vol;\\ndec = dec_s;\\nvol2 = vol2*dec + (1-dec)*min(3,vol);\\nmaxvol = if (vol>maxvol,vol,maxvol*dec_s);\\n\\nexcite = vol-vol_;\\nindex = 0; maxind1 = 0; mean = 0;\\nloop (num_res, \\n  n = index*12;  omega=gmegabuf(n) * 2*pi/60;\\n  gmegabuf (n+1) *= 1- 0.25*dt; \\n  EC_Steps = int (10*dt*omega)+1; dt1 = dt/EC_Steps;\\n  ex = excite ;\\n  loop (EC_Steps, // Euler-Cauchy \\n    gmegabuf (n+1) += (ex - sqr(omega)*gmegabuf(n+2)) * dt1;\\n    gmegabuf (n+2) += gmegabuf(n+1) * dt1);\\n  beatcos  = gmegabuf(n+1);  beatsin = gmegabuf(n+2)*omega;\\n  quad     = sqrt (pow(beatsin,2) + pow(beatcos,2)) ;\\n   mean += quad/num_res;\\n  gmegabuf (n+3) = gmegabuf(n+3) *dec_m +  quad* (1-dec_m);\\n  if (gmegabuf(n+3) > gmegabuf(maxind1*12+3), maxind1 = index, 0); \\nindex += 1;);\\nquali = gmegabuf(maxind1*12+3)/mean;\\n\\nBPM   = minbpm * pow(maxbpm/minbpm,maxind1/num_res);\\nif (BPM>160, BPM/=2,0);\\ntrel1 += (BPM/60*pi+excite*cosb) * (maxvol>0.7)*dt;\\nq32 = trel1;\\n\\nspeed = (0.15 + dist_*0.25)* (1+avg)/q7*(0.34+vol_*0.34)*(q8+0.8);\\nds = ds * dec_s + (1-dec_s)*speed*.25*dt; \\nRotZ = 0.8*pow (sin(time/12),5);\\n\\n//Position \\nDirX= reg26; DirY= reg27; DirZ = reg28;\\nPosX += ds*DirX ; PosY += ds*DirY; PosZ += ds*DirZ; \\nq4 = PosX; q5 = PosY; q6 = PosZ;\\n\\nangchg = max(0,.4-dist_);\\nv1 = v1 * dec_m + (1-dec_m)* RotZ * ds;\\ndec = 1-3*dt;\\nv2p = v2p *dec + (1-dec)*(angchg*xslope + p2*0.02)*dt;\\nv3p = v3p *dec + (1-dec)*(angchg*yslope + p3*0.02)*dt ;\\nv2 = v2 *dec + (1-dec)* v2p;\\nv3 = v3 *dec + (1-dec)* v3p;\\np3 = sign(v3);\\np4 = sign(v2);\\n//push old RotMat\\nreg30 =reg20; reg31 =reg21; reg32 =reg22; \\nreg33 =reg23; reg34 =reg24; reg35 =reg25; \\nreg36 =reg26; reg37 =reg27; reg38 =reg28; \\n\\nn = 0; avg = 0;\\nloop (5,\\n  n = n+1;\\n  //new Rot. Mat for infinitesimal angles\\n  ran1 = rand(100)/100;\\n  ran2 = rand(100)/200-.25;\\n  tx = cos(n*1.57+ran2) * (n <= 4)*ran1; ty = sin(n*1.57+ran2) * (n <= 4)*ran1;\\n  c1 = cos(v1); c2 = cos(v2+ty); c3 = cos(v3+tx); \\n  s1 = sin(v1); s2 = sin(v2+ty); s3 = sin(v3+tx);\\n  reg10 = c2*c1; reg11 = c2*s1; reg12 = -s2;\\n  reg13 = s3*s2*c1 - c3*s1; reg14 = s3*s2*s1 + c3*c1; reg15 = s3*c2;\\n  reg16 = c3*s2*c1 + s3*s1; reg17 = c3*s2*s1 - s3*c1; reg18 = c3*c2;\\n\\n  //pop old RotMat\\n  reg20 =reg30; reg21 =reg31; reg22 =reg32; \\n  reg23 =reg33; reg24 =reg34; reg25 =reg35; \\n  reg26 =reg36; reg27 =reg37; reg28 =reg38; \\n\\n  //Multiply new RotMat by old one\\n  q20 = reg10*reg20 + reg11*reg23 + reg12*reg26;\\n  q21 = reg10*reg21 + reg11*reg24 + reg12*reg27;\\n  q22 = reg10*reg22 + reg11*reg25 + reg12*reg28;\\n  q23 = reg13*reg20 + reg14*reg23 + reg15*reg26;\\n  q24 = reg13*reg21 + reg14*reg24 + reg15*reg27;\\n  q25 = reg13*reg22 + reg14*reg25 + reg15*reg28;\\n  q26 = reg16*reg20 + reg17*reg23 + reg18*reg26;\\n  q27 = reg16*reg21 + reg17*reg24 + reg18*reg27;\\n  q28 = reg16*reg22 + reg17*reg25 + reg18*reg28;\\n\\n  reg20 =q20; reg21 =q21; reg22 =q22;\\n  reg23 =q23; reg24 =q24; reg25 =q25;\\n  reg26 =q26; reg27 =q27; reg28 =q28;\\n\\n  //***********BOT*************\\n  //Coord. Trans. must exactly match def in warp S. !!!!\\n  dist = 0.002;\\n  while (exec2(\\n    uvx = reg26*dist/q7; uvy = reg27*dist/q7; uvz = reg28*dist/q7;\\n    uvx += PosX; uvy += PosY; uvz += PosZ;\\n//    uvx = 8.0*((uvx/8+30.5 - int(uvx/8+30.5))-.5);\\n//    uvy = 8.0*((uvy/8+30.5 - int(uvy/8+30.5))-.5);\\n//    uvz = 8.0*((uvz/8+30.5 - int(uvz/8+30.5))-.5);\\n    uvx = 1+2*((uvx/4+30.5 - int(uvx/4+30.5))-.5);\\n    uvy = 2+2*((uvy/4+30.5 - int(uvy/4+30.5))-.5);\\n    uvz = 3+2*((uvz/4+30.5 - int(uvz/4+30.5))-.5);\\n    uvx0 = uvx+q8; uvy0 = uvy+q8; uvz0 = uvz+q8;\\n    loop (7+1,\\n      uvx = if (uvx > 1, 2-uvx, if(uvx < -1, -2-uvx, uvx));\\n      uvy = if (uvy > 1, 2-uvy, if(uvy < -1, -2-uvy, uvy));\\n      uvz = if (uvz > 1, 2-uvz, if(uvz < -1, -2-uvz, uvz));\\n      slen = uvx*uvx + uvy*uvy + uvz*uvz;\\n      uvx = if (slen < 0.25, uvx*4, if (slen < 1, uvx/slen, uvx)) *2.6 + uvx0; \\n      uvy = if (slen < 0.25, uvy*4, if (slen < 1, uvy/slen, uvy)) *2.6 + uvy0; \\n      uvz = if (slen < 0.25, uvz*4, if (slen < 1, uvz/slen, uvz)) *2.6 + uvz0; \\n    );\\n    len = sqrt(uvx*uvx + uvy*uvy + uvz*uvz);\\n    dist *= 1.1;\\n  ,(dist < 0.6)*(len > 30)));\\n  megabuf(n) = megabuf(n)*dec_s + (1-dec_s)*dist; //stores the 4 trial points\\n  avg = avg+abs(megabuf(n)/5);\\n); //end loop 5\\nn = 0; avg = 0; loop (5, n=n+1; avg = avg+abs(megabuf(n)/5));\\n\\nxslope = min(max(8*(megabuf(1)-megabuf(3)),-2),2);\\nyslope = min(max(8*(megabuf(4)-megabuf(2)),-2),2);\\ndist_ = dist_*dec_m + (1-dec_m)*dist;\\n\\nq10 = ds*q7; //compensation of lin. movement in GetDist and zoom uv\\nq14 = 1*abs(ds) + 2*(abs(v1) + abs(v2) + abs(v3)) + 1.0/255 + start*.0; \\nstart = start * .9;\\nreg52 = -v2; reg53 = v3;\\n//forward comp. of Rotation\\nwarp = 0.0; zoom = 1;  \\nrot = v1;\\n\\n//light ctrl\\nsinb = sin(trel1);\\ncosb = cos(trel1);\\n\\nbt1 = sinb*sinb_<0; bt2 = cosb*cosb_<0;\\n\\nif (bt1, b1x = rand(2)-1; b1y = rand(2)-1;,0);\\nif (bt2, b2x = rand(2)-1; b2y = rand(2)-1;,0);\\nsinb_=sinb; cosb_=cosb;\\n\\nbri = vol2*0.012*sqrt(100/bpm)+excite*0.01;\\nmov = sqrt (v3*v3+v2*v2)/dt; \\n\\nq1= b1x*abs(b1x);\\nq2= b1y*abs(b1y);\\n\\nq17 =b2x*0.4;\\nq18= b2y*0.4;\\n\\nlen = pow(q1,2)+ pow(q2,2);\\nq3 = pow(sinb,2)*bri * (1+len*4)* max(0,1-5*mov);\\nq19= pow(cosb,2)*bri*1.2;\\n\\nmonitor = q8;\\n//frei: q9, q11, q12, q13, q15, q29m q30, q31, q32","pixel_eqs_eel":"warp = 0.0; zoom = 1; \\ntx = tan((2*x-1)*0.9);\\nty = tan((2*y-1)*0.9);\\n\\ndx = reg52/q16* (1+0.5*abs(tx)); \\ndy = reg53/q16* (1+0.5*abs(ty)); \\n\\n\\ndx += reg53*ty*(x-0.5)*1; \\ndy += reg52*tx*(y-0.5)*1; \\n\\n//muss experimentell an tele angepasst werden; momentan 1.5 !!!","warp":"float sustain;\\nfloat pix;\\nvec3 mod1;\\nfloat xlat_mutabledist;\\nfloat xlat_mutablestruc;\\nvec2 xlat_mutableuv1;\\nvec3 xlat_mutableuv2;\\n shader_body { \\n  mat3 tmpvar_1;\\n  tmpvar_1[uint(0)].x = q20;\\n  tmpvar_1[uint(0)].y = q23;\\n  tmpvar_1[uint(0)].z = q26;\\n  tmpvar_1[1u].x = q21;\\n  tmpvar_1[1u].y = q24;\\n  tmpvar_1[1u].z = q27;\\n  tmpvar_1[2u].x = q22;\\n  tmpvar_1[2u].y = q25;\\n  tmpvar_1[2u].z = q28;\\n  vec3 tmpvar_2;\\n  tmpvar_2.x = q4;\\n  tmpvar_2.y = q5;\\n  tmpvar_2.z = q6;\\n  sustain = (0.97 - q14);\\n  pix = (texsize.z * 2.0);\\n  mod1 = (rand_preset.xyz - 0.5);\\n  vec2 uv_3;\\n  vec3 ret_4;\\n  vec2 tmpvar_5;\\n  tmpvar_5 = (uv - 0.5);\\n  xlat_mutableuv1 = ((tmpvar_5 * aspect.xy) * q16);\\n  vec4 tmpvar_6;\\n  tmpvar_6 = texture (sampler_pw_main, uv);\\n  uv_3 = ((tmpvar_5 * (1.0 - \\n    (q10 / (1.0 - (tmpvar_6.z + (0.003921569 * tmpvar_6.y))))\\n  )) + 0.5);\\n  vec4 tmpvar_7;\\n  tmpvar_7 = fract((8.0 * texture (sampler_noise_lq, (uv_3 + rand_frame.yz))));\\n  xlat_mutabledist = tmpvar_7.x;\\n  if ((tmpvar_7.y > 0.16)) {\\n    vec4 nb2_8;\\n    vec4 nb_9;\\n    vec4 tmpvar_10;\\n    tmpvar_10 = texture (sampler_pw_main, (uv_3 + vec2(-(pix))));\\n    nb_9.x = (1.0 - (tmpvar_10.z + (0.003921569 * tmpvar_10.y)));\\n    vec4 tmpvar_11;\\n    tmpvar_11 = texture (sampler_pw_main, (uv_3 + (pix * vec2(1.0, -1.0))));\\n    nb_9.y = (1.0 - (tmpvar_11.z + (0.003921569 * tmpvar_11.y)));\\n    vec4 tmpvar_12;\\n    tmpvar_12 = texture (sampler_pw_main, (uv_3 + vec2(pix)));\\n    nb_9.z = (1.0 - (tmpvar_12.z + (0.003921569 * tmpvar_12.y)));\\n    vec4 tmpvar_13;\\n    tmpvar_13 = texture (sampler_pw_main, (uv_3 + (pix * vec2(-1.0, 1.0))));\\n    nb_9.w = (1.0 - (tmpvar_13.z + (0.003921569 * tmpvar_13.y)));\\n    vec4 tmpvar_14;\\n    tmpvar_14 = texture (sampler_pw_main, (uv_3 + (pix * vec2(0.0, -1.0))));\\n    nb2_8.x = (1.0 - (tmpvar_14.z + (0.003921569 * tmpvar_14.y)));\\n    vec4 tmpvar_15;\\n    tmpvar_15 = texture (sampler_pw_main, (uv_3 + (pix * vec2(1.0, 0.0))));\\n    nb2_8.y = (1.0 - (tmpvar_15.z + (0.003921569 * tmpvar_15.y)));\\n    vec4 tmpvar_16;\\n    tmpvar_16 = texture (sampler_pw_main, (uv_3 + (pix * vec2(0.0, 1.0))));\\n    nb2_8.z = (1.0 - (tmpvar_16.z + (0.003921569 * tmpvar_16.y)));\\n    vec4 tmpvar_17;\\n    tmpvar_17 = texture (sampler_pw_main, (uv_3 + (pix * vec2(-1.0, 0.0))));\\n    nb2_8.w = (1.0 - (tmpvar_17.z + (0.003921569 * tmpvar_17.y)));\\n    vec4 tmpvar_18;\\n    tmpvar_18 = min (nb_9, nb2_8);\\n    nb_9.zw = tmpvar_18.zw;\\n    nb_9.xy = min (tmpvar_18.xy, tmpvar_18.zw);\\n    xlat_mutabledist = ((min (nb_9.x, nb_9.y) + (\\n      (0.006 * (tmpvar_7.xyz - 0.5).x)\\n     * tmpvar_7.y)) - (q10 * 0.5));\\n  };\\n  float theta_19;\\n  theta_19 = (xlat_mutabledist * 1.35);\\n  float theta_20;\\n  theta_20 = (xlat_mutabledist * 1.35);\\n  vec3 tmpvar_21;\\n  tmpvar_21.xy = (xlat_mutableuv1 * ((\\n    sin(theta_19)\\n   / \\n    cos(theta_19)\\n  ) / 1.35));\\n  tmpvar_21.z = ((sin(theta_20) / cos(theta_20)) / 1.35);\\n  xlat_mutableuv2 = (((tmpvar_21 / q7) * tmpvar_1) + tmpvar_2);\\n  xlat_mutableuv2 = (((\\n    fract(((xlat_mutableuv2 / 4.0) + 0.5))\\n   - 0.5) * 2.0) + vec3(1.0, 2.0, 3.0));\\n  vec3 zz0_23;\\n  vec3 zz_24;\\n  zz_24 = xlat_mutableuv2;\\n  zz0_23 = (xlat_mutableuv2 + q8);\\n  for (int n_22 = 0; n_22 <= 8; n_22++) {\\n    zz_24 = ((2.0 * clamp (zz_24, vec3(-1.0, -1.0, -1.0), vec3(1.0, 1.0, 1.0))) - zz_24);\\n    zz_24 = (zz_24 * max ((1.0/(\\n      dot (zz_24, zz_24)\\n    )), 1.0));\\n    zz_24 = ((2.6 * zz_24) + zz0_23);\\n  };\\n  vec4 tmpvar_25;\\n  tmpvar_25.w = 0.0;\\n  tmpvar_25.xyz = zz_24;\\n  float tmpvar_26;\\n  tmpvar_26 = sqrt(dot (zz_24, zz_24));\\n  vec4 tmpvar_27;\\n  tmpvar_27.w = 0.0;\\n  tmpvar_27.xyz = mod1;\\n  xlat_mutablestruc = ((1.0 - (\\n    (1.4 * dot (tmpvar_25, tmpvar_27))\\n   / 40.0)) - (xlat_mutabledist * 0.3));\\n  if (((tmpvar_26 < 40.0) && (xlat_mutabledist > (0.04 * \\n    (1.0 - rad)\\n  )))) {\\n    ret_4.x = mix (xlat_mutablestruc, texture (sampler_main, uv_3).x, sustain);\\n    float x_28;\\n    x_28 = ((1.0 - xlat_mutabledist) * 255.0);\\n    float ip_29;\\n    ip_29 = float(int(x_28));\\n    vec2 tmpvar_30;\\n    tmpvar_30.x = (x_28 - ip_29);\\n    tmpvar_30.y = (ip_29 / 255.0);\\n    ret_4.yz = tmpvar_30;\\n  } else {\\n    ret_4 = ((texture (sampler_fc_main, uv_3) * sustain) - 0.003921569).xyz;\\n  };\\n  vec4 tmpvar_31;\\n  tmpvar_31.w = 1.0;\\n  tmpvar_31.xyz = ret_4;\\n  ret = tmpvar_31.xyz;\\n }","comp":"float xlat_mutablecross1;\\nvec2 xlat_mutabledz1;\\nfloat xlat_mutablerdist;\\nvec2 xlat_mutableuv0;\\nvec2 xlat_mutableuv4;\\nvec2 xlat_mutableuva;\\nvec2 xlat_mutableuvb;\\n shader_body { \\n  vec2 tmpvar_1;\\n  tmpvar_1.x = q1;\\n  tmpvar_1.y = q2;\\n  vec2 tmpvar_2;\\n  tmpvar_2.x = q17;\\n  tmpvar_2.y = q18;\\n  vec2 uv_3;\\n  vec3 ret_4;\\n  uv_3 = (uv + (texsize.zw / 2.0));\\n  xlat_mutableuv0 = uv_3;\\n  vec2 uvi_5;\\n  uvi_5 = (uv_3 + vec2(0.002, 0.0));\\n  float tmpvar_6;\\n  tmpvar_6 = mix (((texture (sampler_blur1, uvi_5).xyz * scale1) + bias1).x, texture (sampler_main, uvi_5).x, 0.1);\\n  vec2 uvi_7;\\n  uvi_7 = (uv_3 - vec2(0.002, 0.0));\\n  float tmpvar_8;\\n  tmpvar_8 = mix (((texture (sampler_blur1, uvi_7).xyz * scale1) + bias1).x, texture (sampler_main, uvi_7).x, 0.1);\\n  xlat_mutabledz1.x = ((tmpvar_6 * float(\\n    (tmpvar_6 > 0.02)\\n  )) - (tmpvar_8 * float(\\n    (tmpvar_8 > 0.02)\\n  )));\\n  vec2 uvi_9;\\n  uvi_9 = (uv_3 + vec2(0.0, 0.002));\\n  float tmpvar_10;\\n  tmpvar_10 = mix (((texture (sampler_blur1, uvi_9).xyz * scale1) + bias1).x, texture (sampler_main, uvi_9).x, 0.1);\\n  vec2 uvi_11;\\n  uvi_11 = (uv_3 - vec2(0.0, 0.002));\\n  float tmpvar_12;\\n  tmpvar_12 = mix (((texture (sampler_blur1, uvi_11).xyz * scale1) + bias1).x, texture (sampler_main, uvi_11).x, 0.1);\\n  xlat_mutabledz1.y = ((tmpvar_10 * float(\\n    (tmpvar_10 > 0.02)\\n  )) - (tmpvar_12 * float(\\n    (tmpvar_12 > 0.02)\\n  )));\\n  uv_3 = (uv_3 + (xlat_mutabledz1 * 0.26));\\n  xlat_mutablerdist = ((texture (sampler_blur1, uv_3).xyz * scale1) + bias1).z;\\n  vec4 tmpvar_13;\\n  tmpvar_13.w = 0.0;\\n  tmpvar_13.xyz = texture (sampler_noise_hq, vec2(((xlat_mutablerdist * 0.05) + (time * 0.02)))).xyz;\\n  vec4 tmpvar_14;\\n  tmpvar_14 = mix (tmpvar_13, roam_sin, vec4(0.5, 0.5, 0.5, 0.5));\\n  xlat_mutableuv4 = (uv_3 - 0.4);\\n  xlat_mutableuva = ((xlat_mutableuv4 - tmpvar_1) - ((\\n    ((texture (sampler_blur1, uv_3).xyz * scale1) + bias1)\\n  .x * 0.4) * float(\\n    (xlat_mutablerdist > 0.2)\\n  )));\\n  xlat_mutableuvb = ((xlat_mutableuv4 - tmpvar_2) - ((\\n    (texture (sampler_blur1, uv_3).xyz * scale1)\\n   + bias1).x * 0.4));\\n  float angle_15;\\n  float tmpvar_16;\\n  tmpvar_16 = abs(xlat_mutableuva.x);\\n  if ((xlat_mutableuva.y >= 0.0)) {\\n    angle_15 = (1.0 - ((xlat_mutableuva.y - tmpvar_16) / (xlat_mutableuva.y + tmpvar_16)));\\n  } else {\\n    angle_15 = (3.0 - ((xlat_mutableuva.y + tmpvar_16) / (tmpvar_16 - xlat_mutableuva.y)));\\n  };\\n  float tmpvar_17;\\n  if ((xlat_mutableuva.x < 0.0)) {\\n    tmpvar_17 = -(angle_15);\\n  } else {\\n    tmpvar_17 = angle_15;\\n  };\\n  xlat_mutablecross1 = ((pow (\\n    sin((3.141593 * (tmpvar_17 + (5.1 * q20))))\\n  , 1.5) + (xlat_mutablerdist / 2.0)) + 0.1);\\n  vec3 tmpvar_18;\\n  tmpvar_18 = vec3((((1.0/(\\n    dot (xlat_mutableuva, xlat_mutableuva)\\n  )) / xlat_mutablecross1) * q3));\\n  vec3 tmpvar_19;\\n  tmpvar_19 = vec3(((1.0/(dot (xlat_mutableuvb, xlat_mutableuvb))) * q19));\\n  ret_4 = (clamp ((1.0 - \\n    (2.0 * xlat_mutablerdist)\\n  ), 0.0, 1.0) * ((\\n    (tmpvar_18 * tmpvar_14.xyz)\\n   + \\n    (tmpvar_19 * (1.0 - tmpvar_14.xyz))\\n  ) + 0.1));\\n  ret_4 = (ret_4 + (clamp (\\n    (2.0 * xlat_mutablerdist)\\n  , 0.0, 1.0) * (\\n    (tmpvar_18 * tmpvar_14.zyx)\\n   + \\n    (tmpvar_19 * (1.0 - tmpvar_14.zyx))\\n  )));\\n  ret_4 = (ret_4 + ((\\n    (texture (sampler_blur1, xlat_mutableuv0).xyz * scale1)\\n   + bias1).x * 0.05));\\n  ret_4 = (1.0 - exp(-(ret_4)));\\n  vec4 tmpvar_20;\\n  tmpvar_20.w = 1.0;\\n  tmpvar_20.xyz = ret_4;\\n  ret = tmpvar_20.xyz;\\n }"}') }, "./presets/converted/martin - fruit machine.json": e => { e.exports = JSON.parse('{"version":2,"baseVals":{"rating":2,"gammaadj":1.980001,"decay":0.5,"echo_zoom":0.999998,"echo_alpha":0.5,"echo_orient":3,"wave_mode":5,"wave_dots":1,"modwavealphabyvolume":1,"wave_brighten":0,"darken":1,"wave_a":0.001,"wave_scale":1.169162,"wave_smoothing":0,"wave_mystery":0.08,"modwavealphastart":0,"modwavealphaend":1.32,"warpanimspeed":1.4595,"warpscale":2.0067,"zoom":0.9999,"warp":0.01,"sx":0.9999,"wave_r":0,"wave_g":0.99,"ob_size":0.015,"ob_b":1,"ib_size":0.26,"mv_x":64,"mv_y":48,"mv_l":0,"mv_r":0.4999,"mv_g":0.4999,"mv_b":0.4999,"mv_a":0,"b2x":0.3,"b1ed":0},"shapes":[{"baseVals":{"enabled":1,"sides":53,"rad":0.05408,"tex_ang":1.00531,"tex_zoom":1.531168,"r":0.2,"g":0.7,"g2":0,"a2":1,"border_b":0,"border_a":0},"init_eqs_eel":"","frame_eqs_eel":"\\nx = .5;\\ny = .5;\\na = q24; \\na2 = 0;\\n//a = 1; \\na = 0;\\nrad0 = bnot(q24) * rad0 + rand(10)/50*q24;\\nrad = rad0;\\nb = 0; r = rand(10)/10; g = 1;\\na2 = q24;"},{"baseVals":{"enabled":1,"sides":44,"textured":1,"x":0.7,"rad":0.2173,"tex_zoom":3.277448,"g":1,"b":0.5,"r2":1,"b2":1,"a2":1,"border_r":0.5,"border_g":0.5,"border_b":0},"init_eqs_eel":"","frame_eqs_eel":"textured = 1;\\nrot0 = rot0 + 1/fps * q1;\\n\\n\\nposx = (1-q24)*posx + q24*(.3+rand(100)/200);\\nposy = (1-q24)*posy + q24*(.3+rand(100)/200);;\\n\\nrad0  = (1-q24)*rad0 + q24*(.05+rand(100)/300);\\nrad = rad0;\\n\\n\\nx =  posx;\\ny =  posy;\\nang = rot0;"},{"baseVals":{"enabled":1,"sides":63,"x":0.503,"rad":0.038857,"tex_zoom":2.2233,"g":0.1,"r2":1,"b2":1,"a2":0.7,"border_a":0},"init_eqs_eel":"","frame_eqs_eel":"textured = 1;\\nrot0 = rot0 + .1/fps * q2;\\n\\n\\nposx = (1-q24)*posx + q24*(.3+rand(100)/200);\\nposy = (1-q24)*posy + q24*(.3+rand(100)/200);;\\n\\nrad0  = (1-q24)*rad0 + q24*(.05+rand(100)/400);\\nrad = rad0;\\n\\n\\nx =  posx+q26;\\ny =  posy;\\nang = rot0;"},{"baseVals":{"sides":63,"textured":1,"y":1,"rad":0.548217,"tex_zoom":0.499805,"g":1,"b":1,"r2":1,"b2":1,"border_r":0.5,"border_g":0.5,"border_b":0.5,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""}],"waves":[{"baseVals":{"sep":120,"usedots":1,"additive":1,"scaling":0.891519,"smoothing":0.82,"a":0.6,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"t2 = t2 + bass_att;","point_eqs_eel":"k1 = (sample*100)%8;\\nk2 = bnot (k1);\\nxi = value1*k2 + xi*(1-k2);\\nyi = value2*(1-k2) + yi*k2;\\n\\ndx = dx*.99 + xi;\\ndy = dy*.99 + yi;\\n\\nx = .5 + xi/2;\\ny = .5 + yi/2;\\n\\na = q22/8; \\na = min(a,.4);"},{"baseVals":{"thick":1,"scaling":0.891519,"smoothing":0.82,"a":0.02,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"tm = time*.1;\\nt1 = t1*sin(tm*t4) + (1-t1)*sin(tm*t7);\\nt2 = t2*sin(tm*t5) + (1-t2)*sin(tm*t8);\\nt3 = t3*sin(tm*t6) + (1-t3)*sin(tm*1);\\n\\ntic = min(time - tin,1);\\ntin = time;\\n\\ntva = (tic*q1*.5);\\ntvb = (tic*q2*.5);\\ntvc = (tic*q3*.5);\\n\\nq1 = tva;\\nq2 = tvb;\\nq3 = tvc;\\n\\nsz = .5;\\nlen = q4;\\nt4 = len;","point_eqs_eel":""},{"baseVals":{"thick":1,"scaling":0.891519,"smoothing":0.82,"r":0,"g":0.2,"b":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"tm = time*.1;\\nt1 = t1*sin(tm*t4) + (1-t1)*sin(tm*t7);\\nt2 = t2*sin(tm*t5) + (1-t2)*sin(tm*t8);\\nt3 = t3*sin(tm*t6) + (1-t3)*sin(tm*1);\\n\\ntic = min(time - tin,1);\\ntin = time;\\n\\ntva = (tic*q1*.5);\\ntvb = (tic*q2*.5);\\ntvc = (tic*q3*.5);\\n\\nq1 = tva;\\nq2 = tvb;\\nq3 = tvc;\\n\\nsz = .5;\\nlen = 1;\\nt4 = len;","point_eqs_eel":""},{"baseVals":{"spectrum":1,"usedots":1,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""}],"init_eqs_eel":"","frame_eqs_eel":"dec_med = pow (0.7, 30/fps);\\ndec_slow = pow (0.99, 30/fps);\\nbeat = max (max (bass, mid), treb); \\n\\nbeat = bass+mid+treb;\\nbeat = beat*beat;\\n\\navg = avg*dec_slow + beat*(1-dec_slow);\\nis_beat = above(beat, .2*avg+peak) * above (time, t0+.2);\\nt0 = is_beat*time + (1-is_beat)*t0;\\npeak = is_beat * beat + (1-is_beat)*peak*dec_med;\\nindex = (index + is_beat) %8;\\nindex2 = (index2 + is_beat*bnot(index))%2;\\n\\nq20 = avg;\\nq21 = beat;\\nq22 = peak;\\nq23 = index;\\nq24 = is_beat;\\nq26 = bass_att + mid_att + treb_att + 3;\\nq27 = index + 1;\\nq28 = index2;\\nq29 = index2;\\nmonitor = q29;\\nk1 =  is_\\nbeat*equal(index%2,0);\\np1 =  k1*(p1+1) + (1-k1)*p1;\\np2 = dec_med * p2+ (1-dec_med)*p1;\\nrott = p2 * 3.1416/4;\\n\\nq1 = cos(rott);\\nq2 = sin(rott);\\nq3 = -q2;\\nq4 = q1;\\n\\n\\nq5 = cos(time/17);\\nq6 = sin(time/17);\\nq7 = -q2;\\nq8 = q1;\\n\\n\\nds = ds*dec_med + q24*(1-dec_med);\\nq25 = q24;\\n//q25 = above(ds,.5);\\n\\nq10 = q22+3;\\n\\nt_rel = time*8;\\n//q25 = below((t_rel)-int(t_rel),.2);\\n\\n\\np3 = p3*dec_med + (1-dec_med) * (100*index + .0*q26);\\nq30 = p3 ;\\n\\np4 = dec_med*p4 + (1-dec_med)*q27;\\nq31 = p4;\\n\\n\\nzoom = 1.1 + q1*.2;\\nwarp =0;\\nob_size = .01;\\nob_r = .9;\\nob_g = 1;\\nob_b = 0;\\nob_a = .2*sin(time/7);","pixel_eqs_eel":"","warp":" shader_body { \\n  vec2 uv_1;\\n  vec2 tmpvar_2;\\n  tmpvar_2 = ((uv - 0.5) * aspect.xy);\\n  float tmpvar_3;\\n  tmpvar_3 = (sqrt(dot (tmpvar_2, tmpvar_2)) + (rand_frame * 13.0)).x;\\n  uv_1 = (uv + (clamp (\\n    ((sin(tmpvar_3) / cos(tmpvar_3)) / normalize(tmpvar_2))\\n  , vec2(-2.0, -2.0), vec2(2.0, 2.0)) / 16.0));\\n  vec4 tmpvar_4;\\n  tmpvar_4.w = 1.0;\\n  tmpvar_4.xyz = ((q24 * (\\n    ((texture (sampler_main, uv_1).xyz + ((0.1 * vec3(\\n      ((q1 * cos((uv_1.x * 44.0))) - cos((uv_1.y * 82.0)))\\n    )) * (1.0 + texture (sampler_noise_lq, \\n      ((uv_1 / 16.0) + (time / 100.0))\\n    )).xyz)) * 0.98)\\n   - 0.025)) + ((1.0 - q24) * texture (sampler_main, uv_orig).xyz));\\n  ret = tmpvar_4.xyz;\\n }","comp":"vec2 xlat_mutabledz;\\nvec3 xlat_mutableneu;\\nvec3 xlat_mutableret1;\\nvec2 xlat_mutableuv3;\\n shader_body { \\n  vec2 uv2_1;\\n  vec2 tmpvar_2;\\n  tmpvar_2.y = 0.0;\\n  tmpvar_2.x = texsize.z;\\n  vec2 tmpvar_3;\\n  tmpvar_3.x = 0.0;\\n  tmpvar_3.y = texsize.w;\\n  xlat_mutabledz.x = dot ((texture (sampler_main, (uv + tmpvar_2)).xyz - texture (sampler_main, (uv - tmpvar_2)).xyz), vec3(0.32, 0.49, 0.29));\\n  xlat_mutabledz.y = dot ((texture (sampler_main, (uv + tmpvar_3)).xyz - texture (sampler_main, (uv - tmpvar_3)).xyz), vec3(0.32, 0.49, 0.29));\\n  uv2_1 = (uv - 0.5);\\n  vec2 tmpvar_4;\\n  tmpvar_4.y = 0.0;\\n  float tmpvar_5;\\n  tmpvar_5 = (time / 8.0);\\n  tmpvar_4.x = tmpvar_5;\\n  float tmpvar_6;\\n  tmpvar_6 = (q27 * 2.0);\\n  xlat_mutableuv3 = (((tmpvar_6 * uv2_1) * 0.1) + tmpvar_4);\\n  xlat_mutableuv3 = (fract(xlat_mutableuv3) * aspect.yx);\\n  xlat_mutableuv3 = ((0.1 * cos(\\n    (22.0 * xlat_mutableuv3)\\n  )) + (18.0 * xlat_mutabledz));\\n  float tmpvar_7;\\n  tmpvar_7 = clamp ((0.02 / sqrt(\\n    dot (xlat_mutableuv3, xlat_mutableuv3)\\n  )), 0.0, 1.0);\\n  vec4 tmpvar_8;\\n  tmpvar_8 = (1.0 + roam_cos);\\n  xlat_mutableneu = ((0.1 * vec3(tmpvar_7)) + ((0.45 * \\n    dot (vec3(tmpvar_7), vec3(0.32, 0.49, 0.29))\\n  ) * tmpvar_8).xyz);\\n  xlat_mutableret1 = max (vec3(0.0, 0.0, 0.0), (xlat_mutableneu * 1.252262));\\n  vec2 tmpvar_9;\\n  tmpvar_9.y = 0.0;\\n  tmpvar_9.x = tmpvar_5;\\n  xlat_mutableuv3 = (((tmpvar_6 * uv2_1) * 0.1) + tmpvar_9);\\n  xlat_mutableuv3 = (fract(xlat_mutableuv3) * aspect.yx);\\n  xlat_mutableuv3 = ((0.1 * cos(\\n    (22.0 * xlat_mutableuv3)\\n  )) + (18.0 * xlat_mutabledz));\\n  float tmpvar_10;\\n  tmpvar_10 = clamp ((0.02 / sqrt(\\n    dot (xlat_mutableuv3, xlat_mutableuv3)\\n  )), 0.0, 1.0);\\n  xlat_mutableneu = ((0.1 * vec3(tmpvar_10)) + ((0.45 * \\n    dot (vec3(tmpvar_10), vec3(0.32, 0.49, 0.29))\\n  ) * tmpvar_8).xyz);\\n  xlat_mutableret1 = max (xlat_mutableret1, (xlat_mutableneu * 1.252262));\\n  vec4 tmpvar_11;\\n  tmpvar_11.w = 1.0;\\n  tmpvar_11.xyz = (xlat_mutableret1 + clamp ((\\n    (texture (sampler_main, uv).xyz * 4.0)\\n   * \\n    (0.2 + xlat_mutableret1)\\n  ), 0.0, 1.0));\\n  ret = tmpvar_11.xyz;\\n }"}') }, "./presets/converted/martin - glass corridor.json": e => { e.exports = JSON.parse('{"version":2,"baseVals":{"rating":5,"gammaadj":1.980001,"decay":0.5,"echo_zoom":0.999998,"echo_alpha":0.5,"echo_orient":3,"wave_mode":6,"wave_dots":1,"modwavealphabyvolume":1,"darken":1,"wave_a":0.001,"wave_scale":1.740724,"wave_smoothing":0.45,"wave_mystery":0.08,"modwavealphastart":0,"modwavealphaend":1.32,"warpanimspeed":1.4595,"warpscale":2.0067,"zoom":0.9999,"warp":0.01,"sx":0.9999,"wave_g":0.99,"ob_size":0,"ob_r":1,"ob_b":1,"ob_a":1,"ib_size":0.26,"mv_x":64,"mv_y":48,"mv_l":1.85,"mv_r":0.4999,"mv_g":0.4999,"mv_b":0.4999,"mv_a":0,"b1ed":0},"shapes":[{"baseVals":{"textured":1,"x":0.71,"rad":0.657209,"tex_zoom":0.391734,"g":1,"b":1,"a":0.8,"r2":0.83,"g2":0.93,"b2":0.8,"border_b":0,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"sides":100,"rad":1.264578,"tex_ang":1.4451,"tex_zoom":1.493308,"r":0.7,"g":0.4,"a":0.01,"r2":0.7,"g2":0.4,"border_r":0.5,"border_g":0.5,"border_b":0.5,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"sides":44,"x":0.503,"rad":0.038857,"tex_zoom":0.609857,"g":0.1,"r2":1,"b2":1,"a2":1,"border_r":0.5,"border_g":0.5,"border_b":0.5,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"x = rand(10)/10;\\ny = rand(10)/10;\\n\\nr = 0;\\ng = 0;\\nb = 0;\\n\\nr2= .5;\\nb2 = 0;\\ng2 = 0;\\na = 0; a2 = 1;\\nrad = bass_att/30;"},{"baseVals":{"sides":63,"textured":1,"y":1,"rad":0.548217,"tex_zoom":0.499805,"g":1,"b":1,"r2":1,"b2":1,"border_r":0.5,"border_g":0.5,"border_b":0.5,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""}],"waves":[{"baseVals":{"sep":120,"thick":1,"additive":1,"scaling":0.891519,"smoothing":0.82,"r":0,"g":0.5,"a":0.9,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"t2 = t2 + bass_att;","point_eqs_eel":"k1 = (sample*100)%2;\\n\\nxi = value1*k1 + xi*(1-k1);\\nyi = value2*(1-k1) + yi*k1;\\n\\nx = .5 + xi/2;\\ny = .5 + yi/2;\\n\\n\\na = bass + mid + treb ;\\na = a/10 * sqrt(xi*xi+yi*yi);"},{"baseVals":{"thick":1,"scaling":0.891519,"smoothing":0.82,"a":0.1,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"thick":1,"scaling":0.891519,"smoothing":0.82,"r":0,"g":0.2,"b":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":"x0 = .5 + (-1) * q1/1;\\ny0 = .0 - (-1)* .5;\\n\\n//x0 = .5; y0 = .5;\\n\\nk1 = int(100.0*sample);\\nk2 = int(100.0*sample+1);\\nk1 = k1%2;\\nf1 = rand(100)/200-.25;\\nf2 = rand(100)/200-.25;\\n\\nx = x0 + k1* f1;;\\ny = y0 + k1* f2;\\na = k2%2 /4;"},{"baseVals":{"spectrum":1,"usedots":1,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":"ra = .8;\\nrb = .5;\\npib = 6.28318530718;\\n\\n\\ntic = min(time-tin,.1);\\ntin = if(equal(sample,0),time,tin);\\n\\nmod = 1.5 + .5*sin(time*.15);\\nmed = 1.5 + .5*sin(time*.134);\\nmed = 5;\\namod = 3;\\n\\nvr = rand(10001)*.0001;\\nrb = rb + rand(10001)*.0001*.1;\\n\\na = vr;\\n\\nsa = vr*pib*.5;\\nsp = sa*mod + q1*1.3;\\nsam = sa*med - q1*.219;\\n\\nox = ra*sin(sam*pib);\\noy = ra*cos(sam*pib);\\nox = ox + rb*-cos(sp)*sin(sam*pib);\\noz = rb*-sin(sp);\\noy = oy + rb*-cos(sp)*cos(sam*pib);\\n\\n\\nxang = time*.132;\\nxang = q2;\\nyang = time*.153;\\nyang = q3;\\nzang = time*.110;\\nzang = q4;\\nfov = 0.6 + 0.2*sin(time);\\nfov = .5;\\n\\nmx = ox*cos(zang) - oy*sin(zang);\\nmy = ox*sin(zang) + oy*cos(zang);\\nox = mx;\\noy = my;\\nmx = ox*cos(yang) + oz*sin(yang);\\nmz = -ox*sin(yang) + oz*cos(yang);\\nox = mx;\\noz = mz;\\nmy = oy*cos(xang) - oz*sin(xang);\\nmz = oy*sin(xang) + oz*cos(xang);\\noy = my;\\noz = mz;\\n\\noz = oz - 2;\\nx = ox*fov/oz + 0.5;\\nx = (x-.5)*0.75 + 0.5;\\ny = oy*fov/oz + 0.5;\\n"}],"init_eqs_eel":"p3 = 0;\\nt_rel = 0;","frame_eqs_eel":"dec_med = pow (0.9, 30/fps);\\ndec_slow = pow (0.99, 30/fps);\\nbeat = max (max (bass, mid), treb);\\navg = avg*dec_slow + beat*(1-dec_slow);\\nis_beat = above(beat, .5+avg+peak) * above (time, t0+.2);\\nt0 = is_beat*time + (1-is_beat)*t0;\\npeak = is_beat * beat + (1-is_beat)*peak*dec_med;\\nindex = (index + is_beat) %8;\\nindex2 = (index2 + is_beat*bnot(index))%4;\\nindex3 = (index3 + is_beat*bnot(index)*bnot(index2))%3;\\n\\nmonitor = index4;\\n\\nq20 = avg;\\nq21 = beat;\\nq22 = peak;\\nq23 = index;\\nq24 = is_beat;\\nq26 = bass_att + mid_att + treb_att+1;\\n\\n//k1 =  is_beat*bnot(index)*bnot(index2);\\n\\nk1 =  is_beat*equal(index,0);\\np1 =  k1*(p1+1) + (1-k1)*p1;\\np2 = dec_med * p2+ (1-dec_med)*p1;\\np3 = dec_med * p3+ (1-dec_med)*p2;\\nrott = p3 * 3.14159265359/2;\\n\\n\\nq27 = 8-index;\\nq28 = index2+1;\\n\\n//q28 = sin(time)+1;\\n\\nq1 = cos(rott);\\nq2 = sin(rott);\\nq3 = -q2;\\nq4 = q1;\\n\\nt_rel = t_rel + .02*30/fps*q1*q1;\\n\\nq5 = cos(t_rel);\\nq6 = sin(t_rel);\\nq7 = -q6;\\nq8 = q5;\\n\\nmovez = movez + .02*30/fps / ((1.4-q5)*(1.4-q5));\\nq30 = movez;\\n\\n\\nzoom = 1.0;","pixel_eqs_eel":"dx = 0*q28/8;","warp":"vec3 xlat_mutablenoise;\\nvec3 xlat_mutableret1;\\nvec2 xlat_mutablers;\\n shader_body { \\n  float z_1;\\n  mat2 tmpvar_2;\\n  tmpvar_2[uint(0)] = _qb.xy;\\n  tmpvar_2[1u] = _qb.zw;\\n  vec2 tmpvar_3;\\n  tmpvar_3 = ((uv * tmpvar_2) - 0.5);\\n  float tmpvar_4;\\n  tmpvar_4 = (0.4 / abs(tmpvar_3.y));\\n  xlat_mutablers.x = (tmpvar_3.x * tmpvar_4);\\n  xlat_mutablers.y = (tmpvar_4 + q30);\\n  vec4 tmpvar_5;\\n  tmpvar_5 = texture (sampler_pw_noise_lq, (xlat_mutablers / 32.0));\\n  xlat_mutablenoise = (tmpvar_5.xyz * vec3(greaterThanEqual (tmpvar_5.xyz, vec3(0.9, 0.9, 0.9))));\\n  xlat_mutablenoise = (xlat_mutablenoise * (1.0 + (0.5 * \\n    (dot (texture (sampler_noise_hq, (16.0 * xlat_mutablers)), vec4(0.32, 0.49, 0.29, 0.0)) - 0.5)\\n  )));\\n  xlat_mutableret1 = xlat_mutablenoise;\\n  z_1 = (1.2 / abs(tmpvar_3.y));\\n  xlat_mutablers.x = (tmpvar_3.x * z_1);\\n  xlat_mutablers.y = (z_1 + q30);\\n  vec4 tmpvar_6;\\n  tmpvar_6 = texture (sampler_pw_noise_lq, (xlat_mutablers / 32.0));\\n  xlat_mutablenoise = (tmpvar_6.xyz * vec3(greaterThanEqual (tmpvar_6.xyz, vec3(0.9, 0.9, 0.9))));\\n  xlat_mutableret1 = (xlat_mutableret1 + xlat_mutablenoise);\\n  z_1 = (0.4 / abs(tmpvar_3.x));\\n  xlat_mutablers.y = (tmpvar_3.y * z_1);\\n  xlat_mutablers.x = (z_1 + q30);\\n  vec4 tmpvar_7;\\n  tmpvar_7 = texture (sampler_pw_noise_lq, (xlat_mutablers / 32.0));\\n  xlat_mutablenoise = (tmpvar_7.xyz * vec3(greaterThanEqual (tmpvar_7.xyz, vec3(0.9, 0.9, 0.9))));\\n  xlat_mutablenoise = (xlat_mutablenoise * (1.0 + (0.5 * \\n    (dot (texture (sampler_noise_hq, (16.0 * xlat_mutablers)), vec4(0.32, 0.49, 0.29, 0.0)) - 0.5)\\n  )));\\n  xlat_mutableret1 = (xlat_mutableret1 + xlat_mutablenoise);\\n  z_1 = (1.2 / abs(tmpvar_3.x));\\n  xlat_mutablers.y = (tmpvar_3.y * z_1);\\n  xlat_mutablers.x = (z_1 + q30);\\n  vec4 tmpvar_8;\\n  tmpvar_8 = texture (sampler_pw_noise_lq, (xlat_mutablers / 32.0));\\n  xlat_mutablenoise = (tmpvar_8.xyz * vec3(greaterThanEqual (tmpvar_8.xyz, vec3(0.9, 0.9, 0.9))));\\n  xlat_mutableret1 = (xlat_mutableret1 + xlat_mutablenoise);\\n  vec4 tmpvar_9;\\n  tmpvar_9.w = 1.0;\\n  tmpvar_9.xyz = xlat_mutableret1;\\n  ret = tmpvar_9.xyz;\\n }","comp":"uniform sampler2D sampler_clouds2;\\n shader_body { \\n  vec2 uv_1;\\n  vec2 uv1_2;\\n  uv_1 = (uv * aspect.xy);\\n  vec2 tmpvar_3;\\n  tmpvar_3.y = 0.0;\\n  tmpvar_3.x = texsize.z;\\n  vec2 tmpvar_4;\\n  tmpvar_4.x = 0.0;\\n  tmpvar_4.y = texsize.w;\\n  vec2 tmpvar_5;\\n  tmpvar_5.x = (dot (texture (sampler_main, (uv_1 - tmpvar_3)).xyz, vec3(0.32, 0.49, 0.29)) - dot (texture (sampler_main, (uv_1 + tmpvar_3)).xyz, vec3(0.32, 0.49, 0.29)));\\n  tmpvar_5.y = (dot (texture (sampler_main, (uv_1 - tmpvar_4)).xyz, vec3(0.32, 0.49, 0.29)) - dot (texture (sampler_main, (uv_1 + tmpvar_4)).xyz, vec3(0.32, 0.49, 0.29)));\\n  uv1_2 = ((0.3 * sin(\\n    ((uv_1 + (0.02 * time)) * 6.0)\\n  )) + (0.2 * tmpvar_5));\\n  vec4 tmpvar_6;\\n  tmpvar_6 = texture (sampler_clouds2, (uv_orig + tmpvar_5));\\n  vec4 tmpvar_7;\\n  tmpvar_7.w = 1.0;\\n  tmpvar_7.xyz = (((-2.0 * \\n    (0.1 * texture (sampler_main, uv_1))\\n  .xyz) + (\\n    clamp (((0.004 * q26) / sqrt(dot (uv1_2, uv1_2))), 0.0, 1.0)\\n   * vec3(1.0, 0.8, 0.4))) + (0.4 * (tmpvar_6.xyz + \\n    (dot (tmpvar_6.xyz, vec3(0.32, 0.49, 0.29)) - 0.7)\\n  )));\\n  ret = tmpvar_7.xyz;\\n }"}') }, "./presets/converted/martin - mandelbox explorer - high speed demo version.json": e => { e.exports = JSON.parse('{"version":2,"baseVals":{"rating":3,"gammaadj":1.98,"decay":0.5,"echo_zoom":1,"echo_alpha":0.5,"echo_orient":3,"wave_mode":7,"additivewave":1,"wave_thick":1,"modwavealphabyvolume":1,"wave_brighten":0,"wrap":0,"darken":1,"wave_a":0.001,"wave_scale":0.958,"wave_smoothing":0.45,"modwavealphastart":0,"modwavealphaend":1.32,"warpanimspeed":1.459,"warpscale":2.007,"zoom":0.9999,"warp":0.01,"sx":0.9999,"wave_r":0,"wave_g":0,"wave_b":0,"ob_size":0.05,"ob_g":0.1,"ob_b":1,"ob_a":1,"ib_size":0,"ib_r":0,"ib_g":0,"ib_b":0,"mv_x":25.6,"mv_y":9.6,"mv_l":0,"mv_r":0.5,"mv_g":0.5,"mv_b":0.5,"mv_a":0,"b1ed":0},"shapes":[{"baseVals":{"textured":1,"x":0.09,"y":0.9,"rad":0.22437,"tex_zoom":1.76002,"r2":1,"g2":0,"a2":0.6,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"sides":100,"additive":1,"x":0.26,"y":0.2,"rad":0.39317,"tex_zoom":6.19589,"r":0,"g":0.55,"b":0.5,"g2":0.4,"b2":0.4,"a2":0.07,"border_r":0.3,"border_g":0.7,"border_b":0.8,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"sides":44,"additive":1,"x":0.503,"rad":0.03886,"tex_zoom":0.60986,"g":0.1,"a":0.9,"r2":1,"b2":1,"border_r":0.5,"border_g":0.5,"border_b":0.5,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"sides":100,"rad":0.01,"tex_zoom":0.49981,"r":0,"g2":0,"border_r":0.2,"border_g":0.7,"border_b":0.5,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""}],"waves":[{"baseVals":{"samples":282,"sep":20,"usedots":1,"thick":1,"additive":1,"scaling":3.91581,"smoothing":0.1,"r":0.2,"g":0.3,"a":0.6,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"usedots":1,"thick":1,"scaling":0.89152,"smoothing":0.82,"a":0.1,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"thick":1,"scaling":0.89152,"smoothing":0.82,"r":0,"g":0.2,"b":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"spectrum":1,"usedots":1,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""}],"init_eqs_eel":"//******** INITIALIZATION *********\\n//---------- some global vars, do not change -------------\\navg = 0.01;\\nq7 = .25; //MyZoom\\nq8 =  rand(2.0)-1.0; //fractal modifier\\n//q8 = 1; //#\\nq16 = 1 + rand(2); //Tele ; rather fish eye\\n//q16 = 1; //#\\nq18 = rand(0.8)+.1; //brightness balance back/front\\nq30 = 1; //logarithmic Z-Dist storage; unused\\nq31 =128;\\nstart = 1; travel = 0; RotZ = 0; look = 0; slow = 0; t0 = time+3; lampx = .5; lampy = .5;\\ncran0 = rand(1);\\nn = 0; loop (10000, gmegabuf(n)=0; n=n+1; );\\nn = 0; loop (10000,  megabuf(n)=0; n=n+1; );\\ntrelx = 0;  trely = 0; trelz = 0;\\nreg20 = 1; reg21 = 0; reg22 = 0; reg23 = 0; reg24 = 1; reg25 = 0; reg26 = 0; reg27 = 0; reg28 = 1;\\n\\n//Find random starting point\\nwhile (exec2(\\n  ran1 = rand(800)/100;  ran2 = rand(800)/100;  ran3 = rand(800)/100;\\n  PosX = rand(5)-2;   PosY = rand(5)-2;   PosZ = rand(5)-2;\\n\\n//  PosX = 3.3; PosY = 2; PosZ = -2; ran1 = 0; ran2 = 0; ran3 = 0; //#\\n\\n  c1 = cos(ran1); c2 = cos(ran2); c3 = cos(ran3);\\n  s1 = sin(ran1); s2 = sin(ran2); s3 = sin(ran3);\\n\\n  reg20 = c2*c1; reg21 = c2*s1; reg22 = -s2;\\n  reg23 = s3*s2*c1 - c3*s1; reg24 = s3*s2*s1 + c3*c1; reg25 = s3*c2;\\n  reg26 = c3*s2*c1 + s3*s1; reg27 = c3*s2*s1 - s3*c1; reg28 = c3*c2;\\n\\n  //***********BOT*************\\n  //Coord. Trans. must exactly match def in warp S. !!!!\\n  dist = 0.001;\\n  while (exec2(\\n    uvx = reg26*dist/q7; uvy = reg27*dist/q7; uvz = reg28*dist/q7;\\n    uvx += PosX; uvy += PosY; uvz += PosZ;\\n    uvx = 8.0*((uvx/8+30.5 - int(uvx/8+30.5))-.5);\\n    uvy = 8.0*((uvy/8+30.5 - int(uvy/8+30.5))-.5);\\n    uvz = 8.0*((uvz/8+30.5 - int(uvz/8+30.5))-.5);\\n    uvx0 = uvx+q8; uvy0 = uvy+q8; uvz0 = uvz+q8;\\n    loop (7+1,\\n      uvx = if (uvx > 1, 2-uvx, if(uvx < -1, -2-uvx, uvx));\\n      uvy = if (uvy > 1, 2-uvy, if(uvy < -1, -2-uvy, uvy));\\n      uvz = if (uvz > 1, 2-uvz, if(uvz < -1, -2-uvz, uvz));\\n      slen = uvx*uvx + uvy*uvy + uvz*uvz;\\n      uvx = if (slen < 0.25, uvx*4, if (slen < 1, uvx/slen, uvx)) *2.6 + uvx0;\\n      uvy = if (slen < 0.25, uvy*4, if (slen < 1, uvy/slen, uvy)) *2.6 + uvy0;\\n      uvz = if (slen < 0.25, uvz*4, if (slen < 1, uvz/slen, uvz)) *2.6 + uvz0;\\n    );\\n    len = sqrt(uvx*uvx + uvy*uvy + uvz*uvz);\\n    dist *= 1.05;\\n  ,(dist < 0.6)*(len > 30)));\\n,(dist < .06))); //end while","frame_eqs_eel":"fps_ = .0 * fps_ + 1*if(fps<=25,fps,25+.5*(fps-25));\\ndec_s = 1-.06*30/fps_;\\nbeat = (time >  t0+3); t0 = if(beat, time, t0);\\n\\nspeed = min(0.2,dist_-.02) * (1+2*avg) *(1-slow*.0)*.7/q7; //#\\nds = ds * dec_s + (1-dec_s)*speed*.25/fps_;\\nRotZ = if (RotZ==0,beat*(rand(100)<20*travel)*(rand(10)/10-.3),\\n                   bnot(beat*(rand(100)<30))*RotZ);\\nslow = if (bnot(slow), beat*(rand(1000*avg)<6), bnot(beat*(rand(100)<50)));\\nlook = if (bnot(look), beat*(rand(1000*speed)<12), bnot(beat*(rand(100)<50)));\\n\\n//Lamp View\\nlx = if (beat,rand(150)/200+.15,lx);\\nly = if (beat,rand(150)/200+.15,ly);\\nlampx = lampx * dec_s + (1-dec_s)*if (look,lx,0.5);\\nlampy = lampy * dec_s + (1-dec_s)*if (look,ly,0.5);\\nq1 = lampx; q2 = lampy;\\n\\n//Position\\nDirX= reg26; DirY= reg27; DirZ = reg28;\\nPosX = PosX + ds*DirX ; PosY = PosY + ds*DirY; PosZ = PosZ + ds*DirZ;\\nq4 = PosX; q5 = PosY; q6 = PosZ;\\n\\nangchg = (.2-dist_)*(dist_ < .2)*2;\\ntravel = if (angchg > 0,0,travel+ds);\\nv1 = v1 * dec_s + (1-dec_s)* RotZ * ds;\\nv2 = v2 *dec_s + (1-dec_s)*angchg *xslope/fps_;\\nv3 = v3 *dec_s + (1-dec_s)*(angchg *yslope/fps_ + 2*v1*sin(time*.1));\\n//v2 = .008;\\n//push old RotMat\\nreg30 =reg20; reg31 =reg21; reg32 =reg22;\\nreg33 =reg23; reg34 =reg24; reg35 =reg25;\\nreg36 =reg26; reg37 =reg27; reg38 =reg28;\\n\\nn = 0; avg = 0;\\nloop (5,\\n  n = n+1;\\n  //new Rot. Mat for infinitesimal angles\\n  ran1 = rand(100)/100;\\n  ran2 = rand(100)/200-.25;\\n  tx = cos(n*1.57+ran2) * (n <= 4)*ran1; ty = sin(n*1.57+ran2) * (n <= 4)*ran1;\\n  c1 = cos(v1); c2 = cos(v2+ty); c3 = cos(v3+tx);\\n  s1 = sin(v1); s2 = sin(v2+ty); s3 = sin(v3+tx);\\n  reg10 = c2*c1; reg11 = c2*s1; reg12 = -s2;\\n  reg13 = s3*s2*c1 - c3*s1; reg14 = s3*s2*s1 + c3*c1; reg15 = s3*c2;\\n  reg16 = c3*s2*c1 + s3*s1; reg17 = c3*s2*s1 - s3*c1; reg18 = c3*c2;\\n\\n  //pop old RotMat\\n  reg20 =reg30; reg21 =reg31; reg22 =reg32;\\n  reg23 =reg33; reg24 =reg34; reg25 =reg35;\\n  reg26 =reg36; reg27 =reg37; reg28 =reg38;\\n\\n  //Multiply new RotMat by old one\\n  q20 = reg10*reg20 + reg11*reg23 + reg12*reg26;\\n  q21 = reg10*reg21 + reg11*reg24 + reg12*reg27;\\n  q22 = reg10*reg22 + reg11*reg25 + reg12*reg28;\\n  q23 = reg13*reg20 + reg14*reg23 + reg15*reg26;\\n  q24 = reg13*reg21 + reg14*reg24 + reg15*reg27;\\n  q25 = reg13*reg22 + reg14*reg25 + reg15*reg28;\\n  q26 = reg16*reg20 + reg17*reg23 + reg18*reg26;\\n  q27 = reg16*reg21 + reg17*reg24 + reg18*reg27;\\n  q28 = reg16*reg22 + reg17*reg25 + reg18*reg28;\\n\\n  reg20 =q20; reg21 =q21; reg22 =q22;\\n  reg23 =q23; reg24 =q24; reg25 =q25;\\n  reg26 =q26; reg27 =q27; reg28 =q28;\\n\\n  //***********BOT*************\\n  //Coord. Trans. must exactly match def in warp S. !!!!\\n  dist = 0.002;\\n  while (exec2(\\n    uvx = reg26*dist/q7; uvy = reg27*dist/q7; uvz = reg28*dist/q7;\\n    uvx += PosX; uvy += PosY; uvz += PosZ;\\n    uvx = 8.0*((uvx/8+30.5 - int(uvx/8+30.5))-.5);\\n    uvy = 8.0*((uvy/8+30.5 - int(uvy/8+30.5))-.5);\\n    uvz = 8.0*((uvz/8+30.5 - int(uvz/8+30.5))-.5);\\n    uvx0 = uvx+q8; uvy0 = uvy+q8; uvz0 = uvz+q8;\\n    loop (7+1,\\n      uvx = if (uvx > 1, 2-uvx, if(uvx < -1, -2-uvx, uvx));\\n      uvy = if (uvy > 1, 2-uvy, if(uvy < -1, -2-uvy, uvy));\\n      uvz = if (uvz > 1, 2-uvz, if(uvz < -1, -2-uvz, uvz));\\n      slen = uvx*uvx + uvy*uvy + uvz*uvz;\\n      uvx = if (slen < 0.25, uvx*4, if (slen < 1, uvx/slen, uvx)) *2.6 + uvx0;\\n      uvy = if (slen < 0.25, uvy*4, if (slen < 1, uvy/slen, uvy)) *2.6 + uvy0;\\n      uvz = if (slen < 0.25, uvz*4, if (slen < 1, uvz/slen, uvz)) *2.6 + uvz0;\\n    );\\n    len = sqrt(uvx*uvx + uvy*uvy + uvz*uvz);\\n    dist *= 1.1;\\n  ,(dist < 0.6)*(len > 30)));\\n  megabuf(n) = megabuf(n)*dec_s + (1-dec_s)*dist; //stores the 4 trial points\\n  avg = avg+abs(megabuf(n)/5);\\n); //end loop 5\\n\\nn = 0; avg = 0; loop (5, n=n+1; avg = avg+abs(megabuf(n)/5));\\n\\nxslope = min(max(2/avg*(megabuf(1)-megabuf(3)),-3),3);\\nyslope = min(max(2/avg*(megabuf(4)-megabuf(2)),-3),3);\\nmonitor = avg;\\ndist_ = dist_*dec_s + (1-dec_s)*dist;\\n\\nq10 = ds*q7; //compensation of lin. movement in GetDist and zoom uv\\nq14 = 1*abs(ds) + 2*(abs(v1) + abs(v2) + abs(v3)) + 1.0/255 + start*.05;\\nq19 = .6 + .4*sin(time*.02+cran0*6); //brightness backgd\\nstart = start * .9;\\nq11 = v1; q12 = v2; q13 = v3;\\n//forward comp. of Rotation\\nmonitor = q16;","pixel_eqs_eel":"warp = 0.0; zoom = 1; dx = -q12/q16*(1+0*pow(x-.5,2)); dy = q13/q16*(1+0*pow(y-.5,2)); rot =q11;","warp":"float sustain;\\nfloat xlat_mutabledist;\\nfloat xlat_mutablestruc;\\nvec2 xlat_mutableuv1;\\nvec3 xlat_mutableuv2;\\n shader_body { \\n  mat3 tmpvar_1;\\n  tmpvar_1[uint(0)].x = q20;\\n  tmpvar_1[uint(0)].y = q23;\\n  tmpvar_1[uint(0)].z = q26;\\n  tmpvar_1[1u].x = q21;\\n  tmpvar_1[1u].y = q24;\\n  tmpvar_1[1u].z = q27;\\n  tmpvar_1[2u].x = q22;\\n  tmpvar_1[2u].y = q25;\\n  tmpvar_1[2u].z = q28;\\n  vec3 tmpvar_2;\\n  tmpvar_2.x = q4;\\n  tmpvar_2.y = q5;\\n  tmpvar_2.z = q6;\\n  sustain = (0.98 - q14);\\n  vec2 uv_3;\\n  vec3 ret_4;\\n  vec2 tmpvar_5;\\n  tmpvar_5 = (uv - 0.5);\\n  xlat_mutableuv1 = ((tmpvar_5 * aspect.xy) * q16);\\n  vec4 tmpvar_6;\\n  tmpvar_6 = texture (sampler_pc_main, uv);\\n  uv_3 = ((tmpvar_5 * (1.0 - \\n    (q10 / (1.0 - ((tmpvar_6.z + \\n      (0.003921569 * tmpvar_6.y)\\n    ) + (q10 * 0.7))))\\n  )) + 0.5);\\n  vec4 tmpvar_7;\\n  tmpvar_7 = fract((8.0 * texture (sampler_noise_lq, (uv_3 + rand_frame.yz))));\\n  xlat_mutabledist = tmpvar_7.x;\\n  if ((tmpvar_7.y > 0.2)) {\\n    vec3 tmpvar_8;\\n    tmpvar_8 = (tmpvar_7.xyz - vec3(0.4, 0.5, 0.5));\\n    vec2 uvi_9;\\n    uvi_9 = ((tmpvar_8.zy * 0.003) + uv_3);\\n    vec2 pix_10;\\n    vec4 nb2_11;\\n    vec4 nb_12;\\n    vec2 x_13;\\n    x_13 = (uvi_9 - 0.5);\\n    pix_10 = (texsize.zw * (1.0 + (\\n      sqrt(dot (x_13, x_13))\\n     * 8.0)));\\n    float tmpvar_14;\\n    tmpvar_14 = (q10 * 0.7);\\n    vec4 tmpvar_15;\\n    tmpvar_15 = texture (sampler_pc_main, (uvi_9 - pix_10));\\n    nb_12.x = (1.0 - ((tmpvar_15.z + \\n      (0.003921569 * tmpvar_15.y)\\n    ) + tmpvar_14));\\n    vec4 tmpvar_16;\\n    tmpvar_16 = texture (sampler_pc_main, (uvi_9 + (pix_10 * vec2(1.0, -1.0))));\\n    nb_12.y = (1.0 - ((tmpvar_16.z + \\n      (0.003921569 * tmpvar_16.y)\\n    ) + tmpvar_14));\\n    vec4 tmpvar_17;\\n    tmpvar_17 = texture (sampler_pc_main, (uvi_9 + pix_10));\\n    nb_12.z = (1.0 - ((tmpvar_17.z + \\n      (0.003921569 * tmpvar_17.y)\\n    ) + tmpvar_14));\\n    vec4 tmpvar_18;\\n    tmpvar_18 = texture (sampler_pc_main, (uvi_9 + (pix_10 * vec2(-1.0, 1.0))));\\n    nb_12.w = (1.0 - ((tmpvar_18.z + \\n      (0.003921569 * tmpvar_18.y)\\n    ) + tmpvar_14));\\n    vec4 tmpvar_19;\\n    tmpvar_19 = texture (sampler_pc_main, (uvi_9 + (pix_10 * vec2(0.0, -1.0))));\\n    nb2_11.x = (1.0 - ((tmpvar_19.z + \\n      (0.003921569 * tmpvar_19.y)\\n    ) + tmpvar_14));\\n    vec4 tmpvar_20;\\n    tmpvar_20 = texture (sampler_pc_main, (uvi_9 + (pix_10 * vec2(1.0, 0.0))));\\n    nb2_11.y = (1.0 - ((tmpvar_20.z + \\n      (0.003921569 * tmpvar_20.y)\\n    ) + tmpvar_14));\\n    vec4 tmpvar_21;\\n    tmpvar_21 = texture (sampler_pc_main, (uvi_9 + (pix_10 * vec2(0.0, 1.0))));\\n    nb2_11.z = (1.0 - ((tmpvar_21.z + \\n      (0.003921569 * tmpvar_21.y)\\n    ) + tmpvar_14));\\n    vec4 tmpvar_22;\\n    tmpvar_22 = texture (sampler_pc_main, (uvi_9 + (pix_10 * vec2(-1.0, 0.0))));\\n    nb2_11.w = (1.0 - ((tmpvar_22.z + \\n      (0.003921569 * tmpvar_22.y)\\n    ) + tmpvar_14));\\n    vec4 tmpvar_23;\\n    tmpvar_23 = min (nb_12, nb2_11);\\n    nb_12.zw = tmpvar_23.zw;\\n    nb_12.xy = min (tmpvar_23.xy, tmpvar_23.zw);\\n    xlat_mutabledist = (min (nb_12.x, nb_12.y) + ((0.008 * tmpvar_8.x) * abs(tmpvar_8.y)));\\n  };\\n  vec4 tmpvar_24;\\n  tmpvar_24 = texture (sampler_pc_main, uv_3);\\n  float tmpvar_25;\\n  tmpvar_25 = min (xlat_mutabledist, (1.0 - (\\n    (tmpvar_24.z + (0.003921569 * tmpvar_24.y))\\n   + \\n    (q10 * 0.7)\\n  )));\\n  xlat_mutabledist = tmpvar_25;\\n  float tmpvar_26;\\n  tmpvar_26 = (tmpvar_25 + pow (tmpvar_25, 3.0));\\n  vec3 tmpvar_27;\\n  tmpvar_27.xy = (xlat_mutableuv1 * tmpvar_26);\\n  tmpvar_27.z = tmpvar_26;\\n  xlat_mutableuv2 = (((tmpvar_27 / q7) * tmpvar_1) + tmpvar_2);\\n  xlat_mutableuv2 = ((fract(\\n    ((xlat_mutableuv2 / 8.0) + 0.5)\\n  ) - 0.5) * 8.0);\\n  float li_28;\\n  vec3 zz0_29;\\n  vec3 zz_30;\\n  zz0_29 = (xlat_mutableuv2 + q8);\\n  li_28 = 0.0;\\n  zz_30 = ((2.0 * clamp (xlat_mutableuv2, vec3(-1.0, -1.0, -1.0), vec3(1.0, 1.0, 1.0))) - xlat_mutableuv2);\\n  float tmpvar_31;\\n  tmpvar_31 = dot (zz_30, zz_30);\\n  if ((tmpvar_31 <= 0.25)) {\\n    zz_30 = (zz_30 * 4.0);\\n    li_28 = 24.0;\\n  } else {\\n    if ((tmpvar_31 <= 1.0)) {\\n      zz_30 = (zz_30 / tmpvar_31);\\n    };\\n  };\\n  zz_30 = ((2.6 * zz_30) + zz0_29);\\n  zz_30 = ((2.0 * clamp (zz_30, vec3(-1.0, -1.0, -1.0), vec3(1.0, 1.0, 1.0))) - zz_30);\\n  float tmpvar_32;\\n  tmpvar_32 = dot (zz_30, zz_30);\\n  if ((tmpvar_32 <= 0.25)) {\\n    zz_30 = (zz_30 * 4.0);\\n    li_28 = 24.0;\\n  } else {\\n    if ((tmpvar_32 <= 1.0)) {\\n      zz_30 = (zz_30 / tmpvar_32);\\n    };\\n  };\\n  zz_30 = ((2.6 * zz_30) + zz0_29);\\n  zz_30 = ((2.0 * clamp (zz_30, vec3(-1.0, -1.0, -1.0), vec3(1.0, 1.0, 1.0))) - zz_30);\\n  float tmpvar_33;\\n  tmpvar_33 = dot (zz_30, zz_30);\\n  if ((tmpvar_33 <= 0.25)) {\\n    zz_30 = (zz_30 * 4.0);\\n    li_28 = 24.0;\\n  } else {\\n    if ((tmpvar_33 <= 1.0)) {\\n      zz_30 = (zz_30 / tmpvar_33);\\n    };\\n  };\\n  zz_30 = ((2.6 * zz_30) + zz0_29);\\n  zz_30 = ((2.0 * clamp (zz_30, vec3(-1.0, -1.0, -1.0), vec3(1.0, 1.0, 1.0))) - zz_30);\\n  float tmpvar_34;\\n  tmpvar_34 = dot (zz_30, zz_30);\\n  if ((tmpvar_34 <= 0.25)) {\\n    zz_30 = (zz_30 * 4.0);\\n    li_28 = 24.0;\\n  } else {\\n    if ((tmpvar_34 <= 1.0)) {\\n      zz_30 = (zz_30 / tmpvar_34);\\n    };\\n  };\\n  zz_30 = ((2.6 * zz_30) + zz0_29);\\n  zz_30 = ((2.0 * clamp (zz_30, vec3(-1.0, -1.0, -1.0), vec3(1.0, 1.0, 1.0))) - zz_30);\\n  float tmpvar_35;\\n  tmpvar_35 = dot (zz_30, zz_30);\\n  if ((tmpvar_35 <= 0.25)) {\\n    zz_30 = (zz_30 * 4.0);\\n    li_28 = 24.0;\\n  } else {\\n    if ((tmpvar_35 <= 1.0)) {\\n      zz_30 = (zz_30 / tmpvar_35);\\n    };\\n  };\\n  zz_30 = ((2.6 * zz_30) + zz0_29);\\n  zz_30 = ((2.0 * clamp (zz_30, vec3(-1.0, -1.0, -1.0), vec3(1.0, 1.0, 1.0))) - zz_30);\\n  float tmpvar_36;\\n  tmpvar_36 = dot (zz_30, zz_30);\\n  if ((tmpvar_36 <= 0.25)) {\\n    zz_30 = (zz_30 * 4.0);\\n    li_28 = 24.0;\\n  } else {\\n    if ((tmpvar_36 <= 1.0)) {\\n      zz_30 = (zz_30 / tmpvar_36);\\n    };\\n  };\\n  zz_30 = ((2.6 * zz_30) + zz0_29);\\n  zz_30 = ((2.0 * clamp (zz_30, vec3(-1.0, -1.0, -1.0), vec3(1.0, 1.0, 1.0))) - zz_30);\\n  float tmpvar_37;\\n  tmpvar_37 = dot (zz_30, zz_30);\\n  if ((tmpvar_37 <= 0.25)) {\\n    zz_30 = (zz_30 * 4.0);\\n    li_28 = 24.0;\\n  } else {\\n    if ((tmpvar_37 <= 1.0)) {\\n      zz_30 = (zz_30 / tmpvar_37);\\n    };\\n  };\\n  zz_30 = ((2.6 * zz_30) + zz0_29);\\n  zz_30 = ((2.0 * clamp (zz_30, vec3(-1.0, -1.0, -1.0), vec3(1.0, 1.0, 1.0))) - zz_30);\\n  float tmpvar_38;\\n  tmpvar_38 = dot (zz_30, zz_30);\\n  if ((tmpvar_38 <= 0.25)) {\\n    zz_30 = (zz_30 * 4.0);\\n    li_28 = 24.0;\\n  } else {\\n    if ((tmpvar_38 <= 1.0)) {\\n      zz_30 = (zz_30 / tmpvar_38);\\n    };\\n  };\\n  zz_30 = ((2.6 * zz_30) + zz0_29);\\n  vec4 tmpvar_39;\\n  tmpvar_39.xyz = zz_30;\\n  tmpvar_39.w = li_28;\\n  float tmpvar_40;\\n  tmpvar_40 = sqrt(dot (zz_30, zz_30));\\n  xlat_mutablestruc = (sqrt(dot (tmpvar_39.xyw, tmpvar_39.xyw)) / 24.0);\\n  vec4 tmpvar_41;\\n  tmpvar_41 = texture (sampler_pc_main, uv_3);\\n  float tmpvar_42;\\n  float tmpvar_43;\\n  tmpvar_43 = (q10 * 0.7);\\n  tmpvar_42 = ((log(\\n    (1.0 + (tmpvar_40 / 24.0))\\n  ) * 0.02) * (1.0 - (1.0 - \\n    ((tmpvar_41.z + (0.003921569 * tmpvar_41.y)) + tmpvar_43)\\n  )));\\n  float tmpvar_44;\\n  vec4 tmpvar_45;\\n  tmpvar_45 = texture (sampler_pc_main, uv_3);\\n  tmpvar_44 = (1.0 - ((tmpvar_45.z + \\n    (0.003921569 * tmpvar_45.y)\\n  ) + tmpvar_43));\\n  if ((((tmpvar_25 <= tmpvar_44) && (tmpvar_40 < 24.0)) && (tmpvar_25 > 0.005))) {\\n    ret_4.x = (((1.0 - sustain) * xlat_mutablestruc) + (sustain * mix (texture (sampler_main, uv_3).xyz, \\n      ((texture (sampler_blur1, uv_3).xyz * scale1) + bias1)\\n    , vec3(\\n      (q14 * 4.0)\\n    )).x));\\n    float x_46;\\n    x_46 = ((1.0 - tmpvar_25) * 255.0);\\n    float ip_47;\\n    ip_47 = float(int(x_46));\\n    vec2 tmpvar_48;\\n    tmpvar_48.x = (x_46 - ip_47);\\n    tmpvar_48.y = (ip_47 / 255.0);\\n    ret_4.yz = tmpvar_48;\\n  } else {\\n    vec3 tmpvar_49;\\n    tmpvar_49.y = 0.0;\\n    tmpvar_49.x = sustain;\\n    tmpvar_49.z = (1.0 - tmpvar_42);\\n    vec3 tmpvar_50;\\n    tmpvar_50.xy = vec2(0.003921569, 0.0);\\n    tmpvar_50.z = (q14 / 6.0);\\n    ret_4 = ((texture (sampler_fc_main, uv_3).xyz * tmpvar_49) - tmpvar_50);\\n  };\\n  vec4 tmpvar_51;\\n  tmpvar_51.w = 1.0;\\n  tmpvar_51.xyz = ret_4;\\n  ret = tmpvar_51.xyz;\\n }","comp":" shader_body { \\n  vec3 tmpvar_1;\\n  tmpvar_1.x = q4;\\n  tmpvar_1.y = q5;\\n  tmpvar_1.z = q6;\\n  mat3 tmpvar_2;\\n  tmpvar_2[uint(0)].x = q20;\\n  tmpvar_2[uint(0)].y = q23;\\n  tmpvar_2[uint(0)].z = q26;\\n  tmpvar_2[1u].x = q21;\\n  tmpvar_2[1u].y = q24;\\n  tmpvar_2[1u].z = q27;\\n  tmpvar_2[2u].x = q22;\\n  tmpvar_2[2u].y = q25;\\n  tmpvar_2[2u].z = q28;\\n  vec2 tmpvar_3;\\n  tmpvar_3.x = q1;\\n  tmpvar_3.y = q2;\\n  vec2 uv_4;\\n  vec3 ret_5;\\n  uv_4 = (((uv - 0.5) * 0.9) + 0.5);\\n  vec3 tmpvar_6;\\n  tmpvar_6.xy = ((uv_4 - 0.5) * min ((1.0 - texture (sampler_main, uv_4).z), (1.0 - \\n    ((texture (sampler_blur2, uv_4).xyz * scale2) + bias2)\\n  .z)));\\n  tmpvar_6.z = min ((1.0 - texture (sampler_main, uv_4).z), (1.0 - (\\n    (texture (sampler_blur2, uv_4).xyz * scale2)\\n   + bias2).z));\\n  float tmpvar_7;\\n  tmpvar_7 = clamp ((abs(\\n    ((1.0 - ((texture (sampler_blur2, uv_4).xyz * scale2) + bias2).z) - clamp ((1.0 - (\\n      (texture (sampler_blur2, tmpvar_3).xyz * scale2)\\n     + bias2).z), 0.1, 0.4))\\n  ) + 0.2), 0.0, 1.0);\\n  float tmpvar_8;\\n  tmpvar_8 = clamp (((1.0 - \\n    exp(-(((texture (sampler_blur1, uv_4).xyz * scale1) + bias1).x))\\n  ) - 0.2), 0.0, 1.0);\\n  ret_5 = ((mix (texture (sampler_main, uv_4).xyz, \\n    ((texture (sampler_blur1, uv_4).xyz * scale1) + bias1)\\n  , vec3(tmpvar_7)).x * (0.2 + \\n    ((1.0 - tmpvar_7) * (1.0 - min ((1.0 - texture (sampler_main, uv_4).z), (1.0 - \\n      ((texture (sampler_blur2, uv_4).xyz * scale2) + bias2)\\n    .z))))\\n  )) * (1.0 + (0.5 * \\n    sin((((tmpvar_6 / q7) * tmpvar_2) + tmpvar_1))\\n  )));\\n  vec3 tmpvar_9;\\n  tmpvar_9.xy = vec2(0.0, 1.0);\\n  tmpvar_9.z = (tmpvar_8 * 3.0);\\n  ret_5 = (mix (ret_5, tmpvar_9, vec3(tmpvar_8)) + ((\\n    pow ((1.0 - mix (texture (sampler_main, uv_4).xyz, (\\n      (texture (sampler_blur1, uv_4).xyz * scale1)\\n     + bias1), vec3(0.8, 0.8, 0.8)).z), 3.0)\\n   * \\n    (0.5 + (0.5 * slow_roam_cos))\\n  ) * q19).xyz);\\n  ret_5 = (1.0 - exp((-2.0 * ret_5)));\\n  vec4 tmpvar_10;\\n  tmpvar_10.w = 1.0;\\n  tmpvar_10.xyz = ret_5;\\n  ret = tmpvar_10.xyz;\\n }"}') }, "./presets/converted/martin - mucus cervix.json": e => { e.exports = JSON.parse('{"version":2,"baseVals":{"rating":0,"gammaadj":1.980001,"decay":0.5,"echo_zoom":0.999998,"echo_alpha":0.5,"echo_orient":3,"wave_mode":7,"additivewave":1,"wave_thick":1,"modwavealphabyvolume":1,"wave_brighten":0,"darken":1,"wave_a":0.001,"wave_scale":0.958178,"wave_smoothing":0.45,"modwavealphastart":0,"modwavealphaend":1.32,"warpanimspeed":1.4595,"warpscale":2.0067,"zoom":0.9999,"warp":0.01,"sx":0.9999,"ob_r":0.3999,"ob_a":0.2,"ib_size":0,"mv_x":64,"mv_y":48,"mv_l":1.85,"mv_r":0.4999,"mv_g":0.4999,"mv_b":0.4999,"mv_a":0,"b1ed":0},"shapes":[{"baseVals":{"rad":0.048958,"tex_ang":1.00531,"tex_zoom":1.531168,"r":0.5,"g":1,"b":0.9,"r2":0.83,"g2":0.93,"b2":0.8,"a2":1,"border_b":0,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"\\ntrel = time/3;\\n\\nx = .5+sin(trel*2);\\ny = .5+cos(trel*1.3);\\n\\n\\n\\ncent = sqrt((x-.5)*(x-.5)+(y-.5)*(y-.5));\\n\\nrad = .1*cent;\\na = .8;"},{"baseVals":{"enabled":1,"sides":100,"additive":1,"x":0.26,"y":0.2,"rad":0.393173,"tex_zoom":0.9355,"r":0,"g":0.55,"b":0.5,"g2":0.4,"b2":0.4,"a2":0.07,"border_r":0.3,"border_g":0.7,"border_b":0.8,"border_a":0},"init_eqs_eel":"","frame_eqs_eel":"trig = q24;\\n\\n\\nx0 = x0*bnot(trig) + trig*(.5+ rand(100)/200); \\ny0 = y0*bnot(trig) + trig*(.5+ rand(100)/200); \\n\\n\\nx0 = x0 + .1*q1*(3+q26)/fps;\\ny0 = y0 + .1*q2*(3+q26)/fps;\\n\\nx0 = x0 - int(x0);\\ny0 = y0 - int(y0);\\n\\ntex_ang = time;\\ntex_zoom = q1;\\nang = time/100*q2;\\nx = x0; y = y0;\\nrad0 = rad0*bnot(trig) + trig*(.04+rand(100)/1000);\\nrad = rad0;\\n\\n\\nr0 = bnot(trig)*r0 + trig * rand(10)/10;\\ng0 = bnot(trig)*g0 + trig * rand(10)/10;\\nb0 = bnot(trig)*b0 + trig * rand(10)/10;\\n\\nr = r0; b = b0; g = g0;\\nr2 = 0; b2 = 0; g2 = 0;\\na= 1; a2 = .3; "},{"baseVals":{"sides":44,"additive":1,"x":0.503,"rad":0.038857,"tex_zoom":0.609857,"g":0.1,"a":0.9,"r2":1,"b2":1,"border_r":0.5,"border_g":0.5,"border_b":0.5,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"x = rand(50)/50;\\ny = .5 - 0*rand(15)/200;\\n\\nr = .4;\\ng = .6;\\nb = 1;\\nr2 = r;\\ng2 = g;\\nb2 = b;\\n\\na = min(q21/2 ,.9);\\nrad = a * (.1+abs(x-.5))/2 ;"},{"baseVals":{"sides":100,"rad":0.01,"tex_zoom":0.499805,"r":0,"g2":0,"border_r":0.2,"border_g":0.7,"border_b":0.5,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"rad = q2+.02\\n;"}],"waves":[{"baseVals":{"samples":282,"sep":20,"thick":1,"additive":1,"scaling":3.915805,"smoothing":0.1,"r":0.2,"g":0.3,"a":0.6,"enabled":0},"init_eqs_eel":"t1 = 1 + (rand(101)*.01 - rand(101)*.01)*.3;\\nt2 = 1 + (rand(101)*.01 - rand(101)*.01)*.3;\\nt3 = 1 + (rand(101)*.01 - rand(101)*.01)*.3;\\nt4 = 1 + (rand(101)*.01 - rand(101)*.01)*.3;\\nt5 = 1 + (rand(101)*.01 - rand(101)*.01)*.3;\\nt6 = 1 + (rand(101)*.01 - rand(101)*.01)*.3;\\nt7 = 1 + (rand(101)*.01 - rand(101)*.01)*.3;\\nt8 = 1 + (rand(101)*.01 - rand(101)*.01)*.3;\\n","frame_eqs_eel":"t2 = t2 + bass_att;","point_eqs_eel":"\\nx = sample;\\ny = value1 * rand(50)/100 * abs(sample-.5)+ .49;\\n\\na = q26/4 * (.2 + abs(sample-.5)); "},{"baseVals":{"usedots":1,"thick":1,"scaling":0.891519,"smoothing":0.82,"a":0.1,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":"xi = rand(100)/100;\\nyi = rand(100)/100;\\n\\nx = xi; y = yi;\\n\\na = q21/15;"},{"baseVals":{"thick":1,"scaling":0.891519,"smoothing":0.82,"r":0,"g":0.2,"b":0,"enabled":0},"init_eqs_eel":"t1 = 1 + (rand(101)*.01 - rand(101)*.01)*.3;\\nt2 = 1 + (rand(101)*.01 - rand(101)*.01)*.3;\\nt3 = 1 + (rand(101)*.01 - rand(101)*.01)*.3;\\nt4 = 1 + (rand(101)*.01 - rand(101)*.01)*.3;\\nt5 = 1 + (rand(101)*.01 - rand(101)*.01)*.3;\\nt6 = 1 + (rand(101)*.01 - rand(101)*.01)*.3;\\nt7 = 1 + (rand(101)*.01 - rand(101)*.01)*.3;\\nt8 = 1 + (rand(101)*.01 - rand(101)*.01)*.3;\\n","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"spectrum":1,"usedots":1,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""}],"init_eqs_eel":"","frame_eqs_eel":"dec_med = pow (0.9, 30/fps);\\ndec_slow = pow (0.99, 30/fps);\\nbeat = max (max (bass, mid), treb); \\navg = avg*dec_slow + beat*(1-dec_slow);\\nis_beat = above(beat, .2+avg+peak) * above (time, t0+.2);\\nt0 = is_beat*time + (1-is_beat)*t0;\\npeak = is_beat * beat + (1-is_beat)*peak*dec_med;\\nindex = (index + is_beat) %8;\\nindex2 = (index2 + is_beat*bnot(index))%2;\\nindex3 = (index3 + is_beat*bnot(index)*bnot(index2))%3;\\n\\nmonitor = index4;\\n\\nq20 = avg;\\nq21 = beat;\\nq22 = peak;\\nq23 = index;\\nq24 = is_beat;\\nq26 = bass + mid + treb;\\nq11 = min(q22,3);\\n\\n//k1 =  is_beat*bnot(index)*bnot(index2);\\n\\nk1 =  is_beat*equal(index,0);\\np1 =  k1*(p1+1) + (1-k1)*p1;\\np2 = dec_med * p2+ (1-dec_med)*p1;\\nrott = p2 * 3.14159265359/2;\\n\\nq27 = 8-index;\\nq28 = index2;\\n\\nq1 = cos(rott);\\nq2 = sin(rott);\\nq3 = -q2;\\nq4 = q1;\\n\\nzoom = 1.0 + .02*q1;\\nrot = .01*q2;\\ndx = .0*index;\\n\\nwave_a = 0;","pixel_eqs_eel":"","warp":"float xlat_mutabledx;\\nfloat xlat_mutabledy;\\nvec2 xlat_mutableuv2;\\nvec2 xlat_mutablezz;\\n shader_body { \\n  vec2 uv_1;\\n  vec3 crisp_2;\\n  vec2 tmpvar_3;\\n  tmpvar_3.y = 0.0;\\n  tmpvar_3.x = texsize.w;\\n  vec2 tmpvar_4;\\n  tmpvar_4.x = 0.0;\\n  tmpvar_4.y = texsize.z;\\n  xlat_mutablezz = ((uv * texsize.xy) * 0.01);\\n  vec2 tmpvar_5;\\n  tmpvar_5.x = (cos((xlat_mutablezz.y * q1)) * sin(-(xlat_mutablezz.y)));\\n  tmpvar_5.y = (sin(xlat_mutablezz.x) * cos((xlat_mutablezz.y * q2)));\\n  uv_1 = (uv - ((tmpvar_5 * texsize.zw) * (8.0 + \\n    (6.0 * q11)\\n  )));\\n  xlat_mutableuv2 = (((uv_1 / 2.0) * q27) / 4.0);\\n  xlat_mutabledx = dot ((texture (sampler_main, (xlat_mutableuv2 + tmpvar_3)).xyz - texture (sampler_main, (xlat_mutableuv2 - tmpvar_3)).xyz), vec3(0.32, 0.49, 0.29));\\n  xlat_mutabledy = dot ((texture (sampler_main, (xlat_mutableuv2 + tmpvar_4)).xyz - texture (sampler_main, (xlat_mutableuv2 - tmpvar_4)).xyz), vec3(0.32, 0.49, 0.29));\\n  float tmpvar_6;\\n  tmpvar_6 = (0.15 + (0.1 * q28));\\n  vec2 tmpvar_7;\\n  tmpvar_7 = (xlat_mutableuv2 + (time / 100.0));\\n  xlat_mutabledx = (xlat_mutabledx + (tmpvar_6 * (texture (sampler_noise_hq, tmpvar_7).x - 0.5)));\\n  xlat_mutabledy = (xlat_mutabledy + (tmpvar_6 * (texture (sampler_noise_hq, tmpvar_7).y - 0.5)));\\n  vec2 tmpvar_8;\\n  tmpvar_8.x = xlat_mutabledx;\\n  tmpvar_8.y = xlat_mutabledy;\\n  xlat_mutablezz = tmpvar_8;\\n  crisp_2 = (texture (sampler_main, (uv_1 + (tmpvar_8 * 0.04))).xyz + texture (sampler_main, uv_1).xyz);\\n  crisp_2 = (crisp_2 * 0.5);\\n  crisp_2 = (crisp_2 + ((0.05 * \\n    (0.9 + (0.1 * roam_cos))\\n  .xyz) - (\\n    sqrt(dot (tmpvar_8, tmpvar_8))\\n   * 0.3)));\\n  vec4 tmpvar_9;\\n  tmpvar_9.w = 1.0;\\n  tmpvar_9.xyz = ((crisp_2 * 0.97) - 0.015);\\n  ret = tmpvar_9.xyz;\\n }","comp":"vec2 xlat_mutabledz;\\nvec3 xlat_mutableneu;\\nvec3 xlat_mutableret1;\\nvec2 xlat_mutableuv3;\\n shader_body { \\n  vec2 uv2_1;\\n  vec2 tmpvar_2;\\n  tmpvar_2.y = 0.0;\\n  tmpvar_2.x = texsize.z;\\n  vec2 tmpvar_3;\\n  tmpvar_3.x = 0.0;\\n  tmpvar_3.y = texsize.w;\\n  xlat_mutabledz.x = dot ((texture (sampler_main, (uv + tmpvar_2)).xyz - texture (sampler_main, (uv - tmpvar_2)).xyz), vec3(0.32, 0.49, 0.29));\\n  xlat_mutabledz.y = dot ((texture (sampler_main, (uv + tmpvar_3)).xyz - texture (sampler_main, (uv - tmpvar_3)).xyz), vec3(0.32, 0.49, 0.29));\\n  uv2_1 = (uv - 0.5);\\n  xlat_mutableuv3 = ((0.2 * uv2_1) + 0.5);\\n  float tmpvar_4;\\n  tmpvar_4 = (time / 2.0);\\n  xlat_mutableuv3 = ((0.2 * cos(\\n    ((42.0 * fract(xlat_mutableuv3)) + tmpvar_4)\\n  )) + (99.0 * xlat_mutabledz));\\n  float tmpvar_5;\\n  tmpvar_5 = clamp ((0.01 / sqrt(\\n    dot (xlat_mutableuv3, xlat_mutableuv3)\\n  )), 0.0, 1.0);\\n  xlat_mutableneu = ((0.1 * vec3(tmpvar_5)) + (0.9 * dot (vec3(tmpvar_5), vec3(0.32, 0.49, 0.29))));\\n  xlat_mutableret1 = max (vec3(0.0, 0.0, 0.0), (xlat_mutableneu * 1.252262));\\n  xlat_mutableuv3 = ((0.2 * uv2_1) + 0.5);\\n  xlat_mutableuv3 = ((0.2 * cos(\\n    ((42.0 * fract(xlat_mutableuv3)) + tmpvar_4)\\n  )) + (99.0 * xlat_mutabledz));\\n  float tmpvar_6;\\n  tmpvar_6 = clamp ((0.01 / sqrt(\\n    dot (xlat_mutableuv3, xlat_mutableuv3)\\n  )), 0.0, 1.0);\\n  xlat_mutableneu = ((0.1 * vec3(tmpvar_6)) + (0.9 * dot (vec3(tmpvar_6), vec3(0.32, 0.49, 0.29))));\\n  xlat_mutableret1 = max (xlat_mutableret1, (xlat_mutableneu * 1.252262));\\n  vec4 tmpvar_7;\\n  tmpvar_7.w = 1.0;\\n  tmpvar_7.xyz = (xlat_mutableret1 + clamp ((\\n    (16.0 * ((0.5 * texture (sampler_main, (uv + \\n      (0.1 * xlat_mutabledz)\\n    )).xyz) + 0.01))\\n   * \\n    (0.1 + xlat_mutableret1)\\n  ), 0.0, 1.0));\\n  ret = tmpvar_7.xyz;\\n }"}') }, "./presets/converted/martin - reflections on black tiles.json": e => { e.exports = JSON.parse('{"version":2,"baseVals":{"rating":5,"gammaadj":1.980001,"decay":0.5,"echo_zoom":0.999998,"echo_alpha":0.5,"echo_orient":3,"modwavealphabyvolume":1,"darken":1,"wave_a":0.001,"wave_scale":10.437056,"wave_smoothing":0.45,"wave_mystery":0.08,"modwavealphastart":0,"modwavealphaend":1.32,"warpanimspeed":1.4595,"warpscale":2.0067,"zoom":0.9999,"warp":0.01,"sx":0.9999,"wave_r":0,"wave_g":0.99,"ob_size":0,"ob_r":1,"ob_g":1,"ob_b":1,"ib_size":0,"mv_x":64,"mv_y":48,"mv_l":1.85,"mv_r":0.4999,"mv_g":0.4999,"mv_b":0.4999,"mv_a":0,"b1ed":0},"shapes":[{"baseVals":{"enabled":1,"rad":0.048958,"tex_ang":1.00531,"tex_zoom":1.531168,"r":0.5,"g":1,"b":0.9,"r2":0.83,"g2":0.93,"b2":0.8,"a2":1,"border_b":0,"border_a":0},"init_eqs_eel":"","frame_eqs_eel":"\\ntrel = time/2+q20;\\n\\nx = .5+sin(trel*2);\\ny = .5+cos(trel*1.3 +q28/3);\\n\\na = q26/4+.2; \\n//a = 1;"},{"baseVals":{"thickoutline":1,"x":0.4,"rad":2.366958,"tex_ang":3.455753,"tex_zoom":0.993053,"r":0.5,"b":1,"a":0.2,"r2":0.7,"g2":0.4,"border_r":0.5,"border_g":0.5,"border_b":0.5,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"a2 =0;a = 0;\\na = q24/2;"},{"baseVals":{"enabled":1,"x":0.503,"rad":0.038857,"tex_zoom":0.609857,"g":0.1,"a":0.9,"r2":1,"b2":1,"border_r":0.5,"border_g":0.5,"border_b":0.5,"border_a":0},"init_eqs_eel":"","frame_eqs_eel":"x = rand(10)/10;\\ny = rand(10)/10;\\n\\nr = rand(4)/3;\\ng = rand(4)/3;\\nb = rand(4)/3;\\n\\n\\nis_beat = above(time, t0+.03);\\nt0 = is_beat*time + (1-is_beat)*t0;\\n\\n \\na = min(q21/2 ,.9) * is_beat;\\nrad = a*a/3 ;"},{"baseVals":{"sides":63,"textured":1,"y":1,"rad":0.548217,"tex_zoom":0.499805,"g":1,"b":1,"r2":1,"b2":1,"border_r":0.5,"border_g":0.5,"border_b":0.5,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""}],"waves":[{"baseVals":{"enabled":1,"sep":120,"additive":1,"scaling":0.891519,"smoothing":0.82,"a":0.6},"init_eqs_eel":"t1 = 1 + (rand(101)*.01 - rand(101)*.01)*.3;\\nt2 = 1 + (rand(101)*.01 - rand(101)*.01)*.3;\\nt3 = 1 + (rand(101)*.01 - rand(101)*.01)*.3;\\nt4 = 1 + (rand(101)*.01 - rand(101)*.01)*.3;\\nt5 = 1 + (rand(101)*.01 - rand(101)*.01)*.3;\\nt6 = 1 + (rand(101)*.01 - rand(101)*.01)*.3;\\nt7 = 1 + (rand(101)*.01 - rand(101)*.01)*.3;\\nt8 = 1 + (rand(101)*.01 - rand(101)*.01)*.3;\\n","frame_eqs_eel":"t2 = t2 + bass_att;","point_eqs_eel":"k1 = (sample*100)%8;\\nk2 = bnot (k1);\\nxi = value1*k2 + xi*(1-k2);\\nyi = value2*(1-k2) + yi*k2;\\n\\ndx = dx*.99 + xi;\\ndy = dy*.99 + yi;\\n\\nx = .5 + xi/2;\\ny = .5 + yi/2;\\n\\na = q22/8; \\na = min(a,.2);"},{"baseVals":{"usedots":1,"thick":1,"scaling":0.891519,"smoothing":0.82,"a":0.1,"enabled":0},"init_eqs_eel":"t1 = 1 + (rand(101)*.01 - rand(101)*.01)*.3;\\nt2 = 1 + (rand(101)*.01 - rand(101)*.01)*.3;\\nt3 = 1 + (rand(101)*.01 - rand(101)*.01)*.3;\\nt4 = 1 + (rand(101)*.01 - rand(101)*.01)*.3;\\nt5 = 1 + (rand(101)*.01 - rand(101)*.01)*.3;\\nt6 = 1 + (rand(101)*.01 - rand(101)*.01)*.3;\\nt7 = 1 + (rand(101)*.01 - rand(101)*.01)*.3;\\nt8 = 1 + (rand(101)*.01 - rand(101)*.01)*.3;\\n","frame_eqs_eel":"tm = time*.1;\\nt1 = t1*sin(tm*t4) + (1-t1)*sin(tm*t7);\\nt2 = t2*sin(tm*t5) + (1-t2)*sin(tm*t8);\\nt3 = t3*sin(tm*t6) + (1-t3)*sin(tm*1);\\n\\ntic = min(time - tin,1);\\ntin = time;\\n\\ntva = (tic*q1*.5);\\ntvb = (tic*q2*.5);\\ntvc = (tic*q3*.5);\\n\\nq1 = tva;\\nq2 = tvb;\\nq3 = tvc;\\n\\nsz = .5;\\nlen = q4;\\nt4 = len;","point_eqs_eel":"xi = rand(100)/100;\\nyi = rand(100)/100;\\n\\nx = xi; y = yi;\\n\\na = q21/15;"},{"baseVals":{"thick":1,"scaling":0.891519,"smoothing":0.82,"r":0,"g":0.2,"b":0,"enabled":0},"init_eqs_eel":"t1 = 1 + (rand(101)*.01 - rand(101)*.01)*.3;\\nt2 = 1 + (rand(101)*.01 - rand(101)*.01)*.3;\\nt3 = 1 + (rand(101)*.01 - rand(101)*.01)*.3;\\nt4 = 1 + (rand(101)*.01 - rand(101)*.01)*.3;\\nt5 = 1 + (rand(101)*.01 - rand(101)*.01)*.3;\\nt6 = 1 + (rand(101)*.01 - rand(101)*.01)*.3;\\nt7 = 1 + (rand(101)*.01 - rand(101)*.01)*.3;\\nt8 = 1 + (rand(101)*.01 - rand(101)*.01)*.3;\\n","frame_eqs_eel":"tm = time*.1;\\nt1 = t1*sin(tm*t4) + (1-t1)*sin(tm*t7);\\nt2 = t2*sin(tm*t5) + (1-t2)*sin(tm*t8);\\nt3 = t3*sin(tm*t6) + (1-t3)*sin(tm*1);\\n\\ntic = min(time - tin,1);\\ntin = time;\\n\\ntva = (tic*q1*.5);\\ntvb = (tic*q2*.5);\\ntvc = (tic*q3*.5);\\n\\nq1 = tva;\\nq2 = tvb;\\nq3 = tvc;\\n\\nsz = .5;\\nlen = 1;\\nt4 = len;","point_eqs_eel":""},{"baseVals":{"spectrum":1,"usedots":1,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""}],"init_eqs_eel":"fade = .5;","frame_eqs_eel":"dec_med = pow (0.9, 30/fps);\\ndec_slow = pow (0.99, 30/fps);\\nbeat = max (max (bass, mid), treb); \\navg = avg*dec_slow + beat*(1-dec_slow);\\nis_beat = above(beat, .5+avg+peak) * above (time, t0+.2);\\nt0 = is_beat*time + (1-is_beat)*t0;\\npeak = is_beat * beat + (1-is_beat)*peak*dec_med;\\nindex = (index + is_beat) %8;\\n\\nq20 = avg;\\nq21 = beat;\\nq22 = peak;\\nq23 = index;\\nq24 = is_beat;\\nq26 = bass + mid + treb;\\n\\nk1 =  is_beat*equal(index,0);\\np1 =  k1*(p1+1) + (1-k1)*p1;\\np2 = dec_med * p2+ (1-dec_med)*p1;\\nrott = p2 * 3.14159265358/2;\\nq27 = index + 1;\\n\\nq1 = cos(rott);\\nq2 = sin(rott);\\nq3 = -q2;\\nq4 = q1;\\n\\nzoom = 1.0;\\nrot = -0.00 * index;\\n\\nfade = fade*dec_med + pow(0.996, 30/fps) * (1-dec_med);\\nq32 = fade;","pixel_eqs_eel":"","warp":" shader_body { \\n  vec2 zz_1;\\n  mat2 tmpvar_2;\\n  tmpvar_2[uint(0)] = _qa.xy;\\n  tmpvar_2[1u] = _qa.zw;\\n  zz_1 = (((\\n    (uv - vec2(0.5, 0.5))\\n   * texsize.xy) * (0.015 * q27)) * tmpvar_2);\\n  vec4 tmpvar_3;\\n  tmpvar_3.w = 1.0;\\n  tmpvar_3.xyz = (((q32 * texture (sampler_main, \\n    (uv + ((clamp (\\n      (sin(zz_1) / cos(zz_1))\\n    , vec2(-20.0, -20.0), vec2(20.0, 20.0)) * texsize.zw) * 8.0))\\n  ).xyz) + (\\n    (0.03 * texture (sampler_noise_lq, ((uv * 0.3) + (0.01 * rand_frame).xy)))\\n  .xyz * \\n    (1.0 - ((texture (sampler_blur1, uv).xyz * scale1) + bias1))\\n  )) - 0.02);\\n  ret = tmpvar_3.xyz;\\n }","comp":" shader_body { \\n  vec4 tmpvar_1;\\n  tmpvar_1 = texture (sampler_main, uv);\\n  vec4 tmpvar_2;\\n  tmpvar_2.w = 1.0;\\n  tmpvar_2.xyz = ((tmpvar_1.xyz + clamp (\\n    (3.0 * (((texture (sampler_blur1, \\n      (uv - (0.01 * tmpvar_1.xyz).xy)\\n    ).xyz * scale1) + bias1) - vec3(0.1, 0.1, 0.2)))\\n  , 0.0, 1.0)) * 1.3);\\n  ret = tmpvar_2.xyz;\\n }"}') }, "./presets/converted/martin - stormy sea (2010 update).json": e => { e.exports = JSON.parse('{"version":2,"baseVals":{"rating":4,"gammaadj":1.98,"decay":0.5,"echo_zoom":0.952,"echo_alpha":0.5,"echo_orient":3,"wave_mode":6,"additivewave":1,"wave_thick":1,"modwavealphabyvolume":1,"wave_brighten":0,"darken":1,"wave_a":0.001,"wave_scale":2.103,"wave_smoothing":0.54,"wave_mystery":0.38,"modwavealphastart":0.81,"modwavealphaend":1.4,"warpanimspeed":1.459,"warpscale":2.007,"zoom":0.9999,"warp":0.01,"sx":0.9999,"wave_r":0,"wave_g":0,"wave_b":0,"ob_size":0.015,"ob_b":1,"ib_size":0.26,"mv_x":64,"mv_y":48,"mv_l":1.85,"mv_r":0.5,"mv_g":0.5,"mv_b":0.5,"mv_a":0,"b1ed":0},"shapes":[{"baseVals":{"enabled":1,"sides":16,"thickoutline":1,"textured":1,"num_inst":3,"x":0.73,"rad":0.29466,"tex_zoom":1.87511,"r":0.7,"g":0.7,"b":1,"g2":0,"border_b":0,"border_a":0},"init_eqs_eel":"","frame_eqs_eel":"trig = q25;\\na = trig*.8; a2 = 0;\\n\\nx0 = x0 *bnot(trig) + trig*rand(100)/100;\\ny0 = y0 *bnot(trig) + trig*rand(100)/100;\\ntex_ang = rand(20);\\nrad = .1+rand(10)/8;\\n\\nx = x0; y = y0;\\nr = .7+.3*sin(time/12);\\nb = .7+.3*sin(time/15);\\ng = .7+.3*sin(time/8);\\nr2 = r; b2 = b; g2 = g;"},{"baseVals":{"enabled":1,"sides":36,"thickoutline":1,"textured":1,"num_inst":4,"x":0.3,"rad":0.05429,"ang":1.25664,"tex_ang":0.37699,"tex_zoom":1.02841,"g":0.7,"b":0.5,"r2":1,"g2":0,"border_g":0.59,"border_b":0,"border_a":0},"init_eqs_eel":"","frame_eqs_eel":"x = q31; y = q32;\\nrad = .06;\\ntex_ang = time;\\na = q30;"},{"baseVals":{"sides":63,"x":0.123,"y":0,"rad":0.27319,"tex_zoom":0.49981,"g":1,"b":1,"r2":1,"b2":1,"border_r":0.5,"border_g":0.5,"border_b":0.5,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"sides":24,"textured":1,"x":0.7,"y":0.51,"rad":0.19869,"tex_ang":1.00531,"tex_zoom":0.49981,"g":1,"b":0.99,"a":0,"g2":0,"a2":1,"border_r":0,"border_g":0.5,"border_b":0.5,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""}],"waves":[{"baseVals":{"thick":1,"additive":1,"scaling":0.04505,"smoothing":0,"a":0.1,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"samples":100,"usedots":1,"thick":1,"scaling":0.89152,"smoothing":0,"a":0.1,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"thick":1,"scaling":0.89152,"smoothing":0.82,"a":0.1,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"spectrum":1,"usedots":1,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""}],"init_eqs_eel":"t0a = time; t0 = time+.5;\\nspb_ = .5; ;\\nvolb = .5; volx = .5;\\nvol_= 1; index = 0; mov1 = 0;\\nsdev = .1; wamp_ = .1;","frame_eqs_eel":"dec_med = pow (0.8, 30/fps); dec_slow = pow (0.95, 30/fps);\\nvol = (bass+med+treb)/1.5; vol_ = vol_*dec_slow + (1-dec_slow)*vol;\\n\\nis_beat = above(vol, vol_+2*peak) * above (time, t0+spb_*.45);\\nt0a  = if(is_beat,t0,t0a); t0 = if(is_beat,time,t0);\\npeak = if(is_beat,vol,peak*dec_med);\\nindex = (index + is_beat) %128;\\n\\nspb = min(t0-t0a + .01,2);\\nspb_ = if(is_beat,spb_ *.9 +.1*spb, spb_);\\n\\n\\nq20 = vol_;\\nq21 = above(vol,2.7*vol_);\\nq22 = max(0,peak-.0)+.01;\\nhpeak = hpeak*dec_med + (1-dec_med)*q21;\\nq23 = hpeak * (1+rand(8));\\nq24 = is_beat;\\nq25 = q22*(1+rand(8))/8;\\n\\nmindev = min(min(abs(spb-spb_),abs(spb*2-spb_)),abs(spb-spb_*2));\\nsdev = if(is_beat,sdev * .8 + .2*pow(mindev+.02,2),sdev);\\n\\nspeed = 1/fps/spb_;\\ntrel = trel + speed;\\nq10 = trel;\\n\\nwamp =  min(.001/sdev,.15);\\nwamp_ = wamp_*dec_slow + (1-dec_slow)*wamp;\\nq11 = sin(trel/2)*wamp_;\\nq12 = wamp_/2;\\n\\nrota = 2*wamp_*sin(trel/3);\\n//rota = .2*sin(wamp_*32);\\nq5 = cos(rota);\\nq6 = sin(rota);\\nq7 = -q6;\\nq8 = q5;\\n\\nq15 = -sin(trel*.5)*.05;\\nq16 = cos(trel)*wamp_/2;\\n\\nq19 = .1*sin(trel/12);\\n\\n//ODD PLANET MOVEMENT\\ntrig1 = bnot(vis)*bnot(rand(100*fps));\\nvis = if (trig1,1,vis*below(mov1,1));\\nq30 = vis;\\nmov1 = if (vis,mov1+2*speed/fps,-1);\\ndir = if(trig1,rand(100),dir); \\nq31 = .5+.5*cos(dir)*mov1;\\nq32 = .5+.5*sin(dir)*mov1;\\n\\nq29 = (2+sin(time/17)); //reflection water\\n\\nmonitor = wamp;","pixel_eqs_eel":"zoom = 1+.02*rad*q20;\\ndy = -.00;\\nwarp =.1; dx = .0;","warp":"mat2 ofs;\\nvec2 xlat_mutableuv2;\\nfloat xlat_mutablezv;\\n shader_body { \\n  mat2 tmpvar_1;\\n  tmpvar_1[uint(0)].x = texsize.z;\\n  tmpvar_1[uint(0)].y = 0.0;\\n  tmpvar_1[1u].x = 0.0;\\n  tmpvar_1[1u].y = texsize.w;\\n  ofs = (tmpvar_1 * 4.0);\\n  vec2 tmpvar_2;\\n  tmpvar_2.x = ((uv.x - 0.5) + q19);\\n  tmpvar_2.y = (uv.y - 0.5);\\n  vec2 v_3;\\n  v_3.x = ofs[0].x;\\n  v_3.y = ofs[1].x;\\n  vec2 v_4;\\n  v_4.x = ofs[0].x;\\n  v_4.y = ofs[1].x;\\n  vec2 v_5;\\n  v_5.x = ofs[0].y;\\n  v_5.y = ofs[1].y;\\n  vec2 v_6;\\n  v_6.x = ofs[0].y;\\n  v_6.y = ofs[1].y;\\n  vec2 tmpvar_7;\\n  tmpvar_7.x = (texture (sampler_main, (uv + v_3)) - texture (sampler_main, (uv - v_4))).z;\\n  tmpvar_7.y = (texture (sampler_main, (uv + v_5)) - texture (sampler_main, (uv - v_6))).z;\\n  xlat_mutablezv = (time * 0.08);\\n  vec2 tmpvar_8;\\n  tmpvar_8.x = (0.02 * time);\\n  tmpvar_8.y = (-0.05 * time);\\n  xlat_mutableuv2 = ((3.0 * tmpvar_2) + tmpvar_8);\\n  vec3 tmpvar_9;\\n  tmpvar_9.xy = xlat_mutableuv2;\\n  tmpvar_9.z = xlat_mutablezv;\\n  vec3 tmpvar_10;\\n  tmpvar_10.xy = (xlat_mutableuv2 * vec2(2.0, 2.0));\\n  tmpvar_10.z = (xlat_mutablezv * 2.0);\\n  vec3 tmpvar_11;\\n  tmpvar_11.xy = (xlat_mutableuv2 * vec2(4.0, 4.0));\\n  tmpvar_11.z = (xlat_mutablezv * 3.0);\\n  vec3 tmpvar_12;\\n  tmpvar_12.xy = (xlat_mutableuv2 * vec2(8.0, 8.0));\\n  tmpvar_12.z = (xlat_mutablezv * 7.0);\\n  xlat_mutableuv2 = (tmpvar_2 + ((\\n    (((texture (sampler_noisevol_hq, tmpvar_9).z + (texture (sampler_noisevol_hq, tmpvar_10).z / 2.0)) + (texture (sampler_noisevol_hq, tmpvar_11).z / 4.0)) + (texture (sampler_noisevol_hq, tmpvar_12).z / 8.0))\\n   - 1.0) * 0.1));\\n  vec4 tmpvar_13;\\n  tmpvar_13.w = 1.0;\\n  tmpvar_13.xyz = (((\\n    (((0.2 + (\\n      (((1.0 + bass_att) * 0.01) / sqrt(dot (xlat_mutableuv2, xlat_mutableuv2)))\\n     * \\n      (1.0 + normalize(slow_roam_cos))\\n    .xyz)) + ((rand_preset.z - 0.5) * xlat_mutableuv2.y)) * 0.1)\\n   / 2.0) + (texture (sampler_main, \\n    (uv - (0.02 * tmpvar_7))\\n  ).xyz * 0.9)) - 0.01);\\n  ret = tmpvar_13.xyz;\\n }","comp":"float xlat_mutablerain;\\nvec3 xlat_mutableret1;\\nvec2 xlat_mutablers;\\nvec2 xlat_mutablers0;\\nvec2 xlat_mutableuv1;\\nfloat xlat_mutablewater;\\nfloat xlat_mutablez;\\n shader_body { \\n  vec2 uv_1;\\n  mat2 tmpvar_2;\\n  tmpvar_2[uint(0)] = _qb.xy;\\n  tmpvar_2[1u] = _qb.zw;\\n  vec2 tmpvar_3;\\n  tmpvar_3.x = q15;\\n  tmpvar_3.y = q16;\\n  uv_1 = (((\\n    (((uv - 0.5) * tmpvar_2) * 0.7)\\n   * aspect.xy) + 0.5) + tmpvar_3);\\n  vec2 tmpvar_4;\\n  tmpvar_4.x = 0.5;\\n  tmpvar_4.y = ((q11 + 0.6) + (q12 * (\\n    sin(((uv_1.x * 6.0) + q10))\\n   * \\n    cos(((uv_1.y * 8.0) + (time * 0.6)))\\n  )));\\n  vec2 tmpvar_5;\\n  tmpvar_5.x = (uv_1.x * 4.0);\\n  tmpvar_5.y = uv_1.y;\\n  vec2 tmpvar_6;\\n  tmpvar_6.x = (uv_1.x * 4.0);\\n  tmpvar_6.y = uv_1.y;\\n  xlat_mutablerain = (texture (sampler_noise_lq, ((tmpvar_5 * 0.2) - time)).x + texture (sampler_noise_lq, ((tmpvar_6 * 0.5) - time)).x);\\n  float tmpvar_7;\\n  tmpvar_7 = (time / 4.0);\\n  xlat_mutablerain = (xlat_mutablerain * clamp ((\\n    (q20 / 2.0)\\n   - \\n    abs(sin(((uv.x / 4.0) - tmpvar_7)))\\n  ), 0.0, 1.0));\\n  xlat_mutableuv1 = ((uv_1 - tmpvar_4) + (xlat_mutablerain * 0.01));\\n  vec3 tmpvar_8;\\n  tmpvar_8.x = xlat_mutableuv1.y;\\n  tmpvar_8.y = (xlat_mutableuv1.x * 2.0);\\n  tmpvar_8.z = (time * 0.2);\\n  xlat_mutableuv1 = (xlat_mutableuv1 + ((texture (sampler_noisevol_hq, tmpvar_8) * \\n    (0.5 - abs(xlat_mutableuv1.y))\\n  ).x * 0.05));\\n  float tmpvar_9;\\n  tmpvar_9 = clamp ((128.0 * xlat_mutableuv1.y), 0.0, 1.0);\\n  xlat_mutablez = (0.4 / xlat_mutableuv1.y);\\n  xlat_mutablers0.x = (xlat_mutableuv1.x * xlat_mutablez);\\n  xlat_mutablers0.y = xlat_mutablez;\\n  vec2 tmpvar_10;\\n  tmpvar_10.x = (xlat_mutablers0.x + tmpvar_7);\\n  tmpvar_10.y = (xlat_mutablez + (time * 4.0));\\n  xlat_mutablers = (tmpvar_10 * tmpvar_9);\\n  xlat_mutablewater = (texture (sampler_noise_hq, xlat_mutablers) + texture (sampler_noise_hq, ((xlat_mutablers / 4.0) - (time / 8.0)))).x;\\n  xlat_mutablewater = (xlat_mutablewater - 1.0);\\n  vec2 tmpvar_11;\\n  tmpvar_11.x = (xlat_mutableuv1.x + 0.5);\\n  tmpvar_11.y = abs((0.5 - xlat_mutableuv1.y));\\n  xlat_mutableret1 = (((texture (sampler_main, uv_1).xyz * \\n    (1.0 - tmpvar_9)\\n  ) + (\\n    ((texture (sampler_main, (tmpvar_11 - (0.2 * xlat_mutablewater))).xyz * tmpvar_9) * pow ((1.0/(xlat_mutablez)), 0.2))\\n   * \\n    (2.0 - rand_preset.y)\\n  )) + ((\\n    (((0.25 + rand_preset.y) * (1.0 + (rand_preset.x * xlat_mutablewater))) * tmpvar_9)\\n   / xlat_mutablez) * vec3(0.0, 0.1, 0.1)));\\n  xlat_mutableret1 = (xlat_mutableret1 + (0.06 * xlat_mutablerain));\\n  vec4 tmpvar_12;\\n  tmpvar_12.w = 1.0;\\n  tmpvar_12.xyz = (1.0 - exp((\\n    (-(pow (xlat_mutableret1, vec3(1.5, 1.5, 1.5))) * 8.0)\\n   * \\n    (1.0 + (q23 * 4.0))\\n  )));\\n  ret = tmpvar_12.xyz;\\n }"}') }, "./presets/converted/martin - witchcraft reloaded.json": e => { e.exports = JSON.parse('{"version":2,"baseVals":{"rating":3,"gammaadj":1.98,"decay":0.5,"echo_zoom":1,"echo_alpha":0.5,"echo_orient":3,"wave_mode":6,"wave_thick":1,"modwavealphabyvolume":1,"wave_brighten":0,"darken":1,"wave_a":0.001,"wave_scale":0.527,"wave_smoothing":0.09,"modwavealphastart":0,"modwavealphaend":1.32,"warpanimspeed":1.459,"warpscale":2.007,"zoom":0.9999,"warp":0.01,"sx":0.9999,"wave_r":0.8,"wave_g":0.49,"ob_a":1,"ib_size":0.26,"mv_x":64,"mv_y":48,"mv_l":1.85,"mv_r":0.5,"mv_g":0.5,"mv_b":0.5,"mv_a":0,"b2x":0.7,"b1ed":0},"shapes":[{"baseVals":{"enabled":1,"sides":12,"num_inst":1024,"rad":0.03632,"tex_ang":1.00531,"tex_zoom":1.53117,"b":1,"a":0,"g2":0,"border_b":0,"border_a":0},"init_eqs_eel":"","frame_eqs_eel":"fov = reg03;\\nn = instance*reg00;\\n\\n\\nx0 = gmegabuf(n);\\ny0 = gmegabuf(n+1);\\nz0 = gmegabuf(n+2)+reg02;\\n\\nx = x0/z0*fov + 0.5;\\ny = y0/z0*q32*fov + 0.5;\\n\\n\\n//k1 = reg01+t1;\\nr = gmegabuf(n+3);\\ng = gmegabuf(n+4);\\nb = gmegabuf(n+5);\\nr2 = r/2; g2 = g/2; b2 = b2/2;\\n\\na = instance/1024; a2 = a*.5;\\nrad = min(0.02/z0,.5) * (z0 > 0)*2.5*sqrt(a);\\nrad *= gmegabuf(n+6);\\n\\nt1 -= 1;\\n"},{"baseVals":{"num_inst":128,"x":0.26,"y":0.2,"rad":0.39317,"tex_zoom":0.9355,"g":1,"b":0.6,"g2":0,"border_r":0,"border_g":0,"border_b":0,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"sides":13,"additive":1,"num_inst":5,"x":0.65,"y":0.38,"rad":0.57049,"tex_zoom":0.73678,"a":0.7,"g2":0,"border_r":0.5,"border_g":0.5,"border_b":0,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"sides":14,"additive":1,"thickoutline":1,"textured":1,"x":0.6,"y":0.55,"rad":0.97237,"ang":1.25664,"tex_zoom":0.34933,"g":0.6,"g2":0,"b2":1,"border_r":0.2,"border_g":0.7,"border_b":0.5,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""}],"waves":[{"baseVals":{"enabled":1,"scaling":2.15542,"smoothing":0.2,"r":0,"a":0.7},"init_eqs_eel":"","frame_eqs_eel":"t1 = 1023;\\nt2 = 0;","point_eqs_eel":"fov = reg03;\\nn = t1 * reg00;\\n\\n\\nx0 = gmegabuf(n);\\ny0 = gmegabuf(n+1);\\nz0 = gmegabuf(n+2)+reg02;\\n\\nx = x0/z0*fov + 0.5;\\ny = y0/z0*fov + 0.5;\\n\\n\\na= max(0,t1/1024);\\n\\nk1 = reg01+t1;\\nr = gmegabuf(n+3);\\ng = gmegabuf(n+4);\\nb = gmegabuf(n+5);\\n\\n\\na = t1/1024 * (z0 >= 0.5)/2;\\n\\nt1 -= 1;\\ngmegabuf (10000 +t2) = abs(value1+value2);\\nt2 += 1;"},{"baseVals":{"enabled":1,"scaling":0.89152,"smoothing":0.82,"r":0,"a":0.1},"init_eqs_eel":"","frame_eqs_eel":"t1 = 512;","point_eqs_eel":"fov = reg03;\\nn = t1 * reg00;\\n\\n\\nx0 = gmegabuf(n);\\ny0 = gmegabuf(n+1);\\nz0 = gmegabuf(n+2)+reg02;\\n\\nx = x0/z0*fov + 0.5;\\ny = y0/z0*fov + 0.5;\\n\\nr = gmegabuf(n+3);\\ng = gmegabuf(n+4);\\nb = gmegabuf(n+5);\\n\\na= t1/1024* (z0 >= 0.5)/2;\\nt1 -= 1;\\n"},{"baseVals":{"samples":32,"scaling":0.89152,"smoothing":0.82,"r":0,"g":0.2,"b":0.6,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"spectrum":1,"usedots":1,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""}],"init_eqs_eel":"index = 0;\\nloop (100000,\\n  megabuf(index) = 0;\\n  gmegabuf(index) = 0;\\n  index = index + 1;\\n);\\n\\nrecsize = 8;\\nreg00 = recsize;\\n\\npoints = 512*2;\\n\\nreg01 = 0; //benoetigt fuer \\"new\\"\\nzofs = 1 + rand(100)/100*2; reg02 = zofs;\\n\\nfov = .3; reg03 = fov;","frame_eqs_eel":"dec_f = pow (0.3, 30/fps);\\ndec_m = pow (0.85, 30/fps);\\ndec_s = pow (0.95, 30/fps);\\nbeat = (bass + mid+ treb)-(bass_att + mid_att+ treb_att) + (bass+mid+treb);\\nbeat /= 3;\\n\\npeak = peak*dec_m + (1-dec_m)*pow(beat-1,1)*(beat>1)*4;\\nis_beat = above(beat, 1) * above (time, t0+.2);\\nt0 = is_beat*time + (1-is_beat)*t0;\\nindex = (index + is_beat) %8;\\nindex2 = (index2 + is_beat*bnot(index)) %8;\\n\\nif (is_beat,\\n  ran1 = rand(100)/50-1;\\n  ran2 = rand(100)/50-1;\\n  ran3 = rand(100)/50-1;\\n,0);\\nran1_ = dec_m * ran1_ + (1-dec_m) * ran1;\\nran2_ = dec_m * ran2_ + (1-dec_m) * ran2;\\nran3_ = dec_m * ran3_ + (1-dec_m) * ran3;\\nrsum = sqrt(ran1_*ran1_ + ran2_*ran2_ + ran3_*ran3_);\\n\\nif (is_beat * (index==2),\\n  ran4 = (rand(100)/50-1);\\n  ran5 = (rand(100)/50-1);\\n  ran6 = (rand(100)/50-1);\\n,0;);\\nran4_ = dec_m * ran4_ + (1-dec_m) * ran4;\\nran5_ = dec_m * ran5_ + (1-dec_m) * ran5;\\nran6_ = dec_m * ran6_ + (1-dec_m) * ran6;\\n\\nif (is_beat * (index==6),\\n  ran7 = (rand(100)/50-1) ;\\n  ran8 = (rand(100)/50-1) ;\\n  ran9 = (rand(100)/50-1) ;\\n,0;);\\nran7_ = dec_m * ran7_ + (1-dec_m) * ran7;\\nran8_ = dec_m * ran8_ + (1-dec_m) * ran8;\\nran9_ = dec_m * ran9_ + (1-dec_m) * ran9;\\n\\n\\n//Neue Punkte #####################\\npk = sqrt(peak+.1);\\nNew = int(12*(ran4-ran5)*pk-12*(ran3-ran1)/pk); //##spielen\\nnew = max(min (new,20),2);\\nreg01 += new;\\n\\ndec = dec_m;\\n\\n//Neue Punkte oberhalb des Arrays\\nn = recsize*points; m = 0;\\ndt1 = (if (ran1>0,4*pk,4/pk))/fps*new/6;\\nvol = max(ran1+ran2,.2)*pk*2;\\nloop (new,\\n  trel1 = trel1 + dt1;\\n  x0 = x0 * dec + (1-dec)* (sin(trel1+ran3*6)*vol    +ran1);\\n  y0 = y0 * dec + (1-dec)* (sin(trel1+ran2*6)*vol    +ran2);\\n  z0 = z0 * dec + (1-dec)* (sin(trel1+ran1*6)*vol +ran3);\\n\\n  gmegabuf(n)   = x0;\\n  gmegabuf(n+1) = y0;\\n  gmegabuf(n+2) = z0;\\n//Farben\\n  gmegabuf(n+3) = ran1_/rsum/3+.5;\\n  gmegabuf(n+4) = ran2_/rsum/3+.5;\\n  gmegabuf(n+5) = ran3_/rsum/3+.5;\\n//Groesse\\n  gmegabuf(n+6) = gmegabuf(10000+m)*0+1;;\\n  n += recsize; m+=1;);\\n\\n//Nach unten um \\"new\\" points umkopieren\\nn = 0;\\nloop (recsize*points,\\n  gmegabuf (n) = gmegabuf(n+new*recsize) ;\\n  n += 1;);\\n\\nxang = ran4_/fps;\\nyang = ran5_/fps;\\nzang = ran6_/fps;\\nddx = min(max(ddx+yang/fps,-1),1);\\nddy = min(max(ddy+xang/fps,-1),1);\\nq1 = ddx*2;\\nq2 = ddy*2;\\n//Rotieren\\nn = 0;\\nloop (points,\\n  ox = gmegabuf (n);\\n  oy = gmegabuf (n+1);\\n  oz = gmegabuf (n+2);\\n  mx = ox*cos(zang) - oy*sin(zang);\\n  my = ox*sin(zang) + oy*cos(zang);\\n  ox = mx;  oy = my;\\n  mx = ox*cos(yang) + oz*sin(yang);\\n  mz = -ox*sin(yang) + oz*cos(yang);\\n  ox = mx;  oz = mz;\\n  my = oy*cos(xang) - oz*sin(xang);\\n  mz = oy*sin(xang) + oz*cos(xang);\\n  oy = my;  oz = mz;\\n  gmegabuf (n) = ox;\\n  gmegabuf (n+1) = oy;\\n  gmegabuf (n+2) = oz;\\nn += recsize;);\\n\\n\\n//SPIEL\\nk1 = ran7_/fps/2;\\nk2 = ran8_/fps/2;\\nk3 = abs(ran9_)/fps;\\n\\ndec = .4 + .6*ran5_; dec2 = (1-dec);\\nr1 = .5+.3*ran4_;\\nn = 0;\\nloop (points-1,\\n  m = n*recsize;\\n  left  =  ((n-1+points)%points) * recsize;\\n  right =  ((n+1+points)%points) * recsize;\\n  gmegabuf (m) =   dec*gmegabuf(m)   + dec2*(gmegabuf(left)*r1   +gmegabuf(right)*(1-r1) + k1) ;\\n  gmegabuf (m+1) = dec*gmegabuf(m+1) + dec2*(gmegabuf(left+1)*r1 +gmegabuf(right+1)*(1-r1) + k2) ;\\n//  gmegabuf (m+2) = dec*gmegabuf(m+2) + dec2*(gmegabuf(left+2)*r1 +gmegabuf(right+2)*(1-r1) + k3) ;\\n  n += 1;\\n);\\n\\n\\nm = (frame%points);\\nm = max(0,int(1024 + (t0-time)*200));\\nn = m * recsize;\\nq5 = gmegabuf(n)/(gmegabuf(n+2)+zofs)*fov;\\nq6 = -gmegabuf(n+1)/(gmegabuf(n+2)+zofs)*fov;\\n\\nq10=  sqrt(gmegabuf (n+3));\\nq11=  sqrt(gmegabuf(n+4));\\nq12=  sqrt(gmegabuf (n+5));\\n\\n\\nmonitor =   m;\\n\\nq32 = aspecty;","pixel_eqs_eel":"rot = 0; zoom = 1; warp = 0; dy = .00; dx = -.00;","warp":" shader_body { \\n  vec4 tmpvar_1;\\n  tmpvar_1.w = 1.0;\\n  tmpvar_1.xyz = vec3(0.0, 0.0, 0.0);\\n  ret = tmpvar_1.xyz;\\n }","comp":"float xlat_mutablesmask;\\nvec2 xlat_mutableuv1;\\nvec2 xlat_mutableuv2;\\nvec2 xlat_mutableuv3;\\nvec2 xlat_mutableuv4;\\n shader_body { \\n  float flash_1;\\n  float dist_2;\\n  float stars_3;\\n  vec3 ret_4;\\n  xlat_mutableuv1 = ((uv - 0.5) * aspect.xy);\\n  float tmpvar_5;\\n  tmpvar_5 = (0.1 * time);\\n  float tmpvar_6;\\n  tmpvar_6 = (0.2 * rad);\\n  dist_2 = ((1.0 - fract(\\n    (0.3333333 + tmpvar_5)\\n  )) * (1.0 - tmpvar_6));\\n  vec2 tmpvar_7;\\n  tmpvar_7.x = q1;\\n  tmpvar_7.y = q2;\\n  xlat_mutableuv3 = (xlat_mutableuv1 + tmpvar_7);\\n  xlat_mutableuv4 = ((32.0 * dist_2) * xlat_mutableuv3);\\n  xlat_mutablesmask = (texture (sampler_pw_noise_lq, (xlat_mutableuv4 / 256.0)).y - 0.9);\\n  vec2 tmpvar_8;\\n  tmpvar_8 = abs((fract(xlat_mutableuv4) - 0.5));\\n  stars_3 = max (0.0, clamp ((\\n    (1.0 - dist_2)\\n   * \\n    ((0.1 / sqrt(dot (tmpvar_8, tmpvar_8))) * xlat_mutablesmask)\\n  ), 0.0, 1.0));\\n  dist_2 = ((1.0 - fract(\\n    (0.6666667 + tmpvar_5)\\n  )) * (1.0 - tmpvar_6));\\n  vec2 tmpvar_9;\\n  tmpvar_9.x = q1;\\n  tmpvar_9.y = q2;\\n  xlat_mutableuv3 = (xlat_mutableuv1 + tmpvar_9);\\n  xlat_mutableuv4 = ((32.0 * dist_2) * xlat_mutableuv3);\\n  xlat_mutablesmask = (texture (sampler_pw_noise_lq, (xlat_mutableuv4 / 256.0)).y - 0.9);\\n  vec2 tmpvar_10;\\n  tmpvar_10 = abs((fract(xlat_mutableuv4) - 0.5));\\n  stars_3 = (stars_3 + max (stars_3, clamp (\\n    ((1.0 - dist_2) * ((0.1 / sqrt(\\n      dot (tmpvar_10, tmpvar_10)\\n    )) * xlat_mutablesmask))\\n  , 0.0, 1.0)));\\n  dist_2 = ((1.0 - fract(\\n    (1.0 + tmpvar_5)\\n  )) * (1.0 - tmpvar_6));\\n  vec2 tmpvar_11;\\n  tmpvar_11.x = q1;\\n  tmpvar_11.y = q2;\\n  xlat_mutableuv3 = (xlat_mutableuv1 + tmpvar_11);\\n  xlat_mutableuv4 = ((32.0 * dist_2) * xlat_mutableuv3);\\n  xlat_mutablesmask = (texture (sampler_pw_noise_lq, (xlat_mutableuv4 / 256.0)).y - 0.9);\\n  vec2 tmpvar_12;\\n  tmpvar_12 = abs((fract(xlat_mutableuv4) - 0.5));\\n  stars_3 = (stars_3 + max (stars_3, clamp (\\n    ((1.0 - dist_2) * ((0.1 / sqrt(\\n      dot (tmpvar_12, tmpvar_12)\\n    )) * xlat_mutablesmask))\\n  , 0.0, 1.0)));\\n  vec2 tmpvar_13;\\n  tmpvar_13.x = q5;\\n  tmpvar_13.y = q6;\\n  xlat_mutableuv2 = (xlat_mutableuv1 - tmpvar_13);\\n  float tmpvar_14;\\n  tmpvar_14 = ((0.01 / sqrt(\\n    dot (xlat_mutableuv2, xlat_mutableuv2)\\n  )) * min (3.0, (\\n    ((mid - 0.5) * float((mid > 0.5)))\\n   * 2.0)));\\n  flash_1 = tmpvar_14;\\n  float angle_15;\\n  float tmpvar_16;\\n  tmpvar_16 = abs(xlat_mutableuv2.x);\\n  if ((xlat_mutableuv2.y >= 0.0)) {\\n    angle_15 = (1.0 - ((xlat_mutableuv2.y - tmpvar_16) / (xlat_mutableuv2.y + tmpvar_16)));\\n  } else {\\n    angle_15 = (3.0 - ((xlat_mutableuv2.y + tmpvar_16) / (tmpvar_16 - xlat_mutableuv2.y)));\\n  };\\n  angle_15 = (angle_15 * 0.25);\\n  float tmpvar_17;\\n  if ((xlat_mutableuv2.x < 0.0)) {\\n    tmpvar_17 = -(angle_15);\\n  } else {\\n    tmpvar_17 = angle_15;\\n  };\\n  flash_1 = (tmpvar_14 * (tmpvar_14 / (\\n    abs((fract((\\n      (3.0 * tmpvar_17)\\n     + \\n      (time * 2.0)\\n    )) - 0.5))\\n   + 0.18)));\\n  vec3 tmpvar_18;\\n  tmpvar_18 = max ((texture (sampler_main, uv).xyz * 2.0), ((\\n    (texture (sampler_blur2, uv).xyz * scale2)\\n   + bias2) * 2.0));\\n  vec2 tmpvar_19;\\n  tmpvar_19 = sin(xlat_mutableuv3);\\n  ret_4 = (clamp ((0.025 / \\n    sqrt(dot (tmpvar_19, tmpvar_19))\\n  ), 0.0, 1.0) * vec3(0.4, 0.1, 1.0));\\n  ret_4 = (ret_4 + clamp ((stars_3 * stars_3), 0.0, 1.0));\\n  ret_4 = (ret_4 * clamp ((1.0 - \\n    (2.0 * dot (tmpvar_18, vec3(0.32, 0.49, 0.29)))\\n  ), 0.0, 1.0));\\n  ret_4 = (ret_4 + tmpvar_18);\\n  vec3 tmpvar_20;\\n  tmpvar_20.x = q10;\\n  tmpvar_20.y = q11;\\n  tmpvar_20.z = q12;\\n  ret_4 = (ret_4 + ((2.0 * \\n    clamp (flash_1, 0.0, 1.0)\\n  ) * tmpvar_20));\\n  vec4 tmpvar_21;\\n  tmpvar_21.w = 1.0;\\n  tmpvar_21.xyz = ret_4;\\n  ret = tmpvar_21.xyz;\\n }"}') }, "./presets/converted/martin [shadow harlequins shape code] - fata morgana.json": e => { e.exports = JSON.parse('{"version":2,"baseVals":{"rating":4,"gammaadj":1.98,"decay":0.5,"echo_zoom":1,"echo_alpha":0.5,"echo_orient":3,"additivewave":1,"wave_thick":1,"modwavealphabyvolume":1,"darken":1,"wave_a":0.001,"wave_scale":0.133,"wave_smoothing":0,"wave_mystery":-1,"modwavealphastart":1,"modwavealphaend":1.3,"warpanimspeed":1.459,"warpscale":2.007,"zoom":0.9999,"warp":0.01,"sx":0.9999,"wave_r":0.5,"wave_g":0.5,"wave_b":0.5,"ob_size":0.015,"ob_b":1,"ib_size":0.26,"mv_a":0,"b2x":0.3,"b1ed":0},"shapes":[{"baseVals":{"enabled":1,"sides":40,"thickoutline":1,"rad":0.06623,"tex_zoom":1.79845,"r":0,"a":0.1,"g2":0,"border_b":0,"border_a":0},"init_eqs_eel":"bob = 1.5;\\nro = 0;\\nred = rand(20);","frame_eqs_eel":"vol = 1 + 0.2*((bass_att+treb_att+mid_att)/3);\\nbob = bob*above(bob,0.01) - 0.01 + 1*(1 - above(bob,0.01));\\nbob = 0.4 + 0.4*sin(time*0.8);\\nbob = bob*vol;\\n//rad = bob;\\nborder_1 = 0.4;\\nsides = 30;\\nro = ro + 0.02;\\nang = ro;\\n//rad = 0.6;\\n\\nsp = red*0.025;\\nspi = 0.5 - sp;\\ntm = time*0.1;\\nborder_r = 0.5 + sp*sin(tm*0.6) + spi*cos(tm*1.46);\\nborder_g = 0.5 + sp*sin(tm*1.294) + spi*cos(tm*0.87);\\nborder_b = 0.5 + sp*sin(tm*1.418) + spi*cos(tm*0.76);\\n"},{"baseVals":{"enabled":1,"sides":40,"additive":1,"num_inst":4,"g":1,"b":1,"g2":0,"border_a":0},"init_eqs_eel":"","frame_eqs_eel":"x = 0.5 + 0.225*sin(time /instance*0.7);\\ny = 0.5 + 0.3*cos(time /instance*0.7);\\nx = x- 0.4*x*sin(time);\\ny = y- 0.4*y*cos(time);\\n\\n\\n\\nrad = rad*mid_att;\\nr = 0.5 + 0.5*sin(frame*0.5);\\nb = 0.5 + 0.5*sin(frame*0.5 + 2.094);\\ng = 0.5 + 0.5*sin(frame*0.5 + 4.188);\\n"},{"baseVals":{"enabled":1,"sides":40,"additive":1,"g":1,"b":1,"g2":0,"border_a":0},"init_eqs_eel":"","frame_eqs_eel":"x = 0.5 + 0.5*(sin(time*1.1)*0.3 + 0.7*sin(time*0.5));\\nx = 0.5 + 0.225*sin(time + 2.09);\\ny = 0.5 + 0.3*cos(time + 2.09);\\n\\nrad = rad*bass_att;\\nr = 0.5 + 0.5*sin(frame*0.5);\\nb = 0.5 + 0.5*sin(frame*0.5 + 2.094);\\ng = 0.5 + 0.5*sin(frame*0.5 + 4.188);\\n"},{"baseVals":{"enabled":1,"sides":40,"additive":1,"num_inst":5,"rad":0.07419,"g":1,"b":1,"g2":0,"border_a":0},"init_eqs_eel":"","frame_eqs_eel":"//x = 0.5 + 0.5*(sin(time*1.1)*0.3 + 0.7*sin(time*0.5));\\nx = 0.5 + 0.225*sin(time /instance);\\ny = 0.5 + 0.3*cos(time /instance);\\nx = x+ 0.4*x*sin(time);\\ny = y+ 0.4*y*cos(time);\\n\\n\\n//x = x+(0.1*q3)*sin((instance*2.4));\\n//y = y+(0.1*q4)*cos((instance*2.4));\\n\\n\\nrad = rad*treb_att;\\nr = 0.5 + 0.5*sin(frame*0.5);\\nb = 0.5 + 0.5*sin(frame*0.5 + 2.094);\\ng = 0.5 + 0.5*sin(frame*0.5 + 4.188);\\n"}],"waves":[{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""}],"init_eqs_eel":"","frame_eqs_eel":"dec_med = pow (0.7, 30/fps);\\ndec_slow = pow (0.99, 30/fps);\\nbeat = max (max (bass, mid), treb); \\navg = avg*dec_slow + beat*(1-dec_slow);\\nis_beat = above(beat, .2+avg+peak) * above (time, t0+.2);\\nt0 = is_beat*time + (1-is_beat)*t0;\\npeak = is_beat * beat + (1-is_beat)*peak*dec_med;\\nindex = (index + is_beat) %8;\\nindex2 = (index2 + is_beat*bnot(index))%2;\\n\\nq20 = avg;\\nq21 = beat;\\nq22 = peak;\\n\\nps = .9*ps + .1*q22;\\nq23 = ps;\\nq24 = is_beat;\\nq26 = bass_att + mid_att + treb_att;\\nq27 = index +1;\\nq28 = index2;\\n\\n\\nk1 =  is_\\nbeat*equal(index%2,0);\\np1 =  k1*(p1+1) + (1-k1)*p1;\\np2 = dec_med * p2+ (1-dec_med)*p1;\\nrott = p2 * 3.1416/4;\\n\\nq1 = cos(rott);\\nq2 = sin(rott);\\nq3 = -q2;\\nq4 = q1;","pixel_eqs_eel":"zoom = 1.05;","warp":" shader_body { \\n  vec2 uv_1;\\n  vec2 tmpvar_2;\\n  tmpvar_2 = (uv - vec2(0.5, 0.5));\\n  vec4 tmpvar_3;\\n  tmpvar_3.w = 0.0;\\n  vec4 tmpvar_4;\\n  tmpvar_4 = texture (sampler_blur1, uv);\\n  tmpvar_3.xyz = ((tmpvar_4.xyz * scale1) + bias1);\\n  float tmpvar_5;\\n  tmpvar_5 = (dot (tmpvar_3, roam_sin) * 16.0);\\n  mat2 tmpvar_6;\\n  tmpvar_6[uint(0)].x = cos(tmpvar_5);\\n  tmpvar_6[uint(0)].y = -(sin(tmpvar_5));\\n  tmpvar_6[1u].x = sin(tmpvar_5);\\n  tmpvar_6[1u].y = cos(tmpvar_5);\\n  uv_1 = ((tmpvar_2 + (\\n    (0.2 * dot (((tmpvar_4.xyz * scale1) + bias1), vec3(0.32, 0.49, 0.29)))\\n   * \\n    (tmpvar_2 * tmpvar_6)\\n  )) - 0.5);\\n  vec2 tmpvar_7;\\n  tmpvar_7 = ((uv_1 * texsize.xy) * 0.02);\\n  vec2 tmpvar_8;\\n  tmpvar_8.x = (cos((tmpvar_7.y * q1)) * sin(-(tmpvar_7.y)));\\n  tmpvar_8.y = (sin(tmpvar_7.x) * cos((tmpvar_7.y * q2)));\\n  uv_1 = (uv_1 - ((tmpvar_8 * texsize.zw) * 12.0));\\n  vec4 tmpvar_9;\\n  tmpvar_9.w = 1.0;\\n  tmpvar_9.xyz = ((texture (sampler_main, uv_1).xyz * 0.98) - 0.02);\\n  ret = tmpvar_9.xyz;\\n }","comp":"vec3 xlat_mutableret1;\\nvec2 xlat_mutablers;\\nvec2 xlat_mutableuv1;\\nfloat xlat_mutablez;\\n shader_body { \\n  xlat_mutableuv1 = (uv - 0.5);\\n  xlat_mutablez = (0.2 / abs(xlat_mutableuv1.y));\\n  xlat_mutablers.x = (xlat_mutableuv1.x * xlat_mutablez);\\n  xlat_mutablers.y = ((xlat_mutablez / 2.0) + (time * 4.0));\\n  vec4 tmpvar_1;\\n  tmpvar_1 = texture (sampler_noise_hq, xlat_mutablers);\\n  xlat_mutableret1 = ((tmpvar_1.xyz * vec3(\\n    greaterThanEqual (tmpvar_1.xyz, vec3(0.0, 0.0, 0.0))\\n  )) - 0.6);\\n  float tmpvar_2;\\n  tmpvar_2 = clamp ((128.0 * xlat_mutableuv1.y), 0.0, 1.0);\\n  vec2 tmpvar_3;\\n  tmpvar_3 = fract(((\\n    (xlat_mutableuv1 * (1.0 - abs(xlat_mutableuv1.x)))\\n   - 0.5) - (\\n    (xlat_mutableret1 * 0.05)\\n   * tmpvar_2).xy));\\n  float x_4;\\n  x_4 = (tmpvar_3.y - 0.52);\\n  vec3 tmpvar_5;\\n  tmpvar_5 = (texture (sampler_main, tmpvar_3) + ((0.02 / \\n    (0.02 + sqrt((x_4 * x_4)))\\n  ) * slow_roam_sin)).xyz;\\n  xlat_mutableret1 = tmpvar_5;\\n  vec2 tmpvar_6;\\n  tmpvar_6 = (32.0 * ((\\n    (uv * mat2(0.6, -0.8, 0.8, 0.6))\\n   + \\n    (tmpvar_5 * 0.1)\\n  .xy) + (time / 64.0)));\\n  vec2 tmpvar_7;\\n  tmpvar_7 = abs((fract(tmpvar_6) - 0.5));\\n  vec3 tmpvar_8;\\n  tmpvar_8 = clamp (((0.25 / \\n    sqrt(dot (tmpvar_7, tmpvar_7))\\n  ) * vec3((texture (sampler_pw_noise_lq, \\n    (tmpvar_6 / 256.0)\\n  ).y - 0.9))), 0.0, 1.0);\\n  vec4 tmpvar_9;\\n  tmpvar_9.w = 1.0;\\n  tmpvar_9.xyz = (tmpvar_5 + ((\\n    (tmpvar_8.x * tmpvar_8.x)\\n   + \\n    ((rand_preset * (0.5 - uv.y)).xyz * vec3(0.0, 0.0, 1.0))\\n  ) * (1.0 - tmpvar_2)));\\n  ret = tmpvar_9.xyz;\\n }"}') }, "./presets/converted/martin, flexi, fishbrain + sto - enterstate [random mashup].json": e => { e.exports = JSON.parse('{"version":2,"baseVals":{"rating":2,"gammaadj":1.98,"decay":0.5,"echo_zoom":1,"echo_alpha":0.5,"echo_orient":3,"wave_mode":3,"wave_thick":1,"wrap":0,"darken":1,"wave_a":100,"wave_scale":0.282,"wave_smoothing":0.9,"wave_mystery":1,"warpanimspeed":1.459,"warpscale":2.007,"zoom":0.9999,"warp":0.01,"sx":0.9999,"wave_r":0.5,"wave_g":0.5,"wave_b":0.5,"ob_size":0.05,"ob_g":0.1,"ob_b":1,"ob_a":1,"ib_size":0,"ib_r":0,"ib_g":0,"ib_b":0,"mv_a":0,"b1ed":0},"shapes":[{"baseVals":{"sides":100,"rad":0.16446,"g":1,"b":1,"a":0,"r2":1,"b2":1,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"a = if(above(bass,2.5),1,0);"},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""}],"waves":[{"baseVals":{"enabled":1,"spectrum":1,"thick":1,"scaling":0.2248},"init_eqs_eel":"","frame_eqs_eel":"r = bass;\\ng = treb;\\nb = .5;","point_eqs_eel":"ma=ma+(above(bass,1)*3.1415*.01*bass);\\nma=ma-(above(treb,1)*3.1415*.01*treb);\\n\\nmx=mx+(.0002*cos(ma));\\nmy=my+(.0002*sin(ma));\\n\\nmx=if(above(mx,.9),(.9-mx),mx);\\nmy=if(above(my,.9),(.9-my),my);\\nmx=if(below(mx,.1),(.9+mx),mx);\\nmy=if(below(my,.1),(.9+my),my);\\n\\nx=mx;\\ny=my;\\n\\na=(above(bass+mid+treb,.8));"},{"baseVals":{"enabled":1,"spectrum":1,"thick":1,"scaling":0.2743},"init_eqs_eel":"","frame_eqs_eel":"r = bass;\\ng = treb;\\nb = .5;","point_eqs_eel":"ma=ma+(above(mid,1)*3.1415*.01*mid);\\nma=ma-(above(treb,1)*3.1415*.01*treb);\\n\\nmx=mx+(.0004*cos(ma));\\nmy=my+(.0004*sin(ma));\\n\\nmx=if(above(mx,.9),(.9-mx),mx);\\nmy=if(above(my,.9),(.9-my),my);\\nmx=if(below(mx,.1),(.9+mx),mx);\\nmy=if(below(my,.1),(.9+my),my);\\n\\nx=mx;\\ny=my;\\n\\na=(above(bass+mid+treb,.3));\\n"},{"baseVals":{"enabled":1,"thick":1,"scaling":2.0231,"smoothing":0},"init_eqs_eel":"t2 = 0;\\nt3 = 0;\\nt4 = 0;\\ncl = 0;","frame_eqs_eel":"vol = bass*8 + mid*5 + treb*3;\\nm = m*0.97 + vol*0.08;\\nmonitor = vol;\\nbeat = above(vol,res)*above(vol,m)*above(vol,16);\\ndiff = (1-beat)*diff + beat*(vol-res);\\nres = beat*(vol + m*0.04) + (1-beat)*(res -  (0.1+diff*0.02)*60/fps);\\nres = max(0,res);\\n\\n//a = beat;","point_eqs_eel":"tt3 = tt3*0.6 + (value1)*1;\\ntt2 = tt2*0.7 + tt3*0.2;\\ntt1 = tt1*0.8 + tt2*0.1;\\nd = d*0.9 + tt1*0.2;\\n\\ny = 0.5 + d*sample*(1-sample)*2;\\nx =  -0.05 + sample*1.1;"},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""}],"init_eqs_eel":"//******** INITIALIZATION *********\\n//---------- some global vars, do not change -------------\\navg = 0.01;\\nq7 = .25; //MyZoom\\nq8 =  rand(2.0)-1.0; //fractal modifier\\n//q8 = 1; //#\\nq16 = 1 + rand(2); //Tele ; rather fish eye\\n//q16 = 1; //#\\nq18 = rand(0.8)+.1; //brightness balance back/front\\nq30 = 1; //logarithmic Z-Dist storage; unused\\nq31 =128;\\nstart = 1; travel = 0; RotZ = 0; look = 0; slow = 0; t0 = time+3; lampx = .5; lampy = .5;\\ncran0 = rand(1);\\nn = 0; loop (10000, gmegabuf(n)=0; n=n+1; ); \\nn = 0; loop (10000,  megabuf(n)=0; n=n+1; ); \\ntrelx = 0;  trely = 0; trelz = 0;\\nreg20 = 1; reg21 = 0; reg22 = 0; reg23 = 0; reg24 = 1; reg25 = 0; reg26 = 0; reg27 = 0; reg28 = 1;\\n\\n//Find random starting point\\nwhile (exec2(\\n  ran1 = rand(800)/100;  ran2 = rand(800)/100;  ran3 = rand(800)/100;\\n  PosX = rand(5)-2;   PosY = rand(5)-2;   PosZ = rand(5)-2; \\n\\n//  PosX = 3.3; PosY = 2; PosZ = -2; ran1 = 0; ran2 = 0; ran3 = 0; //#\\n\\n  c1 = cos(ran1); c2 = cos(ran2); c3 = cos(ran3); \\n  s1 = sin(ran1); s2 = sin(ran2); s3 = sin(ran3);\\n\\n  reg20 = c2*c1; reg21 = c2*s1; reg22 = -s2;\\n  reg23 = s3*s2*c1 - c3*s1; reg24 = s3*s2*s1 + c3*c1; reg25 = s3*c2;\\n  reg26 = c3*s2*c1 + s3*s1; reg27 = c3*s2*s1 - s3*c1; reg28 = c3*c2;\\n\\n  //***********BOT*************\\n  //Coord. Trans. must exactly match def in warp S. !!!!\\n  dist = 0.001;\\n  while (exec2(\\n    uvx = reg26*dist/q7; uvy = reg27*dist/q7; uvz = reg28*dist/q7;\\n    uvx += PosX; uvy += PosY; uvz += PosZ;\\n    uvx = 8.0*((uvx/8+30.5 - int(uvx/8+30.5))-.5);\\n    uvy = 8.0*((uvy/8+30.5 - int(uvy/8+30.5))-.5);\\n    uvz = 8.0*((uvz/8+30.5 - int(uvz/8+30.5))-.5);\\n    uvx0 = uvx+q8; uvy0 = uvy+q8; uvz0 = uvz+q8;\\n    loop (7+1,\\n      uvx = if (uvx > 1, 2-uvx, if(uvx < -1, -2-uvx, uvx));\\n      uvy = if (uvy > 1, 2-uvy, if(uvy < -1, -2-uvy, uvy));\\n      uvz = if (uvz > 1, 2-uvz, if(uvz < -1, -2-uvz, uvz));\\n      slen = uvx*uvx + uvy*uvy + uvz*uvz;\\n      uvx = if (slen < 0.25, uvx*4, if (slen < 1, uvx/slen, uvx)) *2.6 + uvx0; \\n      uvy = if (slen < 0.25, uvy*4, if (slen < 1, uvy/slen, uvy)) *2.6 + uvy0; \\n      uvz = if (slen < 0.25, uvz*4, if (slen < 1, uvz/slen, uvz)) *2.6 + uvz0; \\n    );\\n    len = sqrt(uvx*uvx + uvy*uvy + uvz*uvz);\\n    dist *= 1.05;\\n  ,(dist < 0.6)*(len > 30)));\\n,(dist < .06))); //end while","frame_eqs_eel":"wave_a = 0;\\nfps_ = .0 * fps_ + 1*if(fps<=25,fps,25+.5*(fps-25)); \\ndec_s = 1-.06*30/fps_;\\nbeat = (time >  t0+3); t0 = if(beat, time, t0);\\n\\nspeed = min(0.2,dist_-.02) * (1+2*avg) *(1-slow*.0)*.7/q7; //#\\nds = ds * dec_s + (1-dec_s)*speed*.25/fps_; \\nRotZ = if (RotZ==0,beat*(rand(100)<20*travel)*(rand(10)/10-.3),\\n                   bnot(beat*(rand(100)<30))*RotZ);\\nslow = if (bnot(slow), beat*(rand(1000*avg)<6), bnot(beat*(rand(100)<50)));\\nlook = if (bnot(look), beat*(rand(1000*speed)<12), bnot(beat*(rand(100)<50)));\\n\\n//Lamp View\\nlx = if (beat,rand(150)/200+.15,lx);\\nly = if (beat,rand(150)/200+.15,ly);\\nlampx = lampx * dec_s + (1-dec_s)*if (look,lx,0.5);\\nlampy = lampy * dec_s + (1-dec_s)*if (look,ly,0.5);\\nq1 = lampx; q2 = lampy;\\n\\n//Position \\nDirX= reg26; DirY= reg27; DirZ = reg28;\\nPosX = PosX + ds*DirX ; PosY = PosY + ds*DirY; PosZ = PosZ + ds*DirZ; \\nq4 = PosX; q5 = PosY; q6 = PosZ;\\n\\nangchg = (.2-dist_)*(dist_ < .2)*2;\\ntravel = if (angchg > 0,0,travel+ds);\\nv1 = v1 * dec_s + (1-dec_s)* RotZ * ds;\\nv2 = v2 *dec_s + (1-dec_s)*angchg *xslope/fps_;\\nv3 = v3 *dec_s + (1-dec_s)*(angchg *yslope/fps_ + 2*v1*sin(time*.1));\\n//v2 = .008;\\n//push old RotMat\\nreg30 =reg20; reg31 =reg21; reg32 =reg22; \\nreg33 =reg23; reg34 =reg24; reg35 =reg25; \\nreg36 =reg26; reg37 =reg27; reg38 =reg28; \\n\\nn = 0; avg = 0;\\nloop (5,\\n  n = n+1;\\n  //new Rot. Mat for infinitesimal angles\\n  ran1 = rand(100)/100;\\n  ran2 = rand(100)/200-.25;\\n  tx = cos(n*1.57+ran2) * (n <= 4)*ran1; ty = sin(n*1.57+ran2) * (n <= 4)*ran1;\\n  c1 = cos(v1); c2 = cos(v2+ty); c3 = cos(v3+tx); \\n  s1 = sin(v1); s2 = sin(v2+ty); s3 = sin(v3+tx);\\n  reg10 = c2*c1; reg11 = c2*s1; reg12 = -s2;\\n  reg13 = s3*s2*c1 - c3*s1; reg14 = s3*s2*s1 + c3*c1; reg15 = s3*c2;\\n  reg16 = c3*s2*c1 + s3*s1; reg17 = c3*s2*s1 - s3*c1; reg18 = c3*c2;\\n\\n  //pop old RotMat\\n  reg20 =reg30; reg21 =reg31; reg22 =reg32; \\n  reg23 =reg33; reg24 =reg34; reg25 =reg35; \\n  reg26 =reg36; reg27 =reg37; reg28 =reg38; \\n\\n  //Multiply new RotMat by old one\\n  q20 = reg10*reg20 + reg11*reg23 + reg12*reg26;\\n  q21 = reg10*reg21 + reg11*reg24 + reg12*reg27;\\n  q22 = reg10*reg22 + reg11*reg25 + reg12*reg28;\\n  q23 = reg13*reg20 + reg14*reg23 + reg15*reg26;\\n  q24 = reg13*reg21 + reg14*reg24 + reg15*reg27;\\n  q25 = reg13*reg22 + reg14*reg25 + reg15*reg28;\\n  q26 = reg16*reg20 + reg17*reg23 + reg18*reg26;\\n  q27 = reg16*reg21 + reg17*reg24 + reg18*reg27;\\n  q28 = reg16*reg22 + reg17*reg25 + reg18*reg28;\\n\\n  reg20 =q20; reg21 =q21; reg22 =q22;\\n  reg23 =q23; reg24 =q24; reg25 =q25;\\n  reg26 =q26; reg27 =q27; reg28 =q28;\\n\\n  //***********BOT*************\\n  //Coord. Trans. must exactly match def in warp S. !!!!\\n  dist = 0.002;\\n  while (exec2(\\n    uvx = reg26*dist/q7; uvy = reg27*dist/q7; uvz = reg28*dist/q7;\\n    uvx += PosX; uvy += PosY; uvz += PosZ;\\n    uvx = 8.0*((uvx/8+30.5 - int(uvx/8+30.5))-.5);\\n    uvy = 8.0*((uvy/8+30.5 - int(uvy/8+30.5))-.5);\\n    uvz = 8.0*((uvz/8+30.5 - int(uvz/8+30.5))-.5);\\n    uvx0 = uvx+q8; uvy0 = uvy+q8; uvz0 = uvz+q8;\\n    loop (7+1,\\n      uvx = if (uvx > 1, 2-uvx, if(uvx < -1, -2-uvx, uvx));\\n      uvy = if (uvy > 1, 2-uvy, if(uvy < -1, -2-uvy, uvy));\\n      uvz = if (uvz > 1, 2-uvz, if(uvz < -1, -2-uvz, uvz));\\n      slen = uvx*uvx + uvy*uvy + uvz*uvz;\\n      uvx = if (slen < 0.25, uvx*4, if (slen < 1, uvx/slen, uvx)) *2.6 + uvx0; \\n      uvy = if (slen < 0.25, uvy*4, if (slen < 1, uvy/slen, uvy)) *2.6 + uvy0; \\n      uvz = if (slen < 0.25, uvz*4, if (slen < 1, uvz/slen, uvz)) *2.6 + uvz0; \\n    );\\n    len = sqrt(uvx*uvx + uvy*uvy + uvz*uvz);\\n    dist *= 1.1;\\n  ,(dist < 0.6)*(len > 30)));\\n  megabuf(n) = megabuf(n)*dec_s + (1-dec_s)*dist; //stores the 4 trial points\\n  avg = avg+abs(megabuf(n)/5);\\n); //end loop 5\\n\\nn = 0; avg = 0; loop (5, n=n+1; avg = avg+abs(megabuf(n)/5));\\n\\nxslope = min(max(2/avg*(megabuf(1)-megabuf(3)),-3),3);\\nyslope = min(max(2/avg*(megabuf(4)-megabuf(2)),-3),3);\\nmonitor = avg;\\ndist_ = dist_*dec_s + (1-dec_s)*dist;\\n\\nq10 = ds*q7; //compensation of lin. movement in GetDist and zoom uv\\nq14 = 1*abs(ds) + 2*(abs(v1) + abs(v2) + abs(v3)) + 1.0/255 + start*.05; \\nq19 = .6 + .4*sin(time*.02+cran0*6); //brightness backgd\\nstart = start * .9;\\nq11 = v1; q12 = v2; q13 = v3;\\n//forward comp. of Rotation\\nmonitor = q16;","pixel_eqs_eel":"warp = 0.0; zoom = 1; dx = -q12/q16*(1+0*pow(x-.5,2)); dy = q13/q16*(1+0*pow(y-.5,2)); rot =q11;","warp":" shader_body { \\n  float dy_1;\\n  float dx_2;\\n  vec3 ret_3;\\n  vec2 tmpvar_4;\\n  tmpvar_4 = ((uv * texsize.xy) * texsize_noise_lq.zw);\\n  vec2 tmpvar_5;\\n  tmpvar_5 = (texsize.zw * 4.0);\\n  vec2 tmpvar_6;\\n  tmpvar_6.x = (((2.0 * \\n    ((texture (sampler_blur1, (uv + (vec2(1.0, 0.0) * tmpvar_5))).xyz * scale1) + bias1)\\n  ) - (2.0 * \\n    ((texture (sampler_blur1, (uv - (vec2(1.0, 0.0) * tmpvar_5))).xyz * scale1) + bias1)\\n  )).y * 0.5);\\n  tmpvar_6.y = (((2.0 * \\n    ((texture (sampler_blur1, (uv + (vec2(0.0, 1.0) * tmpvar_5))).xyz * scale1) + bias1)\\n  ) - (2.0 * \\n    ((texture (sampler_blur1, (uv - (vec2(0.0, 1.0) * tmpvar_5))).xyz * scale1) + bias1)\\n  )).y * 0.5);\\n  ret_3.y = texture (sampler_fw_main, clamp ((uv + (\\n    (tmpvar_6 * texsize.zw)\\n   * 4.0)), 0.0, 1.0)).y;\\n  ret_3.y = (ret_3.y + ((\\n    (ret_3 - ((texture (sampler_blur1, uv).xyz * scale1) + bias1))\\n  .y * 0.025) + -0.01));\\n  ret_3.y = (ret_3.y + ((texture (sampler_noise_lq, tmpvar_4).y - 0.5) * 0.02));\\n  dx_2 = (((2.0 * \\n    ((texture (sampler_blur1, (uv + (vec2(1.0, 0.0) * tmpvar_5))).xyz * scale1) + bias1)\\n  ) - (2.0 * \\n    ((texture (sampler_blur1, (uv - (vec2(1.0, 0.0) * tmpvar_5))).xyz * scale1) + bias1)\\n  )).z * 0.5);\\n  dy_1 = (((2.0 * \\n    ((texture (sampler_blur1, (uv + (vec2(0.0, 1.0) * tmpvar_5))).xyz * scale1) + bias1)\\n  ) - (2.0 * \\n    ((texture (sampler_blur1, (uv - (vec2(0.0, 1.0) * tmpvar_5))).xyz * scale1) + bias1)\\n  )).z * 0.5);\\n  vec2 tmpvar_7;\\n  tmpvar_7.x = dx_2;\\n  tmpvar_7.y = dy_1;\\n  ret_3.z = ((texture (sampler_main, (uv - \\n    ((tmpvar_7 * texsize.zw) * 4.0)\\n  )).z - (ret_3.y * 0.01)) + 0.004);\\n  ret_3.z = (ret_3.z + ((texture (sampler_noise_lq, tmpvar_4).y - 0.5) * 0.01));\\n  dx_2 = (((2.0 * \\n    ((texture (sampler_blur1, (uv + (tmpvar_5 * vec2(1.0, 0.0)))).xyz * scale1) + bias1)\\n  ) - (2.0 * \\n    ((texture (sampler_blur1, (uv + (tmpvar_5 * vec2(-1.0, 0.0)))).xyz * scale1) + bias1)\\n  )).x * 0.5);\\n  dy_1 = (((2.0 * \\n    ((texture (sampler_blur1, (uv + (tmpvar_5 * vec2(0.0, 1.0)))).xyz * scale1) + bias1)\\n  ) - (2.0 * \\n    ((texture (sampler_blur1, (uv + (tmpvar_5 * vec2(0.0, -1.0)))).xyz * scale1) + bias1)\\n  )).x * 0.5);\\n  vec2 tmpvar_8;\\n  tmpvar_8.x = dx_2;\\n  tmpvar_8.y = dy_1;\\n  vec2 tmpvar_9;\\n  tmpvar_9 = (tmpvar_8 * texsize.zw);\\n  vec2 domain_10;\\n  domain_10 = (uv - (tmpvar_9 * 2.5));\\n  vec4 tmpvar_11;\\n  tmpvar_11.w = 0.0;\\n  tmpvar_11.xyz = max (vec4(0.0, 0.0, 0.0, 0.0), texture (sampler_fc_main, (domain_10 + (texsize.zw * vec2(-1.0, 0.0))))).xyz;\\n  vec4 tmpvar_12;\\n  tmpvar_12.w = 0.0;\\n  tmpvar_12.xyz = max (tmpvar_11, texture (sampler_fc_main, (domain_10 + (texsize.zw * vec2(0.0, -1.0))))).xyz;\\n  vec4 tmpvar_13;\\n  tmpvar_13.w = 0.0;\\n  tmpvar_13.xyz = max (tmpvar_12, texture (sampler_fc_main, domain_10)).xyz;\\n  vec4 tmpvar_14;\\n  tmpvar_14.w = 0.0;\\n  tmpvar_14.xyz = max (tmpvar_13, texture (sampler_fc_main, (domain_10 + (texsize.zw * vec2(0.0, 1.0))))).xyz;\\n  ret_3.x = ((max (tmpvar_14, texture (sampler_fc_main, \\n    (domain_10 + (texsize.zw * vec2(1.0, 0.0)))\\n  )).x + (\\n    (texture (sampler_main, (uv + (tmpvar_9 * 4.0))).x - ((texture (sampler_blur1, (uv + \\n      (tmpvar_9 * 4.0)\\n    )).xyz * scale1) + bias1).x)\\n   * 0.206)) - 0.09);\\n  vec4 tmpvar_15;\\n  tmpvar_15.w = 1.0;\\n  tmpvar_15.xyz = ret_3;\\n  ret = tmpvar_15.xyz;\\n }","comp":"float xlat_mutablelamp;\\nvec2 xlat_mutablers0;\\nvec2 xlat_mutablerss;\\nvec2 xlat_mutableuv1;\\n shader_body { \\n  vec3 tmpvar_1;\\n  tmpvar_1.x = q4;\\n  tmpvar_1.y = q5;\\n  tmpvar_1.z = q6;\\n  mat3 tmpvar_2;\\n  tmpvar_2[uint(0)].x = q20;\\n  tmpvar_2[uint(0)].y = q23;\\n  tmpvar_2[uint(0)].z = q26;\\n  tmpvar_2[1u].x = q21;\\n  tmpvar_2[1u].y = q24;\\n  tmpvar_2[1u].z = q27;\\n  tmpvar_2[2u].x = q22;\\n  tmpvar_2[2u].y = q25;\\n  tmpvar_2[2u].z = q28;\\n  vec2 tmpvar_3;\\n  tmpvar_3.x = q1;\\n  tmpvar_3.y = q2;\\n  vec2 uv_4;\\n  vec3 dots_5;\\n  vec3 ret_6;\\n  vec2 tmpvar_7;\\n  vec2 tmpvar_8;\\n  tmpvar_8 = (uv - 0.5);\\n  tmpvar_7 = (0.5 + (tmpvar_8 * vec2(1.1, 0.81)));\\n  vec2 tmpvar_9;\\n  tmpvar_9 = (uv - vec2(0.5, 0.5));\\n  uv_4 = (tmpvar_8 * aspect.xy);\\n  float tmpvar_10;\\n  float tmpvar_11;\\n  tmpvar_11 = (min (abs(\\n    (uv_4.y / uv_4.x)\\n  ), 1.0) / max (abs(\\n    (uv_4.y / uv_4.x)\\n  ), 1.0));\\n  float tmpvar_12;\\n  tmpvar_12 = (tmpvar_11 * tmpvar_11);\\n  tmpvar_12 = (((\\n    ((((\\n      ((((-0.01213232 * tmpvar_12) + 0.05368138) * tmpvar_12) - 0.1173503)\\n     * tmpvar_12) + 0.1938925) * tmpvar_12) - 0.3326756)\\n   * tmpvar_12) + 0.9999793) * tmpvar_11);\\n  tmpvar_12 = (tmpvar_12 + (float(\\n    (abs((uv_4.y / uv_4.x)) > 1.0)\\n  ) * (\\n    (tmpvar_12 * -2.0)\\n   + 1.570796)));\\n  tmpvar_10 = (tmpvar_12 * sign((uv_4.y / uv_4.x)));\\n  if ((abs(uv_4.x) > (1e-08 * abs(uv_4.y)))) {\\n    if ((uv_4.x < 0.0)) {\\n      if ((uv_4.y >= 0.0)) {\\n        tmpvar_10 += 3.141593;\\n      } else {\\n        tmpvar_10 = (tmpvar_10 - 3.141593);\\n      };\\n    };\\n  } else {\\n    tmpvar_10 = (sign(uv_4.y) * 1.570796);\\n  };\\n  xlat_mutablers0.x = ((tmpvar_10 / 3.1416) * 2.0);\\n  xlat_mutablers0.y = (0.02 / sqrt(dot (uv_4, uv_4)));\\n  vec2 tmpvar_13;\\n  tmpvar_13.x = xlat_mutablers0.x;\\n  tmpvar_13.y = (xlat_mutablers0.y + time);\\n  xlat_mutablerss = (tmpvar_13 * mat2(0.7, -0.7, 0.7, 0.7));\\n  vec4 tmpvar_14;\\n  tmpvar_14 = vec4(greaterThanEqual ((texture (sampler_pw_noise_lq, \\n    (xlat_mutablerss / 32.0)\\n  ) - 0.7), vec4(0.0, 0.0, 0.0, 0.0)));\\n  vec2 tmpvar_15;\\n  tmpvar_15 = abs((fract(\\n    (xlat_mutablerss * 8.0)\\n  ) - 0.5));\\n  vec2 tmpvar_16;\\n  tmpvar_16.x = (xlat_mutablers0.x * 2.0);\\n  tmpvar_16.y = (xlat_mutablers0.y + (time / 2.0));\\n  xlat_mutablerss = (tmpvar_16 * mat2(0.7, -0.7, 0.7, 0.7));\\n  vec4 tmpvar_17;\\n  tmpvar_17 = vec4(greaterThanEqual ((texture (sampler_pw_noise_lq, \\n    (xlat_mutablerss / 32.0)\\n  ) - 0.7), vec4(0.0, 0.0, 0.0, 0.0)));\\n  vec2 tmpvar_18;\\n  tmpvar_18 = abs((fract(\\n    (xlat_mutablerss * 8.0)\\n  ) - 0.5));\\n  xlat_mutablerss = tmpvar_18;\\n  dots_5 = (vec3((clamp (\\n    (0.04 / sqrt(dot (tmpvar_15, tmpvar_15)))\\n  , 0.0, 1.0) * tmpvar_14.x)) + (clamp (\\n    (0.04 / sqrt(dot (tmpvar_18, tmpvar_18)))\\n  , 0.0, 1.0) * tmpvar_17.x));\\n  dots_5 = (dots_5 * clamp ((0.04 / \\n    abs((0.01 / xlat_mutablers0.y))\\n  ), 0.0, 1.0));\\n  dots_5 = (dots_5 * (dots_5 * 2.0));\\n  vec2 tmpvar_19;\\n  tmpvar_19.x = -((tmpvar_9.y * -1024.0));\\n  tmpvar_19.y = (tmpvar_9.x * -1024.0);\\n  vec2 tmpvar_20;\\n  tmpvar_20.x = tmpvar_19.x;\\n  tmpvar_20.y = -(tmpvar_19.y);\\n  uv_4 = (vec2(-100.0, 100.0) * (tmpvar_20 / (\\n    (tmpvar_19.x * tmpvar_19.x)\\n   + \\n    (tmpvar_19.y * tmpvar_19.y)\\n  )).yx);\\n  uv_4 = (0.5 + ((\\n    (1.0 - abs(((\\n      fract((mix ((0.5 + \\n        ((tmpvar_7 - 0.5) * 2.0)\\n      ), (uv_4 + 0.5), vec2(0.5, 0.5)) * 0.5))\\n     * 2.0) - 1.0)))\\n   - 0.5) * 0.98));\\n  uv_4 = (((uv_4 - 0.5) * 0.9) + 0.5);\\n  xlat_mutableuv1 = ((uv_4 - tmpvar_3) * aspect.xy);\\n  float tmpvar_21;\\n  tmpvar_21 = min ((1.0 - texture (sampler_main, uv_4).z), (1.0 - (\\n    (texture (sampler_blur2, uv_4).xyz * scale2)\\n   + bias2).z));\\n  vec3 tmpvar_22;\\n  tmpvar_22.xy = ((uv_4 - 0.5) * min ((1.0 - texture (sampler_main, uv_4).z), (1.0 - \\n    ((texture (sampler_blur2, uv_4).xyz * scale2) + bias2)\\n  .z)));\\n  tmpvar_22.z = min ((1.0 - texture (sampler_main, uv_4).z), (1.0 - (\\n    (texture (sampler_blur2, uv_4).xyz * scale2)\\n   + bias2).z));\\n  float tmpvar_23;\\n  tmpvar_23 = clamp ((abs(\\n    ((1.0 - ((texture (sampler_blur2, uv_4).xyz * scale2) + bias2).z) - clamp ((1.0 - (\\n      (texture (sampler_blur2, tmpvar_3).xyz * scale2)\\n     + bias2).z), 0.1, 0.4))\\n  ) + 0.2), 0.0, 1.0);\\n  vec3 tmpvar_24;\\n  tmpvar_24 = mix (texture (sampler_main, uv_4).xyz, ((texture (sampler_blur1, uv_4).xyz * scale1) + bias1), vec3(tmpvar_23));\\n  float tmpvar_25;\\n  tmpvar_25 = clamp (((1.0 - \\n    exp(-(((texture (sampler_blur1, uv_4).xyz * scale1) + bias1).x))\\n  ) - 0.2), 0.0, 1.0);\\n  ret_6 = ((tmpvar_24.x * (0.2 + \\n    ((1.0 - tmpvar_23) * (1.0 - tmpvar_21))\\n  )) * (1.0 + (0.5 * \\n    sin((((tmpvar_22 / q7) * tmpvar_2) + tmpvar_1))\\n  )));\\n  vec3 tmpvar_26;\\n  tmpvar_26.xy = vec2(0.0, 1.0);\\n  tmpvar_26.z = (tmpvar_25 * 3.0);\\n  vec3 tmpvar_27;\\n  tmpvar_27 = mix (ret_6, tmpvar_26, vec3(tmpvar_25));\\n  xlat_mutablelamp = (((\\n    clamp ((1.0 - (4.0 * sqrt(\\n      dot (xlat_mutableuv1, xlat_mutableuv1)\\n    ))), 0.0, 1.0)\\n   * tmpvar_24.x) * clamp (\\n    (1.0 - (2.0 * mix (tmpvar_21, (1.0 - \\n      ((texture (sampler_blur1, uv_4).xyz * scale1) + bias1)\\n    .z), 0.2)))\\n  , 0.0, 1.0)) * 1.8);\\n  ret_6 = (tmpvar_27 + ((1.0 - \\n    dot (tmpvar_27, vec3(0.32, 0.49, 0.29))\\n  ) * xlat_mutablelamp));\\n  ret_6 = (1.0 - exp((-2.0 * ret_6)));\\n  ret_6 = (ret_6 + (dots_5 * (1.0 + ret_6)));\\n  vec4 tmpvar_28;\\n  tmpvar_28.w = 1.0;\\n  tmpvar_28.xyz = ret_6;\\n  ret = tmpvar_28.xyz;\\n }"}') }, "./presets/converted/sawtooth grin roam.json": e => { e.exports = JSON.parse('{"version":2,"baseVals":{"rating":4,"gammaadj":1.49,"decay":0.5,"echo_zoom":1.002,"echo_alpha":0.5,"echo_orient":1,"wave_mode":7,"additivewave":1,"modwavealphabyvolume":1,"wave_brighten":0,"wave_a":0.001,"wave_scale":1.157,"wave_smoothing":0.63,"modwavealphastart":0.71,"modwavealphaend":1.3,"warpscale":16.016,"zoomexp":11.56276,"fshader":1,"zoom":1.05971,"warp":0.13126,"wave_r":0.65,"wave_g":0.65,"wave_b":0.65,"ob_size":0,"ob_a":1,"ib_size":0,"mv_x":64,"mv_y":48,"mv_l":0,"mv_a":0},"shapes":[{"baseVals":{"enabled":1,"sides":14,"num_inst":512,"rad":0.1026,"tex_ang":0.62832,"r2":1,"g2":0,"a2":1,"border_a":0},"init_eqs_eel":"","frame_eqs_eel":"ma=ma+(above(bass,1)*3.1415*.01*bass);\\nma=ma-(above(treb,1)*3.1415*.01*treb);\\n\\nmx=mx+(.0002*cos(ma));\\nmy=my+(.0002*sin(ma));\\n\\nmx=if(above(mx,.9),(.9-mx),mx);\\nmy=if(above(my,.9),(.9-my),my);\\nmx=if(below(mx,.1),(.9+mx),mx);\\nmy=if(below(my,.1),(.9+my),my);\\n\\nx=mx;\\ny=my;\\nrad=(bass+treb)/30;\\na=(above(bass+mid+treb,.8));\\nr=int(rand(100))/100;\\ng=int(rand(100))/100;\\nb=int(rand(100))/100;\\nr2=int(rand(100))/100;\\ng2=int(rand(100))/100;\\nb2=int(rand(100))/100;\\nr_border=int(rand(100))/100;\\ng_border=int(rand(100))/100;\\nb_border=int(rand(100))/100;"},{"baseVals":{"enabled":1,"sides":23,"num_inst":1024,"rad":0.10262,"ang":0.43982,"tex_ang":0.62832,"a":0.5,"r2":1,"g2":0,"a2":0.5,"border_a":0},"init_eqs_eel":"","frame_eqs_eel":"ma=ma+(above(bass,1)*3.1415*.05*bass);\\nma=ma-(above(mid,1)*3.1415*.05*mid);\\n\\nmx=mx+(.0001*cos(ma));\\nmy=my+(.0001*sin(ma));\\n\\nmx=if(above(mx,.9),(.9-mx),mx);\\nmy=if(above(my,.9),(.9-my),my);\\nmx=if(below(mx,.1),(.9+mx),mx);\\nmy=if(below(my,.1),(.9+my),my);\\n\\nx=mx;\\ny=my;\\nrad=(bass+treb)/25;\\na=(above(bass+mid+treb,.1));\\nr=int(rand(100))/100;\\ng=int(rand(100))/100;\\nb=int(rand(100))/100;\\nr2=int(rand(100))/100;\\ng2=int(rand(100))/100;\\nb2=int(rand(100))/100;\\nr_border=int(rand(100))/100;\\ng_border=int(rand(100))/100;\\nb_border=int(rand(100))/100;"},{"baseVals":{"sides":14,"additive":1,"num_inst":256,"rad":0.20269,"tex_ang":0.62832,"r2":1,"g2":0,"a2":1,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"ma=ma+(above(mid,1)*3.1415*.01*mid);\\nma=ma-(above(treb,1)*3.1415*.01*treb);\\n\\nmx=mx+(.0004*cos(ma));\\nmy=my+(.0004*sin(ma));\\n\\nmx=if(above(mx,.9),(.9-mx),mx);\\nmy=if(above(my,.9),(.9-my),my);\\nmx=if(below(mx,.1),(.9+mx),mx);\\nmy=if(below(my,.1),(.9+my),my);\\n\\nx=mx;\\ny=my;\\n\\na=(above(bass+mid+treb,.3));"},{"baseVals":{"sides":14,"additive":1,"num_inst":256,"rad":0.22389,"tex_ang":0.62832,"r2":1,"g2":0,"a2":1,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"ma=ma+(above(bass,.5)*3.1415*.02*bass);\\nma=ma-(above(treb,.5)*3.1415*.02*treb);\\n\\nmx=mx+(.0008*cos(ma));\\nmy=my+(.0008*sin(ma));\\n\\nmx=if(above(mx,.9),(.9-mx),mx);\\nmy=if(above(my,.9),(.9-my),my);\\nmx=if(below(mx,.1),(.9+mx),mx);\\nmy=if(below(my,.1),(.9+my),my);\\n\\nx=mx;\\ny=my;\\n\\na=(above(bass+mid+treb,.2));"}],"waves":[{"baseVals":{"thick":1,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":"ma=ma+(above(bass,1)*3.1415*.01*bass);\\nma=ma-(above(treb,1)*3.1415*.01*treb);\\n\\nmx=mx+(.0002*cos(ma));\\nmy=my+(.0002*sin(ma));\\n\\nmx=if(above(mx,.9),(.9-mx),mx);\\nmy=if(above(my,.9),(.9-my),my);\\nmx=if(below(mx,.1),(.9+mx),mx);\\nmy=if(below(my,.1),(.9+my),my);\\n\\nx=mx;\\ny=my;\\n\\na=(above(bass+mid+treb,.8));"},{"baseVals":{"thick":1,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":"ma=ma+(above(bass,1)*3.1415*.05*bass);\\nma=ma-(above(mid,1)*3.1415*.05*mid);\\n\\nmx=mx+(.0001*cos(ma));\\nmy=my+(.0001*sin(ma));\\n\\nmx=if(above(mx,.9),(.9-mx),mx);\\nmy=if(above(my,.9),(.9-my),my);\\nmx=if(below(mx,.1),(.9+mx),mx);\\nmy=if(below(my,.1),(.9+my),my);\\n\\nx=mx;\\ny=my;\\n\\na=(above(bass+mid+treb,.1));"},{"baseVals":{"thick":1,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":"ma=ma+(above(mid,1)*3.1415*.01*mid);\\nma=ma-(above(treb,1)*3.1415*.01*treb);\\n\\nmx=mx+(.0004*cos(ma));\\nmy=my+(.0004*sin(ma));\\n\\nmx=if(above(mx,.9),(.9-mx),mx);\\nmy=if(above(my,.9),(.9-my),my);\\nmx=if(below(mx,.1),(.9+mx),mx);\\nmy=if(below(my,.1),(.9+my),my);\\n\\nx=mx;\\ny=my;\\n\\na=(above(bass+mid+treb,.3));"},{"baseVals":{"thick":1,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":"ma=ma+(above(bass,.5)*3.1415*.02*bass);\\nma=ma-(above(treb,.5)*3.1415*.02*treb);\\n\\nmx=mx+(.0008*cos(ma));\\nmy=my+(.0008*sin(ma));\\n\\nmx=if(above(mx,.9),(.9-mx),mx);\\nmy=if(above(my,.9),(.9-my),my);\\nmx=if(below(mx,.1),(.9+mx),mx);\\nmy=if(below(my,.1),(.9+my),my);\\n\\nx=mx;\\ny=my;\\n\\na=(above(bass+mid+treb,.2));"}],"init_eqs_eel":"","frame_eqs_eel":"xx1 = xx1*0.9 + (bass)*0.01;\\nxx2 = xx2*0.9 + (treb)*0.01;\\nyy1 = yy1*0.94 + (treb+bass)*0.0075;\\n\\nx1 = 0.5 + (xx1-xx2)*2;\\ny1 = 0.4 + yy1;\\n\\nx1 = max(0,min(1,x1)); y1 = max(0,min(1,y1));\\n\\nspring = 10;\\ngrav = .5;\\nresist = 1;\\nbounce = 0.75;\\ndt = 0.0005*(60/fps);\\n\\nvx2 = vx2*(1-resist*dt) + dt*((x1+x3-2*x2)*spring);\\nvy2 = vy2*(1-resist*dt) + dt*((y1+y3-2*y2)*spring-grav);\\nvx3 = vx3*(1-resist*dt) + dt*((x2+x4-2*x3)*spring);\\nvy3 = vy3*(1-resist*dt) + dt*((y2+y4-2*y3)*spring-grav);\\nvx4 = vx4*(1-resist*dt) + dt*((x3-x4)*spring);\\nvy4 = vy4*(1-resist*dt) + dt*((y3-y4)*spring-grav);\\n\\nx2 = x2 + vx2;\\ny2 = y2 + vy2;\\nx3 = x3 + vx3;\\ny3 = y3 + vy3;\\nx4 = x4 + vx4;\\ny4 = y4 + vy4;\\n\\nvx2 = if(above(x2,0),vx2,abs(vx2)*bounce);\\nvx2 = if(below(x2,1),vx2,-abs(vx2)*bounce);\\nvx3 = if(above(x3,0),vx3,abs(vx3)*bounce);\\nvx3 = if(below(x3,1),vx3,-abs(vx3)*bounce);\\nvx4 = if(above(x4,0),vx4,abs(vx4)*bounce);\\nvx4 = if(below(x4,1),vx4,-abs(vx4)*bounce);\\nvy2 = if(above(y2,0),vy2,abs(vy2)*bounce);\\nvy2 = if(below(y2,1),vy2,-abs(vy2)*bounce);\\nvy3 = if(above(y3,0),vy3,abs(vy3)*bounce);\\nvy3 = if(below(y3,1),vy3,-abs(vy3)*bounce);\\nvy4 = if(above(y4,0),vy4,abs(vy4)*bounce);\\nvy4 = if(below(y4,1),vy4,-abs(vy4)*bounce);\\n\\n\\nq1 = x1; q2 = x2; q3 = x3; q4 = x4;\\nq5 = y1; q6 = y2; q7 = y3; q8 = y4;\\nq9 =1/ aspectX;\\nq10 = 1/aspectY;\\n\\nzoom = 1;\\nr = r*0.96 +(x1-0.5);\\nrot = (r*0.1);\\n\\nq12 = atan2(vx4,vy4);\\nq11 = sqrt(vx4*vx4 + vy4*vy4);\\n\\nzoom = 1.001;\\nrot = 0.00;\\nwarp = 0.2;\\nwave_a = 0;","pixel_eqs_eel":"dir = -q12 + asin(1);\\n\\nb1 = 0.1;\\nm1 = q11*25;\\n\\nxx = q4;\\nyy = 1-q8;\\n\\n\\nx1 = xx  -sin(dir)*b1;\\ny1 = yy  -cos(dir)*b1;\\nx2 = xx  +sin(dir)*b1;\\ny2 = yy  +cos(dir)*b1;\\n\\nd1 = sqrt((x1-x)*(x1-x)+(y1-y)*(y1-y))-b1*2;\\nd2 = sqrt((x2-x)*(x2-x)+(y2-y)*(y2-y))-b1*2;\\n\\nsi1 = sigmoid(-d1,1000);\\nsi2 = sigmoid(-d2,1000);\\n\\ndx = (si1*sin(y1-y)*m1*d1  - si2*sin(y2-y)*m1*d2)*2;\\ndy = (-si1*sin(x1-x)*m1*d1 + si2*sin(x2-x)*m1*d2)*2;","warp":" shader_body { \\n  vec2 tmpvar_1;\\n  tmpvar_1 = mix (uv_orig, uv, vec2(0.3, 0.3));\\n  vec2 tmpvar_2;\\n  tmpvar_2 = (texsize.zw * 3.0);\\n  vec2 tmpvar_3;\\n  tmpvar_3.x = dot (((\\n    (texture (sampler_blur1, (tmpvar_1 + (vec2(1.0, 0.0) * tmpvar_2))).xyz * scale1)\\n   + bias1) - (\\n    (texture (sampler_blur1, (tmpvar_1 - (vec2(1.0, 0.0) * tmpvar_2))).xyz * scale1)\\n   + bias1)), vec3(0.32, 0.49, 0.29));\\n  tmpvar_3.y = dot (((\\n    (texture (sampler_blur1, (tmpvar_1 + (vec2(0.0, 1.0) * tmpvar_2))).xyz * scale1)\\n   + bias1) - (\\n    (texture (sampler_blur1, (tmpvar_1 - (vec2(0.0, 1.0) * tmpvar_2))).xyz * scale1)\\n   + bias1)), vec3(0.32, 0.49, 0.29));\\n  vec4 tmpvar_4;\\n  tmpvar_4.w = 1.0;\\n  tmpvar_4.xyz = (texture (sampler_fc_main, (tmpvar_1 + (\\n    (tmpvar_3 * texsize.zw)\\n   * 9.0))) - 0.01).xyz;\\n  ret = tmpvar_4.xyz;\\n }","comp":" shader_body { \\n  vec2 uv_1;\\n  vec3 ret3_2;\\n  vec3 ret_3;\\n  vec2 tmpvar_4;\\n  tmpvar_4 = (((uv - 0.5) * vec2(-1.0, 1.0)) + 0.5);\\n  vec3 tmpvar_5;\\n  tmpvar_5 = abs(((texture (sampler_main, uv).xyz * \\n    clamp ((((\\n      (texture (sampler_blur2, uv).xyz * scale2)\\n     + bias2) * 2.8) - 0.13), 0.0, 1.0)\\n  ) - (texture (sampler_main, tmpvar_4).xyz * \\n    clamp ((((\\n      (texture (sampler_blur2, tmpvar_4).xyz * scale2)\\n     + bias2) * 2.8) - 0.13), 0.0, 1.0)\\n  )));\\n  ret3_2 = (tmpvar_5 * sqrt(tmpvar_5));\\n  ret3_2 = (ret3_2 * vec3(0.9, 1.6, 2.3));\\n  ret3_2 = (ret3_2 * 3.0);\\n  vec3 tmpvar_6;\\n  tmpvar_6 = pow (ret3_2, (1.0 - ret3_2));\\n  ret3_2 = tmpvar_6;\\n  uv_1 = (uv * 2.0);\\n  vec2 tmpvar_7;\\n  tmpvar_7 = floor((fract(\\n    (uv_1 * 0.5)\\n  ) * 2.0));\\n  uv_1 = ((fract(uv_1) * (1.0 - tmpvar_7)) + (tmpvar_7 * fract(\\n    (1.0 - uv_1)\\n  )));\\n  vec2 tmpvar_8;\\n  tmpvar_8.x = rad;\\n  tmpvar_8.y = uv_1.y;\\n  uv_1 = tmpvar_8;\\n  vec2 tmpvar_9;\\n  tmpvar_9 = ((0.5 - tmpvar_8.yx) + 0.5);\\n  ret_3 = (texture (sampler_main, tmpvar_8.yx).xyz * clamp ((\\n    (((texture (sampler_blur2, tmpvar_8.yx).xyz * scale2) + bias2) * 2.8)\\n   - 0.13), 0.0, 1.0));\\n  vec3 tmpvar_10;\\n  tmpvar_10 = mix (ret_3, (texture (sampler_main, tmpvar_9).xyz * clamp (\\n    ((((texture (sampler_blur2, tmpvar_9).xyz * scale2) + bias2) * 2.8) - 0.13)\\n  , 0.0, 1.0)), vec3(0.5, 0.5, 0.5));\\n  ret_3 = (tmpvar_10 * tmpvar_10);\\n  ret_3 = (ret_3 * vec3(0.9, 1.6, 2.3));\\n  ret_3 = (ret_3 * 3.0);\\n  ret_3 = (max (tmpvar_6, (0.8 * vec3(\\n    (0.5 * dot (ret_3, vec3(0.32, 0.49, 0.29)))\\n  ))) - (roam_sin.xyz * roam_cos.zxy));\\n  vec4 tmpvar_11;\\n  tmpvar_11.w = 1.0;\\n  tmpvar_11.xyz = ret_3;\\n  ret = tmpvar_11.xyz;\\n }"}') }, "./presets/converted/shifter - dark tides bdrv mix 2.json": e => { e.exports = JSON.parse('{"version":2,"baseVals":{"rating":0,"gammaadj":1.35,"decay":1,"echo_zoom":2.144269,"echo_alpha":0.31,"echo_orient":3,"wave_mode":7,"wave_brighten":0,"wrap":0,"wave_a":4.1,"wave_scale":5.552,"wave_smoothing":0.504,"modwavealphastart":0.71,"modwavealphaend":1.3,"warpscale":1.331,"zoom":0.999514,"cx":-1,"warp":0.72142,"sy":0.980296,"wave_g":0,"wave_b":0,"ob_size":0.5,"ob_r":1,"ib_size":0.5,"ib_r":1,"ib_g":0,"ib_b":0,"mv_x":64,"mv_y":48,"mv_l":0.85,"mv_r":0.5,"mv_g":0.5,"mv_b":0.5,"mv_a":0},"shapes":[{"baseVals":{"sides":100,"textured":1,"y":0.9,"rad":0.15493,"tex_zoom":0.77977,"g":1,"b":1,"r2":1,"b2":1,"a2":1,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"enabled":1,"sides":5,"textured":1,"rad":0.98608,"tex_ang":3.14159,"tex_zoom":0.999794,"g":1,"b":1,"r2":1,"b2":1,"a2":1,"border_a":0},"init_eqs_eel":"","frame_eqs_eel":"ang =sin(time/65) ;// ang + (bass*.2) + (time*.4);"},{"baseVals":{"sides":100,"textured":1,"x":0.9,"g":1,"b":1,"r2":1,"b2":1,"a2":1,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"x = sin(time) * .4 + .5;\\n\\n"},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""}],"waves":[{"baseVals":{"spectrum":1,"usedots":1,"additive":1,"scaling":0.5033,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""}],"init_eqs_eel":"","frame_eqs_eel":"bl = 3.8;\\nul = 7.9;\\nrate = 11.9;\\ncha = .01;\\n\\ngv = if(above(gv,bl),  if(below(gv,ul),  if(above(fps,rate),gv + cha,gv - cha),  ul-.1),bl+.1);\\n\\n\\n\\nmonitor = gv;\\n\\nwave_a = 0;\\n\\ntic = min(time - tin,1);\\ntin = time;\\n\\nra = 10;\\n\\n\\ntreb_avg = tic*(treb_avg*(1/tic - ra) + ra*treb);\\nmid_avg = tic*(mid_avg*(1/tic - ra) + ra*mid);\\nbass_avg = tic*(bass_avg*(1/tic - ra) + ra*bass);\\n\\nrb = 1;\\nvav = tic*(vav*(1/tic - rb) + rb*(bass+treb+mid)*.33333);\\nq1 = treb_avg;\\nq2 = mid_avg;\\nq3 = bass_avg;\\n\\ndb = bass - bass_avg;\\n\\nit = (it + tic)*below(it,1);\\n\\nrb = .5*(1/tic);\\nbvb = tic*(bass*rb + (1/tic-rb)*bvb);\\nbd = bass - bvb;\\n\\nvm = vm - tic + swi;\\nswi = above(bd - vm,0);\\n\\nq4 = 1-swi;\\n\\ncm = if(above(iter,30) + equal(time,0),rand(3) + 1,cm);\\niter = (iter + tic)*(1-above(iter,30));\\nq5 = if(equal(cm,0),3,cm);\\n\\ncma = if(above(itar,5) + equal(time,0),int(vav*5),cma);\\nitar = (itar + tic)*(1-above(itar,5));\\n\\nq6 = int(vav*5);\\n\\n\\ndecay=0.97;\\nzoom=1.01;\\nsx=1;sy=1;","pixel_eqs_eel":"warp = bass;","warp":" shader_body { \\n  vec3 ret_1;\\n  ret_1 = ((texture (sampler_main, uv_orig).xyz * vec3(0.97, 1.0, 0.97)) - vec3(0.03, 0.0, 0.03));\\n  vec4 tmpvar_2;\\n  tmpvar_2 = texture (sampler_blur1, uv_orig);\\n  ret_1.z = (ret_1.z + ((\\n    (tmpvar_2.xyz * scale1)\\n   + bias1).z * 0.45));\\n  ret_1.x = (ret_1.x + ((\\n    ((tmpvar_2.xyz * scale1) + bias1)\\n  .z * 0.05) + (\\n    ((texture (sampler_blur3, uv_orig).xyz * scale3) + bias3)\\n  .z * 0.05)));\\n  ret_1.z = (ret_1.z - ret_1.x);\\n  ret_1.y = clamp (texture (sampler_pw_main, uv_orig).y, 0.0, 1.0);\\n  ret_1 = (ret_1 * 0.98);\\n  vec4 tmpvar_3;\\n  tmpvar_3.w = 1.0;\\n  tmpvar_3.xyz = ret_1;\\n  ret = tmpvar_3.xyz;\\n }","comp":" shader_body { \\n  vec3 ret_1;\\n  vec3 tmpvar_2;\\n  tmpvar_2.z = 0.0;\\n  tmpvar_2.xy = texsize.zw;\\n  vec3 tmpvar_3;\\n  tmpvar_3 = (tmpvar_2 * 2.5);\\n  ret_1 = (texture (sampler_main, uv).xyz * 0.5);\\n  ret_1 = (ret_1 + (vec3(3.4, 2.38, 1.02) * (\\n    dot (((texture (sampler_blur1, (uv + tmpvar_3.xz)).xyz * scale1) + bias1), vec3(0.32, 0.49, 0.29))\\n   - \\n    dot (((texture (sampler_blur1, (uv - tmpvar_3.xz)).xyz * scale1) + bias1), vec3(0.32, 0.49, 0.29))\\n  )));\\n  ret_1 = (ret_1 + (vec3(0.68, 1.7, 2.38) * (\\n    dot (((texture (sampler_blur1, (uv + tmpvar_3.zy)).xyz * scale1) + bias1), vec3(0.32, 0.49, 0.29))\\n   - \\n    dot (((texture (sampler_blur1, (uv - tmpvar_3.zy)).xyz * scale1) + bias1), vec3(0.32, 0.49, 0.29))\\n  )));\\n  ret_1 = (ret_1 * 1.5);\\n  vec4 tmpvar_4;\\n  tmpvar_4.w = 1.0;\\n  tmpvar_4.xyz = ret_1;\\n  ret = tmpvar_4.xyz;\\n }"}') }, "./presets/converted/shifter - escape (sigur ros).json": e => { e.exports = JSON.parse('{"version":2,"baseVals":{"rating":1,"gammaadj":1,"decay":1,"echo_zoom":1,"echo_alpha":0.5,"wave_mode":7,"wave_brighten":0,"wave_a":0.005,"wave_scale":0.167,"wave_smoothing":0,"modwavealphastart":1,"modwavealphaend":1,"warpscale":0.107,"zoomexp":4.10046,"warp":0.01,"wave_x":0.95,"wave_y":1,"ob_size":0.005,"ob_r":1,"ob_g":1,"ob_b":1,"ib_size":0,"ib_r":1,"ib_g":1,"ib_b":1,"mv_x":64,"mv_y":48,"mv_l":0,"mv_b":0,"mv_a":0,"b1ed":0},"shapes":[{"baseVals":{"sides":34,"thickoutline":1,"textured":1,"x":0.75,"rad":0.30478,"tex_ang":1.5708,"tex_zoom":0.82773,"b":1,"r2":1,"b2":1,"border_a":0,"enabled":0},"init_eqs_eel":"vx = 0;\\nvy = 0;","frame_eqs_eel":"rad = .3;\\ntex_zoom = .28;\\ntex_zoom = 1/rad*tex_zoom;\\n\\nx = .5 + sin(time*.957)*.1;"},{"baseVals":{"sides":74,"thickoutline":1,"textured":1,"x":0.25,"rad":0.45378,"tex_zoom":0.5033,"g":1,"b":1,"b2":1,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"rad = .3;\\ntex_zoom = .3;\\ntex_zoom = 1/rad*tex_zoom;\\n\\nx = .5 + sin(time)*.15;"},{"baseVals":{"enabled":1,"sides":84,"additive":1,"thickoutline":1,"num_inst":3,"rad":0.01,"tex_zoom":0.5033,"r":0,"b":0.2,"a":0.6,"g2":0,"border_a":0},"init_eqs_eel":"vx = 0;\\nvy = 0;","frame_eqs_eel":"ti = q2 + instance*2.45;\\n\\nx = .5 + (.26*sin(ti*.95) + .14*sin(ti*2.80))*1.3;\\n//y = .5 + (.26*cos(ti*1.05) + .14*cos(ti*2.13))*.5;\\ny = .5;\\n\\nym = (q3 + instance*1.33)*.5;\\nym = ym-int(ym);\\n\\ny = y + (ym-.5)*2;\\n\\nrad = bass*bass*.25;\\nrad = q1*(.3+max(0,y)*.5);"},{"baseVals":{"sides":74,"additive":1,"rad":0.16777,"r2":1,"g2":0,"a2":1,"border_b":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"ti = -time*.3;\\nx = .5 + .3*sin(ti);\\ny = .5 + .3*cos(ti);\\n\\nti = -time*2.3;\\nx = x + .2*sin(ti);\\ny = y + .2*cos(ti);"}],"waves":[{"baseVals":{"enabled":1,"samples":41,"usedots":1,"additive":1,"scaling":0.01,"smoothing":0,"g":0},"init_eqs_eel":"t8 = 1;\\nt1 = q5;","frame_eqs_eel":"","point_eqs_eel":"x = rand(1001)*.001;\\ny = rand(1001)*.001;\\n\\n//r = rand(1001)*.001;\\ng=above(rand(1001)*.001,.9)*.5;\\nb = 0;\\nr = 0;\\n"},{"baseVals":{"samples":61,"additive":1,"scaling":0.0124,"smoothing":0,"b":0,"enabled":0},"init_eqs_eel":"t8 = 1;\\nt1 = q5;","frame_eqs_eel":"","point_eqs_eel":"x = (sample-.5)*.02 + .2;\\ny = .5;\\nr = 1;\\ng = 1;\\nb = 1;"},{"baseVals":{"samples":31,"usedots":1,"thick":1,"scaling":0.01303,"smoothing":0,"enabled":0},"init_eqs_eel":"t8 = 1;\\nt1 = q5;","frame_eqs_eel":"t1 = q5;\\nt2 = q4;\\nt3 = q6;","point_eqs_eel":"t8 = -t8;\\nd1 = 0.15 + t8*0.01 - value1*0.1*(t8+1);\\ndir1 = t2;\\ndir2 = t2*0.5 + t1*3/2 - t3*3;\\ndir3 = sample*asin(1)*4 + t3 - t2*5/6 + t1*3/2;\\n\\nx = 0.5 + sin(dir1)*0.1 + sin(dir2)*0.05 + sin(dir3)*d1;\\ny = 0.5 + cos(dir1)*0.1 + cos(dir2)*0.05 + cos(dir3)*d1;\\ny = (y-0.5)*1.2 + 0.5;"},{"baseVals":{"samples":511,"sep":4,"thick":1,"additive":1,"scaling":0.02345,"smoothing":0,"a":0.99,"enabled":0},"init_eqs_eel":"t2 = 0;\\nt3 = 0;\\nt4 = 0;\\nab = 1;","frame_eqs_eel":"t1 = q4*0.75;\\nt2 = q5*0.75;\\nt3 = q6*0.75;\\nt4 = q4*0.75;\\nt5 = q5*0.75;\\nt6 = q6*0.75;\\nt8 = 1;","point_eqs_eel":"\\npi = asin(1);\\nn = 80;\\nt8 = -t8;\\nrd = 0.075+0.02*(t8+1)/2;\\nxx = sin(sample*pi*4)*0.5 + cos(sample*pi*n)*rd*sin(sample*pi*4);\\nyy = cos(sample*pi*4)*0.5 + cos(sample*pi*n)*rd*cos(sample*pi*4);\\nzz = sin(sample*pi*n)*rd;\\n\\nd = sqrt( xx*xx + yy*yy + zz*zz)*0.004;\\nd1 = 1;\\nxx = xx*d1;\\nyy = yy*d1;\\nzz = zz*d1;\\n\\n\\n\\n\\nw1 = d*t4;\\nw2 = d*t5;\\nw3 = d*t6;\\n\\ns1 = sin(t1*1+w1);\\ns2 = sin(t2*1+w2);\\ns3 = sin(t3*1+w3);\\nc1 = cos(t1*1+w1);\\nc2 = cos(t2*1+w2);\\nc3 = cos(t3*1+w3);\\n\\nz = (c3*s1*c2 + s3*s2)*xx - (c3*s1*s2-s3*c2)*yy + c3*c1*zz;\\nx1 = (c1*c2*xx + c1*s2*yy - s1*zz);\\ny1 = ((s3*s1*c2 - c3*s2)*xx + (s3*s1*s2+c3*c2)*yy + s3*c1*zz);\\n\\na = 0.5;\\nzoom = 0.5*atan2(a,a+z);//0.5*(1/(z+a));\\nx = 0.5 + zoom*x1;\\ny = 0.5 + zoom*y1;\\n\\npi3 = 3.1415*2*0.3333;\\nt = -z*2 - time*0.8;//sample*pi*4-0*time +t4*3;\\nc=2;\\nr = sin(t)*c;\\n\\ng = sin(t+pi3)*c;\\n\\nb = sin(t-pi3)*c;\\n\\nj = 0.71;\\n//r = 0.5+xx*j;\\n//g = 0.5+yy*j;\\n//b = 0.5+zz*j;\\n\\nr = if(above(r,1),1,r);\\nr = if(below(r,0),0,r);\\ng = if(above(g,1),1,g);\\ng = if(below(g,0),0,g);\\nb = if(above(b,1),1,b);\\nb = if(below(b,0),0,b);\\n\\na = sigmoid(-z,7)+0.;\\n"}],"init_eqs_eel":"","frame_eqs_eel":"zoom = 1;\\ndecay = 1;\\nwarp = 0;\\nwave_a = 0;\\n\\ntic = min(time-tin,.1);\\ntin = time;\\n\\ntb = tb + tic*bass*bass*.1 + tic*.2;\\nq2 = tb;\\n\\nt2 = t2 + tic*bass*bass*.2 + tic*.1;\\nq3 = t2;\\n\\nbav = bav + (bass-bav)*tic*.01;\\n\\nq1 = bass-bav;\\nq1 = pow(q1,2);\\nq1 = bass*bass;\\nq1 = q1*.5;\\n\\nmonitor = bass - bav;","pixel_eqs_eel":"","warp":" shader_body { \\n  vec3 ret_1;\\n  ret_1 = clamp (((texture (sampler_pw_main, uv_orig).xyz * vec3(1.0, 1.0, 0.97)) - vec3(0.0, 0.0, 0.001)), 0.0, 1.0);\\n  vec4 tmpvar_2;\\n  tmpvar_2 = texture (sampler_pw_main, (uv_orig + ((\\n    (texture (sampler_noise_hq, fract(((\\n      ((uv_orig * texsize.xy) * texsize_noise_lq.zw)\\n     + rand_frame.xy) * 8.0))).xy - 0.5)\\n   * 6.0) * texsize.zw)));\\n  vec3 tmpvar_3;\\n  tmpvar_3 = tmpvar_2.xyz;\\n  float tmpvar_4;\\n  vec2 x_5;\\n  x_5 = (ret_1.xy - uv_orig);\\n  tmpvar_4 = sqrt(dot (x_5, x_5));\\n  float tmpvar_6;\\n  vec2 x_7;\\n  x_7 = (tmpvar_2.xy - uv_orig);\\n  tmpvar_6 = sqrt(dot (x_7, x_7));\\n  if ((tmpvar_4 > tmpvar_6)) {\\n    ret_1.xy = tmpvar_3.xy;\\n    ret_1.z = tmpvar_3.z;\\n  };\\n  ret_1.xy = (ret_1.xy * pow (ret_1.z, 0.01));\\n  vec4 tmpvar_8;\\n  tmpvar_8.w = 1.0;\\n  tmpvar_8.xyz = ret_1;\\n  ret = tmpvar_8.xyz;\\n }","comp":" shader_body { \\n  vec3 tmpvar_1;\\n  tmpvar_1 = texture (sampler_main, uv).zzz;\\n  vec4 tmpvar_2;\\n  tmpvar_2.w = 1.0;\\n  tmpvar_2.xyz = ((pow (\\n    mix (vec3((((texture (sampler_blur1, uv).xyz * scale1) + bias1).z + ((texture (sampler_blur3, uv).xyz * scale3) + bias3).z)), tmpvar_1, tmpvar_1)\\n  , vec3(8.0, 2.0, 0.8)) * 1.25) - 0.25);\\n  ret = tmpvar_2.xyz;\\n }"}') }, "./presets/converted/shifter - liquid circuitry - conjugoth.json": e => { e.exports = JSON.parse('{"version":2,"baseVals":{"rating":2,"gammaadj":1,"decay":1,"echo_zoom":1,"echo_alpha":0.5,"wave_mode":2,"wave_brighten":0,"wave_a":1,"wave_scale":0,"wave_smoothing":0.9,"wave_mystery":0.173,"warpscale":0.107,"zoomexp":4.10046,"warp":0.01,"wave_g":0,"wave_b":0,"wave_x":0.448,"wave_y":0.122,"ob_size":0.005,"ob_r":1,"ob_g":1,"ob_b":1,"ib_size":0,"ib_r":1,"ib_g":1,"ib_b":1,"mv_x":1,"mv_y":1,"mv_dx":0.087,"mv_dy":0.343,"mv_l":1.663,"mv_r":0.89,"mv_g":0.03,"mv_b":0.881,"mv_a":0.199,"b1ed":0},"shapes":[{"baseVals":{"enabled":1,"thickoutline":1,"textured":1,"rad":1.32775,"tex_zoom":0.57959,"g":1,"b":1,"r2":1,"b2":1,"a2":1,"border_a":0},"init_eqs_eel":"","frame_eqs_eel":"border_r = border_r + 1.5*sin(q2*1.13);\\nborder_b = border_b + 0.5*sin(q2*1.23);\\nborder_g = border_g + 0.5*sin(q2*1.33);\\n//ang = 0.503 + (bass_att * 0.04);\\nmy_ang = my_ang + (0.005 + (0.001 * bass));\\nang = my_ang;"},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""}],"waves":[{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""}],"init_eqs_eel":"","frame_eqs_eel":"//begin beat code\\nvolume = 0.3*(bass+mid);\\nbeatrate = equal(beatrate,0) + (1-equal(beatrate,0))*(below(volume,0.01) + (1-below(volume,0.01))*beatrate);\\nlastbeat = lastbeat + equal(lastbeat,0)*time;\\nmeanbass_att = 0.05*(meanbass_att*19 + bass_att);\\npeakbass_att = max(bass_att,peakbass_att);\\nbeat = above(volume,0.8)*below(peakbass_att - bass_att, 0.05*peakbass_att)*above(time - lastbeat, 0.1 + 0.5*(beatrate - 0.1));\\nbeatrate = max(if(beat,if(below(time-lastbeat,2*beatrate),0.1*(beatrate*9 + time - lastbeat),beatrate),beatrate),0.1);\\n//Adjust responsiveness: To increase responsiveness, set the \\"0.96 and \\"0.996\\" on the next line to slightly lower values. Higher values decrease responsiveness.\\npeakbass_att = beat*bass_att + (1-beat)*peakbass_att*(above(time - lastbeat, 2*beatrate)*0.96 + (1-above(time - lastbeat, 2*beatrate))*0.996);\\nlastbeat = beat*time + (1-beat)*lastbeat;\\npeakbass_att = max(peakbass_att,1.1*meanbass_att);\\n//end beat code\\n\\nzoom = 1;\\ndecay = 1;\\nwarp = 0;\\nwave_a = 0;\\n\\ntic = min(time-tin,.1);\\ntin = time;\\n\\nq2 = 1;\\n\\nq1=1;\\nvol = vol + ((alt + bass + mid)/3-vol)*tic*1;\\nq5 = vol*vol*vol*2;\\n\\n\\nq8 = sin(time)*.5;\\nq9 = sin(time*.75)*.5;\\n\\nsw = abs(sw - beat);\\nan = an + tic*.5*(1-2*sw);\\n\\n\\nq7 = 1+(pow(q8,2) + pow(q9,2))*1;\\nq10 = sin(an);\\nq11 = cos(an);\\n\\nsp = sp + tic*vol*vol*.5;\\n\\nq12 = sp;\\n\\nmonitor = q12;\\nvol2=bass+treb+mid;\\nmtime=mtime+vol2;\\nq1=3-sin(mtime*.01)*.1;","pixel_eqs_eel":"//zoom = pow(rad,2)+.01;","warp":" shader_body { \\n  vec3 ret_1;\\n  vec3 tmpvar_2;\\n  tmpvar_2 = (texture (sampler_noise_lq, ((\\n    ((texsize.xy * texsize_noise_lq.zw).x * uv)\\n   / 2.0) + q23)) + 1.0).xyz;\\n  vec3 tmpvar_3;\\n  tmpvar_3 = (((texture (sampler_blur1, uv).xyz * scale1) + bias1) - 0.3);\\n  vec2 tmpvar_4;\\n  tmpvar_4.x = (0.3 * tmpvar_3.x);\\n  tmpvar_4.y = tmpvar_3.y;\\n  ret_1 = ((-0.4 * (\\n    ((texture (sampler_blur1, ((uv / 4.0) + (0.4 * tmpvar_4))).xyz * scale1) + bias1)\\n   - \\n    (tmpvar_2 * 0.1)\\n  )) + (texture (sampler_main, (uv + \\n    (tmpvar_3 * 0.01)\\n  .xy)).xyz + (tmpvar_2 * 0.1)));\\n  float tmpvar_5;\\n  tmpvar_5 = (1.0 - ((0.01 * q28) * (q28 * rad)));\\n  ret_1 = (ret_1 * (0.98 * (tmpvar_5 * tmpvar_5)));\\n  ret_1 = (ret_1 - 0.04);\\n  vec4 tmpvar_6;\\n  tmpvar_6.w = 1.0;\\n  tmpvar_6.xyz = ret_1;\\n  ret = tmpvar_6.xyz;\\n }","comp":" shader_body { \\n  vec2 uv3_1;\\n  vec2 uvm_2;\\n  vec3 ret_3;\\n  uvm_2 = (((\\n    ((uv - 0.5) * q7)\\n   * \\n    (1.0/((((1.0 - \\n      (rad * 0.1)\\n    ) + (q9 * \\n      (uv.x - 0.5)\\n    )) + (q8 * (uv.y - 0.5)))))\\n  ) + 0.5) - 0.5);\\n  uvm_2 = (((\\n    (q10 * uvm_2)\\n   + \\n    ((vec2(1.0, -1.0) * q11) * uvm_2.yx)\\n  ) * aspect.yw) + 0.5);\\n  uvm_2 = (abs((\\n    fract(((uvm_2 + q12) * 0.5))\\n   - 0.5)) * 2.0);\\n  uv3_1 = (((texture (sampler_main, uvm_2).zx - 0.37) * 0.13) + uvm_2);\\n  vec3 tmpvar_4;\\n  tmpvar_4.x = (roam_cos.x * 0.3);\\n  tmpvar_4.y = (roam_cos.z * 0.2);\\n  tmpvar_4.z = (roam_sin.y * 0.4);\\n  ret_3 = (texture (sampler_pw_main, uvm_2).yzx + tmpvar_4);\\n  ret_3 = (pow (mix (vec3(\\n    ((((texture (sampler_blur1, uv3_1).xyz * scale1) + bias1).x + ((texture (sampler_blur3, uv3_1).xyz * scale3) + bias3).z) + (0.1 * roam_cos.y))\\n  ), ret_3, ret_3), vec3(0.3, 2.0, 1.0)) - 0.25);\\n  ret_3 = (ret_3 * ((texture (sampler_blur3, uv3_1).xyz * scale3) + bias3).y);\\n  vec4 tmpvar_5;\\n  tmpvar_5.w = 1.0;\\n  tmpvar_5.xyz = ret_3;\\n  ret = tmpvar_5.xyz;\\n }"}') }, "./presets/converted/suksma - Hexcollie - Julian Carnival - shimmy dumb grid.json": e => { e.exports = JSON.parse('{"version":2,"baseVals":{"rating":1,"gammaadj":1,"decay":0.5,"echo_zoom":1.007,"echo_orient":3,"wave_mode":7,"wave_a":0.001,"wave_scale":0.64,"wave_smoothing":0.27,"warpanimspeed":0.01,"warpscale":0.01,"zoom":9.86086,"warp":0.01,"wave_r":0.5,"wave_g":0.5,"wave_b":0.5,"wave_y":0.96,"ob_size":0.015,"ob_r":0.84,"ob_g":0.7,"ob_b":1,"ob_a":0.18,"ib_size":0.5,"ib_r":0.98,"ib_g":0.27,"ib_b":0.24,"mv_x":64,"mv_y":48,"mv_l":0,"mv_a":0},"shapes":[{"baseVals":{"enabled":1,"sides":32,"rad":0.2,"b":0.4,"a":0.5,"a2":0.2,"border_a":0},"init_eqs_eel":"","frame_eqs_eel":"ang = time*0.4;;\\nx = 0.5 + 0.3*cos(time*1.23) + 0.03*cos(time*0.7);\\ny = 0.5 + 0.3*sin(time*1.43) + 0.03*sin(time*0.7);\\nr =0.5 + 0.5*sin(q8*0.613 + 1);\\ng = 0.5 + 0.5*sin(q8*0.763 + 2);\\nb = 0.5 + 0.5*sin(q8*0.771 + 5);\\nr2 = 0.5 + 0.5*sin(q8*0.635 + 4);\\ng2 = 0.5 + 0.5*sin(q8*0.616+ 1);\\nb2 = 0.5 + 0.5*sin(q8*0.538 + 3);"},{"baseVals":{"enabled":1,"sides":32,"rad":0.2,"a":0.5,"a2":0.2},"init_eqs_eel":"","frame_eqs_eel":"ang = time*0.4;;\\nx = 0.5 + 0.3*cos(time*1.104) + 0.03*cos(time*0.7);\\ny = 0.5 + 0.3*sin(time*1.27) + 0.03*sin(time*0.7);\\nr =0.5 + 0.5*sin(q8*0.613 + 1);\\ng = 0.5 + 0.5*sin(q8*0.763 + 2);\\nb = 0.5 + 0.5*sin(q8*0.771 + 5);\\nr2 = 0.5 + 0.5*sin(q8*0.635 + 4);\\ng2 = 0.5 + 0.5*sin(q8*0.616+ 1);\\nb2 = 0.5 + 0.5*sin(q8*0.538 + 3);"},{"baseVals":{"enabled":1,"rad":0.2,"a":0.5,"a2":0.2},"init_eqs_eel":"","frame_eqs_eel":"ang = time*0.4;;\\nx = 0.5 + 0.3*cos(time*1.23) + 0.03*cos(time*0.9);\\ny = 0.5 + 0.3*sin(time*1.18) + 0.03*sin(time*0.9);\\nr =0.5 + 0.5*sin(q8*0.413 + 1);\\ng = 0.5 + 0.5*sin(q8*0.363 + 2);\\nb = 0.5 + 0.5*sin(q8*0.871 + 5);\\nr2 = 0.5 + 0.5*sin(q8*0.835 + 4);\\ng2 = 0.5 + 0.5*sin(q8*0.686+ 1);\\nb2 = 0.5 + 0.5*sin(q8*0.938 + 3);\\nsides = 360;"},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""}],"waves":[{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""}],"init_eqs_eel":"mv_x=64;mv_y=48;\\nnut=0;\\nstp=0;stq=0;\\nrtp=0;rtq=0;\\nwvr=0;\\ndecay=0;\\ndcsp=0","frame_eqs_eel":"//per frame less reactive volume for all unused q vars, put before other q vars are set for cop out mashing\\nvb = vb*0.95 + (1-vb)*pow(bass_att*treb_att*mid_att,2)*0.02;\\nvvb = vvb*0.95 + (1-vvb)*vb*0.01;\\nvm = vm*0.95 + (1-vm)*pow(mid_att,2)*0.02;\\nvvm = vvm*0.95 + (1-vvm)*vm*0.01;\\nvt = vt*0.95 + (1-vt)*pow(treb_att,2)*0.02;\\nvvt = vvt*0.95 + (1-vvt)*vt*0.01;\\nvvb = min(1,max(0,vvb));\\nvvm = min(1,max(0,vvm));\\nvvt = min(1,max(0,vvt));\\nq1 = vvb*2;//0.5 + vb - vvb;\\nq2 = vvm*2;//0.5 + vm - vvm;\\nq3 = vvt*2;//0.5 + vt - vvt;\\nv=2;\\nbb = bb - vvb*v;\\nmm = mm - vvm*v;\\ntt = tt - vvt*v;\\nq4 = -bb;\\nq5 = -mm;\\nq6 = -tt;\\nq4=(q1+q2+q3)*5;\\nq5=(q1+q2+q3)*5;\\nq6=(q1+q2+q3)*5;\\nq7=(q1+q2+q3)*1;\\nq8=(q1+q2+q3)*5;\\nq9=(q1+q2+q3)*5;\\nq10=(q1+q2+q3)*5;\\nq11=(q1+q2+q3)*5;\\nq12=(q1+q2+q3)*5;\\nq13=(q1+q2+q3)*5;\\nq14=(q1+q2+q3)*5;\\nq15=(q1+q2+q3)*5;\\nq16=(q1+q2+q3)*5;\\nq17=(q1+q2+q3)*5;\\nq18=(q1+q2+q3)*5;\\nq19=(q1+q2+q3)*5;\\nq20=(q1+q2+q3)*5;\\nq21=(q1+q2+q3)*5;\\nq22=(q1+q2+q3)*5;\\nq23=(q1+q2+q3)*5;\\nq24=(q1+q2+q3)*5;\\nq25=(q1+q2+q3)*5;\\nq26=(q1+q2+q3)*5;\\nq27=(q1+q2+q3)*5;\\nq28=(q1+q2+q3)*5;\\nq29=(q1+q2+q3)*5;\\nq30=(q1+q2+q3)*5;\\nq31=(q1+q2+q3)*5;\\nq32=(q1+q2+q3)*5;\\n\\necho_orient=1 + above(sin(time/2), 0 );\\nwrap=above(sin(time/1), 0 );\\nwarp=0.0;\\nzoom=1.00 + sin(time/1)/30;\\nmv_x=sin(time/10)*12 + 52;\\nmv_y=cos(time/10)*8 + 40;\\nsparkadv=sparkadv-0.03 + below(sparkadv, 1);\\ngamma=1 + bass*bass_att","pixel_eqs_eel":"","warp":" shader_body { \\n  float conway_1;\\n  vec3 ret_2;\\n  vec2 tmpvar_3;\\n  tmpvar_3.x = (((\\n    ((texture (sampler_blur2, (uv + vec2(0.02, 0.0))).xyz * scale2) + bias2)\\n   - \\n    ((texture (sampler_blur2, (uv - vec2(0.02, 0.0))).xyz * scale2) + bias2)\\n  ).y * 1280.0) * texsize.z);\\n  tmpvar_3.y = (((\\n    ((texture (sampler_blur2, (uv + vec2(0.0, 0.02))).xyz * scale2) + bias2)\\n   - \\n    ((texture (sampler_blur2, (uv - vec2(0.0, 0.02))).xyz * scale2) + bias2)\\n  ).y * 1024.0) * texsize.w);\\n  ret_2.y = texture (sampler_pc_main, (uv - (tmpvar_3 * 0.004))).y;\\n  ret_2.y = (ret_2.y + ((\\n    ((ret_2.y - ((texture (sampler_blur1, uv).xyz * scale1) + bias1).y) - 0.1)\\n   * 0.1) + 0.02));\\n  vec2 tmpvar_4;\\n  tmpvar_4 = (vec2(0.0, 1.0) * texsize.zw);\\n  ret_2.z = (texture (sampler_fc_main, (uv - tmpvar_4)).z - 0.004);\\n  conway_1 = (texture (sampler_pw_main, (uv_orig - texsize.zw)).x + texture (sampler_pw_main, (uv_orig + (vec2(0.0, -1.0) * texsize.zw))).x);\\n  conway_1 = (conway_1 + texture (sampler_pw_main, (uv_orig + (vec2(1.0, -1.0) * texsize.zw))).x);\\n  conway_1 = (conway_1 + texture (sampler_pw_main, (uv_orig + (vec2(-1.0, 0.0) * texsize.zw))).x);\\n  conway_1 = (conway_1 + texture (sampler_pw_main, (uv_orig + (vec2(1.0, 0.0) * texsize.zw))).x);\\n  conway_1 = (conway_1 + texture (sampler_pw_main, (uv_orig + (vec2(-1.0, 1.0) * texsize.zw))).x);\\n  conway_1 = (conway_1 + texture (sampler_pw_main, (uv_orig + tmpvar_4)).x);\\n  conway_1 = (conway_1 + texture (sampler_pw_main, (uv_orig + texsize.zw)).x);\\n  conway_1 = (conway_1 - fract(conway_1));\\n  float tmpvar_5;\\n  tmpvar_5 = clamp (texture (sampler_pc_main, uv_orig).x, 0.0, 1.0);\\n  ret_2.x = (clamp ((1.0 - \\n    abs((conway_1 - 3.0))\\n  ), 0.0, 1.0) * (1.0 - tmpvar_5));\\n  ret_2.x = (ret_2.x + (clamp (\\n    max ((1.0 - abs((conway_1 - 2.0))), (1.0 - abs((conway_1 - 3.0))))\\n  , 0.0, 1.0) * tmpvar_5));\\n  vec4 tmpvar_6;\\n  tmpvar_6.w = 1.0;\\n  tmpvar_6.xyz = ret_2;\\n  ret = tmpvar_6.xyz;\\n }","comp":" shader_body { \\n  vec2 moebius_1;\\n  vec3 ret_2;\\n  vec2 tmpvar_3;\\n  tmpvar_3.x = q11;\\n  tmpvar_3.y = q12;\\n  vec2 tmpvar_4;\\n  tmpvar_4.x = q17;\\n  tmpvar_4.y = q18;\\n  vec2 tmpvar_5;\\n  vec2 tmpvar_6;\\n  tmpvar_6 = (uv - 0.5);\\n  tmpvar_5 = (tmpvar_6 * aspect.xy);\\n  vec2 tmpvar_7;\\n  tmpvar_7.x = ((tmpvar_5.x * q15) - (tmpvar_5.y * q16));\\n  tmpvar_7.y = ((tmpvar_5.x * q16) - (tmpvar_5.y * q15));\\n  vec2 tmpvar_8;\\n  tmpvar_8 = (tmpvar_7 + tmpvar_4);\\n  vec2 tmpvar_9;\\n  tmpvar_9.x = ((q13 * tmpvar_8.x) + (q14 * tmpvar_8.y));\\n  tmpvar_9.y = ((q14 * tmpvar_8.x) - (q13 * tmpvar_8.y));\\n  moebius_1 = (((tmpvar_9 / \\n    ((tmpvar_8.x * tmpvar_8.x) + (tmpvar_8.y * tmpvar_8.y))\\n  ) + tmpvar_3) * 0.5);\\n  float tmpvar_10;\\n  tmpvar_10 = sqrt(dot (moebius_1, moebius_1));\\n  moebius_1 = (0.5 + ((\\n    (1.0 - abs(((\\n      fract((moebius_1 * 0.5))\\n     * 2.0) - 1.0)))\\n   - 0.5) * 0.95));\\n  vec2 tmpvar_11;\\n  tmpvar_11 = (0.5 + (tmpvar_6 * 0.2));\\n  ret_2 = (texture (sampler_main, tmpvar_11).z * vec3(0.4, 0.0, 0.7));\\n  ret_2 = (mix (ret_2, vec3(0.0, 1.0, 1.0), vec3(clamp (texture (sampler_fc_main, moebius_1).y, 0.0, 1.0))) * (1.4 - pow (\\n    (tmpvar_10 * 0.8)\\n  , 0.3)));\\n  ret_2 = (mix (mix (\\n    mix (ret_2, vec3(4.0, 1.0, 0.0), vec3(((clamp (\\n      (texture (sampler_fc_main, tmpvar_11).y - texture (sampler_pc_main, tmpvar_11).y)\\n    , 0.0, 1.0) * 4.0) * (tmpvar_10 * tmpvar_10))))\\n  , vec3(-4.0, -4.0, -4.0), texture (sampler_main, tmpvar_11).xxx), vec3(2.0, 2.0, 2.0), vec3((texture (sampler_pc_main, tmpvar_11).x * 0.75))) - (roam_sin.zyx * roam_cos.ywx));\\n  vec4 tmpvar_12;\\n  tmpvar_12.w = 1.0;\\n  tmpvar_12.xyz = ret_2;\\n  ret = tmpvar_12.xyz;\\n }"}') }, "./presets/converted/suksma - Rovastar - Sunflower Passion (Enlightment Mix)_Phat_edit + flexi und martin shaders - circumflex in character classes in regular expression.json": e => { e.exports = JSON.parse('{"version":2,"baseVals":{"rating":4,"gammaadj":1.98,"echo_zoom":2.448,"echo_alpha":0.5,"wave_thick":1,"wrap":0,"wave_a":3.645,"wave_scale":1.951,"wave_smoothing":0.5,"wave_mystery":-0.5,"warpscale":2.853,"zoomexp":2.1,"zoom":1.025,"warp":1.29077,"wave_g":0,"wave_b":0,"ob_size":0,"ob_a":1,"ib_size":0,"ib_r":0,"ib_g":0,"ib_b":0,"mv_x":64,"mv_y":48,"mv_l":0,"mv_b":0,"mv_a":0},"shapes":[{"baseVals":{"enabled":1,"sides":100,"rad":0.13518,"g2":0,"a2":1,"border_r":0,"border_g":0,"border_b":0,"border_a":1},"init_eqs_eel":"","frame_eqs_eel":"x = 0.3 + 0.05*sin(0.89*q8);\\ny = 0.4 - 0.05*cos(0.77*q8);\\n\\nr = 0.25+0.25*sin(time*0.7679);\\ng = 0.25+0.25*sin(time*0.8079);\\nb = 0.25+0.25*sin(time*0.7339);\\nr2 = 0.25+0.25*sin(time*0.6979);\\ng2 = 0.25+0.25*sin(time*0.849);\\nb2 = 0.25+0.25*sin(time*0.8079);"},{"baseVals":{"enabled":1,"sides":100,"rad":0.06623,"g2":0,"a2":1,"border_r":0,"border_g":0,"border_b":0,"border_a":1},"init_eqs_eel":"","frame_eqs_eel":"x = 0.3 - 0.05*sin(0.7089*q8);\\ny = 0.4 + 0.05*cos(0.5077*q8);\\n\\nr = 0.25+0.25*sin(time*0.6479);\\ng = 0.25+0.25*sin(time*0.5079);\\nb = 0.25+0.25*sin(time*0.9339);\\nr2 = 0.25+0.25*sin(time*0.779);\\ng2 = 0.25+0.25*sin(time*0.707);\\nb2 = 0.25+0.25*sin(time*0.747);"},{"baseVals":{"enabled":1,"sides":100,"rad":0.03646,"g2":0,"a2":1,"border_r":0,"border_g":0,"border_b":0,"border_a":1},"init_eqs_eel":"","frame_eqs_eel":"x = 0.3 + 0.05*sin(0.679*q8);\\ny = 0.4 - 0.05*cos(0.877*q8);\\n\\nr = 0.25+0.25*sin(time*0.5679);\\ng = 0.25+0.25*sin(time*0.4079);\\nb = 0.25+0.25*sin(time*1.1339);\\nr2 = 0.25+0.25*sin(time*0.9979);\\ng2 = 0.25+0.25*sin(time*0.891);\\nb2 = 0.25+0.25*sin(time*0.713);"},{"baseVals":{"enabled":1,"sides":100,"rad":0.0122,"g2":0,"a2":1,"border_r":0,"border_g":0,"border_b":0,"border_a":1},"init_eqs_eel":"","frame_eqs_eel":"x = 0.3 + 0.05*sin(0.916*q8);\\ny = 0.4 - 0.05*cos(0.977*q8);\\n\\nr = 0.25+0.25*sin(time*1.1679);\\ng = 0.25+0.25*sin(time*1.18079);\\nb = 0.25+0.25*sin(time*1.17339);\\nr2 = 0.25+0.25*sin(time*1.16979);\\ng2 = 0.25+0.25*sin(time*1.1849);\\nb2 = 0.25+0.25*sin(time*1.81079);"}],"waves":[{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""}],"init_eqs_eel":"","frame_eqs_eel":"//per frame less reactive volume for all unused q vars, put before other q vars are set for cop out mashing\\nvb = vb*0.95 + (1-vb)*pow(bass_att,2)*0.02;\\nvvb = vvb*0.95 + (1-vvb)*vb*0.01;\\nvm = vm*0.95 + (1-vm)*pow(mid_att,2)*0.02;\\nvvm = vvm*0.95 + (1-vvm)*vm*0.01;\\nvt = vt*0.95 + (1-vt)*pow(treb_att,2)*0.02;\\nvvt = vvt*0.95 + (1-vvt)*vt*0.01;\\nvvb = min(1,max(0,vvb));\\nvvm = min(1,max(0,vvm));\\nvvt = min(1,max(0,vvt));\\nq1 = vvb*2;//0.5 + vb - vvb;\\nq2 = vvm*2;//0.5 + vm - vvm;\\nq3 = vvt*2;//0.5 + vt - vvt;\\nq4=(q1+q2+q3)*5;\\nq5=(q1+q2+q3)*5;\\nq6=(q1+q2+q3)*5;\\nq7=(q1+q2+q3)*5;\\nq8=(q1+q2+q3)*5;\\nq9=(q1+q2+q3)*5;\\nq10=(q1+q2+q3)*5;\\nq11=(q1+q2+q3)*5;\\nq12=(q1+q2+q3)*5;\\nq13=(q1+q2+q3)*5;\\nq14=(q1+q2+q3)*5;\\nq15=(q1+q2+q3)*5;\\nq16=(q1+q2+q3)*5;\\nq17=(q1+q2+q3)*5;\\nq18=(q1+q2+q3)*5;\\nq19=(q1+q2+q3)*5;\\nq20=(q1+q2+q3)*5;\\nq21=(q1+q2+q3)*5;\\nq22=(q1+q2+q3)*5;\\nq23=(q1+q2+q3)*5;\\nq24=(q1+q2+q3)*5;\\nq25=(q1+q2+q3)*5;\\nq26=(q1+q2+q3)*5;\\nq27=(q1+q2+q3)*5;\\nq28=(q1+q2+q3)*5;\\nq29=(q1+q2+q3)*5;\\nq30=(q1+q2+q3)*5;\\nq31=(q1+q2+q3)*5;\\nq32=(q1+q2+q3)*5;\\n\\n//wave_r = 0.0 + 0.000*( 0.60*sin(0.933*time) + 0.40*sin(1.045*time) );\\n//wave_g = 0.0 + 0.000*( 0.60*sin(0.900*time) + 0.40*sin(0.956*time) );\\n//wave_b = 0.0 + 0.000*( 0.60*sin(0.910*time) + 0.40*sin(0.920*time) );\\n//zoom = zoom + 0.01*( 0.60*sin(0.339*time) + 0.40*sin(0.276*time) );\\n//rot = rot + 0.010*( 0.60*sin(0.381*time) + 0.40*sin(0.579*time) );\\n//decay = decay - 0.01*equal(frame%6,0);\\nwarp=0;\\n//zoom =1;\\nrot =0;\\ncx=0.5;\\ncy=0.5;\\nq1 = 0.5 + 0.1*sin(time);\\nq2 = 0.5 - 0.1*cos(time);\\nwave_a =0;\\ndecay=.95;\\nq1=0.5 +0.1*sin(q8);\\nq2=0.5;\\n\\n\\nq8 = oldq8+ 0.003*(pow(1+1.2*bass+0.4*bass_att+0.1*treb+0.1*treb_att+0.1*mid+0.1*mid_att,6)/fps);\\noldq8 =q8;\\nmybass  = mybass + 0.01*(bass + bass_att);\\n\\n//rot =1 + 0.15*sin(mybass*0.1789);\\n//zoom = 1.6 + 0.1*sin(mybass*0.786);\\nzoom = 1.09;\\n//rot =0.12;\\n//cx = 0.4;\\n//cy = 0.4;\\nq1=0.5 +0.00*sin(0.12*q8);\\nq2=0.5 -0.00*cos(0.177*q8);","pixel_eqs_eel":"myx = (x-q1)*1.1;\\nmyy= (y-q2)*1.1;\\nmyrad = (myx*myx) + (myy*myy);\\ndx = (0.5+0.02*sin(q8))*(myy/(myrad+1));\\ndy = -(0.5+0.02*sin(q8*0.897))*(myx/(myrad+1));\\nrd=bass*rad;\\nrot=rd/10;\\n\\nsy=1.02+(rad/10);\\nsx=sy-myrad;","warp":" shader_body { \\n  vec2 tmpvar_1;\\n  tmpvar_1 = ((uv_orig - 0.5) * vec2(1.81, 1.81));\\n  vec2 tmpvar_2;\\n  tmpvar_2.x = ((tmpvar_1.x * tmpvar_1.x) - (tmpvar_1.y * tmpvar_1.y));\\n  tmpvar_2.y = ((2.0 * tmpvar_1.x) * tmpvar_1.y);\\n  vec4 tmpvar_3;\\n  tmpvar_3.w = 1.0;\\n  tmpvar_3.xyz = (texture (sampler_fc_main, (tmpvar_2 + vec2(0.448, 0.701))) - 0.004).xyz;\\n  ret = tmpvar_3.xyz;\\n }","comp":"vec3 xlat_mutableneu;\\nvec3 xlat_mutableret1;\\n shader_body { \\n  vec2 uv_1;\\n  float inten_2;\\n  float dist_3;\\n  vec2 uv2_4;\\n  uv_1 = (uv - 0.5);\\n  uv_1 = (uv_1 * aspect.xy);\\n  float tmpvar_5;\\n  tmpvar_5 = (time / 2.0);\\n  dist_3 = (1.0 - fract(tmpvar_5));\\n  inten_2 = ((sqrt(dist_3) * (1.0 - dist_3)) * 8.0);\\n  vec2 tmpvar_6;\\n  tmpvar_6.x = q1;\\n  tmpvar_6.y = q2;\\n  vec2 tmpvar_7;\\n  tmpvar_7 = fract(((\\n    ((3.0 * uv_1) * dist_3)\\n   + 0.5) + (tmpvar_6 * 0.05)));\\n  xlat_mutableneu = (texture (sampler_main, tmpvar_7).xyz - ((texture (sampler_blur1, \\n    (tmpvar_7 + 0.003)\\n  ).xyz * scale1) + bias1));\\n  xlat_mutableret1 = max (vec3(0.0, 0.0, 0.0), (xlat_mutableneu * inten_2));\\n  uv2_4.x = ((uv_1.x * -0.4990803) - (uv_1.y * 0.8665558));\\n  uv2_4.y = ((uv_1.x * 0.8665558) + (uv_1.y * -0.4990803));\\n  dist_3 = (1.0 - fract((0.3333333 + tmpvar_5)));\\n  inten_2 = ((sqrt(dist_3) * (1.0 - dist_3)) * 8.0);\\n  vec2 tmpvar_8;\\n  tmpvar_8.x = q1;\\n  tmpvar_8.y = q2;\\n  vec2 tmpvar_9;\\n  tmpvar_9 = fract(((\\n    ((3.0 * uv2_4) * dist_3)\\n   + 0.5) + (tmpvar_8 * 0.05)));\\n  xlat_mutableneu = (texture (sampler_main, tmpvar_9).xyz - ((texture (sampler_blur1, \\n    (tmpvar_9 + 0.003)\\n  ).xyz * scale1) + bias1));\\n  xlat_mutableret1 = max (xlat_mutableret1, (xlat_mutableneu * inten_2));\\n  uv2_4.x = ((uv_1.x * -0.5018377) - (uv_1.y * -0.8649619));\\n  uv2_4.y = ((uv_1.x * -0.8649619) + (uv_1.y * -0.5018377));\\n  dist_3 = (1.0 - fract((0.6666667 + tmpvar_5)));\\n  inten_2 = ((sqrt(dist_3) * (1.0 - dist_3)) * 8.0);\\n  vec2 tmpvar_10;\\n  tmpvar_10.x = q1;\\n  tmpvar_10.y = q2;\\n  vec2 tmpvar_11;\\n  tmpvar_11 = fract(((\\n    ((3.0 * uv2_4) * dist_3)\\n   + 0.5) + (tmpvar_10 * 0.05)));\\n  xlat_mutableneu = (texture (sampler_main, tmpvar_11).xyz - ((texture (sampler_blur1, \\n    (tmpvar_11 + 0.003)\\n  ).xyz * scale1) + bias1));\\n  xlat_mutableret1 = max (xlat_mutableret1, (xlat_mutableneu * inten_2));\\n  uv2_4.x = ((uv_1.x * 0.9999949) - (uv_1.y * -0.003185092));\\n  uv2_4.y = ((uv_1.x * -0.003185092) + (uv_1.y * 0.9999949));\\n  dist_3 = (1.0 - fract((1.0 + tmpvar_5)));\\n  inten_2 = ((sqrt(dist_3) * (1.0 - dist_3)) * 8.0);\\n  vec2 tmpvar_12;\\n  tmpvar_12.x = q1;\\n  tmpvar_12.y = q2;\\n  vec2 tmpvar_13;\\n  tmpvar_13 = fract(((\\n    ((3.0 * uv2_4) * dist_3)\\n   + 0.5) + (tmpvar_12 * 0.05)));\\n  xlat_mutableneu = (texture (sampler_main, tmpvar_13).xyz - ((texture (sampler_blur1, \\n    (tmpvar_13 + 0.003)\\n  ).xyz * scale1) + bias1));\\n  xlat_mutableret1 = max (xlat_mutableret1, (xlat_mutableneu * inten_2));\\n  vec4 tmpvar_14;\\n  tmpvar_14.w = 1.0;\\n  tmpvar_14.xyz = (xlat_mutableret1 * 4.0);\\n  ret = tmpvar_14.xyz;\\n }"}') }, "./presets/converted/suksma - ed geining hateops - squeakers.json": e => { e.exports = JSON.parse('{"version":2,"baseVals":{"rating":5,"gammaadj":1.7,"decay":1,"echo_zoom":2.221,"echo_alpha":0.6,"wave_mode":3,"additivewave":1,"wave_thick":1,"darken":1,"wave_a":0.001,"wave_scale":0.625,"wave_smoothing":0.9,"modwavealphastart":0.88,"modwavealphaend":1.98,"warpanimspeed":0.01,"warpscale":0.01,"fshader":1,"dx":0.005,"warp":0.01,"sx":0.9999,"sy":1.0018,"wave_r":0,"wave_g":0,"wave_b":0,"ob_size":0,"ob_g":0.8,"ob_b":0.7,"ib_size":0.005,"ib_r":0,"ib_g":0,"ib_b":0.3,"mv_x":0,"mv_y":0,"mv_l":1,"mv_r":0.39,"mv_g":0.44,"mv_b":0.9},"shapes":[{"baseVals":{"sides":16,"thickoutline":1,"textured":1,"rad":0.97235,"ang":0.1884,"tex_ang":0.62832,"tex_zoom":0.77829,"g":1,"b":1,"a":0.9,"r2":1,"b2":1,"a2":0.5,"border_r":0.59,"border_g":0.81,"border_b":0.69,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"//DMT=1-below((bass_att+mid_att+treb_att)/3,0.7);\\n//a=DMT;\\n//a2=.5*DMT;\\n//border_a=0.4*DMT;\\n//atime=atime+(above( sin(time),0 )*0.02 );\\n//ang=0.188+((sin(atime/5)*0.5+0.5)*2.39);\\n//x=(sin(atime*0.3)*0.07)+0.5;\\n//y=(cos(atime*0.1)*0.07)+0.5;\\n//rad=((bass+mid+treb)/6)*1.4+0.2;\\n//sides=bass*16"},{"baseVals":{"enabled":1,"sides":5,"thickoutline":1,"rad":0.4149,"tex_ang":0.25133,"tex_zoom":1.136,"r":0.36,"g2":0,"b2":0.2,"border_r":0,"border_g":0,"border_b":0,"border_a":0},"init_eqs_eel":"","frame_eqs_eel":"\\nadv=adv+(bass*bass)/15;\\n\\nr=int(rand(10))*0.1*0.5+0.5;\\ng=r;\\nb=r;\\n\\nx=int(rand(100))*0.01*0.5 + 0.25;\\ny=int(rand(100))*0.01*0.5 + 0.25;\\nrad=int(rand(100))*0.01*0.4+0.1;\\nang=rad"},{"baseVals":{"sides":24,"textured":1,"x":0.2,"y":0.8,"rad":0.59958,"tex_ang":1.25664,"tex_zoom":0.49831,"g":1,"b":1,"r2":1,"b2":1,"a2":1,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"textured":1,"x":0.86,"y":0.2,"rad":0.80814,"tex_zoom":0.45112,"g":1,"b":1,"r2":1,"b2":0.9,"a2":1,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""}],"waves":[{"baseVals":{"sep":256,"thick":1,"additive":1,"scaling":100,"smoothing":0.9,"r":0,"g":0.7,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":"x=cos(time)*0.1;\\ny=sin(time)*0.1"},{"baseVals":{"scaling":81.95444,"smoothing":1,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"wave_x=1;","point_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""}],"init_eqs_eel":"mv_x=64;mv_y=48;\\nnut=0;\\nstp=0;stq=0;\\nrtp=0;rtq=0;\\nwvr=0;\\ndecay=0;\\ndcsp=0","frame_eqs_eel":"chng=sin(time*.5);\\ncthr=.9999;\\nmq21=if(above(chng,cthr),rand(3),mq21);\\nmq22=if(above(chng,cthr),rand(3),mq22);\\nmq23=if(above(chng,cthr),rand(3),mq23);\\nmq24=if(above(chng,cthr),rand(2),mq24);\\nmq25=if(above(chng,cthr),rand(2),mq25);\\nmq26=if(above(chng,cthr),rand(2),mq26);\\nmq27=if(above(chng,cthr),rand(1),mq27);\\nmq28=if(above(chng,cthr),rand(1),mq28);\\nmq29=if(above(chng,cthr),rand(1)*.3,mq29);\\nmq31=if(above(chng,cthr),rand(1)*.3,mq31);\\nmonitor=chng;\\nq21=mq21;q22=mq22;q23=mq23;q24=mq24;q25=mq25;q26=mq26;\\nq27=mq27;q28=mq28;q29=mq29;q31=mq31;\\n\\nmonitor=mq1;\\nvol=bass+treb+mid;\\natime=atime+vol;\\nq11=.4+sin(atime*.006        )*.4;\\nq12=.4+cos(atime*.00613828348)*.4;\\nq13=.4+sin(atime*.00598593455)*.4;\\nmonitor=q13;\\n\\ndecay=1.0;\\nzoom=1.009;\\ndx=0;dy=0;sx=1.000001;sy=0.999999;\\n\\nmv_r=.360+(((cos(time/5)*0.3)+0.5*0.5)*0.1);\\nmv_g=.390+(((sin(time/7)*0.3)+0.5*0.5)*0.1);\\nmv_b=.500+((sin((time/7)+0.9)+0.5*0.5)*0.1);\\n\\n\\ncx=-1;cy=2;rot=-treb*0.002;\\n\\ncx=sin(time*0.1)*1.5 + 0.5;\\ncy=cos(time*0.2)*1.5 + 0.5","pixel_eqs_eel":"//adv=min( (bass*bass*bass), 1);\\n//warp=1*((( atan(time/3) *0.5+0.5)*3)* (x*rad)*2 )+( (y*ang)*2 )*rad;\\n//warp=warp*adv;\\n\\n//dx=cos(y)*0.005*(rad+2)*treb ;\\n//dy=sin(x)*0.005*(rad+2)*treb\\n\\n//Do people that don\'t do drugs make shit like this??\\n//flexi per vertex\\ncx1 = 0.5+sin(time*0.618)*0.2;\\ncy1 = 0.5+cos(time*1.618)*0.2;\\ndir = bass;\\nd = sqrt((x-cx1)*(x-cx1)+(y-cy1)*(y-cy1));\\nx1 = if( above(d,0.3),0,  sin(y-cy1)*0.05*dir);\\ny1 = if( above(d,0.3),0, -sin(x-cx1)*0.05*dir);\\ncx1 = 0.5+sin(time*2.618)*0.3;\\ncy1 = 0.5+cos(time*3.14)*0.3;\\ndir = -mid*2;\\nd = sqrt((x-cx1)*(x-cx1)+(y-cy1)*(y-cy1));\\nx2 = if( above(d,0.2),0,  sin(y-cy1)*0.05*dir);\\ny2 = if( above(d,0.2),0, -sin(x-cx1)*0.05*dir);\\ncx1 = 0.5+sin(-time*2.618)*0.4;\\ncy1 = 0.5+cos(-time*1.14)*0.4;\\ndir = treb*3;\\nd = sqrt((x-cx1)*(x-cx1)+(y-cy1)*(y-cy1));\\nx3 = if( above(d,0.1),0,  sin(y-cy1)*0.05*dir);\\ny3 = if( above(d,0.1),0, -sin(x-cx1)*0.05*dir);\\ndx = dx+x1+x2+x3;\\ndy = dy+y1+y2+y3;","warp":" shader_body { \\n  vec2 uv_1;\\n  vec3 ret_2;\\n  vec2 tmpvar_3;\\n  tmpvar_3 = (((uv_orig * texsize.xy) * (texsize_noise_lq.zw * 1.5)) + rand_frame.xy);\\n  uv_1 = (mix (uv_orig, uv, vec2((\\n    (dot (texture (sampler_main, mix (uv_orig, uv, vec2(4.0, 4.0))).xyz, vec3(0.32, 0.49, 0.29)) - dot (((texture (sampler_blur1, \\n      mix (uv_orig, uv, vec2(-8.0, -8.0))\\n    ).xyz * scale1) + bias1), vec3(0.32, 0.49, 0.29)))\\n   * 8.0))) + ((\\n    (texture (sampler_noise_lq, tmpvar_3) - 0.5)\\n  .xy * texsize.zw) * 0.3));\\n  ret_2 = ((texture (sampler_main, uv_1).xyz + (\\n    (texture (sampler_noise_lq, tmpvar_3) - 0.5)\\n   * 0.004).xyz) + -0.001);\\n  vec4 tmpvar_4;\\n  tmpvar_4 = texture (sampler_noisevol_hq, (((vec3(0.05, 0.05, 0.0) * uv_1.xyy) * (\\n    (q27 * texsize.xyy)\\n   * texsize_noisevol_hq.zww)) + ((time * vec3(0.0, 0.0, 1.0)) * q29)));\\n  if (((ret_2.x > (q21 * q13)) && (ret_2.x <= (q24 * q11)))) {\\n    ret_2.y = (ret_2.y + (tmpvar_4.x * 0.5));\\n  };\\n  if (((ret_2.y > (q22 * q11)) && (ret_2.y <= (q25 * q12)))) {\\n    ret_2.z = (ret_2.z + (tmpvar_4.y * 0.5));\\n  };\\n  if (((ret_2.z > (q23 * q12)) && (ret_2.z <= (q26 * q13)))) {\\n    ret_2.x = (ret_2.x + (tmpvar_4.z * 0.5));\\n  };\\n  ret_2 = (ret_2 - ((roam_sin.xyz * slow_roam_cos.wzy) * 0.5));\\n  vec4 tmpvar_5;\\n  tmpvar_5.w = 1.0;\\n  tmpvar_5.xyz = ret_2;\\n  ret = tmpvar_5.xyz;\\n }","comp":" shader_body { \\n  vec2 dz_1;\\n  vec3 dy_2;\\n  vec3 dx_3;\\n  vec2 d_4;\\n  vec3 ret_5;\\n  vec2 tmpvar_6;\\n  vec2 tmpvar_7;\\n  tmpvar_7 = (vec2(1.0, 0.0) * texsize.zw);\\n  tmpvar_6.x = (texture (sampler_main, (uv + tmpvar_7)).xyz - texture (sampler_main, (uv - tmpvar_7)).xyz).y;\\n  vec2 tmpvar_8;\\n  tmpvar_8 = (vec2(0.0, 1.0) * texsize.zw);\\n  tmpvar_6.y = (texture (sampler_main, (uv + tmpvar_8)).xyz - texture (sampler_main, (uv - tmpvar_8)).xyz).y;\\n  d_4 = (texsize.zw * 2.0);\\n  dx_3 = (((2.0 * \\n    ((texture (sampler_blur1, (uv + (vec2(1.0, 0.0) * d_4))).xyz * scale1) + bias1)\\n  ) - (2.0 * \\n    ((texture (sampler_blur1, (uv - (vec2(1.0, 0.0) * d_4))).xyz * scale1) + bias1)\\n  )) * 0.5);\\n  dy_2 = (((2.0 * \\n    ((texture (sampler_blur1, (uv + (vec2(0.0, 1.0) * d_4))).xyz * scale1) + bias1)\\n  ) - (2.0 * \\n    ((texture (sampler_blur1, (uv - (vec2(0.0, 1.0) * d_4))).xyz * scale1) + bias1)\\n  )) * 0.5);\\n  vec2 tmpvar_9;\\n  tmpvar_9.x = dx_3.y;\\n  tmpvar_9.y = dy_2.y;\\n  dz_1 = ((tmpvar_6 * 3.0) + tmpvar_9);\\n  ret_5 = (vec3(((\\n    pow ((sqrt(dot (dz_1, dz_1)) * 0.8), 0.7)\\n   * 2.0) + (\\n    ((texture (sampler_blur1, uv).xyz * scale1) + bias1)\\n  .y * 2.0))) * vec3(0.2, 0.3, 0.6));\\n  vec2 tmpvar_10;\\n  tmpvar_10.x = q19;\\n  tmpvar_10.y = q20;\\n  vec2 tmpvar_11;\\n  tmpvar_11 = fract(((0.5 + \\n    (uv - 0.5)\\n  ) + (tmpvar_10 * vec2(-1.0, 1.0))));\\n  vec2 tmpvar_12;\\n  tmpvar_12.x = dx_3.y;\\n  tmpvar_12.y = dy_2.y;\\n  vec3 tmpvar_13;\\n  tmpvar_13 = ((mix (ret_5, vec3(3.0, 2.0, 1.0), \\n    ((texture (sampler_blur3, (tmpvar_11 - tmpvar_12)).xyz * scale3) + bias3)\\n  .xxx) * (vec3(1.0, 1.0, 1.0) - \\n    ((texture (sampler_blur2, (tmpvar_11 - dz_1)).xyz * scale2) + bias2)\\n  .xxx)) * (vec3(1.0, 1.0, 1.0) - vec3((0.75 * texture (sampler_main, tmpvar_11).x))));\\n  ret_5 = tmpvar_13;\\n  vec4 tmpvar_14;\\n  tmpvar_14 = texture (sampler_noisevol_hq, (((vec3(0.05, 0.05, 0.0) * dz_1.xyy) * (\\n    (q28 * texsize.xyy)\\n   * texsize_noisevol_hq.zww)) + ((time * vec3(0.0, 0.0, 1.0)) * q31)));\\n  if (((tmpvar_13.x > (q26 * q13)) && (tmpvar_13.x <= (q23 * q11)))) {\\n    ret_5.z = (tmpvar_13.z - (tmpvar_14.x * 0.5));\\n  };\\n  if (((tmpvar_13.y > (q25 * q11)) && (tmpvar_13.y <= (q22 * q12)))) {\\n    ret_5.x = (tmpvar_13.x - (tmpvar_14.y * 0.5));\\n  };\\n  if (((ret_5.z > (q24 * q12)) && (ret_5.z <= (q21 * q13)))) {\\n    ret_5.y = (tmpvar_13.y - (tmpvar_14.z * 0.5));\\n  };\\n  vec3 tmpvar_15;\\n  tmpvar_15 = mix ((ret_5 * (vec3(1.0, 1.0, 1.0) - vec3(\\n    (((texture (sampler_blur1, uv).xyz * scale1) + bias1).z * 4.0)\\n  ))), vec3(2.0, 2.0, 2.0), texture (sampler_main, uv).zzz);\\n  ret_5 = tmpvar_15;\\n  vec4 tmpvar_16;\\n  tmpvar_16.w = 1.0;\\n  tmpvar_16.xyz = tmpvar_15;\\n  ret = tmpvar_16.xyz;\\n }"}') }, "./presets/converted/suksma - heretical crosscut playpen.json": e => { e.exports = JSON.parse('{"version":2,"baseVals":{"rating":5,"gammaadj":2.05,"decay":0.99,"echo_zoom":1.008,"echo_alpha":0.5,"echo_orient":1,"wave_thick":1,"wave_brighten":0,"darken":1,"wave_a":0.625,"wave_scale":1.187,"wave_smoothing":0,"modwavealphastart":0.71,"modwavealphaend":1.3,"warpanimspeed":1.459,"warpscale":2.007,"fshader":0.19,"zoom":0.9999,"warp":0.01,"sx":0.9999,"wave_r":0.5,"wave_g":0.5,"wave_b":0.5,"ob_r":1,"ob_g":1,"ob_b":1,"ib_size":0.26,"mv_x":64,"mv_y":48,"mv_l":0.85,"mv_r":0.5,"mv_g":0.5,"mv_b":0.5,"mv_a":0.5},"shapes":[{"baseVals":{"enabled":1,"sides":9,"thickoutline":1,"textured":1,"rad":0.12566,"ang":3.39292,"tex_ang":0.3768,"tex_zoom":0.32473,"g":1,"b":1,"r2":1,"b2":1,"a2":1,"border_r":0.03,"border_g":0.67,"border_b":0.79,"border_a":1},"init_eqs_eel":"","frame_eqs_eel":"x=x+sin(time*0.9)*.13;\\ny=y+sin(time*0.5)*.16;\\nborder_r = q1;\\nborder_b = q2;\\nborder_g = q3;"},{"baseVals":{"enabled":1,"sides":3,"thickoutline":1,"rad":0.12572,"a2":1,"border_g":0,"border_b":0,"border_a":1},"init_eqs_eel":"","frame_eqs_eel":"//: Aderrasi was here too\\nrad = rad -0.2 + 0.2*bass_att;;\\nr = r + 0.25*sin(1.1*time) + 0.2*sin(0.25*time);\\ng = g + 0.25*cos(1.5*time) + 0.22*cos(0.24*time);\\nb = b + 0.25*sin(0.6*time) + 0.27*cos(0.7*time);\\nr2 = 1-abs(r);\\ng2 = 1-abs(g);\\nb2 = 1-abs(b);\\nang = ang + 3*abs(tan(1*time));\\nx = x + 0.14*cos(time) + 0.2*sin(0.42*time);\\ny = y + 0.16*sin(1.2*time) + 0.15*sin(0.8*time) + 0.21*cos(0.45*time);\\nborder_r = q1;\\nborder_b = q2;\\nborder_g = q3;"},{"baseVals":{"enabled":1,"ang":0.03,"r":0.21,"g":0.44,"b":0.23,"r2":0.18,"b2":0.11,"a2":1,"border_r":0.15,"border_g":0.4,"border_b":0.48,"border_a":1},"init_eqs_eel":"","frame_eqs_eel":"ang = time*2.4;\\nx = 0.5 + 0.22*cos(time*3.3) + 0.14*cos(time*1.2);\\ny = 0.5 + 0.26*sin(time*3.1) + 0.13*sin(time*1.7);\\nr = 0.5 + 0.5*sin(time*1.013 + 5);\\ng = 0.5 + 0.5*sin(time*1.063 + 2);\\nb = 0.5 + 0.5*sin(time*1.054 + 1);\\nr2 = 0.5 + 0.5*sin(time*1.085 + 3);\\ng2 = 0.5 + 0.5*sin(time*1.056+ 1);\\nb2 = 0.5 + 0.5*sin(time*1.038 + 4);\\nborder_r = q1;\\nborder_b = q2;\\nborder_g = q3;"},{"baseVals":{"enabled":1,"sides":5,"x":0.51,"y":0.49,"rad":0.09986,"ang":0.06283,"a2":1,"border_r":0.46,"border_g":0.28,"border_b":0.54,"border_a":1},"init_eqs_eel":"","frame_eqs_eel":"x = 0.5 + 0.07*cos(q4*0.5) + 0.31*sin(time*3.5);\\ny = 0.5 + 0.07*sin(q4*0.5) + 0.31*cos(time*3.5);\\nr = 0.5 + 0.5*sin(time*1.013 + 2);\\ng = 0.5 + 0.5*sin(time*0.863 + 3);\\nb = 0.5 + 0.5*sin(time*1.054 + 1);\\nr2 = 0.5 + 0.5*sin(time*1.185 + 3);\\ng2 = 0.5 + 0.5*sin(time*1.356+ 2);\\nb2 = 0.5 + 0.5*sin(time*0.738 + 4);\\nborder_r = q1;\\nborder_b = q2;\\nborder_g = q3;"}],"waves":[{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""}],"init_eqs_eel":"vol = 0; p1 = 0;\\nvx = .2; vy = -0.1;\\nkx = 0; ky = 0;","frame_eqs_eel":"dec_med = pow (0.96, 30/fps);\\ndec_slow = pow (0.999, 30/fps);\\nbeat = max (max (bass, mid), treb); \\navg = avg*dec_slow + beat*(1-dec_slow);\\nis_beat = above(beat, .5+avg+peak) * above (time, t0+.2);\\nt0 = is_beat*time + (1-is_beat)*t0;\\npeak = is_beat * beat + (1-is_beat)*peak*dec_med;\\nindex = (index + is_beat) %8;\\nindex2 = (index2 + is_beat*bnot(index))%2;\\nindex3 = (index3 + is_beat*bnot(index) * bnot(index2))%2;\\n\\nq20 = avg;\\nq21 = beat;\\nq22 = peak;\\nq23 = index;\\nq24 = is_beat;\\n\\nvol = bass_att + treb_att;\\nv2 = v2 * dec_med + vol * (1-dec_med) ;\\nq26 = max(atan (vol - v2),0);\\nq27 = index + 1;\\n\\nsw = sw*dec_med + (1-dec_med)*(index2%2);\\nq28 = sw;\\nkiss = kiss*dec_med \\n      +(1-dec_med)*bnot(index2)*below(index,4);\\nq29 = kiss;\\n\\nk1 =  is_beat*bnot(index);\\nk2 =  is_beat*bnot(index);\\np1 =  k1*(p1+1) + (1-k1)*p1;\\np2 = dec_med * p2+ (1-dec_med)*p1;\\nrott = p2 * 3.1416/2;\\nmonitor = k1;\\nq1 = cos(rott);\\nq2 = sin(rott);\\nq3 = -q2;\\nq4 = q1;\\n\\n\\nq5 = cos(time/4);\\nq6 = -sin(time/4);\\nq7 = -q6;\\nq8 = q5;\\n\\nzoom = 1;\\nrot = -0;\\n\\n\\n//KUGEL-POS\\ndt = .1*30/fps;\\nm = 1; //Masse\\n//Gravitationszentrum\\nx0 = .0; y0 = 0;\\n\\nax = -(xk-x0)/m + sign(vx+.001)*dt*bass/40; \\nay = -(yk-y0)/m + sign(vy+.001)*dt*treb/40;\\nmonitor = index3;\\nvx = vx*dec_slow + ax * dt; \\nvy = vy*dec_slow + ay * dt;\\n\\nxk = xk + vx*dt; \\nyk = yk + vy*dt;\\n\\nq9 = xk; q10 = yk;","pixel_eqs_eel":"","warp":" shader_body { \\n  vec2 tmpvar_1;\\n  tmpvar_1 = ((uv * texsize.xy) * 0.08);\\n  vec3 tmpvar_2;\\n  tmpvar_2 = (texture (sampler_main, (uv - (\\n    ((sin(tmpvar_1) / cos(tmpvar_1)) * texsize.zw)\\n   * 3.0))).xyz + (vec3(dot (texture (sampler_noise_lq, \\n    ((((texsize.xy * texsize_noise_lq.zw).x * uv) * 0.02) + (0.1 * rand_frame).xy)\\n  ), vec4(0.32, 0.49, 0.29, 0.0))) / 30.0));\\n  vec4 tmpvar_3;\\n  tmpvar_3.w = 1.0;\\n  tmpvar_3.xyz = ((mix (tmpvar_2, \\n    (1.0 - tmpvar_2.zyx)\\n  , vec3(0.01, 0.01, 0.01)) - 0.03) - (0.2 * pow (\\n    (1.0 - rad)\\n  , 18.0)));\\n  ret = tmpvar_3.xyz;\\n }","comp":" shader_body { \\n  vec2 uv_1;\\n  vec2 tmpvar_2;\\n  tmpvar_2.x = cos(((uv.y * texsize.y) / 2.0));\\n  tmpvar_2.y = sin(((uv.x * texsize.x) / 2.0));\\n  uv_1 = (uv + ((2.0 * texsize.zw) * tmpvar_2));\\n  vec4 tmpvar_3;\\n  tmpvar_3.w = 1.0;\\n  tmpvar_3.xyz = (1.4 * pow ((\\n    clamp (((texture (sampler_blur1, uv_1).xyz * scale1) + bias1), 0.0, 1.0)\\n   * \\n    (texture (sampler_pc_main, uv_1).xyz - ((texture (sampler_blur3, uv_1).xyz * scale3) + bias3))\\n  ), vec3(0.5, 0.5, 0.5)));\\n  ret = tmpvar_3.xyz;\\n }"}') }, "./presets/converted/suksma - uninitialized variabowl (hydroponic chronic).json": e => { e.exports = JSON.parse('{"version":2,"baseVals":{"rating":5,"gammaadj":1,"decay":1,"echo_zoom":1,"echo_orient":1,"wave_thick":1,"wave_brighten":0,"wrap":0,"brighten":1,"wave_a":0.401,"wave_scale":3.177,"wave_smoothing":0,"wave_mystery":-0.4,"modwavealphastart":1,"modwavealphaend":1,"warpanimspeed":2.289,"warpscale":5.472,"zoomexp":0.01,"zoom":0.9901,"warp":1.8566,"ob_size":0.005,"ob_a":1,"ib_size":0,"ib_r":1,"ib_g":0,"ib_b":0,"ib_a":1,"mv_x":64,"mv_y":48,"mv_l":0,"mv_b":0,"mv_a":0},"shapes":[{"baseVals":{"enabled":1,"sides":12,"additive":1,"num_inst":512,"y":0.55,"rad":0.034,"tex_zoom":0.7874,"g":0.45,"g2":0,"border_a":0},"init_eqs_eel":"started = 0;\\nt1 = 0.412; //seeds for pseudo random generator\\nt2 = 0.4563;\\nt3 = 0.6452;\\nt4 = 0.2565;","frame_eqs_eel":"\\nrnd1 = if(equal(instance,0),t1,rnd1);\\nrnd2 = if(equal(instance,0),t2,rnd2);\\nrnd3 = if(equal(instance,0),t3,rnd3);\\nrnd4 = if(equal(instance,0),t4,rnd4);\\nrnd1 = 4*rnd1*(1-rnd1);\\nrnd2 = 4*rnd2*(1-rnd2);\\nrnd3 = 4*rnd3*(1-rnd3);\\nrnd4 = 4*rnd4*(1-rnd4);\\nt = .6;\\nt =  (rnd1+time*t) - int(rnd1+time*t);\\nt = t + rnd2*0.1;\\nwh = rnd4*asin(1)*4;\\nwv = 0.25 + rnd3*0.1;\\n\\nd = 1.4; // makes the perspective impact\\nzoom = 1;\\nl = 1;\\n\\n// Kardan angles\\n\\nw1 = q3; // first rotation: clockwise in the desktop pane\\nw2 = q4; // rotation around vertical axis\\nw3 = q5; // rotation around horizontal axis\\n\\n\\n// definition of the 3D shape\\n\\ni = instance;\\n\\nmy_x = t *(cos(wh)*sin(wv)*l);\\nmy_y = (-0.5 +(t-0.75)*(t-0.75))*cos(wv)*l;\\nmy_z = t*(sin(wh)*sin(wv)*l);\\n\\n\\n// 3D rotations\\n\\nx1 = cos(w1)*my_x + sin(w1)*my_y;\\ny1 = -sin(w1)*my_x + cos(w1)*my_y;\\nz1 = my_z;\\n\\nx2 = cos(w2)*x1 + sin(w2)*z1;\\nz2 = -sin(w2)*x1 + cos(w2)*z1;\\ny2 = y1;\\n\\ny3 = cos(w3)*y2 + sin(w3)*z2;\\nz3 = -sin(w3)*y2 + cos(w3)*z2;\\nx3 = x2;\\n\\n// perspective calculation\\n\\nl = sqrt(x3*x3 + y3*y3);\\nw = atan2(x3,y3);\\np = tan(asin(1) + atan2(d+z3,l));\\nd = sqrt(x3*x3 + y3*y3 + (z3+d)*(z3+d));\\n\\nrad = rad/d;\\nmy_x = zoom*sin(w)*p;\\nmy_y = zoom*cos(w)*p;\\n\\nx = 0.5 + my_x;\\ny = 0.5 + my_y;\\n\\nx = 0.5 + (x-0.5)/q2;\\ny = 0.5 + (y-0.5)/q1;"},{"baseVals":{"sides":100,"additive":1,"thickoutline":1,"textured":1,"x":0.52,"y":0.41,"rad":0.5216,"ang":0.1885,"tex_zoom":0.73458,"g":1,"b":1,"r2":1,"b2":1,"a2":0.75,"border_a":0,"enabled":0},"init_eqs_eel":"vx = 0","frame_eqs_eel":""},{"baseVals":{"sides":100,"additive":1,"thickoutline":1,"textured":1,"x":0.48,"y":0.41,"rad":0.61162,"ang":5.96903,"tex_zoom":0.73458,"g":1,"b":1,"r2":1,"b2":1,"a2":0.75,"border_a":0,"enabled":0},"init_eqs_eel":"vx = 0","frame_eqs_eel":""},{"baseVals":{"sides":100,"additive":1,"thickoutline":1,"y":0.75,"rad":0.07059,"tex_zoom":0.73458,"g2":0,"border_a":0,"enabled":0},"init_eqs_eel":"vx = 0","frame_eqs_eel":"x = q1;\\ny = q5;"}],"waves":[{"baseVals":{"additive":1,"r":0.2,"g":0,"b":0,"a":0.3,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":"n=sample*6.283;\\nphs=-sample * 0.2;\\ntm=time*0.4 + phs;\\n\\nflip=flip+1;\\nflip=flip*below(flip,2);\\n\\nxp=0;\\nyp=flip*0.1 + (sin(tm)*0.5 + 0.5)*0.2;\\nzp=0;\\n\\n//wrist movement;\\nang=sin(tm*2)*0.5 +0.5;\\n\\nxq=xp;\\nyq=yp*sin(ang) + zp*cos(ang);\\nzq=yp*cos(ang) - zp*sin(ang);\\nyq=yp;\\nzq=zp;\\n\\nang=tm*8;\\nxp=xq*sin(ang) + yq*cos(ang);\\nyp=xq*cos(ang) - yq*sin(ang);\\nzp=zq;\\n\\n//forearm movement;\\nzp=zp-0.3;\\nang=3.14 + sin(tm*2 - 0.5)*1.5;\\nxq=xp;\\nyq=yp*sin(ang) + zp*cos(ang);\\nzq=yp*cos(ang) - zp*sin(ang);\\n\\n//upper arm twist\\nang=-1.0 + cos(tm*3 + 0.5);\\nxp=xq*sin(ang) + yq*cos(ang);\\nyp=xq*cos(ang) - yq*sin(ang);\\nzp=zq;\\n\\n//upper arm outward;\\nzp=zp-0.35;\\nang=cos(tm*2)*0.75 - 1.05;\\nxq=xp*sin(ang) + zp*cos(ang);\\nyq=yp;\\nzq=xp*cos(ang) - zp*sin(ang);\\n\\n//upper arm up down;\\nang=cos(tm)*0.5 - 0.5;\\nxp=xq;\\nyp=yq*cos(ang) - zq*sin(ang);\\nzp=yq*sin(ang) + zq*cos(ang);\\n\\n//xp=xq;yp=yq;zp=zq;\\n\\n\\n//project into screenspace and draw on screen\\nzp=zp+2;\\nxs=xp/zp;\\nys=yp/zp;\\n\\nx=xs+0.5;\\ny=ys*1.3+0.5;\\n\\n\\n//a=(1-sample)*flip;\\n\\n//b=b+pow(1-sample,2)*0.3;\\n\\nx = 0.5 + (x-0.5)/q1;\\ny = 0.5 + (y-0.5)/q2 + 0.1;"},{"baseVals":{"additive":1,"r":0.2,"g":0,"b":0,"a":0.3,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":"n=sample*6.283;\\nphs=-sample * 0.2;\\ntm=time*0.4 + phs;\\n\\nflip=flip+1;\\nflip=flip*below(flip,2);\\n\\nxp=0;\\nyp=flip*0.1 + (sin(tm)*0.5 + 0.5)*0.2;\\nyp=-yp;\\nzp=0;\\n\\n//wrist movement;\\nang=sin(tm*2)*0.5 +0.5;\\n\\nxq=xp;\\nyq=yp*sin(ang) + zp*cos(ang);\\nzq=yp*cos(ang) - zp*sin(ang);\\nyq=yp;\\nzq=zp;\\n\\nang=tm*8;\\nxp=xq*sin(ang) + yq*cos(ang);\\nyp=xq*cos(ang) - yq*sin(ang);\\nzp=zq;\\n\\n//forearm movement;\\nzp=zp-0.3;\\nang=3.14 + sin(tm*2 - 0.5)*1.5;\\nxq=xp;\\nyq=yp*sin(ang) + zp*cos(ang);\\nzq=yp*cos(ang) - zp*sin(ang);\\n\\n//upper arm twist\\nang=-1.0 + cos(tm*3 + 0.5);\\nxp=xq*sin(ang) + yq*cos(ang);\\nyp=xq*cos(ang) - yq*sin(ang);\\nzp=zq;\\n\\n//upper arm outward;\\nzp=zp-0.35;\\nang=cos(tm*2)*0.75 - 1.05;\\nxq=xp*sin(ang) + zp*cos(ang);\\nyq=yp;\\nzq=xp*cos(ang) - zp*sin(ang);\\n\\n//upper arm up down;\\nang=cos(tm)*0.5 - 0.5;\\nxp=xq;\\nyp=yq*cos(ang) - zq*sin(ang);\\nzp=yq*sin(ang) + zq*cos(ang);\\n\\n//xp=xq;yp=yq;zp=zq;\\n\\n\\n//project into screenspace and draw on screen\\nzp=zp+2;\\nxs=xp/zp;\\nys=yp/zp;\\n\\nx=xs+0.5;\\ny=ys*1.3+0.5;\\n\\n\\n//a=(1-sample)*flip;\\n\\n\\n//b=b+pow(1-sample,2)*0.3;\\n\\n\\nx = 0.5 + (x-0.5)/q1;\\ny = 0.5 + (y-0.5)/q2 + 0.1;\\n"},{"baseVals":{"samples":61,"thick":1,"scaling":2.44415,"smoothing":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"t1 = q1;\\nt2 = q2;\\nt3 = q3;\\nt4 = q4;\\nt5 = q5;\\nt6 = q6;\\nt7 = q7;\\nt8 = q8;","point_eqs_eel":"x = pow(sample,5)*t1 + 5*pow(sample,4)*(1-sample)*t1 + 10*pow(sample,3)*sqr(1-sample)*t2\\n+ 10*sqr(sample)*pow(1-sample,3)*t3 + 5*pow(1-sample,4)*sample*t4 + pow(1-sample,5)*t4;\\n\\ny = pow(sample,5)*t5 + 5*pow(sample,4)*(1-sample)*t5 + 10*pow(sample,3)*sqr(1-sample)*t6\\n+ 10*sqr(sample)*pow(1-sample,3)*t7 + 5*pow(1-sample,4)*sample*t8 + pow(1-sample,5)*t8;"},{"baseVals":{"samples":61,"scaling":2.44415,"smoothing":0,"enabled":0},"init_eqs_eel":"t2 = 0","frame_eqs_eel":"t1 = q1;\\nt2 = q2;\\nt3 = q3;\\nt4 = q4;\\nt5 = q5;\\nt6 = q6;\\nt7 = q7;\\nt8 = q8;","point_eqs_eel":"x = pow(sample,5)*t1 + 5*pow(sample,4)*(1-sample)*t1 + 10*pow(sample,3)*sqr(1-sample)*t2\\n+ 10*sqr(sample)*pow(1-sample,3)*t3 + 5*pow(1-sample,4)*sample*t4 + pow(1-sample,5)*t4;\\n\\ny = pow(sample,5)*t5 + 5*pow(sample,4)*(1-sample)*t5 + 10*pow(sample,3)*sqr(1-sample)*t6\\n+ 10*sqr(sample)*pow(1-sample,3)*t7 + 5*pow(1-sample,4)*sample*t8 + pow(1-sample,5)*t8;"}],"init_eqs_eel":"","frame_eqs_eel":"wave_a = 0;\\nq1 =aspectx;\\nq2 = aspecty;\\n\\n\\nb = b + bass*bass*0.85;\\nm = m + mid*mid*0.85;\\nt = t + treb*treb*0.85;\\n\\nq3 = b*0.012;\\nq4 = m*0.012;\\nq5 = t*0.012;","pixel_eqs_eel":"","warp":" shader_body { \\n  vec2 my_uv_1;\\n  vec3 ret_2;\\n  vec2 tmpvar_3;\\n  tmpvar_3 = (vec2(1280.0, 1024.0) * texsize.zw);\\n  float tmpvar_4;\\n  vec2 tmpvar_5;\\n  tmpvar_5 = (uv + vec2(0.005, 0.0));\\n  vec2 tmpvar_6;\\n  tmpvar_6 = (uv - vec2(0.005, 0.0));\\n  tmpvar_4 = (((\\n    (texture (sampler_blur2, tmpvar_5).xyz * scale2)\\n   + bias2) - (\\n    (texture (sampler_blur2, tmpvar_6).xyz * scale2)\\n   + bias2)).x * tmpvar_3.x);\\n  float tmpvar_7;\\n  vec2 tmpvar_8;\\n  tmpvar_8 = (uv + vec2(0.0, 0.005));\\n  vec2 tmpvar_9;\\n  tmpvar_9 = (uv - vec2(0.0, 0.005));\\n  tmpvar_7 = (((\\n    (texture (sampler_blur2, tmpvar_8).xyz * scale2)\\n   + bias2) - (\\n    (texture (sampler_blur2, tmpvar_9).xyz * scale2)\\n   + bias2)).x * tmpvar_3.y);\\n  vec2 tmpvar_10;\\n  tmpvar_10.x = tmpvar_4;\\n  tmpvar_10.y = tmpvar_7;\\n  vec2 tmpvar_11;\\n  tmpvar_11.x = (((\\n    (texture (sampler_blur2, tmpvar_5).xyz * scale2)\\n   + bias2) - (\\n    (texture (sampler_blur2, tmpvar_6).xyz * scale2)\\n   + bias2)).x * tmpvar_3.x);\\n  tmpvar_11.y = (((\\n    (texture (sampler_blur2, tmpvar_8).xyz * scale2)\\n   + bias2) - (\\n    (texture (sampler_blur2, tmpvar_9).xyz * scale2)\\n   + bias2)).x * tmpvar_3.y);\\n  ret_2.x = texture (sampler_fw_main, ((uv - (tmpvar_10 * 0.01)) + (tmpvar_11 * 0.003))).x;\\n  vec4 tmpvar_12;\\n  tmpvar_12 = texture (sampler_blur3, uv);\\n  ret_2.x = (ret_2.x + ((ret_2.x - \\n    ((tmpvar_12.xyz * scale3) + bias3)\\n  .x) * 0.1));\\n  ret_2.x = (ret_2.x + 0.004);\\n  vec2 tmpvar_13;\\n  tmpvar_13.x = tmpvar_7;\\n  tmpvar_13.y = -(tmpvar_4);\\n  my_uv_1 = (uv + ((tmpvar_13 * 0.05) * (1.2 - \\n    ((tmpvar_12.xyz * scale3) + bias3)\\n  .y)));\\n  ret_2.z = texture (sampler_fw_main, my_uv_1).z;\\n  vec2 x_14;\\n  x_14 = (my_uv_1 - uv);\\n  ret_2.z = (ret_2.z + ((\\n    ((ret_2.z - ((texture (sampler_blur1, uv).xyz * scale1) + bias1).z) * sqrt(dot (x_14, x_14)))\\n   * 180.0) / sqrt(\\n    dot (tmpvar_3, tmpvar_3)\\n  )));\\n  ret_2.z = (ret_2.z * 0.8);\\n  ret_2.z = (ret_2.z + 0.004);\\n  vec2 tmpvar_15;\\n  tmpvar_15.x = -(tmpvar_7);\\n  tmpvar_15.y = tmpvar_4;\\n  my_uv_1 = (tmpvar_15 * 0.045);\\n  vec2 tmpvar_16;\\n  tmpvar_16.x = (((\\n    (texture (sampler_blur2, (uv + vec2(0.01, 0.0))).xyz * scale2)\\n   + bias2) - (\\n    (texture (sampler_blur2, (uv - vec2(0.01, 0.0))).xyz * scale2)\\n   + bias2)).y * tmpvar_3.x);\\n  tmpvar_16.y = (((\\n    (texture (sampler_blur2, (uv + vec2(0.0, 0.01))).xyz * scale2)\\n   + bias2) - (\\n    (texture (sampler_blur2, (uv - vec2(0.0, 0.01))).xyz * scale2)\\n   + bias2)).y * tmpvar_3.y);\\n  my_uv_1 = (my_uv_1 + (uv - (tmpvar_16 * 0.03)));\\n  ret_2.y = texture (sampler_fw_main, my_uv_1).y;\\n  ret_2.y = (ret_2.y + ((\\n    (ret_2.y - ((texture (sampler_blur3, my_uv_1).xyz * scale3) + bias3).y)\\n   * 0.1) + 0.01));\\n  vec4 tmpvar_17;\\n  tmpvar_17.w = 1.0;\\n  tmpvar_17.xyz = ret_2;\\n  ret = tmpvar_17.xyz;\\n }","comp":" shader_body { \\n  vec2 uv1_1;\\n  vec3 tmpvar_2;\\n  tmpvar_2 = texture (sampler_main, uv).xyz;\\n  vec2 tmpvar_3;\\n  tmpvar_3.y = 0.0;\\n  tmpvar_3.x = texsize.z;\\n  vec2 tmpvar_4;\\n  tmpvar_4.x = 0.0;\\n  tmpvar_4.y = texsize.w;\\n  vec2 tmpvar_5;\\n  tmpvar_5.x = (texture (sampler_main, (uv - tmpvar_3)).xyz - texture (sampler_main, (uv + tmpvar_3)).xyz).x;\\n  tmpvar_5.y = (texture (sampler_main, (uv - tmpvar_4)).xyz - texture (sampler_main, (uv + tmpvar_4)).xyz).x;\\n  uv1_1 = ((0.3 * cos(\\n    (((uv - 0.5) * 2.0) + 1.7)\\n  )) - (2.0 * tmpvar_5));\\n  vec4 tmpvar_6;\\n  tmpvar_6.w = 1.0;\\n  tmpvar_6.xyz = ((-(tmpvar_2) / 4.0) + ((6.0 * vec3(\\n    clamp ((0.03 / sqrt(dot (uv1_1, uv1_1))), 0.0, 1.0)\\n  )) * (-0.08 + tmpvar_2)));\\n  ret = tmpvar_6.xyz;\\n }"}') }, "./presets/converted/suksma - vector exp 1 - couldnt not.json": e => { e.exports = JSON.parse('{"version":2,"baseVals":{"rating":2,"decay":0.99,"wave_brighten":0,"wave_a":1,"wave_scale":0.01,"wave_mystery":-0.2,"warpanimspeed":3.434,"warpscale":1.295,"zoom":1.025,"warp":0.11284,"wave_r":0,"wave_g":0,"wave_b":0,"ob_size":0.005,"ob_b":1,"ob_a":1,"mv_x":64,"mv_y":48,"mv_l":5,"mv_g":0,"mv_b":0},"shapes":[{"baseVals":{"sides":100,"textured":1,"rad":0.53742,"tex_zoom":1.72509,"g":1,"b":1,"r2":1,"b2":1,"a2":1,"border_a":0,"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""}],"waves":[{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""}],"init_eqs_eel":"","frame_eqs_eel":"//per frame less reactive volume for all unused q vars, put before other q vars are set for cop out mashing\\nvb = vb*0.95 + (1-vb)*pow(bass_att,2)*0.02;\\nvvb = vvb*0.95 + (1-vvb)*vb*0.01;\\nvm = vm*0.95 + (1-vm)*pow(mid_att,2)*0.02;\\nvvm = vvm*0.95 + (1-vvm)*vm*0.01;\\nvt = vt*0.95 + (1-vt)*pow(treb_att,2)*0.02;\\nvvt = vvt*0.95 + (1-vvt)*vt*0.01;\\nvvb = min(1,max(0,vvb));\\nvvm = min(1,max(0,vvm));\\nvvt = min(1,max(0,vvt));\\nq1   = (vvb+vvm+vvt)*10;\\nq2   = (vvb+vvm+vvt)*10;\\nq3   = (vvb+vvm+vvt)*10;\\nq4   = (vvb+vvm+vvt)*10;\\nq5   = (vvb+vvm+vvt)*10;\\nq6   = (vvb+vvm+vvt)*10;\\nq7   = (vvb+vvm+vvt)*10;\\nq8   = (vvb+vvm+vvt)*10;\\nq9   = (vvb+vvm+vvt)*10;\\nq10  = (vvb+vvm+vvt)*10;\\nq11  = (vvb+vvm+vvt)*10;\\nq12  = (vvb+vvm+vvt)*10;\\nq13  = (vvb+vvm+vvt)*10;\\nq14  = (vvb+vvm+vvt)*10;\\nq15  = (vvb+vvm+vvt)*10;\\nq16  = (vvb+vvm+vvt)*10;\\nq17  = (vvb+vvm+vvt)*10;\\nq18  = (vvb+vvm+vvt)*10;\\nq19  = (vvb+vvm+vvt)*10;\\nq20  = (vvb+vvm+vvt)*10;\\nq21  = (vvb+vvm+vvt)*10;\\nq22  = (vvb+vvm+vvt)*10;\\nq23  = (vvb+vvm+vvt)*10;\\nq24  = (vvb+vvm+vvt)*10;\\nq25  = (vvb+vvm+vvt)*10;\\nq26  = (vvb+vvm+vvt)*10;\\nq27  = (vvb+vvm+vvt)*10;\\nq28  = (vvb+vvm+vvt)*10;\\nq29  = (vvb+vvm+vvt)*10;\\nq30  = (vvb+vvm+vvt)*10;\\nq31  = (vvb+vvm+vvt)*10;\\nq32  = (vvb+vvm+vvt)*10;\\n\\nzoom = .995;\\nwave_a = 0;\\nmv_g = 0.45 + 0.3*sin(time*1.33)+0.25*sin(treb);\\nmv_r = 0.45 + 0.3*sin(time*1.13)+0.25*(0.33*(bass+treb+mid));\\nmv_b = 0.45 + 0.3*sin(time*1.23)+0.25*sin(bass);\\nmv_dx=.1*sin(time*.1);\\nmv_dy=.13*cos(time*.084);\\nmv_x=64-int((sin(time*1.5)+1)*32);\\nmv_y=48-int((cos(time*1.5)+1)*22);\\nmonitor=mv_y;","pixel_eqs_eel":"//flexi per vertex\\ncx1 = 0.5+sin(time*0.618)*0.2;\\ncy1 = 0.5+cos(time*1.618)*0.2;\\ndir = bass;\\nd = sqrt((x-cx1)*(x-cx1)+(y-cy1)*(y-cy1));\\nx1 = if( above(d,0.3),0,  sin(y-cy1)*0.05*dir);\\ny1 = if( above(d,0.3),0, -sin(x-cx1)*0.05*dir);\\ncx1 = 0.5+sin(time*2.618)*0.3;\\ncy1 = 0.5+cos(time*3.14)*0.3;\\ndir = -mid*2;\\nd = sqrt((x-cx1)*(x-cx1)+(y-cy1)*(y-cy1));\\nx2 = if( above(d,0.2),0,  sin(y-cy1)*0.05*dir);\\ny2 = if( above(d,0.2),0, -sin(x-cx1)*0.05*dir);\\ncx1 = 0.5+sin(-time*2.618)*0.4;\\ncy1 = 0.5+cos(-time*1.14)*0.4;\\ndir = treb*3;\\nd = sqrt((x-cx1)*(x-cx1)+(y-cy1)*(y-cy1));\\nx3 = if( above(d,0.1),0,  sin(y-cy1)*0.05*dir);\\ny3 = if( above(d,0.1),0, -sin(x-cx1)*0.05*dir);\\ndx = dx+x1+x2+x3;\\ndy = dy+y1+y2+y3;","warp":" shader_body { \\n  vec2 tmpvar_1;\\n  tmpvar_1 = mix (uv_orig, uv, vec2(0.3, 0.3));\\n  vec2 tmpvar_2;\\n  tmpvar_2 = (texsize.zw * 3.0);\\n  vec2 tmpvar_3;\\n  tmpvar_3.x = dot (((\\n    (texture (sampler_blur1, (tmpvar_1 + (vec2(1.0, 0.0) * tmpvar_2))).xyz * scale1)\\n   + bias1) - (\\n    (texture (sampler_blur1, (tmpvar_1 - (vec2(1.0, 0.0) * tmpvar_2))).xyz * scale1)\\n   + bias1)), vec3(0.32, 0.49, 0.29));\\n  tmpvar_3.y = dot (((\\n    (texture (sampler_blur1, (tmpvar_1 + (vec2(0.0, 1.0) * tmpvar_2))).xyz * scale1)\\n   + bias1) - (\\n    (texture (sampler_blur1, (tmpvar_1 - (vec2(0.0, 1.0) * tmpvar_2))).xyz * scale1)\\n   + bias1)), vec3(0.32, 0.49, 0.29));\\n  vec4 tmpvar_4;\\n  tmpvar_4.w = 1.0;\\n  tmpvar_4.xyz = (texture (sampler_fc_main, (tmpvar_1 + (\\n    (tmpvar_3 * texsize.zw)\\n   * 9.0))) - 0.01).xyz;\\n  ret = tmpvar_4.xyz;\\n }","comp":" shader_body { \\n  vec2 uv_1;\\n  vec3 ret_2;\\n  uv_1 = (0.5 + ((uv - 0.5) * 0.98));\\n  vec2 tmpvar_3;\\n  tmpvar_3 = (texsize.zw * 4.0);\\n  vec3 tmpvar_4;\\n  tmpvar_4 = (((texture (sampler_blur1, \\n    (uv_1 + (vec2(1.0, 0.0) * tmpvar_3))\\n  ).xyz * scale1) + bias1) - ((texture (sampler_blur1, \\n    (uv_1 - (vec2(1.0, 0.0) * tmpvar_3))\\n  ).xyz * scale1) + bias1));\\n  vec3 tmpvar_5;\\n  tmpvar_5 = (((texture (sampler_blur1, \\n    (uv_1 + (vec2(0.0, 1.0) * tmpvar_3))\\n  ).xyz * scale1) + bias1) - ((texture (sampler_blur1, \\n    (uv_1 - (vec2(0.0, 1.0) * tmpvar_3))\\n  ).xyz * scale1) + bias1));\\n  vec3 tmpvar_6;\\n  tmpvar_6.z = 0.0;\\n  tmpvar_6.x = dot (tmpvar_4, vec3(0.32, 0.49, 0.29));\\n  tmpvar_6.y = dot (tmpvar_5, vec3(0.32, 0.49, 0.29));\\n  vec4 tmpvar_7;\\n  tmpvar_7 = texture (sampler_noisevol_hq, ((vec3(0.05, 0.05, 0.0) * (\\n    ((uv_1.xyy + (tmpvar_6 * 0.5)) * texsize.xyy)\\n   * texsize_noisevol_hq.zww)) + (vec3(0.0, 0.0, 0.2) * time)));\\n  vec2 tmpvar_8;\\n  tmpvar_8.x = dot (tmpvar_4, vec3(0.32, 0.49, 0.29));\\n  tmpvar_8.y = dot (tmpvar_5, vec3(0.32, 0.49, 0.29));\\n  uv_1 = (uv_1 - (tmpvar_8 * 0.04));\\n  ret_2 = (abs((\\n    ((texture (sampler_main, uv_1).xyz + ((texture (sampler_blur1, uv_1).xyz * scale1) + bias1)) - ((texture (sampler_blur2, uv_1).xyz * scale2) + bias2))\\n   - \\n    ((texture (sampler_blur3, uv_1).xyz * scale3) + bias3)\\n  )) * (dot (tmpvar_7, vec4(0.32, 0.49, 0.29, 0.0)) * 3.0));\\n  vec3 tmpvar_9;\\n  tmpvar_9 = pow (ret_2, vec3(0.5, 0.5, 0.5));\\n  ret_2 = tmpvar_9;\\n  vec4 tmpvar_10;\\n  tmpvar_10.w = 1.0;\\n  tmpvar_10.xyz = tmpvar_9;\\n  ret = tmpvar_10.xyz;\\n }"}') }, "./presets/converted/yin - 191 - Temporal singularities.json": e => { e.exports = JSON.parse('{"version":1,"baseVals":{"rating":5,"gammaadj":4.990001,"decay":1,"echo_zoom":10.784553,"wave_mode":7,"additivewave":1,"wave_dots":1,"wave_brighten":0,"wrap":0,"wave_a":0.997938,"wave_scale":1.990516,"wave_smoothing":0,"wave_mystery":-1,"modwavealphastart":0.5,"modwavealphaend":1,"warpscale":0.999998,"zoomexp":0.999985,"fshader":1,"zoom":0.9999,"dy":0.00001,"warp":0.01,"wave_r":0.400001,"wave_g":0.4,"wave_y":1,"ob_size":0,"ob_r":0.300001,"ob_g":1,"ob_b":0.3,"ob_a":0.100001,"ib_size":0.005,"ib_r":0,"ib_g":0,"ib_b":0,"ib_a":0.5,"mv_x":8.960042,"mv_y":12.960033,"mv_dx":-0.26,"mv_dy":0.44,"mv_l":5,"mv_a":0},"shapes":[{"baseVals":{},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{},"init_eqs_eel":"","frame_eqs_eel":""}],"waves":[{"baseVals":{},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{},"init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""}],"init_eqs_eel":"flip=-1;","frame_eqs_eel":"warp=0;decay=1;\\nvol = (.75*(bass_att+mid_att+treb_att)/3+.25*prevVol);\\nprevAvgBass=avgBass;\\navgBass=avgBass + (bass-AvgBass)*0.01;\\nq4=max(avgBass*1.001-.999*prevAvgBass,0);\\nq4=min(q4,.006);\\n// -------------------------------- Beat Detective 007 ----------------------------------\\nsure=if(equal(sure,0),.6,sure);\\ninterval=if(equal(interval,0),40,interval);\\nlastbeat=if(equal(lastbeat,0),frame-FPS,lastbeat);\\ndbass=(bass-pbass)/FPS;\\nbeat=above(dbass,.6*maxdbass)*above(frame-lastbeat,FPS/3);\\nsure=if(beat*below(abs(frame-(interval+lastbeat)),FPS/5),\\nmin(.095+sure,1),beat*(sure-.095)+(1-beat)*sure*.9996);\\nsure=max(.5,sure);\\ncheat=if(above(frame,lastbeat+interval+ int(FPS/10))*above(sure,.91),1,cheat);\\nbeat=if(cheat,1,beat);\\nsure=if(cheat,.95*sure,sure);\\nmaxdbass=max(maxdbass*.999,dbass);\\nmaxdbass=max(.012,maxdbass);\\nmaxdbass=min(.02,maxdbass);\\ninterval=if(beat, frame-lastbeat,interval);\\nlastbeat=if(beat,frame-cheat*int(FPS/10),lastbeat);\\ncheat=0;\\npbass=bass;\\n// ----------------------------------------------------------------------------------------------\\nlastFlip=if( above(bass/avgBass,2)*above(frame-lastFlip,100)*beat, frame,lastFlip );\\nflip = if(equal(frame,lastFlip),abs(flip)-1, flip);\\nwave_mystery=flip;\\nob_size = below(frame-lastBeat,FPS/8)*.08*(frame-lastBeat)/FPS;\\nf=abs(cos(time/8+.54+sin(time/3+1.075)));\\nob_r=1*f + 1*(1-f);\\nob_g=.3*f + 1*(1-f);\\nob_b=.3*f + .3*(1-f);\\nf=(frame-lastbeat)/interval;\\nf=above(f,.8)*below(f,1)*f; f=max(0,f); f=min(f,1);\\n\\nwave_g=.4+.6*(f);\\nwave_b=.4+.6*(1-f);\\n\\nq1= 3.1416*(wave_mystery+1)/2;\\nq2=.25*cos(time+abs(2*sin(time*2+2.311)*( vol-amt))*sin(time*7.45+.876));\\nq3=-q2;\\n\\namt=amt+ .05*(vol-amt);\\nprevVol=vol;\\nBPM = BPM + .01*(60*FPS/interval - BPM);\\nmonitor = 0*pctg+1*BPM;","pixel_eqs_eel":"x=x-.5;\\ny=-(y-.5);\\nttan1 = tan(q1+1.5708)*(x-q3)-y+q2;\\nttan2 = tan(q1+1.5708);\\nIsLeftYtonosY = above(ttan1*(sign(3.1416-q1)),0);\\n\\ndist = abs(ttan1)/sqrt(ttan2*ttan2 + 1);\\ntotX=.5*cos(q1)*sign(IsLeftYtonosY-.5)*sqr(dist)/(.5-q2);\\ntotY=-.5*sin(q1)*sign(IsLeftYtonosY-.5)*sqr(dist)/(.5-q2);\\n\\ndx=dx+totX;\\ndy=dy+totY;\\nprevRot=q1;\\nzoom = 1-25*q4*sqrt(pow(.5-dist,3))/abs(.5-q2);","warp":"","comp":""}') }, "./presets/converted/yin - 393 - Artificial Inspiration (music driven - outward).json": e => { e.exports = JSON.parse('{"version":1,"baseVals":{"rating":1,"gammaadj":1,"decay":0.898999,"echo_zoom":0.999993,"wave_brighten":0,"wrap":0,"wave_a":0.001,"wave_scale":0.411715,"wave_smoothing":0.9,"wave_mystery":-0.18,"fshader":0.3,"zoom":0.999999,"warp":0.01,"wave_r":0,"wave_g":0,"wave_b":0,"ob_size":0.005,"ob_a":0.92,"ib_size":0,"ib_r":0,"ib_g":0,"ib_b":0,"mv_a":0},"shapes":[{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"enabled":0},"init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"enabled":1,"sides":100,"additive":1,"textured":1,"rad":1.773681,"tex_ang":3.141593,"tex_zoom":1.244713,"r":0,"a":0,"r2":1,"b2":1,"a2":0.5},"init_eqs_eel":"","frame_eqs_eel":"/////////// new hue2rgb algorithm ////////////\\nt=time;\\nr2=max(min(-1+.955*acos(cos(t)),1),0);\\ng2=max(min(-1+.955*acos(cos(t+2.0942)),1),0);\\nb2=max(min(-1+.955*acos(cos(t+4.1883)),1),0);\\n//////////////////////////////////////////////\\n\\nr=r2;\\ng=g2;\\nb=b2;\\n\\na2=.25*(1-.5*above(q1,1)*min(q1-1,2));\\na=below(q1,1)*sqrt(q1)*.07*a2;"}],"waves":[{"baseVals":{"enabled":1,"additive":1,"g":0.25,"b":0.12},"init_eqs_eel":"","frame_eqs_eel":"bt=bt+(.5+2*above(bass-pbass,0)*(bass-pbass))/FPS;\\npbass=bass;\\n\\nt1=bt; //mytime\\nt2=q1;\\nt3=.3*q1;","point_eqs_eel":"t=t1+t2*(1-sample);\\n\\nox=.5+(.3+.05*sample)*cos(t+.65+3.1415*sin(1.7*t+.98))*sin(1.32*t+3.21);\\noy=.5+(.3+.05*sample)*1.25*sin(.78*t+1.71)*cos(.91*t+3.09+3.1415*sin(1.49*t+.43));\\n\\nang=atan2( (py-oy),(px-ox) );\\nl=tan(ang);\\nx2=.5+(.3-.05*sample)*cos(t+.65+3.1415*sin(1.7*t+.98))*sin(1.32*t+3.21);\\ny2=.5+(.3-.05*sample)*1.25*sin(.78*t+1.71)*cos(.91*t+3.09+3.1415*sin(1.49*t+.43));\\nsum = (l*x2-y2+oy-l*ox)*sign(ang)*sign(l);\\ndir=-1+2*above(sum,-.001);\\n\\nxtrudx=(1-counter%2)*t3*sample*cos(ang+dir*1.5707)*abs(value1+value2);\\nxtrudy=(1-counter%2)*t3*sample*sin(ang+dir*1.5707)*abs(value1+value2);\\n\\nx=ox+xtrudx;\\ny=oy+xtrudy;\\n\\npx=ox;\\npy=oy;\\n\\ncounter=1-counter;\\na=sqr(sample);"},{"baseVals":{"enabled":1,"additive":1,"g":0.25,"b":0.12},"init_eqs_eel":"","frame_eqs_eel":"bt=bt+(.5+2*above(bass-pbass,0)*(bass-pbass))/FPS;\\npbass=bass;\\n\\nt1=bt; //mytime\\nt2=q1;\\nt3=.3*q1;","point_eqs_eel":"t=t1+t2*(1-sample);\\n\\nox=.5+(.3-.05*sample)*cos(t+.65+3.1415*sin(1.7*t+.98))*sin(1.32*t+3.21);\\noy=.5+(.3-.05*sample)*1.25*sin(.78*t+1.71)*cos(.91*t+3.09+3.1415*sin(1.49*t+.43));\\n\\nang=atan2( (py-oy),(px-ox) );\\nl=tan(ang);\\nx2=.5+(.3+.05*sample)*cos(t+.65+3.1415*sin(1.7*t+.98))*sin(1.32*t+3.21);\\ny2=.5+(.3+.05*sample)*1.25*sin(.78*t+1.71)*cos(.91*t+3.09+3.1415*sin(1.49*t+.43));\\nsum = (l*x2-y2+oy-l*ox)*sign(ang)*sign(l);\\ndir=-1+2*above(sum,-.001);\\n\\nxtrudx=(counter%2)*t3*sample*cos(ang+dir*1.5707)*abs(value1+value2);\\nxtrudy=(counter%2)*t3*sample*sin(ang+dir*1.5707)*abs(value1+value2);\\n\\nx=ox+xtrudx;\\ny=oy+xtrudy;\\n\\npx=ox;\\npy=oy;\\n\\ncounter=1-counter;\\na=sqr(sample);"},{"baseVals":{"enabled":1,"additive":1,"r":0.12,"g":0.25},"init_eqs_eel":"","frame_eqs_eel":"tt=tt+(.5+2*above(treb-ptreb,0)*(treb-ptreb))/FPS;\\nptreb=treb;\\n\\nt1=tt;\\nt2=q1;\\nt3=.3*q1;","point_eqs_eel":"t=t1+t2*(1-sample);\\n\\nox=.5+(.3+.05*sample)*cos(.78*t+2.09+3.1415*sin(1.39*t+.91))*sin(1.72*t+1.43);\\noy=.5+(.3+.05*sample)*1.25*sin(1.41*t+.43)*cos(1.29*t+2.9+3.1415*sin(.93*t+2.6));\\n\\n\\nang=atan( (py-oy)/(px-ox) );\\n\\nl=tan(ang);\\nx2=.5+(.3-.05*sample)*cos(.78*t+2.09+3.1415*sin(1.39*t+.91))*sin(1.72*t+1.43);\\ny2=.5+(.3-.05*sample)*1.25*sin(1.41*t+.43)*cos(1.29*t+2.9+3.1415*sin(.93*t+2.6));\\nsum = (l*x2-y2+oy-l*ox)*sign(ang)*sign(l);\\ndir=-1+2*above(sum,-.001);\\n\\nxtrudx=(1-counter%2)*t3*sample*cos(ang+dir*1.5707)*abs(value1+value2);\\nxtrudy=(1-counter%2)*t3*sample*sin(ang+dir*1.5707)*abs(value1+value2);\\n\\nx=ox+xtrudx;\\ny=oy+xtrudy;\\n\\npx=ox;\\npy=oy;\\n\\ncounter=1-counter;\\na=sqr(sample);"},{"baseVals":{"enabled":1,"additive":1,"r":0.12,"g":0.25},"init_eqs_eel":"","frame_eqs_eel":"tt=tt+(.5+2*above(treb-ptreb,0)*(treb-ptreb))/FPS;\\nptreb=treb;\\n\\nt1=tt;\\nt2=q1;\\nt3=.3*q1;","point_eqs_eel":"t=t1+t2*(1-sample);\\n\\nox=.5+(.3-.05*sample)*cos(.78*t+2.09+3.1415*sin(1.39*t+.91))*sin(1.72*t+1.43);\\noy=.5+(.3-.05*sample)*1.25*sin(1.41*t+.43)*cos(1.29*t+2.9+3.1415*sin(.93*t+2.6));\\n\\n\\nang=atan( (py-oy)/(px-ox) );\\nl=tan(ang);\\nx2=.5+(.3+.05*sample)*cos(.78*t+2.09+3.1415*sin(1.39*t+.91))*sin(1.72*t+1.43);\\ny2=.5+(.3+.05*sample)*1.25*sin(1.41*t+.43)*cos(1.29*t+2.9+3.1415*sin(.93*t+2.6));\\nsum = (l*x2-y2+oy-l*ox)*sign(ang)*sign(l);\\ndir=-1+2*above(sum,-.001);\\n\\nxtrudx=(1-counter%2)*t3*sample*cos(ang+dir*1.5707)*abs(value1+value2);\\nxtrudy=(1-counter%2)*t3*sample*sin(ang+dir*1.5707)*abs(value1+value2);\\n\\nx=ox+xtrudx;\\ny=oy+xtrudy;\\n\\npx=ox;\\npy=oy;\\n\\ncounter=1-counter;\\na=sqr(sample);"}],"init_eqs_eel":"","frame_eqs_eel":"// -------------------------------- Beat Detective v0.07 ----------------------------------\\nsure=if(equal(sure,0),.6,sure);\\ninterval=if(equal(interval,0),40,interval);\\nlastbeat=if(equal(lastbeat,0),frame-FPS,lastbeat);\\ndbass=(bass-pbass)/FPS;\\nbeat=above(dbass,.6*maxdbass)*above(frame-lastbeat,FPS/3);\\nsure=if(beat*below(abs(frame-(interval+lastbeat)),FPS/5),\\nmin(.095+sure,1),beat*(sure-.095)+(1-beat)*sure*.9996);\\nsure=max(.5,sure);\\ncheat=if(above(frame,lastbeat+interval+ int(FPS/10))*above(sure,.91),1,cheat);\\nbeat=if(cheat,1,beat);\\nsure=if(cheat,.95*sure,sure);\\nmaxdbass=max(maxdbass*.999,dbass);\\nmaxdbass=max(.012,maxdbass);\\nmaxdbass=min(.02,maxdbass);\\ninterval=if(beat, frame-lastbeat,interval);\\nlastbeat=if(beat,frame-cheat*int(FPS/10),lastbeat);\\ncheat=0;\\npbass=bass;\\n// ----------------------------------------------------------------------------------------------\\n\\nwarp=0;\\ngamma=1.1;\\ndt=1/FPS;\\n\\nmytime=mytime+dt;\\ncontvol=min( max(.5, (1-.5*dt)*contvol+.5*dt*(bass+mid+treb)*.333 ) ,2 ) ;\\nq1=contvol;\\nq2=mytime;\\nq8=beat;\\n\\ndecay=.935-above(q1,1.5)*(q1-1.5)*.03;\\nmonitor=q1;","pixel_eqs_eel":"zoom=1+ .1*(rad-.5)*abs(rad-.5);","warp":"","comp":""}') } }, t = {}; function n(a) { if (t[a]) return t[a].exports; var r = t[a] = { exports: {} }; return e[a](r, r.exports, n), r.exports } return n.d = (e, t) => { for (var a in t) n.o(t, a) && !n.o(e, a) && Object.defineProperty(e, a, { enumerable: !0, get: t[a] }) }, n.o = (e, t) => Object.prototype.hasOwnProperty.call(e, t), n.r = e => { "undefined" != typeof Symbol && Symbol.toStringTag && Object.defineProperty(e, Symbol.toStringTag, { value: "Module" }), Object.defineProperty(e, "__esModule", { value: !0 }) }, n("./base.js") })() }, base.exports = factory(); var baseExports = base.exports, butterchurnPresets = getDefaultExportFromCjs(baseExports); const DEFAULT_BUTTERCHURN_WINDOW_LAYOUT = { main: { position: { left: 0, top: 0 } }, equalizer: { position: { left: 0, top: 116 } }, playlist: { position: { left: 0, top: 232 }, size: { extraHeight: 4, extraWidth: 0 } }, milkdrop: { position: { left: 275, top: 0 }, size: { extraHeight: 12, extraWidth: 7 } } }, DEFAULT_REQUIRE_BUTTERCHURN_PRESETS = async () => Object.entries(butterchurnPresets).map(([e, t]) => ({ name: e, butterchurnPresetObject: t })); class WebampWithButterchurn extends Webamp { constructor(e) { const t = e.requireButterchurnPresets ?? DEFAULT_REQUIRE_BUTTERCHURN_PRESETS; super({ ...e, requireButterchurnPresets: t, __butterchurnOptions: { importButterchurn: () => Promise.resolve(qt), getPresets: t, butterchurnOpen: !0 }, windowLayout: e.windowLayout ?? DEFAULT_BUTTERCHURN_WINDOW_LAYOUT }) } } window.Webamp = Webamp; const debug$m = initDebug("music-metadata:id3v2:frame-parser"), defaultEnc = "latin1"; function parseGenre(e) { const t = []; let n, a = ""; for (const r of e) if ("string" == typeof n) if ("(" === r && "" === n) a += "(", n = void 0; else if (")" === r) { "" !== a && (t.push(a), a = ""); const e = parseGenreCode(n); e && t.push(e), n = void 0 } else n += r; else "(" === r ? n = "" : a += r; return a && (0 === t.length && a.match(/^\d*$/) && (a = parseGenreCode(a)), a && t.push(a)), t } function parseGenreCode(e) { return "RX" === e ? "Remix" : "CR" === e ? "Cover" : e.match(/^\d*$/) ? Genres[Number.parseInt(e)] : void 0 } class FrameParser { constructor(e, t) { this.major = e, this.warningCollector = t } readData(e, t, n) { if (0 === e.length) return void this.warningCollector.addWarning(`id3v2.${this.major} header has empty tag type=${t}`); const { encoding: a, bom: r } = TextEncodingToken.get(e, 0), s = e.length; let i = 0, o = []; const l = FrameParser.getNullTerminatorLength(a); let m; switch (debug$m(`Parsing tag type=${t}, encoding=${a}, bom=${r}`), "TXXX" !== t && "T" === t[0] ? "T*" : t) { case "T*": case "GRP1": case "IPLS": case "MVIN": case "MVNM": case "PCS": case "PCST": { let n; try { n = decodeString(e.slice(1), a).replace(/\x00+$/, "") } catch (c) { if (c instanceof Error) { this.warningCollector.addWarning(`id3v2.${this.major} type=${t} header has invalid string value: ${c.message}`); break } throw c } switch (t) { case "TMCL": case "TIPL": case "IPLS": o = FrameParser.functionList(this.splitValue(t, n)); break; case "TRK": case "TRCK": case "TPOS": o = n; break; case "TCOM": case "TEXT": case "TOLY": case "TOPE": case "TPE1": case "TSRC": o = this.splitValue(t, n); break; case "TCO": case "TCON": o = this.splitValue(t, n).map(e => parseGenre(e)).reduce((e, t) => e.concat(t), []); break; case "PCS": case "PCST": o = this.major >= 4 ? this.splitValue(t, n) : [n], o = Array.isArray(o) && "" === o[0] ? 1 : 0; break; default: o = this.major >= 4 ? this.splitValue(t, n) : [n] }break } case "TXXX": { const n = FrameParser.readIdentifierAndData(e, i + 1, s, a); o = { description: n.id, text: this.splitValue(t, decodeString(n.data, a).replace(/\x00+$/, "")) }; break } case "PIC": case "APIC": if (n) { const t = {}; switch (i += 1, this.major) { case 2: t.format = decodeString(e.slice(i, i + 3), "latin1"), i += 3; break; case 3: case 4: m = findZero(e, i, s, defaultEnc), t.format = decodeString(e.slice(i, m), defaultEnc), i = m + 1; break; default: throw makeUnexpectedMajorVersionError$1(this.major) }t.format = FrameParser.fixPictureMimeType(t.format), t.type = AttachedPictureType[e[i]], i += 1, m = findZero(e, i, s, a), t.description = decodeString(e.slice(i, m), a), i = m + l, t.data = e.slice(i, s), o = t } break; case "CNT": case "PCNT": o = UINT32_BE.get(e, 0); break; case "SYLT": { const t = SyncTextHeader.get(e, 0); i += SyncTextHeader.len; const n = { descriptor: "", language: t.language, contentType: t.contentType, timeStampFormat: t.timeStampFormat, syncText: [] }; let a = !1; for (; i < s;) { const r = FrameParser.readNullTerminatedString(e.subarray(i), t.encoding); if (i += r.len, a) { const t = UINT32_BE.get(e, i); i += UINT32_BE.len, n.syncText.push({ text: r.text, timestamp: t }) } else n.descriptor = r.text, a = !0 } o = n; break } case "ULT": case "USLT": case "COM": case "COMM": { const t = TextHeader.get(e, i); i += TextHeader.len; const n = FrameParser.readNullTerminatedString(e.subarray(i), t.encoding); i += n.len; const a = FrameParser.readNullTerminatedString(e.subarray(i), t.encoding); o = { language: t.language, descriptor: n.text, text: a.text }; break } case "UFID": { const t = FrameParser.readIdentifierAndData(e, i, s, defaultEnc); o = { owner_identifier: t.id, identifier: t.data }; break } case "PRIV": { const t = FrameParser.readIdentifierAndData(e, i, s, defaultEnc); o = { owner_identifier: t.id, data: t.data }; break } case "POPM": { m = findZero(e, i, s, defaultEnc); const t = decodeString(e.slice(i, m), defaultEnc); i = m + 1; const n = s - i; o = { email: t, rating: UINT8.get(e, i), counter: n >= 5 ? UINT32_BE.get(e, i + 1) : void 0 }; break } case "GEOB": { m = findZero(e, i + 1, s, a); const t = decodeString(e.slice(i + 1, m), defaultEnc); i = m + 1, m = findZero(e, i, s, a); const n = decodeString(e.slice(i, m), defaultEnc); i = m + 1, m = findZero(e, i, s, a); const r = decodeString(e.slice(i, m), defaultEnc); i = m + 1, o = { type: t, filename: n, description: r, data: e.slice(i, s) }; break } case "WCOM": case "WCOP": case "WOAF": case "WOAR": case "WOAS": case "WORS": case "WPAY": case "WPUB": m = findZero(e, i + 1, s, a), o = decodeString(e.slice(i, m), defaultEnc); break; case "WXXX": { m = findZero(e, i + 1, s, a); const t = decodeString(e.slice(i + 1, m), a); i = m + ("utf-16le" === a ? 2 : 1), o = { description: t, url: decodeString(e.slice(i, s), defaultEnc) }; break } case "WFD": case "WFED": o = decodeString(e.slice(i + 1, findZero(e, i + 1, s, a)), a); break; case "MCDI": o = e.slice(0, s); break; default: debug$m(`Warning: unsupported id3v2-tag-type: ${t}`) }return o } static readNullTerminatedString(e, t) { let n = t.bom ? 2 : 0; const a = findZero(e, n, e.length, t.encoding), r = e.slice(n, a); return n = "utf-16le" === t.encoding ? a + 2 : a + 1, { text: decodeString(r, t.encoding), len: n } } static fixPictureMimeType(e) { switch (e = e.toLocaleLowerCase()) { case "jpg": return "image/jpeg"; case "png": return "image/png" }return e } static functionList(e) { const t = {}; for (let n = 0; n + 1 < e.length; n += 2) { const a = e[n + 1].split(","); t[e[n]] = t[e[n]] ? t[e[n]].concat(a) : a } return t } splitValue(e, t) { let n; return this.major < 4 ? (n = t.split(/\x00/g), n.length > 1 ? this.warningCollector.addWarning(`ID3v2.${this.major} ${e} uses non standard null-separator.`) : n = t.split(/\//g)) : n = t.split(/\x00/g), FrameParser.trimArray(n) } static trimArray(e) { return e.map(e => e.replace(/\x00+$/, "").trim()) } static readIdentifierAndData(e, t, n, a) { const r = findZero(e, t, n, a), s = decodeString(e.slice(t, r), a); return t = r + FrameParser.getNullTerminatorLength(a), { id: s, data: e.slice(t, n) } } static getNullTerminatorLength(e) { return "utf-16le" === e ? 2 : 1 } } class Id3v2ContentError extends (makeUnexpectedFileContentError("id3v2")) { } function makeUnexpectedMajorVersionError$1(e) { throw new Id3v2ContentError(`Unexpected majorVer: ${e}`) } const asciiDecoder = new TextDecoder("ascii"); class ID3v2Parser { constructor() { this.tokenizer = void 0, this.id3Header = void 0, this.metadata = void 0, this.headerType = void 0, this.options = void 0 } static removeUnsyncBytes(e) { let t = 0, n = 0; for (; t < e.length - 1;)t !== n && (e[n] = e[t]), t += 255 === e[t] && 0 === e[t + 1] ? 2 : 1, n++; return t < e.length && (e[n++] = e[t]), e.slice(0, n) } static getFrameHeaderLength(e) { switch (e) { case 2: return 6; case 3: case 4: return 10; default: throw makeUnexpectedMajorVersionError(e) } } static readFrameFlags(e) { return { status: { tag_alter_preservation: getBit(e, 0, 6), file_alter_preservation: getBit(e, 0, 5), read_only: getBit(e, 0, 4) }, format: { grouping_identity: getBit(e, 1, 7), compression: getBit(e, 1, 3), encryption: getBit(e, 1, 2), unsynchronisation: getBit(e, 1, 1), data_length_indicator: getBit(e, 1, 0) } } } static readFrameData(e, t, n, a, r) { const s = new FrameParser(n, r); switch (n) { case 2: return s.readData(e, t.id, a); case 3: case 4: return t.flags?.format.unsynchronisation && (e = ID3v2Parser.removeUnsyncBytes(e)), t.flags?.format.data_length_indicator && (e = e.slice(4, e.length)), s.readData(e, t.id, a); default: throw makeUnexpectedMajorVersionError(n) } } static makeDescriptionTagName(e, t) { return e + (t ? `:${t}` : "") } async parse(e, t, n) { this.tokenizer = t, this.metadata = e, this.options = n; const a = await this.tokenizer.readToken(ID3v2Header); if ("ID3" !== a.fileIdentifier) throw new Id3v2ContentError("expected ID3-header file-identifier 'ID3' was not found"); return this.id3Header = a, this.headerType = `ID3v2.${a.version.major}`, a.flags.isExtendedHeader ? this.parseExtendedHeader() : this.parseId3Data(a.size) } async parseExtendedHeader() { const e = await this.tokenizer.readToken(ExtendedHeader), t = e.size - ExtendedHeader.len; return t > 0 ? this.parseExtendedHeaderData(t, e.size) : this.parseId3Data(this.id3Header.size - e.size) } async parseExtendedHeaderData(e, t) { return await this.tokenizer.ignore(e), this.parseId3Data(this.id3Header.size - t) } async parseId3Data(e) { const t = await this.tokenizer.readToken(new Uint8ArrayType(e)); for (const n of this.parseMetadata(t)) "TXXX" === n.id ? n.value && await this.handleTag(n, n.value.text, () => n.value.description) : await (Array.isArray(n.value) ? Promise.all(n.value.map(e => this.addTag(n.id, e))) : this.addTag(n.id, n.value)) } async handleTag(e, t, n, a = e => e) { await Promise.all(t.map(t => this.addTag(ID3v2Parser.makeDescriptionTagName(e.id, n(t)), a(t)))) } async addTag(e, t) { await this.metadata.addTag(this.headerType, e, t) } parseMetadata(e) { let t = 0; const n = []; for (; t !== e.length;) { const a = ID3v2Parser.getFrameHeaderLength(this.id3Header.version.major); if (t + a > e.length) { this.metadata.addWarning("Illegal ID3v2 tag length"); break } const r = e.slice(t, t + a); t += a; const s = this.readFrameHeader(r, this.id3Header.version.major), i = e.slice(t, t + s.length); t += s.length; const o = ID3v2Parser.readFrameData(i, s, this.id3Header.version.major, !this.options.skipCovers, this.metadata); o && n.push({ id: s.id, value: o }) } return n } readFrameHeader(e, t) { let n; switch (t) { case 2: n = { id: asciiDecoder.decode(e.slice(0, 3)), length: UINT24_BE.get(e, 3) }, n.id.match(/[A-Z0-9]{3}/g) || this.metadata.addWarning(`Invalid ID3v2.${this.id3Header.version.major} frame-header-ID: ${n.id}`); break; case 3: case 4: n = { id: asciiDecoder.decode(e.slice(0, 4)), length: (4 === t ? UINT32SYNCSAFE : UINT32_BE).get(e, 4), flags: ID3v2Parser.readFrameFlags(e.slice(8, 10)) }, n.id.match(/[A-Z0-9]{4}/g) || this.metadata.addWarning(`Invalid ID3v2.${this.id3Header.version.major} frame-header-ID: ${n.id}`); break; default: throw makeUnexpectedMajorVersionError(t) }return n } } function makeUnexpectedMajorVersionError(e) { throw new Id3v2ContentError(`Unexpected majorVer: ${e}`) } const debug$l = initDebug("music-metadata:parser:ID3"); class AbstractID3Parser extends BasicParser { constructor() { super(...arguments), this.id3parser = new ID3v2Parser } static async startsWithID3v2Header(e) { return "ID3" === (await e.peekToken(ID3v2Header)).fileIdentifier } async parse() { try { await this.parseID3v2() } catch (err) { if (!(err instanceof EndOfStreamError)) throw err; debug$l("End-of-stream") } } finalize() { } async parseID3v2() { if (await this.tryReadId3v2Headers(), debug$l("End of ID3v2 header, go to MPEG-parser: pos=%s", this.tokenizer.position), await this.postId3v2Parse(), this.options.skipPostHeaders && this.metadata.hasAny()) this.finalize(); else { const e = new ID3v1Parser(this.metadata, this.tokenizer, this.options); await e.parse(), this.finalize() } } async tryReadId3v2Headers() { if ("ID3" === (await this.tokenizer.peekToken(ID3v2Header)).fileIdentifier) return debug$l("Found ID3v2 header, pos=%s", this.tokenizer.position), await this.id3parser.parse(this.metadata, this.tokenizer, this.options), this.tryReadId3v2Headers() } } const ReplayGain = { len: 2, get: (e, t) => { const n = getBitAllignedNumber$1(e, t, 0, 3), a = getBitAllignedNumber$1(e, t, 6, 1), r = getBitAllignedNumber$1(e, t, 7, 9) / 10; if (n > 0) return { type: getBitAllignedNumber$1(e, t, 0, 3), origin: getBitAllignedNumber$1(e, t, 3, 3), adjustment: a ? -r : r } } }, ExtendedLameHeader = { len: 27, get: (e, t) => { const n = UINT32_BE.get(e, t + 2); return { revision: getBitAllignedNumber$1(e, t, 0, 4), vbr_method: getBitAllignedNumber$1(e, t, 4, 4), lowpass_filter: 100 * UINT8.get(e, t + 1), track_peak: 0 === n ? null : n / 2 ** 23, track_gain: ReplayGain.get(e, 6), album_gain: ReplayGain.get(e, 8), music_length: UINT32_BE.get(e, t + 20), music_crc: UINT8.get(e, t + 24), header_crc: UINT16_BE.get(e, t + 24) } } }, InfoTagHeaderTag = new StringType(4, "ascii"), LameEncoderVersion = new StringType(6, "ascii"), XingHeaderFlags = { len: 4, get: (e, t) => ({ frames: isBitSet$2(e, t, 31), bytes: isBitSet$2(e, t, 30), toc: isBitSet$2(e, t, 29), vbrScale: isBitSet$2(e, t, 28) }) }; async function readXingHeader(e) { const t = await e.readToken(XingHeaderFlags), n = { numFrames: null, streamSize: null, vbrScale: null }; if (t.frames && (n.numFrames = await e.readToken(UINT32_BE)), t.bytes && (n.streamSize = await e.readToken(UINT32_BE)), t.toc && (n.toc = new Uint8Array(100), await e.readBuffer(n.toc)), t.vbrScale && (n.vbrScale = await e.readToken(UINT32_BE)), "LAME" === await e.peekToken(new StringType(4, "ascii"))) { await e.ignore(4), n.lame = { version: await e.readToken(new StringType(5, "ascii")) }; const t = n.lame.version.match(/\d+.\d+/g); if (null !== t) { const a = t[0].split(".").map(e => Number.parseInt(e, 10)); a[0] >= 3 && a[1] >= 90 && (n.lame.extended = await e.readToken(ExtendedLameHeader)) } } return n } const debug$k = initDebug("music-metadata:parser:mpeg"); class MpegContentError extends (makeUnexpectedFileContentError("MPEG")) { } const maxPeekLen = 1024, MPEG4 = { AudioObjectTypes: ["AAC Main", "AAC LC", "AAC SSR", "AAC LTP"], SamplingFrequencies: [96e3, 88200, 64e3, 48e3, 44100, 32e3, 24e3, 22050, 16e3, 12e3, 11025, 8e3, 7350, null, null, -1] }, MPEG4_ChannelConfigurations = [void 0, ["front-center"], ["front-left", "front-right"], ["front-center", "front-left", "front-right"], ["front-center", "front-left", "front-right", "back-center"], ["front-center", "front-left", "front-right", "back-left", "back-right"], ["front-center", "front-left", "front-right", "back-left", "back-right", "LFE-channel"], ["front-center", "front-left", "front-right", "side-left", "side-right", "back-left", "back-right", "LFE-channel"]]; class MpegFrameHeader { constructor(e, t) { this.bitrateIndex = null, this.sampRateFreqIndex = null, this.padding = null, this.privateBit = null, this.channelModeIndex = null, this.modeExtension = null, this.isOriginalMedia = null, this.version = null, this.bitrate = null, this.samplingRate = null, this.frameLength = 0, this.versionIndex = getBitAllignedNumber$1(e, t + 1, 3, 2), this.layer = MpegFrameHeader.LayerDescription[getBitAllignedNumber$1(e, t + 1, 5, 2)], this.versionIndex > 1 && 0 === this.layer ? this.parseAdtsHeader(e, t) : this.parseMpegHeader(e, t), this.isProtectedByCRC = !isBitSet$2(e, t + 1, 7) } calcDuration(e) { return null == this.samplingRate ? null : e * this.calcSamplesPerFrame() / this.samplingRate } calcSamplesPerFrame() { return MpegFrameHeader.samplesInFrameTable[1 === this.version ? 0 : 1][this.layer] } calculateSideInfoLength() { if (3 !== this.layer) return 2; if (3 === this.channelModeIndex) { if (1 === this.version) return 17; if (2 === this.version || 2.5 === this.version) return 9 } else { if (1 === this.version) return 32; if (2 === this.version || 2.5 === this.version) return 17 } return null } calcSlotSize() { return [null, 4, 1, 1][this.layer] } parseMpegHeader(e, t) { this.container = "MPEG", this.bitrateIndex = getBitAllignedNumber$1(e, t + 2, 0, 4), this.sampRateFreqIndex = getBitAllignedNumber$1(e, t + 2, 4, 2), this.padding = isBitSet$2(e, t + 2, 6), this.privateBit = isBitSet$2(e, t + 2, 7), this.channelModeIndex = getBitAllignedNumber$1(e, t + 3, 0, 2), this.modeExtension = getBitAllignedNumber$1(e, t + 3, 2, 2), this.isCopyrighted = isBitSet$2(e, t + 3, 4), this.isOriginalMedia = isBitSet$2(e, t + 3, 5), this.emphasis = getBitAllignedNumber$1(e, t + 3, 7, 2), this.version = MpegFrameHeader.VersionID[this.versionIndex], this.channelMode = MpegFrameHeader.ChannelMode[this.channelModeIndex], this.codec = `MPEG ${this.version} Layer ${this.layer}`; const n = this.calcBitrate(); if (!n) throw new MpegContentError("Cannot determine bit-rate"); if (this.bitrate = 1e3 * n, this.samplingRate = this.calcSamplingRate(), null == this.samplingRate) throw new MpegContentError("Cannot determine sampling-rate") } parseAdtsHeader(e, t) { debug$k("layer=0 => ADTS"), this.version = 2 === this.versionIndex ? 4 : 2, this.container = `ADTS/MPEG-${this.version}`; const n = getBitAllignedNumber$1(e, t + 2, 0, 2); this.codec = "AAC", this.codecProfile = MPEG4.AudioObjectTypes[n], debug$k(`MPEG-4 audio-codec=${this.codec}`); const a = getBitAllignedNumber$1(e, t + 2, 2, 4); this.samplingRate = MPEG4.SamplingFrequencies[a], debug$k(`sampling-rate=${this.samplingRate}`); const r = getBitAllignedNumber$1(e, t + 2, 7, 3); this.mp4ChannelConfig = MPEG4_ChannelConfigurations[r], debug$k(`channel-config=${this.mp4ChannelConfig ? this.mp4ChannelConfig.join("+") : "?"}`), this.frameLength = getBitAllignedNumber$1(e, t + 3, 6, 2) << 11 } calcBitrate() { if (0 === this.bitrateIndex || 15 === this.bitrateIndex) return null; if (this.version && this.bitrateIndex) { const e = 10 * Math.floor(this.version) + this.layer; return MpegFrameHeader.bitrate_index[this.bitrateIndex][e] } return null } calcSamplingRate() { return 3 === this.sampRateFreqIndex || null === this.version || null == this.sampRateFreqIndex ? null : MpegFrameHeader.sampling_rate_freq_index[this.version][this.sampRateFreqIndex] } } MpegFrameHeader.SyncByte1 = 255, MpegFrameHeader.SyncByte2 = 224, MpegFrameHeader.VersionID = [2.5, null, 2, 1], MpegFrameHeader.LayerDescription = [0, 3, 2, 1], MpegFrameHeader.ChannelMode = ["stereo", "joint_stereo", "dual_channel", "mono"], MpegFrameHeader.bitrate_index = { 1: { 11: 32, 12: 32, 13: 32, 21: 32, 22: 8, 23: 8 }, 2: { 11: 64, 12: 48, 13: 40, 21: 48, 22: 16, 23: 16 }, 3: { 11: 96, 12: 56, 13: 48, 21: 56, 22: 24, 23: 24 }, 4: { 11: 128, 12: 64, 13: 56, 21: 64, 22: 32, 23: 32 }, 5: { 11: 160, 12: 80, 13: 64, 21: 80, 22: 40, 23: 40 }, 6: { 11: 192, 12: 96, 13: 80, 21: 96, 22: 48, 23: 48 }, 7: { 11: 224, 12: 112, 13: 96, 21: 112, 22: 56, 23: 56 }, 8: { 11: 256, 12: 128, 13: 112, 21: 128, 22: 64, 23: 64 }, 9: { 11: 288, 12: 160, 13: 128, 21: 144, 22: 80, 23: 80 }, 10: { 11: 320, 12: 192, 13: 160, 21: 160, 22: 96, 23: 96 }, 11: { 11: 352, 12: 224, 13: 192, 21: 176, 22: 112, 23: 112 }, 12: { 11: 384, 12: 256, 13: 224, 21: 192, 22: 128, 23: 128 }, 13: { 11: 416, 12: 320, 13: 256, 21: 224, 22: 144, 23: 144 }, 14: { 11: 448, 12: 384, 13: 320, 21: 256, 22: 160, 23: 160 } }, MpegFrameHeader.sampling_rate_freq_index = { 1: { 0: 44100, 1: 48e3, 2: 32e3 }, 2: { 0: 22050, 1: 24e3, 2: 16e3 }, 2.5: { 0: 11025, 1: 12e3, 2: 8e3 } }, MpegFrameHeader.samplesInFrameTable = [[0, 384, 1152, 1152], [0, 384, 1152, 576]]; const FrameHeader = { len: 4, get: (e, t) => new MpegFrameHeader(e, t) }; function getVbrCodecProfile(e) { return `V${Math.floor((100 - e) / 10)}` } class MpegParser extends AbstractID3Parser { constructor() { super(...arguments), this.frameCount = 0, this.syncFrameCount = -1, this.countSkipFrameData = 0, this.totalDataLength = 0, this.bitrates = [], this.offset = 0, this.frame_size = 0, this.crc = null, this.calculateEofDuration = !1, this.samplesPerFrame = null, this.buf_frame_header = new Uint8Array(4), this.mpegOffset = null, this.syncPeek = { buf: new Uint8Array(maxPeekLen), len: 0 } } async postId3v2Parse() { this.metadata.setFormat("lossless", !1), this.metadata.setAudioOnly(); try { let e = !1; for (; !e;)await this.sync(), e = await this.parseCommonMpegHeader() } catch (err) { if (!(err instanceof EndOfStreamError)) throw err; if (debug$k("End-of-stream"), this.calculateEofDuration && null !== this.samplesPerFrame) { const e = this.frameCount * this.samplesPerFrame; if (this.metadata.setFormat("numberOfSamples", e), this.metadata.format.sampleRate) { const t = e / this.metadata.format.sampleRate; debug$k(`Calculate duration at EOF: ${t} sec.`, t), this.metadata.setFormat("duration", t) } } } } finalize() { const e = this.metadata.format, t = !!this.metadata.native.ID3v1; if (null !== this.mpegOffset) { if (e.duration && this.tokenizer.fileInfo.size) { const n = this.tokenizer.fileInfo.size - this.mpegOffset - (t ? 128 : 0); e.codecProfile && "V" === e.codecProfile[0] && this.metadata.setFormat("bitrate", 8 * n / e.duration) } if (this.tokenizer.fileInfo.size && "CBR" === e.codecProfile) { const n = this.tokenizer.fileInfo.size - this.mpegOffset - (t ? 128 : 0); if (null !== this.frame_size && null !== this.samplesPerFrame) { const t = Math.round(n / this.frame_size) * this.samplesPerFrame; if (this.metadata.setFormat("numberOfSamples", t), e.sampleRate && !e.duration) { const n = t / e.sampleRate; debug$k("Calculate CBR duration based on file size: %s", n), this.metadata.setFormat("duration", n) } } } } } async sync() { let e = !1; for (; ;) { let t = 0; if (this.syncPeek.len = await this.tokenizer.peekBuffer(this.syncPeek.buf, { length: maxPeekLen, mayBeLess: !0 }), this.syncPeek.len <= 163) throw new EndOfStreamError; for (; ;) { if (e && !(224 & ~this.syncPeek.buf[t])) return this.buf_frame_header[0] = MpegFrameHeader.SyncByte1, this.buf_frame_header[1] = this.syncPeek.buf[t], await this.tokenizer.ignore(t), debug$k(`Sync at offset=${this.tokenizer.position - 1}, frameCount=${this.frameCount}`), this.syncFrameCount === this.frameCount && (debug$k(`Re-synced MPEG stream, frameCount=${this.frameCount}`), this.frameCount = 0, this.frame_size = 0), void (this.syncFrameCount = this.frameCount); if (e = !1, t = this.syncPeek.buf.indexOf(MpegFrameHeader.SyncByte1, t), -1 === t) { if (this.syncPeek.len < this.syncPeek.buf.length) throw new EndOfStreamError; await this.tokenizer.ignore(this.syncPeek.len); break } ++t, e = !0 } } } async parseCommonMpegHeader() { let e; 0 === this.frameCount && (this.mpegOffset = this.tokenizer.position - 1), await this.tokenizer.peekBuffer(this.buf_frame_header.subarray(1), { length: 3 }); try { e = FrameHeader.get(this.buf_frame_header, 0) } catch (err) { if (await this.tokenizer.ignore(1), err instanceof Error) return this.metadata.addWarning(`Parse error: ${err.message}`), !1; throw err } return await this.tokenizer.ignore(3), this.metadata.setFormat("container", e.container), this.metadata.setFormat("codec", e.codec), this.metadata.setFormat("lossless", !1), this.metadata.setFormat("sampleRate", e.samplingRate), this.frameCount++, null !== e.version && e.version >= 2 && 0 === e.layer ? this.parseAdts(e) : this.parseAudioFrameHeader(e) } async parseAudioFrameHeader(e) { this.metadata.setFormat("numberOfChannels", "mono" === e.channelMode ? 1 : 2), this.metadata.setFormat("bitrate", e.bitrate), this.frameCount < 2e5 && debug$k("offset=%s MP%s bitrate=%s sample-rate=%s", this.tokenizer.position - 4, e.layer, e.bitrate, e.samplingRate); const t = e.calcSlotSize(); if (null === t) throw new MpegContentError("invalid slot_size"); const n = e.calcSamplesPerFrame(); debug$k(`samples_per_frame=${n}`); const a = n / 8; if (null !== e.bitrate && null != e.samplingRate) { const n = a * e.bitrate / e.samplingRate + (e.padding ? t : 0); this.frame_size = Math.floor(n) } if (this.audioFrameHeader = e, null !== e.bitrate && this.bitrates.push(e.bitrate), 1 === this.frameCount) return this.offset = FrameHeader.len, await this.skipSideInformation(), !1; if (3 === this.frameCount) { if (this.areAllSame(this.bitrates)) { if (this.samplesPerFrame = n, this.metadata.setFormat("codecProfile", "CBR"), this.tokenizer.fileInfo.size) return !0 } else if (this.metadata.format.duration) return !0; if (!this.options.duration) return !0 } return this.options.duration && 4 === this.frameCount && (this.samplesPerFrame = n, this.calculateEofDuration = !0), this.offset = 4, e.isProtectedByCRC ? (await this.parseCrc(), !1) : (await this.skipSideInformation(), !1) } async parseAdts(e) { const t = new Uint8Array(3); if (await this.tokenizer.readBuffer(t), e.frameLength += getBitAllignedNumber$1(t, 0, 0, 11), this.totalDataLength += e.frameLength, this.samplesPerFrame = 1024, null !== e.samplingRate) { const t = e.samplingRate / this.samplesPerFrame, n = 8 * (0 === this.frameCount ? 0 : this.totalDataLength / this.frameCount) * t + .5; this.metadata.setFormat("bitrate", n), debug$k(`frame-count=${this.frameCount}, size=${e.frameLength} bytes, bit-rate=${n}`) } if (await this.tokenizer.ignore(e.frameLength > 7 ? e.frameLength - 7 : 1), 3 === this.frameCount) { if (this.metadata.setFormat("codecProfile", e.codecProfile), e.mp4ChannelConfig && this.metadata.setFormat("numberOfChannels", e.mp4ChannelConfig.length), !this.options.duration) return !0; this.calculateEofDuration = !0 } return !1 } async parseCrc() { return this.crc = await this.tokenizer.readNumber(INT16_BE), this.offset += 2, this.skipSideInformation() } async skipSideInformation() { if (this.audioFrameHeader) { const e = this.audioFrameHeader.calculateSideInfoLength(); if (null !== e) return await this.tokenizer.readToken(new Uint8ArrayType(e)), this.offset += e, void await this.readXtraInfoHeader() } } async readXtraInfoHeader() { const e = await this.tokenizer.readToken(InfoTagHeaderTag); switch (this.offset += InfoTagHeaderTag.len, e) { case "Info": return this.metadata.setFormat("codecProfile", "CBR"), this.readXingInfoHeader(); case "Xing": { const e = await this.readXingInfoHeader(); if (null !== e.vbrScale) { const t = getVbrCodecProfile(e.vbrScale); this.metadata.setFormat("codecProfile", t) } return null } case "Xtra": break; case "LAME": { const e = await this.tokenizer.readToken(LameEncoderVersion); if (null !== this.frame_size && this.frame_size >= this.offset + LameEncoderVersion.len) return this.offset += LameEncoderVersion.len, this.metadata.setFormat("tool", `LAME ${e}`), await this.skipFrameData(this.frame_size - this.offset), null; this.metadata.addWarning("Corrupt LAME header"); break } }const t = this.frame_size - this.offset; return t < 0 ? this.metadata.addWarning(`Frame ${this.frameCount}corrupt: negative frameDataLeft`) : await this.skipFrameData(t), null } async readXingInfoHeader() { const e = this.tokenizer.position, t = await readXingHeader(this.tokenizer); if (this.offset += this.tokenizer.position - e, t.lame && (this.metadata.setFormat("tool", `LAME ${stripNulls(t.lame.version)}`), t.lame.extended && (this.metadata.setFormat("trackPeakLevel", t.lame.extended.track_peak), t.lame.extended.track_gain && this.metadata.setFormat("trackGain", t.lame.extended.track_gain.adjustment), t.lame.extended.album_gain && this.metadata.setFormat("albumGain", t.lame.extended.album_gain.adjustment), this.metadata.setFormat("duration", t.lame.extended.music_length / 1e3))), t.streamSize && this.audioFrameHeader && null !== t.numFrames) { const e = this.audioFrameHeader.calcDuration(t.numFrames); return this.metadata.setFormat("duration", e), debug$k("Get duration from Xing header: %s", this.metadata.format.duration), t } const n = this.frame_size - this.offset; return await this.skipFrameData(n), t } async skipFrameData(e) { if (e < 0) throw new MpegContentError("frame-data-left cannot be negative"); await this.tokenizer.ignore(e), this.countSkipFrameData += e } areAllSame(e) { const t = e[0]; return e.every(e => e === t) } } var MpegParser$1 = Object.freeze({ __proto__: null, MpegContentError: MpegContentError, MpegParser: MpegParser }); class GUID { static fromBin(e, t = 0) { return new GUID(GUID.decode(e, t)) } static decode(e, t = 0) { const n = new DataView(e.buffer, t); return `${n.getUint32(0, !0).toString(16)}-${n.getUint16(4, !0).toString(16)}-${n.getUint16(6, !0).toString(16)}-${n.getUint16(8).toString(16)}-${uint8ArrayToHex(e.slice(t + 10, t + 16))}`.toUpperCase() } static decodeMediaType(e) { switch (e.str) { case GUID.AudioMedia.str: return "audio"; case GUID.VideoMedia.str: return "video"; case GUID.CommandMedia.str: return "command"; case GUID.Degradable_JPEG_Media.str: return "degradable-jpeg"; case GUID.FileTransferMedia.str: return "file-transfer"; case GUID.BinaryMedia.str: return "binary" } } static encode(e) { const t = new Uint8Array(16), n = new DataView(t.buffer); return n.setUint32(0, Number.parseInt(e.slice(0, 8), 16), !0), n.setUint16(4, Number.parseInt(e.slice(9, 13), 16), !0), n.setUint16(6, Number.parseInt(e.slice(14, 18), 16), !0), t.set(hexToUint8Array(e.slice(19, 23)), 8), t.set(hexToUint8Array(e.slice(24)), 10), t } constructor(e) { this.str = e } equals(e) { return this.str === e.str } toBin() { return GUID.encode(this.str) } } function getParserForAttr(e) { return attributeParsers[e] } function parseUnicodeAttr(e) { return stripNulls(decodeString(e, "utf-16le")) } GUID.HeaderObject = new GUID("75B22630-668E-11CF-A6D9-00AA0062CE6C"), GUID.DataObject = new GUID("75B22636-668E-11CF-A6D9-00AA0062CE6C"), GUID.SimpleIndexObject = new GUID("33000890-E5B1-11CF-89F4-00A0C90349CB"), GUID.IndexObject = new GUID("D6E229D3-35DA-11D1-9034-00A0C90349BE"), GUID.MediaObjectIndexObject = new GUID("FEB103F8-12AD-4C64-840F-2A1D2F7AD48C"), GUID.TimecodeIndexObject = new GUID("3CB73FD0-0C4A-4803-953D-EDF7B6228F0C"), GUID.FilePropertiesObject = new GUID("8CABDCA1-A947-11CF-8EE4-00C00C205365"), GUID.StreamPropertiesObject = new GUID("B7DC0791-A9B7-11CF-8EE6-00C00C205365"), GUID.HeaderExtensionObject = new GUID("5FBF03B5-A92E-11CF-8EE3-00C00C205365"), GUID.CodecListObject = new GUID("86D15240-311D-11D0-A3A4-00A0C90348F6"), GUID.ScriptCommandObject = new GUID("1EFB1A30-0B62-11D0-A39B-00A0C90348F6"), GUID.MarkerObject = new GUID("F487CD01-A951-11CF-8EE6-00C00C205365"), GUID.BitrateMutualExclusionObject = new GUID("D6E229DC-35DA-11D1-9034-00A0C90349BE"), GUID.ErrorCorrectionObject = new GUID("75B22635-668E-11CF-A6D9-00AA0062CE6C"), GUID.ContentDescriptionObject = new GUID("75B22633-668E-11CF-A6D9-00AA0062CE6C"), GUID.ExtendedContentDescriptionObject = new GUID("D2D0A440-E307-11D2-97F0-00A0C95EA850"), GUID.ContentBrandingObject = new GUID("2211B3FA-BD23-11D2-B4B7-00A0C955FC6E"), GUID.StreamBitratePropertiesObject = new GUID("7BF875CE-468D-11D1-8D82-006097C9A2B2"), GUID.ContentEncryptionObject = new GUID("2211B3FB-BD23-11D2-B4B7-00A0C955FC6E"), GUID.ExtendedContentEncryptionObject = new GUID("298AE614-2622-4C17-B935-DAE07EE9289C"), GUID.DigitalSignatureObject = new GUID("2211B3FC-BD23-11D2-B4B7-00A0C955FC6E"), GUID.PaddingObject = new GUID("1806D474-CADF-4509-A4BA-9AABCB96AAE8"), GUID.ExtendedStreamPropertiesObject = new GUID("14E6A5CB-C672-4332-8399-A96952065B5A"), GUID.AdvancedMutualExclusionObject = new GUID("A08649CF-4775-4670-8A16-6E35357566CD"), GUID.GroupMutualExclusionObject = new GUID("D1465A40-5A79-4338-B71B-E36B8FD6C249"), GUID.StreamPrioritizationObject = new GUID("D4FED15B-88D3-454F-81F0-ED5C45999E24"), GUID.BandwidthSharingObject = new GUID("A69609E6-517B-11D2-B6AF-00C04FD908E9"), GUID.LanguageListObject = new GUID("7C4346A9-EFE0-4BFC-B229-393EDE415C85"), GUID.MetadataObject = new GUID("C5F8CBEA-5BAF-4877-8467-AA8C44FA4CCA"), GUID.MetadataLibraryObject = new GUID("44231C94-9498-49D1-A141-1D134E457054"), GUID.IndexParametersObject = new GUID("D6E229DF-35DA-11D1-9034-00A0C90349BE"), GUID.MediaObjectIndexParametersObject = new GUID("6B203BAD-3F11-48E4-ACA8-D7613DE2CFA7"), GUID.TimecodeIndexParametersObject = new GUID("F55E496D-9797-4B5D-8C8B-604DFE9BFB24"), GUID.CompatibilityObject = new GUID("26F18B5D-4584-47EC-9F5F-0E651F0452C9"), GUID.AdvancedContentEncryptionObject = new GUID("43058533-6981-49E6-9B74-AD12CB86D58C"), GUID.AudioMedia = new GUID("F8699E40-5B4D-11CF-A8FD-00805F5C442B"), GUID.VideoMedia = new GUID("BC19EFC0-5B4D-11CF-A8FD-00805F5C442B"), GUID.CommandMedia = new GUID("59DACFC0-59E6-11D0-A3AC-00A0C90348F6"), GUID.JFIF_Media = new GUID("B61BE100-5B4E-11CF-A8FD-00805F5C442B"), GUID.Degradable_JPEG_Media = new GUID("35907DE0-E415-11CF-A917-00805F5C442B"), GUID.FileTransferMedia = new GUID("91BD222C-F21C-497A-8B6D-5AA86BFC0185"), GUID.BinaryMedia = new GUID("3AFB65E2-47EF-40F2-AC2C-70A90D71D343"), GUID.ASF_Index_Placeholder_Object = new GUID("D9AADE20-7C17-4F9C-BC28-8555DD98E2A2"); const attributeParsers = [parseUnicodeAttr, parseByteArrayAttr, parseBoolAttr, parseDWordAttr, parseQWordAttr, parseWordAttr, parseByteArrayAttr]; function parseByteArrayAttr(e) { return new Uint8Array(e) } function parseBoolAttr(e, t = 0) { return 1 === parseWordAttr(e, t) } function parseDWordAttr(e, t = 0) { return UINT32_LE.get(e, t) } function parseQWordAttr(e, t = 0) { return UINT64_LE.get(e, t) } function parseWordAttr(e, t = 0) { return UINT16_LE.get(e, t) } class AsfContentParseError extends (makeUnexpectedFileContentError("ASF")) { } const TopLevelHeaderObjectToken = { len: 30, get: (e, t) => ({ objectId: GUID.fromBin(e, t), objectSize: Number(UINT64_LE.get(e, t + 16)), numberOfHeaderObjects: UINT32_LE.get(e, t + 24) }) }, HeaderObjectToken = { len: 24, get: (e, t) => ({ objectId: GUID.fromBin(e, t), objectSize: Number(UINT64_LE.get(e, t + 16)) }) }; class State { constructor(e) { this.len = Number(e.objectSize) - HeaderObjectToken.len } postProcessTag(e, t, n, a) { if ("WM/Picture" === t) e.push({ id: t, value: WmPictureToken.fromBuffer(a) }); else { const r = getParserForAttr(n); if (!r) throw new AsfContentParseError(`unexpected value headerType: ${n}`); e.push({ id: t, value: r(a) }) } } } class IgnoreObjectState extends State { get(e, t) { return null } } class FilePropertiesObject extends State { get(e, t) { return { fileId: GUID.fromBin(e, t), fileSize: UINT64_LE.get(e, t + 16), creationDate: UINT64_LE.get(e, t + 24), dataPacketsCount: UINT64_LE.get(e, t + 32), playDuration: UINT64_LE.get(e, t + 40), sendDuration: UINT64_LE.get(e, t + 48), preroll: UINT64_LE.get(e, t + 56), flags: { broadcast: getBit(e, t + 64, 24), seekable: getBit(e, t + 64, 25) }, minimumDataPacketSize: UINT32_LE.get(e, t + 68), maximumDataPacketSize: UINT32_LE.get(e, t + 72), maximumBitrate: UINT32_LE.get(e, t + 76) } } } FilePropertiesObject.guid = GUID.FilePropertiesObject; class StreamPropertiesObject extends State { get(e, t) { return { streamType: GUID.decodeMediaType(GUID.fromBin(e, t)), errorCorrectionType: GUID.fromBin(e, t + 8) } } } StreamPropertiesObject.guid = GUID.StreamPropertiesObject; class HeaderExtensionObject { constructor() { this.len = 22 } get(e, t) { const n = new DataView(e.buffer, t); return { reserved1: GUID.fromBin(e, t), reserved2: n.getUint16(16, !0), extensionDataSize: n.getUint16(18, !0) } } } HeaderExtensionObject.guid = GUID.HeaderExtensionObject; const CodecListObjectHeader = { len: 20, get: (e, t) => ({ entryCount: new DataView(e.buffer, t).getUint16(16, !0) }) }; async function readString(e) { const t = await e.readNumber(UINT16_LE); return (await e.readToken(new StringType(2 * t, "utf-16le"))).replace("\0", "") } async function readCodecEntries(e) { const t = await e.readToken(CodecListObjectHeader), n = []; for (let a = 0; a < t.entryCount; ++a)n.push(await readCodecEntry(e)); return n } async function readInformation(e) { const t = await e.readNumber(UINT16_LE), n = new Uint8Array(t); return await e.readBuffer(n), n } async function readCodecEntry(e) { const t = await e.readNumber(UINT16_LE); return { type: { videoCodec: !(1 & ~t), audioCodec: !(2 & ~t) }, codecName: await readString(e), description: await readString(e), information: await readInformation(e) } } class ContentDescriptionObjectState extends State { get(e, t) { const n = [], a = new DataView(e.buffer, t); let r = 10; for (let s = 0; s < ContentDescriptionObjectState.contentDescTags.length; ++s) { const i = a.getUint16(2 * s, !0); if (i > 0) { const a = ContentDescriptionObjectState.contentDescTags[s], o = r + i; n.push({ id: a, value: parseUnicodeAttr(e.slice(t + r, t + o)) }), r = o } } return n } } ContentDescriptionObjectState.guid = GUID.ContentDescriptionObject, ContentDescriptionObjectState.contentDescTags = ["Title", "Author", "Copyright", "Description", "Rating"]; class ExtendedContentDescriptionObjectState extends State { get(e, t) { const n = [], a = new DataView(e.buffer, t), r = a.getUint16(0, !0); let s = 2; for (let i = 0; i < r; i += 1) { const r = a.getUint16(s, !0); s += 2; const i = parseUnicodeAttr(e.slice(t + s, t + s + r)); s += r; const o = a.getUint16(s, !0); s += 2; const l = a.getUint16(s, !0); s += 2; const m = e.slice(t + s, t + s + l); s += l, this.postProcessTag(n, i, o, m) } return n } } ExtendedContentDescriptionObjectState.guid = GUID.ExtendedContentDescriptionObject; class ExtendedStreamPropertiesObjectState extends State { get(e, t) { const n = new DataView(e.buffer, t); return { startTime: UINT64_LE.get(e, t), endTime: UINT64_LE.get(e, t + 8), dataBitrate: n.getInt32(12, !0), bufferSize: n.getInt32(16, !0), initialBufferFullness: n.getInt32(20, !0), alternateDataBitrate: n.getInt32(24, !0), alternateBufferSize: n.getInt32(28, !0), alternateInitialBufferFullness: n.getInt32(32, !0), maximumObjectSize: n.getInt32(36, !0), flags: { reliableFlag: getBit(e, t + 40, 0), seekableFlag: getBit(e, t + 40, 1), resendLiveCleanpointsFlag: getBit(e, t + 40, 2) }, streamNumber: n.getInt16(42, !0), streamLanguageId: n.getInt16(44, !0), averageTimePerFrame: n.getInt32(52, !0), streamNameCount: n.getInt32(54, !0), payloadExtensionSystems: n.getInt32(56, !0), streamNames: [], streamPropertiesObject: null } } } ExtendedStreamPropertiesObjectState.guid = GUID.ExtendedStreamPropertiesObject; class MetadataObjectState extends State { get(e, t) { const n = [], a = new DataView(e.buffer, t), r = a.getUint16(0, !0); let s = 2; for (let i = 0; i < r; i += 1) { s += 4; const r = a.getUint16(s, !0); s += 2; const i = a.getUint16(s, !0); s += 2; const o = a.getUint32(s, !0); s += 4; const l = parseUnicodeAttr(e.slice(t + s, t + s + r)); s += r; const m = e.slice(t + s, t + s + o); s += o, this.postProcessTag(n, l, i, m) } return n } } MetadataObjectState.guid = GUID.MetadataObject; class MetadataLibraryObjectState extends MetadataObjectState { } MetadataLibraryObjectState.guid = GUID.MetadataLibraryObject; class WmPictureToken { static fromBuffer(e) { return new WmPictureToken(e.length).get(e, 0) } constructor(e) { this.len = e } get(e, t) { const n = new DataView(e.buffer, t), a = n.getUint8(0), r = n.getInt32(1, !0); let s = 5; for (; 0 !== n.getUint16(s);)s += 2; const i = new StringType(s - 5, "utf-16le").get(e, 5); for (; 0 !== n.getUint16(s);)s += 2; const o = new StringType(s - 5, "utf-16le").get(e, 5); return { type: AttachedPictureType[a], format: i, description: o, size: r, data: e.slice(s + 4) } } } const debug$j = initDebug("music-metadata:parser:ASF"), headerType = "asf"; class AsfParser extends BasicParser { async parse() { const e = await this.tokenizer.readToken(TopLevelHeaderObjectToken); if (!e.objectId.equals(GUID.HeaderObject)) throw new AsfContentParseError(`expected asf header; but was not found; got: ${e.objectId.str}`); try { await this.parseObjectHeader(e.numberOfHeaderObjects) } catch (err) { debug$j("Error while parsing ASF: %s", err) } } async parseObjectHeader(e) { let t; do { const e = await this.tokenizer.readToken(HeaderObjectToken); switch (debug$j("header GUID=%s", e.objectId.str), e.objectId.str) { case FilePropertiesObject.guid.str: { const t = await this.tokenizer.readToken(new FilePropertiesObject(e)); this.metadata.setFormat("duration", Number(t.playDuration / BigInt(1e3)) / 1e4 - Number(t.preroll) / 1e3), this.metadata.setFormat("bitrate", t.maximumBitrate); break } case StreamPropertiesObject.guid.str: { const t = await this.tokenizer.readToken(new StreamPropertiesObject(e)); this.metadata.setFormat("container", `ASF/${t.streamType}`); break } case HeaderExtensionObject.guid.str: { const e = await this.tokenizer.readToken(new HeaderExtensionObject); await this.parseExtensionObject(e.extensionDataSize); break } case ContentDescriptionObjectState.guid.str: t = await this.tokenizer.readToken(new ContentDescriptionObjectState(e)), await this.addTags(t); break; case ExtendedContentDescriptionObjectState.guid.str: t = await this.tokenizer.readToken(new ExtendedContentDescriptionObjectState(e)), await this.addTags(t); break; case GUID.CodecListObject.str: { const e = await readCodecEntries(this.tokenizer); e.forEach(e => { this.metadata.addStreamInfo({ type: e.type.videoCodec ? TrackType.video : TrackType.audio, codecName: e.codecName }) }); const t = e.filter(e => e.type.audioCodec).map(e => e.codecName).join("/"); this.metadata.setFormat("codec", t); break } case GUID.StreamBitratePropertiesObject.str: await this.tokenizer.ignore(e.objectSize - HeaderObjectToken.len); break; case GUID.PaddingObject.str: debug$j("Padding: %s bytes", e.objectSize - HeaderObjectToken.len), await this.tokenizer.ignore(e.objectSize - HeaderObjectToken.len); break; default: this.metadata.addWarning(`Ignore ASF-Object-GUID: ${e.objectId.str}`), debug$j("Ignore ASF-Object-GUID: %s", e.objectId.str), await this.tokenizer.readToken(new IgnoreObjectState(e)) } } while (--e) } async addTags(e) { await Promise.all(e.map(({ id: e, value: t }) => this.metadata.addTag(headerType, e, t))) } async parseExtensionObject(e) { do { const t = await this.tokenizer.readToken(HeaderObjectToken), n = t.objectSize - HeaderObjectToken.len; switch (t.objectId.str) { case ExtendedStreamPropertiesObjectState.guid.str: await this.tokenizer.readToken(new ExtendedStreamPropertiesObjectState(t)); break; case MetadataObjectState.guid.str: { const e = await this.tokenizer.readToken(new MetadataObjectState(t)); await this.addTags(e); break } case MetadataLibraryObjectState.guid.str: { const e = await this.tokenizer.readToken(new MetadataLibraryObjectState(t)); await this.addTags(e); break } case GUID.PaddingObject.str: case GUID.CompatibilityObject.str: case GUID.ASF_Index_Placeholder_Object.str: await this.tokenizer.ignore(n); break; default: this.metadata.addWarning(`Ignore ASF-Object-GUID: ${t.objectId.str}`), await this.tokenizer.readToken(new IgnoreObjectState(t)) }e -= t.objectSize } while (e > 0) } } var AsfParser$1 = Object.freeze({ __proto__: null, AsfParser: AsfParser }); const ChunkHeader64 = { len: 12, get: (e, t) => ({ chunkID: FourCcToken.get(e, t), chunkSize: INT64_BE.get(e, t + 4) }) }, debug$i = initDebug("music-metadata:parser:aiff"); class DsdiffContentParseError extends (makeUnexpectedFileContentError("DSDIFF")) { } class DsdiffParser extends BasicParser { async parse() { const e = await this.tokenizer.readToken(ChunkHeader64); if ("FRM8" !== e.chunkID) throw new DsdiffContentParseError("Unexpected chunk-ID"); this.metadata.setAudioOnly(); const t = (await this.tokenizer.readToken(FourCcToken)).trim(); if ("DSD" === t) return this.metadata.setFormat("container", `DSDIFF/${t}`), this.metadata.setFormat("lossless", !0), this.readFmt8Chunks(e.chunkSize - BigInt(FourCcToken.len)); throw new DsdiffContentParseError(`Unsupported DSDIFF type: ${t}`) } async readFmt8Chunks(e) { for (; e >= ChunkHeader64.len;) { const t = await this.tokenizer.readToken(ChunkHeader64); debug$i(`Chunk id=${t.chunkID}`), await this.readData(t), e -= BigInt(ChunkHeader64.len) + t.chunkSize } } async readData(e) { debug$i(`Reading data of chunk[ID=${e.chunkID}, size=${e.chunkSize}]`); const t = this.tokenizer.position; switch (e.chunkID.trim()) { case "FVER": { const e = await this.tokenizer.readToken(UINT32_LE); debug$i(`DSDIFF version=${e}`); break } case "PROP": if ("SND " !== await this.tokenizer.readToken(FourCcToken)) throw new DsdiffContentParseError("Unexpected PROP-chunk ID"); await this.handleSoundPropertyChunks(e.chunkSize - BigInt(FourCcToken.len)); break; case "ID3": { const t = fromBuffer(await this.tokenizer.readToken(new Uint8ArrayType(Number(e.chunkSize)))); await (new ID3v2Parser).parse(this.metadata, t, this.options); break } case "DSD": this.metadata.format.numberOfChannels && this.metadata.setFormat("numberOfSamples", Number(e.chunkSize * BigInt(8) / BigInt(this.metadata.format.numberOfChannels))), this.metadata.format.numberOfSamples && this.metadata.format.sampleRate && this.metadata.setFormat("duration", this.metadata.format.numberOfSamples / this.metadata.format.sampleRate); break; default: debug$i(`Ignore chunk[ID=${e.chunkID}, size=${e.chunkSize}]`) }const n = e.chunkSize - BigInt(this.tokenizer.position - t); n > 0 && (debug$i(`After Parsing chunk, remaining ${n} bytes`), await this.tokenizer.ignore(Number(n))) } async handleSoundPropertyChunks(e) { for (debug$i(`Parsing sound-property-chunks, remainingSize=${e}`); e > 0;) { const t = await this.tokenizer.readToken(ChunkHeader64); debug$i(`Sound-property-chunk[ID=${t.chunkID}, size=${t.chunkSize}]`); const n = this.tokenizer.position; switch (t.chunkID.trim()) { case "FS": { const e = await this.tokenizer.readToken(UINT32_BE); this.metadata.setFormat("sampleRate", e); break } case "CHNL": { const e = await this.tokenizer.readToken(UINT16_BE); this.metadata.setFormat("numberOfChannels", e), await this.handleChannelChunks(t.chunkSize - BigInt(UINT16_BE.len)); break } case "CMPR": { const e = (await this.tokenizer.readToken(FourCcToken)).trim(), t = await this.tokenizer.readToken(UINT8), n = await this.tokenizer.readToken(new StringType(t, "ascii")); "DSD" === e && (this.metadata.setFormat("lossless", !0), this.metadata.setFormat("bitsPerSample", 1)), this.metadata.setFormat("codec", `${e} (${n})`); break } case "ABSS": { const e = await this.tokenizer.readToken(UINT16_BE), t = await this.tokenizer.readToken(UINT8), n = await this.tokenizer.readToken(UINT8), a = await this.tokenizer.readToken(UINT32_BE); debug$i(`ABSS ${e}:${t}:${n}.${a}`); break } case "LSCO": { const e = await this.tokenizer.readToken(UINT16_BE); debug$i(`LSCO lsConfig=${e}`); break } default: debug$i(`Unknown sound-property-chunk[ID=${t.chunkID}, size=${t.chunkSize}]`), await this.tokenizer.ignore(Number(t.chunkSize)) }const a = t.chunkSize - BigInt(this.tokenizer.position - n); a > 0 && (debug$i(`After Parsing sound-property-chunk ${t.chunkSize}, remaining ${a} bytes`), await this.tokenizer.ignore(Number(a))), e -= BigInt(ChunkHeader64.len) + t.chunkSize, debug$i(`Parsing sound-property-chunks, remainingSize=${e}`) } if (this.metadata.format.lossless && this.metadata.format.sampleRate && this.metadata.format.numberOfChannels && this.metadata.format.bitsPerSample) { const e = this.metadata.format.sampleRate * this.metadata.format.numberOfChannels * this.metadata.format.bitsPerSample; this.metadata.setFormat("bitrate", e) } } async handleChannelChunks(e) { debug$i(`Parsing channel-chunks, remainingSize=${e}`); const t = []; for (; e >= FourCcToken.len;) { const n = await this.tokenizer.readToken(FourCcToken); debug$i(`Channel[ID=${n}]`), t.push(n), e -= BigInt(FourCcToken.len) } return debug$i(`Channels: ${t.join(", ")}`), t } } var DsdiffParser$1 = Object.freeze({ __proto__: null, DsdiffContentParseError: DsdiffContentParseError, DsdiffParser: DsdiffParser }); const compressionTypes = { NONE: "not compressed\tPCM\tApple Computer", sowt: "PCM (byte swapped)", fl32: "32-bit floating point IEEE 32-bit float", fl64: "64-bit floating point IEEE 64-bit float\tApple Computer", alaw: "ALaw 2:1\t8-bit ITU-T G.711 A-law", ulaw: "Law 2:1\t8-bit ITU-T G.711 -law\tApple Computer", ULAW: "CCITT G.711 u-law 8-bit ITU-T G.711 -law", ALAW: "CCITT G.711 A-law 8-bit ITU-T G.711 A-law", FL32: "Float 32\tIEEE 32-bit float " }; class AiffContentError extends (makeUnexpectedFileContentError("AIFF")) { } class Common { constructor(e, t) { this.isAifc = t; const n = t ? 22 : 18; if (e.chunkSize < n) throw new AiffContentError(`COMMON CHUNK size should always be at least ${n}`); this.len = e.chunkSize } get(e, t) { const n = UINT16_BE.get(e, t + 8) - 16398, a = UINT16_BE.get(e, t + 8 + 2), r = { numChannels: UINT16_BE.get(e, t), numSampleFrames: UINT32_BE.get(e, t + 2), sampleSize: UINT16_BE.get(e, t + 6), sampleRate: n < 0 ? a >> Math.abs(n) : a << n }; if (this.isAifc) { if (r.compressionType = FourCcToken.get(e, t + 18), this.len > 22) { const n = UINT8.get(e, t + 22); if (n > 0) { if (23 + n + (n + 1) % 2 !== this.len) throw new AiffContentError("Illegal pstring length"); r.compressionName = new StringType(n, "latin1").get(e, t + 23) } else r.compressionName = void 0 } } else r.compressionName = "PCM"; return r } } const Header$4 = { len: 8, get: (e, t) => ({ chunkID: FourCcToken.get(e, t), chunkSize: Number(BigInt(UINT32_BE.get(e, t + 4))) }) }, debug$h = initDebug("music-metadata:parser:aiff"); class AIFFParser extends BasicParser { constructor() { super(...arguments), this.isCompressed = null } async parse() { if ("FORM" !== (await this.tokenizer.readToken(Header$4)).chunkID) throw new AiffContentError("Invalid Chunk-ID, expected 'FORM'"); const e = await this.tokenizer.readToken(FourCcToken); switch (e) { case "AIFF": this.metadata.setFormat("container", e), this.isCompressed = !1; break; case "AIFC": this.metadata.setFormat("container", "AIFF-C"), this.isCompressed = !0; break; default: throw new AiffContentError(`Unsupported AIFF type: ${e}`) }this.metadata.setFormat("lossless", !this.isCompressed), this.metadata.setAudioOnly(); try { for (; !this.tokenizer.fileInfo.size || this.tokenizer.fileInfo.size - this.tokenizer.position >= Header$4.len;) { debug$h(`Reading AIFF chunk at offset=${this.tokenizer.position}`); const e = await this.tokenizer.readToken(Header$4), t = 2 * Math.round(e.chunkSize / 2), n = await this.readData(e); await this.tokenizer.ignore(t - n) } } catch (err) { if (!(err instanceof EndOfStreamError)) throw err; debug$h("End-of-stream") } } async readData(e) { switch (e.chunkID) { case "COMM": { if (null === this.isCompressed) throw new AiffContentError("Failed to parse AIFF.COMM chunk when compression type is unknown"); const t = await this.tokenizer.readToken(new Common(e, this.isCompressed)); return this.metadata.setFormat("bitsPerSample", t.sampleSize), this.metadata.setFormat("sampleRate", t.sampleRate), this.metadata.setFormat("numberOfChannels", t.numChannels), this.metadata.setFormat("numberOfSamples", t.numSampleFrames), this.metadata.setFormat("duration", t.numSampleFrames / t.sampleRate), (t.compressionName || t.compressionType) && this.metadata.setFormat("codec", t.compressionName ?? compressionTypes[t.compressionType]), e.chunkSize } case "ID3 ": { const t = fromBuffer(await this.tokenizer.readToken(new Uint8ArrayType(e.chunkSize))); return await (new ID3v2Parser).parse(this.metadata, t, this.options), e.chunkSize } case "SSND": return this.metadata.format.duration && this.metadata.setFormat("bitrate", 8 * e.chunkSize / this.metadata.format.duration), 0; case "NAME": case "AUTH": case "(c) ": case "ANNO": return this.readTextChunk(e); default: return debug$h(`Ignore chunk id=${e.chunkID}, size=${e.chunkSize}`), 0 } } async readTextChunk(e) { const t = (await this.tokenizer.readToken(new StringType(e.chunkSize, "ascii"))).split("\0").map(e => e.trim()).filter(e => e?.length); return await Promise.all(t.map(t => this.metadata.addTag("AIFF", e.chunkID, t))), e.chunkSize } } var AiffParser = Object.freeze({ __proto__: null, AIFFParser: AIFFParser }); const ChunkHeader = { len: 12, get: (e, t) => ({ id: FourCcToken.get(e, t), size: UINT64_LE.get(e, t + 4) }) }, DsdChunk = { len: 16, get: (e, t) => ({ fileSize: INT64_LE.get(e, t), metadataPointer: INT64_LE.get(e, t + 8) }) }, FormatChunk = { len: 40, get: (e, t) => ({ formatVersion: INT32_LE.get(e, t), formatID: INT32_LE.get(e, t + 4), channelType: INT32_LE.get(e, t + 8), channelNum: INT32_LE.get(e, t + 12), samplingFrequency: INT32_LE.get(e, t + 16), bitsPerSample: INT32_LE.get(e, t + 20), sampleCount: INT64_LE.get(e, t + 24), blockSizePerChannel: INT32_LE.get(e, t + 32) }) }, debug$g = initDebug("music-metadata:parser:DSF"); class DsdContentParseError extends (makeUnexpectedFileContentError("DSD")) { } class DsfParser extends AbstractID3Parser { async postId3v2Parse() { const e = this.tokenizer.position, t = await this.tokenizer.readToken(ChunkHeader); if ("DSD " !== t.id) throw new DsdContentParseError("Invalid chunk signature"); this.metadata.setFormat("container", "DSF"), this.metadata.setFormat("lossless", !0), this.metadata.setAudioOnly(); const n = await this.tokenizer.readToken(DsdChunk); if (n.metadataPointer !== BigInt(0)) return debug$g(`expect ID3v2 at offset=${n.metadataPointer}`), await this.parseChunks(n.fileSize - t.size), await this.tokenizer.ignore(Number(n.metadataPointer) - this.tokenizer.position - e), (new ID3v2Parser).parse(this.metadata, this.tokenizer, this.options); debug$g("No ID3v2 tag present") } async parseChunks(e) { for (; e >= ChunkHeader.len;) { const t = await this.tokenizer.readToken(ChunkHeader); if (debug$g(`Parsing chunk name=${t.id} size=${t.size}`), "fmt " === t.id) { const e = await this.tokenizer.readToken(FormatChunk); this.metadata.setFormat("numberOfChannels", e.channelNum), this.metadata.setFormat("sampleRate", e.samplingFrequency), this.metadata.setFormat("bitsPerSample", e.bitsPerSample), this.metadata.setFormat("numberOfSamples", e.sampleCount), this.metadata.setFormat("duration", Number(e.sampleCount) / e.samplingFrequency); const t = e.bitsPerSample * e.samplingFrequency * e.channelNum; return void this.metadata.setFormat("bitrate", t) } this.tokenizer.ignore(Number(t.size) - ChunkHeader.len), e -= t.size } } } var DsfParser$1 = Object.freeze({ __proto__: null, DsdContentParseError: DsdContentParseError, DsfParser: DsfParser }); class VorbisPictureToken { static fromBase64(e) { return VorbisPictureToken.fromBuffer(Uint8Array.from(atob(e), e => e.charCodeAt(0))) } static fromBuffer(e) { return new VorbisPictureToken(e.length).get(e, 0) } constructor(e) { this.len = e } get(e, t) { const n = AttachedPictureType[UINT32_BE.get(e, t)]; t += 4; const a = UINT32_BE.get(e, t); t += 4; const r = new StringType(a, "utf-8").get(e, t); t += a; const s = UINT32_BE.get(e, t); t += 4; const i = new StringType(s, "utf-8").get(e, t); t += s; const o = UINT32_BE.get(e, t); t += 4; const l = UINT32_BE.get(e, t); t += 4; const m = UINT32_BE.get(e, t); t += 4; const c = UINT32_BE.get(e, t); t += 4; const u = UINT32_BE.get(e, t); return t += 4, { type: n, format: r, description: i, width: o, height: l, colour_depth: m, indexed_color: c, data: Uint8Array.from(e.slice(t, t + u)) } } } const CommonHeader = { len: 7, get: (e, t) => ({ packetType: UINT8.get(e, t), vorbis: new StringType(6, "ascii").get(e, t + 1) }) }, IdentificationHeader$1 = { len: 23, get: (e, t) => ({ version: UINT32_LE.get(e, t + 0), channelMode: UINT8.get(e, t + 4), sampleRate: UINT32_LE.get(e, t + 5), bitrateMax: UINT32_LE.get(e, t + 9), bitrateNominal: UINT32_LE.get(e, t + 13), bitrateMin: UINT32_LE.get(e, t + 17) }) }; class VorbisDecoder { constructor(e, t) { this.data = e, this.offset = t } readInt32() { const e = UINT32_LE.get(this.data, this.offset); return this.offset += 4, e } readStringUtf8() { const e = this.readInt32(), t = new TextDecoder("utf-8").decode(this.data.subarray(this.offset, this.offset + e)); return this.offset += e, t } parseUserComment() { const e = this.offset, t = this.readStringUtf8(), n = t.indexOf("="); return { key: t.slice(0, n).toUpperCase(), value: t.slice(n + 1), len: this.offset - e } } } const debug$f = initDebug("music-metadata:parser:ogg:vorbis1"); class VorbisContentError extends (makeUnexpectedFileContentError("Vorbis")) { } class VorbisStream { constructor(e, t) { this.pageSegments = [], this.metadata = e, this.options = t } async parsePage(e, t) { if (this.lastPageHeader = e, e.headerType.firstPage) this.parseFirstPage(e, t); else { if (e.headerType.continued) { if (0 === this.pageSegments.length) throw new VorbisContentError("Cannot continue on previous page"); this.pageSegments.push(t) } if (e.headerType.lastPage || !e.headerType.continued) { if (this.pageSegments.length > 0) { const e = VorbisStream.mergeUint8Arrays(this.pageSegments); await this.parseFullPage(e) } this.pageSegments = e.headerType.lastPage ? [] : [t] } } } static mergeUint8Arrays(e) { const t = e.reduce((e, t) => e + t.length, 0), n = new Uint8Array(t); return e.forEach((e, t, a) => { const r = a.slice(0, t).reduce((e, t) => e + t.length, 0); n.set(e, r) }), n } async flush() { await this.parseFullPage(VorbisStream.mergeUint8Arrays(this.pageSegments)) } async parseUserComment(e, t) { const n = new VorbisDecoder(e, t).parseUserComment(); return await this.addTag(n.key, n.value), n.len } async addTag(e, t) { if ("METADATA_BLOCK_PICTURE" === e && "string" == typeof t) { if (this.options.skipCovers) return void debug$f("Ignore picture"); t = VorbisPictureToken.fromBase64(t), debug$f(`Push picture: id=${e}, format=${t.format}`) } else debug$f(`Push tag: id=${e}, value=${t}`); await this.metadata.addTag("vorbis", e, t) } calculateDuration() { this.lastPageHeader && this.metadata.format.sampleRate && this.lastPageHeader.absoluteGranulePosition >= 0 && (this.metadata.setFormat("numberOfSamples", this.lastPageHeader.absoluteGranulePosition), this.metadata.setFormat("duration", this.lastPageHeader.absoluteGranulePosition / this.metadata.format.sampleRate)) } parseFirstPage(e, t) { this.metadata.setFormat("codec", "Vorbis I"), this.metadata.setFormat("hasAudio", !0), debug$f("Parse first page"); const n = CommonHeader.get(t, 0); if ("vorbis" !== n.vorbis) throw new VorbisContentError("Metadata does not look like Vorbis"); if (1 !== n.packetType) throw new VorbisContentError("First Ogg page should be type 1: the identification header"); { const e = IdentificationHeader$1.get(t, CommonHeader.len); this.metadata.setFormat("sampleRate", e.sampleRate), this.metadata.setFormat("bitrate", e.bitrateNominal), this.metadata.setFormat("numberOfChannels", e.channelMode), debug$f("sample-rate=%s[hz], bitrate=%s[b/s], channel-mode=%s", e.sampleRate, e.bitrateNominal, e.channelMode) } } async parseFullPage(e) { const t = CommonHeader.get(e, 0); if (debug$f("Parse full page: type=%s, byteLength=%s", t.packetType, e.byteLength), 3 === t.packetType) return this.parseUserCommentList(e, CommonHeader.len) } async parseUserCommentList(e, t) { const n = UINT32_LE.get(e, t); t += 4, t += n; let a = UINT32_LE.get(e, t); for (t += 4; a-- > 0;)t += await this.parseUserComment(e, t) } } const debug$e = initDebug("music-metadata:parser:FLAC"); class FlacContentError extends (makeUnexpectedFileContentError("FLAC")) { } const BlockType = { STREAMINFO: 0, PADDING: 1, APPLICATION: 2, SEEKTABLE: 3, VORBIS_COMMENT: 4, CUESHEET: 5, PICTURE: 6 }; class FlacParser extends AbstractID3Parser { constructor() { super(...arguments), this.vorbisParser = new VorbisStream(this.metadata, this.options), this.padding = 0 } async postId3v2Parse() { if ("fLaC" !== (await this.tokenizer.readToken(FourCcToken)).toString()) throw new FlacContentError("Invalid FLAC preamble"); let e; this.metadata.setAudioOnly(); do { e = await this.tokenizer.readToken(BlockHeader), await this.parseDataBlock(e) } while (!e.lastBlock); if (this.tokenizer.fileInfo.size && this.metadata.format.duration) { const e = this.tokenizer.fileInfo.size - this.tokenizer.position; this.metadata.setFormat("bitrate", 8 * e / this.metadata.format.duration) } } async parseDataBlock(e) { switch (debug$e(`blockHeader type=${e.type}, length=${e.length}`), e.type) { case BlockType.STREAMINFO: return this.parseBlockStreamInfo(e.length); case BlockType.PADDING: this.padding += e.length; break; case BlockType.APPLICATION: case BlockType.SEEKTABLE: break; case BlockType.VORBIS_COMMENT: return this.parseComment(e.length); case BlockType.CUESHEET: break; case BlockType.PICTURE: return void await this.parsePicture(e.length); default: this.metadata.addWarning(`Unknown block type: ${e.type}`) }return this.tokenizer.ignore(e.length).then() } async parseBlockStreamInfo(e) { if (e !== BlockStreamInfo.len) throw new FlacContentError("Unexpected block-stream-info length"); const t = await this.tokenizer.readToken(BlockStreamInfo); this.metadata.setFormat("container", "FLAC"), this.metadata.setFormat("codec", "FLAC"), this.metadata.setFormat("lossless", !0), this.metadata.setFormat("numberOfChannels", t.channels), this.metadata.setFormat("bitsPerSample", t.bitsPerSample), this.metadata.setFormat("sampleRate", t.sampleRate), t.totalSamples > 0 && this.metadata.setFormat("duration", t.totalSamples / t.sampleRate) } async parseComment(e) { const t = await this.tokenizer.readToken(new Uint8ArrayType(e)), n = new VorbisDecoder(t, 0); n.readStringUtf8(); const a = n.readInt32(), r = new Array(a); for (let s = 0; s < a; s++)r[s] = n.parseUserComment(); await Promise.all(r.map(e => this.vorbisParser.addTag(e.key, e.value))) } async parsePicture(e) { if (this.options.skipCovers) return this.tokenizer.ignore(e); const t = await this.tokenizer.readToken(new VorbisPictureToken(e)); this.vorbisParser.addTag("METADATA_BLOCK_PICTURE", t) } } const BlockHeader = { len: 4, get: (e, t) => ({ lastBlock: getBit(e, t, 7), type: getBitAllignedNumber$1(e, t, 1, 7), length: UINT24_BE.get(e, t + 1) }) }, BlockStreamInfo = { len: 34, get: (e, t) => ({ minimumBlockSize: UINT16_BE.get(e, t), maximumBlockSize: UINT16_BE.get(e, t + 2) / 1e3, minimumFrameSize: UINT24_BE.get(e, t + 4), maximumFrameSize: UINT24_BE.get(e, t + 7), sampleRate: UINT24_BE.get(e, t + 10) >> 4, channels: getBitAllignedNumber$1(e, t + 12, 4, 3) + 1, bitsPerSample: getBitAllignedNumber$1(e, t + 12, 7, 5) + 1, totalSamples: getBitAllignedNumber$1(e, t + 13, 4, 36), fileMD5: new Uint8ArrayType(16).get(e, t + 18) }) }; var FlacParser$1 = Object.freeze({ __proto__: null, FlacParser: FlacParser }); const DataType = { string: 0, uint: 1, uid: 2, bool: 3, binary: 4, float: 5 }, matroskaDtd = { name: "dtd", container: { 440786851: { name: "ebml", container: { 17030: { name: "ebmlVersion", value: DataType.uint }, 17143: { name: "ebmlReadVersion", value: DataType.uint }, 17138: { name: "ebmlMaxIDWidth", value: DataType.uint }, 17139: { name: "ebmlMaxSizeWidth", value: DataType.uint }, 17026: { name: "docType", value: DataType.string }, 17031: { name: "docTypeVersion", value: DataType.uint }, 17029: { name: "docTypeReadVersion", value: DataType.uint } } }, 408125543: { name: "segment", container: { 290298740: { name: "seekHead", container: { 19899: { name: "seek", multiple: !0, container: { 21419: { name: "id", value: DataType.binary }, 21420: { name: "position", value: DataType.uint } } } } }, 357149030: { name: "info", container: { 29604: { name: "uid", value: DataType.uid }, 29572: { name: "filename", value: DataType.string }, 3979555: { name: "prevUID", value: DataType.uid }, 3965867: { name: "prevFilename", value: DataType.string }, 4110627: { name: "nextUID", value: DataType.uid }, 4096955: { name: "nextFilename", value: DataType.string }, 2807729: { name: "timecodeScale", value: DataType.uint }, 17545: { name: "duration", value: DataType.float }, 17505: { name: "dateUTC", value: DataType.uint }, 31657: { name: "title", value: DataType.string }, 19840: { name: "muxingApp", value: DataType.string }, 22337: { name: "writingApp", value: DataType.string } } }, 524531317: { name: "cluster", multiple: !0, container: { 231: { name: "timecode", value: DataType.uid }, 22743: { name: "silentTracks ", multiple: !0 }, 167: { name: "position", value: DataType.uid }, 171: { name: "prevSize", value: DataType.uid }, 160: { name: "blockGroup" }, 163: { name: "simpleBlock" } } }, 374648427: { name: "tracks", container: { 174: { name: "entries", multiple: !0, container: { 215: { name: "trackNumber", value: DataType.uint }, 29637: { name: "uid", value: DataType.uid }, 131: { name: "trackType", value: DataType.uint }, 185: { name: "flagEnabled", value: DataType.bool }, 136: { name: "flagDefault", value: DataType.bool }, 21930: { name: "flagForced", value: DataType.bool }, 156: { name: "flagLacing", value: DataType.bool }, 28135: { name: "minCache", value: DataType.uint }, 28136: { name: "maxCache", value: DataType.uint }, 2352003: { name: "defaultDuration", value: DataType.uint }, 2306383: { name: "timecodeScale", value: DataType.float }, 21358: { name: "name", value: DataType.string }, 2274716: { name: "language", value: DataType.string }, 134: { name: "codecID", value: DataType.string }, 25506: { name: "codecPrivate", value: DataType.binary }, 2459272: { name: "codecName", value: DataType.string }, 3839639: { name: "codecSettings", value: DataType.string }, 3883072: { name: "codecInfoUrl", value: DataType.string }, 2536e3: { name: "codecDownloadUrl", value: DataType.string }, 170: { name: "codecDecodeAll", value: DataType.bool }, 28587: { name: "trackOverlay", value: DataType.uint }, 224: { name: "video", container: { 154: { name: "flagInterlaced", value: DataType.bool }, 21432: { name: "stereoMode", value: DataType.uint }, 176: { name: "pixelWidth", value: DataType.uint }, 186: { name: "pixelHeight", value: DataType.uint }, 21680: { name: "displayWidth", value: DataType.uint }, 21690: { name: "displayHeight", value: DataType.uint }, 21683: { name: "aspectRatioType", value: DataType.uint }, 3061028: { name: "colourSpace", value: DataType.uint }, 3126563: { name: "gammaValue", value: DataType.float } } }, 225: { name: "audio", container: { 181: { name: "samplingFrequency", value: DataType.float }, 30901: { name: "outputSamplingFrequency", value: DataType.float }, 159: { name: "channels", value: DataType.uint }, 148: { name: "channels", value: DataType.uint }, 32123: { name: "channelPositions", value: DataType.binary }, 25188: { name: "bitDepth", value: DataType.uint } } }, 28032: { name: "contentEncodings", container: { 25152: { name: "contentEncoding", container: { 20529: { name: "order", value: DataType.uint }, 20530: { name: "scope", value: DataType.bool }, 20531: { name: "type", value: DataType.uint }, 20532: { name: "contentEncoding", container: { 16980: { name: "contentCompAlgo", value: DataType.uint }, 16981: { name: "contentCompSettings", value: DataType.binary } } }, 20533: { name: "contentEncoding", container: { 18401: { name: "contentEncAlgo", value: DataType.uint }, 18402: { name: "contentEncKeyID", value: DataType.binary }, 18403: { name: "contentSignature ", value: DataType.binary }, 18404: { name: "ContentSigKeyID  ", value: DataType.binary }, 18405: { name: "contentSigAlgo ", value: DataType.uint }, 18406: { name: "contentSigHashAlgo ", value: DataType.uint } } }, 25188: { name: "bitDepth", value: DataType.uint } } } } } } } } }, 475249515: { name: "cues", container: { 187: { name: "cuePoint", container: { 179: { name: "cueTime", value: DataType.uid }, 183: { name: "positions", container: { 247: { name: "track", value: DataType.uint }, 241: { name: "clusterPosition", value: DataType.uint }, 21368: { name: "blockNumber", value: DataType.uint }, 234: { name: "codecState", value: DataType.uint }, 219: { name: "reference", container: { 150: { name: "time", value: DataType.uint }, 151: { name: "cluster", value: DataType.uint }, 21343: { name: "number", value: DataType.uint }, 235: { name: "codecState", value: DataType.uint } } }, 240: { name: "relativePosition", value: DataType.uint } } } } } } }, 423732329: { name: "attachments", container: { 24999: { name: "attachedFiles", multiple: !0, container: { 18046: { name: "description", value: DataType.string }, 18030: { name: "name", value: DataType.string }, 18016: { name: "mimeType", value: DataType.string }, 18012: { name: "data", value: DataType.binary }, 18094: { name: "uid", value: DataType.uid } } } } }, 272869232: { name: "chapters", container: { 17849: { name: "editionEntry", container: { 182: { name: "chapterAtom", container: { 29636: { name: "uid", value: DataType.uid }, 145: { name: "timeStart", value: DataType.uint }, 146: { name: "timeEnd", value: DataType.uid }, 152: { name: "hidden", value: DataType.bool }, 17816: { name: "enabled", value: DataType.uid }, 143: { name: "track", container: { 137: { name: "trackNumber", value: DataType.uid }, 128: { name: "display", container: { 133: { name: "string", value: DataType.string }, 17276: { name: "language ", value: DataType.string }, 17278: { name: "country ", value: DataType.string } } } } } } } } } } }, 307544935: { name: "tags", container: { 29555: { name: "tag", multiple: !0, container: { 25536: { name: "target", container: { 25541: { name: "tagTrackUID", value: DataType.uid }, 25540: { name: "tagChapterUID", value: DataType.uint }, 25542: { name: "tagAttachmentUID", value: DataType.uid }, 25546: { name: "targetType", value: DataType.string }, 26826: { name: "targetTypeValue", value: DataType.uint }, 25545: { name: "tagEditionUID", value: DataType.uid } } }, 26568: { name: "simpleTags", multiple: !0, container: { 17827: { name: "name", value: DataType.string }, 17543: { name: "string", value: DataType.string }, 17541: { name: "binary", value: DataType.binary }, 17530: { name: "language", value: DataType.string }, 17531: { name: "languageIETF", value: DataType.string }, 17540: { name: "default", value: DataType.bool } } } } } } } } } } }, debug$d = initDebug("music-metadata:parser:ebml"); class EbmlContentError extends (makeUnexpectedFileContentError("EBML")) { } const ParseAction = { ReadNext: 0, IgnoreElement: 2, SkipSiblings: 3, TerminateParsing: 4, SkipElement: 5 }; class EbmlIterator { constructor(e) { this.padding = 0, this.parserMap = new Map, this.ebmlMaxIDLength = 4, this.ebmlMaxSizeLength = 8, this.tokenizer = e, this.parserMap.set(DataType.uint, e => this.readUint(e)), this.parserMap.set(DataType.string, e => this.readString(e)), this.parserMap.set(DataType.binary, e => this.readBuffer(e)), this.parserMap.set(DataType.uid, async e => this.readBuffer(e)), this.parserMap.set(DataType.bool, e => this.readFlag(e)), this.parserMap.set(DataType.float, e => this.readFloat(e)) } async iterate(e, t, n) { return this.parseContainer(linkParents(e), t, n) } async parseContainer(e, t, n) { const a = {}; for (; this.tokenizer.position < t;) { let s; const i = this.tokenizer.position; try { s = await this.readElement() } catch (r) { if (r instanceof EndOfStreamError) break; throw r } const o = e.container[s.id]; if (o) switch (n.startNext(o)) { case ParseAction.ReadNext: if (debug$d(`Read element: name=${getElementPath(o)}{id=0x${s.id.toString(16)}, container=${!!o.container}} at position=${i}`), o.container) { const e = await this.parseContainer(o, s.len >= 0 ? this.tokenizer.position + s.len : -1, n); o.multiple ? (a[o.name] || (a[o.name] = []), a[o.name].push(e)) : a[o.name] = e, await n.elementValue(o, e, i) } else { const e = this.parserMap.get(o.value); if ("function" == typeof e) { const t = await e(s); a[o.name] = t, await n.elementValue(o, t, i) } } break; case ParseAction.SkipElement: debug$d(`Go to next element: name=${getElementPath(o)}, element.id=0x${s.id}, container=${!!o.container} at position=${i}`); break; case ParseAction.IgnoreElement: debug$d(`Ignore element: name=${getElementPath(o)}, element.id=0x${s.id}, container=${!!o.container} at position=${i}`), await this.tokenizer.ignore(s.len); break; case ParseAction.SkipSiblings: debug$d(`Ignore remaining container, at: name=${getElementPath(o)}, element.id=0x${s.id}, container=${!!o.container} at position=${i}`), await this.tokenizer.ignore(t - this.tokenizer.position); break; case ParseAction.TerminateParsing: return debug$d(`Terminate parsing at element: name=${getElementPath(o)}, element.id=0x${s.id}, container=${!!o.container} at position=${i}`), a } else 236 === s.id ? (this.padding += s.len, await this.tokenizer.ignore(s.len)) : (debug$d(`parseEbml: parent=${getElementPath(e)}, unknown child: id=${s.id.toString(16)} at position=${i}`), this.padding += s.len, await this.tokenizer.ignore(s.len)) } return a } async readVintData(e) { const t = await this.tokenizer.peekNumber(UINT8); let n = 128, a = 1; for (; 0 === (t & n);) { if (a > e) throw new EbmlContentError("VINT value exceeding maximum size"); ++a, n >>= 1 } const r = new Uint8Array(a); return await this.tokenizer.readBuffer(r), r } async readElement() { const e = await this.readVintData(this.ebmlMaxIDLength), t = await this.readVintData(this.ebmlMaxSizeLength); return t[0] ^= 128 >> t.length - 1, { id: readUIntBE(e, e.length), len: readUIntBE(t, t.length) } } async readFloat(e) { switch (e.len) { case 0: return 0; case 4: return this.tokenizer.readNumber(Float32_BE); case 8: case 10: return this.tokenizer.readNumber(Float64_BE); default: throw new EbmlContentError(`Invalid IEEE-754 float length: ${e.len}`) } } async readFlag(e) { return 1 === await this.readUint(e) } async readUint(e) { return readUIntBE(await this.readBuffer(e), e.len) } async readString(e) { return (await this.tokenizer.readToken(new StringType(e.len, "utf-8"))).replace(/\x00.*$/g, "") } async readBuffer(e) { const t = new Uint8Array(e.len); return await this.tokenizer.readBuffer(t), t } } function readUIntBE(e, t) { return Number(readUIntBeAsBigInt(e, t)) } function readUIntBeAsBigInt(e, t) { const n = new Uint8Array(8), a = e.subarray(0, t); try { return n.set(a, 8 - t), UINT64_BE.get(n, 0) } catch (r) { return BigInt(-1) } } function linkParents(e) { return e.container && Object.keys(e.container).map(t => { const n = e.container[t]; return n.id = Number.parseInt(t), n }).forEach(t => { t.parent = e, linkParents(t) }), e } function getElementPath(e) { let t = ""; return e.parent && "dtd" !== e.parent.name && (t += `${getElementPath(e.parent)}/`), t + e.name } const debug$c = initDebug("music-metadata:parser:matroska"); class MatroskaParser extends BasicParser { constructor() { super(...arguments), this.seekHeadOffset = 0, this.flagUseIndexToSkipClusters = this.options.mkvUseIndex ?? !1 } async parse() { const e = this.tokenizer.fileInfo.size ?? Number.MAX_SAFE_INTEGER, t = new EbmlIterator(this.tokenizer); debug$c("Initializing DTD end MatroskaIterator"), await t.iterate(matroskaDtd, e, { startNext: e => { switch (e.id) { case 475249515: return debug$c(`Skip element: name=${e.name}, id=0x${e.id.toString(16)}`), ParseAction.IgnoreElement; case 524531317: if (this.flagUseIndexToSkipClusters && this.seekHead) { const e = this.seekHead.seek.find(e => e.position + this.seekHeadOffset > this.tokenizer.position); if (e) { const t = e.position + this.seekHeadOffset - this.tokenizer.position; return debug$c(`Use index to go to next position, ignoring ${t} bytes`), this.tokenizer.ignore(t), ParseAction.SkipElement } } return ParseAction.IgnoreElement; default: return ParseAction.ReadNext } }, elementValue: async (e, t, n) => { switch (debug$c(`Received: name=${e.name}, value=${t}`), e.id) { case 17026: this.metadata.setFormat("container", `EBML/${t}`); break; case 290298740: this.seekHead = t, this.seekHeadOffset = n; break; case 357149030: { const e = t, n = e.timecodeScale ? e.timecodeScale : 1e6; if ("number" == typeof e.duration) { const t = e.duration * n / 1e9; await this.addTag("segment:title", e.title), this.metadata.setFormat("duration", Number(t)) } } break; case 374648427: { const e = t; if (e?.entries) { e.entries.forEach(e => { const t = { codecName: e.codecID.replace("A_", "").replace("V_", ""), codecSettings: e.codecSettings, flagDefault: e.flagDefault, flagLacing: e.flagLacing, flagEnabled: e.flagEnabled, language: e.language, name: e.name, type: e.trackType, audio: e.audio, video: e.video }; this.metadata.addStreamInfo(t) }); const t = e.entries.filter(e => e.trackType === TrackType.audio).reduce((e, t) => e ? t.flagDefault && !e.flagDefault || t.trackNumber < e.trackNumber ? t : e : t, null); t && (this.metadata.setFormat("codec", t.codecID.replace("A_", "")), this.metadata.setFormat("sampleRate", t.audio.samplingFrequency), this.metadata.setFormat("numberOfChannels", t.audio.channels)) } } break; case 307544935: { const e = t; await Promise.all(e.tag.map(async e => { const t = e.target, n = t?.targetTypeValue ? TargetType[t.targetTypeValue] : t?.targetType ? t.targetType : "track"; await Promise.all(e.simpleTags.map(async e => { const t = e.string ? e.string : e.binary; await this.addTag(`${n}:${e.name}`, t) })) })) } break; case 423732329: { const e = t; await Promise.all(e.attachedFiles.filter(e => e.mimeType.startsWith("image/")).map(e => this.addTag("picture", { data: e.data, format: e.mimeType, description: e.description, name: e.name }))) } } } }) } async addTag(e, t) { await this.metadata.addTag("matroska", e, t) } } var MatroskaParser$1 = Object.freeze({ __proto__: null, MatroskaParser: MatroskaParser }); const debug$b = initDebug("music-metadata:parser:MP4:atom"); class Mp4ContentError extends (makeUnexpectedFileContentError("MP4")) { } const Header$3 = { len: 8, get: (e, t) => { const n = UINT32_BE.get(e, t); if (n < 0) throw new Mp4ContentError("Invalid atom header length"); return { length: BigInt(n), name: new StringType(4, "latin1").get(e, t + 4) } }, put: (e, t, n) => (UINT32_BE.put(e, t, Number(n.length)), FourCcToken.put(e, t + 4, n.name)) }, ExtendedSize = UINT64_BE, ftyp = { len: 4, get: (e, t) => ({ type: new StringType(4, "ascii").get(e, t) }) }; class FixedLengthAtom { constructor(e, t, n) { if (e < t) throw new Mp4ContentError(`Atom ${n} expected to be ${t}, but specifies ${e} bytes long.`); e > t && debug$b(`Warning: atom ${n} expected to be ${t}, but was actually ${e} bytes long.`), this.len = e } } const SecondsSinceMacEpoch = { len: 4, get: (e, t) => { const n = UINT32_BE.get(e, t) - 2082844800; return new Date(1e3 * n) } }; class MdhdAtom extends FixedLengthAtom { constructor(e) { super(e, 24, "mdhd") } get(e, t) { return { version: UINT8.get(e, t + 0), flags: UINT24_BE.get(e, t + 1), creationTime: SecondsSinceMacEpoch.get(e, t + 4), modificationTime: SecondsSinceMacEpoch.get(e, t + 8), timeScale: UINT32_BE.get(e, t + 12), duration: UINT32_BE.get(e, t + 16), language: UINT16_BE.get(e, t + 20), quality: UINT16_BE.get(e, t + 22) } } } class MvhdAtom extends FixedLengthAtom { constructor(e) { super(e, 100, "mvhd") } get(e, t) { return { version: UINT8.get(e, t), flags: UINT24_BE.get(e, t + 1), creationTime: SecondsSinceMacEpoch.get(e, t + 4), modificationTime: SecondsSinceMacEpoch.get(e, t + 8), timeScale: UINT32_BE.get(e, t + 12), duration: UINT32_BE.get(e, t + 16), preferredRate: UINT32_BE.get(e, t + 20), preferredVolume: UINT16_BE.get(e, t + 24), previewTime: UINT32_BE.get(e, t + 72), previewDuration: UINT32_BE.get(e, t + 76), posterTime: UINT32_BE.get(e, t + 80), selectionTime: UINT32_BE.get(e, t + 84), selectionDuration: UINT32_BE.get(e, t + 88), currentTime: UINT32_BE.get(e, t + 92), nextTrackID: UINT32_BE.get(e, t + 96) } } } class DataAtom { constructor(e) { this.len = e } get(e, t) { return { type: { set: UINT8.get(e, t + 0), type: UINT24_BE.get(e, t + 1) }, locale: UINT24_BE.get(e, t + 4), value: new Uint8ArrayType(this.len - 8).get(e, t + 8) } } } class NameAtom { constructor(e) { this.len = e } get(e, t) { return { version: UINT8.get(e, t), flags: UINT24_BE.get(e, t + 1), name: new StringType(this.len - 4, "utf-8").get(e, t + 4) } } } class TrackHeaderAtom { constructor(e) { this.len = e } get(e, t) { return { version: UINT8.get(e, t), flags: UINT24_BE.get(e, t + 1), creationTime: SecondsSinceMacEpoch.get(e, t + 4), modificationTime: SecondsSinceMacEpoch.get(e, t + 8), trackId: UINT32_BE.get(e, t + 12), duration: UINT32_BE.get(e, t + 20), layer: UINT16_BE.get(e, t + 24), alternateGroup: UINT16_BE.get(e, t + 26), volume: UINT16_BE.get(e, t + 28) } } } const stsdHeader = { len: 8, get: (e, t) => ({ version: UINT8.get(e, t), flags: UINT24_BE.get(e, t + 1), numberOfEntries: UINT32_BE.get(e, t + 4) }) }; class SampleDescriptionTable { constructor(e) { this.len = e } get(e, t) { const n = this.len - 12; return { dataFormat: FourCcToken.get(e, t), dataReferenceIndex: UINT16_BE.get(e, t + 10), description: n > 0 ? new Uint8ArrayType(n).get(e, t + 12) : void 0 } } } class StsdAtom { constructor(e) { this.len = e } get(e, t) { const n = stsdHeader.get(e, t); t += stsdHeader.len; const a = []; for (let r = 0; r < n.numberOfEntries; ++r) { const n = UINT32_BE.get(e, t); t += UINT32_BE.len, a.push(new SampleDescriptionTable(n - UINT32_BE.len).get(e, t)), t += n } return { header: n, table: a } } } const SoundSampleDescriptionVersion = { len: 8, get: (e, t) => ({ version: INT16_BE.get(e, t), revision: INT16_BE.get(e, t + 2), vendor: INT32_BE.get(e, t + 4) }) }, SoundSampleDescriptionV0 = { len: 12, get: (e, t) => ({ numAudioChannels: INT16_BE.get(e, t + 0), sampleSize: INT16_BE.get(e, t + 2), compressionId: INT16_BE.get(e, t + 4), packetSize: INT16_BE.get(e, t + 6), sampleRate: UINT16_BE.get(e, t + 8) + UINT16_BE.get(e, t + 10) / 1e4 }) }; class SimpleTableAtom { constructor(e, t) { this.len = e, this.token = t } get(e, t) { const n = INT32_BE.get(e, t + 4); return { version: INT8.get(e, t + 0), flags: INT24_BE.get(e, t + 1), numberOfEntries: n, entries: readTokenTable(e, this.token, t + 8, this.len - 8, n) } } } const TimeToSampleToken = { len: 8, get: (e, t) => ({ count: INT32_BE.get(e, t + 0), duration: INT32_BE.get(e, t + 4) }) }; class SttsAtom extends SimpleTableAtom { constructor(e) { super(e, TimeToSampleToken) } } const SampleToChunkToken = { len: 12, get: (e, t) => ({ firstChunk: INT32_BE.get(e, t), samplesPerChunk: INT32_BE.get(e, t + 4), sampleDescriptionId: INT32_BE.get(e, t + 8) }) }; class StscAtom extends SimpleTableAtom { constructor(e) { super(e, SampleToChunkToken) } } class StszAtom { constructor(e) { this.len = e } get(e, t) { const n = INT32_BE.get(e, t + 8); return { version: INT8.get(e, t), flags: INT24_BE.get(e, t + 1), sampleSize: INT32_BE.get(e, t + 4), numberOfEntries: n, entries: readTokenTable(e, INT32_BE, t + 12, this.len - 12, n) } } } class StcoAtom extends SimpleTableAtom { constructor(e) { super(e, INT32_BE), this.len = e } } class ChapterText { constructor(e) { this.len = e } get(e, t) { const n = INT16_BE.get(e, t + 0); return new StringType(n, "utf-8").get(e, t + 2) } } function readTokenTable(e, t, n, a, r) { if (debug$b(`remainingLen=${a}, numberOfEntries=${r} * token-len=${t.len}`), 0 === a) return []; if (a !== r * t.len) throw new Mp4ContentError("mismatch number-of-entries with remaining atom-length"); const s = []; for (let i = 0; i < r; ++i)s.push(t.get(e, n)), n += t.len; return s } class TrackFragmentHeaderBox { constructor(e) { this.len = e } get(e, t) { const n = t + 1, a = { version: INT8.get(e, t), flags: { baseDataOffsetPresent: getBit(e, n + 2, 0), sampleDescriptionIndexPresent: getBit(e, n + 2, 1), defaultSampleDurationPresent: getBit(e, n + 2, 3), defaultSampleSizePresent: getBit(e, n + 2, 4), defaultSampleFlagsPresent: getBit(e, n + 2, 5), defaultDurationIsEmpty: getBit(e, n, 0), defaultBaseIsMoof: getBit(e, n, 1) }, trackId: UINT32_BE.get(e, 4) }; let r = 8; return a.flags.baseDataOffsetPresent && (a.baseDataOffset = UINT64_BE.get(e, r), r += 8), a.flags.sampleDescriptionIndexPresent && (a.sampleDescriptionIndex = UINT32_BE.get(e, r), r += 4), a.flags.defaultSampleDurationPresent && (a.defaultSampleDuration = UINT32_BE.get(e, r), r += 4), a.flags.defaultSampleSizePresent && (a.defaultSampleSize = UINT32_BE.get(e, r), r += 4), a.flags.defaultSampleFlagsPresent && (a.defaultSampleFlags = UINT32_BE.get(e, r)), a } } class TrackRunBox { constructor(e) { this.len = e } get(e, t) { const n = t + 1, a = { version: INT8.get(e, t), flags: { dataOffsetPresent: getBit(e, n + 2, 0), firstSampleFlagsPresent: getBit(e, n + 2, 2), sampleDurationPresent: getBit(e, n + 1, 0), sampleSizePresent: getBit(e, n + 1, 1), sampleFlagsPresent: getBit(e, n + 1, 2), sampleCompositionTimeOffsetsPresent: getBit(e, n + 1, 3) }, sampleCount: UINT32_BE.get(e, t + 4), samples: [] }; let r = t + 8; a.flags.dataOffsetPresent && (a.dataOffset = UINT32_BE.get(e, r), r += 4), a.flags.firstSampleFlagsPresent && (a.firstSampleFlags = UINT32_BE.get(e, r), r += 4); for (let s = 0; s < a.sampleCount; ++s) { if (r >= this.len) { debug$b("TrackRunBox size mismatch"); break } const t = {}; a.flags.sampleDurationPresent && (t.sampleDuration = UINT32_BE.get(e, r), r += 4), a.flags.sampleSizePresent && (t.sampleSize = UINT32_BE.get(e, r), r += 4), a.flags.sampleFlagsPresent && (t.sampleFlags = UINT32_BE.get(e, r), r += 4), a.flags.sampleCompositionTimeOffsetsPresent && (t.sampleCompositionTimeOffset = UINT32_BE.get(e, r), r += 4), a.samples.push(t) } return a } } class HandlerBox { constructor(e) { this.len = e } get(e, t) { const n = new StringType(4, "utf-8"); return { version: INT8.get(e, t), flags: UINT24_BE.get(e, t + 1), componentType: n.get(e, t + 4), handlerType: n.get(e, t + 8), componentName: new StringType(this.len - 28, "utf-8").get(e, t + 28) } } } class ChapterTrackReferenceBox { constructor(e) { this.len = e } get(e, t) { let n = 0; const a = []; for (; n < this.len;)a.push(UINT32_BE.get(e, t + n)), n += 4; return a } } const debug$a = initDebug("music-metadata:parser:MP4:Atom"); class Atom { static async readAtom(e, t, n, a) { const r = e.position; debug$a(`Reading next token on offset=${r}...`); const s = await e.readToken(Header$3), i = 1n === s.length; i && (s.length = await e.readToken(ExtendedSize)); const o = new Atom(s, i, n), l = o.getPayloadLength(a); return debug$a(`parse atom name=${o.atomPath}, extended=${o.extended}, offset=${r}, len=${o.header.length}`), await o.readData(e, t, l), o } constructor(e, t, n) { this.header = e, this.extended = t, this.parent = n, this.children = [], this.atomPath = (this.parent ? `${this.parent.atomPath}.` : "") + this.header.name } getHeaderLength() { return this.extended ? 16 : 8 } getPayloadLength(e) { return (0n === this.header.length ? e : Number(this.header.length)) - this.getHeaderLength() } async readAtoms(e, t, n) { for (; n > 0;) { const a = await Atom.readAtom(e, t, this, n); this.children.push(a), n -= 0n === a.header.length ? n : Number(a.header.length) } } async readData(e, t, n) { switch (this.header.name) { case "moov": case "udta": case "mdia": case "minf": case "stbl": case "<id>": case "ilst": case "tref": case "moof": return this.readAtoms(e, t, this.getPayloadLength(n)); case "meta": { const a = "hdlr" === (await e.peekToken(Header$3)).name ? 0 : 4; return await e.ignore(a), this.readAtoms(e, t, this.getPayloadLength(n) - a) } default: return t(this, n) } } } const debug$9 = initDebug("music-metadata:parser:MP4"), tagFormat = "iTunes", encoderDict = { raw: { lossy: !1, format: "raw" }, MAC3: { lossy: !0, format: "MACE 3:1" }, MAC6: { lossy: !0, format: "MACE 6:1" }, ima4: { lossy: !0, format: "IMA 4:1" }, ulaw: { lossy: !0, format: "uLaw 2:1" }, alaw: { lossy: !0, format: "uLaw 2:1" }, Qclp: { lossy: !0, format: "QUALCOMM PureVoice" }, ".mp3": { lossy: !0, format: "MPEG-1 layer 3" }, alac: { lossy: !1, format: "ALAC" }, "ac-3": { lossy: !0, format: "AC-3" }, mp4a: { lossy: !0, format: "MPEG-4/AAC" }, mp4s: { lossy: !0, format: "MP4S" }, c608: { lossy: !0, format: "CEA-608" }, c708: { lossy: !0, format: "CEA-708" } }; function distinct(e, t, n) { return n.indexOf(e) === t } class MP4Parser extends BasicParser { constructor() { super(...arguments), this.tracks = new Map, this.hasVideoTrack = !1, this.hasAudioTrack = !0, this.atomParsers = { mvhd: async e => { const t = await this.tokenizer.readToken(new MvhdAtom(e)); this.metadata.setFormat("creationTime", t.creationTime), this.metadata.setFormat("modificationTime", t.modificationTime) }, chap: async e => { const t = this.getTrackDescription(), n = []; for (; e >= UINT32_BE.len;)n.push(await this.tokenizer.readNumber(UINT32_BE)), e -= UINT32_BE.len; t.chapterList = n }, mdat: async e => { if (this.audioLengthInBytes = e, this.calculateBitRate(), this.options.includeChapters) { const t = [...this.tracks.values()].filter(e => e.chapterList); if (1 === t.length) { const n = t[0].chapterList, a = [...this.tracks.values()].filter(e => -1 !== n.indexOf(e.header.trackId)); if (1 === a.length) return this.parseChapterTrack(a[0], t[0], e) } } await this.tokenizer.ignore(e) }, ftyp: async e => { const t = []; for (; e > 0;) { const n = await this.tokenizer.readToken(ftyp); e -= ftyp.len; const a = n.type.replace(/\W/g, ""); a.length > 0 && t.push(a) } debug$9(`ftyp: ${t.join("/")}`); const n = t.filter(distinct).join("/"); this.metadata.setFormat("container", n) }, stsd: async e => { const t = await this.tokenizer.readToken(new StsdAtom(e)); this.getTrackDescription().soundSampleDescription = t.table.map(e => this.parseSoundSampleDescription(e)) }, stsz: async e => { const t = await this.tokenizer.readToken(new StszAtom(e)), n = this.getTrackDescription(); n.sampleSize = t.sampleSize, n.sampleSizeTable = t.entries }, date: async e => { const t = await this.tokenizer.readToken(new StringType(e, "utf-8")); await this.addTag("date", t) } } } static read_BE_Integer(e, t) { const n = (t ? "INT" : "UINT") + 8 * e.length + (e.length > 1 ? "_BE" : ""), a = Token[n]; if (!a) throw new Mp4ContentError(`Token for integer type not found: "${n}"`); return Number(a.get(e, 0)) } async parse() { this.hasVideoTrack = !1, this.hasAudioTrack = !0, this.tracks.clear(); let e = this.tokenizer.fileInfo.size || 0; for (; !this.tokenizer.fileInfo.size || e > 0;) { try { if ("\0\0\0\0" === (await this.tokenizer.peekToken(Header$3)).name) { const e = `Error at offset=${this.tokenizer.position}: box.id=0`; debug$9(e), this.addWarning(e); break } } catch (a) { if (!(a instanceof Error)) throw a; { const e = `Error at offset=${this.tokenizer.position}: ${a.message}`; debug$9(e), this.addWarning(e) } break } const t = await Atom.readAtom(this.tokenizer, (e, t) => this.handleAtom(e, t), null, e); e -= t.header.length === BigInt(0) ? e : Number(t.header.length) } const t = []; this.tracks.forEach(e => { const n = []; e.soundSampleDescription.forEach(e => { const t = {}, a = encoderDict[e.dataFormat]; if (a ? (n.push(a.format), t.codecName = a.format) : t.codecName = `<${e.dataFormat}>`, e.description) { const { description: n } = e; n.sampleRate > 0 && (t.type = TrackType.audio, t.audio = { samplingFrequency: n.sampleRate, bitDepth: n.sampleSize, channels: n.numAudioChannels }) } this.metadata.addStreamInfo(t) }), n.length >= 1 && t.push(n.join("/")) }), t.length > 0 && this.metadata.setFormat("codec", t.filter(distinct).join("+")); const n = [...this.tracks.values()].filter(e => e.soundSampleDescription.length >= 1 && e.soundSampleDescription[0].description && e.soundSampleDescription[0].description.numAudioChannels > 0); if (n.length >= 1) { const e = n[0]; if (e.media.header && e.media.header.timeScale > 0) if (e.media.header.duration > 0) { debug$9("Using duration defined on audio track"); const t = e.media.header.duration / e.media.header.timeScale; this.metadata.setFormat("duration", t) } else if (e.fragments.length > 0) { debug$9("Calculate duration defined in track fragments"); let t = 0; for (const n of e.fragments) { const e = n.header.defaultSampleDuration; for (const a of n.trackRun.samples) { const n = a.sampleDuration ?? e; if (null == n) throw new Error("Missing sampleDuration and no default_sample_duration in tfhd"); t += n } } this.metadata.setFormat("duration", t / e.media.header.timeScale) } const t = e.soundSampleDescription[0]; if (t.description && e.media.header && (this.metadata.setFormat("sampleRate", t.description.sampleRate), this.metadata.setFormat("bitsPerSample", t.description.sampleSize), this.metadata.setFormat("numberOfChannels", t.description.numAudioChannels), 0 === e.media.header.timeScale && e.timeToSampleTable.length > 0)) { const n = e.timeToSampleTable.map(e => e.count * e.duration).reduce((e, t) => e + t) / t.description.sampleRate; this.metadata.setFormat("duration", n) } const a = encoderDict[t.dataFormat]; a && this.metadata.setFormat("lossless", !a.lossy), this.calculateBitRate() } this.metadata.setFormat("hasAudio", this.hasAudioTrack), this.metadata.setFormat("hasVideo", this.hasVideoTrack) } async handleAtom(e, t) { if (e.parent) switch (e.parent.header.name) { case "ilst": case "<id>": return this.parseMetadataItemData(e); case "moov": if ("trak" === e.header.name) return this.parseTrackBox(e); break; case "moof": if ("traf" === e.header.name) return this.parseTrackFragmentBox(e) }if (this.atomParsers[e.header.name]) return this.atomParsers[e.header.name](t); debug$9(`No parser for atom path=${e.atomPath}, payload-len=${t}, ignoring atom`), await this.tokenizer.ignore(t) } getTrackDescription() { const e = [...this.tracks.values()]; return e[e.length - 1] } calculateBitRate() { this.audioLengthInBytes && this.metadata.format.duration && this.metadata.setFormat("bitrate", 8 * this.audioLengthInBytes / this.metadata.format.duration) } async addTag(e, t) { await this.metadata.addTag(tagFormat, e, t) } addWarning(e) { debug$9(`Warning: ${e}`), this.metadata.addWarning(e) } parseMetadataItemData(e) { let t = e.header.name; return e.readAtoms(this.tokenizer, async (e, n) => { const a = e.getPayloadLength(n); switch (e.header.name) { case "data": return this.parseValueAtom(t, e); case "name": case "mean": case "rate": { const e = await this.tokenizer.readToken(new NameAtom(a)); t += `:${e.name}`; break } default: { const n = await this.tokenizer.readToken(new Uint8ArrayType(a)); this.addWarning(`Unsupported meta-item: ${t}[${e.header.name}] => value=${uint8ArrayToHex(n)} ascii=${uint8ArrayToString(n, "ascii")}`) } } }, e.getPayloadLength(0)) } async parseValueAtom(e, t) { const n = await this.tokenizer.readToken(new DataAtom(Number(t.header.length) - Header$3.len)); if (0 !== n.type.set) throw new Mp4ContentError(`Unsupported type-set != 0: ${n.type.set}`); switch (n.type.type) { case 0: switch (e) { case "trkn": case "disk": { const t = UINT8.get(n.value, 3), a = UINT8.get(n.value, 5); await this.addTag(e, `${t}/${a}`); break } case "gnre": { const t = UINT8.get(n.value, 1), a = Genres[t - 1]; await this.addTag(e, a); break } case "rate": { const t = new TextDecoder("ascii").decode(n.value); await this.addTag(e, t); break } default: debug$9(`unknown proprietary value type for: ${t.atomPath}`) }break; case 1: case 18: await this.addTag(e, new TextDecoder("utf-8").decode(n.value)); break; case 13: if (this.options.skipCovers) break; await this.addTag(e, { format: "image/jpeg", data: Uint8Array.from(n.value) }); break; case 14: if (this.options.skipCovers) break; await this.addTag(e, { format: "image/png", data: Uint8Array.from(n.value) }); break; case 21: await this.addTag(e, MP4Parser.read_BE_Integer(n.value, !0)); break; case 22: await this.addTag(e, MP4Parser.read_BE_Integer(n.value, !1)); break; case 65: await this.addTag(e, UINT8.get(n.value, 0)); break; case 66: await this.addTag(e, UINT16_BE.get(n.value, 0)); break; case 67: await this.addTag(e, UINT32_BE.get(n.value, 0)); break; default: this.addWarning(`atom key=${e}, has unknown well-known-type (data-type): ${n.type.type}`) } } async parseTrackBox(e) { const t = { media: {}, fragments: [] }; await e.readAtoms(this.tokenizer, async (e, n) => { const a = e.getPayloadLength(n); switch (e.header.name) { case "chap": { const e = await this.tokenizer.readToken(new ChapterTrackReferenceBox(n)); t.chapterList = e; break } case "tkhd": t.header = await this.tokenizer.readToken(new TrackHeaderAtom(a)); break; case "hdlr": switch (t.handler = await this.tokenizer.readToken(new HandlerBox(a)), t.handler.handlerType) { case "audi": debug$9("Contains audio track"), this.hasAudioTrack = !0; break; case "vide": debug$9("Contains video track"), this.hasVideoTrack = !0 }break; case "mdhd": { const e = await this.tokenizer.readToken(new MdhdAtom(a)); t.media.header = e; break } case "stco": { const e = await this.tokenizer.readToken(new StcoAtom(a)); t.chunkOffsetTable = e.entries; break } case "stsc": { const e = await this.tokenizer.readToken(new StscAtom(a)); t.sampleToChunkTable = e.entries; break } case "stsd": { const e = await this.tokenizer.readToken(new StsdAtom(a)); t.soundSampleDescription = e.table.map(e => this.parseSoundSampleDescription(e)); break } case "stts": { const e = await this.tokenizer.readToken(new SttsAtom(a)); t.timeToSampleTable = e.entries; break } case "stsz": { const e = await this.tokenizer.readToken(new StszAtom(a)); t.sampleSize = e.sampleSize, t.sampleSizeTable = e.entries; break } case "dinf": case "vmhd": case "smhd": debug$9(`Ignoring: ${e.header.name}`), await this.tokenizer.ignore(a); break; default: debug$9(`Unexpected track box: ${e.header.name}`), await this.tokenizer.ignore(a) } }, e.getPayloadLength(0)), this.tracks.set(t.header.trackId, t) } parseTrackFragmentBox(e) { let t; return e.readAtoms(this.tokenizer, async (e, n) => { const a = e.getPayloadLength(n); switch (e.header.name) { case "tfhd": { const a = new TrackFragmentHeaderBox(e.getPayloadLength(n)); t = await this.tokenizer.readToken(a); break } case "tfdt": await this.tokenizer.ignore(a); break; case "trun": { const e = new TrackRunBox(a), n = await this.tokenizer.readToken(e); if (t) { const e = this.tracks.get(t.trackId); e?.fragments.push({ header: t, trackRun: n }) } break } default: debug$9(`Unexpected box: ${e.header.name}`), await this.tokenizer.ignore(a) } }, e.getPayloadLength(0)) } parseSoundSampleDescription(e) { const t = { dataFormat: e.dataFormat, dataReferenceIndex: e.dataReferenceIndex }; let n = 0; if (e.description) { const a = SoundSampleDescriptionVersion.get(e.description, n); n += SoundSampleDescriptionVersion.len, 0 === a.version || 1 === a.version ? t.description = SoundSampleDescriptionV0.get(e.description, n) : debug$9(`Warning: sound-sample-description ${a} not implemented`) } return t } async parseChapterTrack(e, t, n) { if (!e.sampleSize && e.chunkOffsetTable.length !== e.sampleSizeTable.length) throw new Error("Expected equal chunk-offset-table & sample-size-table length."); const a = []; for (let r = 0; r < e.chunkOffsetTable.length && n > 0; ++r) { const s = e.timeToSampleTable.slice(0, r).reduce((e, t) => e + t.duration, 0), i = e.chunkOffsetTable[r] - this.tokenizer.position, o = e.sampleSize > 0 ? e.sampleSize : e.sampleSizeTable[r]; if ((n -= i + o) < 0) throw new Mp4ContentError("Chapter chunk exceeding token length"); await this.tokenizer.ignore(i); const l = await this.tokenizer.readToken(new ChapterText(o)); debug$9(`Chapter ${r + 1}: ${l}`); const m = { title: l, timeScale: e.media.header ? e.media.header.timeScale : 0, start: s, sampleOffset: this.findSampleOffset(t, this.tokenizer.position) }; debug$9(`Chapter title=${m.title}, offset=${m.sampleOffset}/${t.header.duration}`), a.push(m) } this.metadata.setFormat("chapters", a), await this.tokenizer.ignore(n) } findSampleOffset(e, t) { let n = 0; for (; n < e.chunkOffsetTable.length && e.chunkOffsetTable[n] < t;)++n; return this.getChunkDuration(n + 1, e) } getChunkDuration(e, t) { let n = 0, a = t.timeToSampleTable[n].count, r = t.timeToSampleTable[n].duration, s = 1, i = this.getSamplesPerChunk(s, t.sampleToChunkTable), o = 0; for (; s < e;) { const e = Math.min(a, i); o += e * r, a -= e, i -= e, 0 === i ? (++s, i = this.getSamplesPerChunk(s, t.sampleToChunkTable)) : (++n, a = t.timeToSampleTable[n].count, r = t.timeToSampleTable[n].duration) } return o } getSamplesPerChunk(e, t) { for (let n = 0; n < t.length - 1; ++n)if (e >= t[n].firstChunk && e < t[n + 1].firstChunk) return t[n].samplesPerChunk; return t[t.length - 1].samplesPerChunk } } var MP4Parser$1 = Object.freeze({ __proto__: null, MP4Parser: MP4Parser }); const debug$8 = initDebug("music-metadata:parser:musepack:sv8"), PacketKey = new StringType(2, "latin1"), SH_part1 = { len: 5, get: (e, t) => ({ crc: UINT32_LE.get(e, t), streamVersion: UINT8.get(e, t + 4) }) }, SH_part3 = { len: 2, get: (e, t) => ({ sampleFrequency: [44100, 48e3, 37800, 32e3][getBitAllignedNumber$1(e, t, 0, 3)], maxUsedBands: getBitAllignedNumber$1(e, t, 3, 5), channelCount: getBitAllignedNumber$1(e, t + 1, 0, 4) + 1, msUsed: isBitSet$2(e, t + 1, 4), audioBlockFrames: getBitAllignedNumber$1(e, t + 1, 5, 3) }) }; class StreamReader { get tokenizer() { return this._tokenizer } set tokenizer(e) { this._tokenizer = e } constructor(e) { this._tokenizer = e } async readPacketHeader() { const e = await this.tokenizer.readToken(PacketKey), t = await this.readVariableSizeField(); return { key: e, payloadLength: t.value - 2 - t.len } } async readStreamHeader(e) { const t = {}; debug$8(`Reading SH at offset=${this.tokenizer.position}`); const n = await this.tokenizer.readToken(SH_part1); e -= SH_part1.len, Object.assign(t, n), debug$8(`SH.streamVersion = ${n.streamVersion}`); const a = await this.readVariableSizeField(); e -= a.len, t.sampleCount = a.value; const r = await this.readVariableSizeField(); e -= r.len, t.beginningOfSilence = r.value; const s = await this.tokenizer.readToken(SH_part3); return e -= SH_part3.len, Object.assign(t, s), await this.tokenizer.ignore(e), t } async readVariableSizeField(e = 1, t = 0) { let n = await this.tokenizer.readNumber(UINT8); return 128 & n ? (n &= 127, n += t, this.readVariableSizeField(e + 1, n << 7)) : { len: e, value: t + n } } } class MusepackContentError extends (makeUnexpectedFileContentError("Musepack")) { } const debug$7 = initDebug("music-metadata:parser:musepack"); class MpcSv8Parser extends BasicParser { constructor() { super(...arguments), this.audioLength = 0 } async parse() { if ("MPCK" !== await this.tokenizer.readToken(FourCcToken)) throw new MusepackContentError("Invalid Magic number"); return this.metadata.setFormat("container", "Musepack, SV8"), this.parsePacket() } async parsePacket() { const e = new StreamReader(this.tokenizer); for (; ;) { const t = await e.readPacketHeader(); switch (debug$7(`packet-header key=${t.key}, payloadLength=${t.payloadLength}`), t.key) { case "SH": { const n = await e.readStreamHeader(t.payloadLength); this.metadata.setFormat("numberOfSamples", n.sampleCount), this.metadata.setFormat("sampleRate", n.sampleFrequency), this.metadata.setFormat("duration", n.sampleCount / n.sampleFrequency), this.metadata.setFormat("numberOfChannels", n.channelCount); break } case "AP": this.audioLength += t.payloadLength, await this.tokenizer.ignore(t.payloadLength); break; case "RG": case "EI": case "SO": case "ST": case "CT": await this.tokenizer.ignore(t.payloadLength); break; case "SE": return this.metadata.format.duration && this.metadata.setFormat("bitrate", 8 * this.audioLength / this.metadata.format.duration), tryParseApeHeader(this.metadata, this.tokenizer, this.options); default: throw new MusepackContentError(`Unexpected header: ${t.key}`) } } } } class BitReader { constructor(e) { this.pos = 0, this.dword = null, this.tokenizer = e } async read(e) { for (; null === this.dword;)this.dword = await this.tokenizer.readToken(UINT32_LE); let t = this.dword; return this.pos += e, this.pos < 32 ? (t >>>= 32 - this.pos, t & (1 << e) - 1) : (this.pos -= 32, 0 === this.pos ? (this.dword = null, t & (1 << e) - 1) : (this.dword = await this.tokenizer.readToken(UINT32_LE), this.pos && (t <<= this.pos, t |= this.dword >>> 32 - this.pos), t & (1 << e) - 1)) } async ignore(e) { if (this.pos > 0) { const t = 32 - this.pos; this.dword = null, e -= t, this.pos = 0 } const t = e % 32, n = (e - t) / 32; return await this.tokenizer.ignore(4 * n), this.read(t) } } const Header$2 = { len: 24, get: (e, t) => { const n = { signature: new TextDecoder("latin1").decode(e.subarray(t, t + 3)), streamMinorVersion: getBitAllignedNumber$1(e, t + 3, 0, 4), streamMajorVersion: getBitAllignedNumber$1(e, t + 3, 4, 4), frameCount: UINT32_LE.get(e, t + 4), maxLevel: UINT16_LE.get(e, t + 8), sampleFrequency: [44100, 48e3, 37800, 32e3][getBitAllignedNumber$1(e, t + 10, 0, 2)], link: getBitAllignedNumber$1(e, t + 10, 2, 2), profile: getBitAllignedNumber$1(e, t + 10, 4, 4), maxBand: getBitAllignedNumber$1(e, t + 11, 0, 6), intensityStereo: isBitSet$2(e, t + 11, 6), midSideStereo: isBitSet$2(e, t + 11, 7), titlePeak: UINT16_LE.get(e, t + 12), titleGain: UINT16_LE.get(e, t + 14), albumPeak: UINT16_LE.get(e, t + 16), albumGain: UINT16_LE.get(e, t + 18), lastFrameLength: UINT32_LE.get(e, t + 20) >>> 20 & 2047, trueGapless: isBitSet$2(e, t + 23, 0) }; return n.lastFrameLength = n.trueGapless ? UINT32_LE.get(e, 20) >>> 20 & 2047 : 0, n } }, debug$6 = initDebug("music-metadata:parser:musepack"); class MpcSv7Parser extends BasicParser { constructor() { super(...arguments), this.bitreader = null, this.audioLength = 0, this.duration = null } async parse() { const e = await this.tokenizer.readToken(Header$2); if ("MP+" !== e.signature) throw new MusepackContentError("Unexpected magic number"); debug$6(`stream-version=${e.streamMajorVersion}.${e.streamMinorVersion}`), this.metadata.setFormat("container", "Musepack, SV7"), this.metadata.setFormat("sampleRate", e.sampleFrequency); const t = 1152 * (e.frameCount - 1) + e.lastFrameLength; this.metadata.setFormat("numberOfSamples", t), this.duration = t / e.sampleFrequency, this.metadata.setFormat("duration", this.duration), this.bitreader = new BitReader(this.tokenizer), this.metadata.setFormat("numberOfChannels", e.midSideStereo || e.intensityStereo ? 2 : 1); const n = await this.bitreader.read(8); return this.metadata.setFormat("codec", (n / 100).toFixed(2)), await this.skipAudioData(e.frameCount), debug$6(`End of audio stream, switching to APEv2, offset=${this.tokenizer.position}`), tryParseApeHeader(this.metadata, this.tokenizer, this.options) } async skipAudioData(e) { for (; e-- > 0;) { const e = await this.bitreader.read(20); this.audioLength += 20 + e, await this.bitreader.ignore(e) } const t = await this.bitreader.read(11); this.audioLength += t, null !== this.duration && this.metadata.setFormat("bitrate", this.audioLength / this.duration) } } const debug$5 = initDebug("music-metadata:parser:musepack"); class MusepackParser extends AbstractID3Parser { async postId3v2Parse() { let e; switch (await this.tokenizer.peekToken(new StringType(3, "latin1"))) { case "MP+": debug$5("Stream-version 7"), e = new MpcSv7Parser(this.metadata, this.tokenizer, this.options); break; case "MPC": debug$5("Stream-version 8"), e = new MpcSv8Parser(this.metadata, this.tokenizer, this.options); break; default: throw new MusepackContentError("Invalid signature prefix") }return this.metadata.setAudioOnly(), e.parse() } } var MusepackParser$1 = Object.freeze({ __proto__: null, MusepackParser: MusepackParser }); class OpusContentError extends (makeUnexpectedFileContentError("Opus")) { } class IdHeader { constructor(e) { if (e < 19) throw new OpusContentError("ID-header-page 0 should be at least 19 bytes long"); this.len = e } get(e, t) { return { magicSignature: new StringType(8, "ascii").get(e, t + 0), version: UINT8.get(e, t + 8), channelCount: UINT8.get(e, t + 9), preSkip: UINT16_LE.get(e, t + 10), inputSampleRate: UINT32_LE.get(e, t + 12), outputGain: UINT16_LE.get(e, t + 16), channelMapping: UINT8.get(e, t + 18) } } } class OpusStream extends VorbisStream { constructor(e, t, n) { super(e, t), this.idHeader = null, this.lastPos = -1, this.tokenizer = n } parseFirstPage(e, t) { if (this.metadata.setFormat("codec", "Opus"), this.idHeader = new IdHeader(t.length).get(t, 0), "OpusHead" !== this.idHeader.magicSignature) throw new OpusContentError("Illegal ogg/Opus magic-signature"); this.metadata.setFormat("sampleRate", this.idHeader.inputSampleRate), this.metadata.setFormat("numberOfChannels", this.idHeader.channelCount), this.metadata.setAudioOnly() } async parseFullPage(e) { "OpusTags" === new StringType(8, "ascii").get(e, 0) && (await this.parseUserCommentList(e, 8), this.lastPos = this.tokenizer.position - e.length) } calculateDuration() { if (this.lastPageHeader && this.metadata.format.sampleRate && this.lastPageHeader.absoluteGranulePosition >= 0) { const e = this.lastPageHeader.absoluteGranulePosition - this.idHeader.preSkip; if (this.metadata.setFormat("numberOfSamples", e), this.metadata.setFormat("duration", e / 48e3), -1 !== this.lastPos && this.tokenizer.fileInfo.size && this.metadata.format.duration) { const e = this.tokenizer.fileInfo.size - this.lastPos; this.metadata.setFormat("bitrate", 8 * e / this.metadata.format.duration) } } } } const Header$1 = { len: 80, get: (e, t) => ({ speex: new StringType(8, "ascii").get(e, t + 0), version: trimRightNull(new StringType(20, "ascii").get(e, t + 8)), version_id: INT32_LE.get(e, t + 28), header_size: INT32_LE.get(e, t + 32), rate: INT32_LE.get(e, t + 36), mode: INT32_LE.get(e, t + 40), mode_bitstream_version: INT32_LE.get(e, t + 44), nb_channels: INT32_LE.get(e, t + 48), bitrate: INT32_LE.get(e, t + 52), frame_size: INT32_LE.get(e, t + 56), vbr: INT32_LE.get(e, t + 60), frames_per_packet: INT32_LE.get(e, t + 64), extra_headers: INT32_LE.get(e, t + 68), reserved1: INT32_LE.get(e, t + 72), reserved2: INT32_LE.get(e, t + 76) }) }, debug$4 = initDebug("music-metadata:parser:ogg:speex"); class SpeexStream extends VorbisStream { constructor(e, t, n) { super(e, t), this.tokenizer = n } parseFirstPage(e, t) { debug$4("First Ogg/Speex page"); const n = Header$1.get(t, 0); this.metadata.setFormat("codec", `Speex ${n.version}`), this.metadata.setFormat("numberOfChannels", n.nb_channels), this.metadata.setFormat("sampleRate", n.rate), -1 !== n.bitrate && this.metadata.setFormat("bitrate", n.bitrate), this.metadata.setAudioOnly() } } const IdentificationHeader = { len: 42, get: (e, t) => ({ id: new StringType(7, "ascii").get(e, t), vmaj: UINT8.get(e, t + 7), vmin: UINT8.get(e, t + 8), vrev: UINT8.get(e, t + 9), vmbw: UINT16_BE.get(e, t + 10), vmbh: UINT16_BE.get(e, t + 17), nombr: UINT24_BE.get(e, t + 37), nqual: UINT8.get(e, t + 40) }) }, debug$3 = initDebug("music-metadata:parser:ogg:theora"); class TheoraStream { constructor(e, t, n) { this.metadata = e, this.tokenizer = n } async parsePage(e, t) { e.headerType.firstPage && await this.parseFirstPage(e, t) } calculateDuration() { debug$3("duration calculation not implemented") } async parseFirstPage(e, t) { debug$3("First Ogg/Theora page"), this.metadata.setFormat("codec", "Theora"); const n = IdentificationHeader.get(t, 0); this.metadata.setFormat("bitrate", n.nombr), this.metadata.setFormat("hasVideo", !0) } flush() { return Promise.resolve() } } const PageHeader = { len: 27, get: (e, t) => ({ capturePattern: new StringType(4, "latin1").get(e, t), version: UINT8.get(e, t + 4), headerType: { continued: getBit(e, t + 5, 0), firstPage: getBit(e, t + 5, 1), lastPage: getBit(e, t + 5, 2) }, absoluteGranulePosition: Number(UINT64_LE.get(e, t + 6)), streamSerialNumber: UINT32_LE.get(e, t + 14), pageSequenceNo: UINT32_LE.get(e, t + 18), pageChecksum: UINT32_LE.get(e, t + 22), page_segments: UINT8.get(e, t + 26) }) }; class SegmentTable { static sum(e, t, n) { const a = new DataView(e.buffer, 0); let r = 0; for (let s = t; s < t + n; ++s)r += a.getUint8(s); return r } constructor(e) { this.len = e.page_segments } get(e, t) { return { totalPageSize: SegmentTable.sum(e, t, this.len) } } } class OggContentError extends (makeUnexpectedFileContentError("Ogg")) { } const debug$2 = initDebug("music-metadata:parser:ogg"); class OggStream { constructor(e, t, n) { this.pageNumber = 0, this.closed = !1, this.metadata = e, this.streamSerial = t, this.options = n } async parsePage(e, t) { this.pageNumber = t.pageSequenceNo, debug$2("serial=%s page#=%s, Ogg.id=%s", t.streamSerialNumber, t.pageSequenceNo, t.capturePattern); const n = await e.readToken(new SegmentTable(t)); debug$2("totalPageSize=%s", n.totalPageSize); const a = await e.readToken(new Uint8ArrayType(n.totalPageSize)); if (debug$2("firstPage=%s, lastPage=%s, continued=%s", t.headerType.firstPage, t.headerType.lastPage, t.headerType.continued), t.headerType.firstPage) { const n = a.slice(0, 7); switch (n[0]) { case 1: case 128: n[0] = 95 }const r = new TextDecoder("latin1").decode(n); switch (r) { case "_vorbis": debug$2(`Set Ogg stream serial ${t.streamSerialNumber}, codec=Vorbis`), this.pageConsumer = new VorbisStream(this.metadata, this.options); break; case "OpusHea": debug$2("Set page consumer to Ogg/Opus"), this.pageConsumer = new OpusStream(this.metadata, this.options, e); break; case "Speex  ": debug$2("Set page consumer to Ogg/Speex"), this.pageConsumer = new SpeexStream(this.metadata, this.options, e); break; case "fishead": case "_theora": debug$2("Set page consumer to Ogg/Theora"), this.pageConsumer = new TheoraStream(this.metadata, this.options, e); break; default: throw new OggContentError(`Ogg codec not recognized (id=${r})`) } } if (t.headerType.lastPage && (this.closed = !0), !this.pageConsumer) throw new Error("pageConsumer should be initialized"); await this.pageConsumer.parsePage(t, a) } } class OggParser extends BasicParser { constructor() { super(...arguments), this.streams = new Map } async parse() { let e; this.streams = new Map, debug$2("pos=%s, parsePage()", this.tokenizer.position); try { do { if (e = await this.tokenizer.readToken(PageHeader), "OggS" !== e.capturePattern) throw new OggContentError("Invalid Ogg capture pattern"); this.metadata.setFormat("container", "Ogg"); let t = this.streams.get(e.streamSerialNumber); t || (t = new OggStream(this.metadata, e.streamSerialNumber, this.options), this.streams.set(e.streamSerialNumber, t)), await t.parsePage(this.tokenizer, e) } while (![...this.streams.values()].every(e => e.closed)) } catch (err) { if (err instanceof EndOfStreamError) debug$2("Reached end-of-stream"); else { if (!(err instanceof OggContentError)) throw err; this.metadata.addWarning(`Corrupt Ogg content at ${this.tokenizer.position}`) } } for (const t of this.streams.values()) t.closed || (this.metadata.addWarning(`End-of-stream reached before reaching last page in Ogg stream serial=${t.streamSerial}`), await (t.pageConsumer?.flush())), t.pageConsumer?.calculateDuration() } } var OggParser$1 = Object.freeze({ __proto__: null, OggContentError: OggContentError, OggParser: OggParser }); const SampleRates = [6e3, 8e3, 9600, 11025, 12e3, 16e3, 22050, 24e3, 32e3, 44100, 48e3, 64e3, 88200, 96e3, 192e3, -1], BlockHeaderToken = { len: 32, get: (e, t) => { const n = UINT32_LE.get(e, t + 24), a = { BlockID: FourCcToken.get(e, t), blockSize: UINT32_LE.get(e, t + 4), version: UINT16_LE.get(e, t + 8), totalSamples: UINT32_LE.get(e, t + 12), blockIndex: UINT32_LE.get(e, t + 16), blockSamples: UINT32_LE.get(e, t + 20), flags: { bitsPerSample: 8 * (1 + getBitAllignedNumber(n, 0, 2)), isMono: isBitSet(n, 2), isHybrid: isBitSet(n, 3), isJointStereo: isBitSet(n, 4), crossChannel: isBitSet(n, 5), hybridNoiseShaping: isBitSet(n, 6), floatingPoint: isBitSet(n, 7), samplingRate: SampleRates[getBitAllignedNumber(n, 23, 4)], isDSD: isBitSet(n, 31) }, crc: new Uint8ArrayType(4).get(e, t + 28) }; return a.flags.isDSD && (a.totalSamples *= 8), a } }, MetadataIdToken = { len: 1, get: (e, t) => ({ functionId: getBitAllignedNumber(e[t], 0, 6), isOptional: isBitSet(e[t], 5), isOddSize: isBitSet(e[t], 6), largeBlock: isBitSet(e[t], 7) }) }; function isBitSet(e, t) { return 1 === getBitAllignedNumber(e, t, 1) } function getBitAllignedNumber(e, t, n) { return e >>> t & 4294967295 >>> 32 - n } const debug$1 = initDebug("music-metadata:parser:WavPack"); class WavPackContentError extends (makeUnexpectedFileContentError("WavPack")) { } class WavPackParser extends BasicParser { constructor() { super(...arguments), this.audioDataSize = 0 } async parse() { return this.metadata.setAudioOnly(), this.audioDataSize = 0, await this.parseWavPackBlocks(), tryParseApeHeader(this.metadata, this.tokenizer, this.options) } async parseWavPackBlocks() { do { if ("wvpk" !== await this.tokenizer.peekToken(FourCcToken)) break; const e = await this.tokenizer.readToken(BlockHeaderToken); if ("wvpk" !== e.BlockID) throw new WavPackContentError("Invalid WavPack Block-ID"); debug$1(`WavPack header blockIndex=${e.blockIndex}, len=${BlockHeaderToken.len}`), 0 !== e.blockIndex || this.metadata.format.container || (this.metadata.setFormat("container", "WavPack"), this.metadata.setFormat("lossless", !e.flags.isHybrid), this.metadata.setFormat("bitsPerSample", e.flags.bitsPerSample), e.flags.isDSD || (this.metadata.setFormat("sampleRate", e.flags.samplingRate), this.metadata.setFormat("duration", e.totalSamples / e.flags.samplingRate)), this.metadata.setFormat("numberOfChannels", e.flags.isMono ? 1 : 2), this.metadata.setFormat("numberOfSamples", e.totalSamples), this.metadata.setFormat("codec", e.flags.isDSD ? "DSD" : "PCM")); const t = e.blockSize - (BlockHeaderToken.len - 8); await (0 === e.blockIndex ? this.parseMetadataSubBlock(e, t) : this.tokenizer.ignore(t)), e.blockSamples > 0 && (this.audioDataSize += e.blockSize) } while (!this.tokenizer.fileInfo.size || this.tokenizer.fileInfo.size - this.tokenizer.position >= BlockHeaderToken.len); this.metadata.format.duration && this.metadata.setFormat("bitrate", 8 * this.audioDataSize / this.metadata.format.duration) } async parseMetadataSubBlock(e, t) { let n = t; for (; n > MetadataIdToken.len;) { const t = await this.tokenizer.readToken(MetadataIdToken), a = await this.tokenizer.readNumber(t.largeBlock ? UINT24_LE : UINT8), r = new Uint8Array(2 * a - (t.isOddSize ? 1 : 0)); switch (await this.tokenizer.readBuffer(r), debug$1(`Metadata Sub-Blocks functionId=0x${t.functionId.toString(16)}, id.largeBlock=${t.largeBlock},data-size=${r.length}`), t.functionId) { case 0: break; case 14: { debug$1("ID_DSD_BLOCK"); const t = 1 << UINT8.get(r, 0), n = e.flags.samplingRate * t * 8; if (!e.flags.isDSD) throw new WavPackContentError("Only expect DSD block if DSD-flag is set"); this.metadata.setFormat("sampleRate", n), this.metadata.setFormat("duration", e.totalSamples / n); break } case 36: debug$1("ID_ALT_TRAILER: trailer for non-wav files"); break; case 38: this.metadata.setFormat("audioMD5", r); break; case 47: debug$1(`ID_BLOCK_CHECKSUM: checksum=${uint8ArrayToHex(r)}`); break; default: debug$1(`Ignore unsupported meta-sub-block-id functionId=0x${t.functionId.toString(16)}`) }n -= MetadataIdToken.len + (t.largeBlock ? UINT24_LE.len : UINT8.len) + 2 * a, debug$1(`remainingLength=${n}`), t.isOddSize && this.tokenizer.ignore(1) } if (0 !== n) throw new WavPackContentError("metadata-sub-block should fit it remaining length") } } var WavPackParser$1 = Object.freeze({ __proto__: null, WavPackContentError: WavPackContentError, WavPackParser: WavPackParser }); const Header = { len: 8, get: (e, t) => ({ chunkID: new StringType(4, "latin1").get(e, t), chunkSize: UINT32_LE.get(e, t + 4) }) }; class ListInfoTagValue { constructor(e) { this.tagHeader = e, this.len = e.chunkSize, this.len += 1 & this.len } get(e, t) { return new StringType(this.tagHeader.chunkSize, "ascii").get(e, t) } } class WaveContentError extends (makeUnexpectedFileContentError("Wave")) { } const WaveFormat = { PCM: 1, ADPCM: 2, IEEE_FLOAT: 3, MPEG_ADTS_AAC: 5632, MPEG_LOAS: 5634, RAW_AAC1: 255, DOLBY_AC3_SPDIF: 146, DVM: 8192, RAW_SPORT: 576, ESST_AC3: 577, DRM: 9, DTS2: 8193, MPEG: 80 }, WaveFormatNameMap = { [WaveFormat.PCM]: "PCM", [WaveFormat.ADPCM]: "ADPCM", [WaveFormat.IEEE_FLOAT]: "IEEE_FLOAT", [WaveFormat.MPEG_ADTS_AAC]: "MPEG_ADTS_AAC", [WaveFormat.MPEG_LOAS]: "MPEG_LOAS", [WaveFormat.RAW_AAC1]: "RAW_AAC1", [WaveFormat.DOLBY_AC3_SPDIF]: "DOLBY_AC3_SPDIF", [WaveFormat.DVM]: "DVM", [WaveFormat.RAW_SPORT]: "RAW_SPORT", [WaveFormat.ESST_AC3]: "ESST_AC3", [WaveFormat.DRM]: "DRM", [WaveFormat.DTS2]: "DTS2", [WaveFormat.MPEG]: "MPEG" }; class Format { constructor(e) { if (e.chunkSize < 16) throw new WaveContentError("Invalid chunk size"); this.len = e.chunkSize } get(e, t) { return { wFormatTag: UINT16_LE.get(e, t), nChannels: UINT16_LE.get(e, t + 2), nSamplesPerSec: UINT32_LE.get(e, t + 4), nAvgBytesPerSec: UINT32_LE.get(e, t + 8), nBlockAlign: UINT16_LE.get(e, t + 12), wBitsPerSample: UINT16_LE.get(e, t + 14) } } } class FactChunk { constructor(e) { if (e.chunkSize < 4) throw new WaveContentError("Invalid fact chunk size."); this.len = e.chunkSize } get(e, t) { return { dwSampleLength: UINT32_LE.get(e, t) } } } const BroadcastAudioExtensionChunk = { len: 420, get: (e, t) => ({ description: stripNulls(new StringType(256, "ascii").get(e, t)).trim(), originator: stripNulls(new StringType(32, "ascii").get(e, t + 256)).trim(), originatorReference: stripNulls(new StringType(32, "ascii").get(e, t + 288)).trim(), originationDate: stripNulls(new StringType(10, "ascii").get(e, t + 320)).trim(), originationTime: stripNulls(new StringType(8, "ascii").get(e, t + 330)).trim(), timeReferenceLow: UINT32_LE.get(e, t + 338), timeReferenceHigh: UINT32_LE.get(e, t + 342), version: UINT16_LE.get(e, t + 346), umid: new Uint8ArrayType(64).get(e, t + 348), loudnessValue: UINT16_LE.get(e, t + 412), maxTruePeakLevel: UINT16_LE.get(e, t + 414), maxMomentaryLoudness: UINT16_LE.get(e, t + 416), maxShortTermLoudness: UINT16_LE.get(e, t + 418) }) }, debug = initDebug("music-metadata:parser:RIFF"); class WaveParser extends BasicParser { constructor() { super(...arguments), this.blockAlign = 0 } async parse() { const e = await this.tokenizer.readToken(Header); if (debug(`pos=${this.tokenizer.position}, parse: chunkID=${e.chunkID}`), "RIFF" === e.chunkID) return this.metadata.setAudioOnly(), this.parseRiffChunk(e.chunkSize).catch(e => { if (!(e instanceof EndOfStreamError)) throw e }) } async parseRiffChunk(e) { const t = await this.tokenizer.readToken(FourCcToken); if (this.metadata.setFormat("container", t), "WAVE" === t) return this.readWaveChunk(e - FourCcToken.len); throw new WaveContentError(`Unsupported RIFF format: RIFF/${t}`) } async readWaveChunk(e) { for (; e >= Header.len;) { const t = await this.tokenizer.readToken(Header); switch (e -= Header.len + t.chunkSize, t.chunkSize > e && this.metadata.addWarning("Data chunk size exceeds file size"), this.header = t, debug(`pos=${this.tokenizer.position}, readChunk: chunkID=RIFF/WAVE/${t.chunkID}`), t.chunkID) { case "LIST": await this.parseListTag(t); break; case "fact": this.metadata.setFormat("lossless", !1), this.fact = await this.tokenizer.readToken(new FactChunk(t)); break; case "fmt ": { const e = await this.tokenizer.readToken(new Format(t)); let n = WaveFormatNameMap[e.wFormatTag]; n || (debug(`WAVE/non-PCM format=${e.wFormatTag}`), n = `non-PCM (${e.wFormatTag})`), this.metadata.setFormat("codec", n), this.metadata.setFormat("bitsPerSample", e.wBitsPerSample), this.metadata.setFormat("sampleRate", e.nSamplesPerSec), this.metadata.setFormat("numberOfChannels", e.nChannels), this.metadata.setFormat("bitrate", e.nBlockAlign * e.nSamplesPerSec * 8), this.blockAlign = e.nBlockAlign; break } case "id3 ": case "ID3 ": { const e = fromBuffer(await this.tokenizer.readToken(new Uint8ArrayType(t.chunkSize))); await (new ID3v2Parser).parse(this.metadata, e, this.options); break } case "data": { !1 !== this.metadata.format.lossless && this.metadata.setFormat("lossless", !0); let e = t.chunkSize; if (this.tokenizer.fileInfo.size) { const t = this.tokenizer.fileInfo.size - this.tokenizer.position; t < e && (this.metadata.addWarning("data chunk length exceeding file length"), e = t) } const n = this.fact ? this.fact.dwSampleLength : 4294967295 === e ? void 0 : e / this.blockAlign; n && (this.metadata.setFormat("numberOfSamples", n), this.metadata.format.sampleRate && this.metadata.setFormat("duration", n / this.metadata.format.sampleRate)), "ADPCM" === this.metadata.format.codec ? this.metadata.setFormat("bitrate", 352e3) : this.metadata.format.sampleRate && this.metadata.setFormat("bitrate", this.blockAlign * this.metadata.format.sampleRate * 8), await this.tokenizer.ignore(t.chunkSize); break } case "bext": { const e = await this.tokenizer.readToken(BroadcastAudioExtensionChunk); Object.keys(e).forEach(t => { this.metadata.addTag("exif", `bext.${t}`, e[t]) }); const n = t.chunkSize - BroadcastAudioExtensionChunk.len; await this.tokenizer.ignore(n); break } case "\0\0\0\0": debug(`Ignore padding chunk: RIFF/${t.chunkID} of ${t.chunkSize} bytes`), this.metadata.addWarning(`Ignore chunk: RIFF/${t.chunkID}`), await this.tokenizer.ignore(t.chunkSize); break; default: debug(`Ignore chunk: RIFF/${t.chunkID} of ${t.chunkSize} bytes`), this.metadata.addWarning(`Ignore chunk: RIFF/${t.chunkID}`), await this.tokenizer.ignore(t.chunkSize) }this.header.chunkSize % 2 == 1 && (debug("Read odd padding byte"), await this.tokenizer.ignore(1)) } } async parseListTag(e) { const t = await this.tokenizer.readToken(new StringType(4, "latin1")); return debug("pos=%s, parseListTag: chunkID=RIFF/WAVE/LIST/%s", this.tokenizer.position, t), "INFO" === t ? this.parseRiffInfoTags(e.chunkSize - 4) : (this.metadata.addWarning(`Ignore chunk: RIFF/WAVE/LIST/${t}`), debug(`Ignoring chunkID=RIFF/WAVE/LIST/${t}`), this.tokenizer.ignore(e.chunkSize - 4).then()) } async parseRiffInfoTags(e) { for (; e >= 8;) { const t = await this.tokenizer.readToken(Header), n = new ListInfoTagValue(t), a = await this.tokenizer.readToken(n); this.addTag(t.chunkID, stripNulls(a)), e -= 8 + n.len } if (0 !== e) throw new WaveContentError(`Illegal remaining size: ${e}`) } addTag(e, t) { this.metadata.addTag("exif", e, t) } } var WaveParser$1 = Object.freeze({ __proto__: null, WaveParser: WaveParser }); export { WebampWithButterchurn as default };
//# sourceMappingURL=webamp.butterchurn-bundle.min.mjs.map
